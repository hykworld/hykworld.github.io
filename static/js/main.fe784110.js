/*! For license information please see main.fe784110.js.LICENSE.txt */
(()=>{var e={9685:(e,t,n)=>{const r=n(6317),i={};for(const s of Object.keys(r))i[r[s]]=s;const o={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=o;for(const s of Object.keys(o)){if(!("channels"in o[s]))throw new Error("missing channels property: "+s);if(!("labels"in o[s]))throw new Error("missing channel labels property: "+s);if(o[s].labels.length!==o[s].channels)throw new Error("channel and label counts mismatch: "+s);const{channels:e,labels:t}=o[s];delete o[s].channels,delete o[s].labels,Object.defineProperty(o[s],"channels",{value:e}),Object.defineProperty(o[s],"labels",{value:t})}o.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=o-i;let a,l;o===i?a=0:t===o?a=(n-r)/s:n===o?a=2+(r-t)/s:r===o&&(a=4+(t-n)/s),a=Math.min(60*a,360),a<0&&(a+=360);const c=(i+o)/2;return l=o===i?0:c<=.5?s/(o+i):s/(2-o-i),[a,100*l,100*c]},o.rgb.hsv=function(e){let t,n,r,i,o;const s=e[0]/255,a=e[1]/255,l=e[2]/255,c=Math.max(s,a,l),u=c-Math.min(s,a,l),d=function(e){return(c-e)/6/u+.5};return 0===u?(i=0,o=0):(o=u/c,t=d(s),n=d(a),r=d(l),s===c?i=r-n:a===c?i=1/3+t-r:l===c&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*c]},o.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const i=o.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[i,100*s,100*r]},o.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(1-t,1-n,1-r);return[100*((1-t-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*i]},o.rgb.keyword=function(e){const t=i[e];if(t)return t;let n,o=1/0;for(const i of Object.keys(r)){const t=r[i],l=(a=t,((s=e)[0]-a[0])**2+(s[1]-a[1])**2+(s[2]-a[2])**2);l<o&&(o=l,n=i)}var s,a;return n},o.keyword.rgb=function(e){return r[e]},o.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;return[100*(.4124*t+.3576*n+.1805*r),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},o.rgb.lab=function(e){const t=o.rgb.xyz(e);let n=t[0],r=t[1],i=t[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*r-16,500*(n-r),200*(r-i)]},o.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let i,o,s;if(0===n)return s=255*r,[s,s,s];i=r<.5?r*(1+n):r+n-r*n;const a=2*r-i,l=[0,0,0];for(let c=0;c<3;c++)o=t+1/3*-(c-1),o<0&&o++,o>1&&o--,s=6*o<1?a+6*(i-a)*o:2*o<1?i:3*o<2?a+(i-a)*(2/3-o)*6:a,l[c]=255*s;return l},o.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,i=n;const o=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=o<=1?o:2-o;return[t,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},o.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const i=Math.floor(t)%6,o=t-Math.floor(t),s=255*r*(1-n),a=255*r*(1-n*o),l=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,l,s];case 1:return[a,r,s];case 2:return[s,r,l];case 3:return[s,a,r];case 4:return[l,s,r];case 5:return[r,s,a]}},o.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,i=Math.max(r,.01);let o,s;s=(2-n)*r;const a=(2-n)*i;return o=n*i,o/=a<=1?a:2-a,o=o||0,s/=2,[t,100*o,100*s]},o.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const i=n+r;let o;i>1&&(n/=i,r/=i);const s=Math.floor(6*t),a=1-r;o=6*t-s,0!==(1&s)&&(o=1-o);const l=n+o*(a-n);let c,u,d;switch(s){default:case 6:case 0:c=a,u=l,d=n;break;case 1:c=l,u=a,d=n;break;case 2:c=n,u=a,d=l;break;case 3:c=n,u=l,d=a;break;case 4:c=l,u=n,d=a;break;case 5:c=a,u=n,d=l}return[255*c,255*u,255*d]},o.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},o.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let i,o,s;return i=3.2406*t+-1.5372*n+-.4986*r,o=-.9689*t+1.8758*n+.0415*r,s=.0557*t+-.204*n+1.057*r,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[255*i,255*o,255*s]},o.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*n-16,500*(t-n),200*(n-r)]},o.lab.xyz=function(e){let t,n,r;n=(e[0]+16)/116,t=e[1]/500+n,r=n-e[2]/200;const i=n**3,o=t**3,s=r**3;return n=i>.008856?i:(n-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,t*=95.047,n*=100,r*=108.883,[t,n,r]},o.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let i;i=360*Math.atan2(r,n)/2/Math.PI,i<0&&(i+=360);return[t,Math.sqrt(n*n+r*r),i]},o.lch.lab=function(e){const t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},o.rgb.ansi16=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[n,r,i]=e;let s=null===t?o.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),0===s)return 30;let a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===s&&(a+=60),a},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];if(t===n&&n===r)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},o.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},o.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},o.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map((e=>e+e)).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},o.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(Math.max(t,n),r),o=Math.min(Math.min(t,n),r),s=i-o;let a,l;return a=s<1?o/(1-s):0,l=s<=0?0:i===t?(n-r)/s%6:i===n?2+(r-t)/s:4+(t-n)/s,l/=6,l%=1,[360*l,100*s,100*a]},o.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},o.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},o.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];const i=[0,0,0],o=t%1*6,s=o%1,a=1-s;let l=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-n)*r,[255*(n*i[0]+l),255*(n*i[1]+l),255*(n*i[2]+l)]},o.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},o.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},o.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},o.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,r=n-t;let i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=function(e){return[0,0,e[0]]},o.gray.hsv=o.gray.hsl,o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},568:(e,t,n)=>{const r=n(9685),i=n(7081),o={};Object.keys(r).forEach((e=>{o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});const t=i(e);Object.keys(t).forEach((n=>{const r=t[n];o[e][n]=function(e){const t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=n[0];if(void 0===i||null===i)return i;i.length>1&&(n=i);const o=e(n);if("object"===typeof o)for(let e=o.length,s=0;s<e;s++)o[s]=Math.round(o[s]);return o};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){const t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=n[0];return void 0===i||null===i?i:(i.length>1&&(n=i),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=o},7081:(e,t,n)=>{const r=n(9685);function i(e){const t=function(){const e={},t=Object.keys(r);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){const e=n.pop(),i=Object.keys(r[e]);for(let r=i.length,o=0;o<r;o++){const r=i[o],s=t[r];-1===s.distance&&(s.distance=t[e].distance+1,s.parent=e,n.unshift(r))}}return t}function o(e,t){return function(n){return t(e(n))}}function s(e,t){const n=[t[e].parent,e];let i=r[t[e].parent][e],s=t[e].parent;for(;t[s].parent;)n.unshift(t[s].parent),i=o(r[t[s].parent][s],i),s=t[s].parent;return i.conversion=n,i}e.exports=function(e){const t=i(e),n={},r=Object.keys(t);for(let i=r.length,o=0;o<i;o++){const e=r[o];null!==t[e].parent&&(n[e]=s(e,t))}return n}},6317:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},3803:(e,t,n)=>{"use strict";n.d(t,{A:()=>ie});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function f(e){return e.length}function p(e,t){return t.push(e),e}var m=1,g=1,v=0,b=0,y=0,w="";function x(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:m,column:g,length:s,return:""}}function _(e,t){return s(x("",null,null,"",null,null,0),e,{length:-e.length},t)}function C(){return y=b>0?u(w,--b):0,g--,10===y&&(g=1,m--),y}function k(){return y=b<v?u(w,b++):0,g++,10===y&&(g=1,m++),y}function S(){return u(w,b)}function A(){return b}function T(e,t){return d(w,e,t)}function I(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function M(e){return m=g=1,v=h(w=e),b=0,[]}function E(e){return w="",e}function P(e){return a(T(b-1,O(91===e?e+2:40===e?e+1:e)))}function D(e){for(;(y=S())&&y<33;)k();return I(e)>2||I(y)>3?"":" "}function j(e,t){for(;--t&&k()&&!(y<48||y>102||y>57&&y<65||y>70&&y<97););return T(e,A()+(t<6&&32==S()&&32==k()))}function O(e){for(;k();)switch(y){case e:return b;case 34:case 39:34!==e&&39!==e&&O(y);break;case 40:41===e&&O(e);break;case 92:k()}return b}function R(e,t){for(;k()&&e+y!==57&&(e+y!==84||47!==S()););return"/*"+T(t,b-1)+"*"+o(47===e?e:k())}function L(e){for(;!I(S());)k();return T(e,b)}var N="-ms-",B="-moz-",F="-webkit-",z="comm",V="rule",W="decl",H="@keyframes";function U(e,t){for(var n="",r=f(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function $(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case W:return e.return=e.return||e.value;case z:return"";case H:return e.return=e.value+"{"+U(e.children,r)+"}";case V:e.value=e.props.join(",")}return h(n=U(e.children,r))?e.return=e.value+"{"+n+"}":""}function Y(e){return E(G("",null,null,null,[""],e=M(e),0,[0],e))}function G(e,t,n,r,i,s,a,d,f){for(var m=0,g=0,v=a,b=0,y=0,w=0,x=1,_=1,T=1,I=0,M="",E=i,O=s,N=r,B=M;_;)switch(w=I,I=k()){case 40:if(108!=w&&58==u(B,v-1)){-1!=c(B+=l(P(I),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:B+=P(I);break;case 9:case 10:case 13:case 32:B+=D(w);break;case 92:B+=j(A()-1,7);continue;case 47:switch(S()){case 42:case 47:p(X(R(k(),A()),t,n),f);break;default:B+="/"}break;case 123*x:d[m++]=h(B)*T;case 125*x:case 59:case 0:switch(I){case 0:case 125:_=0;case 59+g:-1==T&&(B=l(B,/\f/g,"")),y>0&&h(B)-v&&p(y>32?Z(B+";",r,n,v-1):Z(l(B," ","")+";",r,n,v-2),f);break;case 59:B+=";";default:if(p(N=q(B,t,n,m,g,i,d,M,E=[],O=[],v),s),123===I)if(0===g)G(B,t,N,N,E,s,v,d,O);else switch(99===b&&110===u(B,3)?100:b){case 100:case 108:case 109:case 115:G(e,N,N,r&&p(q(e,N,N,0,0,i,d,M,i,E=[],v),O),i,O,v,d,r?E:O);break;default:G(B,N,N,N,[""],O,0,d,O)}}m=g=y=0,x=T=1,M=B="",v=a;break;case 58:v=1+h(B),y=w;default:if(x<1)if(123==I)--x;else if(125==I&&0==x++&&125==C())continue;switch(B+=o(I),I*x){case 38:T=g>0?1:(B+="\f",-1);break;case 44:d[m++]=(h(B)-1)*T,T=1;break;case 64:45===S()&&(B+=P(k())),b=S(),g=v=h(M=B+=L(A())),I++;break;case 45:45===w&&2==h(B)&&(x=0)}}return s}function q(e,t,n,r,o,s,c,u,h,p,m){for(var g=o-1,v=0===o?s:[""],b=f(v),y=0,w=0,_=0;y<r;++y)for(var C=0,k=d(e,g+1,g=i(w=c[y])),S=e;C<b;++C)(S=a(w>0?v[C]+" "+k:l(k,/&\f/g,v[C])))&&(h[_++]=S);return x(e,t,n,0===o?V:u,h,p,m)}function X(e,t,n){return x(e,t,n,z,o(y),d(e,2,-2),0)}function Z(e,t,n,r){return x(e,t,n,W,d(e,0,r),d(e,r+1,-1),r)}var K=function(e,t,n){for(var r=0,i=0;r=i,i=S(),38===r&&12===i&&(t[n]=1),!I(i);)k();return T(e,b)},Q=function(e,t){return E(function(e,t){var n=-1,r=44;do{switch(I(r)){case 0:38===r&&12===S()&&(t[n]=1),e[n]+=K(b-1,t,n);break;case 2:e[n]+=P(r);break;case 4:if(44===r){e[++n]=58===S()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=k());return e}(M(e),t))},J=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var i=[],o=Q(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return F+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return F+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return F+e+B+e+N+e+e;case 6828:case 4268:return F+e+N+e+e;case 6165:return F+e+N+"flex-"+e+e;case 5187:return F+e+l(e,/(\w+).+(:[^]+)/,F+"box-$1$2"+N+"flex-$1$2")+e;case 5443:return F+e+N+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return F+e+N+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return F+e+N+l(e,"shrink","negative")+e;case 5292:return F+e+N+l(e,"basis","preferred-size")+e;case 6060:return F+"box-"+l(e,"-grow","")+F+e+N+l(e,"grow","positive")+e;case 4554:return F+l(e,/([^-])(transform)/g,"$1"+F+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,F+"$1"),/(image-set)/,F+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,F+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,F+"box-pack:$3"+N+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+F+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,F+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+F+"$2-$3$1"+B+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+F)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+F+(45===u(e,14)?"inline-":"")+"box$3$1"+F+"$2$3$1"+N+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return F+e+N+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return F+e+N+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return F+e+N+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return F+e+N+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case W:e.return=ne(e.value,e.length);break;case H:return U([_(e,{value:l(e.value,"@","@"+F)})],r);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return U([_(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return U([_(e,{props:[l(t,/:(plac\w+)/,":"+F+"input-$1")]}),_(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),_(e,{props:[l(t,/:(plac\w+)/,N+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i,o,s=e.stylisPlugins||re,a={},l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var c,u,d=[$,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=f(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([ee,te].concat(s,d));o=function(e,t,n,r){c=n,U(Y(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return p.sheet.hydrate(l),p}},918:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},4575:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,E:()=>g,T:()=>d,c:()=>p,h:()=>h,w:()=>u});var r=n(5043),i=n(3803),o=n(1722),s=n(6598),a=n(9436),l=r.createContext("undefined"!==typeof HTMLElement?(0,i.A)({key:"css"}):null),c=l.Provider,u=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(l);return e(t,i,n)}))},d=r.createContext({});var h={}.hasOwnProperty,f="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",p=function(e,t){var n={};for(var r in t)h.call(t,r)&&(n[r]=t[r]);return n[f]=e,n},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,o.SF)(t,n,r),(0,a.s)((function(){return(0,o.sk)(t,n,r)})),null},g=u((function(e,t,n){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var a=e[f],l=[i],c="";"string"===typeof e.className?c=(0,o.Rk)(t.registered,l,e.className):null!=e.className&&(c=e.className+" ");var u=(0,s.J)(l,void 0,r.useContext(d));c+=t.key+"-"+u.name;var p={};for(var g in e)h.call(e,g)&&"css"!==g&&g!==f&&(p[g]=e[g]);return p.className=c,n&&(p.ref=n),r.createElement(r.Fragment,null,r.createElement(m,{cache:t,serialized:u,isStringTag:"string"===typeof a}),r.createElement(a,p))}))},3290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>c,i7:()=>u,mL:()=>l});var r=n(4575),i=n(5043),o=n(1722),s=n(9436),a=n(6598),l=(n(3803),n(219),(0,r.w)((function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,i.useContext(r.T)),c=i.useRef();return(0,s.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),c.current=[n,r],function(){n.flush()}}),[t]),(0,s.i)((function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,o.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null})));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}var u=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},6598:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(918),o=!1,s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},u=(0,i.A)((function(e){return l(e)?e:e.replace(s,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,(function(e,t,n){return p={name:t,styles:n,next:p},t}))}return 1===r[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},h="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function f(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return p={name:i.name,styles:i.styles,next:p},i.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)p={name:a.name,styles:a.styles,next:p},a=a.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=f(e,t,n[i])+";";else for(var s in n){var a=n[s];if("object"!==typeof a){var l=a;null!=t&&void 0!==t[l]?r+=s+"{"+t[l]+"}":c(l)&&(r+=u(s)+":"+d(s,l)+";")}else{if("NO_COMPONENT_SELECTOR"===s&&o)throw new Error(h);if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var p=f(e,t,a);switch(s){case"animation":case"animationName":r+=u(s)+":"+p+";";break;default:r+=s+"{"+p+"}"}}else for(var m=0;m<a.length;m++)c(a[m])&&(r+=u(s)+":"+d(s,a[m])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var l=p,m=n(e);return p=l,f(e,t,m)}}var g=n;if(null==t)return g;var v=t[g];return void 0!==v?v:g}var p,m=/label:\s*([^\s;\n{]+)\s*(;|$)/g;function g(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";p=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=f(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++){if(i+=f(n,t,e[s]),r)i+=o[s]}m.lastIndex=0;for(var a,l="";null!==(a=m.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:p}}},9436:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>s});var i=n(5043),o=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,s=o||function(e){return e()},a=o||i.useLayoutEffect},1722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>i,sk:()=>o});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},o=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}},9089:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle")},2505:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},6405:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1 9h-4v4h-2v-4H9V9h4V5h2v4h4z"}),"AddToPhotos")},9120:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},8855:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos")},6502:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward")},2497:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos")},8952:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForwardOutlined")},6274:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"m19 1-5 5v11l5-4.5zM1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6m22 13.5V6c-.6-.45-1.25-.75-2-1v13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5v2c1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5z"}),"AutoStories")},3690:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3m13.71-9.37-1.34-1.34a.9959.9959 0 0 0-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41"}),"Brush")},6940:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)([(0,o.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,o.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"CameraAlt")},3344:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M1 18v3h3c0-1.66-1.34-3-3-3m0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7m0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11m10 1.09v2L14.5 15l3.5-1.91v-2L14.5 13zM14.5 6 9 9l5.5 3L20 9z"}),"CastForEducation")},8006:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"m2 22 14-5-9-9zm12.53-9.47 5.59-5.59c.49-.49 1.28-.49 1.77 0l.59.59 1.06-1.06-.59-.59c-1.07-1.07-2.82-1.07-3.89 0l-5.59 5.59zm-4.47-5.65-.59.59 1.06 1.06.59-.59c1.07-1.07 1.07-2.82 0-3.89l-.59-.59-1.06 1.07.59.59c.48.48.48 1.28 0 1.76m7 5-1.59 1.59 1.06 1.06 1.59-1.59c.49-.49 1.28-.49 1.77 0l1.61 1.61 1.06-1.06-1.61-1.61c-1.08-1.07-2.82-1.07-3.89 0m-2-6-3.59 3.59 1.06 1.06 3.59-3.59c1.07-1.07 1.07-2.82 0-3.89l-1.59-1.59-1.06 1.06 1.59 1.59c.48.49.48 1.29 0 1.77"}),"Celebration")},4217:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat")},5504:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircleSharp")},4802:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},6369:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8m-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12m3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8m5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8m3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"ColorLens")},9942:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM17 14H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1m0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1m0-3H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1"}),"CommentRounded")},9442:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M17 15h2V7c0-1.1-.9-2-2-2H9v2h8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2z"}),"Crop")},3471:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},7884:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever")},4822:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)([(0,o.jsx)("circle",{cx:"4",cy:"14",r:"2"},"0"),(0,o.jsx)("path",{d:"M1.22 17.58C.48 17.9 0 18.62 0 19.43V21h4.5v-1.61c0-.83.23-1.61.63-2.29-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58"},"1"),(0,o.jsx)("circle",{cx:"20",cy:"14",r:"2"},"2"),(0,o.jsx)("path",{d:"M22.78 17.58c-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V21H24v-1.57c0-.81-.48-1.53-1.22-1.85m-6.54-.93c-1.17-.52-2.61-.9-4.24-.9-1.63 0-3.07.39-4.24.9C6.68 17.13 6 18.21 6 19.39V21h12v-1.61c0-1.18-.68-2.26-1.76-2.74M9 12c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3"},"3"),(0,o.jsx)("path",{d:"M2.48 10.86C2.17 10.1 2 9.36 2 8.6 2 6.02 4.02 4 6.6 4c2.68 0 3.82 1.74 5.4 3.59C13.57 5.76 14.7 4 17.4 4 19.98 4 22 6.02 22 8.6c0 .76-.17 1.5-.48 2.26.65.31 1.18.82 1.53 1.44.6-1.2.95-2.42.95-3.7C24 4.9 21.1 2 17.4 2c-2.09 0-4.09.97-5.4 2.51C10.69 2.97 8.69 2 6.6 2 2.9 2 0 4.9 0 8.6c0 1.28.35 2.5.96 3.7.35-.62.88-1.13 1.52-1.44"},"4")],"Diversity1")},1116:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)([(0,o.jsx)("path",{d:"M6.32 13.01c.96.02 1.85.5 2.45 1.34C9.5 15.38 10.71 16 12 16s2.5-.62 3.23-1.66c.6-.84 1.49-1.32 2.45-1.34-.72-1.22-3.6-2-5.68-2-2.07 0-4.96.78-5.68 2.01M4 13c1.66 0 3-1.34 3-3S5.66 7 4 7s-3 1.34-3 3 1.34 3 3 3m16 0c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3m-8-3c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3"},"0"),(0,o.jsx)("path",{d:"M21 14h-3.27c-.77 0-1.35.45-1.68.92-.04.06-1.36 2.08-4.05 2.08-1.43 0-3.03-.64-4.05-2.08-.39-.55-1-.92-1.68-.92H3c-1.1 0-2 .9-2 2v4h7v-2.26c1.15.8 2.54 1.26 4 1.26s2.85-.46 4-1.26V20h7v-4c0-1.1-.9-2-2-2"},"1")],"Diversity3")},5540:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},9286:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M8.5 8c.83 0 1.5.67 1.5 1.5S9.33 11 8.5 11 7 10.33 7 9.5 7.67 8 8.5 8M12 18c-2.28 0-4.22-1.66-5-4h10c-.78 2.34-2.72 4-5 4m3.5-7c-.83 0-1.5-.67-1.5-1.5S14.67 8 15.5 8s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"EmojiEmotions")},348:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r)}(n(5043));var i=r(n(39)),o=n(579);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.A=(0,i.default)((0,o.jsx)("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook")},6138:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M18.06 22.99h1.66c.84 0 1.53-.64 1.63-1.46L23 5.05h-5V1h-1.97v4.05h-4.97l.3 2.34c1.71.47 3.31 1.32 4.27 2.26 1.44 1.42 2.43 2.89 2.43 5.29zM1 21.99V21h15.03v.99c0 .55-.45 1-1.01 1H2.01c-.56 0-1.01-.45-1.01-1m15.03-7c0-8-15.03-8-15.03 0zM1.02 17h15v2h-15z"}),"Fastfood")},6520:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite")},9454:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder")},1834:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"FavoriteOutlined")},3266:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5z"}),"Flight")},6866:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M22 9V7h-2v2h-2v2h2v2h2v-2h2V9zM8 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4m4.51-8.95C13.43 5.11 14 6.49 14 8s-.57 2.89-1.49 3.95C14.47 11.7 16 10.04 16 8s-1.53-3.7-3.49-3.95m4.02 9.78C17.42 14.66 18 15.7 18 17v3h2v-3c0-1.45-1.59-2.51-3.47-3.17"}),"GroupAdd")},7030:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined")},7734:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r)}(n(5043));var i=r(n(39)),o=n(579);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.A=(0,i.default)((0,o.jsx)("path",{d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}),"Instagram")},4898:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M22 16v-2l-8.5-5V3.5c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5V9L2 14v2l8.5-2.5V19L8 20.5V22l4-1 4 1v-1.5L13.5 19v-5.5z"}),"LocalAirport")},5505:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M11 17h2v-1h1c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1h-3v-1h4V8h-2V7h-2v1h-1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h3v1H9v2h2zm9-13H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4V6h16z"}),"LocalAtm")},6325:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm9 14H6V10h12zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2"}),"LockOutlined")},2807:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login")},1702:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout")},8012:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7m11.77 8.27L13 19.54l-4.27-4.27C8.28 14.81 8 14.19 8 13.5c0-1.38 1.12-2.5 2.5-2.5.69 0 1.32.28 1.77.74l.73.72.73-.73c.45-.45 1.08-.73 1.77-.73 1.38 0 2.5 1.12 2.5 2.5 0 .69-.28 1.32-.73 1.77"}),"Loyalty")},4789:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5 8-5zm-8-7L4 6h16z"}),"MailOutline")},9611:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu")},9810:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)([(0,o.jsx)("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),(0,o.jsx)("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")],"MenuBook")},3813:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-2 12H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Message")},6997:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M9.5 2c-1.82 0-3.53.5-5 1.35 2.99 1.73 5 4.95 5 8.65s-2.01 6.92-5 8.65c1.47.85 3.18 1.35 5 1.35 5.52 0 10-4.48 10-10S15.02 2 9.5 2"}),"ModeNight")},7385:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.97.89 1.66.89H22c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"More")},8082:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert")},8282:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M1 5h14l-6 9v4h2v2H5v-2h2v-4zm9.1 4 1.4-2H4.49l1.4 2zM17 5h5v3h-3v9c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3c.35 0 .69.06 1 .17z"}),"Nightlife")},5310:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications")},7991:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People")},9826:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V18c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-1.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05.02.01.03.03.04.04 1.14.83 1.93 1.94 1.93 3.41V18c0 .35-.07.69-.18 1H22c.55 0 1-.45 1-1v-1.5c0-2.33-4.67-3.5-7-3.5"}),"PeopleRounded")},9466:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone")},4545:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)([(0,o.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,o.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera")},8625:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh")},3828:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M8.5 14.5 4 19l1.5 1.5L9 17h2zM15 1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 20.01L18 24l-2.99-3.01V19.5l-7.1-7.09c-.31.05-.61.07-.91.07v-2.16c1.66.03 3.61-.87 4.67-2.04l1.4-1.55c.35-.39.99-.73 1.65-.73h.03C15.99 6.01 17 7.02 17 8.26v5.75c0 .84-.35 1.61-.92 2.16l-3.58-3.58v-2.27c-.63.52-1.43 1.02-2.29 1.39L16.5 18H18z"}),"Rowing")},4473:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"m19.83 7.5-2.27-2.27c.07-.42.18-.81.32-1.15.08-.18.12-.37.12-.58 0-.83-.67-1.5-1.5-1.5-1.64 0-3.09.79-4 2h-5C4.46 4 2 6.46 2 9.5S4.5 21 4.5 21H10v-2h2v2h5.5l1.68-5.59 2.82-.94V7.5zM13 9H8V7h5zm3 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"Savings")},123:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M1 13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2m7.89-2.89 4.53-1.21-.78-2.9-4.53 1.21c-.8.21-1.28 1.04-1.06 1.84.22.8 1.04 1.28 1.84 1.06M20.5 5.9 23 3l-1-1-3 3-2 4-9.48 2.87c-.82.2-1.39.89-1.5 1.68L5.24 18 2.4 21.8 4 23l3-4 1.14-3.14L14 14l5-3.5z"}),"ScubaDiving")},6360:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},5678:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")},6237:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"m3.4 20.4 17.45-7.48c.81-.35.81-1.49 0-1.84L3.4 3.6c-.66-.29-1.39.2-1.39.91L2 9.12c0 .5.37.93.87.99L17 12 2.87 13.88c-.5.07-.87.5-.87 1l.01 4.61c0 .71.73 1.2 1.39.91"}),"SendRounded")},3831:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92M18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1M6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"ShareOutlined")},3147:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)([(0,o.jsx)("circle",{cx:"16.5",cy:"2.38",r:"2"},"0"),(0,o.jsx)("path",{d:"M24 11.88v-4.7l-5.05-2.14c-.97-.41-2.09-.06-2.65.84l-1 1.6c-.67 1.18-1.91 2.06-3.41 2.32l.06.06c.69.69 1.52 1.07 2.46 1.17.8-.42 1.52-.98 2.09-1.64l.6 3-1.16 1.1-.94.89v7.5h2v-6l2.1-2 1.8 8H23l-2.18-11-.62-3.1 1.8.7v3.4zM10.29 8.09c.22.15.47.24.72.29.13.02.25.04.38.04s.26-.01.38-.04c.13-.02.25-.06.37-.11.24-.1.47-.24.66-.44.49-.49.67-1.17.55-1.8-.07-.37-.25-.74-.55-1.03-.19-.19-.42-.34-.66-.44-.12-.05-.24-.09-.37-.11s-.25-.04-.38-.04c-.12 0-.23.01-.35.03-.14.02-.28.06-.41.11-.23.11-.46.26-.65.45-.3.29-.48.66-.55 1.03-.12.63.06 1.31.55 1.8.09.1.2.18.31.26"},"1"),(0,o.jsx)("path",{d:"m11.24 10.56-2-2c-.1-.1-.2-.18-.31-.26-.22-.14-.47-.24-.72-.28-.13-.03-.25-.04-.38-.04-.51 0-1.02.2-1.41.59l-3.34 3.34c-.41.41-.62.98-.58 1.54 0 .18.04.37.11.55l1.07 2.95-3.63 3.63L1.46 22l4.24-4.24v-2.22L7 16.75v5.13h2v-6l-2.12-2.12 2.36-2.36.71.71c1.29 1.26 2.97 2.04 5.03 2.04l-.14-2.07c-1.5-.02-2.7-.62-3.6-1.52"},"2")],"SportsKabaddi")},7412:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star")},6452:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M12 2c3.86 0 7 3.14 7 7 0 5.25-7 13-7 13S5 14.25 5 9c0-3.86 3.14-7 7-7m-1.53 12L17 7.41 15.6 6l-5.13 5.18L8.4 9.09 7 10.5z"}),"WhereToVote")},3650:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r)}(n(5043));var i=r(n(39)),o=n(579);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.A=(0,i.default)((0,o.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"}),"X")},39:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(4421)},8206:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});n(5043);var r=n(3654);n(579);function i(e){return(0,r.b)(e)}},8279:(e,t,n)=>{"use strict";n.d(t,{A:()=>F});var r=n(8168),i=n(8587),o=n(7868),s=n(9172),a=n(7758),l=n(8812),c=n(8280);var u=n(7266);const d={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},f={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},v={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},b={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},y=["mode","contrastThreshold","tonalOffset"],w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},x={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,u.a)(e.main,i):"dark"===t&&(e.dark=(0,u.e$)(e.main,o)))}function C(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:a=.2}=e,l=(0,i.A)(e,y),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(t),C=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[200],light:f[50],dark:f[400]}:{main:f[500],light:f[300],dark:f[700]}}(t),k=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(t),S=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[700],light:v[500],dark:v[900]}}(t),A=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[400],light:b[300],dark:b[700]}:{main:b[800],light:b[500],dark:b[900]}}(t),T=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(t);function I(e){return(0,u.eM)(e,x.text.primary)>=n?x.text.primary:w.text.primary}const M=e=>{let{color:t,name:n,mainShade:i=500,lightShade:s=300,darkShade:l=700}=e;if(t=(0,r.A)({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error((0,o.A)(11,n?` (${n})`:"",i));if("string"!==typeof t.main)throw new Error((0,o.A)(12,n?` (${n})`:"",JSON.stringify(t.main)));return _(t,"light",s,a),_(t,"dark",l,a),t.contrastText||(t.contrastText=I(t.main)),t},E={dark:x,light:w};return(0,s.A)((0,r.A)({common:(0,r.A)({},d),mode:t,primary:M({color:c,name:"primary"}),secondary:M({color:C,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:M({color:k,name:"error"}),warning:M({color:T,name:"warning"}),info:M({color:S,name:"info"}),success:M({color:A,name:"success"}),grey:h,contrastThreshold:n,getContrastText:I,augmentColor:M,tonalOffset:a},E[t]),l)}const k=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const S={textTransform:"uppercase"},A='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){const n="function"===typeof t?t(e):t,{fontFamily:o=A,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:f,pxToRem:p}=n,m=(0,i.A)(n,k);const g=a/14,v=p||(e=>e/h*g+"rem"),b=(e,t,n,i,s)=>{return(0,r.A)({fontFamily:o,fontWeight:e,fontSize:v(t),lineHeight:n},o===A?{letterSpacing:(a=i/t,Math.round(1e5*a)/1e5)+"em"}:{},s,f);var a},y={h1:b(l,96,1.167,-1.5),h2:b(l,60,1.2,-.5),h3:b(c,48,1.167,0),h4:b(c,34,1.235,.25),h5:b(c,24,1.334,0),h6:b(u,20,1.6,.15),subtitle1:b(c,16,1.75,.15),subtitle2:b(u,14,1.57,.1),body1:b(c,16,1.5,.15),body2:b(c,14,1.43,.15),button:b(u,14,1.75,.4,S),caption:b(c,12,1.66,.4),overline:b(c,12,2.66,1,S),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,s.A)((0,r.A)({htmlFontSize:h,pxToRem:v,fontFamily:o,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:d},y),m,{clone:!1})}function I(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const M=["none",I(0,2,1,-1,0,1,1,0,0,1,3,0),I(0,3,1,-2,0,2,2,0,0,1,5,0),I(0,3,3,-2,0,3,4,0,0,1,8,0),I(0,2,4,-1,0,4,5,0,0,1,10,0),I(0,3,5,-1,0,5,8,0,0,1,14,0),I(0,3,5,-1,0,6,10,0,0,1,18,0),I(0,4,5,-2,0,7,10,1,0,2,16,1),I(0,5,5,-3,0,8,10,1,0,3,14,2),I(0,5,6,-3,0,9,12,1,0,3,16,2),I(0,6,6,-3,0,10,14,1,0,4,18,3),I(0,6,7,-4,0,11,15,1,0,4,20,3),I(0,7,8,-4,0,12,17,2,0,5,22,4),I(0,7,8,-4,0,13,19,2,0,5,24,4),I(0,7,9,-4,0,14,21,2,0,5,26,4),I(0,8,9,-5,0,15,22,2,0,6,28,5),I(0,8,10,-5,0,16,24,2,0,6,30,5),I(0,8,11,-5,0,17,26,2,0,6,32,5),I(0,9,11,-5,0,18,28,2,0,7,34,6),I(0,9,12,-6,0,19,29,2,0,7,36,6),I(0,10,13,-6,0,20,31,3,0,8,38,7),I(0,10,13,-6,0,21,33,3,0,8,40,7),I(0,10,14,-6,0,22,35,3,0,8,42,7),I(0,11,14,-7,0,23,36,3,0,9,44,8),I(0,11,15,-7,0,24,38,3,0,9,46,8)],E=["duration","easing","delay"],P={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},D={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function j(e){return`${Math.round(e)}ms`}function O(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function R(e){const t=(0,r.A)({},P,e.easing),n=(0,r.A)({},D,e.duration);return(0,r.A)({getAutoHeightDuration:O,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:o=n.standard,easing:s=t.easeInOut,delay:a=0}=r;(0,i.A)(r,E);return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof o?o:j(o)} ${s} ${"string"===typeof a?a:j(a)}`)).join(",")}},e,{easing:t,duration:n})}const L={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},N=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:u={},typography:d={}}=e,h=(0,i.A)(e,N);if(e.vars)throw new Error((0,o.A)(18));const f=C(n),p=(0,c.A)(e);let m=(0,s.A)(p,{mixins:(g=p.breakpoints,v=t,(0,r.A)({toolbar:{minHeight:56,[g.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[g.up("sm")]:{minHeight:64}}},v)),palette:f,shadows:M.slice(),typography:T(f,d),transitions:R(u),zIndex:(0,r.A)({},L)});var g,v;m=(0,s.A)(m,h);for(var b=arguments.length,y=new Array(b>1?b-1:0),w=1;w<b;w++)y[w-1]=arguments[w];return m=y.reduce(((e,t)=>(0,s.A)(e,t)),m),m.unstable_sxConfig=(0,r.A)({},a.A,null==h?void 0:h.unstable_sxConfig),m.unstable_sx=function(e){return(0,l.A)({sx:e,theme:this})},m}const F=B},5170:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(8279).A)()},3375:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="$$material"},1475:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7123);const i=e=>(0,r.A)(e)&&"classes"!==e},7123:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}},4535:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a});var r=n(8052),i=n(5170),o=n(3375),s=n(1475);const a=(0,r.Ay)({themeId:o.A,defaultTheme:i.A,rootShouldForwardProp:s.A})},6803:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(7598).A},9662:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(8168),i=n(5043),o=n(8587),s=n(8387),a=n(8610),l=n(6803),c=n(8206),u=n(4535),d=n(2532),h=n(2372);function f(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,d.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(579);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,u.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,l.A)(n.color)}`],t[`fontSize${(0,l.A)(n.fontSize)}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i,o,s,a,l,c,u,d,h,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(f=(t.vars||t).palette)||null==(f=f[n.color])?void 0:f.main)?h:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),v=i.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiSvgIcon"}),{children:u,className:d,color:h="inherit",component:v="svg",fontSize:b="medium",htmlColor:y,inheritViewBox:w=!1,titleAccess:x,viewBox:_="0 0 24 24"}=n,C=(0,o.A)(n,m),k=i.isValidElement(u)&&"svg"===u.type,S=(0,r.A)({},n,{color:h,component:v,fontSize:b,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:_,hasSvgAsChild:k}),A={};w||(A.viewBox=_);const T=(e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root","inherit"!==t&&`color${(0,l.A)(t)}`,`fontSize${(0,l.A)(n)}`]};return(0,a.A)(i,f,r)})(S);return(0,p.jsxs)(g,(0,r.A)({as:v,className:(0,s.A)(T.root,d),focusable:"false",color:y,"aria-hidden":!x||void 0,role:x?"img":void 0,ref:t},A,C,k&&u.props,{ownerState:S,children:[k?u.props.children:u,x?(0,p.jsx)("title",{children:x}):null]}))}));v.muiName="SvgIcon";const b=v;function y(e,t){function n(n,i){return(0,p.jsx)(b,(0,r.A)({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return n.muiName=b.muiName,i.memo(i.forwardRef(n))}},950:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3468).A},4421:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>i.A,createChainedFunction:()=>o,createSvgIcon:()=>s.A,debounce:()=>a.A,deprecatedPropType:()=>l,isMuiElement:()=>c.A,ownerDocument:()=>u.A,ownerWindow:()=>d.A,requirePropFactory:()=>h,setRef:()=>f,unstable_ClassNameGenerator:()=>x,unstable_useEnhancedEffect:()=>p.A,unstable_useId:()=>m.A,unsupportedProp:()=>g,useControlled:()=>v.A,useEventCallback:()=>b.A,useForkRef:()=>y.A,useIsFocusVisible:()=>w.A});var r=n(9386),i=n(6803);const o=n(2456).A;var s=n(9662),a=n(950);const l=function(e,t){return()=>null};var c=n(7328),u=n(2427),d=n(6078);n(8168);const h=function(e,t){return()=>null};const f=n(6564).A;var p=n(5013),m=n(5879);const g=function(e,t,n,r,i){return null};var v=n(4516),b=n(3319),y=n(5849),w=n(3574);const x={configure:e=>{r.A.configure(e)}}},7328:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5043);const i=function(e,t){var n,i;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)}},2427:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1668).A},6078:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3940).A},4516:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1052).A},5013:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(4440).A},3319:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1782).A},5849:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3462).A},5879:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(5844).A},3574:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(5043),i=n(9303);let o=!0,s=!1;const a=new i.E,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function u(){o=!1}function d(){"hidden"===this.visibilityState&&s&&(o=!0)}function h(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const f=function(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("touchstart",u,!0),t.addEventListener("visibilitychange",d,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!h(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(s=!0,a.start(100,(()=>{s=!1})),t.current=!1,!0)},ref:e}}},869:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(5043);var r=n(3290),i=n(579);function o(e){const{styles:t,defaultTheme:n={}}=e,o="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,i.jsx)(r.mL,{styles:o})}},3174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>C.A,StyledEngineProvider:()=>_,ThemeContext:()=>l.T,css:()=>b.AH,default:()=>k,internal_processStyles:()=>S,keyframes:()=>b.i7});var r=n(8168),i=n(5043),o=n(918),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,o.A)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(4575),c=n(1722),u=n(6598),d=n(9436),h=a,f=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:f},m=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,c.SF)(t,n,r),(0,d.s)((function(){return(0,c.sk)(t,n,r)})),null},v=function e(t,n){var o,s,a=t.__emotion_real===t,d=a&&t.__emotion_base||t;void 0!==n&&(o=n.label,s=n.target);var h=m(t,n,a),f=h||p(d),v=!f("as");return function(){var b=arguments,y=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&y.push("label:"+o+";"),null==b[0]||void 0===b[0].raw)y.push.apply(y,b);else{y.push(b[0][0]);for(var w=b.length,x=1;x<w;x++)y.push(b[x],b[0][x])}var _=(0,l.w)((function(e,t,n){var r=v&&e.as||d,o="",a=[],m=e;if(null==e.theme){for(var b in m={},e)m[b]=e[b];m.theme=i.useContext(l.T)}"string"===typeof e.className?o=(0,c.Rk)(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var w=(0,u.J)(y.concat(a),t.registered,m);o+=t.key+"-"+w.name,void 0!==s&&(o+=" "+s);var x=v&&void 0===h?p(r):f,_={};for(var C in e)v&&"as"===C||x(C)&&(_[C]=e[C]);return _.className=o,n&&(_.ref=n),i.createElement(i.Fragment,null,i.createElement(g,{cache:t,serialized:w,isStringTag:"string"===typeof r}),i.createElement(r,_))}));return _.displayName=void 0!==o?o:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=d,_.__emotion_styles=y,_.__emotion_forwardProp=h,Object.defineProperty(_,"toString",{value:function(){return"."+s}}),_.withComponent=function(t,i){return e(t,(0,r.A)({},n,i,{shouldForwardProp:m(_,i,!0)})).apply(void 0,y)},_}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));var b=n(3290),y=n(3803),w=n(579);let x;function _(e){const{injectFirst:t,children:n}=e;return t&&x?(0,w.jsx)(l.C,{value:x,children:n}):n}"object"===typeof document&&(x=(0,y.A)({key:"css",prepend:!0}));var C=n(869);function k(e,t){return v(e,t)}const S=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},7266:(e,t,n)=>{"use strict";var r=n(4994);t.X4=f,t.e$=p,t.tL=g,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var i=r(n(457)),o=r(n(6531));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,o.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,i.default)(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,i.default)(10,r))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?`${e}%`:e)).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),u({type:a,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function f(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,u(e)}function p(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?p(e,t):m(e,t)}},8052:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=p,slotShouldForwardProp:l=p}=e,u=e=>(0,c.default)((0,i.default)({},e,{theme:v((0,i.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:f,skipVariantsResolver:m,skipSx:w,overridesResolver:x=b(g(f))}=c,_=(0,o.default)(c,h),C=void 0!==m?m:f&&"Root"!==f&&"root"!==f||!1,k=w||!1;let S=p;"Root"===f||"root"===f?S=r:f?S=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(S=void 0);const A=(0,s.default)(e,(0,i.default)({shouldForwardProp:S,label:undefined},_)),T=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>y(e,(0,i.default)({},r,{theme:v({theme:r.theme,defaultTheme:n,themeId:t})})):e,I=function(r){let o=T(r);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(T):[];d&&x&&c.push((e=>{const r=v((0,i.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const o=r.components[d].styleOverrides,s={};return Object.entries(o).forEach((t=>{let[n,o]=t;s[n]=y(o,(0,i.default)({},e,{theme:r}))})),x(e,s)})),d&&!C&&c.push((e=>{var r;const o=v((0,i.default)({},e,{defaultTheme:n,themeId:t}));return y({variants:null==o||null==(r=o.components)||null==(r=r[d])?void 0:r.variants},(0,i.default)({},e,{theme:o}))})),k||c.push(u);const h=c.length-a.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const f=A(o,...c);return e.muiName&&(f.muiName=e.muiName),f};return A.withConfig&&(I.withConfig=A.withConfig),I}};var i=r(n(4634)),o=r(n(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(3174)),a=n(9482),l=(r(n(7918)),r(n(3382)),r(n(4989))),c=r(n(3234));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function v(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function b(e){return e?(t,n)=>n[e]:null}function y(e,t){let{ownerState:n}=t,r=(0,o.default)(t,u);const s="function"===typeof e?e((0,i.default)({ownerState:n},r)):e;if(Array.isArray(s))return s.flatMap((e=>y(e,(0,i.default)({ownerState:n},r))));if(s&&"object"===typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,o.default)(s,d);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,i.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,i.default)({ownerState:n},r,n)):e.style))})),t}return s}},3654:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,b:()=>a});var r=n(5043),i=n(3030),o=n(579);const s=r.createContext(void 0);function a(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?(0,i.A)(o.defaultProps,r):o.styleOverrides||o.variants?r:(0,i.A)(o,r)}({props:t,name:n,theme:{components:r.useContext(s)}})}const l=function(e){let{value:t,children:n}=e;return(0,o.jsx)(s.Provider,{value:t,children:n})}},9751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>s,iZ:()=>c,kW:()=>u,vf:()=>l,zu:()=>i});var r=n(9172);const i={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${i[e]}px)`};function s(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||o;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||o;return Object.keys(t).reduce(((r,o)=>{if(-1!==Object.keys(e.values||i).indexOf(o)){r[e.up(o)]=n(t[o],o)}else{const e=o;r[e]=t[e]}return r}),{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function c(e){const t=a(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];const s=[t,...i].reduce(((e,t)=>(0,r.A)(e,t)),{});return l(Object.keys(t),s)}function u(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let s;return o.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e)),{})}},9703:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},4853:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8587),i=n(8168);const o=["values","unit","step"],s=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,i.A)({},e,{[t.key]:t.val})),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,o),c=s(t),u=Object.keys(c);function d(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function h(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-a/100}${n})`}function f(e,r){const i=u.indexOf(r);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==i&&"number"===typeof t[u[i]]?t[u[i]]:r)-a/100}${n})`}return(0,i.A)({keys:u,values:c,up:d,down:h,between:f,only:function(e){return u.indexOf(e)+1<u.length?f(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):f(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},8280:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(8168),i=n(8587),o=n(9172),s=n(4853);const a={borderRadius:4};var l=n(8604);var c=n(8812),u=n(7758),d=n(9703);const h=["breakpoints","palette","spacing","shape"];const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:f,shape:p={}}=e,m=(0,i.A)(e,h),g=(0,s.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}(f);let b=(0,o.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:v,shape:(0,r.A)({},a,p)},m);b.applyStyles=d.A;for(var y=arguments.length,w=new Array(y>1?y-1:0),x=1;x<y;x++)w[x-1]=arguments[x];return b=w.reduce(((e,t)=>(0,o.A)(e,t)),b),b.unstable_sxConfig=(0,r.A)({},u.A,null==m?void 0:m.unstable_sxConfig),b.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},b}},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>i.A,unstable_applyStyles:()=>o.A});var r=n(8280),i=n(4853),o=n(9703)},3815:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9172);const i=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},8604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>p,MA:()=>f,_W:()=>m,Lc:()=>b,Ms:()=>y});var r=n(9751),i=n(7162),o=n(3815);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],i=a[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function f(e,t,n,r){var o;const s=null!=(o=(0,i.Yn)(e,t,!1))?o:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function p(e){return f(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:`-${n}`}function g(e,t,n,i){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),i),s=e[n];return(0,r.NI)(e,s,o)}function v(e,t){const n=p(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(o.A,{})}function b(e){return v(e,u)}function y(e){return v(e,d)}function w(e){return v(e,h)}b.propTypes={},b.filterProps=u,y.propTypes={},y.filterProps=d,w.propTypes={},w.filterProps=h},7162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>o});var r=n(7598),i=n(9751);function o(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=o(e.theme,a)||{};return(0,i.NI)(e,c,(e=>{let i=s(u,l,e);return e===i&&"string"===typeof e&&(i=s(u,l,`${t}${"default"===e?"":(0,r.A)(e)}`,e)),!1===n?i:{[n]:i}}))};return c.propTypes={},c.filterProps=[t],c}},7758:(e,t,n)=>{"use strict";n.d(t,{A:()=>O});var r=n(8604),i=n(7162),o=n(3815);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,o.A)(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};var a=n(9751);function l(e){return"number"!==typeof e?e:`${e}px solid`}function c(e,t){return(0,i.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),f=c("borderBottom",l),p=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),b=c("borderBottomColor"),y=c("borderLeftColor"),w=c("outline",l),x=c("outlineColor"),_=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};_.propTypes={},_.filterProps=["borderRadius"];s(u,d,h,f,p,m,g,v,b,y,_,w,x);const C=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};C.propTypes={},C.filterProps=["gap"];const k=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};k.propTypes={},k.filterProps=["columnGap"];const S=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};S.propTypes={},S.filterProps=["rowGap"];s(C,k,S,(0,i.Ay)({prop:"gridColumn"}),(0,i.Ay)({prop:"gridRow"}),(0,i.Ay)({prop:"gridAutoFlow"}),(0,i.Ay)({prop:"gridAutoColumns"}),(0,i.Ay)({prop:"gridAutoRows"}),(0,i.Ay)({prop:"gridTemplateColumns"}),(0,i.Ay)({prop:"gridTemplateRows"}),(0,i.Ay)({prop:"gridTemplateAreas"}),(0,i.Ay)({prop:"gridArea"}));function A(e,t){return"grey"===t?t:e}s((0,i.Ay)({prop:"color",themeKey:"palette",transform:A}),(0,i.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:A}),(0,i.Ay)({prop:"backgroundColor",themeKey:"palette",transform:A}));function T(e){return e<=1&&0!==e?100*e+"%":e}const I=(0,i.Ay)({prop:"width",transform:T}),M=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:`${i}${e.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:T(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};M.filterProps=["maxWidth"];const E=(0,i.Ay)({prop:"minWidth",transform:T}),P=(0,i.Ay)({prop:"height",transform:T}),D=(0,i.Ay)({prop:"maxHeight",transform:T}),j=(0,i.Ay)({prop:"minHeight",transform:T}),O=((0,i.Ay)({prop:"size",cssProperty:"width",transform:T}),(0,i.Ay)({prop:"size",cssProperty:"height",transform:T}),s(I,M,E,P,D,j,(0,i.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:_},color:{themeKey:"palette",transform:A},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:A},backgroundColor:{themeKey:"palette",transform:A},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:C},rowGap:{style:S},columnGap:{style:k},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:T},maxWidth:{style:M},minWidth:{transform:T},height:{transform:T},maxHeight:{transform:T},minHeight:{transform:T},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},8698:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),i=n(8587),o=n(9172),s=n(7758);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function c(e){const{sx:t}=e,n=(0,i.A)(e,a),{systemProps:s,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,o.Q)(e)?(0,r.A)({},s,e):s}:(0,r.A)({},s,t),(0,r.A)({},c,{sx:u})}},3234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>i.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>o.A});var r=n(8812),i=n(8698),o=n(7758)},8812:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(7598),i=n(3815),o=n(7162),s=n(9751),a=n(7758);function l(){function e(e,t,n,i){const a={[e]:t,theme:n},l=i[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const f=(0,o.Yn)(n,u)||{};if(h)return h(a);return(0,s.NI)(a,t,(t=>{let n=(0,o.BO)(f,d,t);return t===n&&"string"===typeof t&&(n=(0,o.BO)(f,d,`${e}${"default"===t?"":(0,r.A)(t)}`,t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:o,theme:l={}}=n||{};if(!o)return null;const c=null!=(r=l.unstable_sxConfig)?r:a.A;function u(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const o=(0,s.EU)(l.breakpoints),a=Object.keys(o);let u=o;return Object.keys(r).forEach((n=>{const o=(a=r[n],d=l,"function"===typeof a?a(d):a);var a,d;if(null!==o&&void 0!==o)if("object"===typeof o)if(c[n])u=(0,i.A)(u,e(n,o,l,c));else{const e=(0,s.NI)({theme:l},o,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,o)?u=(0,i.A)(u,e):u[n]=t({sx:o,theme:l})}else u=(0,i.A)(u,e(n,o,l,c))})),(0,s.vf)(a,u)}return Array.isArray(o)?o.map(u):u(o)}}const c=l();c.filterProps=["sx"];const u=c},2374:(e,t,n)=>{"use strict";t.A=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(5043)),i=n(3174);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(i.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},9386:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r=e=>e,i=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},7598:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7868);function i(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7598)},1188:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},6531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(1188)},8610:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{A:()=>r})},2456:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}n.d(t,{A:()=>r})},3468:(e,t,n)=>{"use strict";function r(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r}n.d(t,{A:()=>r})},9172:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,Q:()=>i});var r=n(8168);function i(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function o(e){if(!i(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=o(e[n])})),t}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=n.clone?(0,r.A)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{i(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&i(e[r])?a[r]=s(e[r],t[r],n):n.clone?a[r]=i(t[r])?o(t[r]):t[r]:a[r]=t[r]})),a}},9482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(9172)},7868:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7868)},2372:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>o});var r=n(9386);const i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const o=i[t];return o?`${n}-${o}`:`${r.A.generate(e)}-${t}`}},2532:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2372);function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i={};return t.forEach((t=>{i[t]=(0,r.Ay)(e,t,n)})),i}},3382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>o});var r=n(2086);const i=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function o(e){const t=`${e}`.match(i);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||o(e)||t}function a(e,t,n){const r=s(t);return e.displayName||(""!==r?`${n}(${r})`:n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.ForwardRef:return a(e,e.render,"ForwardRef");case r.Memo:return a(e,e.type,"memo");default:return}}}},1668:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})},3940:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(1668);function i(e){return(0,r.A)(e).defaultView||window}},3030:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8168);function i(e,t){const n=(0,r.A)({},t);return Object.keys(e).forEach((o=>{if(o.toString().match(/^(components|slots)$/))n[o]=(0,r.A)({},e[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const s=e[o]||{},a=t[o];n[o]={},a&&Object.keys(a)?s&&Object.keys(s)?(n[o]=(0,r.A)({},a),Object.keys(s).forEach((e=>{n[o][e]=i(s[e],a[e])}))):n[o]=a:n[o]=s}else void 0===n[o]&&(n[o]=e[o])})),n}},6564:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{A:()=>r})},1052:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5043);function i(e){let{controlled:t,default:n,name:i,state:o="value"}=e;const{current:s}=r.useRef(void 0!==t),[a,l]=r.useState(n);return[s?t:a,r.useCallback((e=>{s||l(e)}),[])]}},4440:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5043);const i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},1782:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5043),i=n(4440);const o=function(e){const t=r.useRef(e);return(0,i.A)((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current}},3462:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5043),i=n(6564);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,i.A)(t,e)}))}),t)}},5844:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>a});var i=n(5043);let o=0;const s=(r||(r=n.t(i,2)))["useId".toString()];function a(e){if(void 0!==s){const t=s();return null!=e?e:t}return function(e){const[t,n]=i.useState(e),r=e||t;return i.useEffect((()=>{null==t&&(o+=1,n(`mui-${o}`))}),[t]),r}(e)}},9303:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,A:()=>a});var r=n(5043);const i={};const o=[];class s{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new s}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function a(){const e=function(e,t){const n=r.useRef(i);return n.current===i&&(n.current=e(t)),n}(s.create).current;var t;return t=e.disposeEffect,r.useEffect(t,o),e}},7792:(e,t,n)=>{!function(){var t={9406:function(e,t,n){e.exports=n(4877)},381:function(e,t,n){e.exports=n(5603)},8005:function(e,t,n){e.exports=n(4741)},7870:function(e,t,n){e.exports=n(4194)},7601:function(e,t,n){e.exports=n(2854)},651:function(e,t,n){e.exports=n(2)},2461:function(e,t,n){e.exports=n(5636)},9146:function(e,t,n){e.exports=n(5279)},6623:function(e,t,n){e.exports=n(9297)},7077:function(e,t,n){e.exports=n(8026)},9856:function(e,t,n){e.exports=n(2044)},4230:function(e,t,n){e.exports=n(2214)},184:function(e,t,n){e.exports=n(9256)},3742:function(e,t,n){e.exports=n(5659)},6135:function(e,t,n){n(9106);var r=n(5607);e.exports=r("Array").concat},3971:function(e,t,n){n(3436);var r=n(5607);e.exports=r("Array").filter},2671:function(e,t,n){n(5818);var r=n(5607);e.exports=r("Array").slice},1484:function(e,t,n){var r=n(6135),i=Array.prototype;e.exports=function(e){var t=e.concat;return e===i||e instanceof Array&&t===i.concat?r:t}},3669:function(e,t,n){var r=n(3971),i=Array.prototype;e.exports=function(e){var t=e.filter;return e===i||e instanceof Array&&t===i.filter?r:t}},7663:function(e,t,n){var r=n(2671),i=Array.prototype;e.exports=function(e){var t=e.slice;return e===i||e instanceof Array&&t===i.slice?r:t}},3213:function(e,t,n){n(3113);var r=n(7545).Object;e.exports=function(e,t){return r.create(e,t)}},3512:function(e,t,n){n(297);var r=n(7545).Object,i=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(i.sham=!0)},632:function(e,t,n){n(9189);var r=n(7545).Object,i=e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)};r.getOwnPropertyDescriptor.sham&&(i.sham=!0)},1056:function(e,t,n){n(2509);var r=n(7545);e.exports=r.Object.getOwnPropertyDescriptors},2921:function(e,t,n){n(6187);var r=n(7545);e.exports=r.Object.getOwnPropertySymbols},8168:function(e,t,n){n(9234);var r=n(7545);e.exports=r.Object.getPrototypeOf},8651:function(e,t,n){n(2647);var r=n(7545);e.exports=r.Object.keys},3083:function(e,t,n){n(3222);var r=n(7545);e.exports=r.Object.setPrototypeOf},6577:function(e,t,n){n(5397);var r=n(7545);e.exports=r.Reflect.construct},5008:function(e,t,n){n(9106),n(6663),n(6187),n(9781),n(492),n(6681),n(9594),n(3665),n(9017),n(1250),n(9786),n(503),n(6565),n(9322),n(3610),n(6886),n(3514),n(8671),n(8556),n(1367);var r=n(7545);e.exports=r.Symbol},994:function(e,t,n){n(8939),n(6663),n(5454),n(3665);var r=n(9207);e.exports=r.f("iterator")},9297:function(e,t,n){var r=n(4963);e.exports=r},8026:function(e,t,n){var r=n(7820);e.exports=r},2044:function(e,t,n){var r=n(8980);e.exports=r},2214:function(e,t,n){var r=n(6672);e.exports=r},9256:function(e,t,n){var r=n(2285);n(177),n(9031),n(6658),n(1875),n(8658),n(4592),n(6680),e.exports=r},5659:function(e,t,n){var r=n(8535);e.exports=r},6235:function(e,t,n){var r=n(6447),i=n(9288);e.exports=function(e){if(r(e))return e;throw TypeError(i(e)+" is not a function")}},1404:function(e,t,n){var r=n(2091),i=n(9288);e.exports=function(e){if(r(e))return e;throw TypeError(i(e)+" is not a constructor")}},7757:function(e,t,n){var r=n(6447);e.exports=function(e){if("object"==typeof e||r(e))return e;throw TypeError("Can't set "+String(e)+" as a prototype")}},7423:function(e){e.exports=function(){}},1138:function(e,t,n){var r=n(5744);e.exports=function(e){if(r(e))return e;throw TypeError(String(e)+" is not an object")}},8180:function(e,t,n){var r=n(101),i=n(7739),o=n(4104),s=function(e){return function(t,n,s){var a,l=r(t),c=o(l),u=i(s,c);if(e&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},454:function(e,t,n){var r=n(8043),i=n(2202),o=n(1795),s=n(4104),a=n(1321),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,d=6==e,h=7==e,f=5==e||d;return function(p,m,g,v){for(var b,y,w=o(p),x=i(w),_=r(m,g,3),C=s(x),k=0,S=v||a,A=t?S(p,C):n||h?S(p,0):void 0;C>k;k++)if((f||k in x)&&(y=_(b=x[k],k,w),e))if(t)A[k]=y;else if(y)switch(e){case 3:return!0;case 5:return b;case 6:return k;case 2:l.call(A,b)}else switch(e){case 4:return!1;case 7:l.call(A,b)}return d?-1:c||u?u:A}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},242:function(e,t,n){var r=n(6192),i=n(8182),o=n(4218),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},3712:function(e,t,n){var r=n(4770),i=n(2091),o=n(5744),s=n(8182)("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===Array||r(t.prototype))||o(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?Array:t}},1321:function(e,t,n){var r=n(3712);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},9272:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},4696:function(e,t,n){var r=n(3471),i=n(6447),o=n(9272),s=n(8182)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),s))?n:a?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},4635:function(e,t,n){var r=n(6192);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},5148:function(e,t,n){"use strict";var r=n(4413).IteratorPrototype,i=n(2853),o=n(774),s=n(1284),a=n(7771),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,c,!1,!0),a[c]=l,e}},8711:function(e,t,n){var r=n(69),i=n(2760),o=n(774);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},774:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9361:function(e,t,n){"use strict";var r=n(77),i=n(2760),o=n(774);e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},7218:function(e,t,n){"use strict";var r=n(3085),i=n(5546),o=n(2282),s=n(6447),a=n(5148),l=n(9341),c=n(4469),u=n(1284),d=n(8711),h=n(9482),f=n(8182),p=n(7771),m=n(4413),g=o.PROPER,v=o.CONFIGURABLE,b=m.IteratorPrototype,y=m.BUGGY_SAFARI_ITERATORS,w=f("iterator"),x="keys",_="values",C="entries",k=function(){return this};e.exports=function(e,t,n,o,f,m,S){a(n,t,o);var A,T,I,M=function(e){if(e===f&&O)return O;if(!y&&e in D)return D[e];switch(e){case x:case _:case C:return function(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",P=!1,D=e.prototype,j=D[w]||D["@@iterator"]||f&&D[f],O=!y&&j||M(f),R="Array"==t&&D.entries||j;if(R&&(A=l(R.call(new e)))!==Object.prototype&&A.next&&(i||l(A)===b||(c?c(A,b):s(A[w])||h(A,w,k)),u(A,E,!0,!0),i&&(p[E]=k)),g&&f==_&&j&&j.name!==_&&(!i&&v?d(D,"name",_):(P=!0,O=function(){return j.call(this)})),f)if(T={values:M(_),keys:m?O:M(x),entries:M(C)},S)for(I in T)(y||P||!(I in D))&&h(D,I,T[I]);else r({target:t,proto:!0,forced:y||P},T);return i&&!S||D[w]===O||h(D,w,O,{name:f}),p[t]=O,T}},1488:function(e,t,n){var r=n(7545),i=n(4500),o=n(9207),s=n(2760).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},69:function(e,t,n){var r=n(6192);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},7449:function(e,t,n){var r=n(8576),i=n(5744),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},7365:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8989:function(e,t,n){var r=n(150);e.exports=r("navigator","userAgent")||""},4218:function(e,t,n){var r,i,o=n(8576),s=n(8989),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u?i=(r=u.split("."))[0]<4?1:r[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},5607:function(e,t,n){var r=n(7545);e.exports=function(e){return r[e+"Prototype"]}},2952:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3085:function(e,t,n){"use strict";var r=n(8576),i=n(6447),o=n(5141).f,s=n(9245),a=n(7545),l=n(8043),c=n(8711),u=n(4500),d=function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,h,f,p,m,g,v,b,y=e.target,w=e.global,x=e.stat,_=e.proto,C=w?r:x?r[y]:(r[y]||{}).prototype,k=w?a:a[y]||c(a,y,{})[y],S=k.prototype;for(f in t)n=!s(w?f:y+(x?".":"#")+f,e.forced)&&C&&u(C,f),m=k[f],n&&(g=e.noTargetGet?(b=o(C,f))&&b.value:C[f]),p=n&&g?g:t[f],n&&typeof m==typeof p||(v=e.bind&&n?l(p,r):e.wrap&&n?d(p):_&&i(p)?l(Function.call,p):p,(e.sham||p&&p.sham||m&&m.sham)&&c(v,"sham",!0),c(k,f,v),_&&(u(a,h=y+"Prototype")||c(a,h,{}),c(a[h],f,p),e.real&&S&&!S[f]&&c(S,f,p)))}},6192:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},8043:function(e,t,n){var r=n(6235);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},6782:function(e,t,n){"use strict";var r=n(6235),i=n(5744),o=[].slice,s={},a=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("C,a","return new C("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),s=function(){var r=n.concat(o.call(arguments));return this instanceof s?a(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(s.prototype=t.prototype),s}},2282:function(e,t,n){var r=n(69),i=n(4500),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),l=a&&"something"===function(){}.name,c=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},150:function(e,t,n){var r=n(7545),i=n(8576),o=n(6447),s=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(r[e])||s(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},5037:function(e,t,n){var r=n(6235);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},8576:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},4500:function(e,t,n){var r=n(1795),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},4535:function(e){e.exports={}},7403:function(e,t,n){var r=n(150);e.exports=r("document","documentElement")},188:function(e,t,n){var r=n(69),i=n(6192),o=n(7449);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},2202:function(e,t,n){var r=n(6192),i=n(9272),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},9516:function(e,t,n){var r=n(6447),i=n(6434),o=Function.toString;r(i.inspectSource)||(i.inspectSource=function(e){return o.call(e)}),e.exports=i.inspectSource},3326:function(e,t,n){var r,i,o,s=n(8921),a=n(8576),l=n(5744),c=n(8711),u=n(4500),d=n(6434),h=n(9766),f=n(4535),p="Object already initialized",m=a.WeakMap;if(s||d.state){var g=d.state||(d.state=new m),v=g.get,b=g.has,y=g.set;r=function(e,t){if(b.call(g,e))throw new TypeError(p);return t.facade=e,y.call(g,e,t),t},i=function(e){return v.call(g,e)||{}},o=function(e){return b.call(g,e)}}else{var w=h("state");f[w]=!0,r=function(e,t){if(u(e,w))throw new TypeError(p);return t.facade=e,c(e,w,t),t},i=function(e){return u(e,w)?e[w]:{}},o=function(e){return u(e,w)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},4770:function(e,t,n){var r=n(9272);e.exports=Array.isArray||function(e){return"Array"==r(e)}},6447:function(e){e.exports=function(e){return"function"==typeof e}},2091:function(e,t,n){var r=n(6192),i=n(6447),o=n(4696),s=n(150),a=n(9516),l=[],c=s("Reflect","construct"),u=/^\s*(?:class|function)\b/,d=u.exec,h=!u.exec((function(){})),f=function(e){if(!i(e))return!1;try{return c(Object,l,e),!0}catch(e){return!1}};e.exports=!c||r((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?function(e){if(!i(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!d.call(u,a(e))}:f},9245:function(e,t,n){var r=n(6192),i=n(6447),o=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n==u||n!=c&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},5744:function(e,t,n){var r=n(6447);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},5546:function(e){e.exports=!0},3236:function(e,t,n){var r=n(6447),i=n(150),o=n(615);e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&Object(e)instanceof t}},4413:function(e,t,n){"use strict";var r,i,o,s=n(6192),a=n(6447),l=n(2853),c=n(9341),u=n(9482),d=n(8182),h=n(5546),f=d("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(r=i):p=!0),null==r||s((function(){var e={};return r[f].call(e)!==e}))?r={}:h&&(r=l(r)),a(r[f])||u(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},7771:function(e){e.exports={}},4104:function(e,t,n){var r=n(8445);e.exports=function(e){return r(e.length)}},3045:function(e,t,n){var r=n(4218),i=n(6192);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8921:function(e,t,n){var r=n(8576),i=n(6447),o=n(9516),s=r.WeakMap;e.exports=i(s)&&/native code/.test(o(s))},2853:function(e,t,n){var r,i=n(1138),o=n(1187),s=n(2952),a=n(4535),l=n(7403),c=n(7449),u=n(9766)("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},f=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},p=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;p="undefined"!=typeof document?document.domain&&r?f(r):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):f(r);for(var n=s.length;n--;)delete p.prototype[s[n]];return p()};a[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[u]=e):n=p(),void 0===t?n:o(n,t)}},1187:function(e,t,n){var r=n(69),i=n(2760),o=n(1138),s=n(7653);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=s(t),a=r.length,l=0;a>l;)i.f(e,n=r[l++],t[n]);return e}},2760:function(e,t,n){var r=n(69),i=n(188),o=n(1138),s=n(77),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t),o(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},5141:function(e,t,n){var r=n(69),i=n(6007),o=n(774),s=n(101),a=n(77),l=n(4500),c=n(188),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=s(e),t=a(t),c)try{return u(e,t)}catch(e){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},4052:function(e,t,n){var r=n(101),i=n(2092).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return s.slice()}}(e):i(r(e))}},2092:function(e,t,n){var r=n(7934),i=n(2952).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},4750:function(e,t){t.f=Object.getOwnPropertySymbols},9341:function(e,t,n){var r=n(4500),i=n(6447),o=n(1795),s=n(9766),a=n(4635),l=s("IE_PROTO"),c=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){var t=o(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof Object?c:null}},7934:function(e,t,n){var r=n(4500),i=n(101),o=n(8180).indexOf,s=n(4535);e.exports=function(e,t){var n,a=i(e),l=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);for(;t.length>l;)r(a,n=t[l++])&&(~o(c,n)||c.push(n));return c}},7653:function(e,t,n){var r=n(7934),i=n(2952);e.exports=Object.keys||function(e){return r(e,i)}},6007:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},4469:function(e,t,n){var r=n(1138),i=n(7757);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},158:function(e,t,n){"use strict";var r=n(3471),i=n(4696);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},380:function(e,t,n){var r=n(6447),i=n(5744);e.exports=function(e,t){var n,o;if("string"===t&&r(n=e.toString)&&!i(o=n.call(e)))return o;if(r(n=e.valueOf)&&!i(o=n.call(e)))return o;if("string"!==t&&r(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},3011:function(e,t,n){var r=n(150),i=n(2092),o=n(4750),s=n(1138);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},7545:function(e){e.exports={}},9482:function(e,t,n){var r=n(8711);e.exports=function(e,t,n,i){i&&i.enumerable?e[t]=n:r(e,t,n)}},3209:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},7613:function(e,t,n){var r=n(8576);e.exports=function(e,t){try{Object.defineProperty(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},1284:function(e,t,n){var r=n(3471),i=n(2760).f,o=n(8711),s=n(4500),a=n(158),l=n(8182)("toStringTag");e.exports=function(e,t,n,c){if(e){var u=n?e:e.prototype;s(u,l)||i(u,l,{configurable:!0,value:t}),c&&!r&&o(u,"toString",a)}}},9766:function(e,t,n){var r=n(8717),i=n(2759),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},6434:function(e,t,n){var r=n(8576),i=n(7613),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},8717:function(e,t,n){var r=n(5546),i=n(6434);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.18.2",mode:r?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},863:function(e,t,n){var r=n(1941),i=n(4845),o=n(3209),s=function(e){return function(t,n){var s,a,l=i(o(t)),c=r(n),u=l.length;return c<0||c>=u?e?"":void 0:(s=l.charCodeAt(c))<55296||s>56319||c+1===u||(a=l.charCodeAt(c+1))<56320||a>57343?e?l.charAt(c):s:e?l.slice(c,c+2):a-56320+(s-55296<<10)+65536}};e.exports={codeAt:s(!1),charAt:s(!0)}},7739:function(e,t,n){var r=n(1941),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},101:function(e,t,n){var r=n(2202),i=n(3209);e.exports=function(e){return r(i(e))}},1941:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},8445:function(e,t,n){var r=n(1941),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},1795:function(e,t,n){var r=n(3209);e.exports=function(e){return Object(r(e))}},7888:function(e,t,n){var r=n(5744),i=n(3236),o=n(5037),s=n(380),a=n(8182)("toPrimitive");e.exports=function(e,t){if(!r(e)||i(e))return e;var n,l=o(e,a);if(l){if(void 0===t&&(t="default"),n=l.call(e,t),!r(n)||i(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},77:function(e,t,n){var r=n(7888),i=n(3236);e.exports=function(e){var t=r(e,"string");return i(t)?t:String(t)}},3471:function(e,t,n){var r={};r[n(8182)("toStringTag")]="z",e.exports="[object z]"===String(r)},4845:function(e,t,n){var r=n(4696);e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},9288:function(e){e.exports=function(e){try{return String(e)}catch(e){return"Object"}}},2759:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},615:function(e,t,n){var r=n(3045);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},9207:function(e,t,n){var r=n(8182);t.f=r},8182:function(e,t,n){var r=n(8576),i=n(8717),o=n(4500),s=n(2759),a=n(3045),l=n(615),c=i("wks"),u=r.Symbol,d=l?u:u&&u.withoutSetter||s;e.exports=function(e){return o(c,e)&&(a||"string"==typeof c[e])||(a&&o(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},9106:function(e,t,n){"use strict";var r=n(3085),i=n(6192),o=n(4770),s=n(5744),a=n(1795),l=n(4104),c=n(9361),u=n(1321),d=n(242),h=n(8182),f=n(4218),p=h("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=f>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),b=d("concat"),y=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,forced:!v||!b},{concat:function(e){var t,n,r,i,o,s=a(this),d=u(s,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(y(o=-1===t?s:arguments[t])){if(h+(i=l(o))>m)throw TypeError(g);for(n=0;n<i;n++,h++)n in o&&c(d,h,o[n])}else{if(h>=m)throw TypeError(g);c(d,h++,o)}return d.length=h,d}})},3436:function(e,t,n){"use strict";var r=n(3085),i=n(454).filter;r({target:"Array",proto:!0,forced:!n(242)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},8939:function(e,t,n){"use strict";var r=n(101),i=n(7423),o=n(7771),s=n(3326),a=n(7218),l="Array Iterator",c=s.set,u=s.getterFor(l);e.exports=a(Array,"Array",(function(e,t){c(this,{type:l,target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},5818:function(e,t,n){"use strict";var r=n(3085),i=n(4770),o=n(2091),s=n(5744),a=n(7739),l=n(4104),c=n(101),u=n(9361),d=n(8182),h=n(242)("slice"),f=d("species"),p=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,d,h=c(this),g=l(h),v=a(e,g),b=a(void 0===t?g:t,g);if(i(h)&&(n=h.constructor,(o(n)&&(n===Array||i(n.prototype))||s(n)&&null===(n=n[f]))&&(n=void 0),n===Array||void 0===n))return p.call(h,v,b);for(r=new(void 0===n?Array:n)(m(b-v,0)),d=0;v<b;v++,d++)v in h&&u(r,d,h[v]);return r.length=d,r}})},8671:function(e,t,n){var r=n(8576);n(1284)(r.JSON,"JSON",!0)},8556:function(){},3113:function(e,t,n){n(3085)({target:"Object",stat:!0,sham:!n(69)},{create:n(2853)})},297:function(e,t,n){var r=n(3085),i=n(69);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(2760).f})},9189:function(e,t,n){var r=n(3085),i=n(6192),o=n(101),s=n(5141).f,a=n(69),l=i((function(){s(1)}));r({target:"Object",stat:!0,forced:!a||l,sham:!a},{getOwnPropertyDescriptor:function(e,t){return s(o(e),t)}})},2509:function(e,t,n){var r=n(3085),i=n(69),o=n(3011),s=n(101),a=n(5141),l=n(9361);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=s(e),i=a.f,c=o(r),u={},d=0;c.length>d;)void 0!==(n=i(r,t=c[d++]))&&l(u,t,n);return u}})},9234:function(e,t,n){var r=n(3085),i=n(6192),o=n(1795),s=n(9341),a=n(4635);r({target:"Object",stat:!0,forced:i((function(){s(1)})),sham:!a},{getPrototypeOf:function(e){return s(o(e))}})},2647:function(e,t,n){var r=n(3085),i=n(1795),o=n(7653);r({target:"Object",stat:!0,forced:n(6192)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},3222:function(e,t,n){n(3085)({target:"Object",stat:!0},{setPrototypeOf:n(4469)})},6663:function(){},5397:function(e,t,n){var r=n(3085),i=n(150),o=n(1404),s=n(1138),a=n(5744),l=n(2853),c=n(6782),u=n(6192),d=i("Reflect","construct"),h=u((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),f=!u((function(){d((function(){}))})),p=h||f;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){o(e),s(t);var n=arguments.length<3?e:o(arguments[2]);if(f&&!h)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var i=n.prototype,u=l(a(i)?i:Object.prototype),p=Function.apply.call(e,u,t);return a(p)?p:u}})},1367:function(){},5454:function(e,t,n){"use strict";var r=n(863).charAt,i=n(4845),o=n(3326),s=n(7218),a="String Iterator",l=o.set,c=o.getterFor(a);s(String,"String",(function(e){l(this,{type:a,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},9781:function(e,t,n){n(1488)("asyncIterator")},492:function(){},6681:function(e,t,n){n(1488)("hasInstance")},9594:function(e,t,n){n(1488)("isConcatSpreadable")},3665:function(e,t,n){n(1488)("iterator")},6187:function(e,t,n){"use strict";var r=n(3085),i=n(8576),o=n(150),s=n(5546),a=n(69),l=n(3045),c=n(6192),u=n(4500),d=n(4770),h=n(6447),f=n(5744),p=n(3236),m=n(1138),g=n(1795),v=n(101),b=n(77),y=n(4845),w=n(774),x=n(2853),_=n(7653),C=n(2092),k=n(4052),S=n(4750),A=n(5141),T=n(2760),I=n(6007),M=n(9482),E=n(8717),P=n(9766),D=n(4535),j=n(2759),O=n(8182),R=n(9207),L=n(1488),N=n(1284),B=n(3326),F=n(454).forEach,z=P("hidden"),V="Symbol",W=O("toPrimitive"),H=B.set,U=B.getterFor(V),$=Object.prototype,Y=i.Symbol,G=o("JSON","stringify"),q=A.f,X=T.f,Z=k.f,K=I.f,Q=E("symbols"),J=E("op-symbols"),ee=E("string-to-symbol-registry"),te=E("symbol-to-string-registry"),ne=E("wks"),re=i.QObject,ie=!re||!re.prototype||!re.prototype.findChild,oe=a&&c((function(){return 7!=x(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=q($,t);r&&delete $[t],X(e,t,n),r&&e!==$&&X($,t,r)}:X,se=function(e,t){var n=Q[e]=x(Y.prototype);return H(n,{type:V,tag:e,description:t}),a||(n.description=t),n},ae=function(e,t,n){e===$&&ae(J,t,n),m(e);var r=b(t);return m(n),u(Q,r)?(n.enumerable?(u(e,z)&&e[z][r]&&(e[z][r]=!1),n=x(n,{enumerable:w(0,!1)})):(u(e,z)||X(e,z,w(1,{})),e[z][r]=!0),oe(e,r,n)):X(e,r,n)},le=function(e,t){m(e);var n=v(t),r=_(n).concat(he(n));return F(r,(function(t){a&&!ce.call(n,t)||ae(e,t,n[t])})),e},ce=function(e){var t=b(e),n=K.call(this,t);return!(this===$&&u(Q,t)&&!u(J,t))&&(!(n||!u(this,t)||!u(Q,t)||u(this,z)&&this[z][t])||n)},ue=function(e,t){var n=v(e),r=b(t);if(n!==$||!u(Q,r)||u(J,r)){var i=q(n,r);return!i||!u(Q,r)||u(n,z)&&n[z][r]||(i.enumerable=!0),i}},de=function(e){var t=Z(v(e)),n=[];return F(t,(function(e){u(Q,e)||u(D,e)||n.push(e)})),n},he=function(e){var t=e===$,n=Z(t?J:v(e)),r=[];return F(n,(function(e){!u(Q,e)||t&&!u($,e)||r.push(Q[e])})),r};if(l||(Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,t=j(e),n=function(e){this===$&&n.call(J,e),u(this,z)&&u(this[z],t)&&(this[z][t]=!1),oe(this,t,w(1,e))};return a&&ie&&oe($,t,{configurable:!0,set:n}),se(t,e)},M(Y.prototype,"toString",(function(){return U(this).tag})),M(Y,"withoutSetter",(function(e){return se(j(e),e)})),I.f=ce,T.f=ae,A.f=ue,C.f=k.f=de,S.f=he,R.f=function(e){return se(O(e),e)},a&&(X(Y.prototype,"description",{configurable:!0,get:function(){return U(this).description}}),s||M($,"propertyIsEnumerable",ce,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:Y}),F(_(ne),(function(e){L(e)})),r({target:V,stat:!0,forced:!l},{for:function(e){var t=y(e);if(u(ee,t))return ee[t];var n=Y(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!p(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!a},{create:function(e,t){return void 0===t?x(e):le(x(e),t)},defineProperty:ae,defineProperties:le,getOwnPropertyDescriptor:ue}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:de,getOwnPropertySymbols:he}),r({target:"Object",stat:!0,forced:c((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(g(e))}}),G&&r({target:"JSON",stat:!0,forced:!l||c((function(){var e=Y();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}))},{stringify:function(e,t,n){for(var r,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=t,(f(t)||void 0!==e)&&!p(e))return d(t)||(t=function(e,t){if(h(r)&&(t=r.call(this,e,t)),!p(t))return t}),i[1]=t,G.apply(null,i)}}),!Y.prototype[W]){var fe=Y.prototype.valueOf;M(Y.prototype,W,(function(){return fe.apply(this,arguments)}))}N(Y,V),D[z]=!0},1250:function(e,t,n){n(1488)("matchAll")},9017:function(e,t,n){n(1488)("match")},9786:function(e,t,n){n(1488)("replace")},503:function(e,t,n){n(1488)("search")},6565:function(e,t,n){n(1488)("species")},9322:function(e,t,n){n(1488)("split")},3610:function(e,t,n){n(1488)("toPrimitive")},6886:function(e,t,n){n(1488)("toStringTag")},3514:function(e,t,n){n(1488)("unscopables")},177:function(e,t,n){n(1488)("asyncDispose")},9031:function(e,t,n){n(1488)("dispose")},6658:function(e,t,n){n(1488)("matcher")},1875:function(e,t,n){n(1488)("metadata")},8658:function(e,t,n){n(1488)("observable")},4592:function(e,t,n){n(1488)("patternMatch")},6680:function(e,t,n){n(1488)("replaceAll")},162:function(e,t,n){n(8939);var r=n(7365),i=n(8576),o=n(4696),s=n(8711),a=n(7771),l=n(8182)("toStringTag");for(var c in r){var u=i[c],d=u&&u.prototype;d&&o(d)!==l&&s(d,l,c),a[c]=a.Array}},4877:function(e,t,n){var r=n(1484);e.exports=r},5603:function(e,t,n){var r=n(3669);e.exports=r},4741:function(e,t,n){var r=n(7663);e.exports=r},4963:function(e,t,n){var r=n(3213);e.exports=r},7820:function(e,t,n){var r=n(3512);e.exports=r},4194:function(e,t,n){var r=n(632);e.exports=r},2854:function(e,t,n){var r=n(1056);e.exports=r},2:function(e,t,n){var r=n(2921);e.exports=r},8980:function(e,t,n){var r=n(8168);e.exports=r},5636:function(e,t,n){var r=n(8651);e.exports=r},6672:function(e,t,n){var r=n(3083);e.exports=r},5279:function(e,t,n){var r=n(6577);e.exports=r},2285:function(e,t,n){var r=n(5008);n(162),e.exports=r},8535:function(e,t,n){var r=n(994);n(162),e.exports=r}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,i),o.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};!function(){"use strict";i.r(o),i.d(o,{default:function(){return R}});var e=i(9146),t=i.n(e),r=i(651),s=i.n(r),a=i(7870),l=i.n(a),c=i(7601),u=i.n(c);var d=i(7077);function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=i(6623),p=i(4230);function m(e,t){return m=p||function(e,t){return e.__proto__=t,e},m(e,t)}var g=i(184),v=i(3742);function b(e){return b="function"==typeof g&&"symbol"==typeof v?function(e){return typeof e}:function(e){return e&&"function"==typeof g&&e.constructor===g&&e!==g.prototype?"symbol":typeof e},b(e)}var y=i(9856);function w(e){return w=p?y:function(e){return e.__proto__||y(e)},w(e)}function x(e,t,n){return t in e?d(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=i(9406),C=i.n(_),k=i(381),S=i.n(k),A=i(2461),T=i.n(A),I=i(8005),M=i.n(I),E=n(5043),P=i.n(E),D=n(7217),j=i.n(D);function O(e,t){var n=T()(e);if(s()){var r=s()(e);t&&(r=S()(r).call(r,(function(t){return l()(e,t).enumerable}))),n.push.apply(n,r)}return n}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=f(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!t())return!1;if(t().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(t()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=w(r);if(i){var o=w(this).constructor;e=t()(n,arguments,o)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function s(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return x(h(t=o.call.apply(o,C()(e=[this]).call(e,r))),"rootEl",P().createRef()),x(h(t),"imageEditorInst",null),t}return n=[{key:"componentDidMount",value:function(){this.imageEditorInst=new(j())(this.rootEl.current,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){x(e,t,n[t])})):u()?Object.defineProperties(e,u()(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,l()(n,t))}))}return e}({},this.props)),this.bindEventHandlers(this.props)}},{key:"componentWillUnmount",value:function(){this.unbindEventHandlers(),this.imageEditorInst.destroy(),this.imageEditorInst=null}},{key:"shouldComponentUpdate",value:function(e){return this.bindEventHandlers(this.props,e),!1}},{key:"getInstance",value:function(){return this.imageEditorInst}},{key:"getRootElement",value:function(){return this.rootEl.current}},{key:"bindEventHandlers",value:function(e,t){var n,r=this;S()(n=T()(e)).call(n,this.isEventHandlerKeys).forEach((function(n){var i=n[2].toLowerCase()+M()(n).call(n,3);t&&t[n]!==e[n]&&r.imageEditorInst.off(i),r.imageEditorInst.on(i,e[n])}))}},{key:"unbindEventHandlers",value:function(){var e,t=this;S()(e=T()(this.props)).call(e,this.isEventHandlerKeys).forEach((function(e){var n=e[2].toLowerCase()+M()(e).call(e,3);t.imageEditorInst.off(n)}))}},{key:"isEventHandlerKeys",value:function(e){return/on[A-Z][a-zA-Z]+/.test(e)}},{key:"render",value:function(){return P().createElement("div",{ref:this.rootEl})}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d(e,r.key,r)}}(s.prototype,n),s}(P().Component)}(),e.exports=o}()},8301:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},446:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",s="hour",a="day",l="week",c="month",u="quarter",d="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},b={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),o=n-i<0,s=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:a,D:h,h:s,m:o,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",w={};w[y]=g;var x="$isDayjsObject",_=function(e){return e instanceof A||!(!e||!e[x])},C=function e(t,n,r){var i;if(!t)return y;if("string"==typeof t){var o=t.toLowerCase();w[o]&&(i=o),n&&(w[o]=n,i=o);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var a=t.name;w[a]=t,i=a}return!r&&i&&(y=i),i||!r&&y},k=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new A(n)},S=b;S.l=C,S.i=_,S.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var A=function(){function g(e){this.$L=C(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return S},v.isValid=function(){return!(this.$d.toString()===f)},v.isSame=function(e,t){var n=k(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return k(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<k(e)},v.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!S.u(t)||t,u=S.p(e),f=function(e,t){var i=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(a)},p=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,b="set"+(this.$u?"UTC":"");switch(u){case d:return r?f(1,0):f(31,11);case c:return r?f(1,g):f(0,g+1);case l:var y=this.$locale().weekStart||0,w=(m<y?m+7:m)-y;return f(r?v-w:v+(6-w),g);case a:case h:return p(b+"Hours",0);case s:return p(b+"Minutes",1);case o:return p(b+"Seconds",2);case i:return p(b+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=S.p(e),u="set"+(this.$u?"UTC":""),f=(n={},n[a]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[s]=u+"Hours",n[o]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],p=l===a?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(h,1);m.$d[f](p),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[S.p(e)]()},v.add=function(r,u){var h,f=this;r=Number(r);var p=S.p(u),m=function(e){var t=k(f);return S.w(t.date(t.date()+Math.round(e*r)),f)};if(p===c)return this.set(c,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===a)return m(1);if(p===l)return m(7);var g=(h={},h[o]=t,h[s]=n,h[i]=e,h)[p]||1,v=this.$d.getTime()+r*g;return S.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),o=this.$H,s=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},h=function(e){return S.s(o%12||12,e,"0")},p=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return a+1;case"MM":return S.s(a+1,2,"0");case"MMM":return d(n.monthsShort,a,c,3);case"MMMM":return d(c,a);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(o);case"HH":return S.s(o,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return p(o,s,!0);case"A":return p(o,s,!1);case"m":return String(s);case"mm":return S.s(s,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,h,f){var p,m=this,g=S.p(h),v=k(r),b=(v.utcOffset()-this.utcOffset())*t,y=this-v,w=function(){return S.m(m,v)};switch(g){case d:p=w()/12;break;case c:p=w();break;case u:p=w()/3;break;case l:p=(y-b)/6048e5;break;case a:p=(y-b)/864e5;break;case s:p=y/n;break;case o:p=y/t;break;case i:p=y/e;break;default:p=y}return f?p:S.a(p)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return w[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=C(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return S.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),T=A.prototype;return k.prototype=T,[["$ms",r],["$s",i],["$m",o],["$H",s],["$W",a],["$M",c],["$y",d],["$D",h]].forEach((function(e){T[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),k.extend=function(e,t){return e.$i||(e(t,A,k),e.$i=!0),k},k.locale=C,k.isDayjs=_,k.unix=function(e){return k(1e3*e)},k.en=w[y],k.Ls=w,k.p={},k}()},8456:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"ko",weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),ordinal:function(e){return e+"\uc77c"},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},meridiem:function(e){return e<12?"\uc624\uc804":"\uc624\ud6c4"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"}};return n.default.locale(r,null,!0),r}(n(446))},7076:function(e){e.exports=function(){"use strict";return function(e,t){var n=t.prototype,r=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return r.bind(this)(e);var i=this.$utils(),o=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return i.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return i.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return i.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return r.bind(this)(o)}}}()},8988:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,r=/\d\d/,i=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,s={},a=function(e){return(e=+e)+(e>68?1900:2e3)},l=function(e){return function(t){this[e]=+t}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],u=function(e){var t=s[e];return t&&(t.indexOf?t:t.s.concat(t.f))},d=function(e,t){var n,r=s.meridiem;if(r){for(var i=1;i<=24;i+=1)if(e.indexOf(r(i,0,t))>-1){n=i>12;break}}else n=e===(t?"pm":"PM");return n},h={A:[o,function(e){this.afternoon=d(e,!1)}],a:[o,function(e){this.afternoon=d(e,!0)}],Q:[n,function(e){this.month=3*(e-1)+1}],S:[n,function(e){this.milliseconds=100*+e}],SS:[r,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[i,l("seconds")],ss:[i,l("seconds")],m:[i,l("minutes")],mm:[i,l("minutes")],H:[i,l("hours")],h:[i,l("hours")],HH:[i,l("hours")],hh:[i,l("hours")],D:[i,l("day")],DD:[r,l("day")],Do:[o,function(e){var t=s.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],w:[i,l("week")],ww:[r,l("week")],M:[i,l("month")],MM:[r,l("month")],MMM:[o,function(e){var t=u("months"),n=(u("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(e){var t=u("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,l("year")],YY:[r,function(e){this.year=a(e)}],YYYY:[/\d{4}/,l("year")],Z:c,ZZ:c};function f(n){var r,i;r=n,i=s&&s.formats;for(var o=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var o=r&&r.toUpperCase();return n||i[r]||e[r]||i[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),a=o.length,l=0;l<a;l+=1){var c=o[l],u=h[c],d=u&&u[0],f=u&&u[1];o[l]=f?{regex:d,parser:f}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<a;n+=1){var i=o[n];if("string"==typeof i)r+=i.length;else{var s=i.regex,l=i.parser,c=e.slice(r),u=s.exec(c)[0];l.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var r=t.prototype,i=r.parse;r.parse=function(e){var t=e.date,r=e.utc,o=e.args;this.$u=r;var a=o[1];if("string"==typeof a){var l=!0===o[2],c=!0===o[3],u=l||c,d=o[2];c&&(d=o[2]),s=this.$locale(),!l&&d&&(s=n.Ls[d]),this.$d=function(e,t,n,r){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var i=f(t)(e),o=i.year,s=i.month,a=i.day,l=i.hours,c=i.minutes,u=i.seconds,d=i.milliseconds,h=i.zone,p=i.week,m=new Date,g=a||(o||s?1:m.getDate()),v=o||m.getFullYear(),b=0;o&&!s||(b=s>0?s-1:m.getMonth());var y,w=l||0,x=c||0,_=u||0,C=d||0;return h?new Date(Date.UTC(v,b,g,w,x,_,C+60*h.offset*1e3)):n?new Date(Date.UTC(v,b,g,w,x,_,C)):(y=new Date(v,b,g,w,x,_,C),p&&(y=r(y).week(p).toDate()),y)}catch(e){return new Date("")}}(t,a,r,n),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(a)&&(this.$d=new Date("")),s={}}else if(a instanceof Array)for(var h=a.length,p=1;p<=h;p+=1){o[1]=a[p-1];var m=n.apply(this,o);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}p===h&&(this.$d=new Date(""))}else i.call(this,e)}}}()},1525:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isBetween=function(e,t,r,i){var o=n(e),s=n(t),a="("===(i=i||"()")[0],l=")"===i[1];return(a?this.isAfter(o,r):!this.isBefore(o,r))&&(l?this.isBefore(s,r):!this.isAfter(s,r))||(a?this.isBefore(o,r):!this.isAfter(o,r))&&(l?this.isAfter(s,r):!this.isBefore(s,r))}}}()},4443:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,r){var i=n.prototype,o=i.format;r.en.formats=e,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,r=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,i){var o=i&&i.toUpperCase();return r||n[i]||e[i]||n[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return o.call(this,r)}}}()},6865:function(e){e.exports=function(){"use strict";var e="week",t="year";return function(n,r,i){var o=r.prototype;o.week=function(n){if(void 0===n&&(n=null),null!==n)return this.add(7*(n-this.week()),"day");var r=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var o=i(this).startOf(t).add(1,t).date(r),s=i(this).endOf(e);if(o.isBefore(s))return 1}var a=i(this).startOf(t).date(r).startOf(e).subtract(1,"millisecond"),l=this.diff(a,e,!0);return l<0?i(this).startOf("week").week():Math.ceil(l)},o.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}()},5811:(e,t,n)=>{var r=n(347),i=n(1303).each;function o(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}o.prototype={constuctor:o,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=o},8537:(e,t,n)=>{var r=n(5811),i=n(1303),o=i.each,s=i.isFunction,a=i.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,n){var i=this.queries,l=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,l)),s(t)&&(t={match:t}),a(t)||(t=[t]),o(t,(function(t){s(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=l},347:e=>{function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},1303:e=>{e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},535:(e,t,n)=>{var r=n(8537);e.exports=new r},219:(e,t,n)=>{"use strict";var r=n(3763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var b=h(n,v);try{c(t,v,b)}catch(y){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function _(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return _(e)||x(e)===u},t.isConcurrentMode=_,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===a},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===b||e.$$typeof===y||e.$$typeof===w||e.$$typeof===v)},t.typeOf=x},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},1270:(e,t,n)=>{var r=n(7475),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,o){var s=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof s&&(s+="px"),t+=!0===s?i:!1===s?"not "+i:"("+i+": "+s+")",o<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},8065:(e,t,n)=>{var r=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,h=u||d||Function("return this")(),f=Object.prototype.toString,p=Math.max,m=Math.min,g=function(){return h.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==i}(e))return r;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=a.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?r:+e}e.exports=function(e,t,n){var r,i,o,s,a,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=i;return r=i=void 0,c=t,s=e.apply(o,n)}function y(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function w(){var e=g();if(y(e))return x(e);a=setTimeout(w,function(e){var n=t-(e-l);return d?m(n,o-(e-c)):n}(e))}function x(e){return a=void 0,h&&r?f(e):(r=i=void 0,s)}function _(){var e=g(),n=y(e);if(r=arguments,i=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(w,t),u?f(e):s}(l);if(d)return a=setTimeout(w,t),f(l)}return void 0===a&&(a=setTimeout(w,t)),s}return t=b(t)||0,v(n)&&(u=!!n.leading,o=(d="maxWait"in n)?p(b(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),_.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},_.flush=function(){return void 0===a?s:x(g())},_}},3536:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,c=32,u=64,d=128,h=256,f=1/0,p=9007199254740991,m=NaN,g=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",h]],b="[object Arguments]",y="[object Array]",w="[object Boolean]",x="[object Date]",_="[object Error]",C="[object Function]",k="[object GeneratorFunction]",S="[object Map]",A="[object Number]",T="[object Object]",I="[object Promise]",M="[object RegExp]",E="[object Set]",P="[object String]",D="[object Symbol]",j="[object WeakMap]",O="[object ArrayBuffer]",R="[object DataView]",L="[object Float32Array]",N="[object Float64Array]",B="[object Int8Array]",F="[object Int16Array]",z="[object Int32Array]",V="[object Uint8Array]",W="[object Uint8ClampedArray]",H="[object Uint16Array]",U="[object Uint32Array]",$=/\b__p \+= '';/g,Y=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,Z=RegExp(q.source),K=RegExp(X.source),Q=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),se=/^\s+/,ae=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,be=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,Ce=/['\n\r\u2028\u2029\\]/g,ke="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ae="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ie="A-Z\\xc0-\\xd6\\xd8-\\xde",Me="\\ufe0e\\ufe0f",Ee="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['\u2019]",De="["+ke+"]",je="["+Ee+"]",Oe="["+Se+"]",Re="\\d+",Le="["+Ae+"]",Ne="["+Te+"]",Be="[^"+ke+Ee+Re+Ae+Te+Ie+"]",Fe="\\ud83c[\\udffb-\\udfff]",ze="[^"+ke+"]",Ve="(?:\\ud83c[\\udde6-\\uddff]){2}",We="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ie+"]",Ue="\\u200d",$e="(?:"+Ne+"|"+Be+")",Ye="(?:"+He+"|"+Be+")",Ge="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Xe="(?:"+Oe+"|"+Fe+")"+"?",Ze="["+Me+"]?",Ke=Ze+Xe+("(?:"+Ue+"(?:"+[ze,Ve,We].join("|")+")"+Ze+Xe+")*"),Qe="(?:"+[Le,Ve,We].join("|")+")"+Ke,Je="(?:"+[ze+Oe+"?",Oe,Ve,We,De].join("|")+")",et=RegExp(Pe,"g"),tt=RegExp(Oe,"g"),nt=RegExp(Fe+"(?="+Fe+")|"+Je+Ke,"g"),rt=RegExp([He+"?"+Ne+"+"+Ge+"(?="+[je,He,"$"].join("|")+")",Ye+"+"+qe+"(?="+[je,He+$e,"$"].join("|")+")",He+"?"+$e+"+"+Ge,He+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Qe].join("|"),"g"),it=RegExp("["+Ue+ke+Se+Me+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,lt={};lt[L]=lt[N]=lt[B]=lt[F]=lt[z]=lt[V]=lt[W]=lt[H]=lt[U]=!0,lt[b]=lt[y]=lt[O]=lt[w]=lt[R]=lt[x]=lt[_]=lt[C]=lt[S]=lt[A]=lt[T]=lt[M]=lt[E]=lt[P]=lt[j]=!1;var ct={};ct[b]=ct[y]=ct[O]=ct[R]=ct[w]=ct[x]=ct[L]=ct[N]=ct[B]=ct[F]=ct[z]=ct[S]=ct[A]=ct[T]=ct[M]=ct[E]=ct[P]=ct[D]=ct[V]=ct[W]=ct[H]=ct[U]=!0,ct[_]=ct[C]=ct[j]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ht=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,mt=ft||pt||Function("return this")(),gt=t&&!t.nodeType&&t,vt=gt&&e&&!e.nodeType&&e,bt=vt&&vt.exports===gt,yt=bt&&ft.process,wt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(t){}}(),xt=wt&&wt.isArrayBuffer,_t=wt&&wt.isDate,Ct=wt&&wt.isMap,kt=wt&&wt.isRegExp,St=wt&&wt.isSet,At=wt&&wt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function It(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function Mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Et(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function jt(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function Ot(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Lt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Nt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Bt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var zt=Gt("length");function Vt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Wt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ht(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Wt(e,$t,n)}function Ut(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function $t(e){return e!==e}function Yt(e,t){var n=null==e?0:e.length;return n?Zt(e,t)/n:m}function Gt(e){return function(t){return null==t?i:t[e]}}function qt(e){return function(t){return null==e?i:e[t]}}function Xt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Zt(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qt(e){return e?e.slice(0,gn(e)+1).replace(se,""):e}function Jt(e){return function(t){return e(t)}}function en(e,t){return Rt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Ht(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Ht(t,e[n],0)>-1;);return n}var on=qt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),sn=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function ln(e){return it.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):zt(e)}function mn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var vn=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var bn=function e(t){var n=(t=null==t?mt:bn.defaults(mt.Object(),t,bn.pick(mt,st))).Array,r=t.Date,ae=t.Error,ke=t.Function,Se=t.Math,Ae=t.Object,Te=t.RegExp,Ie=t.String,Me=t.TypeError,Ee=n.prototype,Pe=ke.prototype,De=Ae.prototype,je=t["__core-js_shared__"],Oe=Pe.toString,Re=De.hasOwnProperty,Le=0,Ne=function(){var e=/[^.]+$/.exec(je&&je.keys&&je.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Be=De.toString,Fe=Oe.call(Ae),ze=mt._,Ve=Te("^"+Oe.call(Re).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=bt?t.Buffer:i,He=t.Symbol,Ue=t.Uint8Array,$e=We?We.allocUnsafe:i,Ye=un(Ae.getPrototypeOf,Ae),Ge=Ae.create,qe=De.propertyIsEnumerable,Xe=Ee.splice,Ze=He?He.isConcatSpreadable:i,Ke=He?He.iterator:i,Qe=He?He.toStringTag:i,Je=function(){try{var e=ho(Ae,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,it=r&&r.now!==mt.Date.now&&r.now,ut=t.setTimeout!==mt.setTimeout&&t.setTimeout,ft=Se.ceil,pt=Se.floor,gt=Ae.getOwnPropertySymbols,vt=We?We.isBuffer:i,yt=t.isFinite,wt=Ee.join,zt=un(Ae.keys,Ae),qt=Se.max,yn=Se.min,wn=r.now,xn=t.parseInt,_n=Se.random,Cn=Ee.reverse,kn=ho(t,"DataView"),Sn=ho(t,"Map"),An=ho(t,"Promise"),Tn=ho(t,"Set"),In=ho(t,"WeakMap"),Mn=ho(Ae,"create"),En=In&&new In,Pn={},Dn=Bo(kn),jn=Bo(Sn),On=Bo(An),Rn=Bo(Tn),Ln=Bo(In),Nn=He?He.prototype:i,Bn=Nn?Nn.valueOf:i,Fn=Nn?Nn.toString:i;function zn(e){if(ta(e)&&!Us(e)&&!(e instanceof Un)){if(e instanceof Hn)return e;if(Re.call(e,"__wrapped__"))return Fo(e)}return new Hn(e)}var Vn=function(){function e(){}return function(t){if(!ea(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Wn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Un(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Xn(e){var t=this.__data__=new Yn(e);this.size=t.size}function Zn(e,t){var n=Us(e),r=!n&&Hs(e),i=!n&&!r&&qs(e),o=!n&&!r&&!i&&ca(e),s=n||r||i||o,a=s?Kt(e.length,Ie):[],l=a.length;for(var c in e)!t&&!Re.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||yo(c,l))||a.push(c);return a}function Kn(e){var t=e.length;return t?e[qr(0,t-1)]:i}function Qn(e,t){return Ro(Mi(e),ar(t,0,e.length))}function Jn(e){return Ro(Mi(e))}function er(e,t,n){(n!==i&&!zs(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function tr(e,t,n){var r=e[t];Re.call(e,t)&&zs(r,n)&&(n!==i||t in e)||or(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(zs(e[n][0],t))return n;return-1}function rr(e,t,n,r){return hr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function ir(e,t){return e&&Ei(t,Pa(t),e)}function or(e,t,n){"__proto__"==t&&Je?Je(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,o=t.length,s=n(o),a=null==e;++r<o;)s[r]=a?i:Aa(e,t[r]);return s}function ar(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,o,s){var a,l=1&t,c=2&t,u=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!ea(e))return e;var d=Us(e);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Mi(e,a)}else{var h=mo(e),f=h==C||h==k;if(qs(e))return Ci(e,l);if(h==T||h==b||f&&!o){if(a=c||f?{}:vo(e),!l)return c?function(e,t){return Ei(e,po(e),t)}(e,function(e,t){return e&&Ei(t,Da(t),e)}(a,e)):function(e,t){return Ei(e,fo(e),t)}(e,ir(a,e))}else{if(!ct[h])return o?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case O:return ki(e);case w:case x:return new r(+e);case R:return function(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case N:case B:case F:case z:case V:case W:case H:case U:return Si(e,n);case S:return new r;case A:case P:return new r(e);case M:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case E:return new r;case D:return i=e,Bn?Ae(Bn.call(i)):{}}var i}(e,h,l)}}s||(s=new Xn);var p=s.get(e);if(p)return p;s.set(e,a),sa(e)?e.forEach((function(r){a.add(lr(r,t,n,r,e,s))})):na(e)&&e.forEach((function(r,i){a.set(i,lr(r,t,n,i,e,s))}));var m=d?i:(u?c?io:ro:c?Da:Pa)(e);return Mt(m||e,(function(r,i){m&&(r=e[i=r]),tr(a,i,lr(r,t,n,i,e,s))})),a}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ae(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new Me(o);return Po((function(){e.apply(i,n)}),t)}function dr(e,t,n,r){var i=-1,o=jt,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=Rt(t,Jt(n))),r?(o=Ot,s=!1):t.length>=200&&(o=tn,s=!1,t=new qn(t));e:for(;++i<a;){var u=e[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,s&&d===d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else o(t,d,r)||l.push(u)}return l}zn.templateSettings={escape:Q,evaluate:J,interpolate:ee,variable:"",imports:{_:zn}},zn.prototype=Wn.prototype,zn.prototype.constructor=zn,Hn.prototype=Vn(Wn.prototype),Hn.prototype.constructor=Hn,Un.prototype=Vn(Wn.prototype),Un.prototype.constructor=Un,$n.prototype.clear=function(){this.__data__=Mn?Mn(null):{},this.size=0},$n.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$n.prototype.get=function(e){var t=this.__data__;if(Mn){var n=t[e];return n===s?i:n}return Re.call(t,e)?t[e]:i},$n.prototype.has=function(e){var t=this.__data__;return Mn?t[e]!==i:Re.call(t,e)},$n.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Mn&&t===i?s:t,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,!0)},Yn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},Yn.prototype.has=function(e){return nr(this.__data__,e)>-1},Yn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new $n,map:new(Sn||Yn),string:new $n}},Gn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return co(this,e).get(e)},Gn.prototype.has=function(e){return co(this,e).has(e)},Gn.prototype.set=function(e,t){var n=co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,s),this},qn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.clear=function(){this.__data__=new Yn,this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Xn.prototype.get=function(e){return this.__data__.get(e)},Xn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Yn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var hr=ji(wr),fr=ji(xr,!0);function pr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function mr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(l===i?a===a&&!la(a):n(a,l)))var l=a,c=s}return c}function gr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function vr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=bo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?vr(a,t-1,n,r,i):Lt(i,a):r||(i[i.length]=a)}return i}var br=Oi(),yr=Oi(!0);function wr(e,t){return e&&br(e,t,Pa)}function xr(e,t){return e&&yr(e,t,Pa)}function _r(e,t){return Dt(t,(function(t){return Ks(e[t])}))}function Cr(e,t){for(var n=0,r=(t=yi(t,e)).length;null!=e&&n<r;)e=e[No(t[n++])];return n&&n==r?e:i}function kr(e,t,n){var r=t(e);return Us(e)?r:Lt(r,n(e))}function Sr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Qe&&Qe in Ae(e)?function(e){var t=Re.call(e,Qe),n=e[Qe];try{e[Qe]=i;var r=!0}catch(s){}var o=Be.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return o}(e):function(e){return Be.call(e)}(e)}function Ar(e,t){return e>t}function Tr(e,t){return null!=e&&Re.call(e,t)}function Ir(e,t){return null!=e&&t in Ae(e)}function Mr(e,t,r){for(var o=r?Ot:jt,s=e[0].length,a=e.length,l=a,c=n(a),u=1/0,d=[];l--;){var h=e[l];l&&t&&(h=Rt(h,Jt(t))),u=yn(h.length,u),c[l]=!r&&(t||s>=120&&h.length>=120)?new qn(l&&h):i}h=e[0];var f=-1,p=c[0];e:for(;++f<s&&d.length<u;){var m=h[f],g=t?t(m):m;if(m=r||0!==m?m:0,!(p?tn(p,g):o(d,g,r))){for(l=a;--l;){var v=c[l];if(!(v?tn(v,g):o(e[l],g,r)))continue e}p&&p.push(g),d.push(m)}}return d}function Er(e,t,n){var r=null==(e=Io(e,t=yi(t,e)))?e:e[No(Zo(t))];return null==r?i:Tt(r,e,n)}function Pr(e){return ta(e)&&Sr(e)==b}function Dr(e,t,n,r,o){return e===t||(null==e||null==t||!ta(e)&&!ta(t)?e!==e&&t!==t:function(e,t,n,r,o,s){var a=Us(e),l=Us(t),c=a?y:mo(e),u=l?y:mo(t),d=(c=c==b?T:c)==T,h=(u=u==b?T:u)==T,f=c==u;if(f&&qs(e)){if(!qs(t))return!1;a=!0,d=!1}if(f&&!d)return s||(s=new Xn),a||ca(e)?to(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!o(new Ue(e),new Ue(t)));case w:case x:case A:return zs(+e,+t);case _:return e.name==t.name&&e.message==t.message;case M:case P:return e==t+"";case S:var a=cn;case E:var l=1&r;if(a||(a=hn),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=to(a(e),a(t),r,i,o,s);return s.delete(e),u;case D:if(Bn)return Bn.call(e)==Bn.call(t)}return!1}(e,t,c,n,r,o,s);if(!(1&n)){var p=d&&Re.call(e,"__wrapped__"),m=h&&Re.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return s||(s=new Xn),o(g,v,n,r,s)}}if(!f)return!1;return s||(s=new Xn),function(e,t,n,r,o,s){var a=1&n,l=ro(e),c=l.length,u=ro(t),d=u.length;if(c!=d&&!a)return!1;var h=c;for(;h--;){var f=l[h];if(!(a?f in t:Re.call(t,f)))return!1}var p=s.get(e),m=s.get(t);if(p&&m)return p==t&&m==e;var g=!0;s.set(e,t),s.set(t,e);var v=a;for(;++h<c;){var b=e[f=l[h]],y=t[f];if(r)var w=a?r(y,b,f,t,e,s):r(b,y,f,e,t,s);if(!(w===i?b===y||o(b,y,n,r,s):w)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var x=e.constructor,_=t.constructor;x==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof _&&_ instanceof _||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,r,o,s)}(e,t,n,r,Dr,o))}function jr(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Ae(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var c=(l=n[o])[0],u=e[c],d=l[1];if(a&&l[2]){if(u===i&&!(c in e))return!1}else{var h=new Xn;if(r)var f=r(u,d,c,e,t,h);if(!(f===i?Dr(d,u,3,r,h):f))return!1}}return!0}function Or(e){return!(!ea(e)||(t=e,Ne&&Ne in t))&&(Ks(e)?Ve:be).test(Bo(e));var t}function Rr(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?Us(e)?Vr(e[0],e[1]):zr(e):hl(e)}function Lr(e){if(!ko(e))return zt(e);var t=[];for(var n in Ae(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Nr(e){if(!ea(e))return function(e){var t=[];if(null!=e)for(var n in Ae(e))t.push(n);return t}(e);var t=ko(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}function Br(e,t){return e<t}function Fr(e,t){var r=-1,i=Ys(e)?n(e.length):[];return hr(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function zr(e){var t=uo(e);return 1==t.length&&t[0][2]?Ao(t[0][0],t[0][1]):function(n){return n===e||jr(n,e,t)}}function Vr(e,t){return xo(e)&&So(t)?Ao(No(e),t):function(n){var r=Aa(n,e);return r===i&&r===t?Ta(n,e):Dr(t,r,3)}}function Wr(e,t,n,r,o){e!==t&&br(t,(function(s,a){if(o||(o=new Xn),ea(s))!function(e,t,n,r,o,s,a){var l=Mo(e,n),c=Mo(t,n),u=a.get(c);if(u)return void er(e,n,u);var d=s?s(l,c,n+"",e,t,a):i,h=d===i;if(h){var f=Us(c),p=!f&&qs(c),m=!f&&!p&&ca(c);d=c,f||p||m?Us(l)?d=l:Gs(l)?d=Mi(l):p?(h=!1,d=Ci(c,!0)):m?(h=!1,d=Si(c,!0)):d=[]:ia(c)||Hs(c)?(d=l,Hs(l)?d=va(l):ea(l)&&!Ks(l)||(d=vo(c))):h=!1}h&&(a.set(c,d),o(d,c,r,s,a),a.delete(c));er(e,n,d)}(e,t,a,n,Wr,r,o);else{var l=r?r(Mo(e,a),s,a+"",e,t,o):i;l===i&&(l=s),er(e,a,l)}}),Da)}function Hr(e,t){var n=e.length;if(n)return yo(t+=t<0?n:0,n)?e[t]:i}function Ur(e,t,n){t=t.length?Rt(t,(function(e){return Us(e)?function(t){return Cr(t,1===e.length?e[0]:e)}:e})):[rl];var r=-1;t=Rt(t,Jt(lo()));var i=Fr(e,(function(e,n,i){var o=Rt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var l=Ai(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function $r(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Cr(e,s);n(a,s)&&Jr(o,yi(s,e),a)}return o}function Yr(e,t,n,r){var i=r?Ut:Ht,o=-1,s=t.length,a=e;for(e===t&&(t=Mi(t)),n&&(a=Rt(e,Jt(n)));++o<s;)for(var l=0,c=t[o],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==e&&Xe.call(a,l,1),Xe.call(e,l,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;yo(i)?Xe.call(e,i,1):di(e,i)}}return e}function qr(e,t){return e+pt(_n()*(t-e+1))}function Xr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Zr(e,t){return Do(To(e,t,rl),e+"")}function Kr(e){return Kn(za(e))}function Qr(e,t){var n=za(e);return Ro(n,ar(t,0,n.length))}function Jr(e,t,n,r){if(!ea(e))return e;for(var o=-1,s=(t=yi(t,e)).length,a=s-1,l=e;null!=l&&++o<s;){var c=No(t[o]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var d=l[c];(u=r?r(d,c,l):i)===i&&(u=ea(d)?d:yo(t[o+1])?[]:{})}tr(l,c,u),l=l[c]}return e}var ei=En?function(e,t){return En.set(e,t),e}:rl,ti=Je?function(e,t){return Je(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function ni(e){return Ro(za(e))}function ri(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var s=n(o);++i<o;)s[i]=e[i+t];return s}function ii(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!la(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return si(e,t,rl,n)}function si(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!==t,l=null===t,c=la(t),u=t===i;o<s;){var d=pt((o+s)/2),h=n(e[d]),f=h!==i,p=null===h,m=h===h,g=la(h);if(a)var v=r||m;else v=u?m&&(r||f):l?m&&f&&(r||!p):c?m&&f&&!p&&(r||!g):!p&&!g&&(r?h<=t:h<t);v?o=d+1:s=d}return yn(s,4294967294)}function ai(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!zs(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function li(e){return"number"==typeof e?e:la(e)?m:+e}function ci(e){if("string"==typeof e)return e;if(Us(e))return Rt(e,ci)+"";if(la(e))return Fn?Fn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ui(e,t,n){var r=-1,i=jt,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=Ot;else if(o>=200){var c=t?null:Xi(e);if(c)return hn(c);s=!1,i=tn,l=new qn}else l=t?[]:a;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function di(e,t){return null==(e=Io(e,t=yi(t,e)))||delete e[No(Zo(t))]}function hi(e,t,n,r){return Jr(e,t,n(Cr(e,t)),r)}function fi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ri(e,r?0:o,r?o+1:i):ri(e,r?o+1:0,r?i:o)}function pi(e,t){var n=e;return n instanceof Un&&(n=n.value()),Nt(t,(function(e,t){return t.func.apply(t.thisArg,Lt([e],t.args))}),n)}function mi(e,t,r){var i=e.length;if(i<2)return i?ui(e[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=e[o],l=-1;++l<i;)l!=o&&(s[o]=dr(s[o]||a,e[l],t,r));return ui(vr(s,1),t,r)}function gi(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var l=r<s?t[r]:i;n(a,e[r],l)}return a}function vi(e){return Gs(e)?e:[]}function bi(e){return"function"==typeof e?e:rl}function yi(e,t){return Us(e)?e:xo(e,t)?[e]:Lo(ba(e))}var wi=Zr;function xi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var _i=nt||function(e){return mt.clearTimeout(e)};function Ci(e,t){if(t)return e.slice();var n=e.length,r=$e?$e(n):new e.constructor(n);return e.copy(r),r}function ki(e){var t=new e.constructor(e.byteLength);return new Ue(t).set(new Ue(e)),t}function Si(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ai(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,s=la(e),a=t!==i,l=null===t,c=t===t,u=la(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!u&&e<t||u&&n&&o&&!r&&!s||l&&n&&o||!a&&o||!c)return-1}return 0}function Ti(e,t,r,i){for(var o=-1,s=e.length,a=r.length,l=-1,c=t.length,u=qt(s-a,0),d=n(c+u),h=!i;++l<c;)d[l]=t[l];for(;++o<a;)(h||o<s)&&(d[r[o]]=e[o]);for(;u--;)d[l++]=e[o++];return d}function Ii(e,t,r,i){for(var o=-1,s=e.length,a=-1,l=r.length,c=-1,u=t.length,d=qt(s-l,0),h=n(d+u),f=!i;++o<d;)h[o]=e[o];for(var p=o;++c<u;)h[p+c]=t[c];for(;++a<l;)(f||o<s)&&(h[p+r[a]]=e[o++]);return h}function Mi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ei(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],c=r?r(n[l],e[l],l,n,e):i;c===i&&(c=e[l]),o?or(n,l,c):tr(n,l,c)}return n}function Pi(e,t){return function(n,r){var i=Us(n)?It:rr,o=t?t():{};return i(n,e,lo(r,2),o)}}function Di(e){return Zr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&wo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Ae(t);++r<o;){var l=n[r];l&&e(t,l,r,s)}return t}))}function ji(e,t){return function(n,r){if(null==n)return n;if(!Ys(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Ae(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Oi(e){return function(t,n,r){for(var i=-1,o=Ae(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}function Ri(e){return function(t){var n=ln(t=ba(t))?mn(t):i,r=n?n[0]:t.charAt(0),o=n?xi(n,1).join(""):t.slice(1);return r[e]()+o}}function Li(e){return function(t){return Nt(Ka(Ha(t).replace(et,"")),e,"")}}function Ni(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Vn(e.prototype),r=e.apply(n,t);return ea(r)?r:n}}function Bi(e){return function(t,n,r){var o=Ae(t);if(!Ys(t)){var s=lo(n,3);t=Pa(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Fi(e){return no((function(t){var n=t.length,r=n,s=Hn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Me(o);if(s&&!l&&"wrapper"==so(a))var l=new Hn([],!0)}for(r=l?r:n;++r<n;){var c=so(a=t[r]),u="wrapper"==c?oo(a):i;l=u&&_o(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[so(u[0])].apply(l,u[3]):1==a.length&&_o(a)?l[c]():l.thru(a)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Us(r))return l.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function zi(e,t,r,o,s,a,l,c,u,h){var f=t&d,p=1&t,m=2&t,g=24&t,v=512&t,b=m?i:Ni(e);return function d(){for(var y=arguments.length,w=n(y),x=y;x--;)w[x]=arguments[x];if(g)var _=ao(d),C=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,_);if(o&&(w=Ti(w,o,s,g)),a&&(w=Ii(w,a,l,g)),y-=C,g&&y<h){var k=dn(w,_);return Gi(e,t,zi,d.placeholder,r,w,k,c,u,h-y)}var S=p?r:this,A=m?S[e]:e;return y=w.length,c?w=function(e,t){var n=e.length,r=yn(t.length,n),o=Mi(e);for(;r--;){var s=t[r];e[r]=yo(s,n)?o[s]:i}return e}(w,c):v&&y>1&&w.reverse(),f&&u<y&&(w.length=u),this&&this!==mt&&this instanceof d&&(A=b||Ni(A)),A.apply(S,w)}}function Vi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Wi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),o=e(n,r)}return o}}function Hi(e){return no((function(t){return t=Rt(t,Jt(lo())),Zr((function(n){var r=this;return e(t,(function(e){return Tt(e,r,n)}))}))}))}function Ui(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?Xr(t,e):t;var r=Xr(t,ft(e/pn(t)));return ln(t)?xi(mn(r),0,e).join(""):r.slice(0,e)}function $i(e){return function(t,r,o){return o&&"number"!=typeof o&&wo(t,r,o)&&(r=o=i),t=fa(t),r===i?(r=t,t=0):r=fa(r),function(e,t,r,i){for(var o=-1,s=qt(ft((t-e)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=e,e+=r;return a}(t,r,o=o===i?t<r?1:-1:fa(o),e)}}function Yi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ga(t),n=ga(n)),e(t,n)}}function Gi(e,t,n,r,o,s,a,l,d,h){var f=8&t;t|=f?c:u,4&(t&=~(f?u:c))||(t&=-4);var p=[e,t,o,f?s:i,f?a:i,f?i:s,f?i:a,l,d,h],m=n.apply(i,p);return _o(e)&&Eo(m,p),m.placeholder=r,jo(m,e,t)}function qi(e){var t=Se[e];return function(e,n){if(e=ga(e),(n=null==n?0:yn(pa(n),292))&&yt(e)){var r=(ba(e)+"e").split("e");return+((r=(ba(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Xi=Tn&&1/hn(new Tn([,-0]))[1]==f?function(e){return new Tn(e)}:ll;function Zi(e){return function(t){var n=mo(t);return n==S?cn(t):n==E?fn(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ki(e,t,r,s,f,p,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Me(o);var b=s?s.length:0;if(b||(t&=-97,s=f=i),m=m===i?m:qt(pa(m),0),g=g===i?g:pa(g),b-=f?f.length:0,t&u){var y=s,w=f;s=f=i}var x=v?i:oo(e),_=[e,t,r,s,f,y,w,p,m,g];if(x&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==d&&8==n||r==d&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Ti(c,l,t[4]):l,e[4]=c?dn(e[3],a):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Ii(c,l,t[6]):l,e[6]=c?dn(e[5],a):t[6]);(l=t[7])&&(e[7]=l);r&d&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,x),e=_[0],t=_[1],r=_[2],s=_[3],f=_[4],!(g=_[9]=_[9]===i?v?0:e.length:qt(_[9]-b,0))&&24&t&&(t&=-25),t&&1!=t)C=8==t||t==l?function(e,t,r){var o=Ni(e);return function s(){for(var a=arguments.length,l=n(a),c=a,u=ao(s);c--;)l[c]=arguments[c];var d=a<3&&l[0]!==u&&l[a-1]!==u?[]:dn(l,u);return(a-=d.length)<r?Gi(e,t,zi,s.placeholder,i,l,d,i,i,r-a):Tt(this&&this!==mt&&this instanceof s?o:e,this,l)}}(e,t,g):t!=c&&33!=t||f.length?zi.apply(i,_):function(e,t,r,i){var o=1&t,s=Ni(e);return function t(){for(var a=-1,l=arguments.length,c=-1,u=i.length,d=n(u+l),h=this&&this!==mt&&this instanceof t?s:e;++c<u;)d[c]=i[c];for(;l--;)d[c++]=arguments[++a];return Tt(h,o?r:this,d)}}(e,t,r,s);else var C=function(e,t,n){var r=1&t,i=Ni(e);return function t(){return(this&&this!==mt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return jo((x?ei:Eo)(C,_),e,t)}function Qi(e,t,n,r){return e===i||zs(e,De[n])&&!Re.call(r,n)?t:e}function Ji(e,t,n,r,o,s){return ea(e)&&ea(t)&&(s.set(t,e),Wr(e,t,i,Ji,s),s.delete(t)),e}function eo(e){return ia(e)?i:e}function to(e,t,n,r,o,s){var a=1&n,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,p=2&n?new qn:i;for(s.set(e,t),s.set(t,e);++h<l;){var m=e[h],g=t[h];if(r)var v=a?r(g,m,h,t,e,s):r(m,g,h,e,t,s);if(v!==i){if(v)continue;f=!1;break}if(p){if(!Ft(t,(function(e,t){if(!tn(p,t)&&(m===e||o(m,e,n,r,s)))return p.push(t)}))){f=!1;break}}else if(m!==g&&!o(m,g,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function no(e){return Do(To(e,i,$o),e+"")}function ro(e){return kr(e,Pa,fo)}function io(e){return kr(e,Da,po)}var oo=En?function(e){return En.get(e)}:ll;function so(e){for(var t=e.name+"",n=Pn[t],r=Re.call(Pn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function ao(e){return(Re.call(zn,"placeholder")?zn:e).placeholder}function lo(){var e=zn.iteratee||il;return e=e===il?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function uo(e){for(var t=Pa(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,So(i)]}return t}function ho(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Or(n)?n:i}var fo=gt?function(e){return null==e?[]:(e=Ae(e),Dt(gt(e),(function(t){return qe.call(e,t)})))}:ml,po=gt?function(e){for(var t=[];e;)Lt(t,fo(e)),e=Ye(e);return t}:ml,mo=Sr;function go(e,t,n){for(var r=-1,i=(t=yi(t,e)).length,o=!1;++r<i;){var s=No(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Js(i)&&yo(s,i)&&(Us(e)||Hs(e))}function vo(e){return"function"!=typeof e.constructor||ko(e)?{}:Vn(Ye(e))}function bo(e){return Us(e)||Hs(e)||!!(Ze&&e&&e[Ze])}function yo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,n){if(!ea(n))return!1;var r=typeof t;return!!("number"==r?Ys(n)&&yo(t,n.length):"string"==r&&t in n)&&zs(n[t],e)}function xo(e,t){if(Us(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!la(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ae(t))}function _o(e){var t=so(e),n=zn[t];if("function"!=typeof n||!(t in Un.prototype))return!1;if(e===n)return!0;var r=oo(n);return!!r&&e===r[0]}(kn&&mo(new kn(new ArrayBuffer(1)))!=R||Sn&&mo(new Sn)!=S||An&&mo(An.resolve())!=I||Tn&&mo(new Tn)!=E||In&&mo(new In)!=j)&&(mo=function(e){var t=Sr(e),n=t==T?e.constructor:i,r=n?Bo(n):"";if(r)switch(r){case Dn:return R;case jn:return S;case On:return I;case Rn:return E;case Ln:return j}return t});var Co=je?Ks:gl;function ko(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)}function So(e){return e===e&&!ea(e)}function Ao(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ae(n)))}}function To(e,t,r){return t=qt(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=qt(i.length-t,0),a=n(s);++o<s;)a[o]=i[t+o];o=-1;for(var l=n(t+1);++o<t;)l[o]=i[o];return l[t]=r(a),Tt(e,this,l)}}function Io(e,t){return t.length<2?e:Cr(e,ri(t,0,-1))}function Mo(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Eo=Oo(ei),Po=ut||function(e,t){return mt.setTimeout(e,t)},Do=Oo(ti);function jo(e,t,n){var r=t+"";return Do(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Mt(v,(function(n){var r="_."+n[0];t&n[1]&&!jt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(r),n)))}function Oo(e){var t=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ro(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=qr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Lo=function(e){var t=Os(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}));function No(e){if("string"==typeof e||la(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bo(e){if(null!=e){try{return Oe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fo(e){if(e instanceof Un)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=Mi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var zo=Zr((function(e,t){return Gs(e)?dr(e,vr(t,1,Gs,!0)):[]})),Vo=Zr((function(e,t){var n=Zo(t);return Gs(n)&&(n=i),Gs(e)?dr(e,vr(t,1,Gs,!0),lo(n,2)):[]})),Wo=Zr((function(e,t){var n=Zo(t);return Gs(n)&&(n=i),Gs(e)?dr(e,vr(t,1,Gs,!0),i,n):[]}));function Ho(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=qt(r+i,0)),Wt(e,lo(t,3),i)}function Uo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=pa(n),o=n<0?qt(r+o,0):yn(o,r-1)),Wt(e,lo(t,3),o,!0)}function $o(e){return(null==e?0:e.length)?vr(e,1):[]}function Yo(e){return e&&e.length?e[0]:i}var Go=Zr((function(e){var t=Rt(e,vi);return t.length&&t[0]===e[0]?Mr(t):[]})),qo=Zr((function(e){var t=Zo(e),n=Rt(e,vi);return t===Zo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Mr(n,lo(t,2)):[]})),Xo=Zr((function(e){var t=Zo(e),n=Rt(e,vi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Mr(n,i,t):[]}));function Zo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ko=Zr(Qo);function Qo(e,t){return e&&e.length&&t&&t.length?Yr(e,t):e}var Jo=no((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Gr(e,Rt(t,(function(e){return yo(e,n)?+e:e})).sort(Ai)),r}));function es(e){return null==e?e:Cn.call(e)}var ts=Zr((function(e){return ui(vr(e,1,Gs,!0))})),ns=Zr((function(e){var t=Zo(e);return Gs(t)&&(t=i),ui(vr(e,1,Gs,!0),lo(t,2))})),rs=Zr((function(e){var t=Zo(e);return t="function"==typeof t?t:i,ui(vr(e,1,Gs,!0),i,t)}));function is(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,(function(e){if(Gs(e))return t=qt(e.length,t),!0})),Kt(t,(function(t){return Rt(e,Gt(t))}))}function os(e,t){if(!e||!e.length)return[];var n=is(e);return null==t?n:Rt(n,(function(e){return Tt(t,i,e)}))}var ss=Zr((function(e,t){return Gs(e)?dr(e,t):[]})),as=Zr((function(e){return mi(Dt(e,Gs))})),ls=Zr((function(e){var t=Zo(e);return Gs(t)&&(t=i),mi(Dt(e,Gs),lo(t,2))})),cs=Zr((function(e){var t=Zo(e);return t="function"==typeof t?t:i,mi(Dt(e,Gs),i,t)})),us=Zr(is);var ds=Zr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,os(e,n)}));function hs(e){var t=zn(e);return t.__chain__=!0,t}function fs(e,t){return t(e)}var ps=no((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Un&&yo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fs,args:[o],thisArg:i}),new Hn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var ms=Pi((function(e,t,n){Re.call(e,n)?++e[n]:or(e,n,1)}));var gs=Bi(Ho),vs=Bi(Uo);function bs(e,t){return(Us(e)?Mt:hr)(e,lo(t,3))}function ys(e,t){return(Us(e)?Et:fr)(e,lo(t,3))}var ws=Pi((function(e,t,n){Re.call(e,n)?e[n].push(t):or(e,n,[t])}));var xs=Zr((function(e,t,r){var i=-1,o="function"==typeof t,s=Ys(e)?n(e.length):[];return hr(e,(function(e){s[++i]=o?Tt(t,e,r):Er(e,t,r)})),s})),_s=Pi((function(e,t,n){or(e,n,t)}));function Cs(e,t){return(Us(e)?Rt:Fr)(e,lo(t,3))}var ks=Pi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ss=Zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wo(e,t[0],t[1])?t=[]:n>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Ur(e,vr(t,1),[])})),As=it||function(){return mt.Date.now()};function Ts(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ki(e,d,i,i,i,i,t)}function Is(e,t){var n;if("function"!=typeof t)throw new Me(o);return e=pa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ms=Zr((function(e,t,n){var r=1;if(n.length){var i=dn(n,ao(Ms));r|=c}return Ki(e,r,t,n,i)})),Es=Zr((function(e,t,n){var r=3;if(n.length){var i=dn(n,ao(Es));r|=c}return Ki(t,r,e,n,i)}));function Ps(e,t,n){var r,s,a,l,c,u,d=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new Me(o);function m(t){var n=r,o=s;return r=s=i,d=t,l=e.apply(o,n)}function g(e){var n=e-u;return u===i||n>=t||n<0||f&&e-d>=a}function v(){var e=As();if(g(e))return b(e);c=Po(v,function(e){var n=t-(e-u);return f?yn(n,a-(e-d)):n}(e))}function b(e){return c=i,p&&r?m(e):(r=s=i,l)}function y(){var e=As(),n=g(e);if(r=arguments,s=this,u=e,n){if(c===i)return function(e){return d=e,c=Po(v,t),h?m(e):l}(u);if(f)return _i(c),c=Po(v,t),m(u)}return c===i&&(c=Po(v,t)),l}return t=ga(t)||0,ea(n)&&(h=!!n.leading,a=(f="maxWait"in n)?qt(ga(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),y.cancel=function(){c!==i&&_i(c),d=0,r=u=s=c=i},y.flush=function(){return c===i?l:b(As())},y}var Ds=Zr((function(e,t){return ur(e,1,t)})),js=Zr((function(e,t,n){return ur(e,ga(t)||0,n)}));function Os(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Me(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Os.Cache||Gn),n}function Rs(e){if("function"!=typeof e)throw new Me(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Os.Cache=Gn;var Ls=wi((function(e,t){var n=(t=1==t.length&&Us(t[0])?Rt(t[0],Jt(lo())):Rt(vr(t,1),Jt(lo()))).length;return Zr((function(r){for(var i=-1,o=yn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Tt(e,this,r)}))})),Ns=Zr((function(e,t){var n=dn(t,ao(Ns));return Ki(e,c,i,t,n)})),Bs=Zr((function(e,t){var n=dn(t,ao(Bs));return Ki(e,u,i,t,n)})),Fs=no((function(e,t){return Ki(e,h,i,i,i,t)}));function zs(e,t){return e===t||e!==e&&t!==t}var Vs=Yi(Ar),Ws=Yi((function(e,t){return e>=t})),Hs=Pr(function(){return arguments}())?Pr:function(e){return ta(e)&&Re.call(e,"callee")&&!qe.call(e,"callee")},Us=n.isArray,$s=xt?Jt(xt):function(e){return ta(e)&&Sr(e)==O};function Ys(e){return null!=e&&Js(e.length)&&!Ks(e)}function Gs(e){return ta(e)&&Ys(e)}var qs=vt||gl,Xs=_t?Jt(_t):function(e){return ta(e)&&Sr(e)==x};function Zs(e){if(!ta(e))return!1;var t=Sr(e);return t==_||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ia(e)}function Ks(e){if(!ea(e))return!1;var t=Sr(e);return t==C||t==k||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qs(e){return"number"==typeof e&&e==pa(e)}function Js(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ea(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ta(e){return null!=e&&"object"==typeof e}var na=Ct?Jt(Ct):function(e){return ta(e)&&mo(e)==S};function ra(e){return"number"==typeof e||ta(e)&&Sr(e)==A}function ia(e){if(!ta(e)||Sr(e)!=T)return!1;var t=Ye(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Oe.call(n)==Fe}var oa=kt?Jt(kt):function(e){return ta(e)&&Sr(e)==M};var sa=St?Jt(St):function(e){return ta(e)&&mo(e)==E};function aa(e){return"string"==typeof e||!Us(e)&&ta(e)&&Sr(e)==P}function la(e){return"symbol"==typeof e||ta(e)&&Sr(e)==D}var ca=At?Jt(At):function(e){return ta(e)&&Js(e.length)&&!!lt[Sr(e)]};var ua=Yi(Br),da=Yi((function(e,t){return e<=t}));function ha(e){if(!e)return[];if(Ys(e))return aa(e)?mn(e):Mi(e);if(Ke&&e[Ke])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ke]());var t=mo(e);return(t==S?cn:t==E?hn:za)(e)}function fa(e){return e?(e=ga(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function pa(e){var t=fa(e),n=t%1;return t===t?n?t-n:t:0}function ma(e){return e?ar(pa(e),0,g):0}function ga(e){if("number"==typeof e)return e;if(la(e))return m;if(ea(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ea(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=ve.test(e);return n||ye.test(e)?ht(e.slice(2),n?2:8):ge.test(e)?m:+e}function va(e){return Ei(e,Da(e))}function ba(e){return null==e?"":ci(e)}var ya=Di((function(e,t){if(ko(t)||Ys(t))Ei(t,Pa(t),e);else for(var n in t)Re.call(t,n)&&tr(e,n,t[n])})),wa=Di((function(e,t){Ei(t,Da(t),e)})),xa=Di((function(e,t,n,r){Ei(t,Da(t),e,r)})),_a=Di((function(e,t,n,r){Ei(t,Pa(t),e,r)})),Ca=no(sr);var ka=Zr((function(e,t){e=Ae(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&wo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=Da(s),l=-1,c=a.length;++l<c;){var u=a[l],d=e[u];(d===i||zs(d,De[u])&&!Re.call(e,u))&&(e[u]=s[u])}return e})),Sa=Zr((function(e){return e.push(i,Ji),Tt(Oa,i,e)}));function Aa(e,t,n){var r=null==e?i:Cr(e,t);return r===i?n:r}function Ta(e,t){return null!=e&&go(e,t,Ir)}var Ia=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),e[t]=n}),el(rl)),Ma=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),lo),Ea=Zr(Er);function Pa(e){return Ys(e)?Zn(e):Lr(e)}function Da(e){return Ys(e)?Zn(e,!0):Nr(e)}var ja=Di((function(e,t,n){Wr(e,t,n)})),Oa=Di((function(e,t,n,r){Wr(e,t,n,r)})),Ra=no((function(e,t){var n={};if(null==e)return n;var r=!1;t=Rt(t,(function(t){return t=yi(t,e),r||(r=t.length>1),t})),Ei(e,io(e),n),r&&(n=lr(n,7,eo));for(var i=t.length;i--;)di(n,t[i]);return n}));var La=no((function(e,t){return null==e?{}:function(e,t){return $r(e,t,(function(t,n){return Ta(e,n)}))}(e,t)}));function Na(e,t){if(null==e)return{};var n=Rt(io(e),(function(e){return[e]}));return t=lo(t),$r(e,n,(function(e,n){return t(e,n[0])}))}var Ba=Zi(Pa),Fa=Zi(Da);function za(e){return null==e?[]:en(e,Pa(e))}var Va=Li((function(e,t,n){return t=t.toLowerCase(),e+(n?Wa(t):t)}));function Wa(e){return Za(ba(e).toLowerCase())}function Ha(e){return(e=ba(e))&&e.replace(xe,on).replace(tt,"")}var Ua=Li((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),$a=Li((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ya=Ri("toLowerCase");var Ga=Li((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var qa=Li((function(e,t,n){return e+(n?" ":"")+Za(t)}));var Xa=Li((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Za=Ri("toUpperCase");function Ka(e,t,n){return e=ba(e),(t=n?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Qa=Zr((function(e,t){try{return Tt(e,i,t)}catch(n){return Zs(n)?n:new ae(n)}})),Ja=no((function(e,t){return Mt(t,(function(t){t=No(t),or(e,t,Ms(e[t],e))})),e}));function el(e){return function(){return e}}var tl=Fi(),nl=Fi(!0);function rl(e){return e}function il(e){return Rr("function"==typeof e?e:lr(e,1))}var ol=Zr((function(e,t){return function(n){return Er(n,e,t)}})),sl=Zr((function(e,t){return function(n){return Er(e,n,t)}}));function al(e,t,n){var r=Pa(t),i=_r(t,r);null!=n||ea(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=_r(t,Pa(t)));var o=!(ea(n)&&"chain"in n)||!!n.chain,s=Ks(e);return Mt(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Mi(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Lt([this.value()],arguments))})})),e}function ll(){}var cl=Hi(Rt),ul=Hi(Pt),dl=Hi(Ft);function hl(e){return xo(e)?Gt(No(e)):function(e){return function(t){return Cr(t,e)}}(e)}var fl=$i(),pl=$i(!0);function ml(){return[]}function gl(){return!1}var vl=Wi((function(e,t){return e+t}),0),bl=qi("ceil"),yl=Wi((function(e,t){return e/t}),1),wl=qi("floor");var xl=Wi((function(e,t){return e*t}),1),_l=qi("round"),Cl=Wi((function(e,t){return e-t}),0);return zn.after=function(e,t){if("function"!=typeof t)throw new Me(o);return e=pa(e),function(){if(--e<1)return t.apply(this,arguments)}},zn.ary=Ts,zn.assign=ya,zn.assignIn=wa,zn.assignInWith=xa,zn.assignWith=_a,zn.at=Ca,zn.before=Is,zn.bind=Ms,zn.bindAll=Ja,zn.bindKey=Es,zn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Us(e)?e:[e]},zn.chain=hs,zn.chunk=function(e,t,r){t=(r?wo(e,t,r):t===i)?1:qt(pa(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,l=n(ft(o/t));s<o;)l[a++]=ri(e,s,s+=t);return l},zn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},zn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Lt(Us(r)?Mi(r):[r],vr(t,1))},zn.cond=function(e){var t=null==e?0:e.length,n=lo();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new Me(o);return[n(e[0]),e[1]]})):[],Zr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Tt(i[0],this,n))return Tt(i[1],this,n)}}))},zn.conforms=function(e){return function(e){var t=Pa(e);return function(n){return cr(n,e,t)}}(lr(e,1))},zn.constant=el,zn.countBy=ms,zn.create=function(e,t){var n=Vn(e);return null==t?n:ir(n,t)},zn.curry=function e(t,n,r){var o=Ki(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},zn.curryRight=function e(t,n,r){var o=Ki(t,l,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},zn.debounce=Ps,zn.defaults=ka,zn.defaultsDeep=Sa,zn.defer=Ds,zn.delay=js,zn.difference=zo,zn.differenceBy=Vo,zn.differenceWith=Wo,zn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:pa(t))<0?0:t,r):[]},zn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:pa(t)))<0?0:t):[]},zn.dropRightWhile=function(e,t){return e&&e.length?fi(e,lo(t,3),!0,!0):[]},zn.dropWhile=function(e,t){return e&&e.length?fi(e,lo(t,3),!0):[]},zn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&wo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=pa(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:pa(r))<0&&(r+=o),r=n>r?0:ma(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},zn.filter=function(e,t){return(Us(e)?Dt:gr)(e,lo(t,3))},zn.flatMap=function(e,t){return vr(Cs(e,t),1)},zn.flatMapDeep=function(e,t){return vr(Cs(e,t),f)},zn.flatMapDepth=function(e,t,n){return n=n===i?1:pa(n),vr(Cs(e,t),n)},zn.flatten=$o,zn.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,f):[]},zn.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===i?1:pa(t)):[]},zn.flip=function(e){return Ki(e,512)},zn.flow=tl,zn.flowRight=nl,zn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},zn.functions=function(e){return null==e?[]:_r(e,Pa(e))},zn.functionsIn=function(e){return null==e?[]:_r(e,Da(e))},zn.groupBy=ws,zn.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},zn.intersection=Go,zn.intersectionBy=qo,zn.intersectionWith=Xo,zn.invert=Ia,zn.invertBy=Ma,zn.invokeMap=xs,zn.iteratee=il,zn.keyBy=_s,zn.keys=Pa,zn.keysIn=Da,zn.map=Cs,zn.mapKeys=function(e,t){var n={};return t=lo(t,3),wr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},zn.mapValues=function(e,t){var n={};return t=lo(t,3),wr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},zn.matches=function(e){return zr(lr(e,1))},zn.matchesProperty=function(e,t){return Vr(e,lr(t,1))},zn.memoize=Os,zn.merge=ja,zn.mergeWith=Oa,zn.method=ol,zn.methodOf=sl,zn.mixin=al,zn.negate=Rs,zn.nthArg=function(e){return e=pa(e),Zr((function(t){return Hr(t,e)}))},zn.omit=Ra,zn.omitBy=function(e,t){return Na(e,Rs(lo(t)))},zn.once=function(e){return Is(2,e)},zn.orderBy=function(e,t,n,r){return null==e?[]:(Us(t)||(t=null==t?[]:[t]),Us(n=r?i:n)||(n=null==n?[]:[n]),Ur(e,t,n))},zn.over=cl,zn.overArgs=Ls,zn.overEvery=ul,zn.overSome=dl,zn.partial=Ns,zn.partialRight=Bs,zn.partition=ks,zn.pick=La,zn.pickBy=Na,zn.property=hl,zn.propertyOf=function(e){return function(t){return null==e?i:Cr(e,t)}},zn.pull=Ko,zn.pullAll=Qo,zn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,lo(n,2)):e},zn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,i,n):e},zn.pullAt=Jo,zn.range=fl,zn.rangeRight=pl,zn.rearg=Fs,zn.reject=function(e,t){return(Us(e)?Dt:gr)(e,Rs(lo(t,3)))},zn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=lo(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Gr(e,i),n},zn.rest=function(e,t){if("function"!=typeof e)throw new Me(o);return Zr(e,t=t===i?t:pa(t))},zn.reverse=es,zn.sampleSize=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:pa(t),(Us(e)?Qn:Qr)(e,t)},zn.set=function(e,t,n){return null==e?e:Jr(e,t,n)},zn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Jr(e,t,n,r)},zn.shuffle=function(e){return(Us(e)?Jn:ni)(e)},zn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wo(e,t,n)?(t=0,n=r):(t=null==t?0:pa(t),n=n===i?r:pa(n)),ri(e,t,n)):[]},zn.sortBy=Ss,zn.sortedUniq=function(e){return e&&e.length?ai(e):[]},zn.sortedUniqBy=function(e,t){return e&&e.length?ai(e,lo(t,2)):[]},zn.split=function(e,t,n){return n&&"number"!=typeof n&&wo(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=ba(e))&&("string"==typeof t||null!=t&&!oa(t))&&!(t=ci(t))&&ln(e)?xi(mn(e),0,n):e.split(t,n):[]},zn.spread=function(e,t){if("function"!=typeof e)throw new Me(o);return t=null==t?0:qt(pa(t),0),Zr((function(n){var r=n[t],i=xi(n,0,t);return r&&Lt(i,r),Tt(e,this,i)}))},zn.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},zn.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:pa(t))<0?0:t):[]},zn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:pa(t)))<0?0:t,r):[]},zn.takeRightWhile=function(e,t){return e&&e.length?fi(e,lo(t,3),!1,!0):[]},zn.takeWhile=function(e,t){return e&&e.length?fi(e,lo(t,3)):[]},zn.tap=function(e,t){return t(e),e},zn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Me(o);return ea(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ps(e,t,{leading:r,maxWait:t,trailing:i})},zn.thru=fs,zn.toArray=ha,zn.toPairs=Ba,zn.toPairsIn=Fa,zn.toPath=function(e){return Us(e)?Rt(e,No):la(e)?[e]:Mi(Lo(ba(e)))},zn.toPlainObject=va,zn.transform=function(e,t,n){var r=Us(e),i=r||qs(e)||ca(e);if(t=lo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ea(e)&&Ks(o)?Vn(Ye(e)):{}}return(i?Mt:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},zn.unary=function(e){return Ts(e,1)},zn.union=ts,zn.unionBy=ns,zn.unionWith=rs,zn.uniq=function(e){return e&&e.length?ui(e):[]},zn.uniqBy=function(e,t){return e&&e.length?ui(e,lo(t,2)):[]},zn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ui(e,i,t):[]},zn.unset=function(e,t){return null==e||di(e,t)},zn.unzip=is,zn.unzipWith=os,zn.update=function(e,t,n){return null==e?e:hi(e,t,bi(n))},zn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,bi(n),r)},zn.values=za,zn.valuesIn=function(e){return null==e?[]:en(e,Da(e))},zn.without=ss,zn.words=Ka,zn.wrap=function(e,t){return Ns(bi(t),e)},zn.xor=as,zn.xorBy=ls,zn.xorWith=cs,zn.zip=us,zn.zipObject=function(e,t){return gi(e||[],t||[],tr)},zn.zipObjectDeep=function(e,t){return gi(e||[],t||[],Jr)},zn.zipWith=ds,zn.entries=Ba,zn.entriesIn=Fa,zn.extend=wa,zn.extendWith=xa,al(zn,zn),zn.add=vl,zn.attempt=Qa,zn.camelCase=Va,zn.capitalize=Wa,zn.ceil=bl,zn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ga(n))===n?n:0),t!==i&&(t=(t=ga(t))===t?t:0),ar(ga(e),t,n)},zn.clone=function(e){return lr(e,4)},zn.cloneDeep=function(e){return lr(e,5)},zn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},zn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},zn.conformsTo=function(e,t){return null==t||cr(e,t,Pa(t))},zn.deburr=Ha,zn.defaultTo=function(e,t){return null==e||e!==e?t:e},zn.divide=yl,zn.endsWith=function(e,t,n){e=ba(e),t=ci(t);var r=e.length,o=n=n===i?r:ar(pa(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},zn.eq=zs,zn.escape=function(e){return(e=ba(e))&&K.test(e)?e.replace(X,sn):e},zn.escapeRegExp=function(e){return(e=ba(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},zn.every=function(e,t,n){var r=Us(e)?Pt:pr;return n&&wo(e,t,n)&&(t=i),r(e,lo(t,3))},zn.find=gs,zn.findIndex=Ho,zn.findKey=function(e,t){return Vt(e,lo(t,3),wr)},zn.findLast=vs,zn.findLastIndex=Uo,zn.findLastKey=function(e,t){return Vt(e,lo(t,3),xr)},zn.floor=wl,zn.forEach=bs,zn.forEachRight=ys,zn.forIn=function(e,t){return null==e?e:br(e,lo(t,3),Da)},zn.forInRight=function(e,t){return null==e?e:yr(e,lo(t,3),Da)},zn.forOwn=function(e,t){return e&&wr(e,lo(t,3))},zn.forOwnRight=function(e,t){return e&&xr(e,lo(t,3))},zn.get=Aa,zn.gt=Vs,zn.gte=Ws,zn.has=function(e,t){return null!=e&&go(e,t,Tr)},zn.hasIn=Ta,zn.head=Yo,zn.identity=rl,zn.includes=function(e,t,n,r){e=Ys(e)?e:za(e),n=n&&!r?pa(n):0;var i=e.length;return n<0&&(n=qt(i+n,0)),aa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ht(e,t,n)>-1},zn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=qt(r+i,0)),Ht(e,t,i)},zn.inRange=function(e,t,n){return t=fa(t),n===i?(n=t,t=0):n=fa(n),function(e,t,n){return e>=yn(t,n)&&e<qt(t,n)}(e=ga(e),t,n)},zn.invoke=Ea,zn.isArguments=Hs,zn.isArray=Us,zn.isArrayBuffer=$s,zn.isArrayLike=Ys,zn.isArrayLikeObject=Gs,zn.isBoolean=function(e){return!0===e||!1===e||ta(e)&&Sr(e)==w},zn.isBuffer=qs,zn.isDate=Xs,zn.isElement=function(e){return ta(e)&&1===e.nodeType&&!ia(e)},zn.isEmpty=function(e){if(null==e)return!0;if(Ys(e)&&(Us(e)||"string"==typeof e||"function"==typeof e.splice||qs(e)||ca(e)||Hs(e)))return!e.length;var t=mo(e);if(t==S||t==E)return!e.size;if(ko(e))return!Lr(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},zn.isEqual=function(e,t){return Dr(e,t)},zn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Dr(e,t,i,n):!!r},zn.isError=Zs,zn.isFinite=function(e){return"number"==typeof e&&yt(e)},zn.isFunction=Ks,zn.isInteger=Qs,zn.isLength=Js,zn.isMap=na,zn.isMatch=function(e,t){return e===t||jr(e,t,uo(t))},zn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,jr(e,t,uo(t),n)},zn.isNaN=function(e){return ra(e)&&e!=+e},zn.isNative=function(e){if(Co(e))throw new ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Or(e)},zn.isNil=function(e){return null==e},zn.isNull=function(e){return null===e},zn.isNumber=ra,zn.isObject=ea,zn.isObjectLike=ta,zn.isPlainObject=ia,zn.isRegExp=oa,zn.isSafeInteger=function(e){return Qs(e)&&e>=-9007199254740991&&e<=p},zn.isSet=sa,zn.isString=aa,zn.isSymbol=la,zn.isTypedArray=ca,zn.isUndefined=function(e){return e===i},zn.isWeakMap=function(e){return ta(e)&&mo(e)==j},zn.isWeakSet=function(e){return ta(e)&&"[object WeakSet]"==Sr(e)},zn.join=function(e,t){return null==e?"":wt.call(e,t)},zn.kebabCase=Ua,zn.last=Zo,zn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=pa(n))<0?qt(r+o,0):yn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Wt(e,$t,o,!0)},zn.lowerCase=$a,zn.lowerFirst=Ya,zn.lt=ua,zn.lte=da,zn.max=function(e){return e&&e.length?mr(e,rl,Ar):i},zn.maxBy=function(e,t){return e&&e.length?mr(e,lo(t,2),Ar):i},zn.mean=function(e){return Yt(e,rl)},zn.meanBy=function(e,t){return Yt(e,lo(t,2))},zn.min=function(e){return e&&e.length?mr(e,rl,Br):i},zn.minBy=function(e,t){return e&&e.length?mr(e,lo(t,2),Br):i},zn.stubArray=ml,zn.stubFalse=gl,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=xl,zn.nth=function(e,t){return e&&e.length?Hr(e,pa(t)):i},zn.noConflict=function(){return mt._===this&&(mt._=ze),this},zn.noop=ll,zn.now=As,zn.pad=function(e,t,n){e=ba(e);var r=(t=pa(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ui(pt(i),n)+e+Ui(ft(i),n)},zn.padEnd=function(e,t,n){e=ba(e);var r=(t=pa(t))?pn(e):0;return t&&r<t?e+Ui(t-r,n):e},zn.padStart=function(e,t,n){e=ba(e);var r=(t=pa(t))?pn(e):0;return t&&r<t?Ui(t-r,n)+e:e},zn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(ba(e).replace(se,""),t||0)},zn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=fa(e),t===i?(t=e,e=0):t=fa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=_n();return yn(e+o*(t-e+dt("1e-"+((o+"").length-1))),t)}return qr(e,t)},zn.reduce=function(e,t,n){var r=Us(e)?Nt:Xt,i=arguments.length<3;return r(e,lo(t,4),n,i,hr)},zn.reduceRight=function(e,t,n){var r=Us(e)?Bt:Xt,i=arguments.length<3;return r(e,lo(t,4),n,i,fr)},zn.repeat=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:pa(t),Xr(ba(e),t)},zn.replace=function(){var e=arguments,t=ba(e[0]);return e.length<3?t:t.replace(e[1],e[2])},zn.result=function(e,t,n){var r=-1,o=(t=yi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[No(t[r])];s===i&&(r=o,s=n),e=Ks(s)?s.call(e):s}return e},zn.round=_l,zn.runInContext=e,zn.sample=function(e){return(Us(e)?Kn:Kr)(e)},zn.size=function(e){if(null==e)return 0;if(Ys(e))return aa(e)?pn(e):e.length;var t=mo(e);return t==S||t==E?e.size:Lr(e).length},zn.snakeCase=Ga,zn.some=function(e,t,n){var r=Us(e)?Ft:ii;return n&&wo(e,t,n)&&(t=i),r(e,lo(t,3))},zn.sortedIndex=function(e,t){return oi(e,t)},zn.sortedIndexBy=function(e,t,n){return si(e,t,lo(n,2))},zn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&zs(e[r],t))return r}return-1},zn.sortedLastIndex=function(e,t){return oi(e,t,!0)},zn.sortedLastIndexBy=function(e,t,n){return si(e,t,lo(n,2),!0)},zn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(zs(e[n],t))return n}return-1},zn.startCase=qa,zn.startsWith=function(e,t,n){return e=ba(e),n=null==n?0:ar(pa(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},zn.subtract=Cl,zn.sum=function(e){return e&&e.length?Zt(e,rl):0},zn.sumBy=function(e,t){return e&&e.length?Zt(e,lo(t,2)):0},zn.template=function(e,t,n){var r=zn.templateSettings;n&&wo(e,t,n)&&(t=i),e=ba(e),t=xa({},t,r,Qi);var o,s,a=xa({},t.imports,r.imports,Qi),l=Pa(a),c=en(a,l),u=0,d=t.interpolate||_e,h="__p += '",f=Te((t.escape||_e).source+"|"+d.source+"|"+(d===ee?pe:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(f,(function(t,n,r,i,a,l){return r||(r=i),h+=e.slice(u,l).replace(Ce,an),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n";var m=Re.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new ae("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace($,""):h).replace(Y,"$1").replace(G,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Qa((function(){return ke(l,p+"return "+h).apply(i,c)}));if(g.source=h,Zs(g))throw g;return g},zn.times=function(e,t){if((e=pa(e))<1||e>p)return[];var n=g,r=yn(e,g);t=lo(t),e-=g;for(var i=Kt(r,t);++n<e;)t(n);return i},zn.toFinite=fa,zn.toInteger=pa,zn.toLength=ma,zn.toLower=function(e){return ba(e).toLowerCase()},zn.toNumber=ga,zn.toSafeInteger=function(e){return e?ar(pa(e),-9007199254740991,p):0===e?e:0},zn.toString=ba,zn.toUpper=function(e){return ba(e).toUpperCase()},zn.trim=function(e,t,n){if((e=ba(e))&&(n||t===i))return Qt(e);if(!e||!(t=ci(t)))return e;var r=mn(e),o=mn(t);return xi(r,nn(r,o),rn(r,o)+1).join("")},zn.trimEnd=function(e,t,n){if((e=ba(e))&&(n||t===i))return e.slice(0,gn(e)+1);if(!e||!(t=ci(t)))return e;var r=mn(e);return xi(r,0,rn(r,mn(t))+1).join("")},zn.trimStart=function(e,t,n){if((e=ba(e))&&(n||t===i))return e.replace(se,"");if(!e||!(t=ci(t)))return e;var r=mn(e);return xi(r,nn(r,mn(t))).join("")},zn.truncate=function(e,t){var n=30,r="...";if(ea(t)){var o="separator"in t?t.separator:o;n="length"in t?pa(t.length):n,r="omission"in t?ci(t.omission):r}var s=(e=ba(e)).length;if(ln(e)){var a=mn(e);s=a.length}if(n>=s)return e;var l=n-pn(r);if(l<1)return r;var c=a?xi(a,0,l).join(""):e.slice(0,l);if(o===i)return c+r;if(a&&(l+=c.length-l),oa(o)){if(e.slice(l).search(o)){var u,d=c;for(o.global||(o=Te(o.source,ba(me.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var h=u.index;c=c.slice(0,h===i?l:h)}}else if(e.indexOf(ci(o),l)!=l){var f=c.lastIndexOf(o);f>-1&&(c=c.slice(0,f))}return c+r},zn.unescape=function(e){return(e=ba(e))&&Z.test(e)?e.replace(q,vn):e},zn.uniqueId=function(e){var t=++Le;return ba(e)+t},zn.upperCase=Xa,zn.upperFirst=Za,zn.each=bs,zn.eachRight=ys,zn.first=Yo,al(zn,function(){var e={};return wr(zn,(function(t,n){Re.call(zn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),zn.VERSION="4.17.21",Mt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){zn[e].placeholder=zn})),Mt(["drop","take"],(function(e,t){Un.prototype[e]=function(n){n=n===i?1:qt(pa(n),0);var r=this.__filtered__&&!t?new Un(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Un.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Mt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Un.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Mt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Un.prototype[e]=function(){return this[n](1).value()[0]}})),Mt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Un.prototype[e]=function(){return this.__filtered__?new Un(this):this[n](1)}})),Un.prototype.compact=function(){return this.filter(rl)},Un.prototype.find=function(e){return this.filter(e).head()},Un.prototype.findLast=function(e){return this.reverse().find(e)},Un.prototype.invokeMap=Zr((function(e,t){return"function"==typeof e?new Un(this):this.map((function(n){return Er(n,e,t)}))})),Un.prototype.reject=function(e){return this.filter(Rs(lo(e)))},Un.prototype.slice=function(e,t){e=pa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Un(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=pa(t))<0?n.dropRight(-t):n.take(t-e)),n)},Un.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Un.prototype.toArray=function(){return this.take(g)},wr(Un.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=zn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(zn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof Un,c=a[0],u=l||Us(t),d=function(e){var t=o.apply(zn,Lt([e],a));return r&&h?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,f=!!this.__actions__.length,p=s&&!h,m=l&&!f;if(!s&&u){t=m?t:new Un(this);var g=e.apply(t,a);return g.__actions__.push({func:fs,args:[d],thisArg:i}),new Hn(g,h)}return p&&m?e.apply(this,a):(g=this.thru(d),p?r?g.value()[0]:g.value():g)})})),Mt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ee[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);zn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Us(i)?i:[],e)}return this[n]((function(n){return t.apply(Us(n)?n:[],e)}))}})),wr(Un.prototype,(function(e,t){var n=zn[t];if(n){var r=n.name+"";Re.call(Pn,r)||(Pn[r]=[]),Pn[r].push({name:t,func:n})}})),Pn[zi(i,2).name]=[{name:"wrapper",func:i}],Un.prototype.clone=function(){var e=new Un(this.__wrapped__);return e.__actions__=Mi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Mi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Mi(this.__views__),e},Un.prototype.reverse=function(){if(this.__filtered__){var e=new Un(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Un.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Us(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=yn(t,e+s);break;case"takeRight":e=qt(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,d=u.length,h=0,f=yn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return pi(e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var m=-1,g=e[c+=t];++m<d;){var v=u[m],b=v.iteratee,y=v.type,w=b(g);if(2==y)g=w;else if(!w){if(1==y)continue e;break e}}p[h++]=g}return p},zn.prototype.at=ps,zn.prototype.chain=function(){return hs(this)},zn.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===i&&(this.__values__=ha(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},zn.prototype.plant=function(e){for(var t,n=this;n instanceof Wn;){var r=Fo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},zn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Un){var t=e;return this.__actions__.length&&(t=new Un(this)),(t=t.reverse()).__actions__.push({func:fs,args:[es],thisArg:i}),new Hn(t,this.__chain__)}return this.thru(es)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,Ke&&(zn.prototype[Ke]=function(){return this}),zn}();mt._=bn,(r=function(){return bn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},3545:function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\uc77c";case"M":return e+"\uc6d4";case"w":case"W":return e+"\uc8fc";default:return e}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(e){return"\uc624\ud6c4"===e},meridiem:function(e,t,n){return e<12?"\uc624\uc804":"\uc624\ud6c4"}})}(n(6178))},6178:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function c(e){return void 0===e}function u(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function f(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return qn(e,t,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=m()),e._pf}function v(e){var t=null,r=!1,i=e._d&&!isNaN(e._d.getTime());return i&&(t=g(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?i:(e._isValid=i,e._isValid)}function b(e){var t=p(NaN);return null!=e?f(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var y=r.momentProperties=[],w=!1;function x(e,t){var n,r,i,o=y.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=g(t)),c(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)c(i=t[r=y[n]])||(e[r]=i);return e}function _(e){x(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,r.updateOffset(this),w=!1)}function C(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function k(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,s,l=[],c=arguments.length;for(o=0;o<c;o++){if(i="","object"===typeof arguments[o]){for(s in i+="\n["+o+"] ",arguments[0])a(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];l.push(i)}k(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var A,T={};function I(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),T[e]||(k(t),T[e]=!0)}function M(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function E(e){var t,n;for(n in e)a(e,n)&&(M(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P(e,t){var n,r=f({},e);for(n in t)a(t,n)&&(s(e[n])&&s(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)a(e,n)&&!a(t,n)&&s(e[n])&&(r[n]=f({},r[n]));return r}function D(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,A=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var j={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function O(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return M(r)?r.call(t,n):r}function R(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},F={};function z(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(F[e]=i),t&&(F[t[0]]=function(){return R(i.apply(this,arguments),t[1],t[2])}),n&&(F[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function V(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function W(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)F[r[t]]?r[t]=F[r[t]]:r[t]=V(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=M(r[i])?r[i].call(t,e):r[i];return o}}function H(e,t){return e.isValid()?(t=U(t,e.localeData()),B[t]=B[t]||W(t),B[t](e)):e.localeData().invalidDate()}function U(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(N.lastIndex=0;n>=0&&N.test(e);)e=e.replace(N,r),N.lastIndex=0,n-=1;return e}var $={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Y(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var G="Invalid date";function q(){return this._invalidDate}var X="%d",Z=/\d{1,2}/;function K(e){return this._ordinal.replace("%d",e)}var Q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function J(e,t,n,r){var i=this._relativeTime[n];return M(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return M(n)?n(t):n.replace(/%s/i,t)}var te={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ne(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function re(e){var t,n,r={};for(n in e)a(e,n)&&(t=ne(n))&&(r[t]=e[n]);return r}var ie={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function oe(e){var t,n=[];for(t in e)a(e,t)&&n.push({unit:t,priority:ie[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}var se,ae=/\d/,le=/\d\d/,ce=/\d{3}/,ue=/\d{4}/,de=/[+-]?\d{6}/,he=/\d\d?/,fe=/\d\d\d\d?/,pe=/\d\d\d\d\d\d?/,me=/\d{1,3}/,ge=/\d{1,4}/,ve=/[+-]?\d{1,6}/,be=/\d+/,ye=/[+-]?\d+/,we=/Z|[+-]\d\d:?\d\d/gi,xe=/Z|[+-]\d\d(?::?\d\d)?/gi,_e=/[+-]?\d+(\.\d{1,3})?/,Ce=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ke=/^[1-9]\d?/,Se=/^([1-9]\d|\d)/;function Ae(e,t,n){se[e]=M(t)?t:function(e,r){return e&&n?n:t}}function Te(e,t){return a(se,e)?se[e](t._strict,t._locale):new RegExp(Ie(e))}function Ie(e){return Me(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Me(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ee(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Pe(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Ee(t)),n}se={};var De={};function je(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),u(t)&&(i=function(e,n){n[t]=Pe(e)}),r=e.length,n=0;n<r;n++)De[e[n]]=i}function Oe(e,t){je(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Re(e,t,n){null!=t&&a(De,e)&&De[e](t,n._a,n,e)}function Le(e){return e%4===0&&e%100!==0||e%400===0}var Ne=0,Be=1,Fe=2,ze=3,Ve=4,We=5,He=6,Ue=7,$e=8;function Ye(e){return Le(e)?366:365}z("Y",0,0,(function(){var e=this.year();return e<=9999?R(e,4):"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),Ae("Y",ye),Ae("YY",he,le),Ae("YYYY",ge,ue),Ae("YYYYY",ve,de),Ae("YYYYYY",ve,de),je(["YYYYY","YYYYYY"],Ne),je("YYYY",(function(e,t){t[Ne]=2===e.length?r.parseTwoDigitYear(e):Pe(e)})),je("YY",(function(e,t){t[Ne]=r.parseTwoDigitYear(e)})),je("Y",(function(e,t){t[Ne]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return Pe(e)+(Pe(e)>68?1900:2e3)};var Ge,qe=Ze("FullYear",!0);function Xe(){return Le(this.year())}function Ze(e,t){return function(n){return null!=n?(Qe(this,e,n),r.updateOffset(this,t),this):Ke(this,e)}}function Ke(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Qe(e,t,n){var r,i,o,s,a;if(e.isValid()&&!isNaN(n)){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}o=n,s=e.month(),a=29!==(a=e.date())||1!==s||Le(o)?a:28,i?r.setUTCFullYear(o,s,a):r.setFullYear(o,s,a)}}function Je(e){return M(this[e=ne(e)])?this[e]():this}function et(e,t){if("object"===typeof e){var n,r=oe(e=re(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(M(this[e=ne(e)]))return this[e](t);return this}function tt(e,t){return(e%t+t)%t}function nt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=tt(t,12);return e+=(t-n)/12,1===n?Le(e)?29:28:31-n%7%2}Ge=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Ae("M",he,ke),Ae("MM",he,le),Ae("MMM",(function(e,t){return t.monthsShortRegex(e)})),Ae("MMMM",(function(e,t){return t.monthsRegex(e)})),je(["M","MM"],(function(e,t){t[Be]=Pe(e)-1})),je(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Be]=i:g(n).invalidMonth=e}));var rt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),it="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ot=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,st=Ce,at=Ce;function lt(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ot).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}function ct(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ot.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ge.call(this._shortMonthsParse,s))?i:null:-1!==(i=Ge.call(this._longMonthsParse,s))?i:null:"MMM"===t?-1!==(i=Ge.call(this._shortMonthsParse,s))||-1!==(i=Ge.call(this._longMonthsParse,s))?i:null:-1!==(i=Ge.call(this._longMonthsParse,s))||-1!==(i=Ge.call(this._shortMonthsParse,s))?i:null}function dt(e,t,n){var r,i,o;if(this._monthsParseExact)return ut.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ht(e,t){if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=Pe(t);else if(!u(t=e.localeData().monthsParse(t)))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,nt(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function ft(e){return null!=e?(ht(this,e),r.updateOffset(this,!0),this):Ke(this,"Month")}function pt(){return nt(this.year(),this.month())}function mt(e){return this._monthsParseExact?(a(this,"_monthsRegex")||vt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=st),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function gt(e){return this._monthsParseExact?(a(this,"_monthsRegex")||vt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=at),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function vt(){function e(e,t){return t.length-e.length}var t,n,r,i,o=[],s=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r=Me(this.monthsShort(n,"")),i=Me(this.months(n,"")),o.push(r),s.push(i),a.push(i),a.push(r);o.sort(e),s.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function bt(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function yt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,n){var r=7+t-n;return-(7+yt(e,0,r).getUTCDay()-t)%7+r-1}function xt(e,t,n,r,i){var o,s,a=1+7*(t-1)+(7+n-r)%7+wt(e,r,i);return a<=0?s=Ye(o=e-1)+a:a>Ye(e)?(o=e+1,s=a-Ye(e)):(o=e,s=a),{year:o,dayOfYear:s}}function _t(e,t,n){var r,i,o=wt(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?r=s+Ct(i=e.year()-1,t,n):s>Ct(e.year(),t,n)?(r=s-Ct(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function Ct(e,t,n){var r=wt(e,t,n),i=wt(e+1,t,n);return(Ye(e)-r+i)/7}function kt(e){return _t(e,this._week.dow,this._week.doy).week}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),Ae("w",he,ke),Ae("ww",he,le),Ae("W",he,ke),Ae("WW",he,le),Oe(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=Pe(e)}));var St={dow:0,doy:6};function At(){return this._week.dow}function Tt(){return this._week.doy}function It(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Mt(e){var t=_t(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Et(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Pt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Dt(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),Ae("d",he),Ae("e",he),Ae("E",he),Ae("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Ae("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Ae("dddd",(function(e,t){return t.weekdaysRegex(e)})),Oe(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:g(n).invalidWeekday=e})),Oe(["d","e","E"],(function(e,t,n,r){t[r]=Pe(e)}));var jt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ot="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=Ce,Nt=Ce,Bt=Ce;function Ft(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Dt(n,this._week.dow):e?n[e.day()]:n}function zt(e){return!0===e?Dt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Vt(e){return!0===e?Dt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Wt(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ge.call(this._weekdaysParse,s))?i:null:"ddd"===t?-1!==(i=Ge.call(this._shortWeekdaysParse,s))?i:null:-1!==(i=Ge.call(this._minWeekdaysParse,s))?i:null:"dddd"===t?-1!==(i=Ge.call(this._weekdaysParse,s))||-1!==(i=Ge.call(this._shortWeekdaysParse,s))||-1!==(i=Ge.call(this._minWeekdaysParse,s))?i:null:"ddd"===t?-1!==(i=Ge.call(this._shortWeekdaysParse,s))||-1!==(i=Ge.call(this._weekdaysParse,s))||-1!==(i=Ge.call(this._minWeekdaysParse,s))?i:null:-1!==(i=Ge.call(this._minWeekdaysParse,s))||-1!==(i=Ge.call(this._weekdaysParse,s))||-1!==(i=Ge.call(this._shortWeekdaysParse,s))?i:null}function Ht(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Wt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ut(e){if(!this.isValid())return null!=e?this:NaN;var t=Ke(this,"Day");return null!=e?(e=Et(e,this.localeData()),this.add(e-t,"d")):t}function $t(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Yt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Pt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Gt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function qt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Nt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Xt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Zt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Bt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Zt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Me(this.weekdaysMin(n,"")),i=Me(this.weekdaysShort(n,"")),o=Me(this.weekdays(n,"")),s.push(r),a.push(i),l.push(o),c.push(r),c.push(i),c.push(o);s.sort(e),a.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Kt(){return this.hours()%12||12}function Qt(){return this.hours()||24}function Jt(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Kt),z("k",["kk",2],0,Qt),z("hmm",0,0,(function(){return""+Kt.apply(this)+R(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+Kt.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),Jt("a",!0),Jt("A",!1),Ae("a",en),Ae("A",en),Ae("H",he,Se),Ae("h",he,ke),Ae("k",he,ke),Ae("HH",he,le),Ae("hh",he,le),Ae("kk",he,le),Ae("hmm",fe),Ae("hmmss",pe),Ae("Hmm",fe),Ae("Hmmss",pe),je(["H","HH"],ze),je(["k","kk"],(function(e,t,n){var r=Pe(e);t[ze]=24===r?0:r})),je(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),je(["h","hh"],(function(e,t,n){t[ze]=Pe(e),g(n).bigHour=!0})),je("hmm",(function(e,t,n){var r=e.length-2;t[ze]=Pe(e.substr(0,r)),t[Ve]=Pe(e.substr(r)),g(n).bigHour=!0})),je("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[ze]=Pe(e.substr(0,r)),t[Ve]=Pe(e.substr(r,2)),t[We]=Pe(e.substr(i)),g(n).bigHour=!0})),je("Hmm",(function(e,t,n){var r=e.length-2;t[ze]=Pe(e.substr(0,r)),t[Ve]=Pe(e.substr(r))})),je("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[ze]=Pe(e.substr(0,r)),t[Ve]=Pe(e.substr(r,2)),t[We]=Pe(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=Ze("Hours",!0);function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var sn,an={calendar:j,longDateFormat:$,invalidDate:G,ordinal:X,dayOfMonthOrdinalParse:Z,relativeTime:Q,months:rt,monthsShort:it,week:St,weekdays:jt,weekdaysMin:Rt,weekdaysShort:Ot,meridiemParse:nn},ln={},cn={};function un(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=dn(e[o]).split("-")).length,n=(n=dn(e[o+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&un(i,n)>=t-1)break;t--}o++}return sn}function fn(e){return!(!e||!e.match("^[^/\\\\]*$"))}function pn(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&fn(t))try{n=sn._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),mn(n)}catch(r){ln[t]=null}return ln[t]}function mn(e,t){var n;return e&&((n=c(t)?bn(e):gn(e,t))?sn=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),sn._abbr}function gn(e,t){if(null!==t){var n,r=an;if(t.abbr=e,null!=ln[e])I("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])r=ln[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ln[e]=new D(P(r,t)),cn[e]&&cn[e].forEach((function(e){gn(e.name,e.config)})),mn(e),ln[e]}return delete ln[e],null}function vn(e,t){if(null!=t){var n,r,i=an;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(P(ln[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=P(i,t),null==r&&(t.abbr=e),(n=new D(t)).parentLocale=ln[e],ln[e]=n),mn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===mn()&&mn(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function bn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return sn;if(!o(e)){if(t=pn(e))return t;e=[e]}return hn(e)}function yn(){return A(ln)}function wn(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[Be]<0||n[Be]>11?Be:n[Fe]<1||n[Fe]>nt(n[Ne],n[Be])?Fe:n[ze]<0||n[ze]>24||24===n[ze]&&(0!==n[Ve]||0!==n[We]||0!==n[He])?ze:n[Ve]<0||n[Ve]>59?Ve:n[We]<0||n[We]>59?We:n[He]<0||n[He]>999?He:-1,g(e)._overflowDayOfYear&&(t<Ne||t>Fe)&&(t=Fe),g(e)._overflowWeeks&&-1===t&&(t=Ue),g(e)._overflowWeekday&&-1===t&&(t=$e),g(e).overflow=t),e}var xn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Cn=/Z|[+-]\d\d(?::?\d\d)?/,kn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Sn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],An=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,In={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Mn(e){var t,n,r,i,o,s,a=e._i,l=xn.exec(a)||_n.exec(a),c=kn.length,u=Sn.length;if(l){for(g(e).iso=!0,t=0,n=c;t<n;t++)if(kn[t][1].exec(l[1])){i=kn[t][0],r=!1!==kn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(Sn[t][1].exec(l[3])){o=(l[2]||" ")+Sn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Cn.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),Vn(e)}else e._isValid=!1}function En(e,t,n,r,i,o){var s=[Pn(e),it.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function Pn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Dn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function jn(e,t,n){return!e||Ot.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function On(e,t,n){if(e)return In[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Rn(e){var t,n=Tn.exec(Dn(e._i));if(n){if(t=En(n[4],n[3],n[2],n[5],n[6],n[7]),!jn(n[1],t,e))return;e._a=t,e._tzm=On(n[8],n[9],n[10]),e._d=yt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=An.exec(e._i);null===t?(Mn(e),!1===e._isValid&&(delete e._isValid,Rn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Nn(e,t,n){return null!=e?e:null!=t?t:n}function Bn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Fn(e){var t,n,r,i,o,s=[];if(!e._d){for(r=Bn(e),e._w&&null==e._a[Fe]&&null==e._a[Be]&&zn(e),null!=e._dayOfYear&&(o=Nn(e._a[Ne],r[Ne]),(e._dayOfYear>Ye(o)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=yt(o,0,e._dayOfYear),e._a[Be]=n.getUTCMonth(),e._a[Fe]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ze]&&0===e._a[Ve]&&0===e._a[We]&&0===e._a[He]&&(e._nextDay=!0,e._a[ze]=0),e._d=(e._useUTC?yt:bt).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ze]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(g(e).weekdayMismatch=!0)}}function zn(e){var t,n,r,i,o,s,a,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,s=4,n=Nn(t.GG,e._a[Ne],_t(Xn(),1,4).year),r=Nn(t.W,1),((i=Nn(t.E,1))<1||i>7)&&(l=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,c=_t(Xn(),o,s),n=Nn(t.gg,e._a[Ne],c.year),r=Nn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),r<1||r>Ct(n,o,s)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(a=xt(n,r,i,o,s),e._a[Ne]=a.year,e._dayOfYear=a.dayOfYear)}function Vn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],g(e).empty=!0;var t,n,i,o,s,a,l,c=""+e._i,u=c.length,d=0;for(l=(i=U(e._f,e._locale).match(L)||[]).length,t=0;t<l;t++)o=i[t],(n=(c.match(Te(o,e))||[])[0])&&((s=c.substr(0,c.indexOf(n))).length>0&&g(e).unusedInput.push(s),c=c.slice(c.indexOf(n)+n.length),d+=n.length),F[o]?(n?g(e).empty=!1:g(e).unusedTokens.push(o),Re(o,n,e)):e._strict&&!n&&g(e).unusedTokens.push(o);g(e).charsLeftOver=u-d,c.length>0&&g(e).unusedInput.push(c),e._a[ze]<=12&&!0===g(e).bigHour&&e._a[ze]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[ze]=Wn(e._locale,e._a[ze],e._meridiem),null!==(a=g(e).era)&&(e._a[Ne]=e._locale.erasConvertYear(a,e._a[Ne])),Fn(e),wn(e)}else Rn(e);else Mn(e)}function Wn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Hn(e){var t,n,r,i,o,s,a=!1,l=e._f.length;if(0===l)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<l;i++)o=0,s=!1,t=x({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Vn(t),v(t)&&(s=!0),o+=g(t).charsLeftOver,o+=10*g(t).unusedTokens.length,g(t).score=o,a?o<r&&(r=o,n=t):(null==r||o<r||s)&&(r=o,n=t,s&&(a=!0));f(e,n||t)}function Un(e){if(!e._d){var t=re(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Fn(e)}}function $n(e){var t=new _(wn(Yn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Yn(e){var t=e._i,n=e._f;return e._locale=e._locale||bn(e._l),null===t||void 0===n&&""===t?b({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),C(t)?new _(wn(t)):(d(t)?e._d=t:o(n)?Hn(e):n?Vn(e):Gn(e),v(e)||(e._d=null),e))}function Gn(e){var t=e._i;c(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ln(e):o(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Fn(e)):s(t)?Un(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}function qn(e,t,n,r,i){var a={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(s(e)&&l(e)||o(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,$n(a)}function Xn(e,t,n,r){return qn(e,t,n,r,!1)}r.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Zn=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:b()})),Kn=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:b()}));function Qn(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Xn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Jn(){return Qn("isBefore",[].slice.call(arguments,0))}function er(){return Qn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(a(e,t)&&(-1===Ge.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==Pe(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function or(){return Ir(NaN)}function sr(e){var t=re(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=bn(),this._bubble()}function ar(e){return e instanceof sr}function lr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&Pe(e[r])!==Pe(t[r]))&&s++;return s+o}function ur(e,t){z(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+R(~~(e/60),2)+t+R(~~e%60,2)}))}ur("Z",":"),ur("ZZ",""),Ae("Z",xe),Ae("ZZ",xe),je(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(xe,e)}));var dr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(dr)||["-",0,0])[1]+Pe(n[2]))?0:"+"===n[0]?r:-r}function fr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(C(e)||d(e)?e.valueOf():Xn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Xn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function mr(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(xe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?jr(this,Ir(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:pr(this)}function gr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function vr(e){return this.utcOffset(0,e)}function br(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function yr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(we,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function wr(e){return!!this.isValid()&&(e=e?Xn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function xr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _r(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return x(t,this),(t=Yn(t))._a?(e=t._isUTC?p(t._a):Xn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Cr(){return!!this.isValid()&&!this._isUTC}function kr(){return!!this.isValid()&&this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ar=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ir(e,t){var n,r,i,o=e,s=null;return ar(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(s=Ar.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:Pe(s[Fe])*n,h:Pe(s[ze])*n,m:Pe(s[Ve])*n,s:Pe(s[We])*n,ms:Pe(lr(1e3*s[He]))*n}):(s=Tr.exec(e))?(n="-"===s[1]?-1:1,o={y:Mr(s[2],n),M:Mr(s[3],n),w:Mr(s[4],n),d:Mr(s[5],n),h:Mr(s[6],n),m:Mr(s[7],n),s:Mr(s[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Pr(Xn(o.from),Xn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new sr(o),ar(e)&&a(e,"_locale")&&(r._locale=e._locale),ar(e)&&a(e,"_isValid")&&(r._isValid=e._isValid),r}function Mr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Er(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Pr(e,t){var n;return e.isValid()&&t.isValid()?(t=fr(t,e),e.isBefore(t)?n=Er(e,t):((n=Er(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Dr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(I(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),jr(this,Ir(n,r),e),this}}function jr(e,t,n,i){var o=t._milliseconds,s=lr(t._days),a=lr(t._months);e.isValid()&&(i=null==i||i,a&&ht(e,Ke(e,"Month")+a*n),s&&Qe(e,"Date",Ke(e,"Date")+s*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,s||a))}Ir.fn=sr.prototype,Ir.invalid=or;var Or=Dr(1,"add"),Rr=Dr(-1,"subtract");function Lr(e){return"string"===typeof e||e instanceof String}function Nr(e){return C(e)||d(e)||Lr(e)||u(e)||Fr(e)||Br(e)||null===e||void 0===e}function Br(e){var t,n,r=s(e)&&!l(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=o.length;for(t=0;t<c;t+=1)n=o[t],i=i||a(e,n);return r&&i}function Fr(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&Lr(e)})).length),t&&n}function zr(e){var t,n,r=s(e)&&!l(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],i=i||a(e,n);return r&&i}function Vr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Wr(e,t){1===arguments.length&&(arguments[0]?Nr(arguments[0])?(e=arguments[0],t=void 0):zr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Xn(),i=fr(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",s=t&&(M(t[o])?t[o].call(this,n):t[o]);return this.format(s||this.localeData().calendar(o,this,Xn(n)))}function Hr(){return new _(this)}function Ur(e,t){var n=C(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function $r(e,t){var n=C(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Yr(e,t,n,r){var i=C(e)?e:Xn(e),o=C(t)?t:Xn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Gr(e,t){var n,r=C(e)?e:Xn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function qr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Xr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Zr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=fr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=ne(t)){case"year":o=Kr(this,r)/12;break;case"month":o=Kr(this,r);break;case"quarter":o=Kr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Ee(o)}function Kr(e,t){if(e.date()<t.date())return-Kr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Qr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Jr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=H(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(C(e)&&e.isValid()||Xn(e).isValid())?Ir({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Xn(),e)}function ii(e,t){return this.isValid()&&(C(e)&&e.isValid()||Xn(e).isValid())?Ir({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function oi(e){return this.to(Xn(),e)}function si(e){var t;return void 0===e?this._locale._abbr:(null!=(t=bn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ai=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function li(){return this._locale}var ci=1e3,ui=60*ci,di=60*ui,hi=3506328*di;function fi(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hi:new Date(e,t,n).valueOf()}function mi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hi:Date.UTC(e,t,n)}function gi(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=fi(t+(this._isUTC?0:this.utcOffset()*ui),di);break;case"minute":t=this._d.valueOf(),t-=fi(t,ui);break;case"second":t=this._d.valueOf(),t-=fi(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function vi(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=di-fi(t+(this._isUTC?0:this.utcOffset()*ui),di)-1;break;case"minute":t=this._d.valueOf(),t+=ui-fi(t,ui)-1;break;case"second":t=this._d.valueOf(),t+=ci-fi(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function bi(){return this._d.valueOf()-6e4*(this._offset||0)}function yi(){return Math.floor(this.valueOf()/1e3)}function wi(){return new Date(this.valueOf())}function xi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function _i(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ci(){return this.isValid()?this.toISOString():null}function ki(){return v(this)}function Si(){return f({},g(this))}function Ai(){return g(this).overflow}function Ti(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ii(e,t){var n,i,o,s=this._eras||bn("en")._eras;for(n=0,i=s.length;n<i;++n)switch("string"===typeof s[n].since&&(o=r(s[n].since).startOf("day"),s[n].since=o.valueOf()),typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":o=r(s[n].until).startOf("day").valueOf(),s[n].until=o.valueOf()}return s}function Mi(e,t,n){var r,i,o,s,a,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),s=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[r];break;case"NNNN":if(o===e)return l[r];break;case"NNNNN":if(a===e)return l[r]}else if([o,s,a].indexOf(e)>=0)return l[r]}function Ei(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function ji(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Oi(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()}function Ri(e){return a(this,"_erasNameRegex")||Wi.call(this),e?this._erasNameRegex:this._erasRegex}function Li(e){return a(this,"_erasAbbrRegex")||Wi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Ni(e){return a(this,"_erasNarrowRegex")||Wi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Bi(e,t){return t.erasAbbrRegex(e)}function Fi(e,t){return t.erasNameRegex(e)}function zi(e,t){return t.erasNarrowRegex(e)}function Vi(e,t){return t._eraYearOrdinalRegex||be}function Wi(){var e,t,n,r,i,o=[],s=[],a=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)n=Me(c[e].name),r=Me(c[e].abbr),i=Me(c[e].narrow),s.push(n),o.push(r),a.push(i),l.push(n),l.push(r),l.push(i);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+s.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function Hi(e,t){z(0,[e,e.length],0,t)}function Ui(e){return Zi.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function $i(e){return Zi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Yi(){return Ct(this.year(),1,4)}function Gi(){return Ct(this.isoWeekYear(),1,4)}function qi(){var e=this.localeData()._week;return Ct(this.year(),e.dow,e.doy)}function Xi(){var e=this.localeData()._week;return Ct(this.weekYear(),e.dow,e.doy)}function Zi(e,t,n,r,i){var o;return null==e?_t(this,r,i).year:(t>(o=Ct(e,r,i))&&(t=o),Ki.call(this,e,t,n,r,i))}function Ki(e,t,n,r,i){var o=xt(e,t,n,r,i),s=yt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Qi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}z("N",0,0,"eraAbbr"),z("NN",0,0,"eraAbbr"),z("NNN",0,0,"eraAbbr"),z("NNNN",0,0,"eraName"),z("NNNNN",0,0,"eraNarrow"),z("y",["y",1],"yo","eraYear"),z("y",["yy",2],0,"eraYear"),z("y",["yyy",3],0,"eraYear"),z("y",["yyyy",4],0,"eraYear"),Ae("N",Bi),Ae("NN",Bi),Ae("NNN",Bi),Ae("NNNN",Fi),Ae("NNNNN",zi),je(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?g(n).era=i:g(n).invalidEra=e})),Ae("y",be),Ae("yy",be),Ae("yyy",be),Ae("yyyy",be),Ae("yo",Vi),je(["y","yy","yyy","yyyy"],Ne),je(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ne]=n._locale.eraYearOrdinalParse(e,i):t[Ne]=parseInt(e,10)})),z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Hi("gggg","weekYear"),Hi("ggggg","weekYear"),Hi("GGGG","isoWeekYear"),Hi("GGGGG","isoWeekYear"),Ae("G",ye),Ae("g",ye),Ae("GG",he,le),Ae("gg",he,le),Ae("GGGG",ge,ue),Ae("gggg",ge,ue),Ae("GGGGG",ve,de),Ae("ggggg",ve,de),Oe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=Pe(e)})),Oe(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),Ae("Q",ae),je("Q",(function(e,t){t[Be]=3*(Pe(e)-1)})),z("D",["DD",2],"Do","date"),Ae("D",he,ke),Ae("DD",he,le),Ae("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),je(["D","DD"],Fe),je("Do",(function(e,t){t[Fe]=Pe(e.match(he)[0])}));var Ji=Ze("Date",!0);function eo(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}z("DDD",["DDDD",3],"DDDo","dayOfYear"),Ae("DDD",me),Ae("DDDD",ce),je(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=Pe(e)})),z("m",["mm",2],0,"minute"),Ae("m",he,Se),Ae("mm",he,le),je(["m","mm"],Ve);var to=Ze("Minutes",!1);z("s",["ss",2],0,"second"),Ae("s",he,Se),Ae("ss",he,le),je(["s","ss"],We);var no,ro,io=Ze("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Ae("S",me,ae),Ae("SS",me,le),Ae("SSS",me,ce),no="SSSS";no.length<=9;no+="S")Ae(no,be);function oo(e,t){t[He]=Pe(1e3*("0."+e))}for(no="S";no.length<=9;no+="S")je(no,oo);function so(){return this._isUTC?"UTC":""}function ao(){return this._isUTC?"Coordinated Universal Time":""}ro=Ze("Milliseconds",!1),z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var lo=_.prototype;function co(e){return Xn(1e3*e)}function uo(){return Xn.apply(null,arguments).parseZone()}function ho(e){return e}lo.add=Or,lo.calendar=Wr,lo.clone=Hr,lo.diff=Zr,lo.endOf=vi,lo.format=ti,lo.from=ni,lo.fromNow=ri,lo.to=ii,lo.toNow=oi,lo.get=Je,lo.invalidAt=Ai,lo.isAfter=Ur,lo.isBefore=$r,lo.isBetween=Yr,lo.isSame=Gr,lo.isSameOrAfter=qr,lo.isSameOrBefore=Xr,lo.isValid=ki,lo.lang=ai,lo.locale=si,lo.localeData=li,lo.max=Kn,lo.min=Zn,lo.parsingFlags=Si,lo.set=et,lo.startOf=gi,lo.subtract=Rr,lo.toArray=xi,lo.toObject=_i,lo.toDate=wi,lo.toISOString=Jr,lo.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(lo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),lo.toJSON=Ci,lo.toString=Qr,lo.unix=yi,lo.valueOf=bi,lo.creationData=Ti,lo.eraName=Pi,lo.eraNarrow=Di,lo.eraAbbr=ji,lo.eraYear=Oi,lo.year=qe,lo.isLeapYear=Xe,lo.weekYear=Ui,lo.isoWeekYear=$i,lo.quarter=lo.quarters=Qi,lo.month=ft,lo.daysInMonth=pt,lo.week=lo.weeks=It,lo.isoWeek=lo.isoWeeks=Mt,lo.weeksInYear=qi,lo.weeksInWeekYear=Xi,lo.isoWeeksInYear=Yi,lo.isoWeeksInISOWeekYear=Gi,lo.date=Ji,lo.day=lo.days=Ut,lo.weekday=$t,lo.isoWeekday=Yt,lo.dayOfYear=eo,lo.hour=lo.hours=rn,lo.minute=lo.minutes=to,lo.second=lo.seconds=io,lo.millisecond=lo.milliseconds=ro,lo.utcOffset=mr,lo.utc=vr,lo.local=br,lo.parseZone=yr,lo.hasAlignedHourOffset=wr,lo.isDST=xr,lo.isLocal=Cr,lo.isUtcOffset=kr,lo.isUtc=Sr,lo.isUTC=Sr,lo.zoneAbbr=so,lo.zoneName=ao,lo.dates=S("dates accessor is deprecated. Use date instead.",Ji),lo.months=S("months accessor is deprecated. Use month instead",ft),lo.years=S("years accessor is deprecated. Use year instead",qe),lo.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),lo.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_r);var fo=D.prototype;function po(e,t,n,r){var i=bn(),o=p().set(r,t);return i[n](o,e)}function mo(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return po(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=po(e,r,n,"month");return i}function go(e,t,n,r){"boolean"===typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var i,o=bn(),s=e?o._week.dow:0,a=[];if(null!=n)return po(t,(n+s)%7,r,"day");for(i=0;i<7;i++)a[i]=po(t,(i+s)%7,r,"day");return a}function vo(e,t){return mo(e,t,"months")}function bo(e,t){return mo(e,t,"monthsShort")}function yo(e,t,n){return go(e,t,n,"weekdays")}function wo(e,t,n){return go(e,t,n,"weekdaysShort")}function xo(e,t,n){return go(e,t,n,"weekdaysMin")}fo.calendar=O,fo.longDateFormat=Y,fo.invalidDate=q,fo.ordinal=K,fo.preparse=ho,fo.postformat=ho,fo.relativeTime=J,fo.pastFuture=ee,fo.set=E,fo.eras=Ii,fo.erasParse=Mi,fo.erasConvertYear=Ei,fo.erasAbbrRegex=Li,fo.erasNameRegex=Ri,fo.erasNarrowRegex=Ni,fo.months=lt,fo.monthsShort=ct,fo.monthsParse=dt,fo.monthsRegex=gt,fo.monthsShortRegex=mt,fo.week=kt,fo.firstDayOfYear=Tt,fo.firstDayOfWeek=At,fo.weekdays=Ft,fo.weekdaysMin=Vt,fo.weekdaysShort=zt,fo.weekdaysParse=Ht,fo.weekdaysRegex=Gt,fo.weekdaysShortRegex=qt,fo.weekdaysMinRegex=Xt,fo.isPM=tn,fo.meridiem=on,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Pe(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=S("moment.lang is deprecated. Use moment.locale instead.",mn),r.langData=S("moment.langData is deprecated. Use moment.localeData instead.",bn);var _o=Math.abs;function Co(){var e=this._data;return this._milliseconds=_o(this._milliseconds),this._days=_o(this._days),this._months=_o(this._months),e.milliseconds=_o(e.milliseconds),e.seconds=_o(e.seconds),e.minutes=_o(e.minutes),e.hours=_o(e.hours),e.months=_o(e.months),e.years=_o(e.years),this}function ko(e,t,n,r){var i=Ir(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function So(e,t){return ko(this,e,t,1)}function Ao(e,t){return ko(this,e,t,-1)}function To(e){return e<0?Math.floor(e):Math.ceil(e)}function Io(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*To(Eo(a)+s),s=0,a=0),l.milliseconds=o%1e3,e=Ee(o/1e3),l.seconds=e%60,t=Ee(e/60),l.minutes=t%60,n=Ee(t/60),l.hours=n%24,s+=Ee(n/24),a+=i=Ee(Mo(s)),s-=To(Eo(i)),r=Ee(a/12),a%=12,l.days=s,l.months=a,l.years=r,this}function Mo(e){return 4800*e/146097}function Eo(e){return 146097*e/4800}function Po(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=ne(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Mo(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Eo(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Do(e){return function(){return this.as(e)}}var jo=Do("ms"),Oo=Do("s"),Ro=Do("m"),Lo=Do("h"),No=Do("d"),Bo=Do("w"),Fo=Do("M"),zo=Do("Q"),Vo=Do("y"),Wo=jo;function Ho(){return Ir(this)}function Uo(e){return e=ne(e),this.isValid()?this[e+"s"]():NaN}function $o(e){return function(){return this.isValid()?this._data[e]:NaN}}var Yo=$o("milliseconds"),Go=$o("seconds"),qo=$o("minutes"),Xo=$o("hours"),Zo=$o("days"),Ko=$o("months"),Qo=$o("years");function Jo(){return Ee(this.days()/7)}var es=Math.round,ts={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ns(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function rs(e,t,n,r){var i=Ir(e).abs(),o=es(i.as("s")),s=es(i.as("m")),a=es(i.as("h")),l=es(i.as("d")),c=es(i.as("M")),u=es(i.as("w")),d=es(i.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=r,ns.apply(null,h)}function is(e){return void 0===e?es:"function"===typeof e&&(es=e,!0)}function os(e,t){return void 0!==ts[e]&&(void 0===t?ts[e]:(ts[e]=t,"s"===e&&(ts.ss=t-1),!0))}function ss(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ts;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(o=Object.assign({},ts,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=rs(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var as=Math.abs;function ls(e){return(e>0)-(e<0)||+e}function cs(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,s,a,l=as(this._milliseconds)/1e3,c=as(this._days),u=as(this._months),d=this.asSeconds();return d?(e=Ee(l/60),t=Ee(e/60),l%=60,e%=60,n=Ee(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",o=ls(this._months)!==ls(d)?"-":"",s=ls(this._days)!==ls(d)?"-":"",a=ls(this._milliseconds)!==ls(d)?"-":"",i+"P"+(n?o+n+"Y":"")+(u?o+u+"M":"")+(c?s+c+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+r+"S":"")):"P0D"}var us=sr.prototype;return us.isValid=ir,us.abs=Co,us.add=So,us.subtract=Ao,us.as=Po,us.asMilliseconds=jo,us.asSeconds=Oo,us.asMinutes=Ro,us.asHours=Lo,us.asDays=No,us.asWeeks=Bo,us.asMonths=Fo,us.asQuarters=zo,us.asYears=Vo,us.valueOf=Wo,us._bubble=Io,us.clone=Ho,us.get=Uo,us.milliseconds=Yo,us.seconds=Go,us.minutes=qo,us.hours=Xo,us.days=Zo,us.weeks=Jo,us.months=Ko,us.years=Qo,us.humanize=ss,us.toISOString=cs,us.toString=cs,us.toJSON=cs,us.locale=si,us.localeData=li,us.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",cs),us.lang=ai,z("X",0,0,"unix"),z("x",0,0,"valueOf"),Ae("x",ye),Ae("X",_e),je("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),je("x",(function(e,t,n){n._d=new Date(Pe(e))})),r.version="2.30.1",i(Xn),r.fn=lo,r.min=Jn,r.max=er,r.now=tr,r.utc=p,r.unix=co,r.months=vo,r.isDate=d,r.locale=mn,r.invalid=b,r.duration=Ir,r.isMoment=C,r.weekdays=yo,r.parseZone=uo,r.localeData=bn,r.isDuration=ar,r.monthsShort=bo,r.weekdaysMin=xo,r.defineLocale=gn,r.updateLocale=vn,r.locales=yn,r.weekdaysShort=wo,r.normalizeUnits=ne,r.relativeTimeRounding=is,r.relativeTimeThreshold=os,r.calendarFormat=Vr,r.prototype=lo,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1552:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,o=60108,s=60114,a=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,m=60122,g=60117,v=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var y=Symbol.for;n=y("react.element"),r=y("react.portal"),i=y("react.fragment"),o=y("react.strict_mode"),s=y("react.profiler"),a=y("react.provider"),l=y("react.context"),c=y("react.forward_ref"),u=y("react.suspense"),d=y("react.suspense_list"),h=y("react.memo"),f=y("react.lazy"),p=y("react.block"),m=y("react.server.block"),g=y("react.fundamental"),v=y("react.debug_trace_mode"),b=y("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case a:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return w(e)===l}},2348:(e,t,n)=>{"use strict";e.exports=n(1552)},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,N=Object.assign;function B(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function V(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case _:return"Portal";case S:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case E:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Q(e,t){K(e,t);var n=U(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function oe(e,t){var n=U(t.value),r=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ce=null,ke=null;function Se(e){if(e=yi(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function Ae(e){Ce?ke?ke.push(e):ke=[e]:Ce=e}function Te(){if(Ce){var e=Ce,t=ke;if(ke=Ce=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Me(){}var Ee=!1;function Pe(e,t,n){if(Ee)return e(t,n);Ee=!0;try{return Ie(e,t,n)}finally{Ee=!1,(null!==Ce||null!==ke)&&(Me(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){je=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){je=!1}function Re(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Ne=null,Be=!1,Fe=null,ze={onError:function(e){Le=!0,Ne=e}};function Ve(e,t,n,r,i,o,s,a,l){Le=!1,Ne=null,Re.apply(ze,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(We(e)!==e)throw Error(o(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ue(i),e;if(s===r)return Ue(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ze=i.unstable_requestPaint,Ke=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,Ct,kt,St,At=!1,Tt=[],It=null,Mt=null,Et=null,Pt=new Map,Dt=new Map,jt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=bi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Bt(e)&&n.delete(t)}function zt(){At=!1,null!==It&&Bt(It)&&(It=null),null!==Mt&&Bt(Mt)&&(Mt=null),null!==Et&&Bt(Et)&&(Et=null),Pt.forEach(Ft),Dt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Wt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Mt&&Vt(Mt,e),null!==Et&&Vt(Et,e),Pt.forEach(t),Dt.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Nt(n),null===n.blockedOn&&jt.shift()}var Ht=w.ReactCurrentBatchConfig,Ut=!0;function $t(e,t,n,r){var i=yt,o=Ht.transition;Ht.transition=null;try{yt=1,Gt(e,t,n,r)}finally{yt=i,Ht.transition=o}}function Yt(e,t,n,r){var i=yt,o=Ht.transition;Ht.transition=null;try{yt=4,Gt(e,t,n,r)}finally{yt=i,Ht.transition=o}}function Gt(e,t,n,r){if(Ut){var i=Xt(e,t,n,r);if(null===i)Ur(e,t,r,qt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Mt=Lt(Mt,e,t,n,r,i),!0;case"mouseover":return Et=Lt(Et,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Lt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,Lt(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=yi(i);if(null!==o&&xt(o),null===(o=Xt(e,t,n,r))&&Ur(e,t,r,qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var qt=null;function Xt(e,t,n,r){if(qt=null,null!==(e=bi(e=xe(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Kt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=N({},cn,{view:0,detail:0}),hn=on(dn),fn=N({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(N({},fn,{dataTransfer:0})),gn=on(N({},dn,{relatedTarget:0})),vn=on(N({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=N({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=on(bn),wn=on(N({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Sn(){return kn}var An=N({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(An),In=on(N({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=on(N({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),En=on(N({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=N({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(Pn),jn=[9,13,27,32],On=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Rn,Nn=u&&(!On||Rn&&8<Rn&&11>=Rn),Bn=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function $n(e,t,n,r){Ae(r),0<(t=Yr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Gn=null;function qn(e){Br(e,0)}function Xn(e){if(G(wi(e)))return e}function Zn(e,t){if("change"===e)return t}var Kn=!1;if(u){var Qn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;Kn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Gn=Yn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];$n(t,Gn,e,xe(e)),Pe(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function or(e,t){if("click"===e)return Xn(t)}function sr(e,t){if("input"===e||"change"===e)return Xn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,br=null,yr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Yr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Cr={},kr={};function Sr(e){if(Cr[e])return Cr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Cr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Ar=Sr("animationend"),Tr=Sr("animationiteration"),Ir=Sr("animationstart"),Mr=Sr("transitionend"),Er=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Er.set(e,t),l(t,[e])}for(var jr=0;jr<Pr.length;jr++){var Or=Pr[jr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Ar,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Ir,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Mr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=Ne;Le=!1,Ne=null,Be||(Be=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Nr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Nr(i,a,c),o=l}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Vr]){e[Vr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Zt(t)){case 1:var i=$t;break;case 4:i=Yt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=bi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=o,i=xe(n),s=[];e:{var a=Er.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Ar:case Tr:case Ir:l=vn;break;case Mr:l=En;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=De(p,h))&&u.push($r(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!bi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bi(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,bi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&qr(s,a,l,u,!1),null!==c&&null!==d&&qr(s,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Zn;else if(Un(a))if(Kn)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?$n(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Un(v)||"true"===v.contentEditable)&&(gr=v,vr=r,br=null);break;case"focusout":br=vr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,wr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,i)}var b;if(On)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Wn?zn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Nn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Wn&&(b=en()):(Qt="value"in(Kt=i)?Kt.value:Kt.textContent,Wn=!0)),0<(v=Yr(r,y)).length&&(y=new wn(y,e,null,n,i),s.push({event:y,listeners:v}),b?y.data=b:null!==(b=Vn(n))&&(y.data=b))),(b=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!On&&zn(e,t)?(e=en(),Jt=Qt=Kt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=b))}Br(s,t)}))}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift($r(e,o,i)),null!=(o=De(e,t))&&r.push($r(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=De(n,o))&&s.unshift($r(n,l,a)):i||null!=(l=De(n,o))&&s.push($r(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Xr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Kr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Zr,"")}function Qr(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Wt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function bi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var _i=[],Ci=-1;function ki(e){return{current:e}}function Si(e){0>Ci||(e.current=_i[Ci],_i[Ci]=null,Ci--)}function Ai(e,t){Ci++,_i[Ci]=e.current,e.current=t}var Ti={},Ii=ki(Ti),Mi=ki(!1),Ei=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ji(){Si(Mi),Si(Ii)}function Oi(e,t,n){if(Ii.current!==Ti)throw Error(o(168));Ai(Ii,t),Ai(Mi,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return N({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ei=Ii.current,Ai(Ii,e),Ai(Mi,Mi.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ri(e,t,Ei),r.__reactInternalMemoizedMergedChildContext=e,Si(Mi),Si(Ii),Ai(Ii,e)):Si(Mi),Ai(Mi,n)}var Bi=null,Fi=!1,zi=!1;function Vi(e){null===Bi?Bi=[e]:Bi.push(e)}function Wi(){if(!zi&&null!==Bi){zi=!0;var e=0,t=yt;try{var n=Bi;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,Fi=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),Ge(Je,Wi),i}finally{yt=t,zi=!1}}return null}var Hi=[],Ui=0,$i=null,Yi=0,Gi=[],qi=0,Xi=null,Zi=1,Ki="";function Qi(e,t){Hi[Ui++]=Yi,Hi[Ui++]=$i,$i=e,Yi=t}function Ji(e,t,n){Gi[qi++]=Zi,Gi[qi++]=Ki,Gi[qi++]=Xi,Xi=e;var r=Zi;e=Ki;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Zi=1<<32-st(t)+i|n<<i|r,Ki=o+e}else Zi=1<<o|n<<i|r,Ki=e}function eo(e){null!==e.return&&(Qi(e,1),Ji(e,1,0))}function to(e){for(;e===$i;)$i=Hi[--Ui],Hi[Ui]=null,Yi=Hi[--Ui],Hi[Ui]=null;for(;e===Xi;)Xi=Gi[--qi],Gi[qi]=null,Ki=Gi[--qi],Gi[qi]=null,Zi=Gi[--qi],Gi[qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Zi,overflow:Ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function bo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=jc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Nc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&yo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Nc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case _:return(t=Bc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;bo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:d(e,t,n,r,null);bo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);bo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),io&&Qi(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Qi(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Qi(i,m),c}function g(i,a,l,c){var u=R(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=f(i,m,b.value,c);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(i,m),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y,m=v}if(b.done)return n(i,m),io&&Qi(i,g),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=h(i,b.value,c))&&(a=s(b,a,g),null===d?u=b:d.sibling=b,d=b);return io&&Qi(i,g),u}for(m=r(i,m);!b.done;g++,b=l.next())null!==(b=p(m,i,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(i,e)})),io&&Qi(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===C&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===C){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&yo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=vo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===C?((o=Rc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Oc(s.type,s.key,s.props,null,r.mode,l)).ref=vo(r,o,s),l.return=r,r=l)}return a(r);case _:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bc(s,r.mode,l)).return=r,r=o}return a(r);case D:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(R(s))return g(r,o,s,l);bo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Nc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var xo=wo(!0),_o=wo(!1),Co=ki(null),ko=null,So=null,Ao=null;function To(){Ao=So=ko=null}function Io(e){var t=Co.current;Si(Co),e._currentValue=t}function Mo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){ko=e,Ao=So=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ya=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(Ao!==e)if(e={context:e,memoizedValue:t,next:null},null===So){if(null===ko)throw Error(o(308));So=e,ko.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var Do=null;function jo(e){null===Do?Do=[e]:Do.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,jo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Lo=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ro(e,n)}return null===(i=r.interleaved)?(t.next=t,jo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ro(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Wo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var i=e.updateQueue;Lo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=N({},d,h);break e;case 2:Lo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=d}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var $o={},Yo=ki($o),Go=ki($o),qo=ki($o);function Xo(e){if(e===$o)throw Error(o(174));return e}function Zo(e,t){switch(Ai(qo,t),Ai(Go,e),Ai(Yo,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Yo),Ai(Yo,t)}function Ko(){Si(Yo),Si(Go),Si(qo)}function Qo(e){Xo(qo.current);var t=Xo(Yo.current),n=le(t,e.type);t!==n&&(Ai(Go,e),Ai(Yo,n))}function Jo(e){Go.current===e&&(Si(Yo),Si(Go))}var es=ki(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=w.ReactCurrentDispatcher,os=w.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,fs=0;function ps(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Js:ea,e=n(r,i),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(ds)}if(is.current=Qs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function vs(){var e=0!==hs;return hs=0,e}function bs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function ys(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function ws(e,t){return"function"===typeof t?t(e):t}function xs(e){var t=ys(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ya=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Ll|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _s(e){var t=ys(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ya=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Cs(){}function ks(e,t){var n=as,r=ys(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ya=!0),r=r.queue,Ls(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ps(9,As.bind(null,n,r,i,t),void 0,null),null===Ml)throw Error(o(349));0!==(30&ss)||Ss(n,t,i)}return i}function Ss(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,r){t.value=n,t.getSnapshot=r,Is(t)&&Ms(e)}function Ts(e,t,n){return n((function(){Is(t)&&Ms(e)}))}function Is(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ms(e){var t=Ro(e,1);null!==t&&nc(t,e,1,-1)}function Es(e){var t=bs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=qs.bind(null,as,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ds(){return ys().memoizedState}function js(e,t,n,r){var i=bs();as.flags|=e,i.memoizedState=Ps(1|t,n,void 0,void 0===r?null:r)}function Os(e,t,n,r){var i=ys();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&ms(r,s.deps))return void(i.memoizedState=Ps(t,n,o,r))}as.flags|=e,i.memoizedState=Ps(1|t,n,o,r)}function Rs(e,t){return js(8390656,8,e,t)}function Ls(e,t){return Os(2048,8,e,t)}function Ns(e,t){return Os(4,2,e,t)}function Bs(e,t){return Os(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,Fs.bind(null,t,e),n)}function Vs(){}function Ws(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hs(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Us(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ya=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Ll|=n,e.baseState=!0),t)}function $s(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{yt=n,os.transition=r}}function Ys(){return ys().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e))Zs(t,n);else if(null!==(n=Oo(e,t,n,r))){nc(n,e,r,ec()),Ks(n,t,r)}}function qs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))Zs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,jo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oo(e,t,i,r))&&(nc(n,e,r,i=ec()),Ks(n,t,r))}}function Xs(e){var t=e.alternate;return e===as||null!==t&&t===as}function Zs(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ks(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Qs={readContext:Po,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Js={readContext:Po,useCallback:function(e,t){return bs().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:Rs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,js(4194308,4,Fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return js(4194308,4,e,t)},useInsertionEffect:function(e,t){return js(4,2,e,t)},useMemo:function(e,t){var n=bs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bs().memoizedState=e},useState:Es,useDebugValue:Vs,useDeferredValue:function(e){return bs().memoizedState=e},useTransition:function(){var e=Es(!1),t=e[0];return e=$s.bind(null,e[1]),bs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=bs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ml)throw Error(o(349));0!==(30&ss)||Ss(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Rs(Ts.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,As.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=bs(),t=Ml.identifierPrefix;if(io){var n=Ki;t=":"+t+"R"+(n=(Zi&~(1<<32-st(Zi)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Po,useCallback:Ws,useContext:Po,useEffect:Ls,useImperativeHandle:zs,useInsertionEffect:Ns,useLayoutEffect:Bs,useMemo:Hs,useReducer:xs,useRef:Ds,useState:function(){return xs(ws)},useDebugValue:Vs,useDeferredValue:function(e){return Us(ys(),ls.memoizedState,e)},useTransition:function(){return[xs(ws)[0],ys().memoizedState]},useMutableSource:Cs,useSyncExternalStore:ks,useId:Ys,unstable_isNewReconciler:!1},ta={readContext:Po,useCallback:Ws,useContext:Po,useEffect:Ls,useImperativeHandle:zs,useInsertionEffect:Ns,useLayoutEffect:Bs,useMemo:Hs,useReducer:_s,useRef:Ds,useState:function(){return _s(ws)},useDebugValue:Vs,useDeferredValue:function(e){var t=ys();return null===ls?t.memoizedState=e:Us(t,ls.memoizedState,e)},useTransition:function(){return[_s(ws)[0],ys().memoizedState]},useMutableSource:Cs,useSyncExternalStore:ks,useId:Ys,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Fo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Fo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zo(e,i,r))&&(nc(t,e,r,n),Vo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(i=Di(t)?Ei:Ii.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Po(o):(o=Di(t)?Ei:Ii.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ul||(Ul=!0,$l=r),da(0,t)},n}function pa(e,t,n){(n=Fo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,ya=!1;function wa(e,t,n,r){t.child=null===e?_o(t,null,n,r):xo(t,e.child,n,r)}function xa(e,t,n,r,i){n=n.render;var o=t.ref;return Eo(t,i),r=gs(e,t,n,r,o,i),n=vs(),null===e||ya?(io&&n&&eo(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ua(e,t,i))}function _a(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ca(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ua(e,t,i)}return t.flags|=1,(e=jc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ya=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ua(e,t,i);0!==(131072&e.flags)&&(ya=!0)}}return Aa(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(jl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(jl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ai(jl,Dl),Dl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ai(jl,Dl),Dl|=r;return wa(e,t,i,n),t.child}function Sa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Aa(e,t,n,r,i){var o=Di(n)?Ei:Ii.current;return o=Pi(t,o),Eo(t,i),n=gs(e,t,n,r,o,i),r=vs(),null===e||ya?(io&&r&&eo(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ua(e,t,i))}function Ta(e,t,n,r,i){if(Di(n)){var o=!0;Li(t)}else o=!1;if(Eo(t,i),null===t.stateNode)Ha(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Po(c):c=Pi(t,c=Di(n)?Ei:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Lo=!1;var h=t.memoizedState;s.state=h,Ho(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Mi.current||Lo?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Lo||oa(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Bo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Po(l):l=Pi(t,l=Di(n)?Ei:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),Lo=!1,h=t.memoizedState,s.state=h,Ho(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Mi.current||Lo?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Lo||oa(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,o,i)}function Ia(e,t,n,r,i,o){Sa(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Ni(t,n,!1),Ua(e,t,o);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,a,o)):wa(e,t,a,o),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function Ma(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Zo(e,t.containerInfo)}function Ea(e,t,n,r,i){return po(),mo(i),t.flags|=256,wa(e,t,n,r),t.child}var Pa,Da,ja,Oa,Ra={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Na(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ai(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Lc(l,i,0,null),e=Rc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=Ra,e):Ba(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(s=Rc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=Ra,s);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fa(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ya||l){if(null!==(r=Ml)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ro(e,i),nc(r,e,i,-1))}return mc(),Fa(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[qi++]=Zi,Gi[qi++]=Ki,Gi[qi++]=Xi,Zi=e.id,Ki=e.overflow,Xi=t),t=Ba(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=jc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=jc(r,a):(a=Rc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ra,i}return e=(a=e.child).sibling,i=jc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ba(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Ba(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Mo(e.return,t,n)}function Va(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Wa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,o);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ua(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=jc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $a(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ya(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ya(t),null;case 1:case 17:return Di(t.type)&&ji(),Ya(t),null;case 3:return r=t.stateNode,Ko(),Si(Mi),Si(Ii),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Da(e,t),Ya(t),null;case 5:Jo(t);var i=Xo(qo.current);if(n=t.type,null!==e&&null!=t.stateNode)ja(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ya(t),null}if(e=Xo(Yo.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Z(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":ie(r,s),Fr("invalid",r)}for(var l in be(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":Y(r),J(r,s,!0);break;case"textarea":Y(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Z(e,r),i=X(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=N({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(s in be(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fr("scroll",e):null!=u&&y(e,s,u,l))}switch(n){case"input":Y(e),J(e,r,!1);break;case"textarea":Y(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+U(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ya(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Xo(qo.current),Xo(Yo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ya(t),null;case 13:if(Si(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ya(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ya(t),null);case 4:return Ko(),Da(e,t),null===e&&Wr(t.stateNode.containerInfo),Ya(t),null;case 10:return Io(t.type._context),Ya(t),null;case 19:if(Si(es),null===(s=t.memoizedState))return Ya(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)$a(s,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,$a(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ke()>Wl&&(t.flags|=128,r=!0,$a(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$a(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ya(t),null}else 2*Ke()-s.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,$a(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ke(),t.sibling=null,n=es.current,Ai(es,r?1&n|2:1&n),t):(Ya(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ya(t),6&t.subtreeFlags&&(t.flags|=8192)):Ya(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function qa(e,t){switch(to(t),t.tag){case 1:return Di(t.type)&&ji(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ko(),Si(Mi),Si(Ii),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Jo(t),null;case 13:if(Si(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(es),null;case 4:return Ko(),null;case 10:return Io(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},ja=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xo(Yo.current);var o,s=null;switch(n){case"input":i=X(e,i),r=X(e,r),s=[];break;case"select":i=N({},i,{value:void 0}),r=N({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in be(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,Za=!1,Ka="function"===typeof WeakSet?WeakSet:Set,Qa=null;function Ja(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Za||Ja(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Wt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Za&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Za&&(Ja(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Za=(r=Za)||null!==n.memoizedState,hl(e,t,n),Za=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ka),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(s,a,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Ja(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Ja(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&K(i,s),ye(l,a);var u=ye(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):y(i,d,h,u)}switch(l){case"input":Q(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Ke())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Za=(u=Za)||d,ml(t,e),Za=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qa=e,d=e.child;null!==d;){for(h=Qa=d;null!==Qa;){switch(p=(f=Qa).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Ja(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Ja(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Qa=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Qa=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Qa;){var i=Qa,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Xa;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Za;a=Xa;var c=Za;if(Xa=s,(Za=l)&&!c)for(Qa=i;null!==Qa;)l=(s=Qa).child,22===s.tag&&null!==s.memoizedState?_l(i):null!==l?(l.return=s,Qa=l):_l(i);for(;null!==o;)Qa=o,yl(o,t,n),o=o.sibling;Qa=i,Xa=a,Za=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Qa=o):wl(e)}}function wl(e){for(;null!==Qa;){var t=Qa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Za||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Za)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Uo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(o(163))}Za||512&t.flags&&il(t)}catch(f){kc(t,t.return,f)}}if(t===e){Qa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qa=n;break}Qa=t.return}}function xl(e){for(;null!==Qa;){var t=Qa;if(t===e){Qa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qa=n;break}Qa=t.return}}function _l(e){for(;null!==Qa;){var t=Qa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{il(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Qa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Qa=a;break}Qa=t.return}}var Cl,kl=Math.ceil,Sl=w.ReactCurrentDispatcher,Al=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Il=0,Ml=null,El=null,Pl=0,Dl=0,jl=ki(0),Ol=0,Rl=null,Ll=0,Nl=0,Bl=0,Fl=null,zl=null,Vl=0,Wl=1/0,Hl=null,Ul=!1,$l=null,Yl=null,Gl=!1,ql=null,Xl=0,Zl=0,Kl=null,Ql=-1,Jl=0;function ec(){return 0!==(6&Il)?Ke():-1!==Ql?Ql:Ql=Ke()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Pl?Pl&-Pl:null!==go.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nc(e,t,n,r){if(50<Zl)throw Zl=0,Kl=null,Error(o(185));vt(e,n,r),0!==(2&Il)&&e===Ml||(e===Ml&&(0===(2&Il)&&(Nl|=n),4===Ol&&ac(e,Pl)),rc(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Wl=Ke()+500,Fi&&Wi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Ml?Pl:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),si((function(){0===(6&Il)&&Wi()})),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Mc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ql=-1,Jl=0,0!==(6&Il))throw Error(o(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ml?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Il;Il|=2;var s=pc();for(Ml===e&&Pl===t||(Hl=null,Wl=Ke()+500,hc(e,t));;)try{bc();break}catch(l){fc(e,l)}To(),Sl.current=s,Il=i,null!==El?t=0:(Ml=null,Pl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Rl,hc(e,0),ac(e,r),rc(e,Ke()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=pt(e))&&(r=s,t=oc(e,s))),1===t))throw n=Rl,hc(e,0),ac(e,r),rc(e,Ke()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,zl,Hl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Vl+500-Ke())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zl,Hl),t);break}xc(e,zl,Hl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ke()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zl,Hl),r);break}xc(e,zl,Hl);break;default:throw Error(o(329))}}}return rc(e,Ke()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&sc(t)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function ac(e,t){for(t&=~Bl,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Il))throw Error(o(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Ke()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Rl,hc(e,0),ac(e,t),rc(e,Ke()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zl,Hl),rc(e,Ke()),null}function cc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Wl=Ke()+500,Fi&&Wi())}}function uc(e){null!==ql&&0===ql.tag&&0===(6&Il)&&_c();var t=Il;Il|=1;var n=Tl.transition,r=yt;try{if(Tl.transition=null,yt=1,e)return e()}finally{yt=r,Tl.transition=n,0===(6&(Il=t))&&Wi()}}function dc(){Dl=jl.current,Si(jl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==El)for(n=El.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ji();break;case 3:Ko(),Si(Mi),Si(Ii),rs();break;case 5:Jo(r);break;case 4:Ko();break;case 13:case 19:Si(es);break;case 10:Io(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ml=e,El=e=jc(e.current,null),Pl=Dl=t,Ol=0,Rl=null,Bl=Nl=Ll=0,zl=Fl=null,null!==Do){for(t=0;t<Do.length;t++)if(null!==(r=(n=Do[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Do=null}return e}function fc(e,t){for(;;){var n=El;try{if(To(),is.current=Qs,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,Al.current=null,null===n||null===n.return){Ol=1,Rl=t,El=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mo(ca(c,l));break e}}s=c=ca(c,l),4!==Ol&&(Ol=2),null===Fl?Fl=[s]:Fl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Wo(s,fa(0,c,t));break e;case 1:l=c;var b=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Yl||!Yl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,Wo(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(w){t=w,El===n&&null!==n&&(El=n=n.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Qs,null===e?Qs:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Ml||0===(268435455&Ll)&&0===(268435455&Nl)||ac(Ml,Pl)}function gc(e,t){var n=Il;Il|=2;var r=pc();for(Ml===e&&Pl===t||(Hl=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(To(),Il=n,Sl.current=r,null!==El)throw Error(o(261));return Ml=null,Pl=0,Ol}function vc(){for(;null!==El;)yc(El)}function bc(){for(;null!==El&&!Xe();)yc(El)}function yc(e){var t=Cl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):El=t,Al.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Dl)))return void(El=n)}else{if(null!==(n=qa(n,t)))return n.flags&=32767,void(El=n);if(null===e)return Ol=6,void(El=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(El=t);El=t=e}while(null!==t);0===Ol&&(Ol=5)}function xc(e,t,n){var r=yt,i=Tl.transition;try{Tl.transition=null,yt=1,function(e,t,n,r){do{_c()}while(null!==ql);if(0!==(6&Il))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Ml&&(El=Ml=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Mc(tt,(function(){return _c(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=yt;yt=1;var l=Il;Il|=4,Al.current=null,function(e,t){if(ei=Ut,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ut=!1,Qa=t;null!==Qa;)if(e=(t=Qa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qa=e;else for(;null!==Qa;){t=Qa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){kc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qa=e;break}Qa=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ut=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Ze(),Il=l,yt=a,Tl.transition=s}else e.current=n;if(Gl&&(Gl=!1,ql=e,Xl=i),s=e.pendingLanes,0===s&&(Yl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ke()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ul)throw Ul=!1,e=$l,$l=null,e;0!==(1&Xl)&&0!==e.tag&&_c(),s=e.pendingLanes,0!==(1&s)?e===Kl?Zl++:(Zl=0,Kl=e):Zl=0,Wi()}(e,t,n,r)}finally{Tl.transition=i,yt=r}return null}function _c(){if(null!==ql){var e=wt(Xl),t=Tl.transition,n=yt;try{if(Tl.transition=null,yt=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,Xl=0,0!==(6&Il))throw Error(o(331));var i=Il;for(Il|=4,Qa=e.current;null!==Qa;){var s=Qa,a=s.child;if(0!==(16&Qa.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qa=u;null!==Qa;){var d=Qa;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Qa=h;else for(;null!==Qa;){var f=(d=Qa).sibling,p=d.return;if(ol(d),d===u){Qa=null;break}if(null!==f){f.return=p,Qa=f;break}Qa=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Qa=a;else e:for(;null!==Qa;){if(0!==(2048&(s=Qa).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var b=s.sibling;if(null!==b){b.return=s.return,Qa=b;break e}Qa=s.return}}var y=e.current;for(Qa=y;null!==Qa;){var w=(a=Qa).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Qa=w;else e:for(a=y;null!==Qa;){if(0!==(2048&(l=Qa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){kc(l,l.return,_)}if(l===a){Qa=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Qa=x;break e}Qa=l.return}}if(Il=i,Wi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{yt=n,Tl.transition=t}}return!1}function Cc(e,t,n){e=zo(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=zo(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(Pl&n)===n&&(4===Ol||3===Ol&&(130023424&Pl)===Pl&&500>Ke()-Vl?hc(e,0):Bl|=n),rc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ro(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ac(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ac(e,n)}function Mc(e,t){return Ge(e,t)}function Ec(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ec(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Dc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return Rc(n.children,i,s,t);case k:a=8,i|=8;break;case S:return(e=Pc(12,n,t,2|i)).elementType=S,e.lanes=s,e;case M:return(e=Pc(13,n,t,i)).elementType=M,e.lanes=s,e;case E:return(e=Pc(19,n,t,i)).elementType=E,e.lanes=s,e;case j:return Lc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:a=10;break e;case T:a=9;break e;case I:a=11;break e;case P:a=14;break e;case D:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Rc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Nc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,s,a,l){return e=new Fc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Vc(e){if(!e)return Ti;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Di(n))return Ri(e,n,t)}return t}function Wc(e,t,n,r,i,o,s,a,l){return(e=zc(n,r,!0,e,0,o,0,a,l)).context=Vc(null),n=e.current,(o=Fo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,zo(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(i,t,s))&&(nc(e,i,s,o),Vo(e,i,s)),s}function Uc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)ya=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ya=!1,function(e,t,n){switch(t.tag){case 3:Ma(t),po();break;case 5:Qo(t);break;case 1:Di(t.type)&&Li(t);break;case 4:Zo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(Co,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Na(e,t,n):(Ai(es,1&es.current),null!==(e=Ua(e,t,n))?e.sibling:null);Ai(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ua(e,t,n)}(e,t,n);ya=0!==(131072&e.flags)}else ya=!1,io&&0!==(1048576&t.flags)&&Ji(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);Eo(t,n),i=gs(null,t,r,e,i,n);var s=vs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ia(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),i){case 0:t=Aa(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=_a(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Ma(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Bo(e,t),Ho(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ea(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Ea(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=_o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ua(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Qo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Sa(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Na(e,t,n);case 4:return Zo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ai(Co,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Mi.current){t=Ua(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Fo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Mo(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Mo(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Eo(t,n),r=r(i=Po(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),_a(e,t,r,i=na(r.type,i),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ha(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,Eo(t,n),sa(t,r,i),la(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return Wa(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Jc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Uc(s);a.call(e)}}Hc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Uc(s);o.call(e)}}var s=Wc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=s,e[pi]=s.current,Wr(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Uc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[pi]=l.current,Wr(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Uc(s)}Xc.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},Xc.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Nt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Ke()),0===(6&Il)&&(Wl=Ke()+500,Wi()))}break;case 13:uc((function(){var t=Ro(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Yc(e,1)}},_t=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)nc(t,e,134217728,ec());Yc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tc(e),n=Ro(e,t);if(null!==n)nc(n,e,t,ec());Yc(e,t)}},kt=function(){return yt},St=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},_e=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));G(r),Q(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Me=uc;var eu={usingClientEntryPoint:!1,Events:[yi,wi,xi,Ae,Te,cc]},tu={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Kc(t))throw Error(o(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Kc(t))throw Error(o(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Kc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Kc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(5043)),i=h(n(5173)),o=h(n(7950)),s=h(n(7989)),a=n(1212),l=n(1777),c=n(2447),u=h(n(935)),d=h(n(5387));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),m(this,"onDragStart",((e,t)=>{(0,d.default)("Draggable: onDragStart: %j",t);if(!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})})),m(this,"onDrag",((e,t)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);const n=(0,l.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[i,o]=(0,l.getBoundPosition)(this,r.x,r.y);r.x=i,r.y=o,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)})),m(this,"onDragStop",((e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)})),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:o.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:i,defaultClassName:o,defaultClassNameDragging:c,defaultClassNameDragged:d,position:h,positionOffset:f,scale:m,...g}=this.props;let v={},b=null;const y=!Boolean(h)||this.state.dragging,w=h||i,x={x:(0,l.canDragX)(this)&&y?this.state.x:w.x,y:(0,l.canDragY)(this)&&y?this.state.y:w.y};this.state.isElementSVG?b=(0,a.createSVGTransform)(x,f):v=(0,a.createCSSTransform)(x,f);const _=(0,s.default)(n.props.className||"",o,{[c]:this.state.dragging,[d]:this.state.dragged});return r.createElement(u.default,p({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:_,style:{...n.props.style,...v},transform:b}))}}t.default=g,m(g,"displayName","Draggable"),m(g,"propTypes",{...u.default.propTypes,axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),m(g,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(5043)),i=u(n(5173)),o=u(n(7950)),s=n(1212),a=n(1777),l=n(2447),c=u(n(5387));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={start:"touchstart",move:"touchmove",stop:"touchend"},p={start:"mousedown",move:"mousemove",stop:"mouseup"};let m=p;class g extends r.Component{constructor(){super(...arguments),h(this,"dragging",!1),h(this,"lastX",NaN),h(this,"lastY",NaN),h(this,"touchIdentifier",null),h(this,"mounted",!1),h(this,"handleDragStart",(e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"===typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,s.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,s.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"===e.type&&e.preventDefault();const r=(0,s.getTouchIdentifier)(e);this.touchIdentifier=r;const i=(0,a.getControlPosition)(e,r,this);if(null==i)return;const{x:o,y:l}=i,u=(0,a.createCoreData)(this,o,l);(0,c.default)("DraggableCore: handleDragStart: %j",u),(0,c.default)("calling",this.props.onStart);!1!==this.props.onStart(e,u)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(n),this.dragging=!0,this.lastX=o,this.lastY=l,(0,s.addEvent)(n,m.move,this.handleDrag),(0,s.addEvent)(n,m.stop,this.handleDragStop))})),h(this,"handleDrag",(e=>{const t=(0,a.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,a.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const i=(0,a.createCoreData)(this,n,r);(0,c.default)("DraggableCore: handleDrag: %j",i);if(!1!==this.props.onDrag(e,i)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(o){const e=document.createEvent("MouseEvents");e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}})),h(this,"handleDragStop",(e=>{if(!this.dragging)return;const t=(0,a.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,a.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const i=(0,a.createCoreData)(this,n,r);if(!1===this.props.onStop(e,i)||!1===this.mounted)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(o.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,c.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(o.ownerDocument,m.move,this.handleDrag),(0,s.removeEvent)(o.ownerDocument,m.stop,this.handleDragStop))})),h(this,"onMouseDown",(e=>(m=p,this.handleDragStart(e)))),h(this,"onMouseUp",(e=>(m=p,this.handleDragStop(e)))),h(this,"onTouchStart",(e=>(m=f,this.handleDragStart(e)))),h(this,"onTouchEnd",(e=>(m=f,this.handleDragStop(e))))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,s.addEvent)(e,f.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,s.removeEvent)(t,p.move,this.handleDrag),(0,s.removeEvent)(t,f.move,this.handleDrag),(0,s.removeEvent)(t,p.stop,this.handleDragStop),(0,s.removeEvent)(t,f.stop,this.handleDragStop),(0,s.removeEvent)(e,f.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:o.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=g,h(g,"displayName","DraggableCore"),h(g,"propTypes",{allowAnyClick:i.default.bool,children:i.default.node.isRequired,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),h(g,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},1929:(e,t,n)=>{"use strict";const{default:r,DraggableCore:i}=n(8136);e.exports=r,e.exports.default=r,e.exports.DraggableCore=i},1212:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=c,t.addEvent=function(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&c(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=l(e,t,"px");return{[(0,i.browserPrefixToKey)("transform",i.default)]:n}},t.createSVGTransform=function(e,t){return l(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,(e=>t===e.identifier))||e.changedTouches&&(0,r.findInArray)(e.changedTouches,(e=>t===e.identifier))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=l,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=a,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(a(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-r.left)/n,o=(e.clientY+t.scrollTop-r.top)/n;return{x:i,y:o}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=u,t.removeEvent=function(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&u(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(t){}};var r=n(2447),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n(1561));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}let s="";function a(e,t){return s||(s=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,r.isFunction)(e[t])}))),!!(0,r.isFunction)(e[s])&&e[s](t)}function l(e,t,n){let{x:r,y:i}=e,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){const e="".concat("string"===typeof t.x?t.x:t.x+n),r="".concat("string"===typeof t.y?t.y:t.y+n);o="translate(".concat(e,", ").concat(r,")")+o}return o}function c(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},1561:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=i,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";const r=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!r)return"";if(t in r)return"";for(let o=0;o<n.length;o++)if(i(t,n[o])in r)return n[o];return""}function i(e,t){return t?"".concat(t).concat(function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}t.default=r()},5387:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},1777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const i=!(0,r.isNum)(e.lastX),s=o(e);return i?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:s,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:s}=e.props;s="string"===typeof s?s:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(s);const a=o(e);if("string"===typeof s){const{ownerDocument:e}=a,t=e.defaultView;let n;if(n="parent"===s?a.parentNode:e.querySelector(s),!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+s+'" could not find an element.');const o=n,l=t.getComputedStyle(a),c=t.getComputedStyle(o);s={left:-a.offsetLeft+(0,r.int)(c.paddingLeft)+(0,r.int)(l.marginLeft),top:-a.offsetTop+(0,r.int)(c.paddingTop)+(0,r.int)(l.marginTop),right:(0,i.innerWidth)(o)-(0,i.outerWidth)(a)-a.offsetLeft+(0,r.int)(c.paddingRight)-(0,r.int)(l.marginRight),bottom:(0,i.innerHeight)(o)-(0,i.outerHeight)(a)-a.offsetTop+(0,r.int)(c.paddingBottom)-(0,r.int)(l.marginBottom)}}(0,r.isNum)(s.right)&&(t=Math.min(t,s.right));(0,r.isNum)(s.bottom)&&(n=Math.min(n,s.bottom));(0,r.isNum)(s.left)&&(t=Math.max(t,s.left));(0,r.isNum)(s.top)&&(n=Math.max(n,s.top));return[t,n]},t.getControlPosition=function(e,t,n){const r="number"===typeof t?(0,i.getTouch)(e,t):null;if("number"===typeof t&&!r)return null;const s=o(n),a=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,i.offsetXYFromParent)(r||e,a,n.props.scale)},t.snapToGrid=function(e,t,n){const r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]};var r=n(2447),i=n(1212);function o(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},2447:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},7989:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.r(t),n.d(t,{clsx:()=>i,default:()=>o});const o=i},7251:function(e,t,n){var r,i,o;i=[t,n(75)],r=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(t);function r(e){return e&&e.__esModule?e:{default:e}}e.default=n.default},void 0===(o="function"===typeof r?r.apply(t,i):r)||(e.exports=o)},75:function(e,t,n){var r,i,o;i=[t,n(5043),n(5173)],r=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=f;var r=o(t),i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=!1;function f(e){h=e}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){f(!0)}}))}catch(v){}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{capture:!0};return h?e:e.capture}function m(e){if("touches"in e){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.screenX,y:e.screenY}}var g=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return o._handleSwipeStart=o._handleSwipeStart.bind(o),o._handleSwipeMove=o._handleSwipeMove.bind(o),o._handleSwipeEnd=o._handleSwipeEnd.bind(o),o._onMouseDown=o._onMouseDown.bind(o),o._onMouseMove=o._onMouseMove.bind(o),o._onMouseUp=o._onMouseUp.bind(o),o._setSwiperRef=o._setSwiperRef.bind(o),o}return d(t,e),c(t,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,p({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,p({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(e){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(e))}},{key:"_onMouseMove",value:function(e){this.mouseDown&&this._handleSwipeMove(e)}},{key:"_onMouseUp",value:function(e){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(e)}},{key:"_handleSwipeStart",value:function(e){var t=m(e),n=t.x,r=t.y;this.moveStart={x:n,y:r},this.props.onSwipeStart(e)}},{key:"_handleSwipeMove",value:function(e){if(this.moveStart){var t=m(e),n=t.x,r=t.y,i=n-this.moveStart.x,o=r-this.moveStart.y;this.moving=!0,this.props.onSwipeMove({x:i,y:o},e)&&e.cancelable&&e.preventDefault(),this.movePosition={deltaX:i,deltaY:o}}}},{key:"_handleSwipeEnd",value:function(e){this.props.onSwipeEnd(e);var t=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-t?this.props.onSwipeLeft(1,e):this.movePosition.deltaX>t&&this.props.onSwipeRight(1,e),this.movePosition.deltaY<-t?this.props.onSwipeUp(1,e):this.movePosition.deltaY>t&&this.props.onSwipeDown(1,e)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(e){this.swiper=e,this.props.innerRef(e)}},{key:"render",value:function(){var e=this.props,t=(e.tagName,e.className),n=e.style,i=e.children,o=(e.allowMouseEvents,e.onSwipeUp,e.onSwipeDown,e.onSwipeLeft,e.onSwipeRight,e.onSwipeStart,e.onSwipeMove,e.onSwipeEnd,e.innerRef,e.tolerance,a(e,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]));return r.default.createElement(this.props.tagName,s({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:t,style:n},o),i)}}]),t}(t.Component);g.displayName="ReactSwipe",g.propTypes={tagName:i.default.string,className:i.default.string,style:i.default.object,children:i.default.node,allowMouseEvents:i.default.bool,onSwipeUp:i.default.func,onSwipeDown:i.default.func,onSwipeLeft:i.default.func,onSwipeRight:i.default.func,onSwipeStart:i.default.func,onSwipeMove:i.default.func,onSwipeEnd:i.default.func,innerRef:i.default.func,tolerance:i.default.number.isRequired},g.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=g},void 0===(o="function"===typeof r?r.apply(t,i):r)||(e.exports=o)},5082:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.Memo=p},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},178:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t,n){var r=0===e?e:e+t;return"translate3d"+("("+("horizontal"===n?[r,0,0]:[0,r,0]).join(",")+")")}},8226:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fadeAnimationHandler=t.slideStopSwipingHandler=t.slideSwipeAnimationHandler=t.slideAnimationHandler=void 0;var r,i=n(5043),o=(r=n(178))&&r.__esModule?r:{default:r},s=n(564);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.slideAnimationHandler=function(e,t){var n={},r=t.selectedItem,a=r,c=i.Children.count(e.children)-1;if(e.infiniteLoop&&(r<0||r>c))return a<0?e.centerMode&&e.centerSlidePercentage&&"horizontal"===e.axis?n.itemListStyle=(0,s.setPosition)(-(c+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):n.itemListStyle=(0,s.setPosition)(100*-(c+2),e.axis):a>c&&(n.itemListStyle=(0,s.setPosition)(0,e.axis)),n;var u=(0,s.getPosition)(r,e),d=(0,o.default)(u,"%",e.axis),h=e.transitionTime+"ms";return n.itemListStyle={WebkitTransform:d,msTransform:d,OTransform:d,transform:d},t.swiping||(n.itemListStyle=l(l({},n.itemListStyle),{},{WebkitTransitionDuration:h,MozTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h})),n};t.slideSwipeAnimationHandler=function(e,t,n,r){var o={},a="horizontal"===t.axis,l=i.Children.count(t.children),c=(0,s.getPosition)(n.selectedItem,t),u=t.infiniteLoop?(0,s.getPosition)(l-1,t)-100:(0,s.getPosition)(l-1,t),d=a?e.x:e.y,h=d;0===c&&d>0&&(h=0),c===u&&d<0&&(h=0);var f=c+100/(n.itemSize/h),p=Math.abs(d)>t.swipeScrollTolerance;return t.infiniteLoop&&p&&(0===n.selectedItem&&f>-100?f-=100*l:n.selectedItem===l-1&&f<100*-l&&(f+=100*l)),(!t.preventMovementUntilSwipeScrollTolerance||p||n.swipeMovementStarted)&&(n.swipeMovementStarted||r({swipeMovementStarted:!0}),o.itemListStyle=(0,s.setPosition)(f,t.axis)),p&&!n.cancelClick&&r({cancelClick:!0}),o};t.slideStopSwipingHandler=function(e,t){var n=(0,s.getPosition)(t.selectedItem,e);return{itemListStyle:(0,s.setPosition)(n,e.axis)}};t.fadeAnimationHandler=function(e,t){var n=e.transitionTime+"ms",r="ease-in-out",i={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:r,msTransitionTimingFunction:r,MozTransitionTimingFunction:r,WebkitTransitionTimingFunction:r,OTransitionTimingFunction:r};return t.swiping||(i=l(l({},i),{},{WebkitTransitionDuration:n,MozTransitionDuration:n,OTransitionDuration:n,transitionDuration:n,msTransitionDuration:n})),{slideStyle:i,selectedStyle:l(l({},i),{},{opacity:1,position:"relative"}),prevStyle:l({},i)}}},3481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!==typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(5043)),i=d(n(7251)),o=d(n(8656)),s=d(n(4169)),a=d(n(5559)),l=d(n(7005)),c=n(564),u=n(8226);function d(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(f,e);var t,n,d,h=y(f);function f(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),_(w(t=h.call(this,e)),"thumbsRef",void 0),_(w(t),"carouselWrapperRef",void 0),_(w(t),"listRef",void 0),_(w(t),"itemsRef",void 0),_(w(t),"timer",void 0),_(w(t),"animationHandler",void 0),_(w(t),"setThumbsRef",(function(e){t.thumbsRef=e})),_(w(t),"setCarouselWrapperRef",(function(e){t.carouselWrapperRef=e})),_(w(t),"setListRef",(function(e){t.listRef=e})),_(w(t),"setItemsRef",(function(e,n){t.itemsRef||(t.itemsRef=[]),t.itemsRef[n]=e})),_(w(t),"autoPlay",(function(){r.Children.count(t.props.children)<=1||(t.clearAutoPlay(),t.props.autoPlay&&(t.timer=setTimeout((function(){t.increment()}),t.props.interval)))})),_(w(t),"clearAutoPlay",(function(){t.timer&&clearTimeout(t.timer)})),_(w(t),"resetAutoPlay",(function(){t.clearAutoPlay(),t.autoPlay()})),_(w(t),"stopOnHover",(function(){t.setState({isMouseEntered:!0},t.clearAutoPlay)})),_(w(t),"startOnLeave",(function(){t.setState({isMouseEntered:!1},t.autoPlay)})),_(w(t),"isFocusWithinTheCarousel",(function(){return!!t.carouselWrapperRef&&!((0,a.default)().activeElement!==t.carouselWrapperRef&&!t.carouselWrapperRef.contains((0,a.default)().activeElement))})),_(w(t),"navigateWithKeyboard",(function(e){if(t.isFocusWithinTheCarousel()){var n="horizontal"===t.props.axis,r=n?37:38;(n?39:40)===e.keyCode?t.increment():r===e.keyCode&&t.decrement()}})),_(w(t),"updateSizes",(function(){if(t.state.initialized&&t.itemsRef&&0!==t.itemsRef.length){var e="horizontal"===t.props.axis,n=t.itemsRef[0];if(n){var r=e?n.clientWidth:n.clientHeight;t.setState({itemSize:r}),t.thumbsRef&&t.thumbsRef.updateSizes()}}})),_(w(t),"setMountState",(function(){t.setState({hasMount:!0}),t.updateSizes()})),_(w(t),"handleClickItem",(function(e,n){0!==r.Children.count(t.props.children)&&(t.state.cancelClick?t.setState({cancelClick:!1}):(t.props.onClickItem(e,n),e!==t.state.selectedItem&&t.setState({selectedItem:e})))})),_(w(t),"handleOnChange",(function(e,n){r.Children.count(t.props.children)<=1||t.props.onChange(e,n)})),_(w(t),"handleClickThumb",(function(e,n){t.props.onClickThumb(e,n),t.moveTo(e)})),_(w(t),"onSwipeStart",(function(e){t.setState({swiping:!0}),t.props.onSwipeStart(e)})),_(w(t),"onSwipeEnd",(function(e){t.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),t.props.onSwipeEnd(e),t.clearAutoPlay(),t.state.autoPlay&&t.autoPlay()})),_(w(t),"onSwipeMove",(function(e,n){t.props.onSwipeMove(n);var r=t.props.swipeAnimationHandler(e,t.props,t.state,t.setState.bind(w(t)));return t.setState(g({},r)),!!Object.keys(r).length})),_(w(t),"decrement",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem-("number"===typeof e?e:1))})),_(w(t),"increment",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem+("number"===typeof e?e:1))})),_(w(t),"moveTo",(function(e){if("number"===typeof e){var n=r.Children.count(t.props.children)-1;e<0&&(e=t.props.infiniteLoop?n:0),e>n&&(e=t.props.infiniteLoop?0:n),t.selectItem({selectedItem:e}),t.state.autoPlay&&!1===t.state.isMouseEntered&&t.resetAutoPlay()}})),_(w(t),"onClickNext",(function(){t.increment(1)})),_(w(t),"onClickPrev",(function(){t.decrement(1)})),_(w(t),"onSwipeForward",(function(){t.increment(1),t.props.emulateTouch&&t.setState({cancelClick:!0})})),_(w(t),"onSwipeBackwards",(function(){t.decrement(1),t.props.emulateTouch&&t.setState({cancelClick:!0})})),_(w(t),"changeItem",(function(e){return function(n){(0,c.isKeyboardEvent)(n)&&"Enter"!==n.key||t.moveTo(e)}})),_(w(t),"selectItem",(function(e){t.setState(g({previousItem:t.state.selectedItem},e),(function(){t.setState(t.animationHandler(t.props,t.state))})),t.handleOnChange(e.selectedItem,r.Children.toArray(t.props.children)[e.selectedItem])})),_(w(t),"getInitialImage",(function(){var e=t.props.selectedItem,n=t.itemsRef&&t.itemsRef[e];return(n&&n.getElementsByTagName("img")||[])[0]})),_(w(t),"getVariableItemHeight",(function(e){var n=t.itemsRef&&t.itemsRef[e];if(t.state.hasMount&&n&&n.children.length){var r=n.children[0].getElementsByTagName("img")||[];if(r.length>0){var i=r[0];if(!i.complete){i.addEventListener("load",(function e(){t.forceUpdate(),i.removeEventListener("load",e)}))}}var o=(r[0]||n.children[0]).clientHeight;return o>0?o:null}return null}));var n={initialized:!1,previousItem:e.selectedItem,selectedItem:e.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:e.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return t.animationHandler="function"===typeof e.animationHandler&&e.animationHandler||"fade"===e.animationHandler&&u.fadeAnimationHandler||u.slideAnimationHandler,t.state=g(g({},n),t.animationHandler(e,n)),t}return t=f,(n=[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(e,t){e.children||!this.props.children||this.state.initialized||this.setupCarousel(),!e.autoFocus&&this.props.autoFocus&&this.forceFocus(),t.swiping&&!this.state.swiping&&this.setState(g({},this.props.stopSwipingHandler(this.props,this.state))),e.selectedItem===this.props.selectedItem&&e.centerMode===this.props.centerMode||(this.updateSizes(),this.moveTo(this.props.selectedItem)),e.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var e=this;this.bindEvents(),this.state.autoPlay&&r.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},(function(){var t=e.getInitialImage();t&&!t.complete?t.addEventListener("load",e.setMountState):e.setMountState()}))}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.addEventListener("mouseenter",this.stopOnHover),e.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.removeEventListener("mouseenter",this.stopOnHover),e.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,a.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var e=this.getInitialImage();e&&e.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,a.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var e;null===(e=this.carouselWrapperRef)||void 0===e||e.focus()}},{key:"renderItems",value:function(e){var t=this;return this.props.children?r.Children.map(this.props.children,(function(n,i){var s=i===t.state.selectedItem,a=i===t.state.previousItem,l=s&&t.state.selectedStyle||a&&t.state.prevStyle||t.state.slideStyle||{};t.props.centerMode&&"horizontal"===t.props.axis&&(l=g(g({},l),{},{minWidth:t.props.centerSlidePercentage+"%"})),t.state.swiping&&t.state.swipeMovementStarted&&(l=g(g({},l),{},{pointerEvents:"none"}));var c={ref:function(e){return t.setItemsRef(e,i)},key:"itemKey"+i+(e?"clone":""),className:o.default.ITEM(!0,i===t.state.selectedItem,i===t.state.previousItem),onClick:t.handleClickItem.bind(t,i,n),style:l};return r.default.createElement("li",c,t.props.renderItem(n,{isSelected:i===t.state.selectedItem,isPrevious:i===t.state.previousItem}))})):[]}},{key:"renderControls",value:function(){var e=this,t=this.props,n=t.showIndicators,i=t.labels,o=t.renderIndicator,s=t.children;return n?r.default.createElement("ul",{className:"control-dots"},r.Children.map(s,(function(t,n){return o&&o(e.changeItem(n),n===e.state.selectedItem,n,i.item)}))):null}},{key:"renderStatus",value:function(){return this.props.showStatus?r.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,r.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return this.props.showThumbs&&this.props.children&&0!==r.Children.count(this.props.children)?r.default.createElement(s.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children)):null}},{key:"render",value:function(){var e=this;if(!this.props.children||0===r.Children.count(this.props.children))return null;var t=this.props.swipeable&&r.Children.count(this.props.children)>1,n="horizontal"===this.props.axis,s=this.props.showArrows&&r.Children.count(this.props.children)>1,a=s&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,l=s&&(this.state.selectedItem<r.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,c=this.renderItems(!0),u=c.shift(),d=c.pop(),h={className:o.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},f={};if(n){if(h.onSwipeLeft=this.onSwipeForward,h.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var m=this.getVariableItemHeight(this.state.selectedItem);f.height=m||"auto"}}else h.onSwipeUp="natural"===this.props.verticalSwipe?this.onSwipeBackwards:this.onSwipeForward,h.onSwipeDown="natural"===this.props.verticalSwipe?this.onSwipeForward:this.onSwipeBackwards,h.style=g(g({},h.style),{},{height:this.state.itemSize}),f.height=this.state.itemSize;return r.default.createElement("div",{"aria-label":this.props.ariaLabel,className:o.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},r.default.createElement("div",{className:o.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,a,this.props.labels.leftArrow),r.default.createElement("div",{className:o.default.WRAPPER(!0,this.props.axis),style:f},t?r.default.createElement(i.default,p({tagName:"ul",innerRef:this.setListRef},h,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&d,this.renderItems(),this.props.infiniteLoop&&u):r.default.createElement("ul",{className:o.default.SLIDER(!0,this.state.swiping),ref:function(t){return e.setListRef(t)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&d,this.renderItems(),this.props.infiniteLoop&&u)),this.props.renderArrowNext(this.onClickNext,l,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}])&&v(t.prototype,n),d&&v(t,d),f}(r.default.Component);t.default=C,_(C,"displayName","Carousel"),_(C,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:c.noop,onClickThumb:c.noop,onChange:c.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:o.default.ARROW_PREV(!t),onClick:e})},renderArrowNext:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:o.default.ARROW_NEXT(!t),onClick:e})},renderIndicator:function(e,t,n,i){return r.default.createElement("li",{className:o.default.DOT(t),onClick:e,onKeyDown:e,value:n,key:n,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(n+1)})},renderItem:function(e){return e},renderThumbs:function(e){var t=r.Children.map(e,(function(e){var t=e;if("img"!==e.type&&(t=r.Children.toArray(e.props.children).find((function(e){return"img"===e.type}))),t)return t}));return 0===t.filter((function(e){return e})).length?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):t},statusFormatter:c.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler})},3096:()=>{},564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPosition=t.getPosition=t.isKeyboardEvent=t.defaultStatusFormatter=t.noop=void 0;var r,i=n(5043),o=(r=n(178))&&r.__esModule?r:{default:r};t.noop=function(){};t.defaultStatusFormatter=function(e,t){return"".concat(e," of ").concat(t)};t.isKeyboardEvent=function(e){return!!e&&e.hasOwnProperty("key")};t.getPosition=function(e,t){if(t.infiniteLoop&&++e,0===e)return 0;var n=i.Children.count(t.children);if(t.centerMode&&"horizontal"===t.axis){var r=-e*t.centerSlidePercentage,o=n-1;return e&&(e!==o||t.infiniteLoop)?r+=(100-t.centerSlidePercentage)/2:e===o&&(r+=100-t.centerSlidePercentage),r}return 100*-e};t.setPosition=function(e,t){var n={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach((function(r){n[r]=(0,o.default)(e,"%",t)})),n}},4169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(5043)),i=c(n(8656)),o=n(1256),s=c(n(178)),a=c(n(7251)),l=c(n(7005));function c(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(d,e);var t,n,c,u=m(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),b(g(t=u.call(this,e)),"itemsWrapperRef",void 0),b(g(t),"itemsListRef",void 0),b(g(t),"thumbsRef",void 0),b(g(t),"setItemsWrapperRef",(function(e){t.itemsWrapperRef=e})),b(g(t),"setItemsListRef",(function(e){t.itemsListRef=e})),b(g(t),"setThumbsRef",(function(e,n){t.thumbsRef||(t.thumbsRef=[]),t.thumbsRef[n]=e})),b(g(t),"updateSizes",(function(){if(t.props.children&&t.itemsWrapperRef&&t.thumbsRef){var e=r.Children.count(t.props.children),n=t.itemsWrapperRef.clientWidth,i=t.props.thumbWidth?t.props.thumbWidth:(0,o.outerWidth)(t.thumbsRef[0]),s=Math.floor(n/i),a=s<e,l=a?e-s:0;t.setState((function(e,n){return{itemSize:i,visibleItems:s,firstItem:a?t.getFirstItem(n.selectedItem):0,lastPosition:l,showArrows:a}}))}})),b(g(t),"handleClickItem",(function(e,n,r){if(!function(e){return e.hasOwnProperty("key")}(r)||"Enter"===r.key){var i=t.props.onSelectItem;"function"===typeof i&&i(e,n)}})),b(g(t),"onSwipeStart",(function(){t.setState({swiping:!0})})),b(g(t),"onSwipeEnd",(function(){t.setState({swiping:!1})})),b(g(t),"onSwipeMove",(function(e){var n=e.x;if(!t.state.itemSize||!t.itemsWrapperRef||!t.state.visibleItems)return!1;var i=r.Children.count(t.props.children),o=-100*t.state.firstItem/t.state.visibleItems;0===o&&n>0&&(n=0),o===100*-Math.max(i-t.state.visibleItems,0)/t.state.visibleItems&&n<0&&(n=0);var a=o+100/(t.itemsWrapperRef.clientWidth/n);return t.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach((function(e){t.itemsListRef.style[e]=(0,s.default)(a,"%",t.props.axis)})),!0})),b(g(t),"slideRight",(function(e){t.moveTo(t.state.firstItem-("number"===typeof e?e:1))})),b(g(t),"slideLeft",(function(e){t.moveTo(t.state.firstItem+("number"===typeof e?e:1))})),b(g(t),"moveTo",(function(e){e=(e=e<0?0:e)>=t.state.lastPosition?t.state.lastPosition:e,t.setState({firstItem:e})})),t.state={selectedItem:e.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},t}return t=d,(n=[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(e){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==e.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(e){var t=e;return e>=this.state.lastPosition&&(t=this.state.lastPosition),e<this.state.firstItem+this.state.visibleItems&&(t=this.state.firstItem),e<this.state.firstItem&&(t=e),t}},{key:"renderItems",value:function(){var e=this;return this.props.children.map((function(t,n){var o=i.default.ITEM(!1,n===e.state.selectedItem),s={key:n,ref:function(t){return e.setThumbsRef(t,n)},className:o,onClick:e.handleClickItem.bind(e,n,e.props.children[n]),onKeyDown:e.handleClickItem.bind(e,n,e.props.children[n]),"aria-label":"".concat(e.props.labels.item," ").concat(n+1),style:{width:e.props.thumbWidth}};return r.default.createElement("li",h({},s,{role:"button",tabIndex:0}),t)}))}},{key:"render",value:function(){var e=this;if(!this.props.children)return null;var t,n=r.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,l=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,c=-this.state.firstItem*(this.state.itemSize||0),u=(0,s.default)(c,"px",this.props.axis),d=this.props.transitionTime+"ms";return t={WebkitTransform:u,MozTransform:u,MsTransform:u,OTransform:u,transform:u,msTransform:u,WebkitTransitionDuration:d,MozTransitionDuration:d,MsTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d},r.default.createElement("div",{className:i.default.CAROUSEL(!1)},r.default.createElement("div",{className:i.default.WRAPPER(!1),ref:this.setItemsWrapperRef},r.default.createElement("button",{type:"button",className:i.default.ARROW_PREV(!o),onClick:function(){return e.slideRight()},"aria-label":this.props.labels.leftArrow}),n?r.default.createElement(a.default,{tagName:"ul",className:i.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:t,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):r.default.createElement("ul",{className:i.default.SLIDER(!1,this.state.swiping),ref:function(t){return e.setItemsListRef(t)},style:t},this.renderItems()),r.default.createElement("button",{type:"button",className:i.default.ARROW_NEXT(!l),onClick:function(){return e.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}])&&f(t.prototype,n),c&&f(t,c),d}(r.Component);t.default=y,b(y,"displayName","Thumbs"),b(y,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350})},8656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(8139))&&r.__esModule?r:{default:r};var o={ROOT:function(e){return(0,i.default)(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,i.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,t){return(0,i.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":"horizontal"===t,"axis-vertical":"horizontal"!==t})},SLIDER:function(e,t){return(0,i.default)({thumbs:!e,slider:e,animated:!t})},ITEM:function(e,t,n){return(0,i.default)({thumb:!e,slide:e,selected:t,previous:n})},ARROW_PREV:function(e){return(0,i.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,i.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,i.default)({dot:!0,selected:e})}};t.default=o},1256:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outerWidth=void 0;t.outerWidth=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft)+parseInt(n.marginRight)}},1577:(e,t,n)=>{"use strict";Object.defineProperty(t,"FN",{enumerable:!0,get:function(){return r.default}});var r=s(n(3481)),i=n(3096),o=s(n(4169));function s(e){return e&&e.__esModule?e:{default:e}}},5559:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return document}},7005:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return window}},6214:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var i=a(n(5043)),o=a(n(8139)),s=n(1200);function a(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){var t=y();return function(){var n,i=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}t.PrevArrow=function(e){g(n,e);var t=b(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,o.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.default.cloneElement(this.props.prevArrow,u(u({},n),r)):i.default.createElement("button",l({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.default.PureComponent),t.NextArrow=function(e){g(n,e);var t=b(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,s.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,o.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.default.cloneElement(this.props.nextArrow,u(u({},n),r)):i.default.createElement("button",l({key:"1",type:"button"},n)," ","Next")}}]),n}(i.default.PureComponent)},5112:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(5043))&&r.__esModule?r:{default:r};var o={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=o},8496:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var i=a(n(5043)),o=a(n(8139)),s=n(1200);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function f(e){var t=p();return function(){var n,i=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}t.Dots=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(d,e);var t,n,r,a=f(d);function d(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),a.apply(this,arguments)}return t=d,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,a=t.onMouseLeave,u=t.infinite,d=t.slidesToScroll,h=t.slidesToShow,f=t.slideCount,p=t.currentSlide,m=(e={slideCount:f,slidesToScroll:d,slidesToShow:h,infinite:u}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,g={onMouseEnter:n,onMouseOver:r,onMouseLeave:a},v=[],b=0;b<m;b++){var y=(b+1)*d-1,w=u?y:(0,s.clamp)(y,0,f-1),x=w-(d-1),_=u?x:(0,s.clamp)(x,0,f-1),C=(0,o.default)({"slick-active":u?p>=_&&p<=w:p===_}),k={message:"dots",index:b,slidesToScroll:d,currentSlide:p},S=this.clickHandler.bind(this,k);v=v.concat(i.default.createElement("li",{key:b,className:C},i.default.cloneElement(this.props.customPaging(b),{onClick:S})))}return i.default.cloneElement(this.props.appendDots(v),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},g))}}],n&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(i.default.PureComponent)},2382:(e,t,n)=>{"use strict";t.A=void 0;var r,i=(r=n(433))&&r.__esModule?r:{default:r};t.A=i.default},4910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0}},7445:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=h(n(5043)),i=h(n(4910)),o=h(n(8065)),s=h(n(8139)),a=n(1200),l=n(737),c=n(8496),u=n(6214),d=h(n(5820));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function w(e){var t=_();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,n)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function k(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:String(t)}t.InnerSlider=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(_,e);var t,n,h,g=w(_);function _(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),k(x(t=g.call(this,e)),"listRefHandler",(function(e){return t.list=e})),k(x(t),"trackRefHandler",(function(e){return t.track=e})),k(x(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,a.getHeight)(e)+"px"}})),k(x(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,a.getOnDemandLazySlides)(v(v({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=v({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new d.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),k(x(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),k(x(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,a.getOnDemandLazySlides)(v(v({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var i=v(v({listRef:t.list,trackRef:t.track},t.props),t.state),o=t.didPropsChange(e);o&&t.updateState(i,o,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),k(x(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,o.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),k(x(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=v(v({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),k(x(t),"updateState",(function(e,n,i){var o=(0,a.initializedState)(e);e=v(v(v({},e),o),{},{slideIndex:o.currentSlide});var s=(0,a.getTrackLeft)(e);e=v(v({},e),{},{left:s});var l=(0,a.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(o.trackStyle=l),t.setState(o,i)})),k(x(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,i=[],o=(0,a.getPreClones)(v(v(v({},t.props),t.state),{},{slideCount:t.props.children.length})),s=(0,a.getPostClones)(v(v(v({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){i.push(t.props.style.width),e+=t.props.style.width}));for(var l=0;l<o;l++)n+=i[i.length-1-l],e+=i[i.length-1-l];for(var c=0;c<s;c++)e+=i[c];for(var u=0;u<t.state.currentSlide;u++)n+=i[u];var d={width:e+"px",left:-n+"px"};if(t.props.centerMode){var h="".concat(i[t.state.currentSlide],"px");d.left="calc(".concat(d.left," + (100% - ").concat(h,") / 2 ) ")}return{trackStyle:d}}var f=r.default.Children.count(t.props.children),p=v(v(v({},t.props),t.state),{},{slideCount:f}),m=(0,a.getPreClones)(p)+(0,a.getPostClones)(p)+f,g=100/t.props.slidesToShow*m,b=100/m,y=-b*((0,a.getPreClones)(p)+t.state.currentSlide)*g/100;return t.props.centerMode&&(y+=(100-b*g/100)/2),{slideWidth:b+"%",trackStyle:{width:g+"%",left:y+"%"}}})),k(x(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var o=e.onclick;e.onclick=function(t){o(t),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),k(x(t),"progressiveLazyLoad",(function(){for(var e=[],n=v(v({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,a.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,a.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),k(x(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,o=r.beforeChange,s=r.onLazyLoad,l=r.speed,c=r.afterChange,u=t.state.currentSlide,d=(0,a.slideHandler)(v(v(v({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),h=d.state,f=d.nextState;if(h){o&&o(u,h.currentSlide);var p=h.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));s&&p.length>0&&s(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),c&&c(u),delete t.animationEndCallback),t.setState(h,(function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),f&&(t.animationEndCallback=setTimeout((function(){var e=f.animating,n=m(f,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),c&&c(h.currentSlide),delete t.animationEndCallback}))}),l))}))}})),k(x(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=v(v({},t.props),t.state),i=(0,a.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var o=t.list.querySelectorAll(".slick-current");o[0]&&o[0].focus()}})),k(x(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),k(x(t),"keyHandler",(function(e){var n=(0,a.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),k(x(t),"selectHandler",(function(e){t.changeSlide(e)})),k(x(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),k(x(t),"enableBodyScroll",(function(){window.ontouchmove=null})),k(x(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,a.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),k(x(t),"swipeMove",(function(e){var n=(0,a.swipeMove)(e,v(v(v({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),k(x(t),"swipeEnd",(function(e){var n=(0,a.swipeEnd)(e,v(v(v({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),k(x(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),k(x(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),k(x(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),k(x(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),k(x(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,a.canGoNext)(v(v({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),k(x(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),k(x(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),k(x(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),k(x(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),k(x(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),k(x(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),k(x(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),k(x(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),k(x(t),"render",(function(){var e,n,i,o=(0,s.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),d=v(v({},t.props),t.state),h=(0,a.extractObject)(d,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),f=t.props.pauseOnHover;if(h=v(v({},h),{},{onMouseEnter:f?t.onTrackOver:null,onMouseLeave:f?t.onTrackLeave:null,onMouseOver:f?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var m=(0,a.extractObject)(d,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),g=t.props.pauseOnDotsHover;m=v(v({},m),{},{clickHandler:t.changeSlide,onMouseEnter:g?t.onDotsLeave:null,onMouseOver:g?t.onDotsOver:null,onMouseLeave:g?t.onDotsLeave:null}),e=r.default.createElement(c.Dots,m)}var b=(0,a.extractObject)(d,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);b.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(u.PrevArrow,b),i=r.default.createElement(u.NextArrow,b));var y=null;t.props.vertical&&(y={height:t.state.listHeight});var w=null;!1===t.props.vertical?!0===t.props.centerMode&&(w={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(w={padding:t.props.centerPadding+" 0px"});var x=v(v({},y),w),_=t.props.touchMove,C={className:"slick-list",style:x,onClick:t.clickHandler,onMouseDown:_?t.swipeStart:null,onMouseMove:t.state.dragging&&_?t.swipeMove:null,onMouseUp:_?t.swipeEnd:null,onMouseLeave:t.state.dragging&&_?t.swipeEnd:null,onTouchStart:_?t.swipeStart:null,onTouchMove:t.state.dragging&&_?t.swipeMove:null,onTouchEnd:_?t.touchEnd:null,onTouchCancel:t.state.dragging&&_?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},k={className:o,dir:"ltr",style:t.props.style};return t.props.unslick&&(C={className:"slick-list"},k={className:o}),r.default.createElement("div",k,t.props.unslick?"":n,r.default.createElement("div",p({ref:t.listRefHandler},C),r.default.createElement(l.Track,p({ref:t.trackRefHandler},h),t.props.children)),t.props.unslick?"":i,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=v(v({},i.default),{},{currentSlide:t.props.initialSlide,targetSlide:t.props.initialSlide?t.props.initialSlide:0,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=v(v({},t.state),n),t}return t=_,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var o=i[n];if(!e.hasOwnProperty(o)){t=!0;break}if("object"!==f(e[o])&&"function"!==typeof e[o]&&!isNaN(e[o])&&e[o]!==this.props[o]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&b(t.prototype,n),h&&b(t,h),Object.defineProperty(t,"prototype",{writable:!1}),_}(r.default.Component)},433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(5043)),i=n(7445),o=l(n(1270)),s=l(n(5112)),a=n(1200);function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=v();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function y(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:String(t)}var x=(0,a.canUseDOM)()&&n(535);t.default=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(d,e);var t,n,l,c=m(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),y(g(t=c.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),y(g(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),y(g(t),"slickNext",(function(){return t.innerSlider.slickNext()})),y(g(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),y(g(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),y(g(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=d,(n=[{key:"media",value:function(e,t){x.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,o.default)({minWidth:0,maxWidth:n}):(0,o.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,a.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,o.default)({minWidth:t.slice(-1)[0]});(0,a.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){x.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":h(h(h({},s.default),this.props),t[0].settings):h(h({},s.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var o=r.default.Children.toArray(this.props.children);o=o.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var l=[],c=null,d=0;d<o.length;d+=e.rows*e.slidesPerRow){for(var f=[],p=d;p<d+e.rows*e.slidesPerRow;p+=e.slidesPerRow){for(var m=[],g=p;g<p+e.slidesPerRow&&(e.variableWidth&&o[g].props.style&&(c=o[g].props.style.width),!(g>=o.length));g+=1)m.push(r.default.cloneElement(o[g],{key:100*d+10*p+g,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));f.push(r.default.createElement("div",{key:10*d+p},m))}e.variableWidth?l.push(r.default.createElement("div",{key:d,style:{width:c}},f)):l.push(r.default.createElement("div",{key:d},f))}if("unslick"===e){var v="regular slider "+(this.props.className||"");return r.default.createElement("div",{className:v},o)}return l.length<=e.slidesToShow&&!e.infinite&&(e.unslick=!0),r.default.createElement(i.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},(0,a.filterSettings)(e)),l)}}])&&f(t.prototype,n),l&&f(t,l),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.default.Component)},737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var r=s(n(5043)),i=s(n(8139)),o=n(1200);function s(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){var t=f();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:String(t)}var y=function(e){var t,n,r,i,o;return r=(o=e.rtl?e.slideCount-1-e.index:e.index)<0||o>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-i-1&&o<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":o===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},w=function(e,t){return e.key||t},x=function(e){var t,n=[],s=[],a=[],l=r.default.Children.count(e.children),c=(0,o.lazyStartIndex)(e),u=(0,o.lazyEndIndex)(e);return r.default.Children.forEach(e.children,(function(d,h){var f,p={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};f=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?d:r.default.createElement("div",null);var m=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,t.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(g(g({},e),{},{index:h})),v=f.props.className||"",b=y(g(g({},e),{},{index:h}));if(n.push(r.default.cloneElement(f,{key:"original"+w(f,h),"data-index":h,className:(0,i.default)(b,v),tabIndex:"-1","aria-hidden":!b["slick-active"],style:g(g({outline:"none"},f.props.style||{}),m),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var x=l-h;x<=(0,o.getPreClones)(e)&&((t=-x)>=c&&(f=d),b=y(g(g({},e),{},{index:t})),s.push(r.default.cloneElement(f,{key:"precloned"+w(f,t),"data-index":t,tabIndex:"-1",className:(0,i.default)(b,v),"aria-hidden":!b["slick-active"],style:g(g({},f.props.style||{}),m),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),(t=l+h)<u&&(f=d),b=y(g(g({},e),{},{index:t})),a.push(r.default.cloneElement(f,{key:"postcloned"+w(f,t),"data-index":t,tabIndex:"-1",className:(0,i.default)(b,v),"aria-hidden":!b["slick-active"],style:g(g({},f.props.style||{}),m),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))}})),e.rtl?s.concat(n,a).reverse():s.concat(n,a)};t.Track=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(s,e);var t,n,i,o=d(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(h(e=o.call.apply(o,[this].concat(n))),"node",null),v(h(e),"handleRef",(function(t){e.node=t})),e}return t=s,(n=[{key:"render",value:function(){var e=x(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return r.default.createElement("div",l({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.default.PureComponent)},1200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=u,t.extractObject=void 0,t.filterSettings=function(e){return O.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})},t.validSettings=t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=void 0;var r=o(n(5043)),i=o(n(5112));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return Math.max(t,Math.min(e,n))}var d=t.safePreventDefault=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()},h=t.getOnDemandLazySlides=function(e){for(var t=[],n=f(e),r=p(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t},f=(t.getRequiredLazySlides=function(e){for(var t=[],n=f(e),r=p(e),i=n;i<r;i++)t.push(i);return t},t.lazyStartIndex=function(e){return e.currentSlide-m(e)}),p=t.lazyEndIndex=function(e){return e.currentSlide+g(e)},m=t.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},g=t.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},v=t.getWidth=function(e){return e&&e.offsetWidth||0},b=t.getHeight=function(e){return e&&e.offsetHeight||0},y=t.getSwipeDirection=function(e){var t,n,r,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===o?i>=35&&i<=135?"up":"down":"vertical"},w=t.canGoNext=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t},x=(t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n},t.initializedState=function(e){var t,n=r.default.Children.count(e.children),i=e.listRef,o=Math.ceil(v(i)),s=e.trackRef&&e.trackRef.node,a=Math.ceil(v(s));if(e.vertical)t=o;else{var c=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(c*=o/100),t=Math.ceil((o-c)/e.slidesToShow)}var u=i&&b(i.querySelector('[data-index="0"]')),d=u*e.slidesToShow,f=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(f=n-1-e.initialSlide);var p=e.lazyLoadedList||[],m=h(l(l({},e),{},{currentSlide:f,lazyLoadedList:p})),g={slideCount:n,slideWidth:t,listWidth:o,trackWidth:a,currentSlide:f,slideHeight:u,listHeight:d,lazyLoadedList:p=p.concat(m)};return null===e.autoplaying&&e.autoplay&&(g.autoplaying="playing"),g},t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,o=e.index,s=e.slideCount,a=e.lazyLoad,c=e.currentSlide,d=e.centerMode,f=e.slidesToScroll,p=e.slidesToShow,m=e.useCSS,g=e.lazyLoadedList;if(t&&n)return{};var v,b,y,x=o,_={},C={},k=i?o:u(o,0,s-1);if(r){if(!i&&(o<0||o>=s))return{};o<0?x=o+s:o>=s&&(x=o-s),a&&g.indexOf(x)<0&&(g=g.concat(x)),_={animating:!0,currentSlide:x,lazyLoadedList:g,targetSlide:x},C={animating:!1,targetSlide:x}}else v=x,x<0?(v=x+s,i?s%f!==0&&(v=s-s%f):v=0):!w(e)&&x>c?x=v=c:d&&x>=s?(x=i?s:s-1,v=i?0:s-1):x>=s&&(v=x-s,i?s%f!==0&&(v=0):v=s-p),!i&&x+p>=s&&(v=s-p),b=T(l(l({},e),{},{slideIndex:x})),y=T(l(l({},e),{},{slideIndex:v})),i||(b===y&&(x=v),b=y),a&&(g=g.concat(h(l(l({},e),{},{currentSlide:x})))),m?(_={animating:!0,currentSlide:v,trackStyle:A(l(l({},e),{},{left:b})),lazyLoadedList:g,targetSlide:k},C={animating:!1,currentSlide:v,trackStyle:S(l(l({},e),{},{left:y})),swipeLeft:null,targetSlide:k}):_={currentSlide:v,trackStyle:S(l(l({},e),{},{left:y})),lazyLoadedList:g,targetSlide:k};return{state:_,nextState:C}},t.changeSlide=function(e,t){var n,r,i,o,s=e.slidesToScroll,a=e.slidesToShow,c=e.slideCount,u=e.currentSlide,d=e.targetSlide,h=e.lazyLoad,f=e.infinite;if(n=c%s!==0?0:(c-u)%s,"previous"===t.message)o=u-(i=0===n?s:a-n),h&&!f&&(o=-1===(r=u-i)?c-1:r),f||(o=d-s);else if("next"===t.message)o=u+(i=0===n?s:n),h&&!f&&(o=(u+s)%c+n),f||(o=d+s);else if("dots"===t.message)o=t.index*t.slidesToScroll;else if("children"===t.message){if(o=t.index,f){var p=P(l(l({},e),{},{targetSlide:o}));o>t.currentSlide&&"left"===p?o-=c:o<t.currentSlide&&"right"===p&&(o+=c)}}else"index"===t.message&&(o=Number(t.index));return o},t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""},t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&d(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}},t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,o=t.swipeToSlide,s=t.verticalSwiping,a=t.rtl,c=t.currentSlide,u=t.edgeFriction,h=t.edgeDragged,f=t.onEdge,p=t.swiped,m=t.swiping,g=t.slideCount,v=t.slidesToScroll,b=t.infinite,x=t.touchObject,_=t.swipeEvent,C=t.listHeight,k=t.listWidth;if(!n){if(r)return d(e);i&&o&&s&&d(e);var A,I={},M=T(t);x.curX=e.touches?e.touches[0].pageX:e.clientX,x.curY=e.touches?e.touches[0].pageY:e.clientY,x.swipeLength=Math.round(Math.sqrt(Math.pow(x.curX-x.startX,2)));var E=Math.round(Math.sqrt(Math.pow(x.curY-x.startY,2)));if(!s&&!m&&E>10)return{scrolling:!0};s&&(x.swipeLength=E);var P=(a?-1:1)*(x.curX>x.startX?1:-1);s&&(P=x.curY>x.startY?1:-1);var D=Math.ceil(g/v),j=y(t.touchObject,s),O=x.swipeLength;return b||(0===c&&("right"===j||"down"===j)||c+1>=D&&("left"===j||"up"===j)||!w(t)&&("left"===j||"up"===j))&&(O=x.swipeLength*u,!1===h&&f&&(f(j),I.edgeDragged=!0)),!p&&_&&(_(j),I.swiped=!0),A=i?M+O*(C/k)*P:a?M-O*P:M+O*P,s&&(A=M+O*P),I=l(l({},I),{},{touchObject:x,swipeLeft:A,trackStyle:S(l(l({},t),{},{left:A}))}),Math.abs(x.curX-x.startX)<.8*Math.abs(x.curY-x.startY)?I:(x.swipeLength>10&&(I.swiping=!0,d(e)),I)}},t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,o=t.listWidth,s=t.touchThreshold,a=t.verticalSwiping,c=t.listHeight,u=t.swipeToSlide,h=t.scrolling,f=t.onSwipe,p=t.targetSlide,m=t.currentSlide,g=t.infinite;if(!n)return r&&d(e),{};var v=a?c/s:o/s,b=y(i,a),w={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return w;if(!i.swipeLength)return w;if(i.swipeLength>v){var x,k;d(e),f&&f(b);var S=g?m:p;switch(b){case"left":case"up":k=S+C(t),x=u?_(t,k):k,w.currentDirection=0;break;case"right":case"down":k=S-C(t),x=u?_(t,k):k,w.currentDirection=1;break;default:x=S}w.triggerSlideHandler=x}else{var I=T(t);w.trackStyle=A(l(l({},t),{},{left:I}))}return w},t.getNavigableIndexes=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i}),_=t.checkNavigable=function(e,t){var n=x(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t},C=t.getSlideCount=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+b(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+v(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var o=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-o)||1}return e.slidesToScroll},k=t.checkSpecKeys=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)},S=t.getTrackCSS=function(e){var t,n;k(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=E(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=l(l({},i),{},{WebkitTransform:o,transform:s,msTransform:a})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i},A=t.getTrackAnimateCSS=function(e){k(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=S(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},T=t.getTrackLeft=function(e){if(e.unslick)return 0;k(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,o=e.infinite,s=e.centerMode,a=e.slideCount,l=e.slidesToShow,c=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,h=e.variableWidth,f=e.slideHeight,p=e.fade,m=e.vertical;if(p||1===e.slideCount)return 0;var g=0;if(o?(g=-I(e),a%c!==0&&r+c>a&&(g=-(r>a?l-(r-a):a%c)),s&&(g+=parseInt(l/2))):(a%c!==0&&r+c>a&&(g=l-a%c),s&&(g=parseInt(l/2))),t=m?r*f*-1+g*f:r*u*-1+g*u,!0===h){var v,b=i&&i.node;if(v=r+I(e),t=(n=b&&b.childNodes[v])?-1*n.offsetLeft:0,!0===s){v=o?r+I(e):r,n=b&&b.children[v],t=0;for(var y=0;y<v;y++)t-=b&&b.children[y]&&b.children[y].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(d-n.offsetWidth)/2}}return t},I=t.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},M=t.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},E=t.getTotalSlides=function(e){return 1===e.slideCount?1:I(e)+e.slideCount+M(e)},P=t.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+D(e)?"left":"right":e.targetSlide<e.currentSlide-j(e)?"right":"left"},D=t.slidesOnRight=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var o=(t-1)/2+1;return parseInt(i)>0&&(o+=1),r&&t%2===0&&(o+=1),o}return r?0:t-1},j=t.slidesOnLeft=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var o=(t-1)/2+1;return parseInt(i)>0&&(o+=1),r||t%2!==0||(o+=1),o}return r?t-1:0},O=(t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)},t.validSettings=Object.keys(i.default))},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var w=y.prototype=new b;w.constructor=y,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,C={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:C.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+I(l,0):o,x(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),M(s,t,i,"",(function(e){return e}))):null!=s&&(A(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+I(a=e[c],c);l+=M(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=M(a=a.value,t,i,u=o+I(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function E(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},j={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:j,ReactCurrentOwner:C};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:E,forEach:function(e,t,n){E(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return E(e,(function(){t++})),t},toArray:function(e){return E(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=y,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},6766:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(4004))&&r.__esModule?r:{default:r}},4004:(e,t)=>{"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(i){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},8901:(e,t,n)=>{"use strict";var r;t.A=void 0;var i=(0,((r=n(6766))&&r.__esModule?r:{default:r}).default)("local");t.A=i},5820:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,o="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),s="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&l()}function a(){s(o)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},h=b(0,0,0,0);function f(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=d(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=f(o)}return t}(r),o=i.left+i.right,s=i.top+i.bottom,a=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==t&&(a-=p(r,"left","right")+o),Math.round(l+s)!==n&&(l-=p(r,"top","bottom")+s)),!function(e){return e===d(e).document.documentElement}(e)){var c=Math.round(a+o)-t,u=Math.round(l+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return b(i.left,i.top,a,l)}var g="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox};function v(e){return i?g(e)?function(e){var t=e.getBBox();return b(0,0,t.width,t.height)}(e):m(e):h}function b(e,t,n,r){return{x:e,y:t,width:n,height:r}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return u(s,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),s}(t);u(this,{target:e,contentRect:n})},x=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new w(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!==typeof WeakMap?new WeakMap:new r,C=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new x(t,n,this);_.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){C.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}}));const k="undefined"!==typeof o.ResizeObserver?o.ResizeObserver:C},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,j(_);else{var t=r(u);null!==t&&O(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,b(A),A=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!M());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(x,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,k=!1,S=null,A=-1,T=5,I=-1;function M(){return!(t.unstable_now()-I<T)}function E(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?C():(k=!1,S=null)}}else k=!1}if("function"===typeof y)C=function(){y(E)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=E,C=function(){D.postMessage(null)}}else C=function(){v(E,0)};function j(e){S=e,k||(k=!0,C())}function O(e,n){A=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,j(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(b(A),A=-1):g=!0,O(x,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,j(_))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},7475:e=>{e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},3597:e=>{var t;window,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist",n(n.s=33)}([function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,s=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i])s.call(n,r)&&(e[r]=n[r]);return e}},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Array}},function(e,t,n){"use strict";var r=n(1),i=n(6),o=n(7);e.exports=function(e,t,n){r(e)?i(e,t,n):o(e,t,n)}},function(e,t,n){"use strict";e.exports=function(e){return void 0===e}},function(e,t,n){"use strict";var r=n(22),i=n(2),o=n(6),s=n(7),a=n(37),l=0,c={getLength:function(e){var t=0;return s(e,(function(){t+=1})),t},map:function(e,t,n){var r=[];return i(e,(function(){r.push(t.apply(n||null,arguments))})),r},filter:function(e,t,n){var r=[];return o(e,(function(e){t.apply(n||null,arguments)&&r.push(e)})),r},generateId:function(){return l+=1},isOldBrowser:r.msie&&r.version<9,sendHostName:function(){a("color-picker","UA-129987462-1")}};e.exports=c},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t,n){var i,o;if(n=n||0,!r(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(o=t.length,i=n;n>=0&&i<o;i+=1)if(t[i]===e)return i;return-1}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=0,i=e.length;for(n=n||null;r<i&&!1!==t.call(n,e[r],r,e);r+=1);}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}},function(e,t,n){"use strict";var r=n(39),i=n(13),o=n(41),s=n(3),a=n(9),l=n(19),c=n(4);function u(e,t){var n=c.generateId();e=e||{},s(t)&&(t=a.appendHTMLElement("div")),r(t,"tui-view-"+n),this.id=n,this.container=t,this.childs=new l((function(e){return e.id})),this.parent=null}u.prototype.addChild=function(e,t){t&&t.call(e,this),e.parent=this,this.childs.add(e)},u.prototype.removeChild=function(e,t){var n=o(e)?this.childs.items[e]:e;t&&t.call(n,this),this.childs.remove(n.id)},u.prototype.render=function(){this.childs.each((function(e){e.render()}))},u.prototype.recursive=function(e,t){i(e)&&(t||e(this),this.childs.each((function(t){t.recursive(e)})))},u.prototype.resize=function(){for(var e=Array.prototype.slice.call(arguments),t=this.parent;t;)i(t._onResize)&&t._onResize.apply(t,e),t=t.parent},u.prototype._beforeDestroy=function(){},u.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},u.prototype.destroy=function(e){this.childs&&(this.childs.each((function(e){e.destroy(!0),e._destroy()})),this.childs.clear()),e||this._destroy()},u.prototype.getViewBound=function(){var e=this.container.getBoundingClientRect();return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}},e.exports=u},function(e,t,n){"use strict";var r={appendHTMLElement:function(e,t,n){var r=document.createElement(e);return r.className=n||"",t?t.appendChild(r):document.body.appendChild(r),r}};e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(20),o=n(11),s=n(21),a=n(1),l=n(13),c=n(2),u=/\s+/g;function d(){this.events=null,this.contexts=null}d.mixin=function(e){r(e.prototype,d.prototype)},d.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},d.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(t=[],n[e]=t),n=t),n},d.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},d.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},d.prototype._memorizeContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},d.prototype._forgetContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},d.prototype._bindEvent=function(e,t,n){var r=this._safeEvent(e);this._memorizeContext(n),r.push(this._getHandlerItem(t,n))},d.prototype.on=function(e,t,n){var r=this;o(e)?(e=e.split(u),c(e,(function(e){r._bindEvent(e,t,n)}))):s(e)&&(n=t,c(e,(function(e,t){r.on(t,e,n)})))},d.prototype.once=function(e,t,n){var r=this;if(s(e))return n=t,void c(e,(function(e,t){r.once(t,e,n)}));this.on(e,(function i(){t.apply(n,arguments),r.off(e,i,n)}),n)},d.prototype._spliceMatches=function(e,t){var n,r=0;if(a(e))for(n=e.length;r<n;r+=1)!0===t(e[r])&&(e.splice(r,1),n-=1,r-=1)},d.prototype._matchHandler=function(e){var t=this;return function(n){var r=e===n.handler;return r&&t._forgetContext(n.context),r}},d.prototype._matchContext=function(e){var t=this;return function(n){var r=e===n.context;return r&&t._forgetContext(n.context),r}},d.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(r){var i=e===r.handler,o=t===r.context,s=i&&o;return s&&n._forgetContext(r.context),s}},d.prototype._offByEventName=function(e,t){var n=this,r=l(t),i=n._matchHandler(t);e=e.split(u),c(e,(function(e){var t=n._safeEvent(e);r?n._spliceMatches(t,i):(c(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},d.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);c(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},d.prototype._offByObject=function(e,t){var n,r=this;this._indexOfContext(e)<0?c(e,(function(e,t){r.off(t,e)})):o(t)?(n=this._matchContext(e),r._spliceMatches(this._safeEvent(t),n)):l(t)?(n=this._matchHandlerAndContext(t,e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)}))):(n=this._matchContext(e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)})))},d.prototype.off=function(e,t){o(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):s(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},d.prototype.fire=function(e){this.invoke.apply(this,arguments)},d.prototype.invoke=function(e){var t,n,r,i;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),r=0;t[r];){if(!1===(i=t[r]).handler.apply(i.context,n))return!1;r+=1}return!0},d.prototype.hasListener=function(e){return this.getListenerLength(e)>0},d.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=d},function(e,t,n){"use strict";e.exports=function(e){return"string"===typeof e||e instanceof String}},function(e,t,n){"use strict";var r=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,i={leadingZero:function(e,t){var n="",r=0;if((e+"").length>t)return e+"";for(;r<t-1;r+=1)n+="0";return(n+e).slice(-1*t)},isValidRGB:function(e){return r.test(e)},hexToRGB:function(e){return!!i.isValidRGB(e)&&(e=e.substring(1),[parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16)])},rgbToHEX:function(e,t,n){var r="#"+i.leadingZero(e.toString(16),2)+i.leadingZero(t.toString(16),2)+i.leadingZero(n.toString(16),2);return!!i.isValidRGB(r)&&r},rgbToHSV:function(e,t,n){var r,i,o,s,a,l;if(e/=255,t/=255,n/=255,a=r=Math.max(e,t,n),l=r-(i=Math.min(e,t,n)),s=0===r?0:l/r,r===i)o=0;else{switch(r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}return[Math.round(360*o),Math.round(100*s),Math.round(100*a)]},hsvToRGB:function(e,t,n){var r,i,o,s,a,l,c,u;if(e=Math.max(0,Math.min(360,e)),t=Math.max(0,Math.min(100,t)),n=Math.max(0,Math.min(100,n)),n/=100,0===(t/=100))return r=i=o=n,[Math.round(255*r),Math.round(255*i),Math.round(255*o)];switch(l=n*(1-t),c=n*(1-t*(a=(e/=60)-(s=Math.floor(e)))),u=n*(1-t*(1-a)),s){case 0:r=n,i=u,o=l;break;case 1:r=c,i=n,o=l;break;case 2:r=l,i=n,o=u;break;case 3:r=l,i=c,o=n;break;case 4:r=u,i=l,o=n;break;default:r=n,i=l,o=c}return[Math.round(255*r),Math.round(255*i),Math.round(255*o)]}};e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Function}},function(e,t,n){"use strict";var r=n(11),i=n(2),o=n(26);function s(e,t,n,r){function s(t){n.call(r||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,s):"attachEvent"in e&&e.attachEvent("on"+t,s),function(e,t,n,r){var s=o(e,t),a=!1;i(s,(function(e){return e.handler!==n||(a=!0,!1)})),a||s.push({handler:n,wrappedHandler:r})}(e,t,n,s)}e.exports=function(e,t,n,o){r(t)?i(t.split(/\s+/g),(function(t){s(e,t,n,o)})):i(t,(function(t,r){s(e,r,t,n)}))}},function(e,t,n){"use strict";e.exports=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},function(e,t,n){"use strict";e.exports=function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}},function(e,t,n){"use strict";var r=n(11),i=n(2),o=n(26);function s(e,t,n){var r,s=o(e,t);n?(i(s,(function(i,o){return n!==i.handler||(a(e,t,i.wrappedHandler),r=o,!1)})),s.splice(r,1)):(i(s,(function(n){a(e,t,n.wrappedHandler)})),s.splice(0,s.length))}function a(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}e.exports=function(e,t,n){r(t)?i(t.split(/\s+/g),(function(t){s(e,t,n)})):i(t,(function(t,n){s(e,n,t)}))}},function(e,t,n){"use strict";var r=n(50);e.exports=function(e,t){var n=r(t.prototype);n.constructor=e,e.prototype=n}},function(e,t,n){"use strict";var r=n(6),i=n(7),o=n(0),s=n(1),a=n(20),l=n(13),c=n(21),u=n(4),d=Array.prototype.slice;function h(e){this.items={},this.length=0,l(e)&&(this.getItemID=e)}h.and=function(e){var t;return e=d.call(arguments),t=e.length,function(n){for(var r=0;r<t;r+=1)if(!e[r].call(null,n))return!1;return!0}},h.or=function(e){var t;return e=d.call(arguments),t=e.length,function(n){for(var r=1,i=e[0].call(null,n);r<t;r+=1)i=i||e[r].call(null,n);return i}},h.merge=function(e){var t={},n=new h(e.getItemID);return r(arguments,(function(e){o(t,e.items)})),n.items=t,n.length=u.getLength(n.items),n},h.prototype.getItemID=function(e){return e._id+""},h.prototype.add=function(e){var t,n;arguments.length>1?r(d.call(arguments),(function(e){this.add(e)}),this):(t=this.getItemID(e),(n=this.items)[t]||(this.length+=1),n[t]=e)},h.prototype.remove=function(e){var t,n,r=[];return this.length?arguments.length>1?(r=u.map(d.call(arguments),(function(e){return this.remove(e)}),this),r):(t=this.items,c(e)&&(e=this.getItemID(e)),t[e]?(this.length-=1,n=t[e],delete t[e],n):r):r},h.prototype.clear=function(){this.items={},this.length=0},h.prototype.has=function(e){var t,n;return!!this.length&&(t=l(e),n=!1,t?this.each((function(t){return!0!==e(t)||(n=!0,!1)})):(e=c(e)?this.getItemID(e):e,n=a(this.items[e])),n)},h.prototype.doWhenHas=function(e,t,n){var r=this.items[e];a(r)&&t.call(n||this,r)},h.prototype.find=function(e){var t=new h;return this.hasOwnProperty("getItemID")&&(t.getItemID=this.getItemID),this.each((function(n){!0===e(n)&&t.add(n)})),t},h.prototype.groupBy=function(e,t){var n,i,o={},a=l(e),c=this.getItemID;if(s(e)){if(r(e,(function(e){o[e+""]=new h(c)})),!t)return o;e=t,a=!0}return this.each((function(t){a?i=e(t):(i=t[e],l(i)&&(i=i.apply(t))),(n=o[i])||(n=o[i]=new h(c)),n.add(t)})),o},h.prototype.single=function(){var e;return this.each((function(t){return e=t,!1}),this),e},h.prototype.sort=function(e){var t=[];return this.each((function(e){t.push(e)})),l(e)&&(t=t.sort(e)),t},h.prototype.each=function(e,t){i(this.items,e,t||this)},h.prototype.toArray=function(){return this.length?u.map(this.items,(function(e){return e})):[]},e.exports=h},function(e,t,n){"use strict";var r=n(3),i=n(36);e.exports=function(e){return!r(e)&&!i(e)}},function(e,t,n){"use strict";e.exports=function(e){return e===Object(e)}},function(e,t,n){"use strict";var r={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};"undefined"!==typeof window&&window.navigator&&function(){var e,t,n=window.navigator,i=n.appName.replace(/\s/g,"_"),o=n.userAgent,s=/MSIE\s([0-9]+[.0-9]*)/,a=/Trident.*rv:11\./,l=/Edge\/(\d+)\./,c={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},u={Microsoft_Internet_Explorer:function(){var e=o.match(s);e?(r.msie=!0,r.version=parseFloat(e[1])):r.others=!0},Netscape:function(){var n=!1;if(a.exec(o))r.msie=!0,r.version=11,n=!0;else if(l.exec(o))r.edge=!0,r.version=o.match(l)[1],n=!0;else for(e in c)if(c.hasOwnProperty(e)&&(t=o.match(c[e]))&&t.length>1){r[e]=n=!0,r.version=parseFloat(t[1]||0);break}n||(r.others=!0)}};u[i]&&u[i]()}(),e.exports=r},function(e,t,n){"use strict";var r=n(3);e.exports=function(e){return e&&e.className?r(e.className.baseVal)?e.className:e.className.baseVal:""}},function(e,t,n){"use strict";(function(t){var r=n(10),i=n(42),o=n(44),s=n(47),a=n(28),l=n(17),c=n(14),u=n(15),d=n(0);function h(e,t){c(t,"mousedown",this._onMouseDown,this),this.options=d({distance:10},e),this.container=t,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}h.prototype.destroy=function(){l(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},h.prototype._toggleDragEvent=function(e){var n=this.container;e?(i(n),c(window,"dragstart",u),c(t.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(o(n),l(window,"dragstart",u),l(t.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},h.prototype._getEventData=function(e){return{target:a(e),originEvent:e}},h.prototype._onMouseDown=function(e){0===s(e)&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(e),this._toggleDragEvent(!0))},h.prototype._onMouseMove=function(e){var t=this.options.distance;u(e),this._isMoved=!0,this._distance<t?this._distance+=1:this._dragStartFired||(this._dragStartFired=!0,this.invoke("dragStart",this._dragStartEventData))?this.fire("drag",this._getEventData(e)):this._toggleDragEvent(!1)},h.prototype._onMouseUp=function(e){if(this._toggleDragEvent(!1),this._isMoved)return this._isMoved=!1,void this.fire("dragEnd",this._getEventData(e));this.fire("click",this._getEventData(e))},r.mixin(h),e.exports=h}).call(this,n(25))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r="_feEventKey";e.exports=function(e,t){var n,i=e[r];return i||(i=e[r]={}),(n=i[t])||(n=i[t]=[]),n}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r=document.documentElement.style;for(t=0,n=e.length;t<n;t+=1)if(e[t]in r)return e[t];return!1}},function(e,t,n){"use strict";e.exports=function(e){return e.target||e.srcElement}},function(e,t,n){"use strict";var r=n(10),i=n(28),o=n(17),s=n(14),a=n(30),l=n(0),c=n(18),u=n(9),d=n(12),h=n(8),f=n(51);function p(e,t){this.options=l({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},e),t=u.appendHTMLElement("div",t,this.options.cssPrefix+"palette-container"),h.call(this,e,t)}c(p,h),p.prototype._onClick=function(e){var t=this.options,n=i(e),r={};if(a(n,t.cssPrefix+"palette-button"))return r.color=n.value,void this.fire("_selectColor",r);a(n,t.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},p.prototype._onChange=function(e){var t=this.options,n=i(e),r={};a(n,t.cssPrefix+"palette-hex")&&(r.color=n.value,this.fire("_selectColor",r))},p.prototype._beforeDestroy=function(){this._toggleEvent(!1)},p.prototype._toggleEvent=function(e){var t,n=this.options,r=this.container,i=e?s:o;i(r,"click",this._onClick,this),(t=r.querySelector("."+n.cssPrefix+"palette-hex",r))&&i(t,"change",this._onChange,this)},p.prototype.render=function(e){var t,n=this.options;this._toggleEvent(!1),t=f({cssPrefix:n.cssPrefix,preset:n.preset,detailTxt:n.detailTxt,color:e,isValidRGB:d.isValidRGB,getItemClass:function(e){return e?"":" "+n.cssPrefix+"color-transparent"},isSelected:function(t){return t===e?" "+n.cssPrefix+"selected":""}}),this.container.innerHTML=t,this._toggleEvent(!0)},r.mixin(p),e.exports=p},function(e,t,n){"use strict";var r=n(5),i=n(23);e.exports=function(e,t){var n;return e.classList?e.classList.contains(t):(n=i(e).split(/\s+/),r(t,n)>-1)}},function(e,t,n){"use strict";var r=n(10),i=n(53),o=n(54),s=n(30),a=n(0),l=n(18),c=n(9),u=n(32),d=n(12),h=n(8),f=n(24),p=n(57),m=359.99;function g(e,t){(t=c.appendHTMLElement("div",t,e.cssPrefix+"slider-container")).style.display="none",h.call(this,e,t),this.options=a({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},e),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new f({distance:0},t),this.colorSliderPosLimitRange=[-7,112],this.huebarPosLimitRange=[-3,115],this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}l(g,h),g.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},g.prototype.toggle=function(e){this.container.style.display=e?"block":"none"},g.prototype.isVisible=function(){return"block"===this.container.style.display},g.prototype.render=function(e){var t,n,r=this.container,i=this.options,o=p.layout;d.isValidRGB(e)&&(o=(o=(o=(o=o.replace(/{{slider}}/,p.slider)).replace(/{{huebar}}/,p.huebar)).replace(/{{cssPrefix}}/g,i.cssPrefix)).replace(/{{id}}/g,i.id),this.container.innerHTML=o,this.sliderSvgElement=r.querySelector("."+i.cssPrefix+"svg-slider"),this.huebarSvgElement=r.querySelector("."+i.cssPrefix+"svg-huebar"),this.sliderHandleElement=r.querySelector("."+i.cssPrefix+"slider-handle"),this.huebarHandleElement=r.querySelector("."+i.cssPrefix+"huebar-handle"),this.baseColorElement=r.querySelector("."+i.cssPrefix+"slider-basecolor"),t=d.hexToRGB(e),n=d.rgbToHSV.apply(null,t),this.moveHue(n[0],!0),this.moveSaturationAndValue(n[1],n[2],!0))},g.prototype._setColorSliderPosMax=function(){var e=this.sliderSvgElement.getClientRects()[0];e&&(this.colorSliderPosLimitRange[1]=e.height-10)},g.prototype._moveColorSliderHandle=function(e,t,n){var r,i=this.sliderHandleElement;t=Math.max(this.colorSliderPosLimitRange[0],t),t=Math.min(this.colorSliderPosLimitRange[1],t),e=Math.max(this.colorSliderPosLimitRange[0],e),e=Math.min(this.colorSliderPosLimitRange[1],e),u.setTranslateXY(i,e,t),r=t>50?"white":"black",u.setStrokeColor(i,r),n||this.fire("_selectColor",{color:d.rgbToHEX.apply(null,this.getRGB())})},g.prototype.moveSaturationAndValue=function(e,t,n){var r,i,o,s;e=e||0,t=t||0,r=Math.abs(this.colorSliderPosLimitRange[0]),o=e*(i=this.colorSliderPosLimitRange[1])/100-r,s=i-t*i/100-r,this._moveColorSliderHandle(o,s,n)},g.prototype._moveColorSliderByPosition=function(e,t){var n=this.colorSliderPosLimitRange[0];this._moveColorSliderHandle(e+n,t+n)},g.prototype.getSaturationAndValue=function(){var e=Math.abs(this.colorSliderPosLimitRange[0]),t=e+this.colorSliderPosLimitRange[1],n=u.getTranslateXY(this.sliderHandleElement);return[(n[1]+e)/t*100,100-(n[0]+e)/t*100]},g.prototype._setHueBarPosMax=function(){var e=this.huebarSvgElement.getClientRects()[0];e&&(this.huebarPosLimitRange[1]=e.height-7)},g.prototype._moveHueHandle=function(e,t){var n,r,i=this.huebarHandleElement,o=this.baseColorElement;e=Math.max(this.huebarPosLimitRange[0],e),e=Math.min(this.huebarPosLimitRange[1],e),u.setTranslateY(i,e),n=d.hsvToRGB(this.getHue(),100,100),r=d.rgbToHEX.apply(null,n),u.setGradientColorStop(o,r),t||this.fire("_selectColor",{color:d.rgbToHEX.apply(null,this.getRGB())})},g.prototype.moveHue=function(e,t){var n,r;n=((r=Math.abs(this.huebarPosLimitRange[0]))+this.huebarPosLimitRange[1])*(e=e||0)/m-r,this._moveHueHandle(n,t)},g.prototype._moveHueByPosition=function(e){var t=this.huebarPosLimitRange[0];this._moveHueHandle(e+t)},g.prototype.getHue=function(){var e,t,n=this.huebarHandleElement,r=u.getTranslateXY(n);return t=(e=Math.abs(this.huebarPosLimitRange[0]))+this.huebarPosLimitRange[1],(r[0]+e)*m/t},g.prototype.getHSV=function(){var e=this.getSaturationAndValue();return[this.getHue()].concat(e)},g.prototype.getRGB=function(){return d.hsvToRGB.apply(null,this.getHSV())},g.prototype._prepareColorSliderForMouseEvent=function(e){var t=this.options,n=o(e.target,"."+t.cssPrefix+"slider-part");return this._dragDataCache={isColorSlider:s(n,t.cssPrefix+"slider-left"),parentElement:n}},g.prototype._onClick=function(e){var t=this._prepareColorSliderForMouseEvent(e),n=i(e.originEvent,t.parentElement);t.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1]),this._dragDataCache=null},g.prototype._onDragStart=function(e){this._setColorSliderPosMax(),this._setHueBarPosMax(),this._prepareColorSliderForMouseEvent(e)},g.prototype._onDrag=function(e){var t=this._dragDataCache,n=i(e.originEvent,t.parentElement);t.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1])},g.prototype._onDragEnd=function(){this._dragDataCache=null},r.mixin(g),e.exports=g},function(e,t,n){"use strict";var r=n(4).isOldBrowser,i=/[\.\-0-9]+/g,o={getTranslateXY:function(e){var t;return r?(t=e.style,[parseFloat(t.top),parseFloat(t.left)]):(t=e.getAttribute("transform"))?(t=t.match(i),[parseFloat(t[1]),parseFloat(t[0])]):[0,0]},setTranslateXY:function(e,t,n){r?(e.style.left=t+"px",e.style.top=n+"px"):e.setAttribute("transform","translate("+t+","+n+")")},setTranslateY:function(e,t){r?e.style.top=t+"px":e.setAttribute("transform","translate(-6,"+t+")")},setStrokeColor:function(e,t){r?e.strokecolor=t:e.setAttribute("stroke",t)},setGradientColorStop:function(e,t){r?e.color=t:e.setAttribute("stop-color",t)}};e.exports=o},function(e,t,n){n(34),e.exports=n(35)},function(e,t,n){},function(e,t,n){"use strict";var r={Collection:n(19),View:n(8),Drag:n(24),create:n(48),Palette:n(29),Slider:n(31),colorutil:n(12),svgvml:n(32)};e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return null===e}},function(e,t,n){"use strict";var r=n(3),i=n(38),o=6048e5;e.exports=function(e,t){var n=location.hostname,s="TOAST UI "+e+" for "+n+": Statistics",a=window.localStorage.getItem(s);(r(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!function(e){return(new Date).getTime()-e>o}(a)||(window.localStorage.setItem(s,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||i("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t){var n=document.createElement("img"),i="";return r(t,(function(e,t){i+="&"+t+"="+e})),i=i.substring(1),n.src=e+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},function(e,t,n){"use strict";var r=n(2),i=n(5),o=n(23),s=n(40);e.exports=function(e){var t,n=Array.prototype.slice.call(arguments,1),a=e.classList,l=[];a?r(n,(function(t){e.classList.add(t)})):((t=o(e))&&(n=[].concat(t.split(/\s+/),n)),r(n,(function(e){i(e,l)<0&&l.push(e)})),s(e,l))}},function(e,t,n){"use strict";var r=n(1),i=n(3);e.exports=function(e,t){t=(t=r(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i(e.className.baseVal)?e.className=t:e.className.baseVal=t}},function(e,t,n){"use strict";e.exports=function(e){return"number"===typeof e||e instanceof Number}},function(e,t,n){"use strict";var r=n(14),i=n(15),o=n(43),s=n(27),a="onselectstart"in document,l=s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);e.exports=function(e){e||(e=document),a?r(e,"selectstart",i):(e=e===document?document.documentElement:e,o(e,"prevUserSelect",e.style[l]),e.style[l]="none")}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t,n){e.dataset?e.dataset[t]=n:e.setAttribute("data-"+r(t),n)}},function(e,t,n){"use strict";var r=n(17),i=n(15),o=n(45),s=n(46),a=n(27),l="onselectstart"in document,c="prevUserSelect",u=a(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);e.exports=function(e){e||(e=document),l?r(e,"selectstart",i):((e=e===document?document.documentElement:e).style[u]=o(e,c)||"auto",s(e,c))}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t){return e.dataset?e.dataset[t]:e.getAttribute("data-"+r(t))}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t){e.dataset?delete e.dataset[t]:e.removeAttribute("data-"+r(t))}},function(e,t,n){"use strict";var r=n(22),i=n(5),o=["0","1","3","5","7"],s=["2","6"],a=["4"];e.exports=function(e){return r.msie&&r.version<=8?function(e){var t=String(e.button);return i(t,o)>-1?0:i(t,s)>-1?2:i(t,a)>-1?1:null}(e):e.button}},function(e,t,n){"use strict";var r=n(10),i=n(0),o=n(4),s=n(12),a=n(49),l=n(29),c=n(31),u=0;function d(e){var t;if(!(this instanceof d))return new d(e);if(!(e=this.options=i({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:u+=1,usageStatistics:!0},e)).container)throw new Error("ColorPicker(): need container option.");t=this.layout=new a(e,e.container),this.palette=new l(e,t.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new c(e,t.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),t.addChild(this.palette),t.addChild(this.slider),this.render(e.color),e.usageStatistics&&o.sendHostName()}d.prototype._onSelectColorInPalette=function(e){var t=e.color,n=this.options;s.isValidRGB(t)||""===t?(this.fire("selectColor",{color:t,origin:"palette"}),n.color!==t&&(n.color=t,this.render(t))):this.render()},d.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},d.prototype._onSelectColorInSlider=function(e){var t=e.color,n=this.options;this.fire("selectColor",{color:t,origin:"slider"}),n.color!==t&&(n.color=t,this.palette.render(t))},d.prototype.setColor=function(e){if(!s.isValidRGB(e))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=e,this.render(e)},d.prototype.getColor=function(){return this.options.color},d.prototype.toggle=function(e){this.layout.container.style.display=e?"block":"none"},d.prototype.render=function(e){this.layout.render(e||this.options.color)},d.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},r.mixin(d),e.exports=d},function(e,t,n){"use strict";var r=n(0),i=n(18),o=n(9),s=n(8);function a(e,t){this.options=r({cssPrefix:"tui-colorpicker-"},e),t=o.appendHTMLElement("div",t,this.options.cssPrefix+"container"),s.call(this,e,t),this.render()}i(a,s),a.prototype.render=function(e){this.recursive((function(t){t.render(e)}),!0)},e.exports=a},function(e,t,n){"use strict";e.exports=function(e){function t(){}return t.prototype=e,new t}},function(e,t,n){"use strict";var r=n(52);e.exports=function(e){var t=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join("\n");return r(t,e)}},function(e,t,n){"use strict";var r=n(5),i=n(2),o=n(1),s=n(11),a=n(0),l=/{{\s?|\s?}}/g,c=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,u=/\[\s?|\s?\]/,d=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,h=/\./,f=/^["']\w+["']$/,p=/"|'/g,m=/^-?\d+\.?\d*$/,g=2,v={if:function(e,t,n){var r=function(e,t){var n=[e],r=[],o=0,s=0;return i(t,(function(e,i){0===e.indexOf("if")?o+=1:"/if"===e?o-=1:o||0!==e.indexOf("elseif")&&"else"!==e||(n.push("else"===e?["true"]:e.split(" ").slice(1)),r.push(t.slice(s,i)),s=i+1)})),r.push(t.slice(s)),{exps:n,sourcesInsideIf:r}}(e,t),o=!1,s="";return i(r.exps,(function(e,t){return(o=x(e,n))&&(s=_(r.sourcesInsideIf[t],n)),!o})),s},each:function(e,t,n){var r=x(e,n),s=o(r)?"@index":"@key",l={},c="";return i(r,(function(e,r){l[s]=r,l["@this"]=e,a(n,l),c+=_(t.slice(),n)})),c},with:function(e,t,n){var i=r("as",e),o=e[i+1],s=x(e.slice(0,i),n),l={};return l[o]=s,_(t,a(n,l))||""}},b=3==="a".split(/a/).length?function(e,t){return e.split(t)}:function(e,t){var n,r,i=[],o=0;for(t.global||(t=new RegExp(t,"g")),n=t.exec(e);null!==n;)r=n.index,i.push(e.slice(o,r)),o=r+n[0].length,n=t.exec(e);return i.push(e.slice(o)),i};function y(e,t){var n,r=t[e];return"true"===e?r=!0:"false"===e?r=!1:f.test(e)?r=e.replace(p,""):c.test(e)?r=y((n=e.split(u))[0],t)[y(n[1],t)]:d.test(e)?r=y((n=e.split(h))[0],t)[n[1]]:m.test(e)&&(r=parseFloat(e)),r}function w(e,t,n){for(var r,i=v[e],o=1,a=0+g,l=t[a];o&&s(l);)0===l.indexOf(e)?o+=1:0===l.indexOf("/"+e)&&(o-=1,r=a),l=t[a+=g];if(o)throw Error(e+" needs {{/"+e+"}} expression.");return t[0]=i(t[0].split(" ").slice(1),function(e,t,n){var r=e.splice(t+1,n-t);return r.pop(),r}(t,0,r),n),t}function x(e,t){var n=y(e[0],t);return n instanceof Function?function(e,t,n){var r=[];return i(t,(function(e){r.push(y(e,n))})),e.apply(null,r)}(n,e.slice(1),t):n}function _(e,t){for(var n,r,i,o=1,a=e[o];s(a);)r=(n=a.split(" "))[0],v[r]?(i=w(r,e.splice(o,e.length-o),t),e=e.concat(i)):e[o]=x(n,t),a=e[o+=g];return e.join("")}e.exports=function(e,t){return _(b(e,l),t)}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){var n,i=r(e),o=i?e[0]:e.clientX,s=i?e[1]:e.clientY;return t?[o-(n=t.getBoundingClientRect()).left-t.clientLeft,s-n.top-t.clientTop]:[o,s]}},function(e,t,n){"use strict";var r=n(55);e.exports=function(e,t){var n=e.parentNode;if(r(e,t))return e;for(;n&&n!==document;){if(r(n,t))return n;n=n.parentNode}return null}},function(e,t,n){"use strict";var r=n(5),i=n(56),o=Element.prototype,s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return r(this,i(t.querySelectorAll(e)))>-1};e.exports=function(e,t){return s.call(e,t)}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],r(e,(function(e){t.push(e)}))}return t}},function(e,t,n){"use strict";(function(t){var r=n(4).isOldBrowser,i=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join("\n"),o=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join("\n"),s=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join("\n"),a=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join("\n"),l=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join("\n");r&&t.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),e.exports={layout:i,slider:r?s:o,huebar:r?l:a}}).call(this,n(25))}])},e.exports=t()},7217:(e,t,n)=>{var r;self,r=function(e){return function(){var t={2777:function(e,t,n){var r,i=i||{version:"4.6.0"};if(t.fabric=i,"undefined"!==typeof document&&"undefined"!==typeof window)document instanceof("undefined"!==typeof HTMLDocument?HTMLDocument:Document)?i.document=document:i.document=document.implementation.createHTMLDocument(""),i.window=window;else{var o=new(n(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;i.document=o.document,i.jsdomImplForWrapper=n(6759).implForWrapper,i.nodeCanvas=n(6272).Canvas,i.window=o,DOMParser=i.window.DOMParser}function s(e,t){var n=e.canvas,r=t.targetCanvas,i=r.getContext("2d");i.translate(0,r.height),i.scale(1,-1);var o=n.height-r.height;i.drawImage(n,0,o,r.width,r.height,0,0,r.width,r.height)}function a(e,t){var n=t.targetCanvas.getContext("2d"),r=t.destinationWidth,i=t.destinationHeight,o=r*i*4,s=new Uint8Array(this.imageBuffer,0,o),a=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,r,i,e.RGBA,e.UNSIGNED_BYTE,s);var l=new ImageData(a,r,i);n.putImageData(l,0,0)}i.isTouchSupported="ontouchstart"in i.window||"ontouchstart"in i.document||i.window&&i.window.navigator&&i.window.navigator.maxTouchPoints>0,i.isLikelyNode="undefined"!==typeof Buffer&&"undefined"===typeof window,i.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],i.DPI=96,i.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",i.commaWsp="(?:\\s+,?\\s*|,\\s*)",i.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,i.reNonWord=/[ \n\.,;!\?\-]/,i.fontPaths={},i.iMatrix=[1,0,0,1,0,0],i.svgNS="http://www.w3.org/2000/svg",i.perfLimitSizeTotal=2097152,i.maxCacheSideLimit=4096,i.minCacheSideLimit=256,i.charWidthsCache={},i.textureSize=2048,i.disableStyleCopyPaste=!1,i.enableGLFiltering=!0,i.devicePixelRatio=i.window.devicePixelRatio||i.window.webkitDevicePixelRatio||i.window.mozDevicePixelRatio||1,i.browserShadowBlurConstant=1,i.arcToSegmentsCache={},i.boundsOfCurveCache={},i.cachesBoundsOfCurve=!0,i.forceGLPutImageData=!1,i.initFilterBackend=function(){return i.enableGLFiltering&&i.isWebglSupported&&i.isWebglSupported(i.textureSize)?(console.log("max texture size: "+i.maxTextureSize),new i.WebglFilterBackend({tileSize:i.textureSize})):i.Canvas2dFilterBackend?new i.Canvas2dFilterBackend:void 0},"undefined"!==typeof document&&"undefined"!==typeof window&&(window.fabric=i),function(){function e(e,t){if(this.__eventListeners[e]){var n=this.__eventListeners[e];t?n[n.indexOf(t)]=!1:i.util.array.fill(n,!1)}}function t(e,t){var n=function(){t.apply(this,arguments),this.off(e,n)}.bind(this);this.on(e,n)}i.Observable={fire:function(e,t){if(!this.__eventListeners)return this;var n=this.__eventListeners[e];if(!n)return this;for(var r=0,i=n.length;r<i;r++)n[r]&&n[r].call(this,t||{});return this.__eventListeners[e]=n.filter((function(e){return!1!==e})),this},on:function(e,t){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in e)this.on(n,e[n]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(t);return this},once:function(e,n){if(1===arguments.length)for(var r in e)t.call(this,r,e[r]);else t.call(this,e,n);return this},off:function(t,n){if(!this.__eventListeners)return this;if(0===arguments.length)for(t in this.__eventListeners)e.call(this,t);else if(1===arguments.length&&"object"===typeof arguments[0])for(var r in t)e.call(this,r,t[r]);else e.call(this,t,n);return this}}}(),i.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var e=0,t=arguments.length;e<t;e++)this._onObjectAdded(arguments[e]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(e,t,n){var r=this._objects;return n?r[t]=e:r.splice(t,0,e),this._onObjectAdded&&this._onObjectAdded(e),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var e,t=this._objects,n=!1,r=0,i=arguments.length;r<i;r++)-1!==(e=t.indexOf(arguments[r]))&&(n=!0,t.splice(e,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[r]));return this.renderOnAddRemove&&n&&this.requestRenderAll(),this},forEachObject:function(e,t){for(var n=this.getObjects(),r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n);return this},getObjects:function(e){return"undefined"===typeof e?this._objects.concat():this._objects.filter((function(t){return t.type===e}))},item:function(e){return this._objects[e]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(e,t){return this._objects.indexOf(e)>-1||!!t&&this._objects.some((function(t){return"function"===typeof t.contains&&t.contains(e,!0)}))},complexity:function(){return this._objects.reduce((function(e,t){return e+=t.complexity?t.complexity():0}),0)}},i.CommonMethods={_setOptions:function(e){for(var t in e)this.set(t,e[t])},_initGradient:function(e,t){!e||!e.colorStops||e instanceof i.Gradient||this.set(t,new i.Gradient(e))},_initPattern:function(e,t,n){!e||!e.source||e instanceof i.Pattern?n&&n():this.set(t,new i.Pattern(e,n))},_setObject:function(e){for(var t in e)this._set(t,e[t])},set:function(e,t){return"object"===typeof e?this._setObject(e):this._set(e,t),this},_set:function(e,t){this[e]=t},toggle:function(e){var t=this.get(e);return"boolean"===typeof t&&this.set(e,!t),this},get:function(e){return this[e]}},function(e){var t=Math.sqrt,n=Math.atan2,r=Math.pow,o=Math.PI/180,s=Math.PI/2;i.util={cos:function(e){if(0===e)return 1;switch(e<0&&(e=-e),e/s){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},sin:function(e){if(0===e)return 0;var t=1;switch(e<0&&(t=-1),e/s){case 1:return t;case 2:return 0;case 3:return-t}return Math.sin(e)},removeFromArray:function(e,t){var n=e.indexOf(t);return-1!==n&&e.splice(n,1),e},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},degreesToRadians:function(e){return e*o},radiansToDegrees:function(e){return e/o},rotatePoint:function(e,t,n){var r=new i.Point(e.x-t.x,e.y-t.y),o=i.util.rotateVector(r,n);return new i.Point(o.x,o.y).addEquals(t)},rotateVector:function(e,t){var n=i.util.sin(t),r=i.util.cos(t);return{x:e.x*r-e.y*n,y:e.x*n+e.y*r}},transformPoint:function(e,t,n){return n?new i.Point(t[0]*e.x+t[2]*e.y,t[1]*e.x+t[3]*e.y):new i.Point(t[0]*e.x+t[2]*e.y+t[4],t[1]*e.x+t[3]*e.y+t[5])},makeBoundingBoxFromPoints:function(e,t){if(t)for(var n=0;n<e.length;n++)e[n]=i.util.transformPoint(e[n],t);var r=[e[0].x,e[1].x,e[2].x,e[3].x],o=i.util.array.min(r),s=i.util.array.max(r)-o,a=[e[0].y,e[1].y,e[2].y,e[3].y],l=i.util.array.min(a);return{left:o,top:l,width:s,height:i.util.array.max(a)-l}},invertTransform:function(e){var t=1/(e[0]*e[3]-e[1]*e[2]),n=[t*e[3],-t*e[1],-t*e[2],t*e[0]],r=i.util.transformPoint({x:e[4],y:e[5]},n,!0);return n[4]=-r.x,n[5]=-r.y,n},toFixed:function(e,t){return parseFloat(Number(e).toFixed(t))},parseUnit:function(e,t){var n=/\D{0,2}$/.exec(e),r=parseFloat(e);switch(t||(t=i.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return r*i.DPI/25.4;case"cm":return r*i.DPI/2.54;case"in":return r*i.DPI;case"pt":return r*i.DPI/72;case"pc":return r*i.DPI/72*12;case"em":return r*t;default:return r}},falseFunction:function(){return!1},getKlass:function(e,t){return e=i.util.string.camelize(e.charAt(0).toUpperCase()+e.slice(1)),i.util.resolveNamespace(t)[e]},getSvgAttributes:function(e){var t=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":t=t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":t=t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":t=t.concat(["offset","stop-color","stop-opacity"])}return t},resolveNamespace:function(t){if(!t)return i;var n,r=t.split("."),o=r.length,s=e||i.window;for(n=0;n<o;++n)s=s[r[n]];return s},loadImage:function(e,t,n,r){if(e){var o=i.util.createImage(),s=function(){t&&t.call(n,o,!1),o=o.onload=o.onerror=null};o.onload=s,o.onerror=function(){i.log("Error loading "+o.src),t&&t.call(n,null,!0),o=o.onload=o.onerror=null},0!==e.indexOf("data")&&void 0!==r&&null!==r&&(o.crossOrigin=r),"data:image/svg"===e.substring(0,14)&&(o.onload=null,i.util.loadImageInDom(o,s)),o.src=e}else t&&t.call(n,e)},loadImageInDom:function(e,t){var n=i.document.createElement("div");n.style.width=n.style.height="1px",n.style.left=n.style.top="-100%",n.style.position="absolute",n.appendChild(e),i.document.querySelector("body").appendChild(n),e.onload=function(){t(),n.parentNode.removeChild(n),n=null}},enlivenObjects:function(e,t,n,r){var o=[],s=0,a=(e=e||[]).length;function l(){++s===a&&t&&t(o.filter((function(e){return e})))}a?e.forEach((function(e,t){e&&e.type?i.util.getKlass(e.type,n).fromObject(e,(function(n,i){i||(o[t]=n),r&&r(e,n,i),l()})):l()})):t&&t(o)},enlivenPatterns:function(e,t){function n(){++o===s&&t&&t(r)}var r=[],o=0,s=(e=e||[]).length;s?e.forEach((function(e,t){e&&e.source?new i.Pattern(e,(function(e){r[t]=e,n()})):(r[t]=e,n())})):t&&t(r)},groupSVGElements:function(e,t,n){var r;return e&&1===e.length?e[0]:(t&&(t.width&&t.height?t.centerPoint={x:t.width/2,y:t.height/2}:(delete t.width,delete t.height)),r=new i.Group(e,t),"undefined"!==typeof n&&(r.sourcePath=n),r)},populateWithProperties:function(e,t,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var r=0,i=n.length;r<i;r++)n[r]in e&&(t[n[r]]=e[n[r]])},drawDashedLine:function(e,r,i,o,s,a){var l=o-r,c=s-i,u=t(l*l+c*c),d=n(c,l),h=a.length,f=0,p=!0;for(e.save(),e.translate(r,i),e.moveTo(0,0),e.rotate(d),r=0;u>r;)(r+=a[f++%h])>u&&(r=u),e[p?"lineTo":"moveTo"](r,0),p=!p;e.restore()},createCanvasElement:function(){return i.document.createElement("canvas")},copyCanvasElement:function(e){var t=i.util.createCanvasElement();return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t},toDataURL:function(e,t,n){return e.toDataURL("image/"+t,n)},createImage:function(){return i.document.createElement("img")},multiplyTransformMatrices:function(e,t,n){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],n?0:e[0]*t[4]+e[2]*t[5]+e[4],n?0:e[1]*t[4]+e[3]*t[5]+e[5]]},qrDecompose:function(e){var i=n(e[1],e[0]),s=r(e[0],2)+r(e[1],2),a=t(s),l=(e[0]*e[3]-e[2]*e[1])/a,c=n(e[0]*e[2]+e[1]*e[3],s);return{angle:i/o,scaleX:a,scaleY:l,skewX:c/o,skewY:0,translateX:e[4],translateY:e[5]}},calcRotateMatrix:function(e){if(!e.angle)return i.iMatrix.concat();var t=i.util.degreesToRadians(e.angle),n=i.util.cos(t),r=i.util.sin(t);return[n,r,-r,n,0,0]},calcDimensionsMatrix:function(e){var t="undefined"===typeof e.scaleX?1:e.scaleX,n="undefined"===typeof e.scaleY?1:e.scaleY,r=[e.flipX?-t:t,0,0,e.flipY?-n:n,0,0],o=i.util.multiplyTransformMatrices,s=i.util.degreesToRadians;return e.skewX&&(r=o(r,[1,0,Math.tan(s(e.skewX)),1],!0)),e.skewY&&(r=o(r,[1,Math.tan(s(e.skewY)),0,1],!0)),r},composeMatrix:function(e){var t=[1,0,0,1,e.translateX||0,e.translateY||0],n=i.util.multiplyTransformMatrices;return e.angle&&(t=n(t,i.util.calcRotateMatrix(e))),(1!==e.scaleX||1!==e.scaleY||e.skewX||e.skewY||e.flipX||e.flipY)&&(t=n(t,i.util.calcDimensionsMatrix(e))),t},resetObjectTransform:function(e){e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},saveObjectTransform:function(e){return{scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}},isTransparent:function(e,t,n,r){r>0&&(t>r?t-=r:t=0,n>r?n-=r:n=0);var i,o=!0,s=e.getImageData(t,n,2*r||1,2*r||1),a=s.data.length;for(i=3;i<a&&!1!==(o=s.data[i]<=0);i+=4);return s=null,o},parsePreserveAspectRatioAttribute:function(e){var t,n="meet",r=e.split(" ");return r&&r.length&&("meet"!==(n=r.pop())&&"slice"!==n?(t=n,n="meet"):r.length&&(t=r.pop())),{meetOrSlice:n,alignX:"none"!==t?t.slice(1,4):"none",alignY:"none"!==t?t.slice(5,8):"none"}},clearFabricFontCache:function(e){(e=(e||"").toLowerCase())?i.charWidthsCache[e]&&delete i.charWidthsCache[e]:i.charWidthsCache={}},limitDimsByArea:function(e,t){var n=Math.sqrt(t*e),r=Math.floor(t/n);return{x:Math.floor(n),y:r}},capValue:function(e,t,n){return Math.max(e,Math.min(t,n))},findScaleToFit:function(e,t){return Math.min(t.width/e.width,t.height/e.height)},findScaleToCover:function(e,t){return Math.max(t.width/e.width,t.height/e.height)},matrixToSVG:function(e){return"matrix("+e.map((function(e){return i.util.toFixed(e,i.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"},removeTransformFromObject:function(e,t){var n=i.util.invertTransform(t),r=i.util.multiplyTransformMatrices(n,e.calcOwnMatrix());i.util.applyTransformToObject(e,r)},addTransformToObject:function(e,t){i.util.applyTransformToObject(e,i.util.multiplyTransformMatrices(t,e.calcOwnMatrix()))},applyTransformToObject:function(e,t){var n=i.util.qrDecompose(t),r=new i.Point(n.translateX,n.translateY);e.flipX=!1,e.flipY=!1,e.set("scaleX",n.scaleX),e.set("scaleY",n.scaleY),e.skewX=n.skewX,e.skewY=n.skewY,e.angle=n.angle,e.setPositionByOrigin(r,"center","center")},sizeAfterTransform:function(e,t,n){var r=e/2,o=t/2,s=[{x:-r,y:-o},{x:r,y:-o},{x:-r,y:o},{x:r,y:o}],a=i.util.calcDimensionsMatrix(n),l=i.util.makeBoundingBoxFromPoints(s,a);return{x:l.width,y:l.height}}}}(t),function(){var e=Array.prototype.join,t={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},n={m:"l",M:"L"};function r(e,t,n,r,o,s,a,l,c,u,d){var h=i.util.cos(e),f=i.util.sin(e),p=i.util.cos(t),m=i.util.sin(t),g=n*o*p-r*s*m+a,v=r*o*p+n*s*m+l;return["C",u+c*(-n*o*f-r*s*h),d+c*(-r*o*f+n*s*h),g+c*(n*o*m+r*s*p),v+c*(r*o*m-n*s*p),g,v]}function o(e,t,n,o,a,l,c){var u=Math.PI,d=c*u/180,h=i.util.sin(d),f=i.util.cos(d),p=0,m=0,g=-f*e*.5-h*t*.5,v=-f*t*.5+h*e*.5,b=(n=Math.abs(n))*n,y=(o=Math.abs(o))*o,w=v*v,x=g*g,_=b*y-b*w-y*x,C=0;if(_<0){var k=Math.sqrt(1-_/(b*y));n*=k,o*=k}else C=(a===l?-1:1)*Math.sqrt(_/(b*w+y*x));var S=C*n*v/o,A=-C*o*g/n,T=f*S-h*A+.5*e,I=h*S+f*A+.5*t,M=s(1,0,(g-S)/n,(v-A)/o),E=s((g-S)/n,(v-A)/o,(-g-S)/n,(-v-A)/o);0===l&&E>0?E-=2*u:1===l&&E<0&&(E+=2*u);for(var P=Math.ceil(Math.abs(E/u*2)),D=[],j=E/P,O=8/3*Math.sin(j/4)*Math.sin(j/4)/Math.sin(j/2),R=M+j,L=0;L<P;L++)D[L]=r(M,R,f,h,n,o,T,I,O,p,m),p=D[L][5],m=D[L][6],M=R,R+=j;return D}function s(e,t,n,r){var i=Math.atan2(t,e),o=Math.atan2(r,n);return o>=i?o-i:2*Math.PI-(i-o)}function a(t,n,r,o,s,a,l,c){var u;if(i.cachesBoundsOfCurve&&(u=e.call(arguments),i.boundsOfCurveCache[u]))return i.boundsOfCurveCache[u];var d,h,f,p,m,g,v,b,y=Math.sqrt,w=Math.min,x=Math.max,_=Math.abs,C=[],k=[[],[]];h=6*t-12*r+6*s,d=-3*t+9*r-9*s+3*l,f=3*r-3*t;for(var S=0;S<2;++S)if(S>0&&(h=6*n-12*o+6*a,d=-3*n+9*o-9*a+3*c,f=3*o-3*n),_(d)<1e-12){if(_(h)<1e-12)continue;0<(p=-f/h)&&p<1&&C.push(p)}else(v=h*h-4*f*d)<0||(0<(m=(-h+(b=y(v)))/(2*d))&&m<1&&C.push(m),0<(g=(-h-b)/(2*d))&&g<1&&C.push(g));for(var A,T,I,M=C.length,E=M;M--;)A=(I=1-(p=C[M]))*I*I*t+3*I*I*p*r+3*I*p*p*s+p*p*p*l,k[0][M]=A,T=I*I*I*n+3*I*I*p*o+3*I*p*p*a+p*p*p*c,k[1][M]=T;k[0][E]=t,k[1][E]=n,k[0][E+1]=l,k[1][E+1]=c;var P=[{x:w.apply(null,k[0]),y:w.apply(null,k[1])},{x:x.apply(null,k[0]),y:x.apply(null,k[1])}];return i.cachesBoundsOfCurve&&(i.boundsOfCurveCache[u]=P),P}function l(e,t,n){for(var r=n[1],i=n[2],s=n[3],a=n[4],l=n[5],c=o(n[6]-e,n[7]-t,r,i,a,l,s),u=0,d=c.length;u<d;u++)c[u][1]+=e,c[u][2]+=t,c[u][3]+=e,c[u][4]+=t,c[u][5]+=e,c[u][6]+=t;return c}function c(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}function u(e,t,n,r,i,o,s,a){return function(l){var c,u=(c=l)*c*c,d=function(e){return 3*e*e*(1-e)}(l),h=function(e){return 3*e*(1-e)*(1-e)}(l),f=function(e){return(1-e)*(1-e)*(1-e)}(l);return{x:s*u+i*d+n*h+e*f,y:a*u+o*d+r*h+t*f}}}function d(e,t,n,r,i,o,s,a){return function(l){var c=1-l,u=3*c*c*(n-e)+6*c*l*(i-n)+3*l*l*(s-i),d=3*c*c*(r-t)+6*c*l*(o-r)+3*l*l*(a-o);return Math.atan2(d,u)}}function h(e,t,n,r,i,o){return function(s){var a,l=(a=s)*a,c=function(e){return 2*e*(1-e)}(s),u=function(e){return(1-e)*(1-e)}(s);return{x:i*l+n*c+e*u,y:o*l+r*c+t*u}}}function f(e,t,n,r,i,o){return function(s){var a=1-s,l=2*a*(n-e)+2*s*(i-n),c=2*a*(r-t)+2*s*(o-r);return Math.atan2(c,l)}}function p(e,t,n){var r,i,o={x:t,y:n},s=0;for(i=1;i<=100;i+=1)r=e(i/100),s+=c(o.x,o.y,r.x,r.y),o=r;return s}function m(e,t){for(var n,r,i,o=0,s=0,a=e.iterator,l={x:e.x,y:e.y},u=.01,d=e.angleFinder;s<t&&o<=1&&u>1e-4;)n=a(o),i=o,(r=c(l.x,l.y,n.x,n.y))+s>t?o-=u/=2:(l=n,o+=u,s+=r);return n.angle=d(i),n}function g(e){for(var t,n,r,i,o=0,s=e.length,a=0,l=0,m=0,g=0,v=[],b=0;b<s;b++){switch(r={x:a,y:l,command:(t=e[b])[0]},t[0]){case"M":r.length=0,m=a=t[1],g=l=t[2];break;case"L":r.length=c(a,l,t[1],t[2]),a=t[1],l=t[2];break;case"C":n=u(a,l,t[1],t[2],t[3],t[4],t[5],t[6]),i=d(a,l,t[1],t[2],t[3],t[4],t[5],t[6]),r.iterator=n,r.angleFinder=i,r.length=p(n,a,l),a=t[5],l=t[6];break;case"Q":n=h(a,l,t[1],t[2],t[3],t[4]),i=f(a,l,t[1],t[2],t[3],t[4]),r.iterator=n,r.angleFinder=i,r.length=p(n,a,l),a=t[3],l=t[4];break;case"Z":case"z":r.destX=m,r.destY=g,r.length=c(a,l,m,g),a=m,l=g}o+=r.length,v.push(r)}return v.push({length:o,x:a,y:l}),v}i.util.joinPath=function(e){return e.map((function(e){return e.join(" ")})).join(" ")},i.util.parsePath=function(e){var r,o,s,a,l,c=[],u=[],d=i.rePathCommand,h="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",f="("+h+")"+i.commaWsp,p="([01])"+i.commaWsp+"?",m=new RegExp(f+"?"+f+"?"+f+p+p+f+"?("+h+")","g");if(!e||!e.match)return c;for(var g,v=0,b=(l=e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;v<b;v++){a=(r=l[v]).slice(1).trim(),u.length=0;var y=r.charAt(0);if(g=[y],"a"===y.toLowerCase())for(var w;w=m.exec(a);)for(var x=1;x<w.length;x++)u.push(w[x]);else for(;s=d.exec(a);)u.push(s[0]);x=0;for(var _=u.length;x<_;x++)o=parseFloat(u[x]),isNaN(o)||g.push(o);var C=t[y.toLowerCase()],k=n[y]||y;if(g.length-1>C)for(var S=1,A=g.length;S<A;S+=C)c.push([y].concat(g.slice(S,S+C))),y=k;else c.push(g)}return c},i.util.makePathSimpler=function(e){var t,n,r,i,o,s,a=0,c=0,u=e.length,d=0,h=0,f=[];for(n=0;n<u;++n){switch(r=!1,(t=e[n].slice(0))[0]){case"l":t[0]="L",t[1]+=a,t[2]+=c;case"L":a=t[1],c=t[2];break;case"h":t[1]+=a;case"H":t[0]="L",t[2]=c,a=t[1];break;case"v":t[1]+=c;case"V":t[0]="L",c=t[1],t[1]=a,t[2]=c;break;case"m":t[0]="M",t[1]+=a,t[2]+=c;case"M":a=t[1],c=t[2],d=t[1],h=t[2];break;case"c":t[0]="C",t[1]+=a,t[2]+=c,t[3]+=a,t[4]+=c,t[5]+=a,t[6]+=c;case"C":o=t[3],s=t[4],a=t[5],c=t[6];break;case"s":t[0]="S",t[1]+=a,t[2]+=c,t[3]+=a,t[4]+=c;case"S":"C"===i?(o=2*a-o,s=2*c-s):(o=a,s=c),a=t[3],c=t[4],t[0]="C",t[5]=t[3],t[6]=t[4],t[3]=t[1],t[4]=t[2],t[1]=o,t[2]=s,o=t[3],s=t[4];break;case"q":t[0]="Q",t[1]+=a,t[2]+=c,t[3]+=a,t[4]+=c;case"Q":o=t[1],s=t[2],a=t[3],c=t[4];break;case"t":t[0]="T",t[1]+=a,t[2]+=c;case"T":"Q"===i?(o=2*a-o,s=2*c-s):(o=a,s=c),t[0]="Q",a=t[1],c=t[2],t[1]=o,t[2]=s,t[3]=a,t[4]=c;break;case"a":t[0]="A",t[6]+=a,t[7]+=c;case"A":r=!0,f=f.concat(l(a,c,t)),a=t[6],c=t[7];break;case"z":case"Z":a=d,c=h}r||f.push(t),i=t[0]}return f},i.util.getSmoothPathFromPoints=function(e,t){var n,r=[],o=new i.Point(e[0].x,e[0].y),s=new i.Point(e[1].x,e[1].y),a=e.length,l=1,c=0,u=a>2;for(t=t||0,u&&(l=e[2].x<s.x?-1:e[2].x===s.x?0:1,c=e[2].y<s.y?-1:e[2].y===s.y?0:1),r.push(["M",o.x-l*t,o.y-c*t]),n=1;n<a;n++){if(!o.eq(s)){var d=o.midPointFrom(s);r.push(["Q",o.x,o.y,d.x,d.y])}o=e[n],n+1<e.length&&(s=e[n+1])}return u&&(l=o.x>e[n-2].x?1:o.x===e[n-2].x?0:-1,c=o.y>e[n-2].y?1:o.y===e[n-2].y?0:-1),r.push(["L",o.x+l*t,o.y+c*t]),r},i.util.getPathSegmentsInfo=g,i.util.getBoundsOfCurve=a,i.util.getPointOnPath=function(e,t,n){n||(n=g(e));for(var r=0;t-n[r].length>0&&r<n.length-2;)t-=n[r].length,r++;var o,s=n[r],a=t/s.length,l=s.command,c=e[r];switch(l){case"M":return{x:s.x,y:s.y,angle:0};case"Z":case"z":return(o=new i.Point(s.x,s.y).lerp(new i.Point(s.destX,s.destY),a)).angle=Math.atan2(s.destY-s.y,s.destX-s.x),o;case"L":return(o=new i.Point(s.x,s.y).lerp(new i.Point(c[1],c[2]),a)).angle=Math.atan2(c[2]-s.y,c[1]-s.x),o;case"C":case"Q":return m(s,t)}},i.util.transformPath=function(e,t,n){return n&&(t=i.util.multiplyTransformMatrices(t,[1,0,0,1,-n.x,-n.y])),e.map((function(e){for(var n=e.slice(0),r={},o=1;o<e.length-1;o+=2)r.x=e[o],r.y=e[o+1],r=i.util.transformPoint(r,t),n[o]=r.x,n[o+1]=r.y;return n}))},i.util.fromArcToBeizers=l,i.util.getBoundsOfArc=function(e,t,n,r,i,s,l,c,u){for(var d,h=0,f=0,p=[],m=o(c-e,u-t,n,r,s,l,i),g=0,v=m.length;g<v;g++)d=a(h,f,m[g][1],m[g][2],m[g][3],m[g][4],m[g][5],m[g][6]),p.push({x:d[0].x+e,y:d[0].y+t}),p.push({x:d[1].x+e,y:d[1].y+t}),h=m[g][5],f=m[g][6];return p},i.util.drawArc=function(e,t,n,r){l(t,n,r=r.slice(0).unshift("X")).forEach((function(t){e.bezierCurveTo.apply(e,t.slice(1))}))}}(),function(){var e=Array.prototype.slice;function t(e,t,n){if(e&&0!==e.length){var r=e.length-1,i=t?e[r][t]:e[r];if(t)for(;r--;)n(e[r][t],i)&&(i=e[r][t]);else for(;r--;)n(e[r],i)&&(i=e[r]);return i}}i.util.array={fill:function(e,t){for(var n=e.length;n--;)e[n]=t;return e},invoke:function(t,n){for(var r=e.call(arguments,2),i=[],o=0,s=t.length;o<s;o++)i[o]=r.length?t[o][n].apply(t[o],r):t[o][n].call(t[o]);return i},min:function(e,n){return t(e,n,(function(e,t){return e<t}))},max:function(e,n){return t(e,n,(function(e,t){return e>=t}))}}}(),function(){function e(t,n,r){if(r)if(!i.isLikelyNode&&n instanceof Element)t=n;else if(n instanceof Array){t=[];for(var o=0,s=n.length;o<s;o++)t[o]=e({},n[o],r)}else if(n&&"object"===typeof n)for(var a in n)"canvas"===a||"group"===a?t[a]=null:n.hasOwnProperty(a)&&(t[a]=e({},n[a],r));else t=n;else for(var a in n)t[a]=n[a];return t}i.util.object={extend:e,clone:function(t,n){return e({},t,n)}},i.util.object.extend(i.util,i.Observable)}(),function(){function e(e,t){var n=e.charCodeAt(t);if(isNaN(n))return"";if(n<55296||n>57343)return e.charAt(t);if(55296<=n&&n<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";var r=e.charCodeAt(t+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}if(0===t)throw"Low surrogate without preceding high surrogate";var i=e.charCodeAt(t-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1}i.util.string={camelize:function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},escapeXml:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(t){var n,r=0,i=[];for(r=0;r<t.length;r++)!1!==(n=e(t,r))&&i.push(n);return i}}}(),function(){var e=Array.prototype.slice,t=function(){},n=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0}(),r=function(e,t,r){for(var i in t)i in e.prototype&&"function"===typeof e.prototype[i]&&(t[i]+"").indexOf("callSuper")>-1?e.prototype[i]=function(e){return function(){var n=this.constructor.superclass;this.constructor.superclass=r;var i=t[e].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==e)return i}}(i):e.prototype[i]=t[i],n&&(t.toString!==Object.prototype.toString&&(e.prototype.toString=t.toString),t.valueOf!==Object.prototype.valueOf&&(e.prototype.valueOf=t.valueOf))};function o(){}function s(t){for(var n=null,r=this;r.constructor.superclass;){var i=r.constructor.superclass.prototype[t];if(r[t]!==i){n=i;break}r=r.constructor.superclass.prototype}return n?arguments.length>1?n.apply(this,e.call(arguments,1)):n.call(this):console.log("tried to callSuper "+t+", method not found in prototype chain",this)}i.util.createClass=function(){var n=null,i=e.call(arguments,0);function a(){this.initialize.apply(this,arguments)}"function"===typeof i[0]&&(n=i.shift()),a.superclass=n,a.subclasses=[],n&&(o.prototype=n.prototype,a.prototype=new o,n.subclasses.push(a));for(var l=0,c=i.length;l<c;l++)r(a,i[l],n);return a.prototype.initialize||(a.prototype.initialize=t),a.prototype.constructor=a,a.prototype.callSuper=s,a}}(),function(){var e=!!i.document.createElement("div").attachEvent,t=["touchstart","touchmove","touchend"];i.util.addListener=function(t,n,r,i){t&&t.addEventListener(n,r,!e&&i)},i.util.removeListener=function(t,n,r,i){t&&t.removeEventListener(n,r,!e&&i)},i.util.getPointer=function(e){var t=e.target,n=i.util.getScrollLeftTop(t),r=function(e){var t=e.changedTouches;return t&&t[0]?t[0]:e}(e);return{x:r.clientX+n.left,y:r.clientY+n.top}},i.util.isTouchEvent=function(e){return t.indexOf(e.type)>-1||"touch"===e.pointerType}}(),function(){var e=i.document.createElement("div"),t="string"===typeof e.style.opacity,n="string"===typeof e.style.filter,r=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,o=function(e){return e};t?o=function(e,t){return e.style.opacity=t,e}:n&&(o=function(e,t){var n=e.style;return e.currentStyle&&!e.currentStyle.hasLayout&&(n.zoom=1),r.test(n.filter)?(t=t>=.9999?"":"alpha(opacity="+100*t+")",n.filter=n.filter.replace(r,t)):n.filter+=" alpha(opacity="+100*t+")",e}),i.util.setStyle=function(e,t){var n=e.style;if(!n)return e;if("string"===typeof t)return e.style.cssText+=";"+t,t.indexOf("opacity")>-1?o(e,t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var r in t)"opacity"===r?o(e,t[r]):n["float"===r||"cssFloat"===r?"undefined"===typeof n.styleFloat?"cssFloat":"styleFloat":r]=t[r];return e}}(),function(){var e,t,n=Array.prototype.slice,r=function(e){return n.call(e,0)};try{e=r(i.document.childNodes)instanceof Array}catch(a){}function o(e,t){var n=i.document.createElement(e);for(var r in t)"class"===r?n.className=t[r]:"for"===r?n.htmlFor=t[r]:n.setAttribute(r,t[r]);return n}function s(e){for(var t=0,n=0,r=i.document.documentElement,o=i.document.body||{scrollLeft:0,scrollTop:0};e&&(e.parentNode||e.host)&&((e=e.parentNode||e.host)===i.document?(t=o.scrollLeft||r.scrollLeft||0,n=o.scrollTop||r.scrollTop||0):(t+=e.scrollLeft||0,n+=e.scrollTop||0),1!==e.nodeType||"fixed"!==e.style.position););return{left:t,top:n}}e||(r=function(e){for(var t=new Array(e.length),n=e.length;n--;)t[n]=e[n];return t}),t=i.document.defaultView&&i.document.defaultView.getComputedStyle?function(e,t){var n=i.document.defaultView.getComputedStyle(e,null);return n?n[t]:void 0}:function(e,t){var n=e.style[t];return!n&&e.currentStyle&&(n=e.currentStyle[t]),n},function(){var e=i.document.documentElement.style,t="userSelect"in e?"userSelect":"MozUserSelect"in e?"MozUserSelect":"WebkitUserSelect"in e?"WebkitUserSelect":"KhtmlUserSelect"in e?"KhtmlUserSelect":"";i.util.makeElementUnselectable=function(e){return"undefined"!==typeof e.onselectstart&&(e.onselectstart=i.util.falseFunction),t?e.style[t]="none":"string"===typeof e.unselectable&&(e.unselectable="on"),e},i.util.makeElementSelectable=function(e){return"undefined"!==typeof e.onselectstart&&(e.onselectstart=null),t?e.style[t]="":"string"===typeof e.unselectable&&(e.unselectable=""),e}}(),i.util.setImageSmoothing=function(e,t){e.imageSmoothingEnabled=e.imageSmoothingEnabled||e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled||e.oImageSmoothingEnabled,e.imageSmoothingEnabled=t},i.util.getById=function(e){return"string"===typeof e?i.document.getElementById(e):e},i.util.toArray=r,i.util.addClass=function(e,t){e&&-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=(e.className?" ":"")+t)},i.util.makeElement=o,i.util.wrapElement=function(e,t,n){return"string"===typeof t&&(t=o(t,n)),e.parentNode&&e.parentNode.replaceChild(t,e),t.appendChild(e),t},i.util.getScrollLeftTop=s,i.util.getElementOffset=function(e){var n,r,i=e&&e.ownerDocument,o={left:0,top:0},a={left:0,top:0},l={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!i)return a;for(var c in l)a[l[c]]+=parseInt(t(e,c),10)||0;return n=i.documentElement,"undefined"!==typeof e.getBoundingClientRect&&(o=e.getBoundingClientRect()),r=s(e),{left:o.left+r.left-(n.clientLeft||0)+a.left,top:o.top+r.top-(n.clientTop||0)+a.top}},i.util.getNodeCanvas=function(e){var t=i.jsdomImplForWrapper(e);return t._canvas||t._image},i.util.cleanUpJsdomNode=function(e){if(i.isLikelyNode){var t=i.jsdomImplForWrapper(e);t&&(t._image=null,t._canvas=null,t._currentSrc=null,t._attributes=null,t._classList=null)}}}(),function(){function e(){}i.util.request=function(t,n){n||(n={});var r=n.method?n.method.toUpperCase():"GET",o=n.onComplete||function(){},s=new i.window.XMLHttpRequest,a=n.body||n.parameters;return s.onreadystatechange=function(){4===s.readyState&&(o(s),s.onreadystatechange=e)},"GET"===r&&(a=null,"string"===typeof n.parameters&&(t=function(e,t){return e+(/\?/.test(e)?"&":"?")+t}(t,n.parameters))),s.open(r,t,!0),"POST"!==r&&"PUT"!==r||s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(a),s}}(),i.log=console.log,i.warn=console.warn,function(){function e(){return!1}function t(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t}var n=i.window.requestAnimationFrame||i.window.webkitRequestAnimationFrame||i.window.mozRequestAnimationFrame||i.window.oRequestAnimationFrame||i.window.msRequestAnimationFrame||function(e){return i.window.setTimeout(e,1e3/60)},r=i.window.cancelAnimationFrame||i.window.clearTimeout;function o(){return n.apply(i.window,arguments)}i.util.animate=function(n){var r=!1;return o((function(i){n||(n={});var s,a=i||+new Date,l=n.duration||500,c=a+l,u=n.onChange||e,d=n.abort||e,h=n.onComplete||e,f=n.easing||t,p="startValue"in n?n.startValue:0,m="endValue"in n?n.endValue:100,g=n.byValue||m-p;n.onStart&&n.onStart(),function e(t){var n=(s=t||+new Date)>c?l:s-a,i=n/l,v=f(n,p,g,l),b=Math.abs((v-p)/g);if(!r){if(!d(v,b,i))return s>c?(u(m,1,1),void h(m,1,1)):(u(v,b,i),void o(e));h(m,1,1)}}(a)})),function(){r=!0}},i.util.requestAnimFrame=o,i.util.cancelAnimFrame=function(){return r.apply(i.window,arguments)}}(),function(){function e(e,t,n){var r="rgba("+parseInt(e[0]+n*(t[0]-e[0]),10)+","+parseInt(e[1]+n*(t[1]-e[1]),10)+","+parseInt(e[2]+n*(t[2]-e[2]),10);return r+=","+(e&&t?parseFloat(e[3]+n*(t[3]-e[3])):1),r+=")"}i.util.animateColor=function(t,n,r,o){var s=new i.Color(t).getSource(),a=new i.Color(n).getSource(),l=o.onComplete,c=o.onChange;return o=o||{},i.util.animate(i.util.object.extend(o,{duration:r||500,startValue:s,endValue:a,byValue:a,easing:function(t,n,r,i){return e(n,r,o.colorEasing?o.colorEasing(t,i):1-Math.cos(t/i*(Math.PI/2)))},onComplete:function(t,n,r){if(l)return l(e(a,a,0),n,r)},onChange:function(t,n,r){if(c){if(Array.isArray(t))return c(e(t,t,0),n,r);c(t,n,r)}}}))}}(),function(){function e(e,t,n,r){return e<Math.abs(t)?(e=t,r=n/4):r=0===t&&0===e?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(t/e),{a:e,c:t,p:n,s:r}}function t(e,t,n){return e.a*Math.pow(2,10*(t-=1))*Math.sin((t*n-e.s)*(2*Math.PI)/e.p)}function n(e,t,n,i){return n-r(i-e,0,n,i)+t}function r(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}i.util.ease={easeInQuad:function(e,t,n,r){return n*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0===e?t:n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return e===r?t+n:n*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){return 0===e?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,r,i,o){var s=0;return 0===n?r:1===(n/=o)?r+i:(s||(s=.3*o),-t(e(i,i,s,1.70158),n,o)+r)},easeOutElastic:function(t,n,r,i){var o=0;if(0===t)return n;if(1===(t/=i))return n+r;o||(o=.3*i);var s=e(r,r,o,1.70158);return s.a*Math.pow(2,-10*t)*Math.sin((t*i-s.s)*(2*Math.PI)/s.p)+s.c+n},easeInOutElastic:function(n,r,i,o){var s=0;if(0===n)return r;if(2===(n/=o/2))return r+i;s||(s=o*(.3*1.5));var a=e(i,i,s,1.70158);return n<1?-.5*t(a,n,o)+r:a.a*Math.pow(2,-10*(n-=1))*Math.sin((n*o-a.s)*(2*Math.PI)/a.p)*.5+a.c+r},easeInBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),n*(e/=r)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),(e/=r/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInBounce:n,easeOutBounce:r,easeInOutBounce:function(e,t,i,o){return e<o/2?.5*n(2*e,0,i,o)+t:.5*r(2*e-o,0,i,o)+.5*i+t}}}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,i=t.util.toFixed,o=t.util.parseUnit,s=t.util.multiplyTransformMatrices,a={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},l={stroke:"strokeOpacity",fill:"fillOpacity"},c="font-size",u="clip-path";function d(e){return e in a?a[e]:e}function h(e,n,r,i){var a,l="[object Array]"===Object.prototype.toString.call(n);if("fill"!==e&&"stroke"!==e||"none"!==n){if("strokeUniform"===e)return"non-scaling-stroke"===n;if("strokeDashArray"===e)n="none"===n?null:n.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===e)n=r&&r.transformMatrix?s(r.transformMatrix,t.parseTransformAttribute(n)):t.parseTransformAttribute(n);else if("visible"===e)n="none"!==n&&"hidden"!==n,r&&!1===r.visible&&(n=!1);else if("opacity"===e)n=parseFloat(n),r&&"undefined"!==typeof r.opacity&&(n*=r.opacity);else if("textAnchor"===e)n="start"===n?"left":"end"===n?"right":"center";else if("charSpacing"===e)a=o(n,i)/i*1e3;else if("paintFirst"===e){var c=n.indexOf("fill"),u=n.indexOf("stroke");n="fill",(c>-1&&u>-1&&u<c||-1===c&&u>-1)&&(n="stroke")}else{if("href"===e||"xlink:href"===e||"font"===e)return n;if("imageSmoothing"===e)return"optimizeQuality"===n;a=l?n.map(o):o(n,i)}}else n="";return!l&&isNaN(a)?n:a}function f(e){return new RegExp("^("+e.join("|")+")\\b","i")}function p(e,t){var n,r,i,o,s=[];for(i=0,o=t.length;i<o;i++)n=t[i],r=e.getElementsByTagName(n),s=s.concat(Array.prototype.slice.call(r));return s}function m(e,t){var n,r=!0;return(n=g(e,t.pop()))&&t.length&&(r=function(e,t){for(var n,r=!0;e.parentNode&&1===e.parentNode.nodeType&&t.length;)r&&(n=t.pop()),r=g(e=e.parentNode,n);return 0===t.length}(e,t)),n&&r&&0===t.length}function g(e,t){var n,r,i=e.nodeName,o=e.getAttribute("class"),s=e.getAttribute("id");if(n=new RegExp("^"+i,"i"),t=t.replace(n,""),s&&t.length&&(n=new RegExp("#"+s+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"")),o&&t.length)for(r=(o=o.split(" ")).length;r--;)n=new RegExp("\\."+o[r]+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"");return 0===t.length}function v(e,t){var n;if(e.getElementById&&(n=e.getElementById(t)),n)return n;var r,i,o,s=e.getElementsByTagName("*");for(i=0,o=s.length;i<o;i++)if(t===(r=s[i]).getAttribute("id"))return r}t.svgValidTagNamesRegEx=f(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),t.svgViewBoxElementsRegEx=f(["symbol","image","marker","pattern","view","svg"]),t.svgInvalidAncestorsRegEx=f(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),t.svgValidParentsRegEx=f(["symbol","g","a","svg","clipPath","defs"]),t.cssRules={},t.gradientDefs={},t.clipPaths={},t.parseTransformAttribute=function(){function e(e,n,r){e[r]=Math.tan(t.util.degreesToRadians(n[0]))}var n=t.iMatrix,r=t.reNum,i=t.commaWsp,o="(?:(?:(matrix)\\s*\\(\\s*("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+r+")(?:"+i+"("+r+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+r+")(?:"+i+"("+r+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+r+")(?:"+i+"("+r+")"+i+"("+r+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+r+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+r+")\\s*\\)))",s=new RegExp("^\\s*(?:(?:"+o+"(?:"+i+"*"+o+")*)?)\\s*$"),a=new RegExp(o,"g");return function(r){var i=n.concat(),l=[];if(!r||r&&!s.test(r))return i;r.replace(a,(function(r){var s=new RegExp(o).exec(r).filter((function(e){return!!e})),a=s[1],c=s.slice(2).map(parseFloat);switch(a){case"translate":!function(e,t){e[4]=t[0],2===t.length&&(e[5]=t[1])}(i,c);break;case"rotate":c[0]=t.util.degreesToRadians(c[0]),function(e,n){var r=t.util.cos(n[0]),i=t.util.sin(n[0]),o=0,s=0;3===n.length&&(o=n[1],s=n[2]),e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e[4]=o-(r*o-i*s),e[5]=s-(i*o+r*s)}(i,c);break;case"scale":!function(e,t){var n=t[0],r=2===t.length?t[1]:t[0];e[0]=n,e[3]=r}(i,c);break;case"skewX":e(i,c,2);break;case"skewY":e(i,c,1);break;case"matrix":i=c}l.push(i.concat()),i=n.concat()}));for(var c=l[0];l.length>1;)l.shift(),c=t.util.multiplyTransformMatrices(c,l[0]);return c}}();var b=new RegExp("^\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*$");function y(e){if(!t.svgViewBoxElementsRegEx.test(e.nodeName))return{};var n,r,i,s,a,l,c=e.getAttribute("viewBox"),u=1,d=1,h=e.getAttribute("width"),f=e.getAttribute("height"),p=e.getAttribute("x")||0,m=e.getAttribute("y")||0,g=e.getAttribute("preserveAspectRatio")||"",v=!c||!(c=c.match(b)),y=!h||!f||"100%"===h||"100%"===f,w=v&&y,x={},_="",C=0,k=0;if(x.width=0,x.height=0,x.toBeParsed=w,v&&(p||m)&&e.parentNode&&"#document"!==e.parentNode.nodeName&&(_=" translate("+o(p)+" "+o(m)+") ",a=(e.getAttribute("transform")||"")+_,e.setAttribute("transform",a),e.removeAttribute("x"),e.removeAttribute("y")),w)return x;if(v)return x.width=o(h),x.height=o(f),x;if(n=-parseFloat(c[1]),r=-parseFloat(c[2]),i=parseFloat(c[3]),s=parseFloat(c[4]),x.minX=n,x.minY=r,x.viewBoxWidth=i,x.viewBoxHeight=s,y?(x.width=i,x.height=s):(x.width=o(h),x.height=o(f),u=x.width/i,d=x.height/s),"none"!==(g=t.util.parsePreserveAspectRatioAttribute(g)).alignX&&("meet"===g.meetOrSlice&&(d=u=u>d?d:u),"slice"===g.meetOrSlice&&(d=u=u>d?u:d),C=x.width-i*u,k=x.height-s*u,"Mid"===g.alignX&&(C/=2),"Mid"===g.alignY&&(k/=2),"Min"===g.alignX&&(C=0),"Min"===g.alignY&&(k=0)),1===u&&1===d&&0===n&&0===r&&0===p&&0===m)return x;if((p||m)&&"#document"!==e.parentNode.nodeName&&(_=" translate("+o(p)+" "+o(m)+") "),a=_+" matrix("+u+" 0 0 "+d+" "+(n*u+C)+" "+(r*d+k)+") ","svg"===e.nodeName){for(l=e.ownerDocument.createElementNS(t.svgNS,"g");e.firstChild;)l.appendChild(e.firstChild);e.appendChild(l)}else(l=e).removeAttribute("x"),l.removeAttribute("y"),a=l.getAttribute("transform")+a;return l.setAttribute("transform",a),x}function w(e,t){var n="xlink:href",r=v(e,t.getAttribute(n).substr(1));if(r&&r.getAttribute(n)&&w(e,r),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(e){r&&!t.hasAttribute(e)&&r.hasAttribute(e)&&t.setAttribute(e,r.getAttribute(e))})),!t.children.length)for(var i=r.cloneNode(!0);i.firstChild;)t.appendChild(i.firstChild);t.removeAttribute(n)}t.parseSVGDocument=function(e,n,i,o){if(e){!function(e){for(var n=p(e,["use","svg:use"]),r=0;n.length&&r<n.length;){var i=n[r],o=i.getAttribute("xlink:href")||i.getAttribute("href");if(null===o)return;var s,a,l,c,u=o.substr(1),d=i.getAttribute("x")||0,h=i.getAttribute("y")||0,f=v(e,u).cloneNode(!0),m=(f.getAttribute("transform")||"")+" translate("+d+", "+h+")",g=n.length,b=t.svgNS;if(y(f),/^svg$/i.test(f.nodeName)){var w=f.ownerDocument.createElementNS(b,"g");for(a=0,c=(l=f.attributes).length;a<c;a++)s=l.item(a),w.setAttributeNS(b,s.nodeName,s.nodeValue);for(;f.firstChild;)w.appendChild(f.firstChild);f=w}for(a=0,c=(l=i.attributes).length;a<c;a++)"x"!==(s=l.item(a)).nodeName&&"y"!==s.nodeName&&"xlink:href"!==s.nodeName&&"href"!==s.nodeName&&("transform"===s.nodeName?m=s.nodeValue+" "+m:f.setAttribute(s.nodeName,s.nodeValue));f.setAttribute("transform",m),f.setAttribute("instantiated_by_use","1"),f.removeAttribute("id"),i.parentNode.replaceChild(f,i),n.length===g&&r++}}(e);var s,a,l=t.Object.__uid++,c=y(e),u=t.util.toArray(e.getElementsByTagName("*"));if(c.crossOrigin=o&&o.crossOrigin,c.svgUid=l,0===u.length&&t.isLikelyNode){var d=[];for(s=0,a=(u=e.selectNodes('//*[name(.)!="svg"]')).length;s<a;s++)d[s]=u[s];u=d}var h=u.filter((function(e){return y(e),t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))&&!function(e,t){for(;e&&(e=e.parentNode);)if(e.nodeName&&t.test(e.nodeName.replace("svg:",""))&&!e.getAttribute("instantiated_by_use"))return!0;return!1}(e,t.svgInvalidAncestorsRegEx)}));if(!h||h&&!h.length)n&&n([],{});else{var f={};u.filter((function(e){return"clipPath"===e.nodeName.replace("svg:","")})).forEach((function(e){var n=e.getAttribute("id");f[n]=t.util.toArray(e.getElementsByTagName("*")).filter((function(e){return t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))}))})),t.gradientDefs[l]=t.getGradientDefs(e),t.cssRules[l]=t.getCSSRules(e),t.clipPaths[l]=f,t.parseElements(h,(function(e,r){n&&(n(e,c,r,u),delete t.gradientDefs[l],delete t.cssRules[l],delete t.clipPaths[l])}),r(c),i,o)}}};var x=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+t.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+t.reNum+"))?\\s+(.*)");n(t,{parseFontDeclaration:function(e,t){var n=e.match(x);if(n){var r=n[1],i=n[3],s=n[4],a=n[5],l=n[6];r&&(t.fontStyle=r),i&&(t.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),s&&(t.fontSize=o(s)),l&&(t.fontFamily=l),a&&(t.lineHeight="normal"===a?1:a)}},getGradientDefs:function(e){var t,n=p(e,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),r=0,i={};for(r=n.length;r--;)(t=n[r]).getAttribute("xlink:href")&&w(e,t),i[t.getAttribute("id")]=t;return i},parseAttributes:function(e,r,s){if(e){var a,f,p,g={};"undefined"===typeof s&&(s=e.getAttribute("svgUid")),e.parentNode&&t.svgValidParentsRegEx.test(e.parentNode.nodeName)&&(g=t.parseAttributes(e.parentNode,r,s));var v=r.reduce((function(t,n){return(a=e.getAttribute(n))&&(t[n]=a),t}),{}),b=n(function(e,n){var r={};for(var i in t.cssRules[n])if(m(e,i.split(" ")))for(var o in t.cssRules[n][i])r[o]=t.cssRules[n][i][o];return r}(e,s),t.parseStyleAttribute(e));v=n(v,b),b[u]&&e.setAttribute(u,b[u]),f=p=g.fontSize||t.Text.DEFAULT_SVG_FONT_SIZE,v[c]&&(v[c]=f=o(v[c],p));var y,w,x={};for(var _ in v)w=h(y=d(_),v[_],g,f),x[y]=w;x&&x.font&&t.parseFontDeclaration(x.font,x);var C=n(g,x);return t.svgValidParentsRegEx.test(e.nodeName)?C:function(e){for(var n in l)if("undefined"!==typeof e[l[n]]&&""!==e[n]){if("undefined"===typeof e[n]){if(!t.Object.prototype[n])continue;e[n]=t.Object.prototype[n]}if(0!==e[n].indexOf("url(")){var r=new t.Color(e[n]);e[n]=r.setAlpha(i(r.getAlpha()*e[l[n]],2)).toRgba()}}return e}(C)}},parseElements:function(e,n,r,i,o){new t.ElementsParser(e,n,r,i,o).parse()},parseStyleAttribute:function(e){var t={},n=e.getAttribute("style");return n?("string"===typeof n?function(e,t){var n,r;e.replace(/;\s*$/,"").split(";").forEach((function(e){var i=e.split(":");n=i[0].trim().toLowerCase(),r=i[1].trim(),t[n]=r}))}(n,t):function(e,t){var n,r;for(var i in e)"undefined"!==typeof e[i]&&(n=i.toLowerCase(),r=e[i],t[n]=r)}(n,t),t):t},parsePointsAttribute:function(e){if(!e)return null;var t,n,r=[];for(t=0,n=(e=(e=e.replace(/,/g," ").trim()).split(/\s+/)).length;t<n;t+=2)r.push({x:parseFloat(e[t]),y:parseFloat(e[t+1])});return r},getCSSRules:function(e){var n,r,i=e.getElementsByTagName("style"),o={};for(n=0,r=i.length;n<r;n++){var s=i[n].textContent;""!==(s=s.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&s.match(/[^{]*\{[\s\S]*?\}/g).map((function(e){return e.trim()})).forEach((function(e){var i=e.match(/([\s\S]*?)\s*\{([^}]*)\}/),s={},a=i[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(n=0,r=a.length;n<r;n++){var l=a[n].split(/\s*:\s*/),c=l[0],u=l[1];s[c]=u}(e=i[1]).split(",").forEach((function(e){""!==(e=e.replace(/^svg/i,"").trim())&&(o[e]?t.util.object.extend(o[e],s):o[e]=t.util.object.clone(s))}))}))}return o},loadSVGFromURL:function(e,n,r,i){e=e.replace(/^\n\s*/,"").trim(),new t.util.request(e,{method:"get",onComplete:function(e){var o=e.responseXML;if(!o||!o.documentElement)return n&&n(null),!1;t.parseSVGDocument(o.documentElement,(function(e,t,r,i){n&&n(e,t,r,i)}),r,i)}})},loadSVGFromString:function(e,n,r,i){var o=(new t.window.DOMParser).parseFromString(e.trim(),"text/xml");t.parseSVGDocument(o.documentElement,(function(e,t,r,i){n(e,t,r,i)}),r,i)}})}(t),i.ElementsParser=function(e,t,n,r,i,o){this.elements=e,this.callback=t,this.options=n,this.reviver=r,this.svgUid=n&&n.svgUid||0,this.parsingOptions=i,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=o},(r=i.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},r.createObjects=function(){var e=this;this.elements.forEach((function(t,n){t.setAttribute("svgUid",e.svgUid),e.createObject(t,n)}))},r.findTag=function(e){return i[i.util.string.capitalize(e.tagName.replace("svg:",""))]},r.createObject=function(e,t){var n=this.findTag(e);if(n&&n.fromElement)try{n.fromElement(e,this.createCallback(t,e),this.options)}catch(r){i.log(r)}else this.checkIfDone()},r.createCallback=function(e,t){var n=this;return function(r){var o;n.resolveGradient(r,t,"fill"),n.resolveGradient(r,t,"stroke"),r instanceof i.Image&&r._originalElement&&(o=r.parsePreserveAspectRatioAttribute(t)),r._removeTransformMatrix(o),n.resolveClipPath(r,t),n.reviver&&n.reviver(t,r),n.instances[e]=r,n.checkIfDone()}},r.extractPropertyDefinition=function(e,t,n){var r=e[t],o=this.regexUrl;if(o.test(r)){o.lastIndex=0;var s=o.exec(r)[1];return o.lastIndex=0,i[n][this.svgUid][s]}},r.resolveGradient=function(e,t,n){var r=this.extractPropertyDefinition(e,n,"gradientDefs");if(r){var o=t.getAttribute(n+"-opacity"),s=i.Gradient.fromElement(r,e,o,this.options);e.set(n,s)}},r.createClipPathCallback=function(e,t){return function(e){e._removeTransformMatrix(),e.fillRule=e.clipRule,t.push(e)}},r.resolveClipPath=function(e,t){var n,r,o,s,a=this.extractPropertyDefinition(e,"clipPath","clipPaths");if(a){o=[],r=i.util.invertTransform(e.calcTransformMatrix());for(var l=a[0].parentNode,c=t;c.parentNode&&c.getAttribute("clip-path")!==e.clipPath;)c=c.parentNode;c.parentNode.appendChild(l);for(var u=0;u<a.length;u++)n=a[u],this.findTag(n).fromElement(n,this.createClipPathCallback(e,o),this.options);a=1===o.length?o[0]:new i.Group(o),s=i.util.multiplyTransformMatrices(r,a.calcTransformMatrix()),a.clipPath&&this.resolveClipPath(a,c);var d=i.util.qrDecompose(s);a.flipX=!1,a.flipY=!1,a.set("scaleX",d.scaleX),a.set("scaleY",d.scaleY),a.angle=d.angle,a.skewX=d.skewX,a.skewY=0,a.setPositionByOrigin({x:d.translateX,y:d.translateY},"center","center"),e.clipPath=a}else delete e.clipPath},r.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter((function(e){return null!=e})),this.callback(this.instances,this.elements))},function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e,t){this.x=e,this.y=t}t.Point?t.warn("fabric.Point is already defined"):(t.Point=n,n.prototype={type:"point",constructor:n,add:function(e){return new n(this.x+e.x,this.y+e.y)},addEquals:function(e){return this.x+=e.x,this.y+=e.y,this},scalarAdd:function(e){return new n(this.x+e,this.y+e)},scalarAddEquals:function(e){return this.x+=e,this.y+=e,this},subtract:function(e){return new n(this.x-e.x,this.y-e.y)},subtractEquals:function(e){return this.x-=e.x,this.y-=e.y,this},scalarSubtract:function(e){return new n(this.x-e,this.y-e)},scalarSubtractEquals:function(e){return this.x-=e,this.y-=e,this},multiply:function(e){return new n(this.x*e,this.y*e)},multiplyEquals:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return new n(this.x/e,this.y/e)},divideEquals:function(e){return this.x/=e,this.y/=e,this},eq:function(e){return this.x===e.x&&this.y===e.y},lt:function(e){return this.x<e.x&&this.y<e.y},lte:function(e){return this.x<=e.x&&this.y<=e.y},gt:function(e){return this.x>e.x&&this.y>e.y},gte:function(e){return this.x>=e.x&&this.y>=e.y},lerp:function(e,t){return"undefined"===typeof t&&(t=.5),t=Math.max(Math.min(1,t),0),new n(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)},distanceFrom:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},midPointFrom:function(e){return this.lerp(e)},min:function(e){return new n(Math.min(this.x,e.x),Math.min(this.y,e.y))},max:function(e){return new n(Math.max(this.x,e.x),Math.max(this.y,e.y))},toString:function(){return this.x+","+this.y},setXY:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setFromPoint:function(e){return this.x=e.x,this.y=e.y,this},swap:function(e){var t=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=n},clone:function(){return new n(this.x,this.y)}})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){this.status=e,this.points=[]}t.Intersection?t.warn("fabric.Intersection is already defined"):(t.Intersection=n,t.Intersection.prototype={constructor:n,appendPoint:function(e){return this.points.push(e),this},appendPoints:function(e){return this.points=this.points.concat(e),this}},t.Intersection.intersectLineLine=function(e,r,i,o){var s,a=(o.x-i.x)*(e.y-i.y)-(o.y-i.y)*(e.x-i.x),l=(r.x-e.x)*(e.y-i.y)-(r.y-e.y)*(e.x-i.x),c=(o.y-i.y)*(r.x-e.x)-(o.x-i.x)*(r.y-e.y);if(0!==c){var u=a/c,d=l/c;0<=u&&u<=1&&0<=d&&d<=1?(s=new n("Intersection")).appendPoint(new t.Point(e.x+u*(r.x-e.x),e.y+u*(r.y-e.y))):s=new n}else s=new n(0===a||0===l?"Coincident":"Parallel");return s},t.Intersection.intersectLinePolygon=function(e,t,r){var i,o,s,a,l=new n,c=r.length;for(a=0;a<c;a++)i=r[a],o=r[(a+1)%c],s=n.intersectLineLine(e,t,i,o),l.appendPoints(s.points);return l.points.length>0&&(l.status="Intersection"),l},t.Intersection.intersectPolygonPolygon=function(e,t){var r,i=new n,o=e.length;for(r=0;r<o;r++){var s=e[r],a=e[(r+1)%o],l=n.intersectLinePolygon(s,a,t);i.appendPoints(l.points)}return i.points.length>0&&(i.status="Intersection"),i},t.Intersection.intersectPolygonRectangle=function(e,r,i){var o=r.min(i),s=r.max(i),a=new t.Point(s.x,o.y),l=new t.Point(o.x,s.y),c=n.intersectLinePolygon(o,a,e),u=n.intersectLinePolygon(a,s,e),d=n.intersectLinePolygon(s,l,e),h=n.intersectLinePolygon(l,o,e),f=new n;return f.appendPoints(c.points),f.appendPoints(u.points),f.appendPoints(d.points),f.appendPoints(h.points),f.points.length>0&&(f.status="Intersection"),f})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){e?this._tryParsingColor(e):this.setSource([0,0,0,1])}function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}t.Color?t.warn("fabric.Color is already defined."):(t.Color=n,t.Color.prototype={_tryParsingColor:function(e){var t;e in n.colorNameMap&&(e=n.colorNameMap[e]),"transparent"===e&&(t=[255,255,255,0]),t||(t=n.sourceFromHex(e)),t||(t=n.sourceFromRgb(e)),t||(t=n.sourceFromHsl(e)),t||(t=[0,0,0,1]),t&&this.setSource(t)},_rgbToHsl:function(e,n,r){e/=255,n/=255,r/=255;var i,o,s,a=t.util.array.max([e,n,r]),l=t.util.array.min([e,n,r]);if(s=(a+l)/2,a===l)i=o=0;else{var c=a-l;switch(o=s>.5?c/(2-a-l):c/(a+l),a){case e:i=(n-r)/c+(n<r?6:0);break;case n:i=(r-e)/c+2;break;case r:i=(e-n)/c+4}i/=6}return[Math.round(360*i),Math.round(100*o),Math.round(100*s)]},getSource:function(){return this._source},setSource:function(e){this._source=e},toRgb:function(){var e=this.getSource();return"rgb("+e[0]+","+e[1]+","+e[2]+")"},toRgba:function(){var e=this.getSource();return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},toHsl:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsl("+t[0]+","+t[1]+"%,"+t[2]+"%)"},toHsla:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsla("+t[0]+","+t[1]+"%,"+t[2]+"%,"+e[3]+")"},toHex:function(){var e,t,n,r=this.getSource();return e=1===(e=r[0].toString(16)).length?"0"+e:e,t=1===(t=r[1].toString(16)).length?"0"+t:t,n=1===(n=r[2].toString(16)).length?"0"+n:n,e.toUpperCase()+t.toUpperCase()+n.toUpperCase()},toHexa:function(){var e,t=this.getSource();return e=1===(e=(e=Math.round(255*t[3])).toString(16)).length?"0"+e:e,this.toHex()+e.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(e){var t=this.getSource();return t[3]=e,this.setSource(t),this},toGrayscale:function(){var e=this.getSource(),t=parseInt((.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),10),n=e[3];return this.setSource([t,t,t,n]),this},toBlackWhite:function(e){var t=this.getSource(),n=(.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),r=t[3];return e=e||127,n=Number(n)<Number(e)?0:255,this.setSource([n,n,n,r]),this},overlayWith:function(e){e instanceof n||(e=new n(e));var t,r=[],i=this.getAlpha(),o=this.getSource(),s=e.getSource();for(t=0;t<3;t++)r.push(Math.round(.5*o[t]+.5*s[t]));return r[3]=i,this.setSource(r),this}},t.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,t.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,t.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,t.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},t.Color.fromRgb=function(e){return n.fromSource(n.sourceFromRgb(e))},t.Color.sourceFromRgb=function(e){var t=e.match(n.reRGBa);if(t){var r=parseInt(t[1],10)/(/%$/.test(t[1])?100:1)*(/%$/.test(t[1])?255:1),i=parseInt(t[2],10)/(/%$/.test(t[2])?100:1)*(/%$/.test(t[2])?255:1),o=parseInt(t[3],10)/(/%$/.test(t[3])?100:1)*(/%$/.test(t[3])?255:1);return[parseInt(r,10),parseInt(i,10),parseInt(o,10),t[4]?parseFloat(t[4]):1]}},t.Color.fromRgba=n.fromRgb,t.Color.fromHsl=function(e){return n.fromSource(n.sourceFromHsl(e))},t.Color.sourceFromHsl=function(e){var t=e.match(n.reHSLa);if(t){var i,o,s,a=(parseFloat(t[1])%360+360)%360/360,l=parseFloat(t[2])/(/%$/.test(t[2])?100:1),c=parseFloat(t[3])/(/%$/.test(t[3])?100:1);if(0===l)i=o=s=c;else{var u=c<=.5?c*(l+1):c+l-c*l,d=2*c-u;i=r(d,u,a+1/3),o=r(d,u,a),s=r(d,u,a-1/3)}return[Math.round(255*i),Math.round(255*o),Math.round(255*s),t[4]?parseFloat(t[4]):1]}},t.Color.fromHsla=n.fromHsl,t.Color.fromHex=function(e){return n.fromSource(n.sourceFromHex(e))},t.Color.sourceFromHex=function(e){if(e.match(n.reHex)){var t=e.slice(e.indexOf("#")+1),r=3===t.length||4===t.length,i=8===t.length||4===t.length,o=r?t.charAt(0)+t.charAt(0):t.substring(0,2),s=r?t.charAt(1)+t.charAt(1):t.substring(2,4),a=r?t.charAt(2)+t.charAt(2):t.substring(4,6),l=i?r?t.charAt(3)+t.charAt(3):t.substring(6,8):"FF";return[parseInt(o,16),parseInt(s,16),parseInt(a,16),parseFloat((parseInt(l,16)/255).toFixed(2))]}},t.Color.fromSource=function(e){var t=new n;return t.setSource(e),t})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=["e","se","s","sw","w","nw","n","ne","e"],r=["ns","nesw","ew","nwse"],i={},o="left",s="top",a="right",l="bottom",c="center",u={top:l,bottom:s,left:a,right:o,center:c},d=t.util.radiansToDegrees,h=Math.sign||function(e){return(e>0)-(e<0)||+e};function f(e,t){var n=e.angle+d(Math.atan2(t.y,t.x))+360;return Math.round(n%360/45)}function p(e,n){var r=n.transform.target,i=r.canvas,o=t.util.object.clone(n);o.target=r,i&&i.fire("object:"+e,o),r.fire(e,n)}function m(e,t){var n=t.canvas,r=e[n.uniScaleKey];return n.uniformScaling&&!r||!n.uniformScaling&&r}function g(e){return e.originX===c&&e.originY===c}function v(e,t,n){var r=e.lockScalingX,i=e.lockScalingY;return!(!r||!i)||!(t||!r&&!i||!n)||!(!r||"x"!==t)||!(!i||"y"!==t)}function b(e,t,n,r){return{e:e,transform:t,pointer:{x:n,y:r}}}function y(e){return function(t,n,r,i){var o=n.target,s=o.getCenterPoint(),a=o.translateToOriginPoint(s,n.originX,n.originY),l=e(t,n,r,i);return o.setPositionByOrigin(a,n.originX,n.originY),l}}function w(e,t){return function(n,r,i,o){var s=t(n,r,i,o);return s&&p(e,b(n,r,i,o)),s}}function x(e,n,r,i,o){var s=e.target,a=s.controls[e.corner],l=s.canvas.getZoom(),c=s.padding/l,u=s.toLocalPoint(new t.Point(i,o),n,r);return u.x>=c&&(u.x-=c),u.x<=-c&&(u.x+=c),u.y>=c&&(u.y-=c),u.y<=c&&(u.y+=c),u.x-=a.offsetX,u.y-=a.offsetY,u}function _(e){return e.flipX!==e.flipY}function C(e,t,n,r,i){if(0!==e[t]){var o=i/e._getTransformedDimensions()[r]*e[n];e.set(n,o)}}function k(e,t,n,r){var i,c=t.target,u=c._getTransformedDimensions(0,c.skewY),h=x(t,t.originX,t.originY,n,r),f=Math.abs(2*h.x)-u.x,p=c.skewX;f<2?i=0:(i=d(Math.atan2(f/c.scaleX,u.y/c.scaleY)),t.originX===o&&t.originY===l&&(i=-i),t.originX===a&&t.originY===s&&(i=-i),_(c)&&(i=-i));var m=p!==i;if(m){var g=c._getTransformedDimensions().y;c.set("skewX",i),C(c,"skewY","scaleY","y",g)}return m}function S(e,t,n,r){var i,c=t.target,u=c._getTransformedDimensions(c.skewX,0),h=x(t,t.originX,t.originY,n,r),f=Math.abs(2*h.y)-u.y,p=c.skewY;f<2?i=0:(i=d(Math.atan2(f/c.scaleY,u.x/c.scaleX)),t.originX===o&&t.originY===l&&(i=-i),t.originX===a&&t.originY===s&&(i=-i),_(c)&&(i=-i));var m=p!==i;if(m){var g=c._getTransformedDimensions().x;c.set("skewY",i),C(c,"skewX","scaleX","x",g)}return m}function A(e,t,n,r,i){i=i||{};var o,s,a,l,c,d,f=t.target,p=f.lockScalingX,b=f.lockScalingY,y=i.by,w=m(e,f),_=v(f,y,w),C=t.gestureScale;if(_)return!1;if(C)s=t.scaleX*C,a=t.scaleY*C;else{if(o=x(t,t.originX,t.originY,n,r),c="y"!==y?h(o.x):1,d="x"!==y?h(o.y):1,t.signX||(t.signX=c),t.signY||(t.signY=d),f.lockScalingFlip&&(t.signX!==c||t.signY!==d))return!1;if(l=f._getTransformedDimensions(),w&&!y){var k=Math.abs(o.x)+Math.abs(o.y),S=t.original,A=k/(Math.abs(l.x*S.scaleX/f.scaleX)+Math.abs(l.y*S.scaleY/f.scaleY));s=S.scaleX*A,a=S.scaleY*A}else s=Math.abs(o.x*f.scaleX/l.x),a=Math.abs(o.y*f.scaleY/l.y);g(t)&&(s*=2,a*=2),t.signX!==c&&"y"!==y&&(t.originX=u[t.originX],s*=-1,t.signX=c),t.signY!==d&&"x"!==y&&(t.originY=u[t.originY],a*=-1,t.signY=d)}var T=f.scaleX,I=f.scaleY;return y?("x"===y&&f.set("scaleX",s),"y"===y&&f.set("scaleY",a)):(!p&&f.set("scaleX",s),!b&&f.set("scaleY",a)),T!==f.scaleX||I!==f.scaleY}i.scaleCursorStyleHandler=function(e,t,r){var i=m(e,r),o="";if(0!==t.x&&0===t.y?o="x":0===t.x&&0!==t.y&&(o="y"),v(r,o,i))return"not-allowed";var s=f(r,t);return n[s]+"-resize"},i.skewCursorStyleHandler=function(e,t,n){var i="not-allowed";if(0!==t.x&&n.lockSkewingY)return i;if(0!==t.y&&n.lockSkewingX)return i;var o=f(n,t)%4;return r[o]+"-resize"},i.scaleSkewCursorStyleHandler=function(e,t,n){return e[n.canvas.altActionKey]?i.skewCursorStyleHandler(e,t,n):i.scaleCursorStyleHandler(e,t,n)},i.rotationWithSnapping=w("rotating",y((function(e,t,n,r){var i=t,o=i.target,s=o.translateToOriginPoint(o.getCenterPoint(),i.originX,i.originY);if(o.lockRotation)return!1;var a,l=Math.atan2(i.ey-s.y,i.ex-s.x),c=Math.atan2(r-s.y,n-s.x),u=d(c-l+i.theta);if(o.snapAngle>0){var h=o.snapAngle,f=o.snapThreshold||h,p=Math.ceil(u/h)*h,m=Math.floor(u/h)*h;Math.abs(u-m)<f?u=m:Math.abs(u-p)<f&&(u=p)}return u<0&&(u=360+u),u%=360,a=o.angle!==u,o.angle=u,a}))),i.scalingEqually=w("scaling",y((function(e,t,n,r){return A(e,t,n,r)}))),i.scalingX=w("scaling",y((function(e,t,n,r){return A(e,t,n,r,{by:"x"})}))),i.scalingY=w("scaling",y((function(e,t,n,r){return A(e,t,n,r,{by:"y"})}))),i.scalingYOrSkewingX=function(e,t,n,r){return e[t.target.canvas.altActionKey]?i.skewHandlerX(e,t,n,r):i.scalingY(e,t,n,r)},i.scalingXOrSkewingY=function(e,t,n,r){return e[t.target.canvas.altActionKey]?i.skewHandlerY(e,t,n,r):i.scalingX(e,t,n,r)},i.changeWidth=w("resizing",y((function(e,t,n,r){var i=t.target,o=x(t,t.originX,t.originY,n,r),s=i.strokeWidth/(i.strokeUniform?i.scaleX:1),a=g(t)?2:1,l=i.width,c=Math.abs(o.x*a/i.scaleX)-s;return i.set("width",Math.max(c,0)),l!==c}))),i.skewHandlerX=function(e,t,n,r){var i,l=t.target,u=l.skewX,d=t.originY;return!l.lockSkewingX&&(0===u?i=x(t,c,c,n,r).x>0?o:a:(u>0&&(i=d===s?o:a),u<0&&(i=d===s?a:o),_(l)&&(i=i===o?a:o)),t.originX=i,w("skewing",y(k))(e,t,n,r))},i.skewHandlerY=function(e,t,n,r){var i,a=t.target,u=a.skewY,d=t.originX;return!a.lockSkewingY&&(0===u?i=x(t,c,c,n,r).y>0?s:l:(u>0&&(i=d===o?s:l),u<0&&(i=d===o?l:s),_(a)&&(i=i===s?l:s)),t.originY=i,w("skewing",y(S))(e,t,n,r))},i.dragHandler=function(e,t,n,r){var i=t.target,o=n-t.offsetX,s=r-t.offsetY,a=!i.get("lockMovementX")&&i.left!==o,l=!i.get("lockMovementY")&&i.top!==s;return a&&i.set("left",o),l&&i.set("top",s),(a||l)&&p("moving",b(e,t,n,r)),a||l},i.scaleOrSkewActionName=function(e,t,n){var r=e[n.canvas.altActionKey];return 0===t.x?r?"skewX":"scaleY":0===t.y?r?"skewY":"scaleX":void 0},i.rotationStyleHandler=function(e,t,n){return n.lockRotation?"not-allowed":t.cursorStyle},i.fireEvent=p,i.wrapWithFixedAnchor=y,i.wrapWithFireEvent=w,i.getLocalPoint=x,t.controlsUtils=i}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.degreesToRadians,r=t.controlsUtils;r.renderCircleControl=function(e,t,n,r,i){r=r||{};var o,s=this.sizeX||r.cornerSize||i.cornerSize,a=this.sizeY||r.cornerSize||i.cornerSize,l="undefined"!==typeof r.transparentCorners?r.transparentCorners:i.transparentCorners,c=l?"stroke":"fill",u=!l&&(r.cornerStrokeColor||i.cornerStrokeColor),d=t,h=n;e.save(),e.fillStyle=r.cornerColor||i.cornerColor,e.strokeStyle=r.cornerStrokeColor||i.cornerStrokeColor,s>a?(o=s,e.scale(1,a/s),h=n*s/a):a>s?(o=a,e.scale(s/a,1),d=t*a/s):o=s,e.lineWidth=1,e.beginPath(),e.arc(d,h,o/2,0,2*Math.PI,!1),e[c](),u&&e.stroke(),e.restore()},r.renderSquareControl=function(e,t,r,i,o){i=i||{};var s=this.sizeX||i.cornerSize||o.cornerSize,a=this.sizeY||i.cornerSize||o.cornerSize,l="undefined"!==typeof i.transparentCorners?i.transparentCorners:o.transparentCorners,c=l?"stroke":"fill",u=!l&&(i.cornerStrokeColor||o.cornerStrokeColor),d=s/2,h=a/2;e.save(),e.fillStyle=i.cornerColor||o.cornerColor,e.strokeStyle=i.cornerStrokeColor||o.cornerStrokeColor,e.lineWidth=1,e.translate(t,r),e.rotate(n(o.angle)),e[c+"Rect"](-d,-h,s,a),u&&e.strokeRect(-d,-h,s,a),e.restore()}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Control=function(e){for(var t in e)this[t]=e[t]},t.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(e,t){return t.cursorStyle},getActionName:function(e,t){return t.actionName},getVisibility:function(e,t){var n=e._controlsVisibility;return n&&"undefined"!==typeof n[t]?n[t]:this.visible},setVisibility:function(e){this.visible=e},positionHandler:function(e,n){return t.util.transformPoint({x:this.x*e.x+this.offsetX,y:this.y*e.y+this.offsetY},n)},calcCornerCoords:function(e,n,r,i,o){var s,a,l,c,u=o?this.touchSizeX:this.sizeX,d=o?this.touchSizeY:this.sizeY;if(u&&d&&u!==d){var h=Math.atan2(d,u),f=Math.sqrt(u*u+d*d)/2,p=h-t.util.degreesToRadians(e),m=Math.PI/2-h-t.util.degreesToRadians(e);s=f*t.util.cos(p),a=f*t.util.sin(p),l=f*t.util.cos(m),c=f*t.util.sin(m)}else f=.7071067812*(u&&d?u:n),p=t.util.degreesToRadians(45-e),s=l=f*t.util.cos(p),a=c=f*t.util.sin(p);return{tl:{x:r-c,y:i-l},tr:{x:r+s,y:i-a},bl:{x:r-s,y:i+a},br:{x:r+c,y:i+l}}},render:function(e,n,r,i,o){"circle"===((i=i||{}).cornerStyle||o.cornerStyle)?t.controlsUtils.renderCircleControl.call(this,e,n,r,i,o):t.controlsUtils.renderSquareControl.call(this,e,n,r,i,o)}}}(t),function(){function e(e,t){var n,r,o,s,a=e.getAttribute("style"),l=e.getAttribute("offset")||0;if(l=(l=parseFloat(l)/(/%$/.test(l)?100:1))<0?0:l>1?1:l,a){var c=a.split(/\s*;\s*/);for(""===c[c.length-1]&&c.pop(),s=c.length;s--;){var u=c[s].split(/\s*:\s*/),d=u[0].trim(),h=u[1].trim();"stop-color"===d?n=h:"stop-opacity"===d&&(o=h)}}return n||(n=e.getAttribute("stop-color")||"rgb(0,0,0)"),o||(o=e.getAttribute("stop-opacity")),r=(n=new i.Color(n)).getAlpha(),o=isNaN(parseFloat(o))?1:parseFloat(o),o*=r*t,{offset:l,color:n.toRgb(),opacity:o}}var t=i.util.object.clone;i.Gradient=i.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(e){e||(e={}),e.coords||(e.coords={});var t,n=this;Object.keys(e).forEach((function(t){n[t]=e[t]})),this.id?this.id+="_"+i.Object.__uid++:this.id=i.Object.__uid++,t={x1:e.coords.x1||0,y1:e.coords.y1||0,x2:e.coords.x2||0,y2:e.coords.y2||0},"radial"===this.type&&(t.r1=e.coords.r1||0,t.r2=e.coords.r2||0),this.coords=t,this.colorStops=e.colorStops.slice()},addColorStop:function(e){for(var t in e){var n=new i.Color(e[t]);this.colorStops.push({offset:parseFloat(t),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(e){var t={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return i.util.populateWithProperties(this,t,e),t},toSVG:function(e,n){var r,o,s,a,l=t(this.coords,!0),c=(n=n||{},t(this.colorStops,!0)),u=l.r1>l.r2,d=this.gradientTransform?this.gradientTransform.concat():i.iMatrix.concat(),h=-this.offsetX,f=-this.offsetY,p=!!n.additionalTransform,m="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(c.sort((function(e,t){return e.offset-t.offset})),"objectBoundingBox"===m?(h/=e.width,f/=e.height):(h+=e.width/2,f+=e.height/2),"path"===e.type&&"percentage"!==this.gradientUnits&&(h-=e.pathOffset.x,f-=e.pathOffset.y),d[4]-=h,d[5]-=f,a='id="SVGID_'+this.id+'" gradientUnits="'+m+'"',a+=' gradientTransform="'+(p?n.additionalTransform+" ":"")+i.util.matrixToSVG(d)+'" ',"linear"===this.type?s=["<linearGradient ",a,' x1="',l.x1,'" y1="',l.y1,'" x2="',l.x2,'" y2="',l.y2,'">\n']:"radial"===this.type&&(s=["<radialGradient ",a,' cx="',u?l.x1:l.x2,'" cy="',u?l.y1:l.y2,'" r="',u?l.r1:l.r2,'" fx="',u?l.x2:l.x1,'" fy="',u?l.y2:l.y1,'">\n']),"radial"===this.type){if(u)for((c=c.concat()).reverse(),r=0,o=c.length;r<o;r++)c[r].offset=1-c[r].offset;var g=Math.min(l.r1,l.r2);if(g>0){var v=g/Math.max(l.r1,l.r2);for(r=0,o=c.length;r<o;r++)c[r].offset+=v*(1-c[r].offset)}}for(r=0,o=c.length;r<o;r++){var b=c[r];s.push("<stop ",'offset="',100*b.offset+"%",'" style="stop-color:',b.color,"undefined"!==typeof b.opacity?";stop-opacity: "+b.opacity:";",'"/>\n')}return s.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),s.join("")},toLive:function(e){var t,n,r,o=i.util.object.clone(this.coords);if(this.type){for("linear"===this.type?t=e.createLinearGradient(o.x1,o.y1,o.x2,o.y2):"radial"===this.type&&(t=e.createRadialGradient(o.x1,o.y1,o.r1,o.x2,o.y2,o.r2)),n=0,r=this.colorStops.length;n<r;n++){var s=this.colorStops[n].color,a=this.colorStops[n].opacity,l=this.colorStops[n].offset;"undefined"!==typeof a&&(s=new i.Color(s).setAlpha(a).toRgba()),t.addColorStop(l,s)}return t}}}),i.util.object.extend(i.Gradient,{fromElement:function(t,n,r,o){var s=parseFloat(r)/(/%$/.test(r)?100:1);s=s<0?0:s>1?1:s,isNaN(s)&&(s=1);var a,l,c,u,d=t.getElementsByTagName("stop"),h="userSpaceOnUse"===t.getAttribute("gradientUnits")?"pixels":"percentage",f=t.getAttribute("gradientTransform")||"",p=[],m=0,g=0;for("linearGradient"===t.nodeName||"LINEARGRADIENT"===t.nodeName?(a="linear",l=function(e){return{x1:e.getAttribute("x1")||0,y1:e.getAttribute("y1")||0,x2:e.getAttribute("x2")||"100%",y2:e.getAttribute("y2")||0}}(t)):(a="radial",l=function(e){return{x1:e.getAttribute("fx")||e.getAttribute("cx")||"50%",y1:e.getAttribute("fy")||e.getAttribute("cy")||"50%",r1:0,x2:e.getAttribute("cx")||"50%",y2:e.getAttribute("cy")||"50%",r2:e.getAttribute("r")||"50%"}}(t)),c=d.length;c--;)p.push(e(d[c],s));return u=i.parseTransformAttribute(f),function(e,t,n,r){var i,o;Object.keys(t).forEach((function(e){"Infinity"===(i=t[e])?o=1:"-Infinity"===i?o=0:(o=parseFloat(t[e],10),"string"===typeof i&&/^(\d+\.\d+)%|(\d+)%$/.test(i)&&(o*=.01,"pixels"===r&&("x1"!==e&&"x2"!==e&&"r2"!==e||(o*=n.viewBoxWidth||n.width),"y1"!==e&&"y2"!==e||(o*=n.viewBoxHeight||n.height)))),t[e]=o}))}(0,l,o,h),"pixels"===h&&(m=-n.left,g=-n.top),new i.Gradient({id:t.getAttribute("id"),type:a,coords:l,colorStops:p,gradientUnits:h,gradientTransform:u,offsetX:m,offsetY:g})}})}(),function(){"use strict";var e=i.util.toFixed;i.Pattern=i.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(e,t){if(e||(e={}),this.id=i.Object.__uid++,this.setOptions(e),!e.source||e.source&&"string"!==typeof e.source)t&&t(this);else{var n=this;this.source=i.util.createImage(),i.util.loadImage(e.source,(function(e,r){n.source=e,t&&t(n,r)}),null,this.crossOrigin)}},toObject:function(t){var n,r,o=i.Object.NUM_FRACTION_DIGITS;return"string"===typeof this.source.src?n=this.source.src:"object"===typeof this.source&&this.source.toDataURL&&(n=this.source.toDataURL()),r={type:"pattern",source:n,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:e(this.offsetX,o),offsetY:e(this.offsetY,o),patternTransform:this.patternTransform?this.patternTransform.concat():null},i.util.populateWithProperties(this,r,t),r},toSVG:function(e){var t="function"===typeof this.source?this.source():this.source,n=t.width/e.width,r=t.height/e.height,i=this.offsetX/e.width,o=this.offsetY/e.height,s="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(r=1,o&&(r+=Math.abs(o))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,i&&(n+=Math.abs(i))),t.src?s=t.src:t.toDataURL&&(s=t.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+i+'" y="'+o+'" width="'+n+'" height="'+r+'">\n<image x="0" y="0" width="'+t.width+'" height="'+t.height+'" xlink:href="'+s+'"></image>\n</pattern>\n'},setOptions:function(e){for(var t in e)this[t]=e[t]},toLive:function(e){var t=this.source;if(!t)return"";if("undefined"!==typeof t.src){if(!t.complete)return"";if(0===t.naturalWidth||0===t.naturalHeight)return""}return e.createPattern(t,this.repeat)}})}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.toFixed;t.Shadow?t.warn("fabric.Shadow is already defined."):(t.Shadow=t.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(e){for(var n in"string"===typeof e&&(e=this._parseShadow(e)),e)this[n]=e[n];this.id=t.Object.__uid++},_parseShadow:function(e){var n=e.trim(),r=t.Shadow.reOffsetsAndBlur.exec(n)||[];return{color:(n.replace(t.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(r[1],10)||0,offsetY:parseFloat(r[2],10)||0,blur:parseFloat(r[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(e){var r=40,i=40,o=t.Object.NUM_FRACTION_DIGITS,s=t.util.rotateVector({x:this.offsetX,y:this.offsetY},t.util.degreesToRadians(-e.angle)),a=new t.Color(this.color);return e.width&&e.height&&(r=100*n((Math.abs(s.x)+this.blur)/e.width,o)+20,i=100*n((Math.abs(s.y)+this.blur)/e.height,o)+20),e.flipX&&(s.x*=-1),e.flipY&&(s.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+i+'%" height="'+(100+2*i)+'%" x="-'+r+'%" width="'+(100+2*r)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(s.x,o)+'" dy="'+n(s.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+a.toRgb()+'" flood-opacity="'+a.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var e={},n=t.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(t){this[t]!==n[t]&&(e[t]=this[t])}),this),e}}),t.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(t),function(){"use strict";if(i.StaticCanvas)i.warn("fabric.StaticCanvas is already defined.");else{var e=i.util.object.extend,t=i.util.getElementOffset,n=i.util.removeFromArray,r=i.util.toFixed,o=i.util.transformPoint,s=i.util.invertTransform,a=i.util.getNodeCanvas,l=i.util.createCanvasElement,c=new Error("Could not initialize `canvas` element");i.StaticCanvas=i.util.createClass(i.CommonMethods,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:i.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(e,t){var n=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(e),this._initOptions(t),this.interactive||this._initRetinaScaling(),t.overlayImage&&this.setOverlayImage(t.overlayImage,n),t.backgroundImage&&this.setBackgroundImage(t.backgroundImage,n),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor,n),t.overlayColor&&this.setOverlayColor(t.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return 1!==i.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?i.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var e=i.devicePixelRatio;this.__initRetinaScaling(e,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(e,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(e,t,n){t.setAttribute("width",this.width*e),t.setAttribute("height",this.height*e),n.scale(e,e)},calcOffset:function(){return this._offset=t(this.lowerCanvasEl),this},setOverlayImage:function(e,t,n){return this.__setBgOverlayImage("overlayImage",e,t,n)},setBackgroundImage:function(e,t,n){return this.__setBgOverlayImage("backgroundImage",e,t,n)},setOverlayColor:function(e,t){return this.__setBgOverlayColor("overlayColor",e,t)},setBackgroundColor:function(e,t){return this.__setBgOverlayColor("backgroundColor",e,t)},__setBgOverlayImage:function(e,t,n,r){return"string"===typeof t?i.util.loadImage(t,(function(t,o){if(t){var s=new i.Image(t,r);this[e]=s,s.canvas=this}n&&n(t,o)}),this,r&&r.crossOrigin):(r&&t.setOptions(r),this[e]=t,t&&(t.canvas=this),n&&n(t,!1)),this},__setBgOverlayColor:function(e,t,n){return this[e]=t,this._initGradient(t,e),this._initPattern(t,e,n),this},_createCanvasElement:function(){var e=l();if(!e)throw c;if(e.style||(e.style={}),"undefined"===typeof e.getContext)throw c;return e},_initOptions:function(e){var t=this.lowerCanvasEl;this._setOptions(e),this.width=this.width||parseInt(t.width,10)||0,this.height=this.height||parseInt(t.height,10)||0,this.lowerCanvasEl.style&&(t.width=this.width,t.height=this.height,t.style.width=this.width+"px",t.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(e){e&&e.getContext?this.lowerCanvasEl=e:this.lowerCanvasEl=i.util.getById(e)||this._createCanvasElement(),i.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(e,t){return this.setDimensions({width:e},t)},setHeight:function(e,t){return this.setDimensions({height:e},t)},setDimensions:function(e,t){var n;for(var r in t=t||{},e)n=e[r],t.cssOnly||(this._setBackstoreDimension(r,e[r]),n+="px",this.hasLostContext=!0),t.backstoreOnly||this._setCssDimension(r,n);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),t.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(e,t){return this.lowerCanvasEl[e]=t,this.upperCanvasEl&&(this.upperCanvasEl[e]=t),this.cacheCanvasEl&&(this.cacheCanvasEl[e]=t),this[e]=t,this},_setCssDimension:function(e,t){return this.lowerCanvasEl.style[e]=t,this.upperCanvasEl&&(this.upperCanvasEl.style[e]=t),this.wrapperEl&&(this.wrapperEl.style[e]=t),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(e){var t,n,r,i=this._activeObject,o=this.backgroundImage,s=this.overlayImage;for(this.viewportTransform=e,n=0,r=this._objects.length;n<r;n++)(t=this._objects[n]).group||t.setCoords(!0);return i&&i.setCoords(),o&&o.setCoords(!0),s&&s.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(e,t){var n=e,r=this.viewportTransform.slice(0);e=o(e,s(this.viewportTransform)),r[0]=t,r[3]=t;var i=o(e,r);return r[4]+=n.x-i.x,r[5]+=n.y-i.y,this.setViewportTransform(r)},setZoom:function(e){return this.zoomToPoint(new i.Point(0,0),e),this},absolutePan:function(e){var t=this.viewportTransform.slice(0);return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)},relativePan:function(e){return this.absolutePan(new i.Point(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(e){this.stateful&&e.setupState(),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added")},_onObjectRemoved:function(e){this.fire("object:removed",{target:e}),e.fire("removed"),delete e.canvas},clearContext:function(e){return e.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var e=this.contextContainer;return this.renderCanvas(e,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=i.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var e={},t=this.width,n=this.height,r=s(this.viewportTransform);return e.tl=o({x:0,y:0},r),e.br=o({x:t,y:n},r),e.tr=new i.Point(e.br.x,e.tl.y),e.bl=new i.Point(e.tl.x,e.br.y),this.vptCoords=e,e},cancelRequestedRender:function(){this.isRendering&&(i.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(e,t){var n=this.viewportTransform,r=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(e),i.util.setImageSmoothing(e,this.imageSmoothingEnabled),this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,t),e.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),r&&(r.canvas=this,r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e)),this._renderOverlay(e),this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.fire("after:render",{ctx:e})},drawClipPathOnCanvas:function(e){var t=this.viewportTransform,n=this.clipPath;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e.globalCompositeOperation="destination-in",n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},_renderObjects:function(e,t){var n,r;for(n=0,r=t.length;n<r;++n)t[n]&&t[n].render(e)},_renderBackgroundOrOverlay:function(e,t){var n=this[t+"Color"],r=this[t+"Image"],i=this.viewportTransform,o=this[t+"Vpt"];if(n||r){if(n){e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=n.toLive?n.toLive(e,this):n,o&&e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);var s=n.gradientTransform||n.patternTransform;s&&e.transform(s[0],s[1],s[2],s[3],s[4],s[5]),e.fill(),e.restore()}r&&(e.save(),o&&e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),r.render(e),e.restore())}},_renderBackground:function(e){this._renderBackgroundOrOverlay(e,"background")},_renderOverlay:function(e){this._renderBackgroundOrOverlay(e,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(e){return this._centerObject(e,new i.Point(this.getCenter().left,e.getCenterPoint().y))},centerObjectV:function(e){return this._centerObject(e,new i.Point(e.getCenterPoint().x,this.getCenter().top))},centerObject:function(e){var t=this.getCenter();return this._centerObject(e,new i.Point(t.left,t.top))},viewportCenterObject:function(e){var t=this.getVpCenter();return this._centerObject(e,t)},viewportCenterObjectH:function(e){var t=this.getVpCenter();return this._centerObject(e,new i.Point(t.x,e.getCenterPoint().y)),this},viewportCenterObjectV:function(e){var t=this.getVpCenter();return this._centerObject(e,new i.Point(e.getCenterPoint().x,t.y))},getVpCenter:function(){var e=this.getCenter(),t=s(this.viewportTransform);return o({x:e.left,y:e.top},t)},_centerObject:function(e,t){return e.setPositionByOrigin(t,"center","center"),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(e){return this.toDatalessObject(e)},toObject:function(e){return this._toObjectMethod("toObject",e)},toDatalessObject:function(e){return this._toObjectMethod("toDatalessObject",e)},_toObjectMethod:function(t,n){var r=this.clipPath,o={version:i.version,objects:this._toObjects(t,n)};return r&&!r.excludeFromExport&&(o.clipPath=this._toObject(this.clipPath,t,n)),e(o,this.__serializeBgOverlay(t,n)),i.util.populateWithProperties(this,o,n),o},_toObjects:function(e,t){return this._objects.filter((function(e){return!e.excludeFromExport})).map((function(n){return this._toObject(n,e,t)}),this)},_toObject:function(e,t,n){var r;this.includeDefaultValues||(r=e.includeDefaultValues,e.includeDefaultValues=!1);var i=e[t](n);return this.includeDefaultValues||(e.includeDefaultValues=r),i},__serializeBgOverlay:function(e,t){var n={},r=this.backgroundImage,i=this.overlayImage,o=this.backgroundColor,s=this.overlayColor;return o&&o.toObject?o.excludeFromExport||(n.background=o.toObject(t)):o&&(n.background=o),s&&s.toObject?s.excludeFromExport||(n.overlay=s.toObject(t)):s&&(n.overlay=s),r&&!r.excludeFromExport&&(n.backgroundImage=this._toObject(r,e,t)),i&&!i.excludeFromExport&&(n.overlayImage=this._toObject(i,e,t)),n},svgViewportTransformation:!0,toSVG:function(e,t){e||(e={}),e.reviver=t;var n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",t),this._setSVGObjects(n,t),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",t),n.push("</svg>"),n.join("")},_setSVGPreamble:function(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(e,t){var n,o=t.width||this.width,s=t.height||this.height,a='viewBox="0 0 '+this.width+" "+this.height+'" ',l=i.Object.NUM_FRACTION_DIGITS;t.viewBox?a='viewBox="'+t.viewBox.x+" "+t.viewBox.y+" "+t.viewBox.width+" "+t.viewBox.height+'" ':this.svgViewportTransformation&&(n=this.viewportTransform,a='viewBox="'+r(-n[4]/n[0],l)+" "+r(-n[5]/n[3],l)+" "+r(this.width/n[0],l)+" "+r(this.height/n[3],l)+'" '),e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',o,'" ','height="',s,'" ',a,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",i.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),"</defs>\n")},createSVGClipPathMarkup:function(e){var t=this.clipPath;return t?(t.clipPathId="CLIPPATH_"+i.Object.__uid++,'<clipPath id="'+t.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(e.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var e=this;return["background","overlay"].map((function(t){var n=e[t+"Color"];if(n&&n.toLive){var r=e[t+"Vpt"],o=e.viewportTransform,s={width:e.width/(r?o[0]:1),height:e.height/(r?o[3]:1)};return n.toSVG(s,{additionalTransform:r?i.util.matrixToSVG(o):""})}})).join("")},createSVGFontFacesMarkup:function(){var e,t,n,r,o,s,a,l,c="",u={},d=i.fontPaths,h=[];for(this._objects.forEach((function e(t){h.push(t),t._objects&&t._objects.forEach(e)})),a=0,l=h.length;a<l;a++)if(t=(e=h[a]).fontFamily,-1!==e.type.indexOf("text")&&!u[t]&&d[t]&&(u[t]=!0,e.styles))for(o in n=e.styles)for(s in r=n[o])!u[t=r[s].fontFamily]&&d[t]&&(u[t]=!0);for(var f in u)c+=["\t\t@font-face {\n","\t\t\tfont-family: '",f,"';\n","\t\t\tsrc: url('",d[f],"');\n","\t\t}\n"].join("");return c&&(c=['\t<style type="text/css">',"<![CDATA[\n",c,"]]>","</style>\n"].join("")),c},_setSVGObjects:function(e,t){var n,r,i,o=this._objects;for(r=0,i=o.length;r<i;r++)(n=o[r]).excludeFromExport||this._setSVGObject(e,n,t)},_setSVGObject:function(e,t,n){e.push(t.toSVG(n))},_setSVGBgOverlayImage:function(e,t,n){this[t]&&!this[t].excludeFromExport&&this[t].toSVG&&e.push(this[t].toSVG(n))},_setSVGBgOverlayColor:function(e,t){var n=this[t+"Color"],r=this.viewportTransform,o=this.width,s=this.height;if(n)if(n.toLive){var a=n.repeat,l=i.util.invertTransform(r),c=this[t+"Vpt"]?i.util.matrixToSVG(l):"";e.push('<rect transform="'+c+" translate(",o/2,",",s/2,')"',' x="',n.offsetX-o/2,'" y="',n.offsetY-s/2,'" ','width="',"repeat-y"===a||"no-repeat"===a?n.source.width:o,'" height="',"repeat-x"===a||"no-repeat"===a?n.source.height:s,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")},sendToBack:function(e){if(!e)return this;var t,r,i,o=this._activeObject;if(e===o&&"activeSelection"===e.type)for(t=(i=o._objects).length;t--;)r=i[t],n(this._objects,r),this._objects.unshift(r);else n(this._objects,e),this._objects.unshift(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(e){if(!e)return this;var t,r,i,o=this._activeObject;if(e===o&&"activeSelection"===e.type)for(i=o._objects,t=0;t<i.length;t++)r=i[t],n(this._objects,r),this._objects.push(r);else n(this._objects,e),this._objects.push(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(e,t){if(!e)return this;var r,i,o,s,a,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(a=l._objects,r=0;r<a.length;r++)i=a[r],(o=this._objects.indexOf(i))>0+c&&(s=o-1,n(this._objects,i),this._objects.splice(s,0,i)),c++;else 0!==(o=this._objects.indexOf(e))&&(s=this._findNewLowerIndex(e,o,t),n(this._objects,e),this._objects.splice(s,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(e,t,n){var r,i;if(n){for(r=t,i=t-1;i>=0;--i)if(e.intersectsWithObject(this._objects[i])||e.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(e)){r=i;break}}else r=t-1;return r},bringForward:function(e,t){if(!e)return this;var r,i,o,s,a,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(r=(a=l._objects).length;r--;)i=a[r],(o=this._objects.indexOf(i))<this._objects.length-1-c&&(s=o+1,n(this._objects,i),this._objects.splice(s,0,i)),c++;else(o=this._objects.indexOf(e))!==this._objects.length-1&&(s=this._findNewUpperIndex(e,o,t),n(this._objects,e),this._objects.splice(s,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(e,t,n){var r,i,o;if(n){for(r=t,i=t+1,o=this._objects.length;i<o;++i)if(e.intersectsWithObject(this._objects[i])||e.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(e)){r=i;break}}else r=t+1;return r},moveTo:function(e,t){return n(this._objects,e),this._objects.splice(t,0,e),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(i.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(e){e.dispose&&e.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),i.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),e(i.StaticCanvas.prototype,i.Observable),e(i.StaticCanvas.prototype,i.Collection),e(i.StaticCanvas.prototype,i.DataURLExporter),e(i.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(e){var t=l();if(!t||!t.getContext)return null;var n=t.getContext("2d");return n&&"setLineDash"===e?"undefined"!==typeof n.setLineDash:null}}),i.StaticCanvas.prototype.toJSON=i.StaticCanvas.prototype.toObject,i.isLikelyNode&&(i.StaticCanvas.prototype.createPNGStream=function(){var e=a(this.lowerCanvasEl);return e&&e.createPNGStream()},i.StaticCanvas.prototype.createJPEGStream=function(e){var t=a(this.lowerCanvasEl);return t&&t.createJPEGStream(e)})}}(),i.BaseBrush=i.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var e=this.canvas.contextTop;e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,e.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(e){var t=this.canvas.viewportTransform;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},_setShadow:function(){if(this.shadow){var e=this.canvas,t=this.shadow,n=e.contextTop,r=e.getZoom();e&&e._isRetinaScaling()&&(r*=i.devicePixelRatio),n.shadowColor=t.color,n.shadowBlur=t.blur*r,n.shadowOffsetX=t.offsetX*r,n.shadowOffsetY=t.offsetY*r}},needsFullRender:function(){return new i.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0},_isOutSideCanvas:function(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}}),i.PencilBrush=i.util.createClass(i.BaseBrush,{decimate:.4,initialize:function(e){this.canvas=e,this._points=[]},_drawSegment:function(e,t,n){var r=t.midPointFrom(n);return e.quadraticCurveTo(t.x,t.y,r.x,r.y),r},onMouseDown:function(e,t){this.canvas._isMainEvent(t.e)&&(this._prepareForDrawing(e),this._captureDrawingPath(e),this._render())},onMouseMove:function(e,t){if(this.canvas._isMainEvent(t.e)&&(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(e))&&this._captureDrawingPath(e)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var n=this._points,r=n.length,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(i,n[r-2],n[r-1],!0),i.stroke(),i.restore()}},onMouseUp:function(e){return!this.canvas._isMainEvent(e.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(e){var t=new i.Point(e.x,e.y);this._reset(),this._addPoint(t),this.canvas.contextTop.moveTo(t.x,t.y)},_addPoint:function(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1]))&&(this._points.push(e),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(e){var t=new i.Point(e.x,e.y);return this._addPoint(t)},_render:function(){var e,t,n=this.canvas.contextTop,r=this._points[0],o=this._points[1];if(this._saveAndTransform(n),n.beginPath(),2===this._points.length&&r.x===o.x&&r.y===o.y){var s=this.width/1e3;r=new i.Point(r.x,r.y),o=new i.Point(o.x,o.y),r.x-=s,o.x+=s}for(n.moveTo(r.x,r.y),e=1,t=this._points.length;e<t;e++)this._drawSegment(n,r,o),r=this._points[e],o=this._points[e+1];n.lineTo(r.x,r.y),n.stroke(),n.restore()},convertPointsToSVGPath:function(e){var t=this.width/1e3;return i.util.getSmoothPathFromPoints(e,t)},_isEmptySVGPath:function(e){return"M 0 0 Q 0 0 0 0 L 0 0"===i.util.joinPath(e)},createPath:function(e){var t=new i.Path(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,t.shadow=new i.Shadow(this.shadow)),t},decimatePoints:function(e,t){if(e.length<=2)return e;var n,r=this.canvas.getZoom(),i=Math.pow(t/r,2),o=e.length-1,s=e[0],a=[s];for(n=1;n<o-1;n++)Math.pow(s.x-e[n].x,2)+Math.pow(s.y-e[n].y,2)>=i&&(s=e[n],a.push(s));return a.push(e[o]),a},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var e=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(e))this.canvas.requestRenderAll();else{var t=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:t}),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t})}}}),i.CircleBrush=i.util.createClass(i.BaseBrush,{width:10,initialize:function(e){this.canvas=e,this.points=[]},drawDot:function(e){var t=this.addPoint(e),n=this.canvas.contextTop;this._saveAndTransform(n),this.dot(n,t),n.restore()},dot:function(e,t){e.fillStyle=t.fill,e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),e.closePath(),e.fill()},onMouseDown:function(e){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(e)},_render:function(){var e,t,n=this.canvas.contextTop,r=this.points;for(this._saveAndTransform(n),e=0,t=r.length;e<t;e++)this.dot(n,r[e]);n.restore()},onMouseMove:function(e){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(e)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(e),this._render()):this.drawDot(e))},onMouseUp:function(){var e,t,n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var r=[];for(e=0,t=this.points.length;e<t;e++){var o=this.points[e],s=new i.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(s.shadow=new i.Shadow(this.shadow)),r.push(s)}var a=new i.Group(r);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()},addPoint:function(e){var t=new i.Point(e.x,e.y),n=i.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,r=new i.Color(this.color).setAlpha(i.util.getRandomInt(0,100)/100).toRgba();return t.radius=n,t.fill=r,this.points.push(t),t}}),i.SprayBrush=i.util.createClass(i.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(e){this.canvas=e,this.sprayChunks=[]},onMouseDown:function(e){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(e),this.render(this.sprayChunkPoints)},onMouseMove:function(e){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(e)||(this.addSprayChunk(e),this.render(this.sprayChunkPoints))},onMouseUp:function(){var e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var t=[],n=0,r=this.sprayChunks.length;n<r;n++)for(var o=this.sprayChunks[n],s=0,a=o.length;s<a;s++){var l=new i.Rect({width:o[s].width,height:o[s].width,left:o[s].x+1,top:o[s].y+1,originX:"center",originY:"center",fill:this.color});t.push(l)}this.optimizeOverlapping&&(t=this._getOptimizedRects(t));var c=new i.Group(t);this.shadow&&c.set("shadow",new i.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.fire("path:created",{path:c}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()},_getOptimizedRects:function(e){var t,n,r,i={};for(n=0,r=e.length;n<r;n++)i[t=e[n].left+""+e[n].top]||(i[t]=e[n]);var o=[];for(t in i)o.push(i[t]);return o},render:function(e){var t,n,r=this.canvas.contextTop;for(r.fillStyle=this.color,this._saveAndTransform(r),t=0,n=e.length;t<n;t++){var i=e[t];"undefined"!==typeof i.opacity&&(r.globalAlpha=i.opacity),r.fillRect(i.x,i.y,i.width,i.width)}r.restore()},_render:function(){var e,t,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),e=0,t=this.sprayChunks.length;e<t;e++)this.render(this.sprayChunks[e]);n.restore()},addSprayChunk:function(e){this.sprayChunkPoints=[];var t,n,r,o,s=this.width/2;for(o=0;o<this.density;o++){t=i.util.getRandomInt(e.x-s,e.x+s),n=i.util.getRandomInt(e.y-s,e.y+s),r=this.dotWidthVariance?i.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var a=new i.Point(t,n);a.width=r,this.randomOpacity&&(a.opacity=i.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),i.PatternBrush=i.util.createClass(i.PencilBrush,{getPatternSrc:function(){var e=i.util.createCanvasElement(),t=e.getContext("2d");return e.width=e.height=25,t.fillStyle=this.color,t.beginPath(),t.arc(10,10,10,0,2*Math.PI,!1),t.closePath(),t.fill(),e},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(e){var t=this.callSuper("createPath",e),n=t._getLeftTopCoords().scalarAdd(t.strokeWidth/2);return t.stroke=new i.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),t}}),function(){var e=i.util.getPointer,t=i.util.degreesToRadians,n=i.util.isTouchEvent;for(var r in i.Canvas=i.util.createClass(i.StaticCanvas,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=i.PencilBrush&&new i.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var e,t,n,r=this.getActiveObjects();if(r.length>0&&!this.preserveObjectStacking){t=[],n=[];for(var i=0,o=this._objects.length;i<o;i++)e=this._objects[i],-1===r.indexOf(e)?t.push(e):n.push(e);r.length>1&&(this._activeObject._objects=n),t.push.apply(t,n)}else t=this._objects;return t},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var e=this.contextContainer;return this.renderCanvas(e,this._chooseObjectsToRender()),this},renderTopLayer:function(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()},renderTop:function(){var e=this.contextTop;return this.clearContext(e),this.renderTopLayer(e),this.fire("after:render"),this},_normalizePointer:function(e,t){var n=e.calcTransformMatrix(),r=i.util.invertTransform(n),o=this.restorePointerVpt(t);return i.util.transformPoint(o,r)},isTargetTransparent:function(e,t,n){if(e.shouldCache()&&e._cacheCanvas&&e!==this._activeObject){var r=this._normalizePointer(e,{x:t,y:n}),o=Math.max(e.cacheTranslationX+r.x*e.zoomX,0),s=Math.max(e.cacheTranslationY+r.y*e.zoomY,0);return i.util.isTransparent(e._cacheContext,Math.round(o),Math.round(s),this.targetFindTolerance)}var a=this.contextCache,l=e.selectionBackgroundColor,c=this.viewportTransform;return e.selectionBackgroundColor="",this.clearContext(a),a.save(),a.transform(c[0],c[1],c[2],c[3],c[4],c[5]),e.render(a),a.restore(),e.selectionBackgroundColor=l,i.util.isTransparent(a,t,n,this.targetFindTolerance)},_isSelectionKeyPressed:function(e){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find((function(t){return!0===e[t]})):e[this.selectionKey]},_shouldClearSelection:function(e,t){var n=this.getActiveObjects(),r=this._activeObject;return!t||t&&r&&n.length>1&&-1===n.indexOf(t)&&r!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&r&&r!==t},_shouldCenterTransform:function(e,t,n){var r;if(e)return"scale"===t||"scaleX"===t||"scaleY"===t||"resizing"===t?r=this.centeredScaling||e.centeredScaling:"rotate"===t&&(r=this.centeredRotation||e.centeredRotation),r?!n:n},_getOriginFromCorner:function(e,t){var n={x:e.originX,y:e.originY};return"ml"===t||"tl"===t||"bl"===t?n.x="right":"mr"!==t&&"tr"!==t&&"br"!==t||(n.x="left"),"tl"===t||"mt"===t||"tr"===t?n.y="bottom":"bl"!==t&&"mb"!==t&&"br"!==t||(n.y="top"),n},_getActionFromCorner:function(e,t,n,r){if(!t||!e)return"drag";var i=r.controls[t];return i.getActionName(n,i,r)},_setupCurrentTransform:function(e,n,r){if(n){var o=this.getPointer(e),s=n.__corner,a=n.controls[s],l=r&&s?a.getActionHandler(e,n,a):i.controlsUtils.dragHandler,c=this._getActionFromCorner(r,s,e,n),u=this._getOriginFromCorner(n,s),d=e[this.centeredKey],h={target:n,action:c,actionHandler:l,corner:s,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:o.x-n.left,offsetY:o.y-n.top,originX:u.x,originY:u.y,ex:o.x,ey:o.y,lastX:o.x,lastY:o.y,theta:t(n.angle),width:n.width*n.scaleX,shiftKey:e.shiftKey,altKey:d,original:i.util.saveObjectTransform(n)};this._shouldCenterTransform(n,c,d)&&(h.originX="center",h.originY="center"),h.original.originX=u.x,h.original.originY=u.y,this._currentTransform=h,this._beforeTransform(e)}},setCursor:function(e){this.upperCanvasEl.style.cursor=e},_drawSelection:function(e){var t=this._groupSelector,n=new i.Point(t.ex,t.ey),r=i.util.transformPoint(n,this.viewportTransform),o=new i.Point(t.ex+t.left,t.ey+t.top),s=i.util.transformPoint(o,this.viewportTransform),a=Math.min(r.x,s.x),l=Math.min(r.y,s.y),c=Math.max(r.x,s.x),u=Math.max(r.y,s.y),d=this.selectionLineWidth/2;this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(a,l,c-a,u-l)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,a+=d,l+=d,c-=d,u-=d,i.Object.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(a,l,c-a,u-l))},findTarget:function(e,t){if(!this.skipTargetFind){var r,i,o=this.getPointer(e,!0),s=this._activeObject,a=this.getActiveObjects(),l=n(e),c=a.length>1&&!t||1===a.length;if(this.targets=[],c&&s._findTargetCorner(o,l))return s;if(a.length>1&&!t&&s===this._searchPossibleTargets([s],o))return s;if(1===a.length&&s===this._searchPossibleTargets([s],o)){if(!this.preserveObjectStacking)return s;r=s,i=this.targets,this.targets=[]}var u=this._searchPossibleTargets(this._objects,o);return e[this.altSelectionKey]&&u&&r&&u!==r&&(u=r,this.targets=i),u}},_checkTarget:function(e,t,n){if(t&&t.visible&&t.evented&&t.containsPoint(e)){if(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing)return!0;if(!this.isTargetTransparent(t,n.x,n.y))return!0}},_searchPossibleTargets:function(e,t){for(var n,r,o=e.length;o--;){var s=e[o],a=s.group?this._normalizePointer(s.group,t):t;if(this._checkTarget(a,s,t)){(n=e[o]).subTargetCheck&&n instanceof i.Group&&(r=this._searchPossibleTargets(n._objects,t))&&this.targets.push(r);break}}return n},restorePointerVpt:function(e){return i.util.transformPoint(e,i.util.invertTransform(this.viewportTransform))},getPointer:function(t,n){if(this._absolutePointer&&!n)return this._absolutePointer;if(this._pointer&&n)return this._pointer;var r,i=e(t),o=this.upperCanvasEl,s=o.getBoundingClientRect(),a=s.width||0,l=s.height||0;a&&l||("top"in s&&"bottom"in s&&(l=Math.abs(s.top-s.bottom)),"right"in s&&"left"in s&&(a=Math.abs(s.right-s.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,n||(i=this.restorePointerVpt(i));var c=this.getRetinaScaling();return 1!==c&&(i.x/=c,i.y/=c),r=0===a||0===l?{width:1,height:1}:{width:o.width/a,height:o.height/l},{x:i.x*r.width,y:i.y*r.height}},_createUpperCanvas:function(){var e=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),t=this.lowerCanvasEl,n=this.upperCanvasEl;n?n.className="":(n=this._createCanvasElement(),this.upperCanvasEl=n),i.util.addClass(n,"upper-canvas "+e),this.wrapperEl.appendChild(n),this._copyCanvasStyle(t,n),this._applyCanvasStyle(n),this.contextTop=n.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=i.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),i.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),i.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(e){var t=this.width||e.width,n=this.height||e.height;i.util.setStyle(e,{position:"absolute",width:t+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),e.width=t,e.height=n,i.util.makeElementUnselectable(e)},_copyCanvasStyle:function(e,t){t.style.cssText=e.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var e=this._activeObject;return e?"activeSelection"===e.type&&e._objects?e._objects.slice(0):[e]:[]},_onObjectRemoved:function(e){e===this._activeObject&&(this.fire("before:selection:cleared",{target:e}),this._discardActiveObject(),this.fire("selection:cleared",{target:e}),e.fire("deselected")),e===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",e)},_fireSelectionEvents:function(e,t){var n=!1,r=this.getActiveObjects(),i=[],o=[];e.forEach((function(e){-1===r.indexOf(e)&&(n=!0,e.fire("deselected",{e:t,target:e}),o.push(e))})),r.forEach((function(r){-1===e.indexOf(r)&&(n=!0,r.fire("selected",{e:t,target:r}),i.push(r))})),e.length>0&&r.length>0?n&&this.fire("selection:updated",{e:t,selected:i,deselected:o,updated:i[0]||o[0],target:this._activeObject}):r.length>0?this.fire("selection:created",{e:t,selected:i,target:this._activeObject}):e.length>0&&this.fire("selection:cleared",{e:t,deselected:o})},setActiveObject:function(e,t){var n=this.getActiveObjects();return this._setActiveObject(e,t),this._fireSelectionEvents(n,t),this},_setActiveObject:function(e,t){return this._activeObject!==e&&!!this._discardActiveObject(t,e)&&!e.onSelect({e:t})&&(this._activeObject=e,!0)},_discardActiveObject:function(e,t){var n=this._activeObject;if(n){if(n.onDeselect({e:e,object:t}))return!1;this._activeObject=null}return!0},discardActiveObject:function(e){var t=this.getActiveObjects(),n=this.getActiveObject();return t.length&&this.fire("before:selection:cleared",{target:n,e:e}),this._discardActiveObject(e),this._fireSelectionEvents(t,e),this},dispose:function(){var e=this.wrapperEl;return this.removeListeners(),e.removeChild(this.upperCanvasEl),e.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(e){i.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this)),e.parentNode&&e.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,i.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(e){var t=this._activeObject;t&&t._renderControls(e)},_toObject:function(e,t,n){var r=this._realizeGroupTransformOnObject(e),i=this.callSuper("_toObject",e,t,n);return this._unwindGroupTransformOnObject(e,r),i},_realizeGroupTransformOnObject:function(e){if(e.group&&"activeSelection"===e.group.type&&this._activeObject===e.group){var t={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(n){t[n]=e[n]})),i.util.addTransformToObject(e,this._activeObject.calcOwnMatrix()),t}return null},_unwindGroupTransformOnObject:function(e,t){t&&e.set(t)},_setSVGObject:function(e,t,n){var r=this._realizeGroupTransformOnObject(t);this.callSuper("_setSVGObject",e,t,n),this._unwindGroupTransformOnObject(t,r)},setViewportTransform:function(e){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),i.StaticCanvas.prototype.setViewportTransform.call(this,e)}}),i.StaticCanvas)"prototype"!==r&&(i.Canvas[r]=i.StaticCanvas[r])}(),function(){var e=i.util.addListener,t=i.util.removeListener,n={passive:!1};function r(e,t){return e.button&&e.button===t-1}i.util.object.extend(i.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(e,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(e,t){var r=this.upperCanvasEl,o=this._getEventPrefix();e(i.window,"resize",this._onResize),e(r,o+"down",this._onMouseDown),e(r,o+"move",this._onMouseMove,n),e(r,o+"out",this._onMouseOut),e(r,o+"enter",this._onMouseEnter),e(r,"wheel",this._onMouseWheel),e(r,"contextmenu",this._onContextMenu),e(r,"dblclick",this._onDoubleClick),e(r,"dragover",this._onDragOver),e(r,"dragenter",this._onDragEnter),e(r,"dragleave",this._onDragLeave),e(r,"drop",this._onDrop),this.enablePointerEvents||e(r,"touchstart",this._onTouchStart,n),"undefined"!==typeof eventjs&&t in eventjs&&(eventjs[t](r,"gesture",this._onGesture),eventjs[t](r,"drag",this._onDrag),eventjs[t](r,"orientation",this._onOrientationChange),eventjs[t](r,"shake",this._onShake),eventjs[t](r,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(t,"remove");var e=this._getEventPrefix();t(i.document,e+"up",this._onMouseUp),t(i.document,"touchend",this._onTouchEnd,n),t(i.document,e+"move",this._onMouseMove,n),t(i.document,"touchmove",this._onMouseMove,n)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(e,t){this.__onTransformGesture&&this.__onTransformGesture(e,t)},_onDrag:function(e,t){this.__onDrag&&this.__onDrag(e,t)},_onMouseWheel:function(e){this.__onMouseWheel(e)},_onMouseOut:function(e){var t=this._hoveredTarget;this.fire("mouse:out",{target:t,e:e}),this._hoveredTarget=null,t&&t.fire("mouseout",{e:e});var n=this;this._hoveredTargets.forEach((function(r){n.fire("mouse:out",{target:t,e:e}),r&&t.fire("mouseout",{e:e})})),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach((function(e){e.isEditing&&e.hiddenTextarea.focus()}))},_onMouseEnter:function(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",{target:null,e:e}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(e,t){this.__onOrientationChange&&this.__onOrientationChange(e,t)},_onShake:function(e,t){this.__onShake&&this.__onShake(e,t)},_onLongPress:function(e,t){this.__onLongPress&&this.__onLongPress(e,t)},_onDragOver:function(e){e.preventDefault();var t=this._simpleEventHandler("dragover",e);this._fireEnterLeaveEvents(t,e)},_onContextMenu:function(e){return this.stopContextMenu&&(e.stopPropagation(),e.preventDefault()),!1},_onDoubleClick:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData(e)},getPointerId:function(e){var t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1},_isMainEvent:function(e){return!0===e.isPrimary||!1!==e.isPrimary&&("touchend"===e.type&&0===e.touches.length||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)},_onTouchStart:function(r){r.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(r)),this.__onMouseDown(r),this._resetTransformEventData();var o=this.upperCanvasEl,s=this._getEventPrefix();e(i.document,"touchend",this._onTouchEnd,n),e(i.document,"touchmove",this._onMouseMove,n),t(o,s+"down",this._onMouseDown)},_onMouseDown:function(r){this.__onMouseDown(r),this._resetTransformEventData();var o=this.upperCanvasEl,s=this._getEventPrefix();t(o,s+"move",this._onMouseMove,n),e(i.document,s+"up",this._onMouseUp),e(i.document,s+"move",this._onMouseMove,n)},_onTouchEnd:function(r){if(!(r.touches.length>0)){this.__onMouseUp(r),this._resetTransformEventData(),this.mainTouchId=null;var o=this._getEventPrefix();t(i.document,"touchend",this._onTouchEnd,n),t(i.document,"touchmove",this._onMouseMove,n);var s=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){e(s.upperCanvasEl,o+"down",s._onMouseDown),s._willAddMouseDown=0}),400)}},_onMouseUp:function(r){this.__onMouseUp(r),this._resetTransformEventData();var o=this.upperCanvasEl,s=this._getEventPrefix();this._isMainEvent(r)&&(t(i.document,s+"up",this._onMouseUp),t(i.document,s+"move",this._onMouseMove,n),e(o,s+"move",this._onMouseMove,n))},_onMouseMove:function(e){!this.allowTouchScrolling&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)},_onResize:function(){this.calcOffset()},_shouldRender:function(e){var t=this._activeObject;return!!(!!t!==!!e||t&&e&&t!==e)||(t&&t.isEditing,!1)},__onMouseUp:function(e){var t,n=this._currentTransform,o=this._groupSelector,s=!1,a=!o||0===o.left&&0===o.top;if(this._cacheTransformEventData(e),t=this._target,this._handleEvent(e,"up:before"),r(e,3))this.fireRightClick&&this._handleEvent(e,"up",3,a);else{if(r(e,2))return this.fireMiddleClick&&this._handleEvent(e,"up",2,a),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(e);else if(this._isMainEvent(e)){if(n&&(this._finalizeCurrentTransform(e),s=n.actionPerformed),!a){var l=t===this._activeObject;this._maybeGroupObjects(e),s||(s=this._shouldRender(t)||!l&&t===this._activeObject)}if(t){if(t.selectable&&t!==this._activeObject&&"up"===t.activeOn)this.setActiveObject(t,e),s=!0;else{var c=t._findTargetCorner(this.getPointer(e,!0),i.util.isTouchEvent(e)),u=t.controls[c],d=u&&u.getMouseUpHandler(e,t,u);if(d){var h=this.getPointer(e);d(e,n,h.x,h.y)}}t.isMoving=!1}this._setCursorFromEvent(e,t),this._handleEvent(e,"up",1,a),this._groupSelector=null,this._currentTransform=null,t&&(t.__corner=0),s?this.requestRenderAll():a||this.renderTop()}}},_simpleEventHandler:function(e,t){var n=this.findTarget(t),r=this.targets,i={e:t,target:n,subTargets:r};if(this.fire(e,i),n&&n.fire(e,i),!r)return n;for(var o=0;o<r.length;o++)r[o].fire(e,i);return n},_handleEvent:function(e,t,n,r){var i=this._target,o=this.targets||[],s={e:e,target:i,subTargets:o,button:n||1,isClick:r||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===t&&(s.currentTarget=this.findTarget(e),s.currentSubTargets=this.targets),this.fire("mouse:"+t,s),i&&i.fire("mouse"+t,s);for(var a=0;a<o.length;a++)o[a].fire("mouse"+t,s)},_finalizeCurrentTransform:function(e){var t,n=this._currentTransform,r=n.target,i={e:e,target:r,transform:n,action:n.action};r._scaling&&(r._scaling=!1),r.setCoords(),(n.actionPerformed||this.stateful&&r.hasStateChanged())&&(n.actionPerformed&&(t=this._addEventOptions(i,n),this._fire(t,i)),this._fire("modified",i))},_addEventOptions:function(e,t){var n,r;switch(t.action){case"scaleX":n="scaled",r="x";break;case"scaleY":n="scaled",r="y";break;case"skewX":n="skewed",r="x";break;case"skewY":n="skewed",r="y";break;case"scale":n="scaled",r="equally";break;case"rotate":n="rotated";break;case"drag":n="moved"}return e.by=r,n},_onMouseDownInDrawingMode:function(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(e).requestRenderAll();var t=this.getPointer(e);this.freeDrawingBrush.onMouseDown(t,{e:e,pointer:t}),this._handleEvent(e,"down")},_onMouseMoveInDrawingMode:function(e){if(this._isCurrentlyDrawing){var t=this.getPointer(e);this.freeDrawingBrush.onMouseMove(t,{e:e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")},_onMouseUpInDrawingMode:function(e){var t=this.getPointer(e);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:e,pointer:t}),this._handleEvent(e,"up")},__onMouseDown:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"down:before");var t=this._target;if(r(e,3))this.fireRightClick&&this._handleEvent(e,"down",3);else if(r(e,2))this.fireMiddleClick&&this._handleEvent(e,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(e);else if(this._isMainEvent(e)&&!this._currentTransform){var n=this._pointer;this._previousPointer=n;var o=this._shouldRender(t),s=this._shouldGroup(e,t);if(this._shouldClearSelection(e,t)?this.discardActiveObject(e):s&&(this._handleGrouping(e,t),t=this._activeObject),!this.selection||t&&(t.selectable||t.isEditing||t===this._activeObject)||(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),t){var a=t===this._activeObject;t.selectable&&"down"===t.activeOn&&this.setActiveObject(t,e);var l=t._findTargetCorner(this.getPointer(e,!0),i.util.isTouchEvent(e));if(t.__corner=l,t===this._activeObject&&(l||!s)){this._setupCurrentTransform(e,t,a);var c=t.controls[l],u=(n=this.getPointer(e),c&&c.getMouseDownHandler(e,t,c));u&&u(e,this._currentTransform,n.x,n.y)}}this._handleEvent(e,"down"),(o||s)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(e){this._resetTransformEventData(),this._pointer=this.getPointer(e,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)||null},_beforeTransform:function(e){var t=this._currentTransform;this.stateful&&t.target.saveState(),this.fire("before:transform",{e:e,transform:t})},__onMouseMove:function(e){var t,n;if(this._handleEvent(e,"move:before"),this._cacheTransformEventData(e),this.isDrawingMode)this._onMouseMoveInDrawingMode(e);else if(this._isMainEvent(e)){var r=this._groupSelector;r?(n=this._absolutePointer,r.left=n.x-r.ex,r.top=n.y-r.ey,this.renderTop()):this._currentTransform?this._transformObject(e):(t=this.findTarget(e)||null,this._setCursorFromEvent(e,t),this._fireOverOutEvents(t,e)),this._handleEvent(e,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(e,t){var n=this._hoveredTarget,r=this._hoveredTargets,i=this.targets,o=Math.max(r.length,i.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var s=0;s<o;s++)this.fireSyntheticInOutEvents(i[s],t,{oldTarget:r[s],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(e,t){var n=this._draggedoverTarget,r=this._hoveredTargets,i=this.targets,o=Math.max(r.length,i.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"dragleave",evtIn:"dragenter"});for(var s=0;s<o;s++)this.fireSyntheticInOutEvents(i[s],t,{oldTarget:r[s],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=e},fireSyntheticInOutEvents:function(e,t,n){var r,i,o,s=n.oldTarget,a=s!==e,l=n.canvasEvtIn,c=n.canvasEvtOut;a&&(r={e:t,target:e,previousTarget:s},i={e:t,target:s,nextTarget:e}),o=e&&a,s&&a&&(c&&this.fire(c,i),s.fire(n.evtOut,i)),o&&(l&&this.fire(l,r),e.fire(n.evtIn,r))},__onMouseWheel:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()},_transformObject:function(e){var t=this.getPointer(e),n=this._currentTransform;n.reset=!1,n.shiftKey=e.shiftKey,n.altKey=e[this.centeredKey],this._performTransformAction(e,n,t),n.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(e,t,n){var r=n.x,i=n.y,o=t.action,s=!1,a=t.actionHandler;a&&(s=a(e,t,r,i)),"drag"===o&&s&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||s},_fire:i.controlsUtils.fireEvent,_setCursorFromEvent:function(e,t){if(!t)return this.setCursor(this.defaultCursor),!1;var n=t.hoverCursor||this.hoverCursor,r=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,i=(!r||!r.contains(t))&&t._findTargetCorner(this.getPointer(e,!0));i?this.setCursor(this.getCornerCursor(i,t,e)):(t.subTargetCheck&&this.targets.concat().reverse().map((function(e){n=e.hoverCursor||n})),this.setCursor(n))},getCornerCursor:function(e,t,n){var r=t.controls[e];return r.cursorStyleHandler(n,r,t)}})}(),function(){var e=Math.min,t=Math.max;i.util.object.extend(i.Canvas.prototype,{_shouldGroup:function(e,t){var n=this._activeObject;return n&&this._isSelectionKeyPressed(e)&&t&&t.selectable&&this.selection&&(n!==t||"activeSelection"===n.type)&&!t.onSelect({e:e})},_handleGrouping:function(e,t){var n=this._activeObject;n.__corner||(t!==n||(t=this.findTarget(e,!0))&&t.selectable)&&(n&&"activeSelection"===n.type?this._updateActiveSelection(t,e):this._createActiveSelection(t,e))},_updateActiveSelection:function(e,t){var n=this._activeObject,r=n._objects.slice(0);n.contains(e)?(n.removeWithUpdate(e),this._hoveredTarget=e,this._hoveredTargets=this.targets.concat(),1===n.size()&&this._setActiveObject(n.item(0),t)):(n.addWithUpdate(e),this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(r,t)},_createActiveSelection:function(e,t){var n=this.getActiveObjects(),r=this._createGroup(e);this._hoveredTarget=r,this._setActiveObject(r,t),this._fireSelectionEvents(n,t)},_createGroup:function(e){var t=this._objects,n=t.indexOf(this._activeObject)<t.indexOf(e)?[this._activeObject,e]:[e,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new i.ActiveSelection(n,{canvas:this})},_groupSelectedObjects:function(e){var t,n=this._collectObjects(e);1===n.length?this.setActiveObject(n[0],e):n.length>1&&(t=new i.ActiveSelection(n.reverse(),{canvas:this}),this.setActiveObject(t,e))},_collectObjects:function(n){for(var r,o=[],s=this._groupSelector.ex,a=this._groupSelector.ey,l=s+this._groupSelector.left,c=a+this._groupSelector.top,u=new i.Point(e(s,l),e(a,c)),d=new i.Point(t(s,l),t(a,c)),h=!this.selectionFullyContained,f=s===l&&a===c,p=this._objects.length;p--&&!((r=this._objects[p])&&r.selectable&&r.visible&&(h&&r.intersectsWithRect(u,d,!0)||r.isContainedWithinRect(u,d,!0)||h&&r.containsPoint(u,null,!0)||h&&r.containsPoint(d,null,!0))&&(o.push(r),f)););return o.length>1&&(o=o.filter((function(e){return!e.onSelect({e:n})}))),o},_maybeGroupObjects:function(e){this.selection&&this._groupSelector&&this._groupSelectedObjects(e),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),i.util.object.extend(i.StaticCanvas.prototype,{toDataURL:function(e){e||(e={});var t=e.format||"png",n=e.quality||1,r=(e.multiplier||1)*(e.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(r,e);return i.util.toDataURL(o,t,n)},toCanvasElement:function(e,t){e=e||1;var n=((t=t||{}).width||this.width)*e,r=(t.height||this.height)*e,o=this.getZoom(),s=this.width,a=this.height,l=o*e,c=this.viewportTransform,u=(c[4]-(t.left||0))*e,d=(c[5]-(t.top||0))*e,h=this.interactive,f=[l,0,0,l,u,d],p=this.enableRetinaScaling,m=i.util.createCanvasElement(),g=this.contextTop;return m.width=n,m.height=r,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=f,this.width=n,this.height=r,this.calcViewportBoundaries(),this.renderCanvas(m.getContext("2d"),this._objects),this.viewportTransform=c,this.width=s,this.height=a,this.calcViewportBoundaries(),this.interactive=h,this.enableRetinaScaling=p,this.contextTop=g,m}}),i.util.object.extend(i.StaticCanvas.prototype,{loadFromJSON:function(e,t,n){if(e){var r="string"===typeof e?JSON.parse(e):i.util.object.clone(e),o=this,s=r.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete r.clipPath,this._enlivenObjects(r.objects,(function(e){o.clear(),o._setBgOverlay(r,(function(){s?o._enlivenObjects([s],(function(n){o.clipPath=n[0],o.__setupCanvas.call(o,r,e,a,t)})):o.__setupCanvas.call(o,r,e,a,t)}))}),n),this}},__setupCanvas:function(e,t,n,r){var i=this;t.forEach((function(e,t){i.insertAt(e,t)})),this.renderOnAddRemove=n,delete e.objects,delete e.backgroundImage,delete e.overlayImage,delete e.background,delete e.overlay,this._setOptions(e),this.renderAll(),r&&r()},_setBgOverlay:function(e,t){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(e.backgroundImage||e.overlayImage||e.background||e.overlay){var r=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&t&&t()};this.__setBgOverlay("backgroundImage",e.backgroundImage,n,r),this.__setBgOverlay("overlayImage",e.overlayImage,n,r),this.__setBgOverlay("backgroundColor",e.background,n,r),this.__setBgOverlay("overlayColor",e.overlay,n,r)}else t&&t()},__setBgOverlay:function(e,t,n,r){var o=this;if(!t)return n[e]=!0,void(r&&r());"backgroundImage"===e||"overlayImage"===e?i.util.enlivenObjects([t],(function(t){o[e]=t[0],n[e]=!0,r&&r()})):this["set"+i.util.string.capitalize(e,!0)](t,(function(){n[e]=!0,r&&r()}))},_enlivenObjects:function(e,t,n){e&&0!==e.length?i.util.enlivenObjects(e,(function(e){t&&t(e)}),null,n):t&&t([])},_toDataURL:function(e,t){this.clone((function(n){t(n.toDataURL(e))}))},_toDataURLWithMultiplier:function(e,t,n){this.clone((function(r){n(r.toDataURLWithMultiplier(e,t))}))},clone:function(e,t){var n=JSON.stringify(this.toJSON(t));this.cloneWithoutData((function(t){t.loadFromJSON(n,(function(){e&&e(t)}))}))},cloneWithoutData:function(e){var t=i.util.createCanvasElement();t.width=this.width,t.height=this.height;var n=new i.Canvas(t);this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,(function(){n.renderAll(),e&&e(n)})),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):e&&e(n)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,i=t.util.toFixed,o=t.util.string.capitalize,s=t.util.degreesToRadians,a=!t.isLikelyNode;t.Object||(t.Object=t.util.createClass(t.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:a,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(e){e&&this.setOptions(e)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=t.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(e){var n=t.perfLimitSizeTotal,r=e.width,i=e.height,o=t.maxCacheSideLimit,s=t.minCacheSideLimit;if(r<=o&&i<=o&&r*i<=n)return r<s&&(e.width=s),i<s&&(e.height=s),e;var a=r/i,l=t.util.limitDimsByArea(a,n),c=t.util.capValue,u=c(s,l.x,o),d=c(s,l.y,o);return r>u&&(e.zoomX/=r/u,e.width=u,e.capped=!0),i>d&&(e.zoomY/=i/d,e.height=d,e.capped=!0),e},_getCacheCanvasDimensions:function(){var e=this.getTotalObjectScaling(),t=this._getTransformedDimensions(0,0),n=t.x*e.scaleX/this.scaleX,r=t.y*e.scaleY/this.scaleY;return{width:n+2,height:r+2,zoomX:e.scaleX,zoomY:e.scaleY,x:n,y:r}},_updateCacheCanvas:function(){var e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){var n=e._currentTransform.target,r=e._currentTransform.action;if(this===n&&r.slice&&"scale"===r.slice(0,5))return!1}var i,o,s=this._cacheCanvas,a=this._limitCacheSize(this._getCacheCanvasDimensions()),l=t.minCacheSideLimit,c=a.width,u=a.height,d=a.zoomX,h=a.zoomY,f=c!==this.cacheWidth||u!==this.cacheHeight,p=this.zoomX!==d||this.zoomY!==h,m=f||p,g=0,v=0,b=!1;if(f){var y=this._cacheCanvas.width,w=this._cacheCanvas.height,x=c>y||u>w;b=x||(c<.9*y||u<.9*w)&&y>l&&w>l,x&&!a.capped&&(c>l||u>l)&&(g=.1*c,v=.1*u)}return this instanceof t.Text&&this.path&&(m=!0,b=!0,g+=this.getHeightOfLine(0)*this.zoomX,v+=this.getHeightOfLine(0)*this.zoomY),!!m&&(b?(s.width=Math.ceil(c+g),s.height=Math.ceil(u+v)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,s.width,s.height)),i=a.x/2,o=a.y/2,this.cacheTranslationX=Math.round(s.width/2-i)+i,this.cacheTranslationY=Math.round(s.height/2-o)+o,this.cacheWidth=c,this.cacheHeight=u,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(d,h),this.zoomX=d,this.zoomY=h,!0)},setOptions:function(e){this._setOptions(e),this._initGradient(e.fill,"fill"),this._initGradient(e.stroke,"stroke"),this._initPattern(e.fill,"fill"),this._initPattern(e.stroke,"stroke")},transform:function(e){var t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!t);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])},toObject:function(e){var n=t.Object.NUM_FRACTION_DIGITS,r={type:this.type,version:t.version,originX:this.originX,originY:this.originY,left:i(this.left,n),top:i(this.top,n),width:i(this.width,n),height:i(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:i(this.strokeMiterLimit,n),scaleX:i(this.scaleX,n),scaleY:i(this.scaleY,n),angle:i(this.angle,n),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:i(this.skewX,n),skewY:i(this.skewY,n)};return this.clipPath&&!this.clipPath.excludeFromExport&&(r.clipPath=this.clipPath.toObject(e),r.clipPath.inverted=this.clipPath.inverted,r.clipPath.absolutePositioned=this.clipPath.absolutePositioned),t.util.populateWithProperties(this,r,e),this.includeDefaultValues||(r=this._removeDefaultValues(r)),r},toDatalessObject:function(e){return this.toObject(e)},_removeDefaultValues:function(e){var n=t.util.getKlass(e.type).prototype;return n.stateProperties.forEach((function(t){"left"!==t&&"top"!==t&&(e[t]===n[t]&&delete e[t],"[object Array]"===Object.prototype.toString.call(e[t])&&"[object Array]"===Object.prototype.toString.call(n[t])&&0===e[t].length&&0===n[t].length&&delete e[t])})),e},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var e=t.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(e.scaleX),scaleY:Math.abs(e.scaleY)}},getTotalObjectScaling:function(){var e=this.getObjectScaling(),t=e.scaleX,n=e.scaleY;if(this.canvas){var r=this.canvas.getZoom(),i=this.canvas.getRetinaScaling();t*=r*i,n*=r*i}return{scaleX:t,scaleY:n}},getObjectOpacity:function(){var e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e},_set:function(e,n){var r="scaleX"===e||"scaleY"===e,i=this[e]!==n,o=!1;return r&&(n=this._constrainScale(n)),"scaleX"===e&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===e&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==e||!n||n instanceof t.Shadow?"dirty"===e&&this.group&&this.group.set("dirty",n):n=new t.Shadow(n),this[e]=n,i&&(o=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(e)>-1?(this.dirty=!0,o&&this.group.set("dirty",!0)):o&&this.stateProperties.indexOf(e)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:t.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(e),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),e.restore())},renderCache:function(e){e=e||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,e.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!==typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(e){var n=this.clipPath;if(e.save(),n.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",n.absolutePositioned){var r=t.util.invertTransform(this.calcTransformMatrix());e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},drawObject:function(e,t){var n=this.fill,r=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e),this.fill=n,this.stroke=r},_drawClipPath:function(e){var t=this.clipPath;t&&(t.canvas=this.canvas,t.shouldCache(),t._transformDone=!0,t.renderCache({forClipping:!0}),this.drawClipPathOnCache(e))},drawCacheOnCanvas:function(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(e){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!e&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!e){var t=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-t/2,-n/2,t,n)}return!0}return!1},_renderBackground:function(e){if(this.backgroundColor){var t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}},_setOpacity:function(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity},_setStrokeStyles:function(e,t){var n=t.stroke;n&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,n.toLive?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e,this),this._applyPatternGradientTransform(e,n)):e.strokeStyle=t.stroke)},_setFillStyles:function(e,t){var n=t.fill;n&&(n.toLive?(e.fillStyle=n.toLive(e,this),this._applyPatternGradientTransform(e,t.fill)):e.fillStyle=n)},_setClippingProperties:function(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"},_setLineDash:function(e,t){t&&0!==t.length&&(1&t.length&&t.push.apply(t,t),e.setLineDash(t))},_renderControls:function(e,n){var r,i,o,a=this.getViewportTransform(),l=this.calcTransformMatrix();i="undefined"!==typeof(n=n||{}).hasBorders?n.hasBorders:this.hasBorders,o="undefined"!==typeof n.hasControls?n.hasControls:this.hasControls,l=t.util.multiplyTransformMatrices(a,l),r=t.util.qrDecompose(l),e.save(),e.translate(r.translateX,r.translateY),e.lineWidth=1*this.borderScaleFactor,this.group||(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),e.rotate(s(r.angle)),n.forActiveSelection||this.group?i&&this.drawBordersInGroup(e,r,n):i&&this.drawBorders(e,n),o&&this.drawControls(e,n),e.restore()},_setShadow:function(e){if(this.shadow){var n,r=this.shadow,i=this.canvas,o=i&&i.viewportTransform[0]||1,s=i&&i.viewportTransform[3]||1;n=r.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),i&&i._isRetinaScaling()&&(o*=t.devicePixelRatio,s*=t.devicePixelRatio),e.shadowColor=r.color,e.shadowBlur=r.blur*t.browserShadowBlurConstant*(o+s)*(n.scaleX+n.scaleY)/4,e.shadowOffsetX=r.offsetX*o*n.scaleX,e.shadowOffsetY=r.offsetY*s*n.scaleY}},_removeShadow:function(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)},_applyPatternGradientTransform:function(e,t){if(!t||!t.toLive)return{offsetX:0,offsetY:0};var n=t.gradientTransform||t.patternTransform,r=-this.width/2+t.offsetX||0,i=-this.height/2+t.offsetY||0;return"percentage"===t.gradientUnits?e.transform(this.width,0,0,this.height,r,i):e.transform(1,0,0,1,r,i),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:r,offsetY:i}},_renderPaintInOrder:function(e){"stroke"===this.paintFirst?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))},_render:function(){},_renderFill:function(e){this.fill&&(e.save(),this._setFillStyles(e,this),"evenodd"===this.fillRule?e.fill("evenodd"):e.fill(),e.restore())},_renderStroke:function(e){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform&&this.group){var t=this.getObjectScaling();e.scale(1/t.scaleX,1/t.scaleY)}else this.strokeUniform&&e.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}},_applyPatternForTransformedGradient:function(e,n){var r,i=this._limitCacheSize(this._getCacheCanvasDimensions()),o=t.util.createCanvasElement(),s=this.canvas.getRetinaScaling(),a=i.x/this.scaleX/s,l=i.y/this.scaleY/s;o.width=a,o.height=l,(r=o.getContext("2d")).beginPath(),r.moveTo(0,0),r.lineTo(a,0),r.lineTo(a,l),r.lineTo(0,l),r.closePath(),r.translate(a/2,l/2),r.scale(i.zoomX/this.scaleX/s,i.zoomY/this.scaleY/s),this._applyPatternGradientTransform(r,n),r.fillStyle=n.toLive(e),r.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(s*this.scaleX/i.zoomX,s*this.scaleY/i.zoomY),e.strokeStyle=r.createPattern(o,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var e=t.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",e.scaleX),this.set("scaleY",e.scaleY),this.angle=e.angle,this.skewX=e.skewX,this.skewY=0}},_removeTransformMatrix:function(e){var n=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),n=t.util.transformPoint(n,this.transformMatrix)),this.transformMatrix=null,e&&(this.scaleX*=e.scaleX,this.scaleY*=e.scaleY,this.cropX=e.cropX,this.cropY=e.cropY,n.x+=e.offsetLeft,n.y+=e.offsetTop,this.width=e.width,this.height=e.height),this.setPositionByOrigin(n,"center","center")},clone:function(e,n){var r=this.toObject(n);this.constructor.fromObject?this.constructor.fromObject(r,e):t.Object._fromObject("Object",r,e)},cloneAsImage:function(e,n){var r=this.toCanvasElement(n);return e&&e(new t.Image(r)),this},toCanvasElement:function(e){e||(e={});var n=t.util,r=n.saveObjectTransform(this),i=this.group,o=this.shadow,s=Math.abs,a=(e.multiplier||1)*(e.enableRetinaScaling?t.devicePixelRatio:1);delete this.group,e.withoutTransform&&n.resetObjectTransform(this),e.withoutShadow&&(this.shadow=null);var l,c,u,d,h=t.util.createCanvasElement(),f=this.getBoundingRect(!0,!0),p=this.shadow,m={x:0,y:0};p&&(c=p.blur,l=p.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),m.x=2*Math.round(s(p.offsetX)+c)*s(l.scaleX),m.y=2*Math.round(s(p.offsetY)+c)*s(l.scaleY)),u=f.width+m.x,d=f.height+m.y,h.width=Math.ceil(u),h.height=Math.ceil(d);var g=new t.StaticCanvas(h,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===e.format&&(g.backgroundColor="#fff"),this.setPositionByOrigin(new t.Point(g.width/2,g.height/2),"center","center");var v=this.canvas;g.add(this);var b=g.toCanvasElement(a||1,e);return this.shadow=o,this.set("canvas",v),i&&(this.group=i),this.set(r).setCoords(),g._objects=[],g.dispose(),g=null,b},toDataURL:function(e){return e||(e={}),t.util.toDataURL(this.toCanvasElement(e),e.format||"png",e.quality||1)},isType:function(e){return this.type===e},complexity:function(){return 1},toJSON:function(e){return this.toObject(e)},rotate:function(e){var t=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return t&&this._setOriginToCenter(),this.set("angle",e),t&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(e,n){n=n||this.canvas.getPointer(e);var r=new t.Point(n.x,n.y),i=this._getLeftTopCoords();return this.angle&&(r=t.util.rotatePoint(r,i,s(-this.angle))),{x:r.x-i.x,y:r.y-i.y}},_setupCompositeOperation:function(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}}),t.util.createAccessors&&t.util.createAccessors(t.Object),n(t.Object.prototype,t.Observable),t.Object.NUM_FRACTION_DIGITS=2,t.Object._fromObject=function(e,n,i,o){var s=t[e];n=r(n,!0),t.util.enlivenPatterns([n.fill,n.stroke],(function(e){"undefined"!==typeof e[0]&&(n.fill=e[0]),"undefined"!==typeof e[1]&&(n.stroke=e[1]),t.util.enlivenObjects([n.clipPath],(function(e){n.clipPath=e[0];var t=o?new s(n[o],n):new s(n);i&&i(t)}))}))},t.Object.__uid=0)}(t),function(){var e=i.util.degreesToRadians,t={left:-.5,center:0,right:.5},n={top:-.5,center:0,bottom:.5};i.util.object.extend(i.Object.prototype,{translateToGivenOrigin:function(e,r,o,s,a){var l,c,u,d=e.x,h=e.y;return"string"===typeof r?r=t[r]:r-=.5,"string"===typeof s?s=t[s]:s-=.5,"string"===typeof o?o=n[o]:o-=.5,"string"===typeof a?a=n[a]:a-=.5,c=a-o,((l=s-r)||c)&&(u=this._getTransformedDimensions(),d=e.x+l*u.x,h=e.y+c*u.y),new i.Point(d,h)},translateToCenterPoint:function(t,n,r){var o=this.translateToGivenOrigin(t,n,r,"center","center");return this.angle?i.util.rotatePoint(o,t,e(this.angle)):o},translateToOriginPoint:function(t,n,r){var o=this.translateToGivenOrigin(t,"center","center",n,r);return this.angle?i.util.rotatePoint(o,t,e(this.angle)):o},getCenterPoint:function(){var e=new i.Point(this.left,this.top);return this.translateToCenterPoint(e,this.originX,this.originY)},getPointByOrigin:function(e,t){var n=this.getCenterPoint();return this.translateToOriginPoint(n,e,t)},toLocalPoint:function(t,n,r){var o,s,a=this.getCenterPoint();return o="undefined"!==typeof n&&"undefined"!==typeof r?this.translateToGivenOrigin(a,"center","center",n,r):new i.Point(this.left,this.top),s=new i.Point(t.x,t.y),this.angle&&(s=i.util.rotatePoint(s,a,-e(this.angle))),s.subtractEquals(o)},setPositionByOrigin:function(e,t,n){var r=this.translateToCenterPoint(e,t,n),i=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",i.x),this.set("top",i.y)},adjustPosition:function(n){var r,o,s=e(this.angle),a=this.getScaledWidth(),l=i.util.cos(s)*a,c=i.util.sin(s)*a;r="string"===typeof this.originX?t[this.originX]:this.originX-.5,o="string"===typeof n?t[n]:n-.5,this.left+=l*(o-r),this.top+=c*(o-r),this.setCoords(),this.originX=n},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var e=this.getCenterPoint();this.originX="center",this.originY="center",this.left=e.x,this.top=e.y},_resetOrigin:function(){var e=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=e.x,this.top=e.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var e=i.util,t=e.degreesToRadians,n=e.multiplyTransformMatrices,r=e.transformPoint;e.object.extend(i.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(e,t){return t?e?this.calcACoords():this.calcLineCoords():(this.aCoords&&this.lineCoords||this.setCoords(!0),e?this.aCoords:this.lineCoords)},getCoords:function(e,t){return n=this._getCoords(e,t),[new i.Point(n.tl.x,n.tl.y),new i.Point(n.tr.x,n.tr.y),new i.Point(n.br.x,n.br.y),new i.Point(n.bl.x,n.bl.y)];var n},intersectsWithRect:function(e,t,n,r){var o=this.getCoords(n,r);return"Intersection"===i.Intersection.intersectPolygonRectangle(o,e,t).status},intersectsWithObject:function(e,t,n){return"Intersection"===i.Intersection.intersectPolygonPolygon(this.getCoords(t,n),e.getCoords(t,n)).status||e.isContainedWithinObject(this,t,n)||this.isContainedWithinObject(e,t,n)},isContainedWithinObject:function(e,t,n){for(var r=this.getCoords(t,n),i=t?e.aCoords:e.lineCoords,o=0,s=e._getImageLines(i);o<4;o++)if(!e.containsPoint(r[o],s))return!1;return!0},isContainedWithinRect:function(e,t,n,r){var i=this.getBoundingRect(n,r);return i.left>=e.x&&i.left+i.width<=t.x&&i.top>=e.y&&i.top+i.height<=t.y},containsPoint:function(e,t,n,r){var i=this._getCoords(n,r),o=(t=t||this._getImageLines(i),this._findCrossPoints(e,t));return 0!==o&&o%2===1},isOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.getCoords(!0,e).some((function(e){return e.x<=n.x&&e.x>=t.x&&e.y<=n.y&&e.y>=t.y}))||!!this.intersectsWithRect(t,n,!0,e)||this._containsCenterOfCanvas(t,n,e)},_containsCenterOfCanvas:function(e,t,n){var r={x:(e.x+t.x)/2,y:(e.y+t.y)/2};return!!this.containsPoint(r,null,!0,n)},isPartiallyOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.intersectsWithRect(t,n,!0,e)||this.getCoords(!0,e).every((function(e){return(e.x>=n.x||e.x<=t.x)&&(e.y>=n.y||e.y<=t.y)}))&&this._containsCenterOfCanvas(t,n,e)},_getImageLines:function(e){return{topline:{o:e.tl,d:e.tr},rightline:{o:e.tr,d:e.br},bottomline:{o:e.br,d:e.bl},leftline:{o:e.bl,d:e.tl}}},_findCrossPoints:function(e,t){var n,r,i,o=0;for(var s in t)if(!((i=t[s]).o.y<e.y&&i.d.y<e.y)&&!(i.o.y>=e.y&&i.d.y>=e.y)&&(i.o.x===i.d.x&&i.o.x>=e.x?r=i.o.x:(n=(i.d.y-i.o.y)/(i.d.x-i.o.x),r=-(e.y-0*e.x-(i.o.y-n*i.o.x))/(0-n)),r>=e.x&&(o+=1),2===o))break;return o},getBoundingRect:function(t,n){var r=this.getCoords(t,n);return e.makeBoundingBoxFromPoints(r)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:0===e?1e-4:e},scale:function(e){return this._set("scaleX",e),this._set("scaleY",e),this.setCoords()},scaleToWidth:function(e,t){var n=this.getBoundingRect(t).width/this.getScaledWidth();return this.scale(e/this.width/n)},scaleToHeight:function(e,t){var n=this.getBoundingRect(t).height/this.getScaledHeight();return this.scale(e/this.height/n)},calcCoords:function(e){return e?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var n=this.getViewportTransform(),i=this.padding,o=t(this.angle),s=e.cos(o)*i,a=e.sin(o)*i,l=s+a,c=s-a,u=this.calcACoords(),d={tl:r(u.tl,n),tr:r(u.tr,n),bl:r(u.bl,n),br:r(u.br,n)};return i&&(d.tl.x-=c,d.tl.y-=l,d.tr.x+=l,d.tr.y-=c,d.bl.x-=l,d.bl.y+=c,d.br.x+=c,d.br.y+=l),d},calcOCoords:function(){var e=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),r=this.getViewportTransform(),i=n(r,t),o=n(i,e),s=(o=n(o,[1/r[0],0,0,1/r[3],0,0]),this._calculateCurrentDimensions()),a={};return this.forEachControl((function(e,t,n){a[t]=e.positionHandler(s,o,n)})),a},calcACoords:function(){var e=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),i=n(t,e),o=this._getTransformedDimensions(),s=o.x/2,a=o.y/2;return{tl:r({x:-s,y:-a},i),tr:r({x:s,y:-a},i),bl:r({x:-s,y:a},i),br:r({x:s,y:a},i)}},setCoords:function(e){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),e||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return e.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var e=this.getCenterPoint();return[1,0,0,1,e.x,e.y]},transformMatrixKey:function(e){var t="_",n="";return!e&&this.group&&(n=this.group.transformMatrixKey(e)+t),n+this.top+t+this.left+t+this.scaleX+t+this.scaleY+t+this.skewX+t+this.skewY+t+this.angle+t+this.originX+t+this.originY+t+this.width+t+this.height+t+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(e){var t=this.calcOwnMatrix();if(e||!this.group)return t;var r=this.transformMatrixKey(e),i=this.matrixCache||(this.matrixCache={});return i.key===r?i.value:(this.group&&(t=n(this.group.calcTransformMatrix(!1),t)),i.key=r,i.value=t,t)},calcOwnMatrix:function(){var t=this.transformMatrixKey(!0),n=this.ownMatrixCache||(this.ownMatrixCache={});if(n.key===t)return n.value;var r=this._calcTranslateMatrix(),i={angle:this.angle,translateX:r[4],translateY:r[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return n.key=t,n.value=e.composeMatrix(i),n.value},_calcDimensionsTransformMatrix:function(t,n,r){return e.calcDimensionsMatrix({skewX:t,skewY:n,scaleX:this.scaleX*(r&&this.flipX?-1:1),scaleY:this.scaleY*(r&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var e=this.strokeWidth;return{x:this.width+e,y:this.height+e}},_getTransformedDimensions:function(t,n){"undefined"===typeof t&&(t=this.skewX),"undefined"===typeof n&&(n=this.skewY);var r,i,o,s=0===t&&0===n;if(this.strokeUniform?(i=this.width,o=this.height):(i=(r=this._getNonTransformedDimensions()).x,o=r.y),s)return this._finalizeDimensions(i*this.scaleX,o*this.scaleY);var a=e.sizeAfterTransform(i,o,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:t,skewY:n});return this._finalizeDimensions(a.x,a.y)},_finalizeDimensions:function(e,t){return this.strokeUniform?{x:e+this.strokeWidth,y:t+this.strokeWidth}:{x:e,y:t}},_calculateCurrentDimensions:function(){var e=this.getViewportTransform(),t=this._getTransformedDimensions();return r(t,e,!0).scalarAdd(2*this.padding)}})}(),i.util.object.extend(i.Object.prototype,{sendToBack:function(){return this.group?i.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?i.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(e){return this.group?i.StaticCanvas.prototype.sendBackwards.call(this.group,this,e):this.canvas&&this.canvas.sendBackwards(this,e),this},bringForward:function(e){return this.group?i.StaticCanvas.prototype.bringForward.call(this.group,this,e):this.canvas&&this.canvas.bringForward(this,e),this},moveTo:function(e){return this.group&&"activeSelection"!==this.group.type?i.StaticCanvas.prototype.moveTo.call(this.group,this,e):this.canvas&&this.canvas.moveTo(this,e),this}}),function(){function e(e,t){if(t){if(t.toLive)return e+": url(#SVGID_"+t.id+"); ";var n=new i.Color(t),r=e+": "+n.toRgb()+"; ",o=n.getAlpha();return 1!==o&&(r+=e+"-opacity: "+o.toString()+"; "),r}return e+": none; "}var t=i.util.toFixed;i.util.object.extend(i.Object.prototype,{getSvgStyles:function(t){var n=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeDashOffset?this.strokeDashOffset:"0",s=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c="undefined"!==typeof this.opacity?this.opacity:"1",u=this.visible?"":" visibility: hidden;",d=t?"":this.getSvgFilter(),h=e("fill",this.fill);return[e("stroke",this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",s,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",l,"; ",h,"fill-rule: ",n,"; ","opacity: ",c,";",d,u].join("")},getSvgSpanStyles:function(t,n){var r="; ",i=t.fontFamily?"font-family: "+(-1===t.fontFamily.indexOf("'")&&-1===t.fontFamily.indexOf('"')?"'"+t.fontFamily+"'":t.fontFamily)+r:"",o=t.strokeWidth?"stroke-width: "+t.strokeWidth+r:"",s=t.fontSize?"font-size: "+t.fontSize+"px"+r:"",a=t.fontStyle?"font-style: "+t.fontStyle+r:"",l=t.fontWeight?"font-weight: "+t.fontWeight+r:"",c=t.fill?e("fill",t.fill):"",u=t.stroke?e("stroke",t.stroke):"",d=this.getSvgTextDecoration(t);return d&&(d="text-decoration: "+d+r),[u,o,i,s,a,l,d,c,t.deltaY?"baseline-shift: "+-t.deltaY+"; ":"",n?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(e){return["overline","underline","line-through"].filter((function(t){return e[t.replace("-","")]})).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(e,t){var n=e?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+i.util.matrixToSVG(n)+(t||"")+'" '},_setSVGBg:function(e){if(this.backgroundColor){var n=i.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',t(-this.width/2,n),'" y="',t(-this.height/2,n),'" width="',t(this.width,n),'" height="',t(this.height,n),'"></rect>\n')}},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})},toClipPathSVG:function(e){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})},_createBaseClipPathSVGMarkup:function(e,t){var n=(t=t||{}).reviver,r=t.additionalTransform||"",i=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),o=e.indexOf("COMMON_PARTS");return e[o]=i,n?n(e.join("")):e.join("")},_createBaseSVGMarkup:function(e,t){var n,r,o=(t=t||{}).noStyle,s=t.reviver,a=o?"":'style="'+this.getSvgStyles()+'" ',l=t.withShadow?'style="'+this.getSvgFilter()+'" ':"",c=this.clipPath,u=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",d=c&&c.absolutePositioned,h=this.stroke,f=this.fill,p=this.shadow,m=[],g=e.indexOf("COMMON_PARTS"),v=t.additionalTransform;return c&&(c.clipPathId="CLIPPATH_"+i.Object.__uid++,r='<clipPath id="'+c.clipPathId+'" >\n'+c.toClipPathSVG(s)+"</clipPath>\n"),d&&m.push("<g ",l,this.getSvgCommons()," >\n"),m.push("<g ",this.getSvgTransform(!1),d?"":l+this.getSvgCommons()," >\n"),n=[a,u,o?"":this.addPaintOrder()," ",v?'transform="'+v+'" ':""].join(""),e[g]=n,f&&f.toLive&&m.push(f.toSVG(this)),h&&h.toLive&&m.push(h.toSVG(this)),p&&m.push(p.toSVG(this)),c&&m.push(r),m.push(e.join("")),m.push("</g>\n"),d&&m.push("</g>\n"),s?s(m.join("")):m.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var e=i.util.object.extend,t="stateProperties";function n(t,n,r){var i={};r.forEach((function(e){i[e]=t[e]})),e(t[n],i,!0)}function r(e,t,n){if(e===t)return!0;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var i=0,o=e.length;i<o;i++)if(!r(e[i],t[i]))return!1;return!0}if(e&&"object"===typeof e){var s,a=Object.keys(e);if(!t||"object"!==typeof t||!n&&a.length!==Object.keys(t).length)return!1;for(i=0,o=a.length;i<o;i++)if("canvas"!==(s=a[i])&&"group"!==s&&!r(e[s],t[s]))return!1;return!0}}i.util.object.extend(i.Object.prototype,{hasStateChanged:function(e){var n="_"+(e=e||t);return Object.keys(this[n]).length<this[e].length||!r(this[n],this,!0)},saveState:function(e){var r=e&&e.propertySet||t,i="_"+r;return this[i]?(n(this,i,this[r]),e&&e.stateProperties&&n(this,i,e.stateProperties),this):this.setupState(e)},setupState:function(e){var n=(e=e||{}).propertySet||t;return e.propertySet=n,this["_"+n]={},this.saveState(e),this}})}(),function(){var e=i.util.degreesToRadians;i.util.object.extend(i.Object.prototype,{_findTargetCorner:function(e,t){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var n,r,i,o=e.x,s=e.y,a=Object.keys(this.oCoords),l=a.length-1;for(this.__corner=0;l>=0;l--)if(i=a[l],this.isControlVisible(i)&&(r=this._getImageLines(t?this.oCoords[i].touchCorner:this.oCoords[i].corner),0!==(n=this._findCrossPoints({x:o,y:s},r))&&n%2===1))return this.__corner=i,i;return!1},forEachControl:function(e){for(var t in this.controls)e(this.controls[t],t,this)},_setCornerCoords:function(){var e=this.oCoords;for(var t in e){var n=this.controls[t];e[t].corner=n.calcCornerCoords(this.angle,this.cornerSize,e[t].x,e[t].y,!1),e[t].touchCorner=n.calcCornerCoords(this.angle,this.touchCornerSize,e[t].x,e[t].y,!0)}},drawSelectionBackground:function(t){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;t.save();var n=this.getCenterPoint(),r=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return t.translate(n.x,n.y),t.scale(1/i[0],1/i[3]),t.rotate(e(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-r.x/2,-r.y/2,r.x,r.y),t.restore(),this},drawBorders:function(e,t){t=t||{};var n=this._calculateCurrentDimensions(),r=this.borderScaleFactor,i=n.x+r,o=n.y+r,s="undefined"!==typeof t.hasControls?t.hasControls:this.hasControls,a=!1;return e.save(),e.strokeStyle=t.borderColor||this.borderColor,this._setLineDash(e,t.borderDashArray||this.borderDashArray),e.strokeRect(-i/2,-o/2,i,o),s&&(e.beginPath(),this.forEachControl((function(t,n,r){t.withConnection&&t.getVisibility(r,n)&&(a=!0,e.moveTo(t.x*i,t.y*o),e.lineTo(t.x*i+t.offsetX,t.y*o+t.offsetY))})),a&&e.stroke()),e.restore(),this},drawBordersInGroup:function(e,t,n){n=n||{};var r=i.util.sizeAfterTransform(this.width,this.height,t),o=this.strokeWidth,s=this.strokeUniform,a=this.borderScaleFactor,l=r.x+o*(s?this.canvas.getZoom():t.scaleX)+a,c=r.y+o*(s?this.canvas.getZoom():t.scaleY)+a;return e.save(),this._setLineDash(e,n.borderDashArray||this.borderDashArray),e.strokeStyle=n.borderColor||this.borderColor,e.strokeRect(-l/2,-c/2,l,c),e.restore(),this},drawControls:function(e,t){t=t||{},e.save();var n,r,o=this.canvas.getRetinaScaling();return e.setTransform(o,0,0,o,0,0),e.strokeStyle=e.fillStyle=t.cornerColor||this.cornerColor,this.transparentCorners||(e.strokeStyle=t.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(e,t.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(n=this.group.calcTransformMatrix()),this.forEachControl((function(o,s,a){r=a.oCoords[s],o.getVisibility(a,s)&&(n&&(r=i.util.transformPoint(r,n)),o.render(e,r.x,r.y,t,a))})),e.restore(),this},isControlVisible:function(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)},setControlVisible:function(e,t){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t,this},setControlsVisibility:function(e){for(var t in e||(e={}),e)this.setControlVisible(t,e[t]);return this},onDeselect:function(){},onSelect:function(){}})}(),i.util.object.extend(i.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,o=t.onChange||n,s=this;return i.util.animate({startValue:e.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(t){e.set("left",t),s.requestRenderAll(),o()},onComplete:function(){e.setCoords(),r()}}),this},fxCenterObjectV:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,o=t.onChange||n,s=this;return i.util.animate({startValue:e.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(t){e.set("top",t),s.requestRenderAll(),o()},onComplete:function(){e.setCoords(),r()}}),this},fxRemove:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,o=t.onChange||n,s=this;return i.util.animate({startValue:e.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(t){e.set("opacity",t),s.requestRenderAll(),o()},onComplete:function(){s.remove(e),r()}}),this}}),i.util.object.extend(i.Object.prototype,{animate:function(){if(arguments[0]&&"object"===typeof arguments[0]){var e,t,n=[];for(e in arguments[0])n.push(e);for(var r=0,i=n.length;r<i;r++)e=n[r],t=r!==i-1,this._animate(e,arguments[0][e],arguments[1],t)}else this._animate.apply(this,arguments);return this},_animate:function(e,t,n,r){var o,s=this;t=t.toString(),n=n?i.util.object.clone(n):{},~e.indexOf(".")&&(o=e.split("."));var a=s.colorProperties.indexOf(e)>-1||o&&s.colorProperties.indexOf(o[1])>-1,l=o?this.get(o[0])[o[1]]:this.get(e);"from"in n||(n.from=l),a||(t=~t.indexOf("=")?l+parseFloat(t.replace("=","")):parseFloat(t));var c={startValue:n.from,endValue:t,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(e,t,r){return n.abort.call(s,e,t,r)},onChange:function(t,i,a){o?s[o[0]][o[1]]=t:s.set(e,t),r||n.onChange&&n.onChange(t,i,a)},onComplete:function(e,t,i){r||(s.setCoords(),n.onComplete&&n.onComplete(e,t,i))}};return a?i.util.animateColor(c.startValue,c.endValue,c.duration,c):i.util.animate(c)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,i={x1:1,x2:1,y1:1,y2:1};function o(e,t){var n=e.origin,r=e.axis1,i=e.axis2,o=e.dimension,s=t.nearest,a=t.center,l=t.farthest;return function(){switch(this.get(n)){case s:return Math.min(this.get(r),this.get(i));case a:return Math.min(this.get(r),this.get(i))+.5*this.get(o);case l:return Math.max(this.get(r),this.get(i))}}}t.Line?t.warn("fabric.Line is already defined"):(t.Line=t.util.createClass(t.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:t.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(e,t){e||(e=[0,0,0,0]),this.callSuper("initialize",t),this.set("x1",e[0]),this.set("y1",e[1]),this.set("x2",e[2]),this.set("y2",e[3]),this._setWidthHeight(t)},_setWidthHeight:function(e){e||(e={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in e?e.left:this._getLeftToOriginX(),this.top="top"in e?e.top:this._getTopToOriginY()},_set:function(e,t){return this.callSuper("_set",e,t),"undefined"!==typeof i[e]&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(e){e.beginPath();var t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=this.strokeWidth;var n=e.strokeStyle;e.strokeStyle=this.stroke||e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(e){return n(this.callSuper("toObject",e),this.calcLinePoints())},_getNonTransformedDimensions:function(){var e=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(e.y-=this.strokeWidth),0===this.height&&(e.x-=this.strokeWidth)),e},calcLinePoints:function(){var e=this.x1<=this.x2?-1:1,t=this.y1<=this.y2?-1:1,n=e*this.width*.5,r=t*this.height*.5;return{x1:n,x2:e*this.width*-.5,y1:r,y2:t*this.height*-.5}},_toSVG:function(){var e=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',e.x1,'" y1="',e.y1,'" x2="',e.x2,'" y2="',e.y2,'" />\n']}}),t.Line.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),t.Line.fromElement=function(e,r,i){i=i||{};var o=t.parseAttributes(e,t.Line.ATTRIBUTE_NAMES),s=[o.x1||0,o.y1||0,o.x2||0,o.y2||0];r(new t.Line(s,n(o,i)))},t.Line.fromObject=function(e,n){var i=r(e,!0);i.points=[e.x1,e.y1,e.x2,e.y2],t.Object._fromObject("Line",i,(function(e){delete e.points,n&&n(e)}),"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.PI;t.Circle?t.warn("fabric.Circle is already defined."):(t.Circle=t.util.createClass(t.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*n,cacheProperties:t.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(e,t){return this.callSuper("_set",e,t),"radius"===e&&this.setRadius(t),this},toObject:function(e){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(e))},_toSVG:function(){var e,r=(this.endAngle-this.startAngle)%(2*n);if(0===r)e=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var i=t.util.cos(this.startAngle)*this.radius,o=t.util.sin(this.startAngle)*this.radius,s=t.util.cos(this.endAngle)*this.radius,a=t.util.sin(this.endAngle)*this.radius,l=r>n?"1":"0";e=['<path d="M '+i+" "+o," A "+this.radius+" "+this.radius," 0 ",+l+" 1"," "+s+" "+a,'" ',"COMMON_PARTS"," />\n"]}return e},_render:function(e){e.beginPath(),e.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(e)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(e){return this.radius=e,this.set("width",2*e).set("height",2*e)}}),t.Circle.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),t.Circle.fromElement=function(e,n){var r,i=t.parseAttributes(e,t.Circle.ATTRIBUTE_NAMES);if(!("radius"in(r=i)&&r.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");i.left=(i.left||0)-i.radius,i.top=(i.top||0)-i.radius,n(new t.Circle(i))},t.Circle.fromObject=function(e,n){t.Object._fromObject("Circle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Triangle?t.warn("fabric.Triangle is already defined"):(t.Triangle=t.util.createClass(t.Object,{type:"triangle",width:100,height:100,_render:function(e){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,n),e.lineTo(0,-n),e.lineTo(t,n),e.closePath(),this._renderPaintInOrder(e)},_toSVG:function(){var e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-e+" "+t,"0 "+-t,e+" "+t].join(","),'" />']}}),t.Triangle.fromObject=function(e,n){return t.Object._fromObject("Triangle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=2*Math.PI;t.Ellipse?t.warn("fabric.Ellipse is already defined."):(t.Ellipse=t.util.createClass(t.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this.set("rx",e&&e.rx||0),this.set("ry",e&&e.ry||0)},_set:function(e,t){switch(this.callSuper("_set",e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,n,!1),e.restore(),this._renderPaintInOrder(e)}}),t.Ellipse.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),t.Ellipse.fromElement=function(e,n){var r=t.parseAttributes(e,t.Ellipse.ATTRIBUTE_NAMES);r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,n(new t.Ellipse(r))},t.Ellipse.fromObject=function(e,n){t.Object._fromObject("Ellipse",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend;t.Rect?t.warn("fabric.Rect is already defined"):(t.Rect=t.util.createClass(t.Object,{stateProperties:t.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(e){var t=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,i=this.height,o=-this.width/2,s=-this.height/2,a=0!==t||0!==n,l=.4477152502;e.beginPath(),e.moveTo(o+t,s),e.lineTo(o+r-t,s),a&&e.bezierCurveTo(o+r-l*t,s,o+r,s+l*n,o+r,s+n),e.lineTo(o+r,s+i-n),a&&e.bezierCurveTo(o+r,s+i-l*n,o+r-l*t,s+i,o+r-t,s+i),e.lineTo(o+t,s+i),a&&e.bezierCurveTo(o+l*t,s+i,o,s+i-l*n,o,s+i-n),e.lineTo(o,s+n),a&&e.bezierCurveTo(o,s+l*n,o+l*t,s,o+t,s),e.closePath(),this._renderPaintInOrder(e)},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),t.Rect.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),t.Rect.fromElement=function(e,r,i){if(!e)return r(null);i=i||{};var o=t.parseAttributes(e,t.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0,o.height=o.height||0,o.width=o.width||0;var s=new t.Rect(n(i?t.util.object.clone(i):{},o));s.visible=s.visible&&s.width>0&&s.height>0,r(s)},t.Rect.fromObject=function(e,n){return t.Object._fromObject("Rect",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.array.min,i=t.util.array.max,o=t.util.toFixed;t.Polyline?t.warn("fabric.Polyline is already defined"):(t.Polyline=t.util.createClass(t.Object,{type:"polyline",points:null,cacheProperties:t.Object.prototype.cacheProperties.concat("points"),initialize:function(e,t){t=t||{},this.points=e||[],this.callSuper("initialize",t),this._setPositionDimensions(t)},_setPositionDimensions:function(e){var t,n=this._calcDimensions(e);this.width=n.width,this.height=n.height,e.fromSVG||(t=this.translateToGivenOrigin({x:n.left-this.strokeWidth/2,y:n.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),"undefined"===typeof e.left&&(this.left=e.fromSVG?n.left:t.x),"undefined"===typeof e.top&&(this.top=e.fromSVG?n.top:t.y),this.pathOffset={x:n.left+this.width/2,y:n.top+this.height/2}},_calcDimensions:function(){var e=this.points,t=r(e,"x")||0,n=r(e,"y")||0;return{left:t,top:n,width:(i(e,"x")||0)-t,height:(i(e,"y")||0)-n}},toObject:function(e){return n(this.callSuper("toObject",e),{points:this.points.concat()})},_toSVG:function(){for(var e=[],n=this.pathOffset.x,r=this.pathOffset.y,i=t.Object.NUM_FRACTION_DIGITS,s=0,a=this.points.length;s<a;s++)e.push(o(this.points[s].x-n,i),",",o(this.points[s].y-r,i)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',e.join(""),'" />\n']},commonRender:function(e){var t,n=this.points.length,r=this.pathOffset.x,i=this.pathOffset.y;if(!n||isNaN(this.points[n-1].y))return!1;e.beginPath(),e.moveTo(this.points[0].x-r,this.points[0].y-i);for(var o=0;o<n;o++)t=this.points[o],e.lineTo(t.x-r,t.y-i);return!0},_render:function(e){this.commonRender(e)&&this._renderPaintInOrder(e)},complexity:function(){return this.get("points").length}}),t.Polyline.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polyline.fromElementGenerator=function(e){return function(r,i,o){if(!r)return i(null);o||(o={});var s=t.parsePointsAttribute(r.getAttribute("points")),a=t.parseAttributes(r,t[e].ATTRIBUTE_NAMES);a.fromSVG=!0,i(new t[e](s,n(a,o)))}},t.Polyline.fromElement=t.Polyline.fromElementGenerator("Polyline"),t.Polyline.fromObject=function(e,n){return t.Object._fromObject("Polyline",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Polygon?t.warn("fabric.Polygon is already defined"):(t.Polygon=t.util.createClass(t.Polyline,{type:"polygon",_render:function(e){this.commonRender(e)&&(e.closePath(),this._renderPaintInOrder(e))}}),t.Polygon.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polygon.fromElement=t.Polyline.fromElementGenerator("Polygon"),t.Polygon.fromObject=function(e,n){t.Object._fromObject("Polygon",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,r=t.util.array.max,i=t.util.object.extend,o=Object.prototype.toString,s=t.util.toFixed;t.Path?t.warn("fabric.Path is already defined"):(t.Path=t.util.createClass(t.Object,{type:"path",path:null,cacheProperties:t.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:t.Object.prototype.stateProperties.concat("path"),initialize:function(e,n){n=n||{},this.callSuper("initialize",n),e||(e=[]);var r="[object Array]"===o.call(e);this.path=t.util.makePathSimpler(r?e:t.util.parsePath(e)),this.path&&t.Polyline.prototype._setPositionDimensions.call(this,n)},_renderPathCommands:function(e){var t,n=0,r=0,i=0,o=0,s=0,a=0,l=-this.pathOffset.x,c=-this.pathOffset.y;e.beginPath();for(var u=0,d=this.path.length;u<d;++u)switch((t=this.path[u])[0]){case"L":i=t[1],o=t[2],e.lineTo(i+l,o+c);break;case"M":n=i=t[1],r=o=t[2],e.moveTo(i+l,o+c);break;case"C":i=t[5],o=t[6],s=t[3],a=t[4],e.bezierCurveTo(t[1]+l,t[2]+c,s+l,a+c,i+l,o+c);break;case"Q":e.quadraticCurveTo(t[1]+l,t[2]+c,t[3]+l,t[4]+c),i=t[3],o=t[4],s=t[1],a=t[2];break;case"z":case"Z":i=n,o=r,e.closePath()}},_render:function(e){this._renderPathCommands(e),this._renderPaintInOrder(e)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(e){return i(this.callSuper("toObject",e),{path:this.path.map((function(e){return e.slice()}))})},toDatalessObject:function(e){var t=this.toObject(["sourcePath"].concat(e));return t.sourcePath&&delete t.path,t},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',t.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var e=t.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,e)+", "+s(-this.pathOffset.y,e)+")"},toClipPathSVG:function(e){var t=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},toSVG:function(e){var t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var e,i,o=[],s=[],a=0,l=0,c=0,u=0,d=0,h=this.path.length;d<h;++d){switch((e=this.path[d])[0]){case"L":c=e[1],u=e[2],i=[];break;case"M":a=c=e[1],l=u=e[2],i=[];break;case"C":i=t.util.getBoundsOfCurve(c,u,e[1],e[2],e[3],e[4],e[5],e[6]),c=e[5],u=e[6];break;case"Q":i=t.util.getBoundsOfCurve(c,u,e[1],e[2],e[1],e[2],e[3],e[4]),c=e[3],u=e[4];break;case"z":case"Z":c=a,u=l}i.forEach((function(e){o.push(e.x),s.push(e.y)})),o.push(c),s.push(u)}var f=n(o)||0,p=n(s)||0;return{left:f,top:p,width:(r(o)||0)-f,height:(r(s)||0)-p}}}),t.Path.fromObject=function(e,n){if("string"===typeof e.sourcePath){var r=e.sourcePath;t.loadSVGFromURL(r,(function(t){var r=t[0];r.setOptions(e),n&&n(r)}))}else t.Object._fromObject("Path",e,n,"path")},t.Path.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(["d"]),t.Path.fromElement=function(e,n,r){var o=t.parseAttributes(e,t.Path.ATTRIBUTE_NAMES);o.fromSVG=!0,n(new t.Path(o.d,i(o,r)))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,r=t.util.array.max;t.Group||(t.Group=t.util.createClass(t.Object,t.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(e,t,n){t=t||{},this._objects=[],n&&this.callSuper("initialize",t),this._objects=e||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;if(n)this._updateObjectsACoords();else{var i=t&&t.centerPoint;void 0!==t.originX&&(this.originX=t.originX),void 0!==t.originY&&(this.originY=t.originY),i||this._calcBounds(),this._updateObjectsCoords(i),delete t.centerPoint,this.callSuper("initialize",t)}this.setCoords()},_updateObjectsACoords:function(){for(var e=this._objects.length;e--;)this._objects[e].setCoords(!0)},_updateObjectsCoords:function(e){e=e||this.getCenterPoint();for(var t=this._objects.length;t--;)this._updateObjectCoords(this._objects[t],e)},_updateObjectCoords:function(e,t){var n=e.left,r=e.top;e.set({left:n-t.x,top:r-t.y}),e.group=this,e.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(e){var n=!!this.group;return this._restoreObjectsState(),t.util.resetObjectTransform(this),e&&(n&&t.util.removeTransformFromObject(e,this.group.calcTransformMatrix()),this._objects.push(e),e.group=this,e._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,n?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(e){return this._restoreObjectsState(),t.util.resetObjectTransform(this),this.remove(e),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(e){this.dirty=!0,e.group=this,e._set("canvas",this.canvas)},_onObjectRemoved:function(e){this.dirty=!0,delete e.group},_set:function(e,n){var r=this._objects.length;if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(e,n);if("canvas"===e)for(;r--;)this._objects[r]._set(e,n);t.Object.prototype._set.call(this,e,n)},toObject:function(e){var n=this.includeDefaultValues,r=this._objects.filter((function(e){return!e.excludeFromExport})).map((function(t){var r=t.includeDefaultValues;t.includeDefaultValues=n;var i=t.toObject(e);return t.includeDefaultValues=r,i})),i=t.Object.prototype.toObject.call(this,e);return i.objects=r,i},toDatalessObject:function(e){var n,r=this.sourcePath;if(r)n=r;else{var i=this.includeDefaultValues;n=this._objects.map((function(t){var n=t.includeDefaultValues;t.includeDefaultValues=i;var r=t.toDatalessObject(e);return t.includeDefaultValues=n,r}))}var o=t.Object.prototype.toDatalessObject.call(this,e);return o.objects=n,o},render:function(e){this._transformDone=!0,this.callSuper("render",e),this._transformDone=!1},shouldCache:function(){var e=t.Object.prototype.shouldCache.call(this);if(e)for(var n=0,r=this._objects.length;n<r;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1;return e},willDrawShadow:function(){if(t.Object.prototype.willDrawShadow.call(this))return!0;for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(e){for(var t=0,n=this._objects.length;t<n;t++)this._objects[t].render(e);this._drawClipPath(e)},isCacheDirty:function(e){if(this.callSuper("isCacheDirty",e))return!0;if(!this.statefullCache)return!1;for(var t=0,n=this._objects.length;t<n;t++)if(this._objects[t].isCacheDirty(!0)){if(this._cacheCanvas){var r=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-r/2,-i/2,r,i)}return!0}return!1},_restoreObjectsState:function(){var e=this.calcOwnMatrix();return this._objects.forEach((function(n){t.util.addTransformToObject(n,e),delete n.group,n.setCoords()})),this},realizeTransform:function(e,n){return t.util.addTransformToObject(e,n),e},destroy:function(){return this._objects.forEach((function(e){e.set("dirty",!0)})),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var e=this._objects,n=this.canvas;this._objects=[];var r=this.toObject();delete r.objects;var i=new t.ActiveSelection([]);return i.set(r),i.type="activeSelection",n.remove(this),e.forEach((function(e){e.group=i,e.dirty=!0,n.add(e)})),i.canvas=n,i._objects=e,n._activeObject=i,i.setCoords(),i}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(e){e.setCoords(!0)})),this},_calcBounds:function(e){for(var t,n,r,i,o=[],s=[],a=["tr","br","bl","tl"],l=0,c=this._objects.length,u=a.length;l<c;++l){for(r=(t=this._objects[l]).calcACoords(),i=0;i<u;i++)n=a[i],o.push(r[n].x),s.push(r[n].y);t.aCoords=r}this._getBounds(o,s,e)},_getBounds:function(e,i,o){var s=new t.Point(n(e),n(i)),a=new t.Point(r(e),r(i)),l=s.y||0,c=s.x||0,u=a.x-s.x||0,d=a.y-s.y||0;this.width=u,this.height=d,o||this.setPositionByOrigin({x:c,y:l},"left","top")},_toSVG:function(e){for(var t=["<g ","COMMON_PARTS"," >\n"],n=0,r=this._objects.length;n<r;n++)t.push("\t\t",this._objects[n].toSVG(e));return t.push("</g>\n"),t},getSvgStyles:function(){var e="undefined"!==typeof this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")},toClipPathSVG:function(e){for(var t=[],n=0,r=this._objects.length;n<r;n++)t.push("\t",this._objects[n].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}}),t.Group.fromObject=function(e,n){var r=e.objects,i=t.util.object.clone(e,!0);delete i.objects,"string"!==typeof r?t.util.enlivenObjects(r,(function(r){t.util.enlivenObjects([e.clipPath],(function(i){var o=t.util.object.clone(e,!0);o.clipPath=i[0],delete o.objects,n&&n(new t.Group(r,o,!0))}))})):t.loadSVGFromURL(r,(function(o){var s=t.util.groupSVGElements(o,e,r);s.set(i),n&&n(s)}))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.ActiveSelection||(t.ActiveSelection=t.util.createClass(t.Group,{type:"activeSelection",initialize:function(e,n){n=n||{},this._objects=e||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;n.originX&&(this.originX=n.originX),n.originY&&(this.originY=n.originY),this._calcBounds(),this._updateObjectsCoords(),t.Object.prototype.initialize.call(this,n),this.setCoords()},toGroup:function(){var e=this._objects.concat();this._objects=[];var n=t.Object.prototype.toObject.call(this),r=new t.Group([]);if(delete n.type,r.set(n),e.forEach((function(e){e.canvas.remove(e),e.group=r})),r._objects=e,!this.canvas)return r;var i=this.canvas;return i.add(r),i._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(e,t,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",e,t),"undefined"===typeof(n=n||{}).hasControls&&(n.hasControls=!1),n.forActiveSelection=!0;for(var r=0,i=this._objects.length;r<i;r++)this._objects[r]._renderControls(e,n);e.restore()}}),t.ActiveSelection.fromObject=function(e,n){t.util.enlivenObjects(e.objects,(function(r){delete e.objects,n&&n(new t.ActiveSelection(r,e,!0))}))})}(t),function(e){"use strict";var t=i.util.object.extend;e.fabric||(e.fabric={}),e.fabric.Image?i.warn("fabric.Image is already defined."):(i.Image=i.util.createClass(i.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:i.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:i.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(e,t){t||(t={}),this.filters=[],this.cacheKey="texture"+i.Object.__uid++,this.callSuper("initialize",t),this._initElement(e,t)},getElement:function(){return this._element||{}},setElement:function(e,t){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=e,this._originalElement=e,this._initConfig(t),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(e){var t=i.filterBackend;t&&t.evictCachesForKey&&t.evictCachesForKey(e)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(e){i.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var e=this.getElement();return{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}},_stroke:function(e){if(this.stroke&&0!==this.strokeWidth){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,-n),e.lineTo(t,-n),e.lineTo(t,n),e.lineTo(-t,n),e.lineTo(-t,-n),e.closePath()}},toObject:function(e){var n=[];this.filters.forEach((function(e){e&&n.push(e.toObject())}));var r=t(this.callSuper("toObject",["cropX","cropY"].concat(e)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:n});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var e,t=[],n=[],r=this._element,o=-this.width/2,s=-this.height/2,a="",l="";if(!r)return[];if(this.hasCrop()){var c=i.Object.__uid++;t.push('<clipPath id="imageCrop_'+c+'">\n','\t<rect x="'+o+'" y="'+s+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),a=' clip-path="url(#imageCrop_'+c+')" '}if(this.imageSmoothing||(l='" image-rendering="optimizeSpeed'),n.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',o-this.cropX,'" y="',s-this.cropY,'" width="',r.width||r.naturalWidth,'" height="',r.height||r.height,l,'"',a,"></image>\n"),this.stroke||this.strokeDashArray){var u=this.fill;this.fill=null,e=["\t<rect ",'x="',o,'" y="',s,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=u}return t="fill"!==this.paintFirst?t.concat(e,n):t.concat(n,e)},getSrc:function(e){var t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src"):t.src:this.src||""},setSrc:function(e,t,n){return i.util.loadImage(e,(function(e,r){this.setElement(e,n),this._setWidthHeight(),t&&t(this,r)}),this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var e=this.resizeFilter,t=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),r=n.scaleX,o=n.scaleY,s=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||r>t&&o>t)return this._element=s,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=o);i.filterBackend||(i.filterBackend=i.initFilterBackend());var a=i.util.createCanvasElement(),l=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,c=s.width,u=s.height;a.width=c,a.height=u,this._element=a,this._lastScaleX=e.scaleX=r,this._lastScaleY=e.scaleY=o,i.filterBackend.applyFilters([e],s,c,u,this._element,l),this._filterScalingX=a.width/this._originalElement.width,this._filterScalingY=a.height/this._originalElement.height},applyFilters:function(e){if(e=(e=e||this.filters||[]).filter((function(e){return e&&!e.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===e.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var t=this._originalElement,n=t.naturalWidth||t.width,r=t.naturalHeight||t.height;if(this._element===this._originalElement){var o=i.util.createCanvasElement();o.width=n,o.height=r,this._element=o,this._filteredEl=o}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,r),this._lastScaleX=1,this._lastScaleY=1;return i.filterBackend||(i.filterBackend=i.initFilterBackend()),i.filterBackend.applyFilters(e,this._originalElement,n,r,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(e){i.util.setImageSmoothing(e,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)},drawCacheOnCanvas:function(e){i.util.setImageSmoothing(e,this.imageSmoothing),i.Object.prototype.drawCacheOnCanvas.call(this,e)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(e){var t=this._element;if(t){var n=this._filterScalingX,r=this._filterScalingY,i=this.width,o=this.height,s=Math.min,a=Math.max,l=a(this.cropX,0),c=a(this.cropY,0),u=t.naturalWidth||t.width,d=t.naturalHeight||t.height,h=l*n,f=c*r,p=s(i*n,u-h),m=s(o*r,d-f),g=-i/2,v=-o/2,b=s(i,u/n-l),y=s(o,d/r-c);t&&e.drawImage(t,h,f,p,m,g,v,b,y)}},_needsResize:function(){var e=this.getTotalObjectScaling();return e.scaleX!==this._lastScaleX||e.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(e,t){this.setElement(i.util.getById(e),t),i.util.addClass(this.getElement(),i.Image.CSS_CANVAS)},_initConfig:function(e){e||(e={}),this.setOptions(e),this._setWidthHeight(e)},_initFilters:function(e,t){e&&e.length?i.util.enlivenObjects(e,(function(e){t&&t(e)}),"fabric.Image.filters"):t&&t()},_setWidthHeight:function(e){e||(e={});var t=this.getElement();this.width=e.width||t.naturalWidth||t.width||0,this.height=e.height||t.naturalHeight||t.height||0},parsePreserveAspectRatioAttribute:function(){var e,t=i.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),n=this._element.width,r=this._element.height,o=1,s=1,a=0,l=0,c=0,u=0,d=this.width,h=this.height,f={width:d,height:h};return!t||"none"===t.alignX&&"none"===t.alignY?(o=d/n,s=h/r):("meet"===t.meetOrSlice&&(e=(d-n*(o=s=i.util.findScaleToFit(this._element,f)))/2,"Min"===t.alignX&&(a=-e),"Max"===t.alignX&&(a=e),e=(h-r*s)/2,"Min"===t.alignY&&(l=-e),"Max"===t.alignY&&(l=e)),"slice"===t.meetOrSlice&&(e=n-d/(o=s=i.util.findScaleToCover(this._element,f)),"Mid"===t.alignX&&(c=e/2),"Max"===t.alignX&&(c=e),e=r-h/s,"Mid"===t.alignY&&(u=e/2),"Max"===t.alignY&&(u=e),n=d/o,r=h/s)),{width:n,height:r,scaleX:o,scaleY:s,offsetLeft:a,offsetTop:l,cropX:c,cropY:u}}}),i.Image.CSS_CANVAS="canvas-img",i.Image.prototype.getSvgSrc=i.Image.prototype.getSrc,i.Image.fromObject=function(e,t){var n=i.util.object.clone(e);i.util.loadImage(n.src,(function(e,r){r?t&&t(null,!0):i.Image.prototype._initFilters.call(n,n.filters,(function(r){n.filters=r||[],i.Image.prototype._initFilters.call(n,[n.resizeFilter],(function(r){n.resizeFilter=r[0],i.util.enlivenObjects([n.clipPath],(function(r){n.clipPath=r[0];var o=new i.Image(e,n);t(o,!1)}))}))}))}),null,n.crossOrigin)},i.Image.fromURL=function(e,t,n){i.util.loadImage(e,(function(e,r){t&&t(new i.Image(e,n),r)}),null,n&&n.crossOrigin)},i.Image.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),i.Image.fromElement=function(e,n,r){var o=i.parseAttributes(e,i.Image.ATTRIBUTE_NAMES);i.Image.fromURL(o["xlink:href"],n,t(r?i.util.object.clone(r):{},o))})}(t),i.util.object.extend(i.Object.prototype,{_getAngleValueForStraighten:function(){var e=this.angle%360;return e>0?90*Math.round((e-1)/90):90*Math.round(e/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(e){var t=function(){},n=(e=e||{}).onComplete||t,r=e.onChange||t,o=this;return i.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(e){o.rotate(e),r()},onComplete:function(){o.setCoords(),n()}}),this}}),i.util.object.extend(i.StaticCanvas.prototype,{straightenObject:function(e){return e.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(e){return e.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function e(e,t){var n="precision "+t+" float;\nvoid main(){}",r=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(r,n),e.compileShader(r),!!e.getShaderParameter(r,e.COMPILE_STATUS)}function t(e){e&&e.tileSize&&(this.tileSize=e.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.isWebglSupported=function(t){if(i.isLikelyNode)return!1;t=t||i.WebglFilterBackend.prototype.tileSize;var n=document.createElement("canvas"),r=n.getContext("webgl")||n.getContext("experimental-webgl"),o=!1;if(r){i.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),o=i.maxTextureSize>=t;for(var s=["highp","mediump","lowp"],a=0;a<3;a++)if(e(r,s[a])){i.webGlPrecision=s[a];break}}return this.isSupported=o,o},i.WebglFilterBackend=t,t.prototype={tileSize:2048,resources:{},setupGLContext:function(e,t){this.dispose(),this.createWebGLCanvas(e,t),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(e,t)},chooseFastestCopyGLTo2DMethod:function(e,t){var n,r="undefined"!==typeof window.performance;try{new ImageData(1,1),n=!0}catch(p){n=!1}var o="undefined"!==typeof ArrayBuffer,l="undefined"!==typeof Uint8ClampedArray;if(r&&n&&o&&l){var c=i.util.createCanvasElement(),u=new ArrayBuffer(e*t*4);if(i.forceGLPutImageData)return this.imageBuffer=u,void(this.copyGLTo2D=a);var d,h,f={imageBuffer:u,destinationWidth:e,destinationHeight:t,targetCanvas:c};c.width=e,c.height=t,d=window.performance.now(),s.call(f,this.gl,f),h=window.performance.now()-d,d=window.performance.now(),a.call(f,this.gl,f),h>window.performance.now()-d?(this.imageBuffer=u,this.copyGLTo2D=a):this.copyGLTo2D=s}},createWebGLCanvas:function(e,t){var n=i.util.createCanvasElement();n.width=e,n.height=t;var r={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},o=n.getContext("webgl",r);o||(o=n.getContext("experimental-webgl",r)),o&&(o.clearColor(0,0,0,0),this.canvas=n,this.gl=o)},applyFilters:function(e,t,n,r,i,o){var s,a=this.gl;o&&(s=this.getCachedTexture(o,t));var l={originalWidth:t.width||t.originalWidth,originalHeight:t.height||t.originalHeight,sourceWidth:n,sourceHeight:r,destinationWidth:n,destinationHeight:r,context:a,sourceTexture:this.createTexture(a,n,r,!s&&t),targetTexture:this.createTexture(a,n,r),originalTexture:s||this.createTexture(a,n,r,!s&&t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},c=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,c),e.forEach((function(e){e&&e.applyTo(l)})),function(e){var t=e.targetCanvas,n=t.width,r=t.height,i=e.destinationWidth,o=e.destinationHeight;n===i&&r===o||(t.width=i,t.height=o)}(l),this.copyGLTo2D(a,l),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(l.sourceTexture),a.deleteTexture(l.targetTexture),a.deleteFramebuffer(c),i.getContext("2d").setTransform(1,0,0,1,0,0),l},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(e,t,n,r){var i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),r?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),i},getCachedTexture:function(e,t){if(this.textureCache[e])return this.textureCache[e];var n=this.createTexture(this.gl,t.width,t.height,t);return this.textureCache[e]=n,n},evictCachesForKey:function(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])},copyGLTo2D:s,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var e=this.gl,t={renderer:"",vendor:""};if(!e)return t;var n=e.getExtension("WEBGL_debug_renderer_info");if(n){var r=e.getParameter(n.UNMASKED_RENDERER_WEBGL),i=e.getParameter(n.UNMASKED_VENDOR_WEBGL);r&&(t.renderer=r.toLowerCase()),i&&(t.vendor=i.toLowerCase())}return this.gpuInfo=t,t}}}(),function(){"use strict";var e=function(){};function t(){}i.Canvas2dFilterBackend=t,t.prototype={evictCachesForKey:e,dispose:e,clearWebGLCaches:e,resources:{},applyFilters:function(e,t,n,r,i){var o=i.getContext("2d");o.drawImage(t,0,0,n,r);var s={sourceWidth:n,sourceHeight:r,imageData:o.getImageData(0,0,n,r),originalEl:t,originalImageData:o.getImageData(0,0,n,r),canvasEl:i,ctx:o,filterBackend:this};return e.forEach((function(e){e.applyTo(s)})),s.imageData.width===n&&s.imageData.height===r||(i.width=s.imageData.width,i.height=s.imageData.height),o.putImageData(s.imageData,0,0),s}}}(),i.Image=i.Image||{},i.Image.filters=i.Image.filters||{},i.Image.filters.BaseFilter=i.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(e){e&&this.setOptions(e)},setOptions:function(e){for(var t in e)this[t]=e[t]},createProgram:function(e,t,n){t=t||this.fragmentSource,n=n||this.vertexSource,"highp"!==i.webGlPrecision&&(t=t.replace(/precision highp float/g,"precision "+i.webGlPrecision+" float"));var r=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+e.getShaderInfoLog(r));var o=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+e.getShaderInfoLog(o));var s=e.createProgram();if(e.attachShader(s,r),e.attachShader(s,o),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+e.getProgramInfoLog(s));var a=this.getAttributeLocations(e,s),l=this.getUniformLocations(e,s)||{};return l.uStepW=e.getUniformLocation(s,"uStepW"),l.uStepH=e.getUniformLocation(s,"uStepH"),{program:s,attributeLocations:a,uniformLocations:l}},getAttributeLocations:function(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(e,t,n){var r=t.aPosition,i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)},_setupFrameBuffer:function(e){var t,n,r=e.context;e.passes>1?(t=e.destinationWidth,n=e.destinationHeight,e.sourceWidth===t&&e.sourceHeight===n||(r.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(r,t,n)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.targetTexture,0)):(r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish())},_swapTextures:function(e){e.passes--,e.pass++;var t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t},isNeutralState:function(){var e=this.mainParameter,t=i.Image.filters[this.type].prototype;if(e){if(Array.isArray(t[e])){for(var n=t[e].length;n--;)if(this[e][n]!==t[e][n])return!1;return!0}return t[e]===this[e]}return!1},applyTo:function(e){e.webgl?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},retrieveShader:function(e){return e.programCache.hasOwnProperty(this.type)||(e.programCache[this.type]=this.createProgram(e.context)),e.programCache[this.type]},applyToWebGL:function(e){var t=e.context,n=this.retrieveShader(e);0===e.pass&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(n.program),this.sendAttributeData(t,n.attributeLocations,e.aPosition),t.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,n.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(e,t,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)},unbindAdditionalTexture:function(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(e){this[this.mainParameter]=e},sendUniformData:function(){},createHelpLayer:function(e){if(!e.helpLayer){var t=document.createElement("canvas");t.width=e.sourceWidth,t.height=e.sourceHeight,e.helpLayer=t}},toObject:function(){var e={type:this.type},t=this.mainParameter;return t&&(e[t]=this[t]),e},toJSON:function(){return this.toObject()}}),i.Image.filters.BaseFilter.fromObject=function(e,t){var n=new i.Image.filters[e.type](e);return t&&t(n),n},function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.ColorMatrix=r(n.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(e){this.callSuper("initialize",e),this.matrix=this.matrix.slice(0)},applyTo2d:function(e){var t,n,r,i,o,s=e.imageData.data,a=s.length,l=this.matrix,c=this.colorsOnly;for(o=0;o<a;o+=4)t=s[o],n=s[o+1],r=s[o+2],c?(s[o]=t*l[0]+n*l[1]+r*l[2]+255*l[4],s[o+1]=t*l[5]+n*l[6]+r*l[7]+255*l[9],s[o+2]=t*l[10]+n*l[11]+r*l[12]+255*l[14]):(i=s[o+3],s[o]=t*l[0]+n*l[1]+r*l[2]+i*l[3]+255*l[4],s[o+1]=t*l[5]+n*l[6]+r*l[7]+i*l[8]+255*l[9],s[o+2]=t*l[10]+n*l[11]+r*l[12]+i*l[13]+255*l[14],s[o+3]=t*l[15]+n*l[16]+r*l[17]+i*l[18]+255*l[19])},getUniformLocations:function(e,t){return{uColorMatrix:e.getUniformLocation(t,"uColorMatrix"),uConstants:e.getUniformLocation(t,"uConstants")}},sendUniformData:function(e,t){var n=this.matrix,r=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],i=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,r),e.uniform4fv(t.uConstants,i)}}),t.Image.filters.ColorMatrix.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Brightness=r(n.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(e){if(0!==this.brightness){var t,n=e.imageData.data,r=n.length,i=Math.round(255*this.brightness);for(t=0;t<r;t+=4)n[t]=n[t]+i,n[t+1]=n[t+1]+i,n[t+2]=n[t+2]+i}},getUniformLocations:function(e,t){return{uBrightness:e.getUniformLocation(t,"uBrightness")}},sendUniformData:function(e,t){e.uniform1f(t.uBrightness,this.brightness)}}),t.Image.filters.Brightness.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters,i=t.util.createClass;r.Convolute=i(r.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(e){var t=Math.sqrt(this.matrix.length),n=this.type+"_"+t+"_"+(this.opaque?1:0),r=this.fragmentSource[n];return e.programCache.hasOwnProperty(n)||(e.programCache[n]=this.createProgram(e.context,r)),e.programCache[n]},applyTo2d:function(e){var t,n,r,i,o,s,a,l,c,u,d,h,f,p=e.imageData,m=p.data,g=this.matrix,v=Math.round(Math.sqrt(g.length)),b=Math.floor(v/2),y=p.width,w=p.height,x=e.ctx.createImageData(y,w),_=x.data,C=this.opaque?1:0;for(d=0;d<w;d++)for(u=0;u<y;u++){for(o=4*(d*y+u),t=0,n=0,r=0,i=0,f=0;f<v;f++)for(h=0;h<v;h++)s=u+h-b,(a=d+f-b)<0||a>=w||s<0||s>=y||(l=4*(a*y+s),c=g[f*v+h],t+=m[l]*c,n+=m[l+1]*c,r+=m[l+2]*c,C||(i+=m[l+3]*c));_[o]=t,_[o+1]=n,_[o+2]=r,_[o+3]=C?m[o+3]:i}e.imageData=x},getUniformLocations:function(e,t){return{uMatrix:e.getUniformLocation(t,"uMatrix"),uOpaque:e.getUniformLocation(t,"uOpaque"),uHalfSize:e.getUniformLocation(t,"uHalfSize"),uSize:e.getUniformLocation(t,"uSize")}},sendUniformData:function(e,t){e.uniform1fv(t.uMatrix,this.matrix)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),t.Image.filters.Convolute.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Grayscale=r(n.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(e){var t,n,r=e.imageData.data,i=r.length,o=this.mode;for(t=0;t<i;t+=4)"average"===o?n=(r[t]+r[t+1]+r[t+2])/3:"lightness"===o?n=(Math.min(r[t],r[t+1],r[t+2])+Math.max(r[t],r[t+1],r[t+2]))/2:"luminosity"===o&&(n=.21*r[t]+.72*r[t+1]+.07*r[t+2]),r[t]=n,r[t+1]=n,r[t+2]=n},retrieveShader:function(e){var t=this.type+"_"+this.mode;if(!e.programCache.hasOwnProperty(t)){var n=this.fragmentSource[this.mode];e.programCache[t]=this.createProgram(e.context,n)}return e.programCache[t]},getUniformLocations:function(e,t){return{uMode:e.getUniformLocation(t,"uMode")}},sendUniformData:function(e,t){e.uniform1i(t.uMode,1)},isNeutralState:function(){return!1}}),t.Image.filters.Grayscale.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Invert=r(n.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(e){var t,n=e.imageData.data,r=n.length;for(t=0;t<r;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(e,t){return{uInvert:e.getUniformLocation(t,"uInvert")}},sendUniformData:function(e,t){e.uniform1i(t.uInvert,this.invert)}}),t.Image.filters.Invert.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters,i=t.util.createClass;r.Noise=i(r.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(e){if(0!==this.noise){var t,n,r=e.imageData.data,i=r.length,o=this.noise;for(t=0,i=r.length;t<i;t+=4)n=(.5-Math.random())*o,r[t]+=n,r[t+1]+=n,r[t+2]+=n}},getUniformLocations:function(e,t){return{uNoise:e.getUniformLocation(t,"uNoise"),uSeed:e.getUniformLocation(t,"uSeed")}},sendUniformData:function(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),t.Image.filters.Noise.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Pixelate=r(n.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(e){var t,n,r,i,o,s,a,l,c,u,d,h=e.imageData,f=h.data,p=h.height,m=h.width;for(n=0;n<p;n+=this.blocksize)for(r=0;r<m;r+=this.blocksize)for(i=f[t=4*n*m+4*r],o=f[t+1],s=f[t+2],a=f[t+3],u=Math.min(n+this.blocksize,p),d=Math.min(r+this.blocksize,m),l=n;l<u;l++)for(c=r;c<d;c++)f[t=4*l*m+4*c]=i,f[t+1]=o,f[t+2]=s,f[t+3]=a},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(e,t){return{uBlocksize:e.getUniformLocation(t,"uBlocksize"),uStepW:e.getUniformLocation(t,"uStepW"),uStepH:e.getUniformLocation(t,"uStepH")}},sendUniformData:function(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}),t.Image.filters.Pixelate.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters,i=t.util.createClass;r.RemoveColor=i(r.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(e){var n,r,i,o,s=e.imageData.data,a=255*this.distance,l=new t.Color(this.color).getSource(),c=[l[0]-a,l[1]-a,l[2]-a],u=[l[0]+a,l[1]+a,l[2]+a];for(n=0;n<s.length;n+=4)r=s[n],i=s[n+1],o=s[n+2],r>c[0]&&i>c[1]&&o>c[2]&&r<u[0]&&i<u[1]&&o<u[2]&&(s[n+3]=0)},getUniformLocations:function(e,t){return{uLow:e.getUniformLocation(t,"uLow"),uHigh:e.getUniformLocation(t,"uHigh")}},sendUniformData:function(e,n){var r=new t.Color(this.color).getSource(),i=parseFloat(this.distance),o=[0+r[0]/255-i,0+r[1]/255-i,0+r[2]/255-i,1],s=[r[0]/255+i,r[1]/255+i,r[2]/255+i,1];e.uniform4fv(n.uLow,o),e.uniform4fv(n.uHigh,s)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),t.Image.filters.RemoveColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass,i={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in i)n[o]=r(n.ColorMatrix,{type:o,matrix:i[o],mainParameter:!1,colorsOnly:!0}),t.Image.filters[o].fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,r=t.util.createClass;n.BlendColor=r(n.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(e){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[e]+"}\n}"},retrieveShader:function(e){var t,n=this.type+"_"+this.mode;return e.programCache.hasOwnProperty(n)||(t=this.buildSource(this.mode),e.programCache[n]=this.createProgram(e.context,t)),e.programCache[n]},applyTo2d:function(e){var n,r,i,o,s,a,l,c=e.imageData.data,u=c.length,d=1-this.alpha;n=(l=new t.Color(this.color).getSource())[0]*this.alpha,r=l[1]*this.alpha,i=l[2]*this.alpha;for(var h=0;h<u;h+=4)switch(o=c[h],s=c[h+1],a=c[h+2],this.mode){case"multiply":c[h]=o*n/255,c[h+1]=s*r/255,c[h+2]=a*i/255;break;case"screen":c[h]=255-(255-o)*(255-n)/255,c[h+1]=255-(255-s)*(255-r)/255,c[h+2]=255-(255-a)*(255-i)/255;break;case"add":c[h]=o+n,c[h+1]=s+r,c[h+2]=a+i;break;case"diff":case"difference":c[h]=Math.abs(o-n),c[h+1]=Math.abs(s-r),c[h+2]=Math.abs(a-i);break;case"subtract":c[h]=o-n,c[h+1]=s-r,c[h+2]=a-i;break;case"darken":c[h]=Math.min(o,n),c[h+1]=Math.min(s,r),c[h+2]=Math.min(a,i);break;case"lighten":c[h]=Math.max(o,n),c[h+1]=Math.max(s,r),c[h+2]=Math.max(a,i);break;case"overlay":c[h]=n<128?2*o*n/255:255-2*(255-o)*(255-n)/255,c[h+1]=r<128?2*s*r/255:255-2*(255-s)*(255-r)/255,c[h+2]=i<128?2*a*i/255:255-2*(255-a)*(255-i)/255;break;case"exclusion":c[h]=n+o-2*n*o/255,c[h+1]=r+s-2*r*s/255,c[h+2]=i+a-2*i*a/255;break;case"tint":c[h]=n+o*d,c[h+1]=r+s*d,c[h+2]=i+a*d}},getUniformLocations:function(e,t){return{uColor:e.getUniformLocation(t,"uColor")}},sendUniformData:function(e,n){var r=new t.Color(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,e.uniform4fv(n.uColor,r)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,r=t.util.createClass;n.BlendImage=r(n.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(e){var t=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return e.programCache.hasOwnProperty(t)||(e.programCache[t]=this.createProgram(e.context,n)),e.programCache[t]},applyToWebGL:function(e){var t=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,n,t.TEXTURE1),this.callSuper("applyToWebGL",e),this.unbindAdditionalTexture(t,t.TEXTURE1)},createTexture:function(e,t){return e.getCachedTexture(t.cacheKey,t._element)},calculateMatrix:function(){var e=this.image,t=e._element.width,n=e._element.height;return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/n,1]},applyTo2d:function(e){var n,r,i,o,s,a,l,c,u,d,h,f=e.imageData,p=e.filterBackend.resources,m=f.data,g=m.length,v=f.width,b=f.height,y=this.image;p.blendImage||(p.blendImage=t.util.createCanvasElement()),d=(u=p.blendImage).getContext("2d"),u.width!==v||u.height!==b?(u.width=v,u.height=b):d.clearRect(0,0,v,b),d.setTransform(y.scaleX,0,0,y.scaleY,y.left,y.top),d.drawImage(y._element,0,0,v,b),h=d.getImageData(0,0,v,b).data;for(var w=0;w<g;w+=4)switch(s=m[w],a=m[w+1],l=m[w+2],c=m[w+3],n=h[w],r=h[w+1],i=h[w+2],o=h[w+3],this.mode){case"multiply":m[w]=s*n/255,m[w+1]=a*r/255,m[w+2]=l*i/255,m[w+3]=c*o/255;break;case"mask":m[w+3]=o}},getUniformLocations:function(e,t){return{uTransformMatrix:e.getUniformLocation(t,"uTransformMatrix"),uImage:e.getUniformLocation(t,"uImage")}},sendUniformData:function(e,t){var n=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendImage.fromObject=function(e,n){t.Image.fromObject(e.image,(function(r){var i=t.util.object.clone(e);i.image=r,n(new t.Image.filters.BlendImage(i))}))}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.pow,r=Math.floor,i=Math.sqrt,o=Math.abs,s=Math.round,a=Math.sin,l=Math.ceil,c=t.Image.filters,u=t.util.createClass;c.Resize=u(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(e,t){return{uDelta:e.getUniformLocation(t,"uDelta"),uTaps:e.getUniformLocation(t,"uTaps")}},sendUniformData:function(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)},retrieveShader:function(e){var t=this.getFilterWindow(),n=this.type+"_"+t;if(!e.programCache.hasOwnProperty(n)){var r=this.generateShader(t);e.programCache[n]=this.createProgram(e.context,r)}return e.programCache[n]},getFilterWindow:function(){var e=this.tempScale;return Math.ceil(this.lanczosLobes/e)},getTaps:function(){for(var e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,n=this.getFilterWindow(),r=new Array(n),i=1;i<=n;i++)r[i-1]=e(i*t);return r},generateShader:function(e){for(var t=new Array(e),n=this.fragmentSourceTOP,r=1;r<=e;r++)t[r-1]=r+".0 * uDelta";return n+="uniform float uTaps["+e+"];\n",n+="void main() {\n",n+="  vec4 color = texture2D(uTexture, vTexCoord);\n",n+="  float sum = 1.0;\n",t.forEach((function(e,t){n+="  color += texture2D(uTexture, vTexCoord + "+e+") * uTaps["+t+"];\n",n+="  color += texture2D(uTexture, vTexCoord - "+e+") * uTaps["+t+"];\n",n+="  sum += 2.0 * uTaps["+t+"];\n"})),n+="  gl_FragColor = color / sum;\n",n+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(e){e.webgl?(e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceHeight=e.destinationHeight):this.applyTo2d(e)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(e){return function(t){if(t>=e||t<=-e)return 0;if(t<1.1920929e-7&&t>-1.1920929e-7)return 1;var n=(t*=Math.PI)/e;return a(t)/t*a(n)/n}},applyTo2d:function(e){var t=e.imageData,n=this.scaleX,r=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/r;var i,o=t.width,a=t.height,l=s(o*n),c=s(a*r);"sliceHack"===this.resizeType?i=this.sliceByTwo(e,o,a,l,c):"hermite"===this.resizeType?i=this.hermiteFastResize(e,o,a,l,c):"bilinear"===this.resizeType?i=this.bilinearFiltering(e,o,a,l,c):"lanczos"===this.resizeType&&(i=this.lanczosResize(e,o,a,l,c)),e.imageData=i},sliceByTwo:function(e,n,i,o,s){var a,l,c=e.imageData,u=.5,d=!1,h=!1,f=n*u,p=i*u,m=t.filterBackend.resources,g=0,v=0,b=n,y=0;for(m.sliceByTwo||(m.sliceByTwo=document.createElement("canvas")),((a=m.sliceByTwo).width<1.5*n||a.height<i)&&(a.width=1.5*n,a.height=i),(l=a.getContext("2d")).clearRect(0,0,1.5*n,i),l.putImageData(c,0,0),o=r(o),s=r(s);!d||!h;)n=f,i=p,o<r(f*u)?f=r(f*u):(f=o,d=!0),s<r(p*u)?p=r(p*u):(p=s,h=!0),l.drawImage(a,g,v,n,i,b,y,f,p),g=b,v=y,y+=p;return l.getImageData(g,v,o,s)},lanczosResize:function(e,t,s,a,c){var u=e.imageData.data,d=e.ctx.createImageData(a,c),h=d.data,f=this.lanczosCreate(this.lanczosLobes),p=this.rcpScaleX,m=this.rcpScaleY,g=2/this.rcpScaleX,v=2/this.rcpScaleY,b=l(p*this.lanczosLobes/2),y=l(m*this.lanczosLobes/2),w={},x={},_={};return function e(l){var C,k,S,A,T,I,M,E,P,D,j;for(x.x=(l+.5)*p,_.x=r(x.x),C=0;C<c;C++){for(x.y=(C+.5)*m,_.y=r(x.y),T=0,I=0,M=0,E=0,P=0,k=_.x-b;k<=_.x+b;k++)if(!(k<0||k>=t)){D=r(1e3*o(k-x.x)),w[D]||(w[D]={});for(var O=_.y-y;O<=_.y+y;O++)O<0||O>=s||(j=r(1e3*o(O-x.y)),w[D][j]||(w[D][j]=f(i(n(D*g,2)+n(j*v,2))/1e3)),(S=w[D][j])>0&&(T+=S,I+=S*u[A=4*(O*t+k)],M+=S*u[A+1],E+=S*u[A+2],P+=S*u[A+3]))}h[A=4*(C*a+l)]=I/T,h[A+1]=M/T,h[A+2]=E/T,h[A+3]=P/T}return++l<a?e(l):d}(0)},bilinearFiltering:function(e,t,n,i,o){var s,a,l,c,u,d,h,f,p,m=0,g=this.rcpScaleX,v=this.rcpScaleY,b=4*(t-1),y=e.imageData.data,w=e.ctx.createImageData(i,o),x=w.data;for(l=0;l<o;l++)for(c=0;c<i;c++)for(u=g*c-(s=r(g*c)),d=v*l-(a=r(v*l)),p=4*(a*t+s),h=0;h<4;h++)f=y[p+h]*(1-u)*(1-d)+y[p+4+h]*u*(1-d)+y[p+b+h]*d*(1-u)+y[p+b+4+h]*u*d,x[m++]=f;return w},hermiteFastResize:function(e,t,n,s,a){for(var c=this.rcpScaleX,u=this.rcpScaleY,d=l(c/2),h=l(u/2),f=e.imageData.data,p=e.ctx.createImageData(s,a),m=p.data,g=0;g<a;g++)for(var v=0;v<s;v++){for(var b=4*(v+g*s),y=0,w=0,x=0,_=0,C=0,k=0,S=0,A=(g+.5)*u,T=r(g*u);T<(g+1)*u;T++)for(var I=o(A-(T+.5))/h,M=(v+.5)*c,E=I*I,P=r(v*c);P<(v+1)*c;P++){var D=o(M-(P+.5))/d,j=i(E+D*D);j>1&&j<-1||(y=2*j*j*j-3*j*j+1)>0&&(S+=y*f[3+(D=4*(P+T*t))],x+=y,f[D+3]<255&&(y=y*f[D+3]/250),_+=y*f[D],C+=y*f[D+1],k+=y*f[D+2],w+=y)}m[b]=_/w,m[b+1]=C/w,m[b+2]=k/w,m[b+3]=S/x}return p},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),t.Image.filters.Resize.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Contrast=r(n.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(e){if(0!==this.contrast){var t,n=e.imageData.data,r=n.length,i=Math.floor(255*this.contrast),o=259*(i+255)/(255*(259-i));for(t=0;t<r;t+=4)n[t]=o*(n[t]-128)+128,n[t+1]=o*(n[t+1]-128)+128,n[t+2]=o*(n[t+2]-128)+128}},getUniformLocations:function(e,t){return{uContrast:e.getUniformLocation(t,"uContrast")}},sendUniformData:function(e,t){e.uniform1f(t.uContrast,this.contrast)}}),t.Image.filters.Contrast.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Saturation=r(n.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(e){if(0!==this.saturation){var t,n,r=e.imageData.data,i=r.length,o=-this.saturation;for(t=0;t<i;t+=4)n=Math.max(r[t],r[t+1],r[t+2]),r[t]+=n!==r[t]?(n-r[t])*o:0,r[t+1]+=n!==r[t+1]?(n-r[t+1])*o:0,r[t+2]+=n!==r[t+2]?(n-r[t+2])*o:0}},getUniformLocations:function(e,t){return{uSaturation:e.getUniformLocation(t,"uSaturation")}},sendUniformData:function(e,t){e.uniform1f(t.uSaturation,-this.saturation)}}),t.Image.filters.Saturation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Vibrance=r(n.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(e){if(0!==this.vibrance){var t,n,r,i,o=e.imageData.data,s=o.length,a=-this.vibrance;for(t=0;t<s;t+=4)n=Math.max(o[t],o[t+1],o[t+2]),r=(o[t]+o[t+1]+o[t+2])/3,i=2*Math.abs(n-r)/255*a,o[t]+=n!==o[t]?(n-o[t])*i:0,o[t+1]+=n!==o[t+1]?(n-o[t+1])*i:0,o[t+2]+=n!==o[t+2]?(n-o[t+2])*i:0}},getUniformLocations:function(e,t){return{uVibrance:e.getUniformLocation(t,"uVibrance")}},sendUniformData:function(e,t){e.uniform1f(t.uVibrance,-this.vibrance)}}),t.Image.filters.Vibrance.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Blur=r(n.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(e){e.webgl?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},applyTo2d:function(e){e.imageData=this.simpleBlur(e)},simpleBlur:function(e){var n,r,i=e.filterBackend.resources,o=e.imageData.width,s=e.imageData.height;i.blurLayer1||(i.blurLayer1=t.util.createCanvasElement(),i.blurLayer2=t.util.createCanvasElement()),n=i.blurLayer1,r=i.blurLayer2,n.width===o&&n.height===s||(r.width=n.width=o,r.height=n.height=s);var a,l,c,u,d=n.getContext("2d"),h=r.getContext("2d"),f=15,p=.06*this.blur*.5;for(d.putImageData(e.imageData,0,0),h.clearRect(0,0,o,s),u=-15;u<=f;u++)c=p*(l=u/f)*o+(a=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(l),h.drawImage(n,c,a),d.drawImage(r,0,0),h.globalAlpha=1,h.clearRect(0,0,r.width,r.height);for(u=-15;u<=f;u++)c=p*(l=u/f)*s+(a=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(l),h.drawImage(n,a,c),d.drawImage(r,0,0),h.globalAlpha=1,h.clearRect(0,0,r.width,r.height);e.ctx.drawImage(n,0,0);var m=e.ctx.getImageData(0,0,n.width,n.height);return d.globalAlpha=1,d.clearRect(0,0,n.width,n.height),m},getUniformLocations:function(e,t){return{delta:e.getUniformLocation(t,"uDelta")}},sendUniformData:function(e,t){var n=this.chooseRightDelta();e.uniform2fv(t.delta,n)},chooseRightDelta:function(){var e,t=1,n=[0,0];return this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio),e=t*this.blur*.12,this.horizontal?n[0]=e:n[1]=e,n}}),n.Blur.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Gamma=r(n.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(e){this.gamma=[1,1,1],n.BaseFilter.prototype.initialize.call(this,e)},applyTo2d:function(e){var t,n=e.imageData.data,r=this.gamma,i=n.length,o=1/r[0],s=1/r[1],a=1/r[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),t=0,i=256;t<i;t++)this.rVals[t]=255*Math.pow(t/255,o),this.gVals[t]=255*Math.pow(t/255,s),this.bVals[t]=255*Math.pow(t/255,a);for(t=0,i=n.length;t<i;t+=4)n[t]=this.rVals[n[t]],n[t+1]=this.gVals[n[t+1]],n[t+2]=this.bVals[n[t+2]]},getUniformLocations:function(e,t){return{uGamma:e.getUniformLocation(t,"uGamma")}},sendUniformData:function(e,t){e.uniform3fv(t.uGamma,this.gamma)}}),t.Image.filters.Gamma.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Composed=r(n.BaseFilter,{type:"Composed",subFilters:[],initialize:function(e){this.callSuper("initialize",e),this.subFilters=this.subFilters.slice(0)},applyTo:function(e){e.passes+=this.subFilters.length-1,this.subFilters.forEach((function(t){t.applyTo(e)}))},toObject:function(){return t.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(e){return e.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(e){return!e.isNeutralState()}))}}),t.Image.filters.Composed.fromObject=function(e,n){var r=(e.subFilters||[]).map((function(e){return new t.Image.filters[e.type](e)})),i=new t.Image.filters.Composed({subFilters:r});return n&&n(i),i}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.HueRotation=r(n.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var e=this.rotation*Math.PI,n=t.util.cos(e),r=t.util.sin(e),i=1/3,o=Math.sqrt(i)*r,s=1-n;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=n+s/3,this.matrix[1]=i*s-o,this.matrix[2]=i*s+o,this.matrix[5]=i*s+o,this.matrix[6]=n+i*s,this.matrix[7]=i*s-o,this.matrix[10]=i*s-o,this.matrix[11]=i*s+o,this.matrix[12]=n+i*s},isNeutralState:function(e){return this.calculateMatrix(),n.BaseFilter.prototype.isNeutralState.call(this,e)},applyTo:function(e){this.calculateMatrix(),n.BaseFilter.prototype.applyTo.call(this,e)}}),t.Image.filters.HueRotation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.clone;if(t.Text)t.warn("fabric.Text is already defined");else{var r="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");t.Text=t.util.createClass(t.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:t.Object.prototype.stateProperties.concat(r),cacheProperties:t.Object.prototype.cacheProperties.concat(r),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(e,t){this.styles=t&&t.styles||{},this.text=e,this.__skipDimension=!0,this.callSuper("initialize",t),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var e=this.path;e&&(e.segmentsInfo=t.util.getPathSegmentsInfo(e.path))},getMeasuringContext:function(){return t._measuringContext||(t._measuringContext=this.canvas&&this.canvas.contextCache||t.util.createCanvasElement().getContext("2d")),t._measuringContext},_splitText:function(){var e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var e,t,n,r,i,o,s,a=0,l=this._textLines.length;a<l;a++)if(("justify"===this.textAlign||a!==l-1&&!this.isEndOfWrapping(a))&&(r=0,i=this._textLines[a],(t=this.getLineWidth(a))<this.width&&(s=this.textLines[a].match(this._reSpacesAndTabs)))){n=s.length,e=(this.width-t)/n;for(var c=0,u=i.length;c<=u;c++)o=this.__charBounds[a][c],this._reSpaceAndTab.test(i[c])?(o.width+=e,o.kernedWidth+=e,o.left+=r,r+=e):o.left+=r}},isEndOfWrapping:function(e){return e===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var e=this.callSuper("_getCacheCanvasDimensions"),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e},_render:function(e){var t=this.path;t&&!t.isNotVisible()&&t._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")},_renderText:function(e){"stroke"===this.paintFirst?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))},_setTextStyles:function(e,t,n){e.textBaseline="alphabetic",e.font=this._getFontDeclaration(t,n)},calcTextWidth:function(){for(var e=this.getLineWidth(0),t=1,n=this._textLines.length;t<n;t++){var r=this.getLineWidth(t);r>e&&(e=r)}return e},_renderTextLine:function(e,t,n,r,i,o){this._renderChars(e,t,n,r,i,o)},_renderTextLinesBackground:function(e){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var t,n,r,i,o,s,a,l=e.fillStyle,c=this._getLeftOffset(),u=this._getTopOffset(),d=0,h=0,f=this.path,p=0,m=this._textLines.length;p<m;p++)if(t=this.getHeightOfLine(p),this.textBackgroundColor||this.styleHas("textBackgroundColor",p)){r=this._textLines[p],n=this._getLineLeftOffset(p),h=0,d=0,i=this.getValueOfPropertyAt(p,0,"textBackgroundColor");for(var g=0,v=r.length;g<v;g++)o=this.__charBounds[p][g],s=this.getValueOfPropertyAt(p,g,"textBackgroundColor"),f?(e.save(),e.translate(o.renderLeft,o.renderTop),e.rotate(o.angle),e.fillStyle=s,s&&e.fillRect(-o.width/2,-t/this.lineHeight*(1-this._fontSizeFraction),o.width,t/this.lineHeight),e.restore()):s!==i?(a=c+n+d,"rtl"===this.direction&&(a=this.width-a-h),e.fillStyle=i,i&&e.fillRect(a,u,h,t/this.lineHeight),d=o.left,h=o.width,i=s):h+=o.kernedWidth;s&&!f&&(a=c+n+d,"rtl"===this.direction&&(a=this.width-a-h),e.fillStyle=s,e.fillRect(a,u,h,t/this.lineHeight)),u+=t}else u+=t;e.fillStyle=l,this._removeShadow(e)}},getFontCache:function(e){var n=e.fontFamily.toLowerCase();t.charWidthsCache[n]||(t.charWidthsCache[n]={});var r=t.charWidthsCache[n],i=e.fontStyle.toLowerCase()+"_"+(e.fontWeight+"").toLowerCase();return r[i]||(r[i]={}),r[i]},_measureChar:function(e,t,n,r){var i,o,s,a,l=this.getFontCache(t),c=n+e,u=this._getFontDeclaration(t)===this._getFontDeclaration(r),d=t.fontSize/this.CACHE_FONT_SIZE;if(n&&void 0!==l[n]&&(s=l[n]),void 0!==l[e]&&(a=i=l[e]),u&&void 0!==l[c]&&(a=(o=l[c])-s),void 0===i||void 0===s||void 0===o){var h=this.getMeasuringContext();this._setTextStyles(h,t,!0)}return void 0===i&&(a=i=h.measureText(e).width,l[e]=i),void 0===s&&u&&n&&(s=h.measureText(n).width,l[n]=s),u&&void 0===o&&(o=h.measureText(c).width,l[c]=o,a=o-s),{width:i*d,kernedWidth:a*d}},getHeightOfChar:function(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")},measureLine:function(e){var t=this._measureLine(e);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t},_measureLine:function(e){var n,r,i,o,s,a,l=0,c=this._textLines[e],u=new Array(c.length),d=0,h=this.path,f="right"===this.pathSide;for(this.__charBounds[e]=u,n=0;n<c.length;n++)r=c[n],o=this._getGraphemeBox(r,e,n,i),u[n]=o,l+=o.kernedWidth,i=r;if(u[n]={left:o?o.left+o.width:0,width:0,kernedWidth:0,height:this.fontSize},h){switch(a=h.segmentsInfo[h.segmentsInfo.length-1].length,(s=t.util.getPointOnPath(h.path,0,h.segmentsInfo)).x+=h.pathOffset.x,s.y+=h.pathOffset.y,this.textAlign){case"left":d=f?a-l:0;break;case"center":d=(a-l)/2;break;case"right":d=f?0:a-l}for(d+=this.pathStartOffset*(f?-1:1),n=f?c.length-1:0;f?n>=0:n<c.length;f?n--:n++)o=u[n],d>a?d%=a:d<0&&(d+=a),this._setGraphemeOnPath(d,o,s),d+=o.kernedWidth}return{width:l,numOfSpaces:0}},_setGraphemeOnPath:function(e,n,r){var i=e+n.kernedWidth/2,o=this.path,s=t.util.getPointOnPath(o.path,i,o.segmentsInfo);n.renderLeft=s.x-r.x,n.renderTop=s.y-r.y,n.angle=s.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(e,t,n,r,i){var o,s=this.getCompleteStyleDeclaration(t,n),a=r?this.getCompleteStyleDeclaration(t,n-1):{},l=this._measureChar(e,s,r,a),c=l.kernedWidth,u=l.width;0!==this.charSpacing&&(u+=o=this._getWidthOfCharSpacing(),c+=o);var d={width:u,left:0,height:s.fontSize,kernedWidth:c,deltaY:s.deltaY};if(n>0&&!i){var h=this.__charBounds[t][n-1];d.left=h.left+h.width+l.kernedWidth-l.width}return d},getHeightOfLine:function(e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var t=this._textLines[e],n=this.getHeightOfChar(e,0),r=1,i=t.length;r<i;r++)n=Math.max(this.getHeightOfChar(e,r),n);return this.__lineHeights[e]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var e,t=0,n=0,r=this._textLines.length;n<r;n++)e=this.getHeightOfLine(n),t+=n===r-1?e/this.lineHeight:e;return t},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(e,t){e.save();for(var n=0,r=this._getLeftOffset(),i=this._getTopOffset(),o=0,s=this._textLines.length;o<s;o++){var a=this.getHeightOfLine(o),l=a/this.lineHeight,c=this._getLineLeftOffset(o);this._renderTextLine(t,e,this._textLines[o],r+c,i+n+l,o),n+=a}e.restore()},_renderTextFill:function(e){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(e,"fillText")},_renderTextStroke:function(e){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())},_renderChars:function(e,t,n,r,i,o){var s,a,l,c,u,d=this.getHeightOfLine(o),h=-1!==this.textAlign.indexOf("justify"),f="",p=0,m=this.path,g=!h&&0===this.charSpacing&&this.isEmptyStyles(o)&&!m,v="ltr"===this.direction,b="ltr"===this.direction?1:-1;if(t.save(),i-=d*this._fontSizeFraction/this.lineHeight,g)return t.canvas.setAttribute("dir",v?"ltr":"rtl"),t.direction=v?"ltr":"rtl",t.textAlign=v?"left":"right",this._renderChar(e,t,o,0,n.join(""),r,i,d),void t.restore();for(var y=0,w=n.length-1;y<=w;y++)c=y===w||this.charSpacing||m,f+=n[y],l=this.__charBounds[o][y],0===p?(r+=b*(l.kernedWidth-l.width),p+=l.width):p+=l.kernedWidth,h&&!c&&this._reSpaceAndTab.test(n[y])&&(c=!0),c||(s=s||this.getCompleteStyleDeclaration(o,y),a=this.getCompleteStyleDeclaration(o,y+1),c=this._hasStyleChanged(s,a)),c&&(m?(t.save(),t.translate(l.renderLeft,l.renderTop),t.rotate(l.angle),this._renderChar(e,t,o,y,f,-p/2,0,d),t.restore()):(u=r,t.canvas.setAttribute("dir",v?"ltr":"rtl"),t.direction=v?"ltr":"rtl",t.textAlign=v?"left":"right",this._renderChar(e,t,o,y,f,u,i,d)),f="",s=a,r+=b*p,p=0);t.restore()},_applyPatternGradientTransformText:function(e){var n,r=t.util.createCanvasElement(),i=this.width+this.strokeWidth,o=this.height+this.strokeWidth;return r.width=i,r.height=o,(n=r.getContext("2d")).beginPath(),n.moveTo(0,0),n.lineTo(i,0),n.lineTo(i,o),n.lineTo(0,o),n.closePath(),n.translate(i/2,o/2),n.fillStyle=e.toLive(n),this._applyPatternGradientTransform(n,e),n.fill(),n.createPattern(r,"no-repeat")},handleFiller:function(e,t,n){var r,i;return n.toLive?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?(r=-this.width/2,i=-this.height/2,e.translate(r,i),e[t]=this._applyPatternGradientTransformText(n),{offsetX:r,offsetY:i}):(e[t]=n.toLive(e,this),this._applyPatternGradientTransform(e,n)):(e[t]=n,{offsetX:0,offsetY:0})},_setStrokeStyles:function(e,t){return e.lineWidth=t.strokeWidth,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",t.stroke)},_setFillStyles:function(e,t){return this.handleFiller(e,"fillStyle",t.fill)},_renderChar:function(e,t,n,r,i,o,s){var a,l,c=this._getStyleDeclaration(n,r),u=this.getCompleteStyleDeclaration(n,r),d="fillText"===e&&u.fill,h="strokeText"===e&&u.stroke&&u.strokeWidth;(h||d)&&(t.save(),d&&(a=this._setFillStyles(t,u)),h&&(l=this._setStrokeStyles(t,u)),t.font=this._getFontDeclaration(u),c&&c.textBackgroundColor&&this._removeShadow(t),c&&c.deltaY&&(s+=c.deltaY),d&&t.fillText(i,o-a.offsetX,s-a.offsetY),h&&t.strokeText(i,o-l.offsetX,s-l.offsetY),t.restore())},setSuperscript:function(e,t){return this._setScript(e,t,this.superscript)},setSubscript:function(e,t){return this._setScript(e,t,this.subscript)},_setScript:function(e,t,n){var r=this.get2DCursorLocation(e,!0),i=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),o=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY"),s={fontSize:i*n.size,deltaY:o+i*n.baseline};return this.setSelectionStyles(s,e,t),this},_hasStyleChanged:function(e,t){return e.fill!==t.fill||e.stroke!==t.stroke||e.strokeWidth!==t.strokeWidth||e.fontSize!==t.fontSize||e.fontFamily!==t.fontFamily||e.fontWeight!==t.fontWeight||e.fontStyle!==t.fontStyle||e.deltaY!==t.deltaY},_hasStyleChangedForSvg:function(e,t){return this._hasStyleChanged(e,t)||e.overline!==t.overline||e.underline!==t.underline||e.linethrough!==t.linethrough},_getLineLeftOffset:function(e){var t=this.getLineWidth(e),n=this.width-t,r=this.textAlign,i=this.direction,o=0,s=this.isEndOfWrapping(e);return"justify"===r||"justify-center"===r&&!s||"justify-right"===r&&!s||"justify-left"===r&&!s?0:("center"===r&&(o=n/2),"right"===r&&(o=n),"justify-center"===r&&(o=n/2),"justify-right"===r&&(o=n),"rtl"===i&&(o-=n),o)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var e=this._forceClearCache;return e||(e=this.hasStateChanged("_dimensionAffectingProps")),e&&(this.dirty=!0,this._forceClearCache=!1),e},getLineWidth:function(e){return this.__lineWidths[e]?this.__lineWidths[e]:(t=""===this._textLines[e]?0:this.measureLine(e).width,this.__lineWidths[e]=t,t);var t},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(e,t,n){var r=this._getStyleDeclaration(e,t);return r&&"undefined"!==typeof r[n]?r[n]:this[n]},_renderTextDecoration:function(e,t){if(this[t]||this.styleHas(t)){for(var n,r,i,o,s,a,l,c,u,d,h,f,p,m,g,v,b=this._getLeftOffset(),y=this._getTopOffset(),w=this.path,x=this._getWidthOfCharSpacing(),_=this.offsets[t],C=0,k=this._textLines.length;C<k;C++)if(n=this.getHeightOfLine(C),this[t]||this.styleHas(t,C)){l=this._textLines[C],m=n/this.lineHeight,o=this._getLineLeftOffset(C),d=0,h=0,c=this.getValueOfPropertyAt(C,0,t),v=this.getValueOfPropertyAt(C,0,"fill"),u=y+m*(1-this._fontSizeFraction),r=this.getHeightOfChar(C,0),s=this.getValueOfPropertyAt(C,0,"deltaY");for(var S=0,A=l.length;S<A;S++)if(f=this.__charBounds[C][S],p=this.getValueOfPropertyAt(C,S,t),g=this.getValueOfPropertyAt(C,S,"fill"),i=this.getHeightOfChar(C,S),a=this.getValueOfPropertyAt(C,S,"deltaY"),w&&p&&g)e.save(),e.fillStyle=v,e.translate(f.renderLeft,f.renderTop),e.rotate(f.angle),e.fillRect(-f.kernedWidth/2,_*i+a,f.kernedWidth,this.fontSize/15),e.restore();else if((p!==c||g!==v||i!==r||a!==s)&&h>0){var T=b+o+d;"rtl"===this.direction&&(T=this.width-T-h),c&&v&&(e.fillStyle=v,e.fillRect(T,u+_*r+s,h,this.fontSize/15)),d=f.left,h=f.width,c=p,v=g,r=i,s=a}else h+=f.kernedWidth;T=b+o+d,"rtl"===this.direction&&(T=this.width-T-h),e.fillStyle=g,p&&g&&e.fillRect(T,u+_*r+s,h-x,this.fontSize/15),y+=n}else y+=n;this._removeShadow(e)}},_getFontDeclaration:function(e,n){var r=e||this,i=this.fontFamily,o=t.Text.genericFonts.indexOf(i.toLowerCase())>-1,s=void 0===i||i.indexOf("'")>-1||i.indexOf(",")>-1||i.indexOf('"')>-1||o?r.fontFamily:'"'+r.fontFamily+'"';return[t.isLikelyNode?r.fontWeight:r.fontStyle,t.isLikelyNode?r.fontStyle:r.fontWeight,n?this.CACHE_FONT_SIZE+"px":r.fontSize+"px",s].join(" ")},render:function(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",e)))},_splitTextIntoLines:function(e){for(var n=e.split(this._reNewline),r=new Array(n.length),i=["\n"],o=[],s=0;s<n.length;s++)r[s]=t.util.string.graphemeSplit(n[s]),o=o.concat(r[s],i);return o.pop(),{_unwrappedLines:r,lines:n,graphemeText:o,graphemeLines:r}},toObject:function(e){var t=r.concat(e),i=this.callSuper("toObject",t);return i.styles=n(this.styles,!0),i.path&&(i.path=this.path.toObject()),i},set:function(e,t){this.callSuper("set",e,t);var n=!1,r=!1;if("object"===typeof e)for(var i in e)"path"===i&&this.setPathInfo(),n=n||-1!==this._dimensionAffectingProps.indexOf(i),r=r||"path"===i;else n=-1!==this._dimensionAffectingProps.indexOf(e),r="path"===e;return r&&this.setPathInfo(),n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),t.Text.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),t.Text.DEFAULT_SVG_FONT_SIZE=16,t.Text.fromElement=function(e,r,i){if(!e)return r(null);var o=t.parseAttributes(e,t.Text.ATTRIBUTE_NAMES),s=o.textAnchor||"left";if((i=t.util.object.extend(i?n(i):{},o)).top=i.top||0,i.left=i.left||0,o.textDecoration){var a=o.textDecoration;-1!==a.indexOf("underline")&&(i.underline=!0),-1!==a.indexOf("overline")&&(i.overline=!0),-1!==a.indexOf("line-through")&&(i.linethrough=!0),delete i.textDecoration}"dx"in o&&(i.left+=o.dx),"dy"in o&&(i.top+=o.dy),"fontSize"in i||(i.fontSize=t.Text.DEFAULT_SVG_FONT_SIZE);var l="";"textContent"in e?l=e.textContent:"firstChild"in e&&null!==e.firstChild&&"data"in e.firstChild&&null!==e.firstChild.data&&(l=e.firstChild.data),l=l.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=i.strokeWidth;i.strokeWidth=0;var u=new t.Text(l,i),d=u.getScaledHeight()/u.height,h=((u.height+u.strokeWidth)*u.lineHeight-u.height)*d,f=u.getScaledHeight()+h,p=0;"center"===s&&(p=u.getScaledWidth()/2),"right"===s&&(p=u.getScaledWidth()),u.set({left:u.left-p,top:u.top-(f-u.fontSize*(.07+u._fontSizeFraction))/u.lineHeight,strokeWidth:"undefined"!==typeof c?c:1}),r(u)},t.Text.fromObject=function(e,r){var i=n(e),o=e.path;return delete i.path,t.Object._fromObject("Text",i,(function(e){o?t.Object._fromObject("Path",o,(function(t){e.set("path",t),r(e)}),"path"):r(e)}),"text")},t.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],t.util.createAccessors&&t.util.createAccessors(t.Text)}}(t),i.util.object.extend(i.Text.prototype,{isEmptyStyles:function(e){if(!this.styles)return!0;if("undefined"!==typeof e&&!this.styles[e])return!0;var t="undefined"===typeof e?this.styles:{line:this.styles[e]};for(var n in t)for(var r in t[n])for(var i in t[n][r])return!1;return!0},styleHas:function(e,t){if(!this.styles||!e||""===e)return!1;if("undefined"!==typeof t&&!this.styles[t])return!1;var n="undefined"===typeof t?this.styles:{0:this.styles[t]};for(var r in n)for(var i in n[r])if("undefined"!==typeof n[r][i][e])return!0;return!1},cleanStyle:function(e){if(!this.styles||!e||""===e)return!1;var t,n,r=this.styles,i=0,o=!0,s=0;for(var a in r){for(var l in t=0,r[a]){var c;i++,(c=r[a][l]).hasOwnProperty(e)?(n?c[e]!==n&&(o=!1):n=c[e],c[e]===this[e]&&delete c[e]):o=!1,0!==Object.keys(c).length?t++:delete r[a][l]}0===t&&delete r[a]}for(var u=0;u<this._textLines.length;u++)s+=this._textLines[u].length;o&&i===s&&(this[e]=n,this.removeStyle(e))},removeStyle:function(e){if(this.styles&&e&&""!==e){var t,n,r,i=this.styles;for(n in i){for(r in t=i[n])delete t[r][e],0===Object.keys(t[r]).length&&delete t[r];0===Object.keys(t).length&&delete i[n]}}},_extendStyles:function(e,t){var n=this.get2DCursorLocation(e);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),i.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),t)},get2DCursorLocation:function(e,t){"undefined"===typeof e&&(e=this.selectionStart);for(var n=t?this._unwrappedTextLines:this._textLines,r=n.length,i=0;i<r;i++){if(e<=n[i].length)return{lineIndex:i,charIndex:e};e-=n[i].length+this.missingNewlineOffset(i)}return{lineIndex:i-1,charIndex:n[i-1].length<e?n[i-1].length:e}},getSelectionStyles:function(e,t,n){"undefined"===typeof e&&(e=this.selectionStart||0),"undefined"===typeof t&&(t=this.selectionEnd||e);for(var r=[],i=e;i<t;i++)r.push(this.getStyleAtPosition(i,n));return r},getStyleAtPosition:function(e,t){var n=this.get2DCursorLocation(e);return(t?this.getCompleteStyleDeclaration(n.lineIndex,n.charIndex):this._getStyleDeclaration(n.lineIndex,n.charIndex))||{}},setSelectionStyles:function(e,t,n){"undefined"===typeof t&&(t=this.selectionStart||0),"undefined"===typeof n&&(n=this.selectionEnd||t);for(var r=t;r<n;r++)this._extendStyles(r,e);return this._forceClearCache=!0,this},_getStyleDeclaration:function(e,t){var n=this.styles&&this.styles[e];return n?n[t]:null},getCompleteStyleDeclaration:function(e,t){for(var n,r=this._getStyleDeclaration(e,t)||{},i={},o=0;o<this._styleProperties.length;o++)i[n=this._styleProperties[o]]="undefined"===typeof r[n]?this[n]:r[n];return i},_setStyleDeclaration:function(e,t,n){this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){delete this.styles[e][t]},_getLineStyle:function(e){return!!this.styles[e]},_setLineStyle:function(e){this.styles[e]={}},_deleteLineStyle:function(e){delete this.styles[e]}}),function(){function e(e){e.textDecoration&&(e.textDecoration.indexOf("underline")>-1&&(e.underline=!0),e.textDecoration.indexOf("line-through")>-1&&(e.linethrough=!0),e.textDecoration.indexOf("overline")>-1&&(e.overline=!0),delete e.textDecoration)}i.IText=i.util.createClass(i.Text,i.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(e,t){this.callSuper("initialize",e,t),this.initBehavior()},setSelectionStart:function(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)},setSelectionEnd:function(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)},_updateAndFire:function(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(e){this.clearContextTop(),this.callSuper("render",e),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(e){this.callSuper("_render",e)},clearContextTop:function(e){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this.canvas.contextTop,n=this.canvas.viewportTransform;t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(t),this._clearTextArea(t),e||t.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this._getCursorBoundaries(),t=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),t.restore()}},_clearTextArea:function(e){var t=this.width+4,n=this.height+4;e.clearRect(-t/2,-n/2,t,n)},_getCursorBoundaries:function(e){"undefined"===typeof e&&(e=this.selectionStart);var t=this._getLeftOffset(),n=this._getTopOffset(),r=this._getCursorBoundariesOffsets(e);return{left:t,top:n,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(e){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var t,n,r,i,o=0,s=0,a=this.get2DCursorLocation(e);r=a.charIndex,n=a.lineIndex;for(var l=0;l<n;l++)o+=this.getHeightOfLine(l);t=this._getLineLeftOffset(n);var c=this.__charBounds[n][r];return c&&(s=c.left),0!==this.charSpacing&&r===this._textLines[n].length&&(s-=this._getWidthOfCharSpacing()),i={top:o,left:t+(s>0?s:0)},"rtl"===this.direction&&(i.left*=-1),this.cursorOffsetCache=i,this.cursorOffsetCache},renderCursor:function(e,t){var n=this.get2DCursorLocation(),r=n.lineIndex,i=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(r,i,"fontSize"),s=this.scaleX*this.canvas.getZoom(),a=this.cursorWidth/s,l=e.topOffset,c=this.getValueOfPropertyAt(r,i,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(e,t),t.fillStyle=this.cursorColor||this.getValueOfPropertyAt(r,i,"fill"),t.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,t.fillRect(e.left+e.leftOffset-a/2,l+e.top+c,a,o)},renderSelection:function(e,t){for(var n=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,i=-1!==this.textAlign.indexOf("justify"),o=this.get2DCursorLocation(n),s=this.get2DCursorLocation(r),a=o.lineIndex,l=s.lineIndex,c=o.charIndex<0?0:o.charIndex,u=s.charIndex<0?0:s.charIndex,d=a;d<=l;d++){var h,f=this._getLineLeftOffset(d)||0,p=this.getHeightOfLine(d),m=0,g=0;if(d===a&&(m=this.__charBounds[a][c].left),d>=a&&d<l)g=i&&!this.isEndOfWrapping(d)?this.width:this.getLineWidth(d)||5;else if(d===l)if(0===u)g=this.__charBounds[l][u].left;else{var v=this._getWidthOfCharSpacing();g=this.__charBounds[l][u-1].left+this.__charBounds[l][u-1].width-v}h=p,(this.lineHeight<1||d===l&&this.lineHeight>1)&&(p/=this.lineHeight);var b=e.left+f+m,y=g-m,w=p,x=0;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",w=1,x=p):t.fillStyle=this.selectionColor,"rtl"===this.direction&&(b=this.width-b-y),t.fillRect(b,e.top+e.topOffset+x,y,w),e.topOffset+=h}},getCurrentCharFontSize:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")},getCurrentCharColor:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fill")},_getCurrentCharIndex:function(){var e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}}),i.IText.fromObject=function(t,n){if(e(t),t.styles)for(var r in t.styles)for(var o in t.styles[r])e(t.styles[r][o]);i.Object._fromObject("IText",t,n,"text")}}(),function(){var e=i.util.object.clone;i.util.object.extend(i.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var e=this;this.on("added",(function(){var t=e.canvas;t&&(t._hasITextHandlers||(t._hasITextHandlers=!0,e._initCanvasHandlers(t)),t._iTextInstances=t._iTextInstances||[],t._iTextInstances.push(e))}))},initRemovedHandler:function(){var e=this;this.on("removed",(function(){var t=e.canvas;t&&(t._iTextInstances=t._iTextInstances||[],i.util.removeFromArray(t._iTextInstances,e),0===t._iTextInstances.length&&(t._hasITextHandlers=!1,e._removeCanvasHandlers(t)))}))},_initCanvasHandlers:function(e){e._mouseUpITextHandler=function(){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.__isMousedown=!1}))},e.on("mouse:up",e._mouseUpITextHandler)},_removeCanvasHandlers:function(e){e.off("mouse:up",e._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(e,t,n,r){var i;return i={isAborted:!1,abort:function(){this.isAborted=!0}},e.animate("_currentCursorOpacity",t,{duration:n,onComplete:function(){i.isAborted||e[r]()},onChange:function(){e.canvas&&e.selectionStart===e.selectionEnd&&e.renderCursorOrSelection()},abort:function(){return i.isAborted}}),i},_onTickComplete:function(){var e=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){e._currentTickCompleteState=e._animateCursor(e,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(e){var t=this,n=e?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){t._tick()}),n)},abortCursorAnimation:function(){var e=this._currentTickState||this._currentTickCompleteState,t=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,e&&t&&t.clearContext(t.contextTop||t.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(e){var t=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n--;for(;/\S/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findWordBoundaryRight:function(e){var t=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},findLineBoundaryLeft:function(e){for(var t=0,n=e-1;!/\n/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findLineBoundaryRight:function(e){for(var t=0,n=e;!/\n/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},searchWordBoundary:function(e,t){for(var n=this._text,r=this._reSpace.test(n[e])?e-1:e,o=n[r],s=i.reNonWord;!s.test(o)&&r>0&&r<n.length;)o=n[r+=t];return s.test(o)&&(r+=1===t?0:1),r},selectWord:function(e){e=e||this.selectionStart;var t=this.searchWordBoundary(e,-1),n=this.searchWordBoundary(e,1);this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(e){e=e||this.selectionStart;var t=this.findLineBoundaryLeft(e),n=this.findLineBoundaryRight(e);return this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(e){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(e),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(e){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.selected=!1,e.isEditing&&e.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(e){if(this.__isMousedown&&this.isEditing){var t=this.getSelectionStartFromPointer(e.e),n=this.selectionStart,r=this.selectionEnd;(t===this.__selectionStartOnMouseDown&&n!==r||n!==t&&r!==t)&&(t>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=t):(this.selectionStart=t,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===r||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(e,t,n){var r=n.slice(0,e),o=i.util.string.graphemeSplit(r).length;if(e===t)return{selectionStart:o,selectionEnd:o};var s=n.slice(e,t);return{selectionStart:o,selectionEnd:o+i.util.string.graphemeSplit(s).length}},fromGraphemeToStringSelection:function(e,t,n){var r=n.slice(0,e).join("").length;return e===t?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+n.slice(e,t).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var e=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),r=n.lineIndex,o=n.charIndex,s=this.getValueOfPropertyAt(r,o,"fontSize")*this.lineHeight,a=t.leftOffset,l=this.calcTransformMatrix(),c={x:t.left+a,y:t.top+t.topOffset+s},u=this.canvas.getRetinaScaling(),d=this.canvas.upperCanvasEl,h=d.width/u,f=d.height/u,p=h-s,m=f-s,g=d.clientWidth/h,v=d.clientHeight/f;return c=i.util.transformPoint(c,l),(c=i.util.transformPoint(c,this.canvas.viewportTransform)).x*=g,c.y*=v,c.x<0&&(c.x=0),c.x>p&&(c.x=p),c.y<0&&(c.y=0),c.y>m&&(c.y=m),c.x+=this.canvas._offset.left,c.y+=this.canvas._offset.top,{left:c.x+"px",top:c.y+"px",fontSize:s+"px",charHeight:s}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var e=this._textBeforeEdit!==this.text,t=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),e&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var e in this.styles)this._textLines[e]||delete this.styles[e]},removeStyleFromTo:function(e,t){var n,r,i=this.get2DCursorLocation(e,!0),o=this.get2DCursorLocation(t,!0),s=i.lineIndex,a=i.charIndex,l=o.lineIndex,c=o.charIndex;if(s!==l){if(this.styles[s])for(n=a;n<this._unwrappedTextLines[s].length;n++)delete this.styles[s][n];if(this.styles[l])for(n=c;n<this._unwrappedTextLines[l].length;n++)(r=this.styles[l][n])&&(this.styles[s]||(this.styles[s]={}),this.styles[s][a+n-c]=r);for(n=s+1;n<=l;n++)delete this.styles[n];this.shiftLineStyles(l,s-l)}else if(this.styles[s]){r=this.styles[s];var u,d,h=c-a;for(n=a;n<c;n++)delete r[n];for(d in this.styles[s])(u=parseInt(d,10))>=c&&(r[u-h]=r[d],delete r[d])}},shiftLineStyles:function(t,n){var r=e(this.styles);for(var i in this.styles){var o=parseInt(i,10);o>t&&(this.styles[o+n]=r[o],r[o-n]||delete this.styles[o])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(t,n,r,i){var o,s={},a=!1,l=this._unwrappedTextLines[t].length===n;for(var c in r||(r=1),this.shiftLineStyles(t,r),this.styles[t]&&(o=this.styles[t][0===n?n:n-1]),this.styles[t]){var u=parseInt(c,10);u>=n&&(a=!0,s[u-n]=this.styles[t][c],l&&0===n||delete this.styles[t][c])}var d=!1;for(a&&!l&&(this.styles[t+r]=s,d=!0),d&&r--;r>0;)i&&i[r-1]?this.styles[t+r]={0:e(i[r-1])}:o?this.styles[t+r]={0:e(o)}:delete this.styles[t+r],r--;this._forceClearCache=!0},insertCharStyleObject:function(t,n,r,i){this.styles||(this.styles={});var o=this.styles[t],s=o?e(o):{};for(var a in r||(r=1),s){var l=parseInt(a,10);l>=n&&(o[l+r]=s[l],s[l-r]||delete o[l])}if(this._forceClearCache=!0,i)for(;r--;)Object.keys(i[r]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][n+r]=e(i[r]));else if(o)for(var c=o[n?n-1:1];c&&r--;)this.styles[t][n+r]=e(c)},insertNewStyleBlock:function(e,t,n){for(var r=this.get2DCursorLocation(t,!0),i=[0],o=0,s=0;s<e.length;s++)"\n"===e[s]?i[++o]=0:i[o]++;for(i[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,i[0],n),n=n&&n.slice(i[0]+1)),o&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+i[0],o),s=1;s<o;s++)i[s]>0?this.insertCharStyleObject(r.lineIndex+s,0,i[s],n):n&&(this.styles[r.lineIndex+s][0]=n[0]),n=n&&n.slice(i[s]+1);i[s]>0&&this.insertCharStyleObject(r.lineIndex+s,0,i[s],n)},setSelectionStartEndWithShift:function(e,t,n){n<=e?(t===e?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=e),this.selectionStart=n):n>e&&n<t?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(t===e?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=t),this.selectionEnd=n)},setSelectionInBoundaries:function(){var e=this.text.length;this.selectionStart>e?this.selectionStart=e:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>e?this.selectionEnd=e:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),i.util.object.extend(i.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(e){if(this.canvas){this.__newClickTime=+new Date;var t=e.pointer;this.isTripleClick(t)&&(this.fire("tripleclick",e),this._stopEvent(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=t,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y},_stopEvent:function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))},tripleClickHandler:function(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(e.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(e){if(this.__isMousedown=!1,!(!this.editable||this.group||e.transform&&e.transform.actionPerformed||e.e.button&&1!==e.e.button)){if(this.canvas){var t=this.canvas._activeObject;if(t&&t!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(e){var t=this.getSelectionStartFromPointer(e),n=this.selectionStart,r=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,r,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(e){for(var t,n=this.getLocalPointer(e),r=0,i=0,o=0,s=0,a=0,l=0,c=this._textLines.length;l<c&&o<=n.y;l++)o+=this.getHeightOfLine(l)*this.scaleY,a=l,l>0&&(s+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));i=this._getLineLeftOffset(a)*this.scaleX,t=this._textLines[a],"rtl"===this.direction&&(n.x=this.width*this.scaleX-n.x+i);for(var u=0,d=t.length;u<d&&(r=i,(i+=this.__charBounds[a][u].kernedWidth*this.scaleX)<=n.x);u++)s++;return this._getNewSelectionStartFromOffset(n,r,i,s,d)},_getNewSelectionStartFromOffset:function(e,t,n,r,i){var o=e.x-t,s=n-e.x,a=r+(s>o||s<0?0:1);return this.flipX&&(a=i-a),a>this._text.length&&(a=this._text.length),a}}),i.util.object.extend(i.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=i.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var e=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+e.top+"; left: "+e.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uff70top: "+e.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):i.document.body.appendChild(this.hiddenTextarea),i.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),i.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),i.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),i.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),i.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),i.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(i.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(e){if(this.isEditing){var t="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(e){var t=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),this.isEditing){var n,r,o,s,a,l=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,c=this._text.length,u=l.length,d=u-c,h=this.selectionStart,f=this.selectionEnd,p=h!==f;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var m=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),g=h>m.selectionStart;p?(n=this._text.slice(h,f),d+=f-h):u<c&&(n=g?this._text.slice(f+d,f):this._text.slice(h,h-d)),r=l.slice(m.selectionEnd-d,m.selectionEnd),n&&n.length&&(r.length&&(o=this.getSelectionStyles(h,h+1,!1),o=r.map((function(){return o[0]}))),p?(s=h,a=f):g?(s=f-n.length,a=f):(s=f,a=f+n.length),this.removeStyleFromTo(s,a)),r.length&&(t&&r.join("")===i.copiedText&&!i.disableStyleCopyPaste&&(o=i.copiedTextStyle),this.insertNewStyleBlock(r,h,o)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(e){this.compositionStart=e.target.selectionStart,this.compositionEnd=e.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(i.copiedText=this.getSelectedText(),i.disableStyleCopyPaste?i.copiedTextStyle=null:i.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(e){return e&&e.clipboardData||i.window.clipboardData},_getWidthBeforeCursor:function(e,t){var n,r=this._getLineLeftOffset(e);return t>0&&(r+=(n=this.__charBounds[e][t-1]).left+n.width),r},getDownCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),r=this.get2DCursorLocation(n),i=r.lineIndex;if(i===this._textLines.length-1||e.metaKey||34===e.keyCode)return this._text.length-n;var o=r.charIndex,s=this._getWidthBeforeCursor(i,o),a=this._getIndexOnLine(i+1,s);return this._textLines[i].slice(o).length+a+1+this.missingNewlineOffset(i)},_getSelectionForOffset:function(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),r=this.get2DCursorLocation(n),i=r.lineIndex;if(0===i||e.metaKey||33===e.keyCode)return-n;var o=r.charIndex,s=this._getWidthBeforeCursor(i,o),a=this._getIndexOnLine(i-1,s),l=this._textLines[i].slice(0,o),c=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+a-l.length+(1-c)},_getIndexOnLine:function(e,t){for(var n,r,i=this._textLines[e],o=this._getLineLeftOffset(e),s=0,a=0,l=i.length;a<l;a++)if((o+=n=this.__charBounds[e][a].width)>t){r=!0;var c=o-n,u=o,d=Math.abs(c-t);s=Math.abs(u-t)<d?a:a-1;break}return r||(s=i.length-1),s},moveCursorDown:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)},moveCursorUp:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",e)},_moveCursorUpOrDown:function(e,t){var n=this["get"+e+"CursorOffset"](t,"right"===this._selectionDirection);t.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(e){var t="left"===this._selectionDirection?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),0!==e},moveCursorWithoutShift:function(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),0!==e},moveCursorLeft:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",e)},_move:function(e,t,n){var r;if(e.altKey)r=this["findWordBoundary"+n](this[t]);else{if(!e.metaKey&&35!==e.keyCode&&36!==e.keyCode)return this[t]+="Left"===n?-1:1,!0;r=this["findLineBoundary"+n](this[t])}if(void 0!==typeof r&&this[t]!==r)return this[t]=r,!0},_moveLeft:function(e,t){return this._move(e,t,"Left")},_moveRight:function(e,t){return this._move(e,t,"Right")},moveCursorLeftWithoutShift:function(e){var t=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t},moveCursorLeftWithShift:function(e){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(e,"selectionStart")):void 0},moveCursorRight:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)},_moveCursorLeftOrRight:function(e,t){var n="moveCursor"+e+"With";this._currentCursorOpacity=1,t.shiftKey?n+="Shift":n+="outShift",this[n](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(e){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(e,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(e){var t=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t},removeChars:function(e,t){"undefined"===typeof t&&(t=e+1),this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(e,t,n,r){"undefined"===typeof r&&(r=n),r>n&&this.removeStyleFromTo(n,r);var o=i.util.string.graphemeSplit(e);this.insertNewStyleBlock(o,n,t),this._text=[].concat(this._text.slice(0,n),o,this._text.slice(r)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var e=i.util.toFixed,t=/  +/g;i.util.object.extend(i.Text.prototype,{_toSVG:function(){var e=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(e.textTop,e.textLeft);return this._wrapSVGTextAndBg(t)},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(e){var t=this.getSvgTextDecoration(this);return[e.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",t?'text-decoration="'+t+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(e,t){var n,r=[],i=[],o=e;this._setSVGBg(i);for(var s=0,a=this._textLines.length;s<a;s++)n=this._getLineLeftOffset(s),(this.textBackgroundColor||this.styleHas("textBackgroundColor",s))&&this._setSVGTextLineBg(i,s,t+n,o),this._setSVGTextLineText(r,s,t+n,o),o+=this.getHeightOfLine(s);return{textSpans:r,textBgRects:i}},_createTextCharSpan:function(n,r,o,s){var a=n!==n.trim()||n.match(t),l=this.getSvgSpanStyles(r,a),c=l?'style="'+l+'"':"",u=r.deltaY,d="",h=i.Object.NUM_FRACTION_DIGITS;return u&&(d=' dy="'+e(u,h)+'" '),['<tspan x="',e(o,h),'" y="',e(s,h),'" ',d,c,">",i.util.string.escapeXml(n),"</tspan>"].join("")},_setSVGTextLineText:function(e,t,n,r){var i,o,s,a,l,c=this.getHeightOfLine(t),u=-1!==this.textAlign.indexOf("justify"),d="",h=0,f=this._textLines[t];r+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var p=0,m=f.length-1;p<=m;p++)l=p===m||this.charSpacing,d+=f[p],s=this.__charBounds[t][p],0===h?(n+=s.kernedWidth-s.width,h+=s.width):h+=s.kernedWidth,u&&!l&&this._reSpaceAndTab.test(f[p])&&(l=!0),l||(i=i||this.getCompleteStyleDeclaration(t,p),o=this.getCompleteStyleDeclaration(t,p+1),l=this._hasStyleChangedForSvg(i,o)),l&&(a=this._getStyleDeclaration(t,p)||{},e.push(this._createTextCharSpan(d,a,n,r)),d="",i=o,n+=h,h=0)},_pushTextBgRect:function(t,n,r,o,s,a){var l=i.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(n),' x="',e(r,l),'" y="',e(o,l),'" width="',e(s,l),'" height="',e(a,l),'"></rect>\n')},_setSVGTextLineBg:function(e,t,n,r){for(var i,o,s=this._textLines[t],a=this.getHeightOfLine(t)/this.lineHeight,l=0,c=0,u=this.getValueOfPropertyAt(t,0,"textBackgroundColor"),d=0,h=s.length;d<h;d++)i=this.__charBounds[t][d],(o=this.getValueOfPropertyAt(t,d,"textBackgroundColor"))!==u?(u&&this._pushTextBgRect(e,u,n+c,r,l,a),c=i.left,l=i.width,u=o):l+=i.kernedWidth;o&&this._pushTextBgRect(e,o,n+c,r,l,a)},_getFillAttributes:function(e){var t=e&&"string"===typeof e?new i.Color(e):"";return t&&t.getSource()&&1!==t.getAlpha()?'opacity="'+t.getAlpha()+'" fill="'+t.setAlpha(1).toRgb()+'"':'fill="'+e+'"'},_getSVGLineTopOffset:function(e){for(var t,n=0,r=0;r<e;r++)n+=this.getHeightOfLine(r);return t=this.getHeightOfLine(r),{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*t/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(e){return i.Object.prototype.getSvgStyles.call(this,e)+" white-space: pre;"}})}(),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Textbox=t.util.createClass(t.IText,t.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:t.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(e){for(var t=0,n=0,r=0,i={},o=0;o<e.graphemeLines.length;o++)"\n"===e.graphemeText[r]&&o>0?(n=0,r++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[r])&&o>0&&(n++,r++),i[o]={line:t,offset:n},r+=e.graphemeLines[o].length,n+=e.graphemeLines[o].length;return i},styleHas:function(e,n){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[n];r&&(n=r.line)}return t.Text.prototype.styleHas.call(this,e,n)},isEmptyStyles:function(e){if(!this.styles)return!0;var t,n,r=0,i=!1,o=this._styleMap[e],s=this._styleMap[e+1];for(var a in o&&(e=o.line,r=o.offset),s&&(i=s.line===e,t=s.offset),n="undefined"===typeof e?this.styles:{line:this.styles[e]})for(var l in n[a])if(l>=r&&(!i||l<t))for(var c in n[a][l])return!1;return!0},_getStyleDeclaration:function(e,t){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[e];if(!n)return null;e=n.line,t=n.offset+t}return this.callSuper("_getStyleDeclaration",e,t)},_setStyleDeclaration:function(e,t,n){var r=this._styleMap[e];e=r.line,t=r.offset+t,this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){var n=this._styleMap[e];e=n.line,t=n.offset+t,delete this.styles[e][t]},_getLineStyle:function(e){var t=this._styleMap[e];return!!this.styles[t.line]},_setLineStyle:function(e){var t=this._styleMap[e];this.styles[t.line]={}},_wrapText:function(e,t){var n,r=[];for(this.isWrapping=!0,n=0;n<e.length;n++)r=r.concat(this._wrapLine(e[n],n,t));return this.isWrapping=!1,r},_measureWord:function(e,t,n){var r,i=0;n=n||0;for(var o=0,s=e.length;o<s;o++)i+=this._getGraphemeBox(e[o],t,o+n,r,!0).kernedWidth,r=e[o];return i},_wrapLine:function(e,n,r,i){var o=0,s=this.splitByGrapheme,a=[],l=[],c=s?t.util.string.graphemeSplit(e):e.split(this._wordJoiners),u="",d=0,h=s?"":" ",f=0,p=0,m=0,g=!0,v=this._getWidthOfCharSpacing();i=i||0,0===c.length&&c.push([]),r-=i;for(var b=0;b<c.length;b++)u=s?c[b]:t.util.string.graphemeSplit(c[b]),f=this._measureWord(u,n,d),d+=u.length,(o+=p+f-v)>r&&!g?(a.push(l),l=[],o=f,g=!0):o+=v,g||s||l.push(h),l=l.concat(u),p=s?0:this._measureWord([h],n,d),d++,g=!1,f>m&&(m=f);return b&&a.push(l),m+i>this.dynamicMinWidth&&(this.dynamicMinWidth=m-v+i),a},isEndOfWrapping:function(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line},missingNewlineOffset:function(e){return this.splitByGrapheme?this.isEndOfWrapping(e)?1:0:1},_splitTextIntoLines:function(e){for(var n=t.Text.prototype._splitTextIntoLines.call(this,e),r=this._wrapText(n.lines,this.width),i=new Array(r.length),o=0;o<r.length;o++)i[o]=r[o].join("");return n.lines=i,n.graphemeLines=r,n},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var e={};for(var t in this._styleMap)this._textLines[t]&&(e[this._styleMap[t].line]=1);for(var t in this.styles)e[t]||delete this.styles[t]},toObject:function(e){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(e))}}),t.Textbox.fromObject=function(e,n){return t.Object._fromObject("Textbox",e,n,"text")}}(t),function(){var e=i.controlsUtils,t=e.scaleSkewCursorStyleHandler,n=e.scaleCursorStyleHandler,r=e.scalingEqually,o=e.scalingYOrSkewingX,s=e.scalingXOrSkewingY,a=e.scaleOrSkewActionName,l=i.Object.prototype.controls;if(l.ml=new i.Control({x:-.5,y:0,cursorStyleHandler:t,actionHandler:s,getActionName:a}),l.mr=new i.Control({x:.5,y:0,cursorStyleHandler:t,actionHandler:s,getActionName:a}),l.mb=new i.Control({x:0,y:.5,cursorStyleHandler:t,actionHandler:o,getActionName:a}),l.mt=new i.Control({x:0,y:-.5,cursorStyleHandler:t,actionHandler:o,getActionName:a}),l.tl=new i.Control({x:-.5,y:-.5,cursorStyleHandler:n,actionHandler:r}),l.tr=new i.Control({x:.5,y:-.5,cursorStyleHandler:n,actionHandler:r}),l.bl=new i.Control({x:-.5,y:.5,cursorStyleHandler:n,actionHandler:r}),l.br=new i.Control({x:.5,y:.5,cursorStyleHandler:n,actionHandler:r}),l.mtr=new i.Control({x:0,y:-.5,actionHandler:e.rotationWithSnapping,cursorStyleHandler:e.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),i.Textbox){var c=i.Textbox.prototype.controls={};c.mtr=l.mtr,c.tr=l.tr,c.br=l.br,c.tl=l.tl,c.bl=l.bl,c.mt=l.mt,c.mb=l.mb,c.mr=new i.Control({x:.5,y:0,actionHandler:e.changeWidth,cursorStyleHandler:t,actionName:"resizing"}),c.ml=new i.Control({x:-.5,y:0,actionHandler:e.changeWidth,cursorStyleHandler:t,actionName:"resizing"})}}()},3053:function(e,t,n){"use strict";var r=n(602);e.exports=function(e,t,n){var i,o;if(n=n||0,!r(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(o=t.length,i=n;n>=0&&i<o;i+=1)if(t[i]===e)return i;return-1}},8592:function(e,t,n){"use strict";var r=n(602),i=n(6092),o=n(5573);e.exports=function(e,t,n){r(e)?i(e,t,n):o(e,t,n)}},6092:function(e){"use strict";e.exports=function(e,t,n){var r=0,i=e.length;for(n=n||null;r<i&&!1!==t.call(n,e[r],r,e);r+=1);}},5573:function(e){"use strict";e.exports=function(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}},9052:function(e,t,n){"use strict";var r=n(961),i=n(9886),o=n(2560),s=n(5393),a=n(602),l=n(5183),c=n(8592),u=/\s+/g;function d(){this.events=null,this.contexts=null}d.mixin=function(e){r(e.prototype,d.prototype)},d.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},d.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(t=[],n[e]=t),n=t),n},d.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},d.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},d.prototype._memorizeContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},d.prototype._forgetContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},d.prototype._bindEvent=function(e,t,n){var r=this._safeEvent(e);this._memorizeContext(n),r.push(this._getHandlerItem(t,n))},d.prototype.on=function(e,t,n){var r=this;o(e)?(e=e.split(u),c(e,(function(e){r._bindEvent(e,t,n)}))):s(e)&&(n=t,c(e,(function(e,t){r.on(t,e,n)})))},d.prototype.once=function(e,t,n){var r=this;if(s(e))return n=t,void c(e,(function(e,t){r.once(t,e,n)}));this.on(e,(function i(){t.apply(n,arguments),r.off(e,i,n)}),n)},d.prototype._spliceMatches=function(e,t){var n,r=0;if(a(e))for(n=e.length;r<n;r+=1)!0===t(e[r])&&(e.splice(r,1),n-=1,r-=1)},d.prototype._matchHandler=function(e){var t=this;return function(n){var r=e===n.handler;return r&&t._forgetContext(n.context),r}},d.prototype._matchContext=function(e){var t=this;return function(n){var r=e===n.context;return r&&t._forgetContext(n.context),r}},d.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(r){var i=e===r.handler,o=t===r.context,s=i&&o;return s&&n._forgetContext(r.context),s}},d.prototype._offByEventName=function(e,t){var n=this,r=l(t),i=n._matchHandler(t);e=e.split(u),c(e,(function(e){var t=n._safeEvent(e);r?n._spliceMatches(t,i):(c(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},d.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);c(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},d.prototype._offByObject=function(e,t){var n,r=this;this._indexOfContext(e)<0?c(e,(function(e,t){r.off(t,e)})):o(t)?(n=this._matchContext(e),r._spliceMatches(this._safeEvent(t),n)):l(t)?(n=this._matchHandlerAndContext(t,e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)}))):(n=this._matchContext(e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)})))},d.prototype.off=function(e,t){o(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):s(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},d.prototype.fire=function(e){this.invoke.apply(this,arguments)},d.prototype.invoke=function(e){var t,n,r,i;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),r=0;t[r];){if(!1===(i=t[r]).handler.apply(i.context,n))return!1;r+=1}return!0},d.prototype.hasListener=function(e){return this.getListenerLength(e)>0},d.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=d},961:function(e){"use strict";e.exports=function(e,t){var n,r,i,o,s=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i])s.call(n,r)&&(e[r]=n[r]);return e}},1610:function(e,t,n){"use strict";var r=n(5695),i=n(3778);e.exports=function(e,t){for(var n=arguments,o=n[0],s=1,a=n.length;s<a;s+=1){if(r(o)||i(o))return;o=o[n[s]]}return o}},4564:function(e,t,n){"use strict";var r=n(5573);e.exports=function(e,t){var n=document.createElement("img"),i="";return r(t,(function(e,t){i+="&"+t+"="+e})),i=i.substring(1),n.src=e+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},4729:function(e,t,n){"use strict";var r=n(5695),i=n(4564),o=6048e5;e.exports=function(e,t){var n=location.hostname,s="TOAST UI "+e+" for "+n+": Statistics",a=window.localStorage.getItem(s);(r(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!function(e){return(new Date).getTime()-e>o}(a)||(window.localStorage.setItem(s,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||i("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}},602:function(e){"use strict";e.exports=function(e){return e instanceof Array}},9886:function(e,t,n){"use strict";var r=n(5695),i=n(3778);e.exports=function(e){return!r(e)&&!i(e)}},5183:function(e){"use strict";e.exports=function(e){return e instanceof Function}},3778:function(e){"use strict";e.exports=function(e){return null===e}},5393:function(e){"use strict";e.exports=function(e){return e===Object(e)}},2560:function(e){"use strict";e.exports=function(e){return"string"===typeof e||e instanceof String}},5695:function(e){"use strict";e.exports=function(e){return void 0===e}},4426:function(e,t,n){e.exports=n(4486)},9406:function(e,t,n){e.exports=n(4877)},789:function(e,t,n){e.exports=n(7178)},381:function(e,t,n){e.exports=n(5603)},7636:function(e,t,n){e.exports=n(1206)},1899:function(e,t,n){e.exports=n(6174)},899:function(e,t,n){e.exports=n(57)},8005:function(e,t,n){e.exports=n(4741)},6562:function(e,t,n){e.exports=n(8368)},9131:function(e,t,n){e.exports=n(3739)},4383:function(e,t,n){e.exports=n(172)},6065:function(e,t,n){e.exports=n(4963)},1734:function(e,t,n){e.exports=n(7820)},2461:function(e,t,n){e.exports=n(5636)},5214:function(e,t,n){e.exports=n(5059)},6397:function(e,t,n){e.exports=n(3969)},8189:function(e,t,n){e.exports=n(6618)},9146:function(e,t,n){e.exports=n(5279)},4496:function(e,t,n){e.exports=n(9562)},3972:function(e,t,n){e.exports=n(652)},7172:function(e,t,n){e.exports=n(2813)},1845:function(e,t,n){e.exports=n(8664)},662:function(e,t,n){e.exports=n(1457)},711:function(e,t,n){e.exports=n(2937)},6623:function(e,t,n){e.exports=n(9297)},7077:function(e,t,n){e.exports=n(8026)},9856:function(e,t,n){e.exports=n(2044)},4230:function(e,t,n){e.exports=n(2214)},184:function(e,t,n){e.exports=n(9256)},3742:function(e,t,n){e.exports=n(5659)},1801:function(e){var t={rect:1,circle:2,triangle:1},n={rect:{w:"width",h:"height"},circle:{w:"rx",h:"ry"},triangle:{w:"width",h:"height"}};function r(e,t,n){var r=e.x,i=e.y,o=t.x,s=t.y,a=n*Math.PI/180;return{originX:r>(o-r)*Math.cos(a)-(s-i)*Math.sin(a)+r?"right":"left",originY:i>(o-r)*Math.sin(a)+(s-i)*Math.cos(a)+i?"bottom":"top"}}e.exports={setOrigins:function(e){var t=e.getPointByOrigin("left","top"),n=e.getPointByOrigin("right","top"),r=e.getPointByOrigin("right","bottom"),i=e.getPointByOrigin("left","bottom");e.origins={lt:t,rt:n,rb:r,lb:i}},resize:function(e,i,o){(function(e){return"center"===e.originX&&"center"===e.originY})(e)&&(function(e,t){var n=t.getPointByOrigin("center","center"),i=r(n,e,-t.angle),o=i.originX,s=i.originY,a=t.getPointByOrigin(o,s),l=t.left-(n.x-a.x),c=t.top-(n.y-a.y);t.set({originX:o,originY:s,left:l,top:c}),t.setCoords()}(i,e),function(e){var t=e.originX,n=e.originY,r=t.substring(0,1)+n.substring(0,1);e.startPoint=e.origins[r]}(e)),o?function(e){var t=e.type,r=e.scaleX,i=e.scaleY,o=n[t],s=e[o.w]*r,a=e[o.h]*i;if(e.isRegular){var l=Math.max(r,i);s=e[o.w]*l,a=e[o.h]*l}var c={hasControls:!1,hasBorders:!1,scaleX:1,scaleY:1};c[o.w]=s,c[o.h]=a,e.set(c)}(e):function(e,r){var i=r.type,o=r.strokeWidth,s=r.startPoint,a=t[i],l=n[i],c=!("triangle"!==r.type),u={},d=Math.abs(s.x-e.x)/a,h=Math.abs(s.y-e.y)/a;d>o&&(d-=o/a),h>o&&(h-=o/a),r.isRegular&&(d=h=Math.max(d,h),c&&(h=Math.sqrt(3)/2*d)),u[l.w]=d,u[l.h]=h,r.set(u)}(i,e),function(e,t){var n=t.startPoint,i=r(n,e,-t.angle),o=i.originX,s=i.originY;t.setPositionByOrigin(n,o,s),t.setCoords()}(i,e)},adjustOriginToCenter:function(e){var t=e.getPointByOrigin("center","center"),n=e.originX,r=e.originY,i=e.getPointByOrigin(n,r),o=e.left+(t.x-i.x),s=e.top+(t.y-i.y);e.set({hasControls:!0,hasBorders:!0,originX:"center",originY:"center",left:o,top:s}),e.setCoords()}}},2221:function(e,t,n){n(5454),n(9173);var r=n(7545);e.exports=r.Array.from},5078:function(e,t,n){n(8118);var r=n(7545);e.exports=r.Array.isArray},6135:function(e,t,n){n(9106);var r=n(5607);e.exports=r("Array").concat},9510:function(e,t,n){n(1710);var r=n(5607);e.exports=r("Array").fill},3971:function(e,t,n){n(3436);var r=n(5607);e.exports=r("Array").filter},98:function(e,t,n){n(9823);var r=n(5607);e.exports=r("Array").forEach},2089:function(e,t,n){n(2276);var r=n(5607);e.exports=r("Array").indexOf},6209:function(e,t,n){n(3838);var r=n(5607);e.exports=r("Array").map},2671:function(e,t,n){n(5818);var r=n(5607);e.exports=r("Array").slice},1375:function(e,t,n){n(2178);var r=n(5607);e.exports=r("Array").splice},3528:function(e,t,n){n(665);var r=n(5607);e.exports=r("Function").bind},5739:function(e,t,n){n(8939),n(5454);var r=n(8703);e.exports=r},278:function(e,t,n){var r=n(3528),i=Function.prototype;e.exports=function(e){var t=e.bind;return e===i||e instanceof Function&&t===i.bind?r:t}},1484:function(e,t,n){var r=n(6135),i=Array.prototype;e.exports=function(e){var t=e.concat;return e===i||e instanceof Array&&t===i.concat?r:t}},7731:function(e,t,n){var r=n(9510),i=Array.prototype;e.exports=function(e){var t=e.fill;return e===i||e instanceof Array&&t===i.fill?r:t}},3669:function(e,t,n){var r=n(3971),i=Array.prototype;e.exports=function(e){var t=e.filter;return e===i||e instanceof Array&&t===i.filter?r:t}},2604:function(e,t,n){var r=n(2089),i=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===i||e instanceof Array&&t===i.indexOf?r:t}},263:function(e,t,n){var r=n(6209),i=Array.prototype;e.exports=function(e){var t=e.map;return e===i||e instanceof Array&&t===i.map?r:t}},7663:function(e,t,n){var r=n(2671),i=Array.prototype;e.exports=function(e){var t=e.slice;return e===i||e instanceof Array&&t===i.slice?r:t}},5063:function(e,t,n){var r=n(1375),i=Array.prototype;e.exports=function(e){var t=e.splice;return e===i||e instanceof Array&&t===i.splice?r:t}},6813:function(e,t,n){var r=n(3842),i=String.prototype;e.exports=function(e){var t=e.trim;return"string"===typeof e||e===i||e instanceof String&&t===i.trim?r:t}},6285:function(e,t,n){n(2666);var r=n(7545);e.exports=r.Number.parseInt},3213:function(e,t,n){n(3113);var r=n(7545).Object;e.exports=function(e,t){return r.create(e,t)}},3512:function(e,t,n){n(297);var r=n(7545).Object,i=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(i.sham=!0)},8168:function(e,t,n){n(9234);var r=n(7545);e.exports=r.Object.getPrototypeOf},8651:function(e,t,n){n(2647);var r=n(7545);e.exports=r.Object.keys},3083:function(e,t,n){n(3222);var r=n(7545);e.exports=r.Object.setPrototypeOf},2987:function(e,t,n){n(4859);var r=n(7545);e.exports=r.parseFloat},2239:function(e,t,n){n(5706);var r=n(7545);e.exports=r.parseInt},3154:function(e,t,n){n(4242),n(8939),n(6663),n(9021),n(7884),n(8885),n(1868),n(5454);var r=n(7545);e.exports=r.Promise},6577:function(e,t,n){n(5397);var r=n(7545);e.exports=r.Reflect.construct},3842:function(e,t,n){n(957);var r=n(5607);e.exports=r("String").trim},5008:function(e,t,n){n(9106),n(6663),n(6187),n(9781),n(492),n(6681),n(9594),n(3665),n(9017),n(1250),n(9786),n(503),n(6565),n(9322),n(3610),n(6886),n(3514),n(8671),n(8556),n(1367);var r=n(7545);e.exports=r.Symbol},994:function(e,t,n){n(8939),n(6663),n(5454),n(3665);var r=n(9207);e.exports=r.f("iterator")},2813:function(e,t,n){var r=n(3822);e.exports=r},8664:function(e,t,n){var r=n(1434);e.exports=r},1457:function(e,t,n){var r=n(7710);e.exports=r},2937:function(e,t,n){var r=n(4741);e.exports=r},9297:function(e,t,n){var r=n(4963);e.exports=r},8026:function(e,t,n){var r=n(7820);e.exports=r},2044:function(e,t,n){var r=n(8980);e.exports=r},2214:function(e,t,n){var r=n(6672);e.exports=r},9256:function(e,t,n){var r=n(2285);n(177),n(9031),n(6658),n(1875),n(8658),n(4592),n(6680),e.exports=r},5659:function(e,t,n){var r=n(8535);e.exports=r},6235:function(e,t,n){var r=n(6447),i=n(9288);e.exports=function(e){if(r(e))return e;throw TypeError(i(e)+" is not a function")}},1404:function(e,t,n){var r=n(2091),i=n(9288);e.exports=function(e){if(r(e))return e;throw TypeError(i(e)+" is not a constructor")}},7757:function(e,t,n){var r=n(6447);e.exports=function(e){if("object"===typeof e||r(e))return e;throw TypeError("Can't set "+String(e)+" as a prototype")}},7423:function(e){e.exports=function(){}},6961:function(e){e.exports=function(e,t,n){if(e instanceof t)return e;throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}},1138:function(e,t,n){var r=n(5744);e.exports=function(e){if(r(e))return e;throw TypeError(String(e)+" is not an object")}},2724:function(e,t,n){"use strict";var r=n(1795),i=n(7739),o=n(4104);e.exports=function(e){for(var t=r(this),n=o(t),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);c>a;)t[a++]=e;return t}},7397:function(e,t,n){"use strict";var r=n(454).forEach,i=n(424)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},841:function(e,t,n){"use strict";var r=n(8043),i=n(1795),o=n(1635),s=n(6109),a=n(2091),l=n(4104),c=n(9361),u=n(1669),d=n(8703);e.exports=function(e){var t=i(e),n=a(this),h=arguments.length,f=h>1?arguments[1]:void 0,p=void 0!==f;p&&(f=r(f,h>2?arguments[2]:void 0,2));var m,g,v,b,y,w,x=d(t),_=0;if(!x||this==Array&&s(x))for(m=l(t),g=n?new this(m):Array(m);m>_;_++)w=p?f(t[_],_):t[_],c(g,_,w);else for(y=(b=u(t,x)).next,g=n?new this:[];!(v=y.call(b)).done;_++)w=p?o(b,f,[v.value,_],!0):v.value,c(g,_,w);return g.length=_,g}},8180:function(e,t,n){var r=n(101),i=n(7739),o=n(4104),s=function(e){return function(t,n,s){var a,l=r(t),c=o(l),u=i(s,c);if(e&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},454:function(e,t,n){var r=n(8043),i=n(2202),o=n(1795),s=n(4104),a=n(1321),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,u=4==e,d=6==e,h=7==e,f=5==e||d;return function(p,m,g,v){for(var b,y,w=o(p),x=i(w),_=r(m,g,3),C=s(x),k=0,S=v||a,A=t?S(p,C):n||h?S(p,0):void 0;C>k;k++)if((f||k in x)&&(y=_(b=x[k],k,w),e))if(t)A[k]=y;else if(y)switch(e){case 3:return!0;case 5:return b;case 6:return k;case 2:l.call(A,b)}else switch(e){case 4:return!1;case 7:l.call(A,b)}return d?-1:c||u?u:A}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},242:function(e,t,n){var r=n(6192),i=n(8182),o=n(4218),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},424:function(e,t,n){"use strict";var r=n(6192);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},3712:function(e,t,n){var r=n(4770),i=n(2091),o=n(5744),s=n(8182)("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===Array||r(t.prototype))||o(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?Array:t}},1321:function(e,t,n){var r=n(3712);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},1635:function(e,t,n){var r=n(1138),i=n(6639);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(s){i(e,"throw",s)}}},9770:function(e,t,n){var r=n(8182)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(a){}return n}},9272:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},4696:function(e,t,n){var r=n(3471),i=n(6447),o=n(9272),s=n(8182)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),s))?n:a?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},4635:function(e,t,n){var r=n(6192);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},5148:function(e,t,n){"use strict";var r=n(4413).IteratorPrototype,i=n(2853),o=n(774),s=n(1284),a=n(7771),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,c,!1,!0),a[c]=l,e}},8711:function(e,t,n){var r=n(69),i=n(2760),o=n(774);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},774:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9361:function(e,t,n){"use strict";var r=n(77),i=n(2760),o=n(774);e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},7218:function(e,t,n){"use strict";var r=n(3085),i=n(5546),o=n(2282),s=n(6447),a=n(5148),l=n(9341),c=n(4469),u=n(1284),d=n(8711),h=n(9482),f=n(8182),p=n(7771),m=n(4413),g=o.PROPER,v=o.CONFIGURABLE,b=m.IteratorPrototype,y=m.BUGGY_SAFARI_ITERATORS,w=f("iterator"),x="keys",_="values",C="entries",k=function(){return this};e.exports=function(e,t,n,o,f,m,S){a(n,t,o);var A,T,I,M=function(e){if(e===f&&O)return O;if(!y&&e in D)return D[e];switch(e){case x:case _:case C:return function(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",P=!1,D=e.prototype,j=D[w]||D["@@iterator"]||f&&D[f],O=!y&&j||M(f),R="Array"==t&&D.entries||j;if(R&&(A=l(R.call(new e)))!==Object.prototype&&A.next&&(i||l(A)===b||(c?c(A,b):s(A[w])||h(A,w,k)),u(A,E,!0,!0),i&&(p[E]=k)),g&&f==_&&j&&j.name!==_&&(!i&&v?d(D,"name",_):(P=!0,O=function(){return j.call(this)})),f)if(T={values:M(_),keys:m?O:M(x),entries:M(C)},S)for(I in T)(y||P||!(I in D))&&h(D,I,T[I]);else r({target:t,proto:!0,forced:y||P},T);return i&&!S||D[w]===O||h(D,w,O,{name:f}),p[t]=O,T}},1488:function(e,t,n){var r=n(7545),i=n(4500),o=n(9207),s=n(2760).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},69:function(e,t,n){var r=n(6192);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},7449:function(e,t,n){var r=n(8576),i=n(5744),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},7365:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2957:function(e){e.exports="object"==typeof window},9347:function(e,t,n){var r=n(8989),i=n(8576);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},9536:function(e,t,n){var r=n(8989);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},224:function(e,t,n){var r=n(9272),i=n(8576);e.exports="process"==r(i.process)},5914:function(e,t,n){var r=n(8989);e.exports=/web0s(?!.*chrome)/i.test(r)},8989:function(e,t,n){var r=n(150);e.exports=r("navigator","userAgent")||""},4218:function(e,t,n){var r,i,o=n(8576),s=n(8989),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u?i=(r=u.split("."))[0]<4?1:r[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},5607:function(e,t,n){var r=n(7545);e.exports=function(e){return r[e+"Prototype"]}},2952:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3085:function(e,t,n){"use strict";var r=n(8576),i=n(6447),o=n(5141).f,s=n(9245),a=n(7545),l=n(8043),c=n(8711),u=n(4500),d=function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,h,f,p,m,g,v,b,y=e.target,w=e.global,x=e.stat,_=e.proto,C=w?r:x?r[y]:(r[y]||{}).prototype,k=w?a:a[y]||c(a,y,{})[y],S=k.prototype;for(f in t)n=!s(w?f:y+(x?".":"#")+f,e.forced)&&C&&u(C,f),m=k[f],n&&(g=e.noTargetGet?(b=o(C,f))&&b.value:C[f]),p=n&&g?g:t[f],n&&typeof m===typeof p||(v=e.bind&&n?l(p,r):e.wrap&&n?d(p):_&&i(p)?l(Function.call,p):p,(e.sham||p&&p.sham||m&&m.sham)&&c(v,"sham",!0),c(k,f,v),_&&(u(a,h=y+"Prototype")||c(a,h,{}),c(a[h],f,p),e.real&&S&&!S[f]&&c(S,f,p)))}},6192:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},8043:function(e,t,n){var r=n(6235);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},6782:function(e,t,n){"use strict";var r=n(6235),i=n(5744),o=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),a=function(){var r=n.concat(o.call(arguments));return this instanceof a?function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("C,a","return new C("+r.join(",")+")")}return s[t](e,n)}(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(a.prototype=t.prototype),a}},2282:function(e,t,n){var r=n(69),i=n(4500),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),l=a&&"something"===function(){}.name,c=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},150:function(e,t,n){var r=n(7545),i=n(8576),o=n(6447),s=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(r[e])||s(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},8703:function(e,t,n){var r=n(4696),i=n(5037),o=n(7771),s=n(8182)("iterator");e.exports=function(e){if(void 0!=e)return i(e,s)||i(e,"@@iterator")||o[r(e)]}},1669:function(e,t,n){var r=n(6235),i=n(1138),o=n(8703);e.exports=function(e,t){var n=arguments.length<2?o(e):t;if(r(n))return i(n.call(e));throw TypeError(String(e)+" is not iterable")}},5037:function(e,t,n){var r=n(6235);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},8576:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},4500:function(e,t,n){var r=n(1795),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},4535:function(e){e.exports={}},3681:function(e,t,n){var r=n(8576);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},7403:function(e,t,n){var r=n(150);e.exports=r("document","documentElement")},188:function(e,t,n){var r=n(69),i=n(6192),o=n(7449);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},2202:function(e,t,n){var r=n(6192),i=n(9272),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},9516:function(e,t,n){var r=n(6447),i=n(6434),o=Function.toString;r(i.inspectSource)||(i.inspectSource=function(e){return o.call(e)}),e.exports=i.inspectSource},273:function(e,t,n){var r=n(5744),i=n(8711);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",e.cause)}},3326:function(e,t,n){var r,i,o,s=n(8921),a=n(8576),l=n(5744),c=n(8711),u=n(4500),d=n(6434),h=n(9766),f=n(4535),p="Object already initialized",m=a.WeakMap;if(s||d.state){var g=d.state||(d.state=new m),v=g.get,b=g.has,y=g.set;r=function(e,t){if(b.call(g,e))throw new TypeError(p);return t.facade=e,y.call(g,e,t),t},i=function(e){return v.call(g,e)||{}},o=function(e){return b.call(g,e)}}else{var w=h("state");f[w]=!0,r=function(e,t){if(u(e,w))throw new TypeError(p);return t.facade=e,c(e,w,t),t},i=function(e){return u(e,w)?e[w]:{}},o=function(e){return u(e,w)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},6109:function(e,t,n){var r=n(8182),i=n(7771),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},4770:function(e,t,n){var r=n(9272);e.exports=Array.isArray||function(e){return"Array"==r(e)}},6447:function(e){e.exports=function(e){return"function"===typeof e}},2091:function(e,t,n){var r=n(6192),i=n(6447),o=n(4696),s=n(150),a=n(9516),l=[],c=s("Reflect","construct"),u=/^\s*(?:class|function)\b/,d=u.exec,h=!u.exec((function(){})),f=function(e){if(!i(e))return!1;try{return c(Object,l,e),!0}catch(t){return!1}};e.exports=!c||r((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?function(e){if(!i(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!d.call(u,a(e))}:f},9245:function(e,t,n){var r=n(6192),i=n(6447),o=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n==u||n!=c&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},5744:function(e,t,n){var r=n(6447);e.exports=function(e){return"object"===typeof e?null!==e:r(e)}},5546:function(e){e.exports=!0},3236:function(e,t,n){var r=n(6447),i=n(150),o=n(615);e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&Object(e)instanceof t}},3442:function(e,t,n){var r=n(1138),i=n(6109),o=n(4104),s=n(8043),a=n(1669),l=n(8703),c=n(6639),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var d,h,f,p,m,g,v,b=n&&n.that,y=!(!n||!n.AS_ENTRIES),w=!(!n||!n.IS_ITERATOR),x=!(!n||!n.INTERRUPTED),_=s(t,b,1+y+x),C=function(e){return d&&c(d,"normal",e),new u(!0,e)},k=function(e){return y?(r(e),x?_(e[0],e[1],C):_(e[0],e[1])):x?_(e,C):_(e)};if(w)d=e;else{if(!(h=l(e)))throw TypeError(String(e)+" is not iterable");if(i(h)){for(f=0,p=o(e);p>f;f++)if((m=k(e[f]))&&m instanceof u)return m;return new u(!1)}d=a(e,h)}for(g=d.next;!(v=g.call(d)).done;){try{m=k(v.value)}catch(S){c(d,"throw",S)}if("object"==typeof m&&m&&m instanceof u)return m}return new u(!1)}},6639:function(e,t,n){var r=n(1138),i=n(5037);e.exports=function(e,t,n){var o,s;r(e);try{if(!(o=i(e,"return"))){if("throw"===t)throw n;return n}o=o.call(e)}catch(a){s=!0,o=a}if("throw"===t)throw n;if(s)throw o;return r(o),n}},4413:function(e,t,n){"use strict";var r,i,o,s=n(6192),a=n(6447),l=n(2853),c=n(9341),u=n(9482),d=n(8182),h=n(5546),f=d("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(r=i):p=!0),void 0==r||s((function(){var e={};return r[f].call(e)!==e}))?r={}:h&&(r=l(r)),a(r[f])||u(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},7771:function(e){e.exports={}},4104:function(e,t,n){var r=n(8445);e.exports=function(e){return r(e.length)}},2950:function(e,t,n){var r,i,o,s,a,l,c,u,d=n(8576),h=n(5141).f,f=n(7160).set,p=n(9536),m=n(9347),g=n(5914),v=n(224),b=d.MutationObserver||d.WebKitMutationObserver,y=d.document,w=d.process,x=d.Promise,_=h(d,"queueMicrotask"),C=_&&_.value;C||(r=function(){var e,t;for(v&&(e=w.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(n){throw i?s():o=void 0,n}}o=void 0,e&&e.enter()},p||v||g||!b||!y?!m&&x&&x.resolve?((c=x.resolve(void 0)).constructor=x,u=c.then,s=function(){u.call(c,r)}):s=v?function(){w.nextTick(r)}:function(){f.call(d,r)}:(a=!0,l=y.createTextNode(""),new b(r).observe(l,{characterData:!0}),s=function(){l.data=a=!a})),e.exports=C||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},4471:function(e,t,n){var r=n(8576);e.exports=r.Promise},3045:function(e,t,n){var r=n(4218),i=n(6192);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},4551:function(e,t,n){var r=n(6192),i=n(8182),o=n(5546),s=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8921:function(e,t,n){var r=n(8576),i=n(6447),o=n(9516),s=r.WeakMap;e.exports=i(s)&&/native code/.test(o(s))},9438:function(e,t,n){"use strict";var r=n(6235),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},15:function(e,t,n){var r=n(8576),i=n(6192),o=n(4845),s=n(4277).trim,a=n(1450),l=r.parseFloat,c=r.Symbol,u=c&&c.iterator,d=1/l(a+"-0")!==-1/0||u&&!i((function(){l(Object(u))}));e.exports=d?function(e){var t=s(o(e)),n=l(t);return 0===n&&"-"==t.charAt(0)?-0:n}:l},2558:function(e,t,n){var r=n(8576),i=n(6192),o=n(4845),s=n(4277).trim,a=n(1450),l=r.parseInt,c=r.Symbol,u=c&&c.iterator,d=/^[+-]?0[Xx]/,h=8!==l(a+"08")||22!==l(a+"0x16")||u&&!i((function(){l(Object(u))}));e.exports=h?function(e,t){var n=s(o(e));return l(n,t>>>0||(d.test(n)?16:10))}:l},2503:function(e,t,n){"use strict";var r=n(69),i=n(6192),o=n(7653),s=n(4750),a=n(6007),l=n(1795),c=n(2202),u=Object.assign,d=Object.defineProperty;e.exports=!u||i((function(){if(r&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||o(u({},t)).join("")!=i}))?function(e,t){for(var n=l(e),i=arguments.length,u=1,d=s.f,h=a.f;i>u;)for(var f,p=c(arguments[u++]),m=d?o(p).concat(d(p)):o(p),g=m.length,v=0;g>v;)f=m[v++],r&&!h.call(p,f)||(n[f]=p[f]);return n}:u},2853:function(e,t,n){var r,i=n(1138),o=n(1187),s=n(2952),a=n(4535),l=n(7403),c=n(7449),u=n(9766),d="prototype",h="script",f=u("IE_PROTO"),p=function(){},m=function(e){return"<"+h+">"+e+"</"+h+">"},g=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}v="undefined"!=typeof document?document.domain&&r?g(r):function(){var e,t=c("iframe"),n="java"+h+":";return t.style.display="none",l.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F}():g(r);for(var e=s.length;e--;)delete v[d][s[e]];return v()};a[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(p[d]=i(e),n=new p,p[d]=null,n[f]=e):n=v(),void 0===t?n:o(n,t)}},1187:function(e,t,n){var r=n(69),i=n(2760),o=n(1138),s=n(7653);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=s(t),a=r.length,l=0;a>l;)i.f(e,n=r[l++],t[n]);return e}},2760:function(e,t,n){var r=n(69),i=n(188),o=n(1138),s=n(77),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t),o(n),i)try{return a(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},5141:function(e,t,n){var r=n(69),i=n(6007),o=n(774),s=n(101),a=n(77),l=n(4500),c=n(188),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=s(e),t=a(t),c)try{return u(e,t)}catch(n){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},4052:function(e,t,n){var r=n(101),i=n(2092).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(t){return s.slice()}}(e):i(r(e))}},2092:function(e,t,n){var r=n(7934),i=n(2952).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},4750:function(e,t){t.f=Object.getOwnPropertySymbols},9341:function(e,t,n){var r=n(4500),i=n(6447),o=n(1795),s=n(9766),a=n(4635),l=s("IE_PROTO"),c=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){var t=o(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof Object?c:null}},7934:function(e,t,n){var r=n(4500),i=n(101),o=n(8180).indexOf,s=n(4535);e.exports=function(e,t){var n,a=i(e),l=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);for(;t.length>l;)r(a,n=t[l++])&&(~o(c,n)||c.push(n));return c}},7653:function(e,t,n){var r=n(7934),i=n(2952);e.exports=Object.keys||function(e){return r(e,i)}},6007:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},4469:function(e,t,n){var r=n(1138),i=n(7757);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},158:function(e,t,n){"use strict";var r=n(3471),i=n(4696);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},380:function(e,t,n){var r=n(6447),i=n(5744);e.exports=function(e,t){var n,o;if("string"===t&&r(n=e.toString)&&!i(o=n.call(e)))return o;if(r(n=e.valueOf)&&!i(o=n.call(e)))return o;if("string"!==t&&r(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},7545:function(e){e.exports={}},892:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},9126:function(e,t,n){var r=n(1138),i=n(5744),o=n(9438);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},533:function(e,t,n){var r=n(9482);e.exports=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:r(e,i,t[i],n);return e}},9482:function(e,t,n){var r=n(8711);e.exports=function(e,t,n,i){i&&i.enumerable?e[t]=n:r(e,t,n)}},3209:function(e){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},7613:function(e,t,n){var r=n(8576);e.exports=function(e,t){try{Object.defineProperty(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},3656:function(e,t,n){"use strict";var r=n(150),i=n(2760),o=n(8182),s=n(69),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},1284:function(e,t,n){var r=n(3471),i=n(2760).f,o=n(8711),s=n(4500),a=n(158),l=n(8182)("toStringTag");e.exports=function(e,t,n,c){if(e){var u=n?e:e.prototype;s(u,l)||i(u,l,{configurable:!0,value:t}),c&&!r&&o(u,"toString",a)}}},9766:function(e,t,n){var r=n(8717),i=n(2759),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},6434:function(e,t,n){var r=n(8576),i=n(7613),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},8717:function(e,t,n){var r=n(5546),i=n(6434);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.18.2",mode:r?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},4743:function(e,t,n){var r=n(1138),i=n(1404),o=n(8182)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[o])?t:i(n)}},863:function(e,t,n){var r=n(1941),i=n(4845),o=n(3209),s=function(e){return function(t,n){var s,a,l=i(o(t)),c=r(n),u=l.length;return c<0||c>=u?e?"":void 0:(s=l.charCodeAt(c))<55296||s>56319||c+1===u||(a=l.charCodeAt(c+1))<56320||a>57343?e?l.charAt(c):s:e?l.slice(c,c+2):a-56320+(s-55296<<10)+65536}};e.exports={codeAt:s(!1),charAt:s(!0)}},7977:function(e){"use strict";var t=2147483647,n=/[^\0-\u007E]/,r=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",o=Math.floor,s=String.fromCharCode,a=function(e){return e+22+75*(e<26)},l=function(e,t,n){var r=0;for(e=n?o(e/700):e>>1,e+=o(e/t);e>455;r+=36)e=o(e/35);return o(r+36*e/(e+38))},c=function(e){var n=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);var r,c,u=e.length,d=128,h=0,f=72;for(r=0;r<e.length;r++)(c=e[r])<128&&n.push(s(c));var p=n.length,m=p;for(p&&n.push("-");m<u;){var g=t;for(r=0;r<e.length;r++)(c=e[r])>=d&&c<g&&(g=c);var v=m+1;if(g-d>o((t-h)/v))throw RangeError(i);for(h+=(g-d)*v,d=g,r=0;r<e.length;r++){if((c=e[r])<d&&++h>t)throw RangeError(i);if(c==d){for(var b=h,y=36;;y+=36){var w=y<=f?1:y>=f+26?26:y-f;if(b<w)break;var x=b-w,_=36-w;n.push(s(a(w+x%_))),b=o(x/_)}n.push(s(a(b))),f=l(h,v,m==p),h=0,++m}}++h,++d}return n.join("")};e.exports=function(e){var t,i,o=[],s=e.toLowerCase().replace(r,".").split(".");for(t=0;t<s.length;t++)i=s[t],o.push(n.test(i)?"xn--"+c(i):i);return o.join(".")}},6815:function(e,t,n){var r=n(2282).PROPER,i=n(6192),o=n(1450);e.exports=function(e){return i((function(){return!!o[e]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[e]()||r&&o[e].name!==e}))}},4277:function(e,t,n){var r=n(3209),i=n(4845),o="["+n(1450)+"]",s=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),l=function(e){return function(t){var n=i(r(t));return 1&e&&(n=n.replace(s,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},7160:function(e,t,n){var r,i,o,s,a=n(8576),l=n(6447),c=n(6192),u=n(8043),d=n(7403),h=n(7449),f=n(9536),p=n(224),m=a.setImmediate,g=a.clearImmediate,v=a.process,b=a.MessageChannel,y=a.Dispatch,w=0,x={},_="onreadystatechange";try{r=a.location}catch(T){}var C=function(e){if(x.hasOwnProperty(e)){var t=x[e];delete x[e],t()}},k=function(e){return function(){C(e)}},S=function(e){C(e.data)},A=function(e){a.postMessage(String(e),r.protocol+"//"+r.host)};m&&g||(m=function(e){for(var t=[],n=arguments.length,r=1;n>r;)t.push(arguments[r++]);return x[++w]=function(){(l(e)?e:Function(e)).apply(void 0,t)},i(w),w},g=function(e){delete x[e]},p?i=function(e){v.nextTick(k(e))}:y&&y.now?i=function(e){y.now(k(e))}:b&&!f?(s=(o=new b).port2,o.port1.onmessage=S,i=u(s.postMessage,s,1)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!c(A)?(i=A,a.addEventListener("message",S,!1)):i=_ in h("script")?function(e){d.appendChild(h("script"))[_]=function(){d.removeChild(this),C(e)}}:function(e){setTimeout(k(e),0)}),e.exports={set:m,clear:g}},7739:function(e,t,n){var r=n(1941),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},101:function(e,t,n){var r=n(2202),i=n(3209);e.exports=function(e){return r(i(e))}},1941:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!==r||0===r?0:(r>0?n:t)(r)}},8445:function(e,t,n){var r=n(1941),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},1795:function(e,t,n){var r=n(3209);e.exports=function(e){return Object(r(e))}},7888:function(e,t,n){var r=n(5744),i=n(3236),o=n(5037),s=n(380),a=n(8182)("toPrimitive");e.exports=function(e,t){if(!r(e)||i(e))return e;var n,l=o(e,a);if(l){if(void 0===t&&(t="default"),n=l.call(e,t),!r(n)||i(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},77:function(e,t,n){var r=n(7888),i=n(3236);e.exports=function(e){var t=r(e,"string");return i(t)?t:String(t)}},3471:function(e,t,n){var r={};r[n(8182)("toStringTag")]="z",e.exports="[object z]"===String(r)},4845:function(e,t,n){var r=n(4696);e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},9288:function(e){e.exports=function(e){try{return String(e)}catch(t){return"Object"}}},2759:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},615:function(e,t,n){var r=n(3045);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},9207:function(e,t,n){var r=n(8182);t.f=r},8182:function(e,t,n){var r=n(8576),i=n(8717),o=n(4500),s=n(2759),a=n(3045),l=n(615),c=i("wks"),u=r.Symbol,d=l?u:u&&u.withoutSetter||s;e.exports=function(e){return o(c,e)&&(a||"string"==typeof c[e])||(a&&o(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},1450:function(e){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},4242:function(e,t,n){"use strict";var r=n(3085),i=n(9341),o=n(4469),s=n(2853),a=n(8711),l=n(774),c=n(273),u=n(3442),d=n(4845),h=function(e,t){var n=this,r=arguments.length>2?arguments[2]:void 0;if(!(n instanceof h))return new h(e,t,r);o&&(n=o(new Error(void 0),i(n))),void 0!==t&&a(n,"message",d(t)),c(n,r);var s=[];return u(e,s.push,{that:s}),a(n,"errors",s),n};h.prototype=s(Error.prototype,{constructor:l(5,h),message:l(5,""),name:l(5,"AggregateError")}),r({global:!0},{AggregateError:h})},9106:function(e,t,n){"use strict";var r=n(3085),i=n(6192),o=n(4770),s=n(5744),a=n(1795),l=n(4104),c=n(9361),u=n(1321),d=n(242),h=n(8182),f=n(4218),p=h("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=f>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),b=d("concat"),y=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,forced:!v||!b},{concat:function(e){var t,n,r,i,o,s=a(this),d=u(s,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(y(o=-1===t?s:arguments[t])){if(h+(i=l(o))>m)throw TypeError(g);for(n=0;n<i;n++,h++)n in o&&c(d,h,o[n])}else{if(h>=m)throw TypeError(g);c(d,h++,o)}return d.length=h,d}})},1710:function(e,t,n){var r=n(3085),i=n(2724),o=n(7423);r({target:"Array",proto:!0},{fill:i}),o("fill")},3436:function(e,t,n){"use strict";var r=n(3085),i=n(454).filter;r({target:"Array",proto:!0,forced:!n(242)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},9823:function(e,t,n){"use strict";var r=n(3085),i=n(7397);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},9173:function(e,t,n){var r=n(3085),i=n(841);r({target:"Array",stat:!0,forced:!n(9770)((function(e){Array.from(e)}))},{from:i})},2276:function(e,t,n){"use strict";var r=n(3085),i=n(8180).indexOf,o=n(424),s=[].indexOf,a=!!s&&1/[1].indexOf(1,-0)<0,l=o("indexOf");r({target:"Array",proto:!0,forced:a||!l},{indexOf:function(e){return a?s.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},8118:function(e,t,n){n(3085)({target:"Array",stat:!0},{isArray:n(4770)})},8939:function(e,t,n){"use strict";var r=n(101),i=n(7423),o=n(7771),s=n(3326),a=n(7218),l="Array Iterator",c=s.set,u=s.getterFor(l);e.exports=a(Array,"Array",(function(e,t){c(this,{type:l,target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},3838:function(e,t,n){"use strict";var r=n(3085),i=n(454).map;r({target:"Array",proto:!0,forced:!n(242)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},5818:function(e,t,n){"use strict";var r=n(3085),i=n(4770),o=n(2091),s=n(5744),a=n(7739),l=n(4104),c=n(101),u=n(9361),d=n(8182),h=n(242)("slice"),f=d("species"),p=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,d,h=c(this),g=l(h),v=a(e,g),b=a(void 0===t?g:t,g);if(i(h)&&(n=h.constructor,(o(n)&&(n===Array||i(n.prototype))||s(n)&&null===(n=n[f]))&&(n=void 0),n===Array||void 0===n))return p.call(h,v,b);for(r=new(void 0===n?Array:n)(m(b-v,0)),d=0;v<b;v++,d++)v in h&&u(r,d,h[v]);return r.length=d,r}})},2178:function(e,t,n){"use strict";var r=n(3085),i=n(7739),o=n(1941),s=n(4104),a=n(1795),l=n(1321),c=n(9361),u=n(242)("splice"),d=Math.max,h=Math.min;r({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var n,r,u,f,p,m,g=a(this),v=s(g),b=i(e,v),y=arguments.length;if(0===y?n=r=0:1===y?(n=0,r=v-b):(n=y-2,r=h(d(o(t),0),v-b)),v+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=l(g,r),f=0;f<r;f++)(p=b+f)in g&&c(u,f,g[p]);if(u.length=r,n<r){for(f=b;f<v-r;f++)m=f+n,(p=f+r)in g?g[m]=g[p]:delete g[m];for(f=v;f>v-r+n;f--)delete g[f-1]}else if(n>r)for(f=v-r;f>b;f--)m=f+n-1,(p=f+r-1)in g?g[m]=g[p]:delete g[m];for(f=0;f<n;f++)g[f+b]=arguments[f+2];return g.length=v-r+n,u}})},665:function(e,t,n){n(3085)({target:"Function",proto:!0},{bind:n(6782)})},8671:function(e,t,n){var r=n(8576);n(1284)(r.JSON,"JSON",!0)},8556:function(){},2666:function(e,t,n){var r=n(3085),i=n(2558);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},3113:function(e,t,n){n(3085)({target:"Object",stat:!0,sham:!n(69)},{create:n(2853)})},297:function(e,t,n){var r=n(3085),i=n(69);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(2760).f})},9234:function(e,t,n){var r=n(3085),i=n(6192),o=n(1795),s=n(9341),a=n(4635);r({target:"Object",stat:!0,forced:i((function(){s(1)})),sham:!a},{getPrototypeOf:function(e){return s(o(e))}})},2647:function(e,t,n){var r=n(3085),i=n(1795),o=n(7653);r({target:"Object",stat:!0,forced:n(6192)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},3222:function(e,t,n){n(3085)({target:"Object",stat:!0},{setPrototypeOf:n(4469)})},6663:function(){},4859:function(e,t,n){var r=n(3085),i=n(15);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},5706:function(e,t,n){var r=n(3085),i=n(2558);r({global:!0,forced:parseInt!=i},{parseInt:i})},7884:function(e,t,n){"use strict";var r=n(3085),i=n(6235),o=n(9438),s=n(892),a=n(3442);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=o.f(t),r=n.resolve,l=n.reject,c=s((function(){var n=i(t.resolve),o=[],s=0,l=1;a(e,(function(e){var i=s++,a=!1;o.push(void 0),l++,n.call(t,e).then((function(e){a||(a=!0,o[i]={status:"fulfilled",value:e},--l||r(o))}),(function(e){a||(a=!0,o[i]={status:"rejected",reason:e},--l||r(o))}))})),--l||r(o)}));return c.error&&l(c.value),n.promise}})},8885:function(e,t,n){"use strict";var r=n(3085),i=n(6235),o=n(150),s=n(9438),a=n(892),l=n(3442),c="No one promise resolved";r({target:"Promise",stat:!0},{any:function(e){var t=this,n=s.f(t),r=n.resolve,u=n.reject,d=a((function(){var n=i(t.resolve),s=[],a=0,d=1,h=!1;l(e,(function(e){var i=a++,l=!1;s.push(void 0),d++,n.call(t,e).then((function(e){l||h||(h=!0,r(e))}),(function(e){l||h||(l=!0,s[i]=e,--d||u(new(o("AggregateError"))(s,c)))}))})),--d||u(new(o("AggregateError"))(s,c))}));return d.error&&u(d.value),n.promise}})},1868:function(e,t,n){"use strict";var r=n(3085),i=n(5546),o=n(4471),s=n(6192),a=n(150),l=n(6447),c=n(4743),u=n(9126),d=n(9482);if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&s((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,a("Promise")),n=l(e);return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),!i&&l(o)){var h=a("Promise").prototype.finally;o.prototype.finally!==h&&d(o.prototype,"finally",h,{unsafe:!0})}},9021:function(e,t,n){"use strict";var r,i,o,s,a=n(3085),l=n(5546),c=n(8576),u=n(150),d=n(4471),h=n(9482),f=n(533),p=n(4469),m=n(1284),g=n(3656),v=n(6235),b=n(6447),y=n(5744),w=n(6961),x=n(9516),_=n(3442),C=n(9770),k=n(4743),S=n(7160).set,A=n(2950),T=n(9126),I=n(3681),M=n(9438),E=n(892),P=n(3326),D=n(9245),j=n(8182),O=n(2957),R=n(224),L=n(4218),N=j("species"),B="Promise",F=P.get,z=P.set,V=P.getterFor(B),W=d&&d.prototype,H=d,U=W,$=c.TypeError,Y=c.document,G=c.process,q=M.f,X=q,Z=!!(Y&&Y.createEvent&&c.dispatchEvent),K=b(c.PromiseRejectionEvent),Q="unhandledrejection",J=!1,ee=D(B,(function(){var e=x(H),t=e!==String(H);if(!t&&66===L)return!0;if(l&&!U.finally)return!0;if(L>=51&&/native code/.test(e))return!1;var n=new H((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[N]=r,!(J=n.then((function(){}))instanceof r)||!t&&O&&!K})),te=ee||!C((function(e){H.all(e).catch((function(){}))})),ne=function(e){var t;return!(!y(e)||!b(t=e.then))&&t},re=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;A((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var s,a,l,c=n[o++],u=i?c.ok:c.fail,d=c.resolve,h=c.reject,f=c.domain;try{u?(i||(2===e.rejection&&ae(e),e.rejection=1),!0===u?s=r:(f&&f.enter(),s=u(r),f&&(f.exit(),l=!0)),s===c.promise?h($("Promise-chain cycle")):(a=ne(s))?a.call(s,d,h):d(s)):h(r)}catch(p){f&&!l&&f.exit(),h(p)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&oe(e)}))}},ie=function(e,t,n){var r,i;Z?((r=Y.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!K&&(i=c["on"+e])?i(r):e===Q&&I("Unhandled promise rejection",n)},oe=function(e){S.call(c,(function(){var t,n=e.facade,r=e.value;if(se(e)&&(t=E((function(){R?G.emit("unhandledRejection",r,n):ie(Q,n,r)})),e.rejection=R||se(e)?2:1,t.error))throw t.value}))},se=function(e){return 1!==e.rejection&&!e.parent},ae=function(e){S.call(c,(function(){var t=e.facade;R?G.emit("rejectionHandled",t):ie("rejectionhandled",t,e.value)}))},le=function(e,t,n){return function(r){e(t,r,n)}},ce=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,re(e,!0))},ue=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw $("Promise can't be resolved itself");var r=ne(t);r?A((function(){var n={done:!1};try{r.call(t,le(ue,n,e),le(ce,n,e))}catch(i){ce(n,i,e)}})):(e.value=t,e.state=1,re(e,!1))}catch(i){ce({done:!1},i,e)}}};if(ee&&(U=(H=function(e){w(this,H,B),v(e),r.call(this);var t=F(this);try{e(le(ue,t),le(ce,t))}catch(n){ce(t,n)}}).prototype,(r=function(e){z(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(U,{then:function(e,t){var n=V(this),r=q(k(this,H));return r.ok=!b(e)||e,r.fail=b(t)&&t,r.domain=R?G.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&re(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=F(e);this.promise=e,this.resolve=le(ue,t),this.reject=le(ce,t)},M.f=q=function(e){return e===H||e===o?new i(e):X(e)},!l&&b(d)&&W!==Object.prototype)){s=W.then,J||(h(W,"then",(function(e,t){var n=this;return new H((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),h(W,"catch",U.catch,{unsafe:!0}));try{delete W.constructor}catch(de){}p&&p(W,U)}a({global:!0,wrap:!0,forced:ee},{Promise:H}),m(H,B,!1,!0),g(B),o=u(B),a({target:B,stat:!0,forced:ee},{reject:function(e){var t=q(this);return t.reject.call(void 0,e),t.promise}}),a({target:B,stat:!0,forced:l||ee},{resolve:function(e){return T(l&&this===o?H:this,e)}}),a({target:B,stat:!0,forced:te},{all:function(e){var t=this,n=q(t),r=n.resolve,i=n.reject,o=E((function(){var n=v(t.resolve),o=[],s=0,a=1;_(e,(function(e){var l=s++,c=!1;o.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,o[l]=e,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=q(t),r=n.reject,i=E((function(){var i=v(t.resolve);_(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},5397:function(e,t,n){var r=n(3085),i=n(150),o=n(1404),s=n(1138),a=n(5744),l=n(2853),c=n(6782),u=n(6192),d=i("Reflect","construct"),h=u((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),f=!u((function(){d((function(){}))})),p=h||f;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){o(e),s(t);var n=arguments.length<3?e:o(arguments[2]);if(f&&!h)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var i=n.prototype,u=l(a(i)?i:Object.prototype),p=Function.apply.call(e,u,t);return a(p)?p:u}})},1367:function(){},5454:function(e,t,n){"use strict";var r=n(863).charAt,i=n(4845),o=n(3326),s=n(7218),a="String Iterator",l=o.set,c=o.getterFor(a);s(String,"String",(function(e){l(this,{type:a,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},957:function(e,t,n){"use strict";var r=n(3085),i=n(4277).trim;r({target:"String",proto:!0,forced:n(6815)("trim")},{trim:function(){return i(this)}})},9781:function(e,t,n){n(1488)("asyncIterator")},492:function(){},6681:function(e,t,n){n(1488)("hasInstance")},9594:function(e,t,n){n(1488)("isConcatSpreadable")},3665:function(e,t,n){n(1488)("iterator")},6187:function(e,t,n){"use strict";var r=n(3085),i=n(8576),o=n(150),s=n(5546),a=n(69),l=n(3045),c=n(6192),u=n(4500),d=n(4770),h=n(6447),f=n(5744),p=n(3236),m=n(1138),g=n(1795),v=n(101),b=n(77),y=n(4845),w=n(774),x=n(2853),_=n(7653),C=n(2092),k=n(4052),S=n(4750),A=n(5141),T=n(2760),I=n(6007),M=n(9482),E=n(8717),P=n(9766),D=n(4535),j=n(2759),O=n(8182),R=n(9207),L=n(1488),N=n(1284),B=n(3326),F=n(454).forEach,z=P("hidden"),V="Symbol",W="prototype",H=O("toPrimitive"),U=B.set,$=B.getterFor(V),Y=Object[W],G=i.Symbol,q=o("JSON","stringify"),X=A.f,Z=T.f,K=k.f,Q=I.f,J=E("symbols"),ee=E("op-symbols"),te=E("string-to-symbol-registry"),ne=E("symbol-to-string-registry"),re=E("wks"),ie=i.QObject,oe=!ie||!ie[W]||!ie[W].findChild,se=a&&c((function(){return 7!=x(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=X(Y,t);r&&delete Y[t],Z(e,t,n),r&&e!==Y&&Z(Y,t,r)}:Z,ae=function(e,t){var n=J[e]=x(G[W]);return U(n,{type:V,tag:e,description:t}),a||(n.description=t),n},le=function(e,t,n){e===Y&&le(ee,t,n),m(e);var r=b(t);return m(n),u(J,r)?(n.enumerable?(u(e,z)&&e[z][r]&&(e[z][r]=!1),n=x(n,{enumerable:w(0,!1)})):(u(e,z)||Z(e,z,w(1,{})),e[z][r]=!0),se(e,r,n)):Z(e,r,n)},ce=function(e,t){m(e);var n=v(t),r=_(n).concat(fe(n));return F(r,(function(t){a&&!ue.call(n,t)||le(e,t,n[t])})),e},ue=function(e){var t=b(e),n=Q.call(this,t);return!(this===Y&&u(J,t)&&!u(ee,t))&&(!(n||!u(this,t)||!u(J,t)||u(this,z)&&this[z][t])||n)},de=function(e,t){var n=v(e),r=b(t);if(n!==Y||!u(J,r)||u(ee,r)){var i=X(n,r);return!i||!u(J,r)||u(n,z)&&n[z][r]||(i.enumerable=!0),i}},he=function(e){var t=K(v(e)),n=[];return F(t,(function(e){u(J,e)||u(D,e)||n.push(e)})),n},fe=function(e){var t=e===Y,n=K(t?ee:v(e)),r=[];return F(n,(function(e){!u(J,e)||t&&!u(Y,e)||r.push(J[e])})),r};if(l||(G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,t=j(e),n=function(e){this===Y&&n.call(ee,e),u(this,z)&&u(this[z],t)&&(this[z][t]=!1),se(this,t,w(1,e))};return a&&oe&&se(Y,t,{configurable:!0,set:n}),ae(t,e)},M(G[W],"toString",(function(){return $(this).tag})),M(G,"withoutSetter",(function(e){return ae(j(e),e)})),I.f=ue,T.f=le,A.f=de,C.f=k.f=he,S.f=fe,R.f=function(e){return ae(O(e),e)},a&&(Z(G[W],"description",{configurable:!0,get:function(){return $(this).description}}),s||M(Y,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:G}),F(_(re),(function(e){L(e)})),r({target:V,stat:!0,forced:!l},{for:function(e){var t=y(e);if(u(te,t))return te[t];var n=G(t);return te[t]=n,ne[n]=t,n},keyFor:function(e){if(!p(e))throw TypeError(e+" is not a symbol");if(u(ne,e))return ne[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!a},{create:function(e,t){return void 0===t?x(e):ce(x(e),t)},defineProperty:le,defineProperties:ce,getOwnPropertyDescriptor:de}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:he,getOwnPropertySymbols:fe}),r({target:"Object",stat:!0,forced:c((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(g(e))}}),q&&r({target:"JSON",stat:!0,forced:!l||c((function(){var e=G();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))}))},{stringify:function(e,t,n){for(var r,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=t,(f(t)||void 0!==e)&&!p(e))return d(t)||(t=function(e,t){if(h(r)&&(t=r.call(this,e,t)),!p(t))return t}),i[1]=t,q.apply(null,i)}}),!G[W][H]){var pe=G[W].valueOf;M(G[W],H,(function(){return pe.apply(this,arguments)}))}N(G,V),D[z]=!0},1250:function(e,t,n){n(1488)("matchAll")},9017:function(e,t,n){n(1488)("match")},9786:function(e,t,n){n(1488)("replace")},503:function(e,t,n){n(1488)("search")},6565:function(e,t,n){n(1488)("species")},9322:function(e,t,n){n(1488)("split")},3610:function(e,t,n){n(1488)("toPrimitive")},6886:function(e,t,n){n(1488)("toStringTag")},3514:function(e,t,n){n(1488)("unscopables")},177:function(e,t,n){n(1488)("asyncDispose")},9031:function(e,t,n){n(1488)("dispose")},6658:function(e,t,n){n(1488)("matcher")},1875:function(e,t,n){n(1488)("metadata")},8658:function(e,t,n){n(1488)("observable")},4592:function(e,t,n){n(1488)("patternMatch")},6680:function(e,t,n){n(1488)("replaceAll")},162:function(e,t,n){n(8939);var r=n(7365),i=n(8576),o=n(4696),s=n(8711),a=n(7771),l=n(8182)("toStringTag");for(var c in r){var u=i[c],d=u&&u.prototype;d&&o(d)!==l&&s(d,l,c),a[c]=a.Array}},2906:function(e,t,n){var r=n(3085),i=n(8576),o=n(6447),s=n(8989),a=[].slice,l=function(e){return function(t,n){var r=arguments.length>2,i=r?a.call(arguments,2):void 0;return e(r?function(){(o(t)?t:Function(t)).apply(this,i)}:t,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(s)},{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},9336:function(e,t,n){"use strict";n(8939);var r=n(3085),i=n(150),o=n(4551),s=n(9482),a=n(533),l=n(1284),c=n(5148),u=n(3326),d=n(6961),h=n(6447),f=n(4500),p=n(8043),m=n(4696),g=n(1138),v=n(5744),b=n(4845),y=n(2853),w=n(774),x=n(1669),_=n(8703),C=n(8182),k=i("fetch"),S=i("Request"),A=S&&S.prototype,T=i("Headers"),I=C("iterator"),M="URLSearchParams",E=M+"Iterator",P=u.set,D=u.getterFor(M),j=u.getterFor(E),O=/\+/g,R=Array(4),L=function(e){return R[e-1]||(R[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},N=function(e){try{return decodeURIComponent(e)}catch(t){return e}},B=function(e){var t=e.replace(O," "),n=4;try{return decodeURIComponent(t)}catch(r){for(;n;)t=t.replace(L(n--),N);return t}},F=/[!'()~]|%20/g,z={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},V=function(e){return z[e]},W=function(e){return encodeURIComponent(e).replace(F,V)},H=function(e,t){if(t)for(var n,r,i=t.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),e.push({key:B(r.shift()),value:B(r.join("="))}))},U=function(e){this.entries.length=0,H(this.entries,e)},$=function(e,t){if(e<t)throw TypeError("Not enough arguments")},Y=c((function(e,t){P(this,{type:E,iterator:x(D(e).entries),kind:t})}),"Iterator",(function(){var e=j(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),G=function(){d(this,G,M);var e,t,n,r,i,o,s,a,l,c=arguments.length>0?arguments[0]:void 0,u=[];if(P(this,{type:M,entries:u,updateURL:function(){},updateSearchParams:U}),void 0!==c)if(v(c))if(e=_(c))for(n=(t=x(c,e)).next;!(r=n.call(t)).done;){if((s=(o=(i=x(g(r.value))).next).call(i)).done||(a=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");u.push({key:b(s.value),value:b(a.value)})}else for(l in c)f(c,l)&&u.push({key:l,value:b(c[l])});else H(u,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:b(c))},q=G.prototype;if(a(q,{append:function(e,t){$(arguments.length,2);var n=D(this);n.entries.push({key:b(e),value:b(t)}),n.updateURL()},delete:function(e){$(arguments.length,1);for(var t=D(this),n=t.entries,r=b(e),i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){$(arguments.length,1);for(var t=D(this).entries,n=b(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){$(arguments.length,1);for(var t=D(this).entries,n=b(e),r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){$(arguments.length,1);for(var t=D(this).entries,n=b(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){$(arguments.length,1);for(var n,r=D(this),i=r.entries,o=!1,s=b(e),a=b(t),l=0;l<i.length;l++)(n=i[l]).key===s&&(o?i.splice(l--,1):(o=!0,n.value=a));o||i.push({key:s,value:a}),r.updateURL()},sort:function(){var e,t,n,r=D(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=D(this).entries,r=p(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new Y(this,"keys")},values:function(){return new Y(this,"values")},entries:function(){return new Y(this,"entries")}},{enumerable:!0}),s(q,I,q.entries,{name:"entries"}),s(q,"toString",(function(){for(var e,t=D(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(W(e.key)+"="+W(e.value));return n.join("&")}),{enumerable:!0}),l(G,M),r({global:!0,forced:!o},{URLSearchParams:G}),!o&&h(T)){var X=function(e){if(v(e)){var t,n=e.body;if(m(n)===M)return(t=e.headers?new T(e.headers):new T).has("content-type")||t.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),y(e,{body:w(0,String(n)),headers:w(0,t)})}return e};if(h(k)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return k(e,arguments.length>1?X(arguments[1]):{})}}),h(S)){var Z=function(e){return d(this,Z,"Request"),new S(e,arguments.length>1?X(arguments[1]):{})};A.constructor=Z,Z.prototype=A,r({global:!0,forced:!0},{Request:Z})}}e.exports={URLSearchParams:G,getState:D}},4948:function(e,t,n){"use strict";n(5454);var r,i=n(3085),o=n(69),s=n(4551),a=n(8576),l=n(1187),c=n(9482),u=n(6961),d=n(4500),h=n(2503),f=n(841),p=n(863).codeAt,m=n(7977),g=n(4845),v=n(1284),b=n(9336),y=n(3326),w=a.URL,x=b.URLSearchParams,_=b.getState,C=y.set,k=y.getterFor("URL"),S=Math.floor,A=Math.pow,T="Invalid scheme",I="Invalid host",M="Invalid port",E=/[A-Za-z]/,P=/[\d+-.A-Za-z]/,D=/\d/,j=/^0x/i,O=/^[0-7]+$/,R=/^\d+$/,L=/^[\dA-Fa-f]+$/,N=/[\0\t\n\r #%/:<>?@[\\\]^|]/,B=/[\0\t\n\r #/:<>?@[\\\]^|]/,F=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,z=/[\t\n\r]/g,V=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return I;if(!(n=H(t.slice(1,-1))))return I;e.host=n}else if(K(e)){if(t=m(t),N.test(t))return I;if(null===(n=W(t)))return I;e.host=n}else{if(B.test(t))return I;for(n="",r=f(t),i=0;i<r.length;i++)n+=X(r[i],$);e.host=n}},W=function(e){var t,n,r,i,o,s,a,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=l[r]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=j.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)s=0;else{if(!(10==o?R:8==o?O:L).test(i))return e;s=parseInt(i,o)}n.push(s)}for(r=0;r<t;r++)if(s=n[r],r==t-1){if(s>=A(256,5-t))return null}else if(s>255)return null;for(a=n.pop(),r=0;r<n.length;r++)a+=n[r]*A(256,3-r);return a},H=function(e){var t,n,r,i,o,s,a,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,h=function(){return e.charAt(d)};if(":"==h()){if(":"!=e.charAt(1))return;d+=2,u=++c}for(;h();){if(8==c)return;if(":"!=h()){for(t=n=0;n<4&&L.test(h());)t=16*t+parseInt(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,c>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;d++}if(!D.test(h()))return;for(;D.test(h());){if(o=parseInt(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}l[c]=256*l[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;l[c++]=t}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(s=c-u,c=7;0!=c&&s>0;)a=l[c],l[c--]=l[u+s-1],l[u+--s]=a;else if(8!=c)return;return l},U=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=S(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},$={},Y=h({},$,{" ":1,'"':1,"<":1,">":1,"`":1}),G=h({},Y,{"#":1,"?":1,"{":1,"}":1}),q=h({},G,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),X=function(e,t){var n=p(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},Z={ftp:21,file:null,http:80,https:443,ws:80,wss:443},K=function(e){return d(Z,e.scheme)},Q=function(e){return""!=e.username||""!=e.password},J=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},ee=function(e,t){var n;return 2==e.length&&E.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},te=function(e){var t;return e.length>1&&ee(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ne=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&ee(t[0],!0)||t.pop()},re=function(e){return"."===e||"%2e"===e.toLowerCase()},ie={},oe={},se={},ae={},le={},ce={},ue={},de={},he={},fe={},pe={},me={},ge={},ve={},be={},ye={},we={},xe={},_e={},Ce={},ke={},Se=function(e,t,n,i){var o,s,a,l,c,u=n||ie,h=0,p="",m=!1,g=!1,v=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(F,"")),t=t.replace(z,""),o=f(t);h<=o.length;){switch(s=o[h],u){case ie:if(!s||!E.test(s)){if(n)return T;u=se;continue}p+=s.toLowerCase(),u=oe;break;case oe:if(s&&(P.test(s)||"+"==s||"-"==s||"."==s))p+=s.toLowerCase();else{if(":"!=s){if(n)return T;p="",u=se,h=0;continue}if(n&&(K(e)!=d(Z,p)||"file"==p&&(Q(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(K(e)&&Z[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?u=ve:K(e)&&i&&i.scheme==e.scheme?u=ae:K(e)?u=de:"/"==o[h+1]?(u=le,h++):(e.cannotBeABaseURL=!0,e.path.push(""),u=_e)}break;case se:if(!i||i.cannotBeABaseURL&&"#"!=s)return T;if(i.cannotBeABaseURL&&"#"==s){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,u=ke;break}u="file"==i.scheme?ve:ce;continue;case ae:if("/"!=s||"/"!=o[h+1]){u=ce;continue}u=he,h++;break;case le:if("/"==s){u=fe;break}u=xe;continue;case ce:if(e.scheme=i.scheme,s==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==s||"\\"==s&&K(e))u=ue;else if("?"==s)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",u=Ce;else{if("#"!=s){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),u=xe;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=ke}break;case ue:if(!K(e)||"/"!=s&&"\\"!=s){if("/"!=s){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,u=xe;continue}u=fe}else u=he;break;case de:if(u=he,"/"!=s||"/"!=p.charAt(h+1))continue;h++;break;case he:if("/"!=s&&"\\"!=s){u=fe;continue}break;case fe:if("@"==s){m&&(p="%40"+p),m=!0,a=f(p);for(var b=0;b<a.length;b++){var y=a[b];if(":"!=y||v){var w=X(y,q);v?e.password+=w:e.username+=w}else v=!0}p=""}else if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&K(e)){if(m&&""==p)return"Invalid authority";h-=f(p).length+1,p="",u=pe}else p+=s;break;case pe:case me:if(n&&"file"==e.scheme){u=ye;continue}if(":"!=s||g){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&K(e)){if(K(e)&&""==p)return I;if(n&&""==p&&(Q(e)||null!==e.port))return;if(l=V(e,p))return l;if(p="",u=we,n)return;continue}"["==s?g=!0:"]"==s&&(g=!1),p+=s}else{if(""==p)return I;if(l=V(e,p))return l;if(p="",u=ge,n==me)return}break;case ge:if(!D.test(s)){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&K(e)||n){if(""!=p){var x=parseInt(p,10);if(x>65535)return M;e.port=K(e)&&x===Z[e.scheme]?null:x,p=""}if(n)return;u=we;continue}return M}p+=s;break;case ve:if(e.scheme="file","/"==s||"\\"==s)u=be;else{if(!i||"file"!=i.scheme){u=xe;continue}if(s==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==s)e.host=i.host,e.path=i.path.slice(),e.query="",u=Ce;else{if("#"!=s){te(o.slice(h).join(""))||(e.host=i.host,e.path=i.path.slice(),ne(e)),u=xe;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=ke}}break;case be:if("/"==s||"\\"==s){u=ye;break}i&&"file"==i.scheme&&!te(o.slice(h).join(""))&&(ee(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),u=xe;continue;case ye:if(s==r||"/"==s||"\\"==s||"?"==s||"#"==s){if(!n&&ee(p))u=xe;else if(""==p){if(e.host="",n)return;u=we}else{if(l=V(e,p))return l;if("localhost"==e.host&&(e.host=""),n)return;p="",u=we}continue}p+=s;break;case we:if(K(e)){if(u=xe,"/"!=s&&"\\"!=s)continue}else if(n||"?"!=s)if(n||"#"!=s){if(s!=r&&(u=xe,"/"!=s))continue}else e.fragment="",u=ke;else e.query="",u=Ce;break;case xe:if(s==r||"/"==s||"\\"==s&&K(e)||!n&&("?"==s||"#"==s)){if(".."===(c=(c=p).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(ne(e),"/"==s||"\\"==s&&K(e)||e.path.push("")):re(p)?"/"==s||"\\"==s&&K(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&ee(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(s==r||"?"==s||"#"==s))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==s?(e.query="",u=Ce):"#"==s&&(e.fragment="",u=ke)}else p+=X(s,G);break;case _e:"?"==s?(e.query="",u=Ce):"#"==s?(e.fragment="",u=ke):s!=r&&(e.path[0]+=X(s,$));break;case Ce:n||"#"!=s?s!=r&&("'"==s&&K(e)?e.query+="%27":e.query+="#"==s?"%23":X(s,$)):(e.fragment="",u=ke);break;case ke:s!=r&&(e.fragment+=X(s,Y))}h++}},Ae=function(e){var t,n,r=u(this,Ae,"URL"),i=arguments.length>1?arguments[1]:void 0,s=g(e),a=C(r,{type:"URL"});if(void 0!==i)if(i instanceof Ae)t=k(i);else if(n=Se(t={},g(i)))throw TypeError(n);if(n=Se(a,s,null,t))throw TypeError(n);var l=a.searchParams=new x,c=_(l);c.updateSearchParams(a.query),c.updateURL=function(){a.query=String(l)||null},o||(r.href=Ie.call(r),r.origin=Me.call(r),r.protocol=Ee.call(r),r.username=Pe.call(r),r.password=De.call(r),r.host=je.call(r),r.hostname=Oe.call(r),r.port=Re.call(r),r.pathname=Le.call(r),r.search=Ne.call(r),r.searchParams=Be.call(r),r.hash=Fe.call(r))},Te=Ae.prototype,Ie=function(){var e=k(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,s=e.path,a=e.query,l=e.fragment,c=t+":";return null!==i?(c+="//",Q(e)&&(c+=n+(r?":"+r:"")+"@"),c+=U(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==a&&(c+="?"+a),null!==l&&(c+="#"+l),c},Me=function(){var e=k(this),t=e.scheme,n=e.port;if("blob"==t)try{return new Ae(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&K(e)?t+"://"+U(e.host)+(null!==n?":"+n:""):"null"},Ee=function(){return k(this).scheme+":"},Pe=function(){return k(this).username},De=function(){return k(this).password},je=function(){var e=k(this),t=e.host,n=e.port;return null===t?"":null===n?U(t):U(t)+":"+n},Oe=function(){var e=k(this).host;return null===e?"":U(e)},Re=function(){var e=k(this).port;return null===e?"":String(e)},Le=function(){var e=k(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ne=function(){var e=k(this).query;return e?"?"+e:""},Be=function(){return k(this).searchParams},Fe=function(){var e=k(this).fragment;return e?"#"+e:""},ze=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&l(Te,{href:ze(Ie,(function(e){var t=k(this),n=g(e),r=Se(t,n);if(r)throw TypeError(r);_(t.searchParams).updateSearchParams(t.query)})),origin:ze(Me),protocol:ze(Ee,(function(e){var t=k(this);Se(t,g(e)+":",ie)})),username:ze(Pe,(function(e){var t=k(this),n=f(g(e));if(!J(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=X(n[r],q)}})),password:ze(De,(function(e){var t=k(this),n=f(g(e));if(!J(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=X(n[r],q)}})),host:ze(je,(function(e){var t=k(this);t.cannotBeABaseURL||Se(t,g(e),pe)})),hostname:ze(Oe,(function(e){var t=k(this);t.cannotBeABaseURL||Se(t,g(e),me)})),port:ze(Re,(function(e){var t=k(this);J(t)||(""==(e=g(e))?t.port=null:Se(t,e,ge))})),pathname:ze(Le,(function(e){var t=k(this);t.cannotBeABaseURL||(t.path=[],Se(t,g(e),we))})),search:ze(Ne,(function(e){var t=k(this);""==(e=g(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Se(t,e,Ce)),_(t.searchParams).updateSearchParams(t.query)})),searchParams:ze(Be),hash:ze(Fe,(function(e){var t=k(this);""!=(e=g(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Se(t,e,ke)):t.fragment=null}))}),c(Te,"toJSON",(function(){return Ie.call(this)}),{enumerable:!0}),c(Te,"toString",(function(){return Ie.call(this)}),{enumerable:!0}),w){var Ve=w.createObjectURL,We=w.revokeObjectURL;Ve&&c(Ae,"createObjectURL",(function(e){return Ve.apply(w,arguments)})),We&&c(Ae,"revokeObjectURL",(function(e){return We.apply(w,arguments)}))}v(Ae,"URL"),i({global:!0,forced:!s,sham:!o},{URL:Ae})},9801:function(){},3822:function(e,t,n){var r=n(2221);e.exports=r},1434:function(e,t,n){var r=n(5078);e.exports=r},6899:function(e,t,n){var r=n(98);e.exports=r},7710:function(e,t,n){var r=n(5739);n(162),e.exports=r},4486:function(e,t,n){var r=n(278);e.exports=r},4877:function(e,t,n){var r=n(1484);e.exports=r},7178:function(e,t,n){var r=n(7731);e.exports=r},5603:function(e,t,n){var r=n(3669);e.exports=r},1206:function(e,t,n){n(162);var r=n(6899),i=n(4696),o=Array.prototype,s={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===o||e instanceof Array&&t===o.forEach||s.hasOwnProperty(i(e))?r:t}},6174:function(e,t,n){var r=n(2604);e.exports=r},57:function(e,t,n){var r=n(263);e.exports=r},4741:function(e,t,n){var r=n(7663);e.exports=r},8368:function(e,t,n){var r=n(5063);e.exports=r},3739:function(e,t,n){var r=n(6813);e.exports=r},172:function(e,t,n){var r=n(6285);e.exports=r},4963:function(e,t,n){var r=n(3213);e.exports=r},7820:function(e,t,n){var r=n(3512);e.exports=r},8980:function(e,t,n){var r=n(8168);e.exports=r},5636:function(e,t,n){var r=n(8651);e.exports=r},6672:function(e,t,n){var r=n(3083);e.exports=r},5059:function(e,t,n){var r=n(2987);e.exports=r},3969:function(e,t,n){var r=n(2239);e.exports=r},6618:function(e,t,n){var r=n(3154);n(162),e.exports=r},5279:function(e,t,n){var r=n(6577);e.exports=r},9562:function(e,t,n){n(2906);var r=n(7545);e.exports=r.setTimeout},2285:function(e,t,n){var r=n(5008);n(162),e.exports=r},8535:function(e,t,n){var r=n(994);n(162),e.exports=r},652:function(e,t,n){var r=n(5668);e.exports=r},5668:function(e,t,n){n(4948),n(9801),n(9336);var r=n(7545);e.exports=r.URL},2534:function(e){"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyBkaXNwbGF5PSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGRlZnMgaWQ9InR1aS1pbWFnZS1lZGl0b3Itc3ZnLWRlZmF1bHQtaWNvbnMiPgo8c3ltYm9sIGlkPSJpYy1hcHBseSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNNCAxMi4wMTFsNSA1TDIwLjAxMSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1jYW5jZWwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTYgNmwxMiAxMk0xOCA2TDYgMTgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIC8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik00IDBoMXYyMGExIDEgMCAwIDEtMS0xVjB6TTIwIDE3aC0xVjVoMXYxMnptMCAydjVoLTF2LTVoMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMTloMTl2MUg1ek00Ljc2MiA0djFIMFY0aDQuNzYyek03IDRoMTJhMSAxIDAgMCAxIDEgMUg3VjR6Ii8+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1yZXNpemUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIi8+CiAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNIDE4Ljk4ODI4MSAzLjAxMTcxOSBDIDE4LjgwMDc4MSAyLjgyNDIxOSAxOC41IDIuODI0MjE5IDE4LjMxMjUgMy4wMTE3MTkgTCAxMS42MjEwOTQgOS43MDcwMzEgQyAxMS40Mjk2ODggOS44OTQ1MzEgMTEuNDI5Njg4IDEwLjE5NTMxMiAxMS42MjEwOTQgMTAuMzc4OTA2IEMgMTEuNzEwOTM4IDEwLjQ3MjY1NiAxMS44MzU5MzggMTAuNTE5NTMxIDExLjk1NzAzMSAxMC41MTk1MzEgQyAxMi4wNzgxMjUgMTAuNTE5NTMxIDEyLjIwMzEyNSAxMC40NzI2NTYgMTIuMjkyOTY5IDEwLjM3ODkwNiBMIDE4Ljk4ODI4MSAzLjY4NzUgQyAxOS4xNzU3ODEgMy41IDE5LjE3NTc4MSAzLjE5OTIxOSAxOC45ODgyODEgMy4wMTE3MTkgWiBNIDE4Ljk4ODI4MSAzLjAxMTcxOSAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEMgMTguMzg2NzE5IDIuODY3MTg4IDE4LjE3MTg3NSAzLjA4MjAzMSAxOC4xNzE4NzUgMy4zNDc2NTYgTCAxOC4xNzE4NzUgOS4wODU5MzggQyAxOC4xNzE4NzUgOS4zNDc2NTYgMTguMzg2NzE5IDkuNTYyNSAxOC42NTIzNDQgOS41NjI1IEMgMTguOTE3OTY5IDkuNTYyNSAxOS4xMzI4MTIgOS4zNDc2NTYgMTkuMTMyODEyIDkuMDg1OTM4IEwgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEwgMTIuOTE0MDYyIDIuODY3MTg4IEMgMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjQzNzUgMy4wODIwMzEgMTIuNDM3NSAzLjM0NzY1NiBDIDEyLjQzNzUgMy42MTMyODEgMTIuNjUyMzQ0IDMuODI4MTI1IDEyLjkxNDA2MiAzLjgyODEyNSBMIDE4LjY1MjM0NCAzLjgyODEyNSBDIDE4LjkxNzk2OSAzLjgyODEyNSAxOS4xMzI4MTIgMy42MTMyODEgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTAuMzc4OTA2IDExLjYyMTA5NCBDIDEwLjE5NTMxMiAxMS40MzM1OTQgOS44OTA2MjUgMTEuNDMzNTk0IDkuNzAzMTI1IDExLjYyMTA5NCBMIDMuMDA3ODEyIDE4LjMxNjQwNiBDIDIuODIwMzEyIDE4LjUgMi44MjAzMTIgMTguODA0Njg4IDMuMDA3ODEyIDE4Ljk5MjE4OCBDIDMuMTA1NDY5IDE5LjA4NTkzOCAzLjIyNjU2MiAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy40Njg3NSAxOS4xMzI4MTIgMy41ODk4NDQgMTkuMDg1OTM4IDMuNjgzNTk0IDE4Ljk5MjE4OCBMIDEwLjM3ODkwNiAxMi4yOTY4NzUgQyAxMC41NjY0MDYgMTIuMTA5Mzc1IDEwLjU2NjQwNiAxMS44MDQ2ODggMTAuMzc4OTA2IDExLjYyMTA5NCBaIE0gMTAuMzc4OTA2IDExLjYyMTA5NCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMy4zNDc2NTYgMTIuNDM3NSBDIDMuMDgyMDMxIDEyLjQzNzUgMi44NjcxODggMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjkxNDA2MiBMIDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy42MTMyODEgMTkuMTMyODEyIDMuODI4MTI1IDE4LjkxNzk2OSAzLjgyODEyNSAxOC42NTIzNDQgTCAzLjgyODEyNSAxMi45MTQwNjIgQyAzLjgyODEyNSAxMi42NTIzNDQgMy42MTMyODEgMTIuNDM3NSAzLjM0NzY1NiAxMi40Mzc1IFogTSAzLjM0NzY1NiAxMi40Mzc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSA5LjA4NTkzOCAxOC4xNzE4NzUgTCAzLjM0NzY1NiAxOC4xNzE4NzUgQyAzLjA4MjAzMSAxOC4xNzE4NzUgMi44NjcxODggMTguMzg2NzE5IDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEwgOS4wODU5MzggMTkuMTMyODEyIEMgOS4zNDc2NTYgMTkuMTMyODEyIDkuNTYyNSAxOC45MTc5NjkgOS41NjI1IDE4LjY1MjM0NCBDIDkuNTYyNSAxOC4zODY3MTkgOS4zNDc2NTYgMTguMTcxODc1IDkuMDg1OTM4IDE4LjE3MTg3NSBaIE0gOS4wODU5MzggMTguMTcxODc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSAyMC41NjI1IDAgTCAxLjQzNzUgMCBDIDAuNjQ0NTMxIDAgMCAwLjY0NDUzMSAwIDEuNDM3NSBMIDAgMjAuNTYyNSBDIDAgMjEuMzU1NDY5IDAuNjQ0NTMxIDIyIDEuNDM3NSAyMiBMIDIwLjU2MjUgMjIgQyAyMS4zNTU0NjkgMjIgMjIgMjEuMzU1NDY5IDIyIDIwLjU2MjUgTCAyMiAxLjQzNzUgQyAyMiAwLjY0NDUzMSAyMS4zNTU0NjkgMCAyMC41NjI1IDAgWiBNIDIxLjA0Mjk2OSAyMC41NjI1IEMgMjEuMDQyOTY5IDIwLjgyODEyNSAyMC44MjgxMjUgMjEuMDQyOTY5IDIwLjU2MjUgMjEuMDQyOTY5IEwgMS40Mzc1IDIxLjA0Mjk2OSBDIDEuMTcxODc1IDIxLjA0Mjk2OSAwLjk1NzAzMSAyMC44MjgxMjUgMC45NTcwMzEgMjAuNTYyNSBMIDAuOTU3MDMxIDEuNDM3NSBDIDAuOTU3MDMxIDEuMTcxODc1IDEuMTcxODc1IDAuOTU3MDMxIDEuNDM3NSAwLjk1NzAzMSBMIDIwLjU2MjUgMC45NTcwMzEgQyAyMC44MjgxMjUgMC45NTcwMzEgMjEuMDQyOTY5IDEuMTcxODc1IDIxLjA0Mjk2OSAxLjQzNzUgWiBNIDIxLjA0Mjk2OSAyMC41NjI1ICIvPgo8L3N5bWJvbD4KPCEtLSAgLS0+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZS1hbGwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik01IDIzSDNhMSAxIDAgMCAxLTEtMVY2aDF2MTZoMnYxem0xNi0xMGgtMVY2aDF2N3pNOSAxM0g4di0zaDF2M3ptMyAwaC0xdi0zaDF2M3ptMyAwaC0xdi0zaDF2M3pNMTQuNzk0IDMuNzk0TDEzIDJoLTNMOC4yMDYgMy43OTRBLjk2My45NjMgMCAwIDEgOCAyLjVsLjcwMy0xLjA1NUExIDEgMCAwIDEgOS41MzUgMWgzLjkzYTEgMSAwIDAgMSAuODMyLjQ0NUwxNSAyLjVhLjk2NS45NjUgMCAwIDEtLjIwNiAxLjI5NHpNMTQuMTk3IDRIOC44MDNoNS4zOTR6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDNoMjN2MUgwek0xMS4yODYgMjFIOC43MTRMOCAyM0g3bDEtMi44VjIwaC4wNzFMOS41IDE2aDFsMS40MjkgNEgxMnYuMmwxIDIuOGgtMWwtLjcxNC0yem0tLjM1Ny0xTDEwIDE3LjQgOS4wNzEgMjBoMS44NTh6TTIwIDIyaDN2MWgtNHYtN2gxdjZ6bS01IDBoM3YxaC00di03aDF2NnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTMgNnYxNmgxN1Y2aDF2MTZhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNmgxek0xNC43OTQgMy43OTRMMTMgMmgtM0w4LjIwNiAzLjc5NEEuOTYzLjk2MyAwIDAgMSA4IDIuNWwuNzAzLTEuMDU1QTEgMSAwIDAgMSA5LjUzNSAxaDMuOTNhMSAxIDAgMCAxIC44MzIuNDQ1TDE1IDIuNWEuOTY1Ljk2NSAwIDAgMS0uMjA2IDEuMjk0ek0xNC4xOTcgNEg4LjgwM2g1LjM5NHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTAgM2gyM3YxSDB6TTggMTBoMXY2SDh2LTZ6bTMgMGgxdjZoLTF2LTZ6bTMgMGgxdjZoLTF2LTZ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1kcmF3LWZyZWUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMjAuOTI5QzIuNTk0IDEwLjk3NiA0LjMyMyA2IDcuNjg2IDZjNS44NzIgMCAyLjUyNCAxOSA3LjY5NyAxOXMxLjg5LTE0LjkyOSA2LjQxNC0xNC45MjkgMS4zNTcgMTAuODU4IDUuMTMgMTAuODU4YzEuODAyIDAgMi42NTctMi4yNjIgMi41NjYtNi43ODYiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRyYXctbGluZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIgMTUuNWgyOCIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZHJhdyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIuNSAyMS41SDVjLjI0NSAwIC40OC0uMDU4LjY5MS0uMTY4bC4xMjQtLjA2NS4xNC4wMWMuNDI5LjAyOC44NS0uMTI3IDEuMTYtLjQzN0wyMi41NSA1LjQwNWEuNS41IDAgMCAwIDAtLjcwN2wtMy4yNDYtMy4yNDVhLjUuNSAwIDAgMC0uNzA3IDBMMy4xNjIgMTYuODg4YTEuNDk1IDEuNDk1IDAgMCAwLS40MzcgMS4xNTVsLjAxLjE0LS4wNjUuMTIzYy0uMTExLjIxMi0uMTcuNDQ4LS4xNy42OTR2Mi41eiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTYuNDE0IDMuNzA3bDMuODkgMy44OS0uNzA4LjcwNi0zLjg4OS0zLjg4OXoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWZpbHRlciIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTEyIDd2MUgyVjdoMTB6bTYgMGg0djFoLTRWN3pNMTIgMTZ2MWgxMHYtMUgxMnptLTYgMEgydjFoNHYtMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTguNSAyMGEzLjUgMy41IDAgMSAxIDAtNyAzLjUgMy41IDAgMCAxIDAgN3ptMC0xYTIuNSAyLjUgMCAxIDAgMC01IDIuNSAyLjUgMCAwIDAgMCA1ek0xNS41IDExYTMuNSAzLjUgMCAxIDEgMC03IDMuNSAzLjUgMCAwIDEgMCA3em0wLTFhMi41IDIuNSAwIDEgMCAwLTUgMi41IDIuNSAwIDAgMCAwIDV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXJlc2V0IiB2aWV3Qm94PSIwIDAgMzEgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMzEgMEgwdjMyaDMxeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjggMTZhOCA4IDAgMCAxLTggOEgzdi0xaDF2LTdIM2E4IDggMCAwIDEgOC04aDE3djFoLTF2N2gxek0xMSA5YTcgNyAwIDAgMC03IDd2N2gxNmE3IDcgMCAwIDAgNy03VjlIMTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0yNCA1bDMuNSAzLjVMMjQgMTJNNyAyMGwtMy41IDMuNUw3IDI3Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXgiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGQ9Ik0zMiAzMkgwVjBoMzJ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNyAzMmgtMVYwaDF6TTI3LjE2NyAxMWwuNSAzaC0xLjAzbC0uNTQ2LTNoMS4wNzZ6bS0uNS0zaC0xLjEyMkwyNSA1aC01VjRoNS4xNTNhMSAxIDAgMCAxIC45ODYuODM2TDI2LjY2NyA4em0xLjUgOWwuNSAzaC0uOTRsLS41NDUtM2guOTg1em0xIDZsLjYzOSAzLjgzNkExIDEgMCAwIDEgMjguODE5IDI4SDI2di0xaDNsLS43MjYtNGguODk0ek0yMyAyOGgtM3YtMWgzdjF6TTEzIDR2MUg3TDMgMjdoMTB2MUgzLjE4YTEgMSAwIDAgMS0uOTg2LTEuMTY0bDMuNjY2LTIyQTEgMSAwIDAgMSA2Ljg0NyA0SDEzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZmxpcC15IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwdjMyaDMyVjB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDE2djFoMzJ2LTF6TTExIDI3LjE2N2wzIC41di0xLjAzbC0zLS41NDZ2MS4wNzZ6bS0zLS41di0xLjEyMkw1IDI1di01SDR2NS4xNTNhMSAxIDAgMCAwIC44MzYuOTg2TDggMjYuNjY3em05IDEuNWwzIC41di0uOTRsLTMtLjU0NXYuOTg1em02IDFsMy44MzYuNjM5QTEgMSAwIDAgMCAyOCAyOC44MlYyNmgtMXYzbC00LS43Mjd2Ljg5NHpNMjggMjN2LTNoLTF2M2gxek00IDEzaDFWN2wyMi00djEwaDFWMy4xOGExIDEgMCAwIDAtMS4xNjQtLjk4NmwtMjIgMy42NjdBMSAxIDAgMCAwIDQgNi44NDdWMTN6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgc3Ryb2tlPSJub25lIiBkPSJNMTEgMGgxdjI0aC0xek0xOSAyMXYtMWgydi0yaDF2MmExIDEgMCAwIDEtMSAxaC0yem0tMiAwaC0zdi0xaDN2MXptNS01aC0xdi0zaDF2M3ptMC01aC0xVjhoMXYzem0wLTVoLTFWNGgtMlYzaDJhMSAxIDAgMCAxIDEgMXYyem0tNS0zdjFoLTNWM2gzek05IDN2MUgydjE2aDd2MUgyYTEgMSAwIDAgMS0xLTFWNGExIDEgMCAwIDEgMS0xaDd6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwSDI0VjI0SDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzQwIC0xNikgdHJhbnNsYXRlKDU0NyA4KSB0cmFuc2xhdGUoMTkzIDgpIi8+CiAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBzdHJva2U9Im5vbmUiIGQ9Ik0xMi41IDFDMTguMjk5IDEgMjMgNS43MDEgMjMgMTEuNVMxOC4yOTkgMjIgMTIuNSAyMmMtNS4yOSAwLTkuNjY1LTMuOTExLTEwLjM5NC04Ljk5OWgxLjAxMkMzLjgzOCAxNy41MzQgNy43NjQgMjEgMTIuNSAyMWM1LjI0NyAwIDkuNS00LjI1MyA5LjUtOS41UzE3Ljc0NyAyIDEyLjUgMkM4LjQ5IDIgNS4wNiA0LjQ4NSAzLjY2NiA4SDNoNHYxSDJWNGgxdjMuMDIyQzQuNjggMy40NjIgOC4zMDMgMSAxMi41IDF6bS41IDVsLS4wMDEgNS4yOTEgMi41MzcgMi41MzctLjcwOC43MDhMMTIuMjkyIDEySDEyVjZoMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03NDAgLTE2KSB0cmFuc2xhdGUoNTQ3IDgpIHRyYW5zbGF0ZSgxOTMgOCkiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktY2hlY2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBzdHJva2U9IiM1NTU1NTUiIGQ9Ik00LjUgLTFMMS41IDIgNi41IDciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MCAtODA0KSB0cmFuc2xhdGUoNjAgODA0KSB0cmFuc2xhdGUoMiAzKSByb3RhdGUoLTkwIDQgMykiIC8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDBoMXYxMGMtLjU1MiAwLTEtLjQ0OC0xLTFWMHpNMTAgOXYzSDlWOWgxek05IDJoMXY2SDlWMnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDlIMTJWMTBIMnpNOSAyYy41MTMgMCAuOTM2LjM4Ni45OTMuODgzTDEwIDNIM1YyaDZ6TTIgM0gwVjJoMnYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTg0IC04MDQpIHRyYW5zbGF0ZSg4NCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJlc2l6ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjQ5MjE4OCAxLjUwNzgxMiBDIDkuMzk4NDM4IDEuNDE0MDYyIDkuMjUgMS40MTQwNjIgOS4xNTYyNSAxLjUwNzgxMiBMIDUuODEyNSA0Ljg1MTU2MiBDIDUuNzE0ODQ0IDQuOTQ1MzEyIDUuNzE0ODQ0IDUuMDk3NjU2IDUuODEyNSA1LjE4NzUgQyA1Ljg1NTQ2OSA1LjIzNDM3NSA1LjkxNzk2OSA1LjI1NzgxMiA1Ljk3NjU2MiA1LjI1NzgxMiBDIDYuMDM5MDYyIDUuMjU3ODEyIDYuMTAxNTYyIDUuMjM0Mzc1IDYuMTQ4NDM4IDUuMTg3NSBMIDkuNDkyMTg4IDEuODQzNzUgQyA5LjU4NTkzOCAxLjc1IDkuNTg1OTM4IDEuNjAxNTYyIDkuNDkyMTg4IDEuNTA3ODEyIFogTSA5LjQ5MjE4OCAxLjUwNzgxMiAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gOS4zMjgxMjUgMS40MzM1OTQgQyA5LjE5NTMxMiAxLjQzMzU5NCA5LjA4NTkzOCAxLjUzOTA2MiA5LjA4NTkzOCAxLjY3MTg3NSBMIDkuMDg1OTM4IDQuNTQyOTY5IEMgOS4wODU5MzggNC42NzE4NzUgOS4xOTUzMTIgNC43ODEyNSA5LjMyODEyNSA0Ljc4MTI1IEMgOS40NjA5MzggNC43ODEyNSA5LjU2NjQwNiA0LjY3MTg3NSA5LjU2NjQwNiA0LjU0Mjk2OSBMIDkuNTY2NDA2IDEuNjcxODc1IEMgOS41NjY0MDYgMS41MzkwNjIgOS40NjA5MzggMS40MzM1OTQgOS4zMjgxMjUgMS40MzM1OTQgWiBNIDkuMzI4MTI1IDEuNDMzNTk0ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjMyODEyNSAxLjQzMzU5NCBMIDYuNDU3MDMxIDEuNDMzNTk0IEMgNi4zMjgxMjUgMS40MzM1OTQgNi4yMTg3NSAxLjUzOTA2MiA2LjIxODc1IDEuNjcxODc1IEMgNi4yMTg3NSAxLjgwNDY4OCA2LjMyODEyNSAxLjkxNDA2MiA2LjQ1NzAzMSAxLjkxNDA2MiBMIDkuMzI4MTI1IDEuOTE0MDYyIEMgOS40NjA5MzggMS45MTQwNjIgOS41NjY0MDYgMS44MDQ2ODggOS41NjY0MDYgMS42NzE4NzUgQyA5LjU2NjQwNiAxLjUzOTA2MiA5LjQ2MDkzOCAxLjQzMzU5NCA5LjMyODEyNSAxLjQzMzU5NCBaIE0gOS4zMjgxMjUgMS40MzM1OTQgIi8+CiAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNIDUuMTg3NSA1LjgxMjUgQyA1LjA5NzY1NiA1LjcxODc1IDQuOTQ1MzEyIDUuNzE4NzUgNC44NTE1NjIgNS44MTI1IEwgMS41MDM5MDYgOS4xNTYyNSBDIDEuNDEwMTU2IDkuMjUgMS40MTAxNTYgOS40MDIzNDQgMS41MDM5MDYgOS40OTYwOTQgQyAxLjU1NDY4OCA5LjU0Mjk2OSAxLjYxMzI4MSA5LjU2NjQwNiAxLjY3MTg3NSA5LjU2NjQwNiBDIDEuNzM0Mzc1IDkuNTY2NDA2IDEuNzk2ODc1IDkuNTQyOTY5IDEuODQzNzUgOS40OTYwOTQgTCA1LjE4NzUgNi4xNDg0MzggQyA1LjI4MTI1IDYuMDU0Njg4IDUuMjgxMjUgNS45MDIzNDQgNS4xODc1IDUuODEyNSBaIE0gNS4xODc1IDUuODEyNSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gMS42NzE4NzUgNi4yMTg3NSBDIDEuNTM5MDYyIDYuMjE4NzUgMS40MzM1OTQgNi4zMjgxMjUgMS40MzM1OTQgNi40NTcwMzEgTCAxLjQzMzU5NCA5LjMyODEyNSBDIDEuNDMzNTk0IDkuNDYwOTM4IDEuNTM5MDYyIDkuNTY2NDA2IDEuNjcxODc1IDkuNTY2NDA2IEMgMS44MDQ2ODggOS41NjY0MDYgMS45MTQwNjIgOS40NjA5MzggMS45MTQwNjIgOS4zMjgxMjUgTCAxLjkxNDA2MiA2LjQ1NzAzMSBDIDEuOTE0MDYyIDYuMzI4MTI1IDEuODA0Njg4IDYuMjE4NzUgMS42NzE4NzUgNi4yMTg3NSBaIE0gMS42NzE4NzUgNi4yMTg3NSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gNC41NDI5NjkgOS4wODU5MzggTCAxLjY3MTg3NSA5LjA4NTkzOCBDIDEuNTM5MDYyIDkuMDg1OTM4IDEuNDMzNTk0IDkuMTk1MzEyIDEuNDMzNTk0IDkuMzI4MTI1IEMgMS40MzM1OTQgOS40NjA5MzggMS41MzkwNjIgOS41NjY0MDYgMS42NzE4NzUgOS41NjY0MDYgTCA0LjU0Mjk2OSA5LjU2NjQwNiBDIDQuNjcxODc1IDkuNTY2NDA2IDQuNzgxMjUgOS40NjA5MzggNC43ODEyNSA5LjMyODEyNSBDIDQuNzgxMjUgOS4xOTUzMTIgNC42NzE4NzUgOS4wODU5MzggNC41NDI5NjkgOS4wODU5MzggWiBNIDQuNTQyOTY5IDkuMDg1OTM4ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSAxMC4yODEyNSAwIEwgMC43MTg3NSAwIEMgMC4zMjAzMTIgMCAwIDAuMzIwMzEyIDAgMC43MTg3NSBMIDAgMTAuMjgxMjUgQyAwIDEwLjY3OTY4OCAwLjMyMDMxMiAxMSAwLjcxODc1IDExIEwgMTAuMjgxMjUgMTEgQyAxMC42Nzk2ODggMTEgMTEgMTAuNjc5Njg4IDExIDEwLjI4MTI1IEwgMTEgMC43MTg3NSBDIDExIDAuMzIwMzEyIDEwLjY3OTY4OCAwIDEwLjI4MTI1IDAgWiBNIDEwLjUyMzQzOCAxMC4yODEyNSBDIDEwLjUyMzQzOCAxMC40MTQwNjIgMTAuNDE0MDYyIDEwLjUyMzQzOCAxMC4yODEyNSAxMC41MjM0MzggTCAwLjcxODc1IDEwLjUyMzQzOCBDIDAuNTg1OTM4IDEwLjUyMzQzOCAwLjQ3NjU2MiAxMC40MTQwNjIgMC40NzY1NjIgMTAuMjgxMjUgTCAwLjQ3NjU2MiAwLjcxODc1IEMgMC40NzY1NjIgMC41ODU5MzggMC41ODU5MzggMC40NzY1NjIgMC43MTg3NSAwLjQ3NjU2MiBMIDEwLjI4MTI1IDAuNDc2NTYyIEMgMTAuNDE0MDYyIDAuNDc2NTYyIDEwLjUyMzQzOCAwLjU4NTkzOCAxMC41MjM0MzggMC43MTg3NSBaIE0gMTAuNTIzNDM4IDEwLjI4MTI1ICIvPgogIDwvZz4KPC9zeW1ib2w+CjwhLS0gIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWRyYXciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDFIMTJWMTNIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBkPSJNOS42MjIgMS41ODRsMS44MzUgMS42NTgtOC4zMSA4LjQwN0wuNSAxMi41VjExbDkuMTIyLTkuNDE2eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1NiAtODA0KSB0cmFuc2xhdGUoMTU2IDgwMykiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNNy42MjggMy43NTNMMTAuMzc4IDMuNzUzIDEwLjM3OCA0LjI1MyA3LjYyOCA0LjI1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIHJvdGF0ZSg0NSA5LjAwMyA0LjAwMykiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZmlsdGVyIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xMiAzdjFIOVYzaDN6TTcgNEgwVjNoN3YxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI3NiAtODA0KSB0cmFuc2xhdGUoMjc2IDgwNCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMTIgOHYxSDlWOGgzek03IDlIMFY4aDd2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNzYgLTgwNCkgdHJhbnNsYXRlKDI3NiA4MDQpIG1hdHJpeCgtMSAwIDAgMSAxMiAwKSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik04IDFjMS4xMDUgMCAyIC44OTUgMiAycy0uODk1IDItMiAyLTItLjg5NS0yLTIgLjg5NS0yIDItMnptMCAxYy0uNTUyIDAtMSAuNDQ4LTEgMXMuNDQ4IDEgMSAxIDEtLjQ0OCAxLTEtLjQ0OC0xLTEtMXpNNCA3YzEuMTA1IDAgMiAuODk1IDIgMnMtLjg5NSAyLTIgMi0yLS44OTUtMi0yIC44OTUtMiAyLTJ6bTAgMWMtLjU1MiAwLTEgLjQ0OC0xIDFzLjQ0OCAxIDEgMSAxLS40NDggMS0xLS40NDgtMS0xLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTA4IC04MDQpIHRyYW5zbGF0ZSgxMDggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik02IDBMNyAwIDcgMTIgNiAxMnpNMTEgMTBWOWgxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIMTB2LTFoMXpNNSAxdjFIMXY4aDR2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjV2LTljMC0uMjc2LjIyNC0uNS41LS41SDV6bTcgNXYyaC0xVjZoMXptMC0zdjJoLTFWM2gxek05IDF2MUg3VjFoMnptMi41IDBjLjI3NiAwIC41LjIyNC41LjVWMmgtMlYxaDEuNXpNOSAxMUg3di0xaDJ2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMDggLTgwNCkgdHJhbnNsYXRlKDEwOCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWljb24iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS4xIiBkPSJNNiA5LjU2OEwyLjYwMSAxMSAyLjk3NSA3LjQ2NyAwLjUgNC44MiA0LjEzIDQuMDY4IDYgMSA3Ljg3IDQuMDY4IDExLjUgNC44MiA5LjAyNSA3LjQ2NyA5LjM5OSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LW1hc2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNTIgLTgwNCkgdHJhbnNsYXRlKDI1MiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMEgxMlYxMkgweiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI2IiBjeT0iNiIgcj0iMi41IiBzdHJva2U9IiM0NDQiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgMGMuMjc2IDAgLjUuMjI0LjUuNXYxMWMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41Vi41QzAgLjIyNC4yMjQgMCAuNSAwaDExek0xMSAxSDF2MTBoMTBWMXoiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGlkPSJyZm40cnlsZmZhIiBkPSJNNyAxMmMtLjMzNSAwLS42NjMtLjAyNS0uOTgzLS4wNzRDMy4xNzEgMTEuNDkyIDEgOS4yMDUgMSA2LjQ0NGMwLTEuMzYzLjUzNC0yLjYxMyAxLjQxNS0zLjU4Ii8+CiAgICAgICAgPG1hc2sgaWQ9IjZmOWduMmR5c2IiIHdpZHRoPSI2IiBoZWlnaHQ9IjkuMTM2IiB4PSIwIiB5PSIwIiBtYXNrVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij4KICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcmZuNHJ5bGZmYSIgc3Ryb2tlPSI0MzQzNDMiLz4KICAgICAgICA8L21hc2s+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzIgLTgwNCkgdHJhbnNsYXRlKDEzMiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMC41SDEyVjEyLjVIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTYuNSAxQzkuNTM4IDEgMTIgMy40NjIgMTIgNi41YzAgMi4zNy0xLjUgNC4zOS0zLjYgNS4xNjNsLS40MDctLjkxNkM5Ljc0NCAxMC4xMyAxMSA4LjQ2MiAxMSA2LjUgMTEgNC4wMTUgOC45ODUgMiA2LjUgMmMtLjc3NyAwLTEuNTA5LjE5Ny0yLjE0Ny41NDRMNCAxLjc1bC0uMjA1LS4wNEM0LjU5NCAxLjI1OCA1LjUxNyAxIDYuNSAxeiIvPgogICAgICAgICAgICA8dXNlIHN0cm9rZT0iIzQzNDM0MyIgc3Ryb2tlLWRhc2hhcnJheT0iMiAxLjI1IiBzdHJva2Utd2lkdGg9IjEiIG1hc2s9InVybCgjNmY5Z24yZHlzYikiIHhsaW5rOmhyZWY9IiNyZm40cnlsZmZhIi8+CiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik00LjI3OSAwTDYgMS43NSA0LjI1IDMuNTcxIDMuNTQzIDIuODY0IDQuNTg2IDEuNzUgMy41NzIgMC43MDd6IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSA5LjU0MyAwKSIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3Rvcnktc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY3YzAgLjI3Ni0uMjI0LjUtLjUuNWgtN2MtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC44aDFWMTFoNlY1SDguMzQxbC0uNTY4LTFIMTEuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik00LjUgMC41TDguNSA3LjYxMSAwLjUgNy42MTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTgwIC04MDQpIHRyYW5zbGF0ZSgxODAgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDFoOGMuNTUyIDAgMSAuNDQ4IDEgMUgxYzAtLjU1Mi40NDgtMSAxLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xIDFIMlYzSDF6TTEwIDFIMTFWM0gxMHpNNS41IDFMNi41IDEgNi41IDExIDUuNSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjggLTgwNCkgdHJhbnNsYXRlKDIyOCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTQgMTBIOFYxMUg0eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyOCAtODA0KSB0cmFuc2xhdGUoMjI4IDgwNCkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktbG9hZCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzI0IC04MDUpIHRyYW5zbGF0ZSgzMjQgODA1KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik01IDBjLjU1MiAwIDEgLjQ0OCAxIDF2MWg1LjVjLjI3NiAwIC41LjIyNC41LjV2OGMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41VjFjMC0uNTUyLjQ0OC0xIDEtMWg0em0wIDFIMXY5aDEwVjNINVYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMSAyTDUgMiA1IDMgMSAzeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZGVsZXRlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGZpbGw9IiM0MzQzNDMiPgogICAgICAgICAgICA8cGF0aCBkPSJNMiA5aDhWMWgxdjguNWMwIC4yNzYtLjIyNC41LS41LjVoLTljLS4yNzYgMC0uNS0uMjI0LS41LS41VjFoMXY4ek0wIDBIMTJWMUgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgM0g1VjdINHpNNyAzSDhWN0g3eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgMWg0VjBoMXYxLjVjMCAuMjc2LS4yMjQuNS0uNS41aC01Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVYwaDF2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMDAgLTgwNCkgdHJhbnNsYXRlKDMwMCA4MDQpIG1hdHJpeCgxIDAgMCAtMSAwIDIpIi8+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1ncm91cCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzQ4IC04MDQpIHRyYW5zbGF0ZSgzNDggODA0KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTEgOXYyaDF2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOWgxem0xMSAxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIOXYtMWgydi0xaDF6bS00IDF2MUg2di0xaDJ6bS0zIDB2MUgzdi0xaDJ6bTctNHYyaC0xVjdoMXpNMSA2djJIMFY2aDF6bTExLTJ2MmgtMVY0aDF6TTEgM3YySDBWM2gxem0xMC41LTNjLjI3NiAwIC41LjIyNC41LjVWM2gtMVYxaC0xVjBoMS41ek02IDB2MUg0VjBoMnptMyAwdjFIN1YwaDJ6TTAgLjVDMCAuMjI0LjIyNCAwIC41IDBIM3YxSDF2MUgwVi41ek05LjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY1YzAgLjI3Ni0uMjI0LjUtLjUuNWgtNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC4zNTVjLjMxNy4wOTQuNjUyLjE0NSAxIC4xNDVWOWg0VjVoLS41YzAtLjM0OC0uMDUtLjY4My0uMTQ1LTFIOS41eiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI1IiBjeT0iNSIgcj0iMi41IiBzdHJva2U9IiM0MzQzNDMiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWFycm93LTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIxLjc5MyAxOC41SDIuNXYtNWgxOC45MzVsLTcuNi04aDUuODcybDEwLjUgMTAuNS0xMC41IDEwLjVoLTUuOTE0bDgtOHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ctMyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMjUuMjg4IDE2LjQyTDE0LjIwOCAyNy41SDYuNzkybDExLjI5MS0xMS4yOTFMNi44MjYgNC41aDcuMzgxbDExLjY2MSAxMS42NjEtLjU4LjI1OHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ciIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMTEuNXY5aDE4djUuMjkzTDMwLjI5MyAxNiAyMC41IDYuMjA3VjExLjVoLTE4eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1idWJibGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIyLjIwNyAyNC41TDE2LjUgMzAuMjA3VjI0LjVIOEE2LjUgNi41IDAgMCAxIDEuNSAxOFY5QTYuNSA2LjUgMCAwIDEgOCAyLjVoMTZBNi41IDYuNSAwIDAgMSAzMC41IDl2OWE2LjUgNi41IDAgMCAxLTYuNSA2LjVoLTEuNzkzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1oZWFydCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTUuOTk2IDMwLjY3NWwxLjk4MS0xLjc5YzcuODk4LTcuMTc3IDEwLjM2NS05LjcxOCAxMi4xMzUtMTMuMDEyLjkyMi0xLjcxNiAxLjM3Ny0zLjM3IDEuMzc3LTUuMDc2IDAtNC42NS0zLjY0Ny04LjI5Ny04LjI5Ny04LjI5Ny0yLjMzIDAtNC44NiAxLjUyNy02LjgxNyAzLjgyNGwtLjM4LjQ0Ny0uMzgxLS40NDdDMTMuNjU4IDQuMDI3IDExLjEyNiAyLjUgOC43OTcgMi41IDQuMTQ3IDIuNS41IDYuMTQ3LjUgMTAuNzk3YzAgMS43MTQuNDYgMy4zNzUgMS4zODkgNS4wOTggMS43NzUgMy4yODggNC4yNiA1Ljg0MyAxMi4xMjMgMTIuOTc0bDEuOTg0IDEuODA2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1sb2FkIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0xNy4zMTQgMTguODY3bDEuOTUxLTIuNTMgNCA1LjE4NGgtMTdsNi41LTguODQgNC41NDkgNi4xODZ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC4wMSA0YTExLjc5OCAxMS43OTggMCAwIDAgMCAxSDN2MjRoMjRWMTQuOTg2YTguNzM4IDguNzM4IDAgMCAwIDEgMFYyOWExIDEgMCAwIDEtMSAxSDNhMSAxIDAgMCAxLTEtMVY1YTEgMSAwIDAgMSAxLTFoMTUuMDF6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yNSAzaDF2OWgtMXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIyIDZsMy41LTMuNUwyOSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWxvY2F0aW9uIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTYgMzEuMjhDMjMuNjc1IDIzLjMwMiAyNy41IDE3LjE4MSAyNy41IDEzYzAtNi4zNTEtNS4xNDktMTEuNS0xMS41LTExLjVTNC41IDYuNjQ5IDQuNSAxM2MwIDQuMTgxIDMuODI1IDEwLjMwMiAxMS41IDE4LjI4eiIvPgogICAgPGNpcmNsZSBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGN4PSIxNiIgY3k9IjEzIiByPSI0LjUiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tcG9seWdvbiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTS41NzYgMTZMOC4yOSAyOS41aDE1LjQyTDMxLjQyNCAxNiAyMy43MSAyLjVIOC4yOUwuNTc2IDE2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyLTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0xOS40NDYgMzEuNTkybDIuMjY1LTMuMjcyIDMuOTQ2LjI1LjYzNi0zLjk0IDMuNjY1LTEuNTA1LTEuMTItMy44MzIgMi42NTUtMi45NjItMi42NTYtMi45NjIgMS4xMi0zLjgzMi0zLjY2NC0xLjUwNS0uNjM2LTMuOTQxLTMuOTQ2LjI1LTIuMjY1LTMuMjcxTDE2IDMuMDI0IDEyLjU1NCAxLjA3IDEwLjI4OSA0LjM0bC0zLjk0Ni0uMjUtLjYzNiAzLjk0MS0zLjY2NSAxLjUwNSAxLjEyIDMuODMyTC41MDggMTYuMzNsMi42NTYgMi45NjItMS4xMiAzLjgzMiAzLjY2NCAxLjUwNC42MzYgMy45NDIgMy45NDYtLjI1IDIuMjY1IDMuMjdMMTYgMjkuNjM4bDMuNDQ2IDEuOTU1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMjUuMjkyIDI5Ljg3OGwtMS43NzUtMTAuMzQ2IDcuNTE3LTcuMzI3LTEwLjM4OC0xLjUxTDE2IDEuMjgybC00LjY0NiA5LjQxMy0xMC4zODggMS41MSA3LjUxNyA3LjMyNy0xLjc3NSAxMC4zNDZMMTYgMjQuOTkzbDkuMjkyIDQuODg1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTEuOTIzIDE5LjEzNkw1LjQyNCAyMmwuNzE1LTcuMDY1LTQuNzMxLTUuMjk2IDYuOTQtMS41MDNMMTEuOTIzIDJsMy41NzQgNi4xMzYgNi45NCAxLjUwMy00LjczMSA1LjI5NkwxOC40MiAyMnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLW1hc2stbG9hZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTguMDEgNGExMS43OTggMTEuNzk4IDAgMCAwIDAgMUgzdjI0aDI0VjE0Ljk4NmE4LjczOCA4LjczOCAwIDAgMCAxIDBWMjlhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xaDE1LjAxek0xNSAyM2E2IDYgMCAxIDEgMC0xMiA2IDYgMCAwIDEgMCAxMnptMC0xYTUgNSAwIDEgMCAwLTEwIDUgNSAwIDAgMCAwIDEweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjUgM2gxdjloLTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yMiA2bDMuNS0zLjVMMjkgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtbWFzayIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjQuNSIgc3Ryb2tlPSJpbmhlcml0IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDFoMjBhMSAxIDAgMCAxIDEgMXYyMGExIDEgMCAwIDEtMSAxSDJhMSAxIDAgMCAxLTEtMVYyYTEgMSAwIDAgMSAxLTF6bTAgMXYyMGgyMFYySDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1yZWRvIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIxIDZIOWE2IDYgMCAxIDAgMCAxMmgxMnYxSDlBNyA3IDAgMCAxIDkgNWgxMnYxeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMTkgM2wyLjUgMi41TDE5IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJlc2V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMiAxM3YtMWE3IDcgMCAwIDEgNy03aDEzdjFoLTF2NWgxdjFhNyA3IDAgMCAxLTcgN0gydi0xaDF2LTVIMnptNy03YTYgNiAwIDAgMC02IDZ2NmgxMmE2IDYgMCAwIDAgNi02VjZIOXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTE5IDNsMi41IDIuNUwxOSA4TTUgMTZsLTIuNSAyLjVMNSAyMSIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtcm90YXRlLWNsb2Nrd2lzZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTI5IDE3aC0uOTI0YzAgNi42MjctNS4zNzMgMTItMTIgMTItNi42MjggMC0xMi01LjM3My0xMi0xMkM0LjA3NiAxMC4zOTggOS40MDcgNS4wNDEgMTYgNVY0QzguODIgNCAzIDkuODIgMyAxN3M1LjgyIDEzIDEzIDEzIDEzLTUuODIgMTMtMTN6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsNCAzLTQgMyIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNiA0aDR2MWgtNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZS1jb3VudGVyY2xvY2t3aXNlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBkPSJNMyAxN2guOTI0YzAgNi42MjcgNS4zNzMgMTIgMTIgMTIgNi42MjggMCAxMi01LjM3MyAxMi0xMiAwLTYuNjAyLTUuMzMxLTExLjk2LTExLjkyNC0xMlY0YzcuMTggMCAxMyA1LjgyIDEzIDEzcy01LjgyIDEzLTEzIDEzUzMgMjQuMTggMyAxN3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIgNGg0djFoLTR6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsLTQgMyA0IDMiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIHN0cm9rZT0ibm9uZSIgZD0iTTguMzQ5IDIyLjI1NGExMC4wMDIgMTAuMDAyIDAgMCAxLTIuNzc4LTEuNzE5bC42NS0uNzZhOS4wMDIgOS4wMDIgMCAwIDAgMi40OTUgMS41NDhsLS4zNjcuOTMxem0yLjg3My43MDRsLjA3OC0uOTk3YTkgOSAwIDEgMC0uNTU3LTE3Ljg1MmwtLjE0LS45OUExMC4wNzYgMTAuMDc2IDAgMCAxIDEyLjE0NSAzYzUuNTIzIDAgMTAgNC40NzcgMTAgMTBzLTQuNDc3IDEwLTEwIDEwYy0uMzEyIDAtLjYyLS4wMTQtLjkyNC0uMDQyem0tNy41NTYtNC42NTVhOS45NDIgOS45NDIgMCAwIDEtMS4yNTMtMi45OTZsLjk3My0uMjM0YTguOTQ4IDguOTQ4IDAgMCAwIDEuMTI0IDIuNjkzbC0uODQ0LjUzN3ptLTEuNTAyLTUuOTFBOS45NDkgOS45NDkgMCAwIDEgMi44OCA5LjIzbC45MjUuMzgyYTguOTU0IDguOTU0IDAgMCAwLS42NDQgMi44NDRsLS45OTgtLjA2MnptMi4yMS01LjY4NmMuNjg3LS44NDggMS41MS0xLjU4IDIuNDM2LTIuMTY2bC41MjMuODUyYTkuMDQ4IDkuMDQ4IDAgMCAwLTIuMTg4IDEuOTVsLS43NzEtLjYzNnoiLz4KICAgIDxwYXRoIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTEzIDFsLTIuNSAyLjVMMTMgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUtY2lyY2xlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTQuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS1yZWN0YW5nbGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cmVjdCB3aWR0aD0iMjciIGhlaWdodD0iMjciIHg9IjIuNSIgeT0iMi41IiBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHJ4PSIxIi8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS10cmlhbmdsZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTE2IDIuNWwxNS41IDI3SC41eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNC43MDYgOEgyMWExIDEgMCAwIDEgMSAxdjEyYTEgMSAwIDAgMS0xIDFIOWExIDEgMCAwIDEtMS0xdi00aDF2NGgxMlY5aC01LjcwNmwtLjU4OC0xeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik04LjUgMS41bDcuNSAxM0gxeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC1hbGlnbi1jZW50ZXIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTggMTJoMTZ2MUg4ek0yIDE5aDI4djFIMnpNOCAyNmgxNnYxSDh6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLWxlZnQiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTIgMTJoMTZ2MUgyek0yIDE5aDI4djFIMnpNMiAyNmgxNnYxSDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLXJpZ2h0IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIiBkPSJNMCAwaDMydjMySDB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDVoMjh2MUgyek0xNCAxMmgxNnYxSDE0ek0yIDE5aDI4djFIMnpNMTQgMjZoMTZ2MUgxNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXRleHQtYm9sZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNyAyaDJ2Mkg3ek03IDI4aDJ2Mkg3eiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik05IDN2MTJoOWE2IDYgMCAxIDAgMC0xMkg5ek05IDE1djE0aDEwYTcgNyAwIDAgMCAwLTE0SDl6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWl0YWxpYyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTUgMmg1djFoLTV6TTExIDI5aDV2MWgtNXpNMTcgM2gxbC00IDI2aC0xeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC11bmRlcmxpbmUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTggMnYxNGE4IDggMCAxIDAgMTYgMFYyaDF2MTRhOSA5IDAgMCAxLTE4IDBWMmgxek0zIDI5aDI2djFIM3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMmg1djFINXpNMjIgMmg1djFoLTV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNCAzaDE1YTEgMSAwIDAgMSAxIDFIM2ExIDEgMCAwIDEgMS0xek0zIDRoMXYxSDN6TTE5IDRoMXYxaC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTEgM2gxdjE4aC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTAgMjBoM3YxaC0zeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdW5kbyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0yNCAwSDB2MjRoMjR6IiBvcGFjaXR5PSIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMyA2aDEyYTYgNiAwIDEgMSAwIDEySDN2MWgxMmE3IDcgMCAwIDAgMC0xNEgzdjF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik01IDNMMi41IDUuNSA1IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20taW4iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI5IC0yOTApIHRyYW5zbGF0ZSgyMjkgMjkwKSI+CiAgICAgICAgPGNpcmNsZSBjeD0iMTAuNSIgY3k9IjEwLjUiIHI9IjkiIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC44MjggMTUuODI4SDE5LjgyOFYyMi44MjhIMTguODI4eiIgdHJhbnNmb3JtPSJyb3RhdGUoLTQ1IDE5LjMyOCAxOS4zMjgpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTcgMTBIMTRWMTFIN3oiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTAgN0gxMVYxNEgxMHoiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20tb3V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2MyAtMjkwKSB0cmFuc2xhdGUoMjYzIDI5MCkiPgogICAgICAgIDxjaXJjbGUgY3g9IjEwLjUiIGN5PSIxMC41IiByPSI5IiBzdHJva2U9ImluaGVyaXQiIGZpbGw9Im5vbmUiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTguODI4IDE1LjgyOEgxOS44MjhWMjIuODI4SDE4LjgyOHoiIHRyYW5zZm9ybT0icm90YXRlKC00NSAxOS4zMjggMTkuMzI4KSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik03IDEwSDE0VjExSDd6Ii8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oYW5kIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik04LjY3MiAzLjM2YzEuMzI4IDAgMi4xMTQuNzggMi4yOSAxLjg2OWwuMDE0LjEwMS4wMjMuMDA2djEuMDQybC0uNjM4LS4xODVjLS4xODctLjA1NS0uMzIzLS4yMTEtLjM1NC0uMzk5TDEwIDUuNzEzYzAtLjgyNS0uNDItMS4zNTMtMS4zMjgtMS4zNTNDNy42OTUgNC4zNiA3IDUuMDQxIDcgNS43MTN2Ny45NDFjMCAuNDM5LS41MjQuNjY1LS44NDMuMzY0bC0xLjg2OC0xLjc2MWMtLjU5NS0uNTI4LTEuMzE2LS42MTctMS45MTgtLjIxNi0uNTIyLjM0OC0uNTYyIDEuMjAzLS4xOCAxLjhMNy43MzggMjJoMTEuMDEzbC4yODUtLjUxOGMxLjI0Ny0yLjMyNiAxLjg5Ny00LjI1OSAxLjk2LTUuNzg1bC4wMDQtLjIzOVY4LjAzNWMwLS42NTYtLjUtMS4xNy0xLTEuMTctLjUwMyAwLTEgLjQ1Ni0xIDEuMTcgMCAuMzMzLS4zMi41NzMtLjY0LjQ4TDE4IDguNDFWNy4zNjhsLjA4Ni4wMjYuMDQyLS4xMzZjLjI3OS0uODA1Ljk3OC0xLjMzMiAxLjczOC0xLjM4OEwyMCA1Ljg2NWMxLjA1NyAwIDIgLjk2NyAyIDIuMTd2Ny40MjNjMCAxLjkyOS0uODQ1IDQuMzUyLTIuNTIxIDcuMjktLjA5LjE1Ni0uMjU1LjI1Mi0uNDM1LjI1Mkg3LjQ3NGMtLjE2NiAwLS4zMjEtLjA4Mi0uNDE0LS4yMTlsLTUuNzA0LTguMzljLS42NTMtMS4wMTktLjU4NC0yLjQ4Ni40Ni0zLjE4MiAxLS42NjYgMi4yMTYtLjUxNiAzLjE0OC4zMUw2IDEyLjQ5NVY1LjcxM2MwLTEuMTggMS4wNTgtMi4yNjMgMi40OS0yLjM0OHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIuNSAxLjVjMS4zMjUgMCAyLjQxIDEuMDMyIDIuNDk1IDIuMzM2TDE1IDR2Ny4yMmgtMVY0YzAtLjgyOC0uNjcyLTEuNS0xLjUtMS41LS43OCAwLTEuNDIuNTk1LTEuNDkzIDEuMzU2TDExIDR2Ny4yMmgtMVY0YzAtMS4zOCAxLjEyLTIuNSAyLjUtMi41eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI5NyAtMjkwKSB0cmFuc2xhdGUoMjk3IDI5MCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNi41IDMuNWMxLjMyNSAwIDIuNDEgMS4wMzIgMi40OTUgMi4zMzZMMTkgNnY2LjNoLTFWNmMwLS44MjgtLjY3Mi0xLjUtMS41LTEuNS0uNzggMC0xLjQyLjU5NS0xLjQ5MyAxLjM1NkwxNSA2djIuNDRoLTFWNmMwLTEuMzggMS4xMi0yLjUgMi41LTIuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8L2RlZnM+Cjwvc3ZnPgo="},4858:function(t){"use strict";t.exports=e},4960:function(){},6759:function(){},6272:function(){}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var i={};return function(){"use strict";r.d(i,{default:function(){return bl}});var e=r(9131),t=r.n(e),n=r(1899),o=r.n(n),s=r(6562),a=r.n(s),l=r(1734),c=r.n(l),u=r(8005),d=r.n(u),h=r(6065),f=r.n(h),p=r(4496),m=r.n(p);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(e){if("Element"in e){var n="classList",r="prototype",i=e.Element[r],s=Object,l=t()(String[r])||function(){return this.replace(/^\s+|\s+$/g,"")},u=o()(Array[r])||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},d=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},h=function(e,t){if(""===t)throw new d("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(t))throw new d("INVALID_CHARACTER_ERR","The token must not contain space characters.");return u.call(e,t)},f=function(e){for(var t=l.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},p=f[r]=[],m=function(){return new f(this)};if(d[r]=Error[r],p.item=function(e){return this[e]||null},p.contains=function(e){return~h(this,e+"")},p.add=function(){var e,t=arguments,n=0,r=t.length,i=!1;do{~h(this,e=t[n]+"")||(this.push(e),i=!0)}while(++n<r);i&&this._updateClassName()},p.remove=function(){var e,t,n=arguments,r=0,i=n.length,o=!1;do{for(t=h(this,e=n[r]+"");~t;)a()(this).call(this,t,1),o=!0,t=h(this,e)}while(++r<i);o&&this._updateClassName()},p.toggle=function(e,t){var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},p.replace=function(e,t){var n=h(e+"");~n&&(a()(this).call(this,n,1,t),this._updateClassName())},p.toString=function(){return this.join(" ")},c()){var g={get:m,enumerable:!0,configurable:!0};try{c()(i,n,g)}catch(v){void 0!==v.number&&-2146823252!==v.number||(g.enumerable=!1,c()(i,n,g))}}else s[r].__defineGetter__&&i.__defineGetter__(n,m)}}(self),function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,r=arguments.length;for(n=0;n<r;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)===!t?t:n.call(this,e)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(e,t){var n=this.toString().split(" "),r=o()(n).call(n,e+"");~r&&(n=d()(n).call(n,r),this.remove.apply(this,n),this.add(t),this.add.apply(this,d()(n).call(n,1)))}),e=null}()),function(){if("undefined"!==typeof window&&window.addEventListener){var e,t,n,r=f()(null),i=function(){clearTimeout(t),t=m()(e,100)},o=function(){},s=function(e){function t(e){var t;return void 0!==e.protocol?t=e:(t=document.createElement("a")).href=e,t.protocol.replace(/:/g,"")+t.host}var n,r,i;return window.XMLHttpRequest&&(n=new XMLHttpRequest,r=t(location),i=t(e),n=void 0===n.withCredentials&&""!==i&&i!==r?XDomainRequest||void 0:XMLHttpRequest),n},a="http://www.w3.org/1999/xlink";e=function(){var e,t,n,l,c,u,d,h,f,p,g=0;function v(){0===(g-=1)&&(o(),function(){var e;window.addEventListener("resize",i,!1),window.addEventListener("orientationchange",i,!1),window.MutationObserver?((e=new MutationObserver(i)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),o=function(){try{e.disconnect(),window.removeEventListener("resize",i,!1),window.removeEventListener("orientationchange",i,!1)}catch(t){}}):(document.documentElement.addEventListener("DOMSubtreeModified",i,!1),o=function(){document.documentElement.removeEventListener("DOMSubtreeModified",i,!1),window.removeEventListener("resize",i,!1),window.removeEventListener("orientationchange",i,!1)})}())}function b(e){return function(){!0!==r[e.base]&&(e.useEl.setAttributeNS(a,"xlink:href","#"+e.hash),e.useEl.hasAttribute("href")&&e.useEl.setAttribute("href","#"+e.hash))}}function y(e){return function(){var t,n=document.body,r=document.createElement("x");e.onload=null,r.innerHTML=e.responseText,(t=r.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",n.insertBefore(t,n.firstChild)),v()}}function w(e){return function(){e.onerror=null,e.ontimeout=null,v()}}for(o(),f=document.getElementsByTagName("use"),c=0;c<f.length;c+=1){try{t=f[c].getBoundingClientRect()}catch(x){t=!1}e=(h=(l=f[c].getAttribute("href")||f[c].getAttributeNS(a,"href")||f[c].getAttribute("xlink:href"))&&l.split?l.split("#"):["",""])[0],n=h[1],u=t&&0===t.left&&0===t.right&&0===t.top&&0===t.bottom,t&&0===t.width&&0===t.height&&!u?(f[c].hasAttribute("href")&&f[c].setAttributeNS(a,"xlink:href",l),e.length&&(!0!==(p=r[e])&&m()(b({useEl:f[c],base:e,hash:n}),0),void 0===p&&void 0!==(d=s(e))&&(p=new d,r[e]=p,p.onload=y(p),p.onerror=w(p),p.ontimeout=w(p),p.open("GET",e),p.send(),g+=1))):u?e.length&&r[e]&&m()(b({useEl:f[c],base:e,hash:n}),0):void 0===r[e]?r[e]=!0:r[e].onload&&(r[e].abort(),delete r[e].onload,r[e]=!0)}f="",g+=1,v()},n=function(){window.removeEventListener("load",n,!1),t=m()(e,0)},"complete"!==document.readyState?window.addEventListener("load",n,!1):n()}}();var g=r(1845);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=r(184),y=r(662),w=r(7172),x=r(711);function _(e,t){var n;if(e){if("string"===typeof e)return v(e,t);var r=x(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?w(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function C(e){return function(e){if(g(e))return v(e)}(e)||function(e){if("undefined"!==typeof b&&null!=y(e)||null!=e["@@iterator"])return w(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=r(7077);function S(e,t,n){return t in e?k(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),k(e,r.key,r)}}function I(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),e}var M=r(4426),E=r.n(M),P=r(9406),D=r.n(P),j=r(8189),O=r.n(j),R=r(3972),L=r.n(R),N=r(2777),B=r(961),F=r.n(B),z=r(5695),V=r.n(z),W=r(8592),H=r.n(W),U=r(9052),$=r.n(U),Y=r(2560),G=r.n(Y),q=r(2461),X=r.n(q);function Z(e,t){return function(e){if(g(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof b&&y(e)||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var K,Q=r(6397),J=r.n(Q),ee=r(7636),te=r.n(ee),ne=r(789),re=r.n(ne),ie=r(4729),oe=r.n(ie),se=r(1610),ae=r.n(se),le=r(3053),ce=r.n(le),ue=["zoomIn","zoomOut","hand"],de=["history","undo","redo","reset"],he=["delete","deleteAll"],fe=D()(K=[]).call(K,ue,de,he),pe={FILTER:"filter",COLOR:"color"},me=["rect","circle","triangle"],ge="cropzone",ve={VINTAGE:"vintage",SEPIA2:"sepia2",REMOVE_COLOR:"removeColor",COLOR_FILTER:"colorFilter",REMOVE_WHITE:"removeWhite",BLEND_COLOR:"blendColor",BLEND:"blend"},be=En("IMAGE_LOADER","CROPPER","FLIP","ROTATION","FREE_DRAWING","LINE","TEXT","ICON","FILTER","SHAPE","ZOOM","RESIZE"),ye={hasRotatingPoint:!1,hasBorders:!1,lockScalingFlip:!0,lockRotation:!0,lockSkewingX:!0,lockSkewingY:!0},we="clearObjects",xe="loadImage",_e="flip",Ce="rotate",ke="addObject",Se="removeObject",Ae="applyFilter",Te="removeFilter",Ie="addIcon",Me="changeIconColor",Ee="addShape",Pe="changeShape",De="addText",je="changeText",Oe="changeTextStyle",Re="addImageObject",Le="resizeCanvasDimension",Ne="setObjectProperties",Be="setObjectPosition",Fe="changeSelection",ze="resize",Ve="objectActivated",We="objectMoved",He="objectScaled",Ue="objectRotated",$e="objectAdded",Ye="objectModified",Ge="textEditing",qe="textChanged",Xe="iconCreateResize",Ze="iconCreateEnd",Ke="addText",Qe="addObject",Je="addObjectAfter",et="mousedown",tt="redoStackChanged",nt="undoStackChanged",rt="selectionCleared",it="selectionCreated",ot="executeCommand",st="afterUndo",at="afterRedo",lt="zoomChanged",ct="handStarted",ut="handStopped",dt="keydown",ht="keyup",ft="inputBoxEditingStarted",pt="inputBoxEditingStopped",mt="focus",gt="blur",vt=".tui-colorpicker-palette-hex",bt="Load",yt="Mask",wt="Mask",xt="Crop",_t="Resize",Ct="Filter",kt="Filter",St="Shape",At="Icon",Tt="Text",It="Text",Mt="Delete",Et="Delete",Pt=En("NORMAL","CROPPER","FREE_DRAWING","LINE_DRAWING","TEXT","SHAPE","ICON","ZOOM","RESIZE"),Dt="text",jt="crop",Ot="resize",Rt="shape",Lt="zoom",Nt="normal",Bt="zoom",Ft="hand",zt=90,Vt=89,Wt=67,Ht=86,Ut=16,$t=8,Yt=46,Gt=40,qt=38,Xt=32,Zt=48,Kt=57,Qt={borderColor:"red",cornerColor:"green",cornerSize:10,originX:"center",originY:"center",transparentCorners:!1},Jt="The object is already added.",en="The flipX and flipY setting values are not changed.",tn="Invalid parameters.",nn="The executing command state is locked.",rn="The background image is empty.",on="Invalid image loaded.",sn="The object is not in canvas.",an="The promise of redo command is reject.",ln="The promise of undo command is reject.",cn="Unsupported operation.",un="Unsupported object type.",dn={"icon-arrow":"M40 12V0l24 24-24 24V36H0V12h40z","icon-arrow-2":"M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ","icon-arrow-3":"M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ","icon-star":"M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ","icon-star-2":"M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ","icon-polygon":"M3,31 L19,3 h32 l16,28 l-16,28 H19  z ","icon-location":"M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z","icon-heart":"M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ","icon-bubble":"M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z"},hn={realTimeEvent:!0,min:-360,max:360,value:0},fn={min:5,max:30,value:12},pn={realTimeEvent:!0,min:2,max:300,value:3},mn={realTimeEvent:!0,min:10,max:100,value:50},gn={tintOpacityRange:{realTimeEvent:!0,min:0,max:1,value:.7,useDecimal:!0},removewhiteDistanceRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},brightnessRange:{realTimeEvent:!0,min:-1,max:1,value:0,useDecimal:!0},noiseRange:{realTimeEvent:!0,min:0,max:1e3,value:100},pixelateRange:{realTimeEvent:!0,min:2,max:20,value:4},colorfilterThresholdRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},blurFilterRange:{value:.1}},vn=0,bn=0,yn=.5,wn=.5,xn={realTimeEvent:!0,min:32,max:4088,value:800},_n="tui-image-editor-",Cn=Math.min,kn=Math.max,Sn=!1,An=0;function Tn(e){return e.__fe_id||(An+=1,e.__fe_id=An),e.__fe_id}function In(e){return"function"===typeof e}function Mn(e,t,n){if(t>n){var r=[n,t];t=r[0],n=r[1]}return kn(t,Cn(e,n))}function En(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return H()(n,(function(t){e[t]=t})),e}function Pn(e,t){var n,r={},i=t.length,o=0;for(o=0;o<i;o+=1)r[n=t[o]]=e[n];return r}function Dn(e){return J()(e,10)}function jn(e){return e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))}function On(){return!!(window.File&&window.FileList&&window.FileReader)}function Rn(e,t){var n,r,i,o;4===e.length&&(e=D()(o="".concat(e)).call(o,d()(e).call(e,1,4)));var s=J()(d()(e).call(e,1,3),16),a=J()(d()(e).call(e,3,5),16),l=J()(d()(e).call(e,5,7),16),c=t||1;return D()(n=D()(r=D()(i="rgba(".concat(s,", ")).call(i,a,", ")).call(r,l,", ")).call(n,c,")")}function Ln(e){H()(e,(function(t,n){e[n]=null}))}function Nn(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"."===n.charAt(0)?D()(t=".".concat(_n).concat(r)).call(t,d()(n).call(n,1)):D()(e="".concat(_n).concat(r)).call(e,n)}function Bn(e,t){e.customProps=e.customProps||{},F()(e.customProps,t)}function Fn(e,t){var n={};return G()(t)&&(t=[t]),H()(t,(function(t){n[t]=e.customProps[t]})),n}function zn(e,t){return o()(e).call(e,t)>=0}function Vn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ae()(e,"type")||pe.COLOR}function Wn(e){var t=re()(e);return(void 0===t?{}:t).source?pe.FILTER:pe.COLOR}function Hn(e){return ce()(e.get("type"),me)>=0}function Un(e){if(zn(me,e))return"Shape";switch(e){case"i-text":return"Text";case"path":case"line":return"Draw";case"activeSelection":return"Group";default:return Yn(e)}}function $n(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.useAlpha,i=void 0===r||r,o=n.mode,s=ve.VINTAGE,a=ve.REMOVE_COLOR,l=ve.BLEND_COLOR,c=ve.SEPIA2,u=ve.COLOR_FILTER,d=ve.REMOVE_WHITE,h=ve.BLEND;switch(e){case s:t=c;break;case a:t=i?u:d;break;case l:t="add"===o?h:o;break;default:t=e}return Yn(t)}function Yn(e){return e.replace(/[a-z]/,(function(e){return e.toUpperCase()}))}var Gn=En("UN_IMPLEMENTATION","NO_COMPONENT_NAME"),qn="Should implement a method: ",Xn="Should set a component name",Zn={UN_IMPLEMENTATION:function(e){return qn+e},NO_COMPONENT_NAME:function(){return Xn}},Kn={types:F()({},Gn),create:function(e){e=e.toLowerCase();for(var t=Zn[e],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.apply(void 0,r)}},Qn=Kn.create,Jn=Kn.types,er=function(){function e(t,n){A(this,e),this.name=t.name,this.args=n,this.execute=t.execute,this.undo=t.undo,this.executeCallback=t.executeCallback||null,this.undoCallback=t.undoCallback||null,this.undoData={}}return I(e,[{key:"execute",value:function(){throw new Error(Qn(Jn.UN_IMPLEMENTATION,"execute"))}},{key:"undo",value:function(){throw new Error(Qn(Jn.UN_IMPLEMENTATION,"undo"))}},{key:"isRedo",get:function(){return X()(this.undoData).length>0}},{key:"setUndoData",value:function(e,t,n){return t&&(e=t),n?t||(t=e):(F()(this.undoData,e),t=null),t}},{key:"setExecuteCallback",value:function(e){return this.executeCallback=e,this}},{key:"setUndoCallback",value:function(e){return this.undoCallback=e,this}}]),e}(),tr=er,nr={},rr={create:function(e){var t=nr[e];if(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new tr(t,r)}return null},register:function(e){nr[e.name]=e}},ir=function(){function e(){A(this,e),this._undoStack=[],this._redoStack=[],this._isLocked=!1,this._isSilent=!1}return I(e,[{key:"_invokeExecution",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.lock();var r=e.args;return r||(r=[]),e.execute.apply(e,C(r)).then((function(r){return t._isSilent||(t.pushUndoStack(e),t.fire(n?at:ot,e)),t.unlock(),In(e.executeCallback)&&e.executeCallback(r),r})).catch((function(e){return t.unlock(),O().reject(e)}))}},{key:"_invokeUndo",value:function(e){var t=this;this.lock();var n=e.args;return n||(n=[]),e.undo.apply(e,C(n)).then((function(n){return t.pushRedoStack(e),t.fire(st,e),t.unlock(),In(e.undoCallback)&&e.undoCallback(n),n})).catch((function(e){return t.unlock(),O().reject(e)}))}},{key:"_fireRedoStackChanged",value:function(){this.fire(tt,this._redoStack.length)}},{key:"_fireUndoStackChanged",value:function(){this.fire(nt,this._undoStack.length)}},{key:"lock",value:function(){this._isLocked=!0}},{key:"unlock",value:function(){this._isLocked=!1}},{key:"executeSilent",value:function(){var e=this;this._isSilent=!0;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.execute.apply(this,D()(n).call(n,[this._isSilent])).then((function(){e._isSilent=!1}))}},{key:"execute",value:function(){var e=this;if(this._isLocked)return O().reject(nn);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];return G()(i)&&(i=rr.create.apply(rr,n)),this._invokeExecution(i).then((function(t){return e.clearRedoStack(),t}))}},{key:"undo",value:function(){var e,t,n=this._undoStack.pop(),r="";(n&&this._isLocked&&(this.pushUndoStack(n,!0),n=null),n)?(this.isEmptyUndoStack()&&this._fireUndoStackChanged(),e=this._invokeUndo(n)):(r=ln,this._isLocked&&(r=D()(t="".concat(r," Because ")).call(t,nn)),e=O().reject(r));return e}},{key:"redo",value:function(){var e,t,n=this._redoStack.pop(),r="";(n&&this._isLocked&&(this.pushRedoStack(n,!0),n=null),n)?(this.isEmptyRedoStack()&&this._fireRedoStackChanged(),e=this._invokeExecution(n,!0)):(r=an,this._isLocked&&(r=D()(t="".concat(r," Because ")).call(t,nn)),e=O().reject(r));return e}},{key:"pushUndoStack",value:function(e,t){this._undoStack.push(e),t||this._fireUndoStackChanged()}},{key:"pushRedoStack",value:function(e,t){this._redoStack.push(e),t||this._fireRedoStackChanged()}},{key:"isEmptyRedoStack",value:function(){return 0===this._redoStack.length}},{key:"isEmptyUndoStack",value:function(){return 0===this._undoStack.length}},{key:"clearUndoStack",value:function(){this.isEmptyUndoStack()||(this._undoStack=[],this._fireUndoStackChanged())}},{key:"clearRedoStack",value:function(){this.isEmptyRedoStack()||(this._redoStack=[],this._fireRedoStackChanged())}}]),e}();$().mixin(ir);var or=ir,sr=r(5214),ar=r.n(sr),lr=r(899),cr=r.n(lr),ur={"common.bi.image":"https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png","common.bisize.width":"251px","common.bisize.height":"21px","common.backgroundImage":"none","common.backgroundColor":"#1e1e1e","common.border":"0px","header.backgroundImage":"none","header.backgroundColor":"transparent","header.border":"0px","loadButton.backgroundColor":"#fff","loadButton.border":"1px solid #ddd","loadButton.color":"#222","loadButton.fontFamily":"'Noto Sans', sans-serif","loadButton.fontSize":"12px","downloadButton.backgroundColor":"#fdba3b","downloadButton.border":"1px solid #fdba3b","downloadButton.color":"#fff","downloadButton.fontFamily":"'Noto Sans', sans-serif","downloadButton.fontSize":"12px","menu.normalIcon.color":"#8a8a8a","menu.activeIcon.color":"#555555","menu.disabledIcon.color":"#434343","menu.hoverIcon.color":"#e9e9e9","submenu.normalIcon.color":"#8a8a8a","submenu.activeIcon.color":"#e9e9e9","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#3c3c3c","submenu.normalLabel.color":"#8a8a8a","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"0px","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter","colorpicker.button.border":"1px solid #1e1e1e","colorpicker.title.color":"#fff"},dr=r(2534),hr=function(){function e(t){A(this,e),this.styles=this._changeToObject(F()({},ur,t)),function(e,t){var n=Z(document.getElementsByTagName("head"),1)[0],r=document.createElement("link"),i=encodeURIComponent(e);t&&(r.id=t),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href","data:text/css;charset=UTF-8,".concat(i)),n.appendChild(r)}(this._styleMaker()),this._loadDefaultSvgIcon()}return I(e,[{key:"getStyle",value:function(e){var t=null,n=e.replace(/\..+$/,""),r=this.styles[e];switch(e){case"common.bi":t=this.styles[e].image;break;case"menu.icon":t={active:this.styles["".concat(n,".activeIcon")],normal:this.styles["".concat(n,".normalIcon")],hover:this.styles["".concat(n,".hoverIcon")],disabled:this.styles["".concat(n,".disabledIcon")]};break;case"submenu.icon":t={active:this.styles["".concat(n,".activeIcon")],normal:this.styles["".concat(n,".normalIcon")]};break;case"submenu.label":t={active:this._makeCssText(this.styles["".concat(n,".activeLabel")]),normal:this._makeCssText(this.styles["".concat(n,".normalLabel")])};break;case"submenu.partition":t={vertical:this._makeCssText(F()({},r,{borderLeft:"1px solid ".concat(r.color)})),horizontal:this._makeCssText(F()({},r,{borderBottom:"1px solid ".concat(r.color)}))};break;case"range.disabledPointer":case"range.disabledBar":case"range.disabledSubbar":case"range.pointer":case"range.bar":case"range.subbar":r.backgroundColor=r.color,t=this._makeCssText(r);break;default:t=this._makeCssText(r)}return t}},{key:"_styleMaker",value:function(){var e=this.getStyle("submenu.label"),t=this.getStyle("submenu.partition");return function(e){var t,n,r,i,o,s,a,l,c,u,d,h,f,p,m,g,v,b,y,w,x,_,C,k,S,A,T,I,M,E=e.subMenuLabelActive,P=e.subMenuLabelNormal,j=e.subMenuRangeTitle,O=e.submenuPartitionVertical,R=e.submenuPartitionHorizontal,L=e.submenuCheckbox,N=e.submenuRangePointer,B=e.submenuRangeValue,F=e.submenuColorpickerTitle,z=e.submenuColorpickerButton,V=e.submenuRangeBar,W=e.submenuRangeSubbar,H=e.submenuDisabledRangePointer,U=e.submenuDisabledRangeBar,$=e.submenuDisabledRangeSubbar,Y=e.submenuIconSize,G=e.menuIconSize,q=e.biSize,X=e.menuIconStyle,Z=e.submenuIconStyle;return D()(t=D()(n=D()(r=D()(i=D()(o=D()(s=D()(a=D()(l=D()(c=D()(u=D()(d=D()(h=D()(f=D()(p=D()(m=D()(g=D()(v=D()(b=D()(y=D()(w=D()(x=D()(_=D()(C=D()(k=D()(S=D()(A=D()(T=D()(I=D()(M='\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype="icon-heart"] label,\n    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype="icon-location"] label,\n    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype="icon-polygon"] label,\n    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype="icon-star"] label,\n    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype="icon-star-2"] label,\n    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype="icon-arrow-3"] label,\n    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype="icon-arrow-2"] label,\n    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype="icon-arrow"] label,\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-draw-line-select-button.line .tui-image-editor-button.line label,\n    .tie-draw-line-select-button.free .tui-image-editor-button.free label,\n    .tie-flip-button.flipX .tui-image-editor-button.flipX label,\n    .tie-flip-button.flipY .tui-image-editor-button.flipY label,\n    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,\n    .tie-crop-button .tui-image-editor-button.apply.active label,\n    .tie-crop-preset-button .tui-image-editor-button.preset.active label,\n    .tie-resize-button .tui-image-editor-button.apply.active label,\n    .tie-resize-preset-button .tui-image-editor-button.preset.active label,\n    .tie-shape-button.rect .tui-image-editor-button.rect label,\n    .tie-shape-button.circle .tui-image-editor-button.circle label,\n    .tie-shape-button.triangle .tui-image-editor-button.triangle label,\n    .tie-text-effect-button .tui-image-editor-button.active label,\n    .tie-text-align-button.tie-text-align-left .tui-image-editor-button.left label,\n    .tie-text-align-button.tie-text-align-center .tui-image-editor-button.center label,\n    .tie-text-align-button.tie-text-align-right .tui-image-editor-button.right label,\n    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,\n    .tui-image-editor-container .tui-image-editor-checkbox label > span {\n        '.concat(E,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {\n        ")).call(M,P,"\n    }\n    .tui-image-editor-container .tui-image-editor-range-wrap label > span {\n        ")).call(I,j,"\n    }\n    .tui-image-editor-container .tui-image-editor-partition > div {\n        ")).call(T,O,"\n    }\n    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,\n    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {\n        ")).call(A,R,"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {\n        ")).call(S,L,"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {\n        border: 0;\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {\n        ")).call(k,N,"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-bar {\n        ")).call(C,V,"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {\n        ")).call(_,W,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {\n        ")).call(x,H,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {\n        ")).call(w,$,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {\n        ")).call(y,U,"\n    }\n    .tui-image-editor-container .tui-image-editor-range-value {\n        ")).call(b,B,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {\n        ")).call(v,F,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {\n        ")).call(g,z,"\n    }\n    .tui-image-editor-container .svg_ic-menu {\n        ")).call(m,G,"\n    }\n    .tui-image-editor-container .svg_ic-submenu {\n        ")).call(p,Y,"\n    }\n    .tui-image-editor-container .tui-image-editor-controls-logo > img,\n    .tui-image-editor-container .tui-image-editor-header-logo > img {\n        ")).call(f,q,"\n    }\n    .tui-image-editor-menu use.normal.use-default,\n    .tui-image-editor-help-menu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(h,X.normal.color,";\n        stroke: ")).call(d,X.normal.color,";\n    }\n    .tui-image-editor-menu use.active.use-default,\n    .tui-image-editor-help-menu use.active.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(u,X.active.color,";\n        stroke: ")).call(c,X.active.color,";\n    }\n    .tui-image-editor-menu use.hover.use-default,\n    .tui-image-editor-help-menu use.hover.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(l,X.hover.color,";\n        stroke: ")).call(a,X.hover.color,";\n    }\n    .tui-image-editor-menu use.disabled.use-default,\n    .tui-image-editor-help-menu use.disabled.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(s,X.disabled.color,";\n        stroke: ")).call(o,X.disabled.color,";\n    }\n    .tui-image-editor-submenu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(i,Z.normal.color,";\n        stroke: ")).call(r,Z.normal.color,";\n    }\n    .tui-image-editor-submenu use.active.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(n,Z.active.color,";\n        stroke: ")).call(t,Z.active.color,";\n    }\n")}({subMenuLabelActive:e.active,subMenuLabelNormal:e.normal,submenuPartitionVertical:t.vertical,submenuPartitionHorizontal:t.horizontal,biSize:this.getStyle("common.bisize"),subMenuRangeTitle:this.getStyle("range.title"),submenuRangePointer:this.getStyle("range.pointer"),submenuRangeBar:this.getStyle("range.bar"),submenuRangeSubbar:this.getStyle("range.subbar"),submenuDisabledRangePointer:this.getStyle("range.disabledPointer"),submenuDisabledRangeBar:this.getStyle("range.disabledBar"),submenuDisabledRangeSubbar:this.getStyle("range.disabledSubbar"),submenuRangeValue:this.getStyle("range.value"),submenuColorpickerTitle:this.getStyle("colorpicker.title"),submenuColorpickerButton:this.getStyle("colorpicker.button"),submenuCheckbox:this.getStyle("checkbox"),menuIconSize:this.getStyle("menu.iconSize"),submenuIconSize:this.getStyle("submenu.iconSize"),menuIconStyle:this.getStyle("menu.icon"),submenuIconStyle:this.getStyle("submenu.icon")})}},{key:"_changeToObject",value:function(e){var t={};return H()(e,(function(e,n){var r=Z(n.match(/^(.+)\.([a-z]+)$/i),3),i=r[1],o=r[2];t[i]||(t[i]={}),t[i][o]=e})),t}},{key:"_makeCssText",value:function(e){var t=this,n=[];return H()(e,(function(e,r){var i,s;o()(i=["backgroundImage"]).call(i,r)>-1&&"none"!==e&&(e="url(".concat(e,")")),n.push(D()(s="".concat(t._toUnderScore(r),": ")).call(s,e))})),n.join(";")}},{key:"_toUnderScore",value:function(e){return e.replace(/([A-Z])/g,(function(e,t){return"-".concat(t.toLowerCase())}))}},{key:"_loadDefaultSvgIcon",value:function(){if(!document.getElementById("tui-image-editor-svg-default-icons")){var e=new DOMParser,t=dr.replace(/data:image\/svg\+xml;base64,/,""),n=e.parseFromString(atob(t),"text/xml");document.body.appendChild(n.documentElement)}}},{key:"_makeIconClassName",value:function(e,t){var n=(t?this.getStyle("submenu.icon"):this.getStyle("menu.icon"))[e],r=n.path,i=n.name;return r&&i?e:"".concat(e," use-default")}},{key:"_makeSvgIconPrefix",value:function(e,t){var n,r=(t?this.getStyle("submenu.icon"):this.getStyle("menu.icon"))[e],i=r.path,o=r.name;return i&&o?D()(n="".concat(i,"#")).call(n,o,"-"):"#"}},{key:"_makeSvgItem",value:function(e,t,n){var r=this;return cr()(e).call(e,(function(e){var i,o,s=r._makeSvgIconPrefix(e,n),a=r._toUnderScore(t),l=r._makeIconClassName(e,n);return D()(i=D()(o='<use xlink:href="'.concat(s,"ic-")).call(o,a,'" class="')).call(i,l,'"/>')})).join("")}},{key:"makeMenSvgIconSet",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return D()(n='<svg class="svg_ic-'.concat(r?"submenu":"menu",'">')).call(n,this._makeSvgItem(e,t,r),"</svg>")}}]),e}(),fr=hr,pr=r(9146),mr=r.n(pr),gr=r(6623),vr=r(4230);function br(e,t){return br=vr||function(e,t){return e.__proto__=t,e},br(e,t)}function yr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=gr(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&br(e,t)}var wr=r(3742);function xr(e){return xr="function"===typeof b&&"symbol"===typeof wr?function(e){return typeof e}:function(e){return e&&"function"===typeof b&&e.constructor===b&&e!==b.prototype?"symbol":typeof e},xr(e)}function _r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cr(e,t){if(t&&("object"===xr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _r(e)}var kr=r(9856);function Sr(e){return Sr=vr?kr:function(e){return e.__proto__||kr(e)},Sr(e)}var Ar=r(6092),Tr=r.n(Ar),Ir=r(4858),Mr=r.n(Ir),Er=["#000000","#2a2a2a","#545454","#7e7e7e","#a8a8a8","#d2d2d2","#ffffff","","#ff4040","#ff6518","#ffbb3b","#03bd9e","#00a9ff","#515ce6","#9e5fff","#ff5583"],Pr=function(){function e(t,n){var r=n.defaultColor,i=void 0===r?"#7e7e7e":r,o=n.toggleDirection,s=void 0===o?"up":o,a=n.usageStatistics;A(this,e),this.colorpickerElement=t,this.usageStatistics=a,this._show=!1,this._colorpickerElement=t,this._toggleDirection=s,this._makePickerButtonElement(i),this._makePickerLayerElement(t,t.getAttribute("title")),this._color=i,this.picker=Mr().create({container:this.pickerElement,preset:Er,color:i,usageStatistics:this.usageStatistics}),this._addEvent()}return I(e,[{key:"destroy",value:function(){var e=this;this._removeEvent(),this.picker.destroy(),this.colorpickerElement.innerHTML="",H()(this,(function(t,n){e[n]=null}))}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this._changeColorElement(e)}},{key:"_changeColorElement",value:function(e){e?(this.colorElement.classList.remove("transparent"),this.colorElement.style.backgroundColor=e):(this.colorElement.style.backgroundColor="#fff",this.colorElement.classList.add("transparent"))}},{key:"_makePickerButtonElement",value:function(e){this.colorpickerElement.classList.add("tui-image-editor-button"),this.colorElement=document.createElement("div"),this.colorElement.className="color-picker-value",e?this.colorElement.style.backgroundColor=e:this.colorElement.classList.add("transparent")}},{key:"_makePickerLayerElement",value:function(e,t){var n=document.createElement("label"),r=document.createElement("div");this.pickerControl=document.createElement("div"),this.pickerControl.className="color-picker-control",this.pickerElement=document.createElement("div"),this.pickerElement.className="color-picker",n.innerHTML=t,r.className="triangle",this.pickerControl.appendChild(this.pickerElement),this.pickerControl.appendChild(r),e.appendChild(this.pickerControl),e.appendChild(this.colorElement),e.appendChild(n)}},{key:"_addEvent",value:function(){var e,t=this;this.picker.on("selectColor",(function(e){t._changeColorElement(e.color),t._color=e.color,t.fire("change",e.color)})),this.eventHandler={pickerToggle:E()(e=this._pickerToggleEventHandler).call(e,this),pickerHide:function(){return t.hide()}},this.colorpickerElement.addEventListener("click",this.eventHandler.pickerToggle),document.body.addEventListener("click",this.eventHandler.pickerHide)}},{key:"_removeEvent",value:function(){this.colorpickerElement.removeEventListener("click",this.eventHandler.pickerToggle),document.body.removeEventListener("click",this.eventHandler.pickerHide),this.picker.off()}},{key:"_pickerToggleEventHandler",value:function(e){var t=e.target,n=t&&this._isElementInColorPickerControl(t);(!n||n&&this._isPaletteButton(t))&&(this._show=!this._show,this.pickerControl.style.display=this._show?"block":"none",this._setPickerControlPosition(),this.fire("changeShow",this)),e.stopPropagation()}},{key:"_isPaletteButton",value:function(e){return"tui-colorpicker-palette-button"===e.className}},{key:"_isElementInColorPickerControl",value:function(e){for(var t=e;t!==document.body&&t;){if(t===this.pickerControl)return!0;t=t.parentNode}return!1}},{key:"hide",value:function(){this._show=!1,this.pickerControl.style.display="none"}},{key:"_setPickerControlPosition",value:function(){var e=this.pickerControl.style,t=this._colorpickerElement.clientWidth/2+2,n=this.pickerControl.offsetWidth/2-t,r=-1*(this.pickerControl.offsetHeight+10);"down"===this._toggleDirection&&(r=30),e.top="".concat(r,"px"),e.left="-".concat(n,"px")}}]),e}();$().mixin(Pr);var Dr=Pr,jr=/(-?)([0-9]*)[^0-9]*([0-9]*)/g,Or=function(){function e(t){var n,r,i,o,s,a,l,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};A(this,e),this._value=c.value||0,this.rangeElement=t.slider,this.rangeInputElement=t.input,this._drawRangeElement(),this.rangeWidth=this._getRangeWidth(),this._min=c.min||0,this._max=c.max||100,this._useDecimal=c.useDecimal,this._absMax=-1*this._min+this._max,this.realTimeEvent=c.realTimeEvent||!1,this._userInputTimer=null,this.eventHandler={startChangingSlide:E()(n=this._startChangingSlide).call(n,this),stopChangingSlide:E()(r=this._stopChangingSlide).call(r,this),changeSlide:E()(i=this._changeSlide).call(i,this),changeSlideFinally:E()(o=this._changeSlideFinally).call(o,this),changeInput:E()(s=this._changeInput).call(s,this),changeInputFinally:E()(a=this._changeValueWithInput).call(a,this,!0),changeInputWithArrow:E()(l=this._changeValueWithInputKeyEvent).call(l,this)},this._addClickEvent(),this._addDragEvent(),this._addInputEvent(),this.value=c.value,this.trigger("change")}return I(e,[{key:"destroy",value:function(){var e=this;this._removeClickEvent(),this._removeDragEvent(),this._removeInputEvent(),this.rangeElement.innerHTML="",H()(this,(function(t,n){e[n]=null}))}},{key:"max",get:function(){return this._max},set:function(e){this._max=e,this._absMax=-1*this._min+this._max,this.value=this._value}},{key:"min",get:function(){return this._min},set:function(e){this._min=e,this.max=this._max}},{key:"value",get:function(){return this._value},set:function(e){var t=((e=this._useDecimal?e:Dn(e))-this._min)*this.rangeWidth/this._absMax;this.rangeWidth<t&&(t=this.rangeWidth),this.pointer.style.left="".concat(t,"px"),this.subbar.style.right="".concat(this.rangeWidth-t,"px"),this._value=e,this.rangeInputElement&&(this.rangeInputElement.value=e)}},{key:"trigger",value:function(e){this.fire(e,this._value)}},{key:"_getRangeWidth",value:function(){var e=function(e){return Dn(window.getComputedStyle(e,null).width)};return e(this.rangeElement)-e(this.pointer)}},{key:"_drawRangeElement",value:function(){this.rangeElement.classList.add("tui-image-editor-range"),this.bar=document.createElement("div"),this.bar.className="tui-image-editor-virtual-range-bar",this.subbar=document.createElement("div"),this.subbar.className="tui-image-editor-virtual-range-subbar",this.pointer=document.createElement("div"),this.pointer.className="tui-image-editor-virtual-range-pointer",this.bar.appendChild(this.subbar),this.bar.appendChild(this.pointer),this.rangeElement.appendChild(this.bar)}},{key:"_addInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.addEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_removeInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.removeEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_changeValueWithInputKeyEvent",value:function(e){var t,n=e.keyCode,r=e.target;if(!(o()(t=[qt,Gt]).call(t,n)<0)){var i=Number(r.value);if(!((i=this._valueUpDownForKeyEvent(i,n))<this._min||i>this._max)){var s=Mn(i,this._min,this.max);this.value=s,this.fire("change",s,!1)}}}},{key:"_valueUpDownForKeyEvent",value:function(e,t){var n=this._useDecimal?.1:1;return t===qt?e+=n:t===Gt&&(e-=n),e}},{key:"_changeInput",value:function(e){var t=this;clearTimeout(this._userInputTimer);var n=e.keyCode;n<Zt||n>Kt?e.preventDefault():this._userInputTimer=m()((function(){t._inputSetValue(e.target.value)}),350)}},{key:"_inputSetValue",value:function(e){var t=this._useDecimal?Number(e):Dn(e);t=Mn(t,this._min,this.max),this.value=t,this.fire("change",t,!0)}},{key:"_changeValueWithInput",value:function(e,t){var n,r=t.keyCode,i=t.target;if(!(o()(n=[qt,Gt]).call(n,r)>=0)){var s=this._filterForInputText(i.value),a=!s||isNaN(s);i.value=s,a||this._inputSetValue(s)}}},{key:"_addClickEvent",value:function(){this.rangeElement.addEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_removeClickEvent",value:function(){this.rangeElement.removeEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_addDragEvent",value:function(){this.pointer.addEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_removeDragEvent",value:function(){this.pointer.removeEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_changeSlide",value:function(e){var t=e.screenX-this.firstPosition,n=this.firstLeft+t;n=(n=n>this.rangeWidth?this.rangeWidth:n)<0?0:n,this.pointer.style.left="".concat(n,"px"),this.subbar.style.right="".concat(this.rangeWidth-n,"px");var r=n/this.rangeWidth,i=this._absMax*r+this._min,o=this._useDecimal?i:Dn(i);this.value!==o&&(this.value=o,this.realTimeEvent&&this.fire("change",this._value,!1))}},{key:"_changeSlideFinally",value:function(e){if(e.stopPropagation(),"tui-image-editor-range"===e.target.className){var t=e.offsetX/this.rangeWidth,n=this._absMax*t+this._min;this.pointer.style.left="".concat(t*this.rangeWidth,"px"),this.subbar.style.right="".concat((1-t)*this.rangeWidth,"px"),this.value=n,this.fire("change",n,!0)}}},{key:"_startChangingSlide",value:function(e){this.firstPosition=e.screenX,this.firstLeft=Dn(this.pointer.style.left)||0,document.addEventListener("mousemove",this.eventHandler.changeSlide),document.addEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_stopChangingSlide",value:function(){this.fire("change",this._value,!0),document.removeEventListener("mousemove",this.eventHandler.changeSlide),document.removeEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_filterForInputText",value:function(e){return e.replace(jr,"$1$2$3")}}]),e}();$().mixin(Or);var Rr=Or,Lr=function(){function e(t,n){var r=n.locale,i=n.name,o=n.makeSvgIcon,s=n.menuBarPosition,a=n.templateHtml,l=n.usageStatistics;A(this,e),this.subMenuElement=t,this.menuBarPosition=s,this.toggleDirection="top"===s?"down":"up",this.colorPickerControls=[],this.usageStatistics=l,this.eventHandler={},this._makeSubMenuElement({locale:r,name:i,makeSvgIcon:o,templateHtml:a})}return I(e,[{key:"selector",value:function(e){return this.subMenuElement.querySelector(e)}},{key:"colorPickerChangeShow",value:function(e){var t;te()(t=this.colorPickerControls).call(t,(function(t){e!==t&&t.hide()}))}},{key:"getButtonType",value:function(e,t){return e.className.match(RegExp("(".concat(t.join("|"),")")))[0]}},{key:"changeClass",value:function(e,t,n){e.classList.remove(t),e.classList.add(n)}},{key:"changeStandbyMode",value:function(){}},{key:"changeStartMode",value:function(){}},{key:"_makeSubMenuElement",value:function(e){var t=e.locale,n=e.name,r=e.iconStyle,i=e.makeSvgIcon,o=e.templateHtml,s=document.createElement("div");s.className="tui-image-editor-menu-".concat(n),s.innerHTML=o({locale:t,iconStyle:r,makeSvgIcon:i}),this.subMenuElement.appendChild(s)}},{key:"_onStartEditingInputBox",value:function(){this.fire(ft)}},{key:"_onStopEditingInputBox",value:function(){this.fire(pt)}}]),e}();$().mixin(Lr);var Nr=Lr,Br=function(e){var t,n,r,i,o,s,a,l,c=e.locale,u=e.makeSvgIcon;return D()(t=D()(n=D()(r=D()(i=D()(o=D()(s=D()(a=D()(l='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-shape-button">\n            <div class="tui-image-editor-button rect">\n                <div>\n                    '.concat(u(["normal","active"],"shape-rectangle",!0),"\n                </div>\n                <label> ")).call(l,c.localize("Rectangle"),' </label>\n            </div>\n            <div class="tui-image-editor-button circle">\n                <div>\n                    ')).call(a,u(["normal","active"],"shape-circle",!0),"\n                </div>\n                <label> ")).call(s,c.localize("Circle"),' </label>\n            </div>\n            <div class="tui-image-editor-button triangle">\n                <div>\n                    ')).call(o,u(["normal","active"],"shape-triangle",!0),"\n                </div>\n                <label> ")).call(i,c.localize("Triangle"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-shape-color-button">\n            <div class="tie-color-fill" title="')).call(r,c.localize("Fill"),'"></div>\n            <div class="tie-color-stroke" title="')).call(n,c.localize("Stroke"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(t,c.localize("Stroke"),'</label>\n            <div class="tie-stroke-range"></div>\n            <input class="tie-stroke-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function Fr(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var zr={stroke:"#ffbb3b",fill:"",strokeWidth:3},Vr=function(e){yr(n,e);var t=Fr(n);function n(e,r){var i,o=r.locale,s=r.makeSvgIcon,a=r.menuBarPosition,l=r.usageStatistics;return A(this,n),(i=t.call(this,e,{locale:o,name:"shape",makeSvgIcon:s,menuBarPosition:a,templateHtml:Br,usageStatistics:l})).type=null,i.options=zr,i._els={shapeSelectButton:i.selector(".tie-shape-button"),shapeColorButton:i.selector(".tie-shape-color-button"),strokeRange:new Rr({slider:i.selector(".tie-stroke-range"),input:i.selector(".tie-stroke-range-value")},pn),fillColorpicker:new Dr(i.selector(".tie-color-fill"),{defaultColor:"",toggleDirection:i.toggleDirection,usageStatistics:i.usageStatistics}),strokeColorpicker:new Dr(i.selector(".tie-color-stroke"),{defaultColor:"#ffbb3b",toggleDirection:i.toggleDirection,usageStatistics:i.usageStatistics})},i.colorPickerControls.push(i._els.fillColorpicker),i.colorPickerControls.push(i._els.strokeColorpicker),i.colorPickerInputBoxes=[],i.colorPickerInputBoxes.push(i._els.fillColorpicker.colorpickerElement.querySelector(vt)),i.colorPickerInputBoxes.push(i._els.strokeColorpicker.colorpickerElement.querySelector(vt)),i}return I(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.strokeRange.destroy(),this._els.fillColorpicker.destroy(),this._els.strokeColorpicker.destroy(),Ln(this)}},{key:"addEvent",value:function(e){var t,n,r,i,o,s,a=this;this.eventHandler.shapeTypeSelected=E()(t=this._changeShapeHandler).call(t,this),this.actions=e,this._els.shapeSelectButton.addEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.on("change",E()(n=this._changeStrokeRangeHandler).call(n,this)),this._els.fillColorpicker.on("change",E()(r=this._changeFillColorHandler).call(r,this)),this._els.strokeColorpicker.on("change",E()(i=this._changeStrokeColorHandler).call(i,this)),this._els.fillColorpicker.on("changeShow",E()(o=this.colorPickerChangeShow).call(o,this)),this._els.strokeColorpicker.on("changeShow",E()(s=this.colorPickerChangeShow).call(s,this)),Tr()(this.colorPickerInputBoxes,(function(e){var t,n;e.addEventListener(mt,E()(t=a._onStartEditingInputBox).call(t,a)),e.addEventListener(gt,E()(n=a._onStopEditingInputBox).call(n,a))}),this)}},{key:"_removeEvent",value:function(){var e=this;this._els.shapeSelectButton.removeEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.off(),this._els.fillColorpicker.off(),this._els.strokeColorpicker.off(),Tr()(this.colorPickerInputBoxes,(function(t){var n,r;t.removeEventListener(mt,E()(n=e._onStartEditingInputBox).call(n,e)),t.removeEventListener(gt,E()(r=e._onStopEditingInputBox).call(r,e))}),this)}},{key:"setShapeStatus",value:function(e){var t=e.strokeWidth,n=e.strokeColor,r=e.fillColor;this._els.strokeRange.value=t,this._els.strokeColorpicker.color=n,this._els.fillColorpicker.color=r,this.options.stroke=n,this.options.fill=r,this.options.strokeWidth=t,this.actions.setDrawingShape(this.type,{strokeWidth:t})}},{key:"changeStartMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.changeSelectableAll(!0),this._els.shapeSelectButton.classList.remove("circle"),this._els.shapeSelectButton.classList.remove("triangle"),this._els.shapeSelectButton.classList.remove("rect")}},{key:"setMaxStrokeValue",value:function(e){var t=e;t<=0&&(t=pn.max),this._els.strokeRange.max=t}},{key:"setStrokeValue",value:function(e){this._els.strokeRange.value=e,this._els.strokeRange.trigger("change")}},{key:"getStrokeValue",value:function(){return this._els.strokeRange.value}},{key:"_changeShapeHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){this.actions.stopDrawingMode(),this.actions.discardSelection();var n=this.getButtonType(t,["circle","triangle","rect"]);if(this.type===n)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=n,e.currentTarget.classList.add(n),this.actions.changeSelectableAll(!1),this.actions.modeChange("shape")}}},{key:"_changeStrokeRangeHandler",value:function(e,t){this.options.strokeWidth=Dn(e),this.actions.changeShape({strokeWidth:e},!t),this.actions.setDrawingShape(this.type,this.options)}},{key:"_changeFillColorHandler",value:function(e){e=e||"transparent",this.options.fill=e,this.actions.changeShape({fill:e})}},{key:"_changeStrokeColorHandler",value:function(e){e=e||"transparent",this.options.stroke=e,this.actions.changeShape({stroke:e})}}]),n}(Nr),Wr=Vr,Hr=function(e){var t,n,r,i,o,s,a,l,c,u,d,h,f,p,m,g,v,b=e.locale,y=e.makeSvgIcon;return D()(t=D()(n=D()(r=D()(i=D()(o=D()(s=D()(a=D()(l=D()(c=D()(u=D()(d=D()(h=D()(f=D()(p=D()(m=D()(g=D()(v='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-crop-preset-button">\n            <div class="tui-image-editor-button preset preset-none active">\n                <div>\n                    '.concat(y(["normal","active"],"shape-rectangle",!0),"\n                </div>\n                <label> ")).call(v,b.localize("Custom"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-square">\n                <div>\n                    ')).call(g,y(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(m,b.localize("Square"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-3-2">\n                <div>\n                    ')).call(p,y(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(f,b.localize("3:2"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-4-3">\n                <div>\n                    ')).call(h,y(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(d,b.localize("4:3"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-5-4">\n                <div>\n                    ')).call(u,y(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(c,b.localize("5:4"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-7-5">\n                <div>\n                    ')).call(l,y(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(a,b.localize("7:5"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-16-9">\n                <div>\n                    ')).call(s,y(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(o,b.localize("16:9"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline">\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-crop-button action">\n            <div class="tui-image-editor-button apply">\n                ')).call(i,y(["normal","active"],"apply"),"\n                <label>\n                    ")).call(r,b.localize("Apply"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                ')).call(n,y(["normal","active"],"cancel"),"\n                <label>\n                    ")).call(t,b.localize("Cancel"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function Ur(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var $r=function(e){yr(n,e);var t=Ur(n);function n(e,r){var i,o=r.locale,s=r.makeSvgIcon,a=r.menuBarPosition,l=r.usageStatistics;return A(this,n),(i=t.call(this,e,{locale:o,name:"crop",makeSvgIcon:s,menuBarPosition:a,templateHtml:Hr,usageStatistics:l})).status="active",i._els={apply:i.selector(".tie-crop-button .apply"),cancel:i.selector(".tie-crop-button .cancel"),preset:i.selector(".tie-crop-preset-button")},i.defaultPresetButton=i._els.preset.querySelector(".preset-none"),i}return I(n,[{key:"destroy",value:function(){this._removeEvent(),Ln(this)}},{key:"addEvent",value:function(e){var t,n,r,i=E()(t=this._applyEventHandler).call(t,this),o=E()(n=this._cancelEventHandler).call(n,this),s=E()(r=this._cropzonePresetEventHandler).call(r,this);this.eventHandler={apply:i,cancel:o,cropzonePreset:s},this.actions=e,this._els.apply.addEventListener("click",i),this._els.cancel.addEventListener("click",o),this._els.preset.addEventListener("click",s)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel),this._els.preset.removeEventListener("click",this.eventHandler.cropzonePreset)}},{key:"_applyEventHandler",value:function(){this.actions.crop(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.cancel(),this._els.apply.classList.remove("active")}},{key:"_cropzonePresetEventHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button.preset");if(t){var n=Z(t.className.match(/preset-[^\s]+/),1)[0];this._setPresetButtonActive(t),this.actions.preset(n)}}},{key:"changeStartMode",value:function(){this.actions.modeChange("crop")}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this._setPresetButtonActive()}},{key:"changeApplyButtonStatus",value:function(e){e?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}},{key:"_setPresetButtonActive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultPresetButton;H()(this._els.preset.querySelectorAll(".preset"),(function(e){e.classList.remove("active")})),e&&e.classList.add("active")}}]),n}(Nr),Yr=$r,Gr=function(e){var t,n,r,i,o,s,a=e.locale,l=e.makeSvgIcon;return D()(t=D()(n=D()(r=D()(i=D()(o=D()(s='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-range-wrap tui-image-editor-newline">\n                <label class="range">'.concat(a.localize("Width"),'&nbsp;</label>\n                <div class="tie-width-range"></div>\n                <input class="tie-width-range-value tui-image-editor-range-value" value="0" /> <label>px</label>\n                <div class="tui-image-editor-partition tui-image-editor-newline"></div>\n                <label class="range">')).call(s,a.localize("Height"),'</label>\n                <div class="tie-height-range"></div>\n                <input class="tie-height-range-value tui-image-editor-range-value" value="0" /> <label>px</label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-lock-aspect-ratio">\n                        <span>')).call(o,a.localize("Lock Aspect Ratio"),'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tie-resize-button action">\n            <div class="tui-image-editor-button apply">\n                ')).call(i,l(["normal","active"],"apply"),"\n                <label>\n                    ")).call(r,a.localize("Apply"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                ')).call(n,l(["normal","active"],"cancel"),"\n                <label>\n                    ")).call(t,a.localize("Cancel"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function qr(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var Xr=function(e){yr(n,e);var t=qr(n);function n(e,r){var i,o=r.locale,s=r.makeSvgIcon,a=r.menuBarPosition,l=r.usageStatistics;return A(this,n),(i=t.call(this,e,{locale:o,name:"resize",makeSvgIcon:s,menuBarPosition:a,templateHtml:Gr,usageStatistics:l})).status="active",i._lockState=!1,i._originalDimensions=null,i._els={widthRange:new Rr({slider:i.selector(".tie-width-range"),input:i.selector(".tie-width-range-value")},xn),heightRange:new Rr({slider:i.selector(".tie-height-range"),input:i.selector(".tie-height-range-value")},xn),lockAspectRatio:i.selector(".tie-lock-aspect-ratio"),apply:i.selector(".tie-resize-button .apply"),cancel:i.selector(".tie-resize-button .cancel")},i}return I(n,[{key:"changeStartMode",value:function(){this.actions.modeChange("resize");var e=this.actions.getCurrentDimensions();this._originalDimensions=e,this.setWidthValue(e.width),this.setHeightValue(e.height)}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this.actions.reset(!0)}},{key:"setLimit",value:function(e){this._els.widthRange.min=this.calcMinValue(e.minWidth),this._els.heightRange.min=this.calcMinValue(e.minHeight),this._els.widthRange.max=this.calcMaxValue(e.maxWidth),this._els.heightRange.max=this.calcMaxValue(e.maxHeight)}},{key:"calcMaxValue",value:function(e){return e<=0&&(e=xn.max),e}},{key:"calcMinValue",value:function(e){return e<=0&&(e=xn.min),e}},{key:"setWidthValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._els.widthRange.value=e,t&&this._els.widthRange.trigger("change")}},{key:"setHeightValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._els.heightRange.value=e,t&&this._els.heightRange.trigger("change")}},{key:"destroy",value:function(){this._removeEvent(),Ln(this)}},{key:"addEvent",value:function(e){var t,n,r,i,o;this._els.widthRange.on("change",E()(t=this._changeWidthRangeHandler).call(t,this)),this._els.heightRange.on("change",E()(n=this._changeHeightRangeHandler).call(n,this)),this._els.lockAspectRatio.addEventListener("change",E()(r=this._changeLockAspectRatio).call(r,this));var s=E()(i=this._applyEventHandler).call(i,this),a=E()(o=this._cancelEventHandler).call(o,this);this.eventHandler={apply:s,cancel:a},this.actions=e,this._els.apply.addEventListener("click",s),this._els.cancel.addEventListener("click",a)}},{key:"_changeWidthRangeHandler",value:function(e){this.actions.preview("width",Dn(e),this._lockState)}},{key:"_changeHeightRangeHandler",value:function(e){this.actions.preview("height",Dn(e),this._lockState)}},{key:"_changeLockAspectRatio",value:function(e){this._lockState=e.target.checked,this.actions.lockAspectRatio(this._lockState,xn.min,xn.max)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel)}},{key:"_applyEventHandler",value:function(){this.actions.resize(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.reset(),this._els.cancel.classList.remove("active")}},{key:"changeApplyButtonStatus",value:function(e){e?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}}]),n}(Nr),Zr=Xr,Kr=function(e){var t,n,r,i,o,s=e.locale,a=e.makeSvgIcon;return D()(t=D()(n=D()(r=D()(i=D()(o='\n    <ul class="tie-flip-button tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button flipX">\n                <div>\n                    '.concat(a(["normal","active"],"flip-x",!0),"\n                </div>\n                <label>\n                    ")).call(o,s.localize("Flip X"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button flipY">\n                <div>\n                    ')).call(i,a(["normal","active"],"flip-y",!0),"\n                </div>\n                <label>\n                    ")).call(r,s.localize("Flip Y"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tui-image-editor-button resetFlip">\n                <div>\n                    ')).call(n,a(["normal","active"],"flip-reset",!0),"\n                </div>\n                <label>\n                    ")).call(t,s.localize("Reset"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function Qr(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var Jr=function(e){yr(n,e);var t=Qr(n);function n(e,r){var i,o=r.locale,s=r.makeSvgIcon,a=r.menuBarPosition,l=r.usageStatistics;return A(this,n),(i=t.call(this,e,{locale:o,name:"flip",makeSvgIcon:s,menuBarPosition:a,templateHtml:Kr,usageStatistics:l})).flipStatus=!1,i._els={flipButton:i.selector(".tie-flip-button")},i}return I(n,[{key:"destroy",value:function(){this._removeEvent(),Ln(this)}},{key:"addEvent",value:function(e){var t;this.eventHandler.changeFlip=E()(t=this._changeFlip).call(t,this),this._actions=e,this._els.flipButton.addEventListener("click",this.eventHandler.changeFlip)}},{key:"_removeEvent",value:function(){this._els.flipButton.removeEventListener("click",this.eventHandler.changeFlip)}},{key:"_changeFlip",value:function(e){var t=this,n=e.target.closest(".tui-image-editor-button");if(n){var r=this.getButtonType(n,["flipX","flipY","resetFlip"]);if(!this.flipStatus&&"resetFlip"===r)return;this._actions.flip(r).then((function(e){var n=t._els.flipButton.classList;t.flipStatus=!1,n.remove("resetFlip"),H()(["flipX","flipY"],(function(r){n.remove(r),e[r]&&(n.add(r),n.add("resetFlip"),t.flipStatus=!0)}))}))}}}]),n}(Nr),ei=Jr,ti=function(e){var t,n,r=e.locale,i=e.makeSvgIcon;return D()(t=D()(n='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-rotate-button">\n            <div class="tui-image-editor-button clockwise">\n                <div>\n                    '.concat(i(["normal","active"],"rotate-clockwise",!0),'\n                </div>\n                <label> 30 </label>\n            </div>\n            <div class="tui-image-editor-button counterclockwise">\n                <div>\n                    ')).call(n,i(["normal","active"],"rotate-counterclockwise",!0),'\n                </div>\n                <label> -30 </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(t,r.localize("Range"),'</label>\n            <div class="tie-rotate-range"></div>\n            <input class="tie-rotate-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function ni(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var ri=function(e){yr(n,e);var t=ni(n);function n(e,r){var i,o=r.locale,s=r.makeSvgIcon,a=r.menuBarPosition,l=r.usageStatistics;return A(this,n),(i=t.call(this,e,{locale:o,name:"rotate",makeSvgIcon:s,menuBarPosition:a,templateHtml:ti,usageStatistics:l}))._value=0,i._els={rotateButton:i.selector(".tie-rotate-button"),rotateRange:new Rr({slider:i.selector(".tie-rotate-range"),input:i.selector(".tie-rotate-range-value")},hn)},i}return I(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.rotateRange.destroy(),Ln(this)}},{key:"setRangeBarAngle",value:function(e,t){var n=t;"rotate"===e&&(n=J()(this._els.rotateRange.value,10)+t),this._setRangeBarRatio(n)}},{key:"_setRangeBarRatio",value:function(e){this._els.rotateRange.value=e}},{key:"addEvent",value:function(e){var t,n;this.eventHandler.rotationAngleChanged=E()(t=this._changeRotateForButton).call(t,this),this.actions=e,this._els.rotateButton.addEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.on("change",E()(n=this._changeRotateForRange).call(n,this))}},{key:"_removeEvent",value:function(){this._els.rotateButton.removeEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.off()}},{key:"_changeRotateForRange",value:function(e,t){var n=Dn(e);this.actions.setAngle(n,!t),this._value=n}},{key:"_changeRotateForButton",value:function(e){var t=e.target.closest(".tui-image-editor-button"),n=this._els.rotateRange.value;if(t){var r={clockwise:30,counterclockwise:-30}[this.getButtonType(t,["counterclockwise","clockwise"])],i=J()(n,10)+r;i>=-360&&i<=360&&this.actions.rotate(r)}}}]),n}(Nr),ii=ri,oi=function(e){var t,n,r,i,o,s,a,l,c,u,d,h,f,p=e.locale,m=e.makeSvgIcon;return D()(t=D()(n=D()(r=D()(i=D()(o=D()(s=D()(a=D()(l=D()(c=D()(u=D()(d=D()(h=D()(f='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-text-effect-button">\n            <div class="tui-image-editor-button bold">\n                <div>\n                    '.concat(m(["normal","active"],"text-bold",!0),"\n                </div>\n                <label> ")).call(f,p.localize("Bold"),' </label>\n            </div>\n            <div class="tui-image-editor-button italic">\n                <div>\n                    ')).call(h,m(["normal","active"],"text-italic",!0),"\n                </div>\n                <label> ")).call(d,p.localize("Italic"),' </label>\n            </div>\n            <div class="tui-image-editor-button underline">\n                <div>\n                    ')).call(u,m(["normal","active"],"text-underline",!0),"\n                </div>\n                <label> ")).call(c,p.localize("Underline"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-text-align-button">\n            <div class="tui-image-editor-button left">\n                <div>\n                    ')).call(l,m(["normal","active"],"text-align-left",!0),"\n                </div>\n                <label> ")).call(a,p.localize("Left"),' </label>\n            </div>\n            <div class="tui-image-editor-button center">\n                <div>\n                    ')).call(s,m(["normal","active"],"text-align-center",!0),"\n                </div>\n                <label> ")).call(o,p.localize("Center"),' </label>\n            </div>\n            <div class="tui-image-editor-button right">\n                <div>\n                    ')).call(i,m(["normal","active"],"text-align-right",!0),"\n                </div>\n                <label> ")).call(r,p.localize("Right"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-text-color" title="')).call(n,p.localize("Color"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(t,p.localize("Text size"),'</label>\n            <div class="tie-text-range"></div>\n            <input class="tie-text-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function si(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var ai=function(e){yr(n,e);var t=si(n);function n(e,r){var i,o=r.locale,s=r.makeSvgIcon,a=r.menuBarPosition,l=r.usageStatistics;return A(this,n),(i=t.call(this,e,{locale:o,name:"text",makeSvgIcon:s,menuBarPosition:a,templateHtml:oi,usageStatistics:l})).effect={bold:!1,italic:!1,underline:!1},i.align="tie-text-align-left",i._els={textEffectButton:i.selector(".tie-text-effect-button"),textAlignButton:i.selector(".tie-text-align-button"),textColorpicker:new Dr(i.selector(".tie-text-color"),{defaultColor:"#ffbb3b",toggleDirection:i.toggleDirection,usageStatistics:i.usageStatistics}),textRange:new Rr({slider:i.selector(".tie-text-range"),input:i.selector(".tie-text-range-value")},mn)},i.colorPickerInputBox=i._els.textColorpicker.colorpickerElement.querySelector(vt),i}return I(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.textColorpicker.destroy(),this._els.textRange.destroy(),Ln(this)}},{key:"addEvent",value:function(e){var t,n,r,i,o,s,a=E()(t=this._setTextEffectHandler).call(t,this),l=E()(n=this._setTextAlignHandler).call(n,this);this.eventHandler={setTextEffect:a,setTextAlign:l},this.actions=e,this._els.textEffectButton.addEventListener("click",a),this._els.textAlignButton.addEventListener("click",l),this._els.textRange.on("change",E()(r=this._changeTextRnageHandler).call(r,this)),this._els.textColorpicker.on("change",E()(i=this._changeColorHandler).call(i,this)),this.colorPickerInputBox.addEventListener(mt,E()(o=this._onStartEditingInputBox).call(o,this)),this.colorPickerInputBox.addEventListener(gt,E()(s=this._onStopEditingInputBox).call(s,this))}},{key:"_removeEvent",value:function(){var e,t,n=this.eventHandler,r=n.setTextEffect,i=n.setTextAlign;this._els.textEffectButton.removeEventListener("click",r),this._els.textAlignButton.removeEventListener("click",i),this._els.textRange.off(),this._els.textColorpicker.off(),this.colorPickerInputBox.removeEventListener(mt,E()(e=this._onStartEditingInputBox).call(e,this)),this.colorPickerInputBox.removeEventListener(gt,E()(t=this._onStopEditingInputBox).call(t,this))}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStartMode",value:function(){this.actions.modeChange("text")}},{key:"textColor",get:function(){return this._els.textColorpicker.color},set:function(e){this._els.textColorpicker.color=e}},{key:"fontSize",get:function(){return this._els.textRange.value},set:function(e){this._els.textRange.value=e}},{key:"fontStyle",get:function(){return this.effect.italic?"italic":"normal"}},{key:"fontWeight",get:function(){return this.effect.bold?"bold":"normal"}},{key:"underline",get:function(){return this.effect.underline}},{key:"setTextStyleStateOnAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=re()(e),n=e.fontSize,r=e.fontStyle,i=e.fontWeight,o=e.textDecoration,s=e.textAlign;this.textColor=t,this.fontSize=n,this.setEffectState("italic",r),this.setEffectState("bold",i),this.setEffectState("underline",o),this.setAlignState("tie-text-align-".concat(s))}},{key:"setEffectState",value:function(e,t){var n="italic"===t||"bold"===t||"underline"===t,r=this._els.textEffectButton.querySelector(".tui-image-editor-button.".concat(e));this.effect[e]=n,r.classList[n?"add":"remove"]("active")}},{key:"setAlignState",value:function(e){var t=this._els.textAlignButton;t.classList.remove(this.align),t.classList.add(e),this.align=e}},{key:"_setTextEffectHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){var n=Z(t.className.match(/(bold|italic|underline)/),1)[0],r={bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},underline:{textDecoration:"underline"}}[n];this.effect[n]=!this.effect[n],t.classList.toggle("active"),this.actions.changeTextStyle(r)}}},{key:"_setTextAlignHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){var n=this.getButtonType(t,["left","center","right"]),r="tie-text-align-".concat(n);e.currentTarget.classList.remove(this.align),this.align!==r&&e.currentTarget.classList.add(r),this.actions.changeTextStyle({textAlign:n}),this.align=r}}},{key:"_changeTextRnageHandler",value:function(e,t){this.actions.changeTextStyle({fontSize:e},!t)}},{key:"_changeColorHandler",value:function(e){e=e||"transparent",this.actions.changeTextStyle({fill:e})}}]),n}(Nr),li=ai,ci=function(e){var t,n,r,i=e.locale,o=e.makeSvgIcon;return D()(t=D()(n=D()(r='\n    <ul class="tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button">\n                <div>\n                    <input type="file" accept="image/*" class="tie-mask-image-file">\n                    '.concat(o(["normal","active"],"mask-load",!0),"\n                </div>\n                <label> ")).call(r,i.localize("Load Mask Image"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-mask-apply tui-image-editor-newline apply" style="margin-top: 22px;margin-bottom: 5px">\n            <div class="tui-image-editor-button apply">\n                ')).call(n,o(["normal","active"],"apply"),"\n                <label>\n                    ")).call(t,i.localize("Apply"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function ui(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var di=function(e){yr(n,e);var t=ui(n);function n(e,r){var i,o=r.locale,s=r.makeSvgIcon,a=r.menuBarPosition,l=r.usageStatistics;return A(this,n),(i=t.call(this,e,{locale:o,name:"mask",makeSvgIcon:s,menuBarPosition:a,templateHtml:ci,usageStatistics:l}))._els={applyButton:i.selector(".tie-mask-apply"),maskImageButton:i.selector(".tie-mask-image-file")},i}return I(n,[{key:"destroy",value:function(){this._removeEvent(),Ln(this)}},{key:"addEvent",value:function(e){var t,n,r=E()(t=this._loadMaskFile).call(t,this),i=E()(n=this._applyMask).call(n,this);this.eventHandler={loadMaskFile:r,applyMask:i},this.actions=e,this._els.maskImageButton.addEventListener("change",r),this._els.applyButton.addEventListener("click",i)}},{key:"_removeEvent",value:function(){this._els.maskImageButton.removeEventListener("change",this.eventHandler.loadMaskFile),this._els.applyButton.removeEventListener("click",this.eventHandler.applyMask)}},{key:"_applyMask",value:function(){this.actions.applyFilter(),this._els.applyButton.classList.remove("active")}},{key:"_loadMaskFile",value:function(e){var t;On()||alert("This browser does not support file-api");var n=Z(e.target.files,1)[0];n&&(t=L().createObjectURL(n),this.actions.loadImageFromURL(t,n),this._els.applyButton.classList.add("active"))}}]),n}(Nr),hi=di,fi=function(e){var t,n,r,i,o,s,a,l,c,u,d,h,f,p,m,g,v,b,y,w,x=e.locale,_=e.makeSvgIcon;return D()(t=D()(n=D()(r=D()(i=D()(o=D()(s=D()(a=D()(l=D()(c=D()(u=D()(d=D()(h=D()(f=D()(p=D()(m=D()(g=D()(v=D()(b=D()(y=D()(w='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-icon-add-button">\n            <div class="tui-image-editor-button" data-icontype="icon-arrow">\n                <div>\n                    '.concat(_(["normal","active"],"icon-arrow",!0),"\n                </div>\n                <label>\n                    ")).call(w,x.localize("Arrow"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-2">\n                <div>\n                    ')).call(y,_(["normal","active"],"icon-arrow-2",!0),"\n                </div>\n                <label>\n                    ")).call(b,x.localize("Arrow-2"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-3">\n                <div>\n                    ')).call(v,_(["normal","active"],"icon-arrow-3",!0),"\n                </div>\n                <label>\n                    ")).call(g,x.localize("Arrow-3"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star">\n                <div>\n                    ')).call(m,_(["normal","active"],"icon-star",!0),"\n                </div>\n                <label>\n                    ")).call(p,x.localize("Star-1"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star-2">\n                <div>\n                    ')).call(f,_(["normal","active"],"icon-star-2",!0),"\n                </div>\n                <label>\n                    ")).call(h,x.localize("Star-2"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-polygon">\n                <div>\n                    ')).call(d,_(["normal","active"],"icon-polygon",!0),"\n                </div>\n                <label>\n                    ")).call(u,x.localize("Polygon"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-location">\n                <div>\n                    ')).call(c,_(["normal","active"],"icon-location",!0),"\n                </div>\n                <label>\n                    ")).call(l,x.localize("Location"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-heart">\n                <div>\n                    ')).call(a,_(["normal","active"],"icon-heart",!0),"\n                </div>\n                <label>\n                    ")).call(s,x.localize("Heart"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-bubble">\n                <div>\n                    ')).call(o,_(["normal","active"],"icon-bubble",!0),"\n                </div>\n                <label>\n                    ")).call(i,x.localize("Bubble"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-icon-add-button">\n            <div class="tui-image-editor-button" style="margin:0">\n                <div>\n                    <input type="file" accept="image/*" class="tie-icon-image-file">\n                    ')).call(r,_(["normal","active"],"icon-load",!0),"\n                </div>\n                <label>\n                    ")).call(n,x.localize("Custom icon"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-icon-color" title="')).call(t,x.localize("Color"),'"></div>\n        </li>\n    </ul>\n')};function pi(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var mi=function(e){yr(n,e);var t=pi(n);function n(e,r){var i,o=r.locale,s=r.makeSvgIcon,a=r.menuBarPosition,l=r.usageStatistics;return A(this,n),(i=t.call(this,e,{locale:o,name:"icon",makeSvgIcon:s,menuBarPosition:a,templateHtml:fi,usageStatistics:l})).iconType=null,i._iconMap={},i._els={registerIconButton:i.selector(".tie-icon-image-file"),addIconButton:i.selector(".tie-icon-add-button"),iconColorpicker:new Dr(i.selector(".tie-icon-color"),{defaultColor:"#ffbb3b",toggleDirection:i.toggleDirection,usageStatistics:i.usageStatistics})},i.colorPickerInputBox=i._els.iconColorpicker.colorpickerElement.querySelector(vt),i}return I(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.iconColorpicker.destroy(),Ln(this)}},{key:"addEvent",value:function(e){var t,n,r,i,o,s=E()(t=this._registerIconHandler).call(t,this),a=E()(n=this._addIconHandler).call(n,this);this.eventHandler={registerIcon:s,addIcon:a},this.actions=e,this._els.iconColorpicker.on("change",E()(r=this._changeColorHandler).call(r,this)),this._els.registerIconButton.addEventListener("change",s),this._els.addIconButton.addEventListener("click",a),this.colorPickerInputBox.addEventListener(mt,E()(i=this._onStartEditingInputBox).call(i,this)),this.colorPickerInputBox.addEventListener(gt,E()(o=this._onStopEditingInputBox).call(o,this))}},{key:"_removeEvent",value:function(){var e,t;this._els.iconColorpicker.off(),this._els.registerIconButton.removeEventListener("change",this.eventHandler.registerIcon),this._els.addIconButton.removeEventListener("click",this.eventHandler.addIcon),this.colorPickerInputBox.removeEventListener(mt,E()(e=this._onStartEditingInputBox).call(e,this)),this.colorPickerInputBox.removeEventListener(gt,E()(t=this._onStopEditingInputBox).call(t,this))}},{key:"clearIconType",value:function(){this._els.addIconButton.classList.remove(this.iconType),this.iconType=null}},{key:"registerDefaultIcon",value:function(){var e=this;H()(dn,(function(t,n){e.actions.registerDefaultIcons(n,t)}))}},{key:"setIconPickerColor",value:function(e){this._els.iconColorpicker.color=e}},{key:"changeStandbyMode",value:function(){this.clearIconType(),this.actions.cancelAddIcon()}},{key:"_changeColorHandler",value:function(e){e=e||"transparent",this.actions.changeColor(e)}},{key:"_addIconHandler",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){var n=t.getAttribute("data-icontype"),r=this._els.iconColorpicker.color;this.actions.discardSelection(),this.actions.changeSelectableAll(!1),this._els.addIconButton.classList.remove(this.iconType),this._els.addIconButton.classList.add(n),this.iconType===n?this.changeStandbyMode():(this.actions.addIcon(n,r),this.iconType=n)}}},{key:"_registerIconHandler",value:function(e){var t;On||alert("This browser does not support file-api");var n=Z(e.target.files,1)[0];n&&(t=L().createObjectURL(n),this.actions.registerCustomIcon(t,n))}}]),n}(Nr),gi=mi,vi=function(e){var t,n,r,i,o,s=e.locale,a=e.makeSvgIcon;return D()(t=D()(n=D()(r=D()(i=D()(o='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-draw-line-select-button">\n            <div class="tui-image-editor-button free">\n                <div>\n                    '.concat(a(["normal","active"],"draw-free",!0),"\n                </div>\n                <label>\n                    ")).call(o,s.localize("Free"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button line">\n                <div>\n                    ')).call(i,a(["normal","active"],"draw-line",!0),"\n                </div>\n                <label>\n                    ")).call(r,s.localize("Straight"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-draw-color" title="')).call(n,s.localize("Color"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(t,s.localize("Range"),'</label>\n            <div class="tie-draw-range"></div>\n            <input class="tie-draw-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function bi(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var yi=function(e){yr(n,e);var t=bi(n);function n(e,r){var i,o=r.locale,s=r.makeSvgIcon,a=r.menuBarPosition,l=r.usageStatistics;return A(this,n),(i=t.call(this,e,{locale:o,name:"draw",makeSvgIcon:s,menuBarPosition:a,templateHtml:vi,usageStatistics:l}))._els={lineSelectButton:i.selector(".tie-draw-line-select-button"),drawColorPicker:new Dr(i.selector(".tie-draw-color"),{defaultColor:"#00a9ff",toggleDirection:i.toggleDirection,usageStatistics:i.usageStatistics}),drawRange:new Rr({slider:i.selector(".tie-draw-range"),input:i.selector(".tie-draw-range-value")},fn)},i.type=null,i.color=i._els.drawColorPicker.color,i.width=i._els.drawRange.value,i.colorPickerInputBox=i._els.drawColorPicker.colorpickerElement.querySelector(vt),i}return I(n,[{key:"destroy",value:function(){this._removeEvent(),this._els.drawColorPicker.destroy(),this._els.drawRange.destroy(),Ln(this)}},{key:"addEvent",value:function(e){var t,n,r,i,o;this.eventHandler.changeDrawType=E()(t=this._changeDrawType).call(t,this),this.actions=e,this._els.lineSelectButton.addEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.on("change",E()(n=this._changeDrawColor).call(n,this)),this._els.drawRange.on("change",E()(r=this._changeDrawRange).call(r,this)),this.colorPickerInputBox.addEventListener(mt,E()(i=this._onStartEditingInputBox).call(i,this)),this.colorPickerInputBox.addEventListener(gt,E()(o=this._onStopEditingInputBox).call(o,this))}},{key:"_removeEvent",value:function(){var e,t;this._els.lineSelectButton.removeEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.off(),this._els.drawRange.off(),this.colorPickerInputBox.removeEventListener(mt,E()(e=this._onStartEditingInputBox).call(e,this)),this.colorPickerInputBox.removeEventListener(gt,E()(t=this._onStopEditingInputBox).call(t,this))}},{key:"setDrawMode",value:function(){this.actions.setDrawMode(this.type,{width:this.width,color:Rn(this.color,.7)})}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.stopDrawingMode(),this.actions.changeSelectableAll(!0),this._els.lineSelectButton.classList.remove("free"),this._els.lineSelectButton.classList.remove("line")}},{key:"changeStartMode",value:function(){this.type="free",this._els.lineSelectButton.classList.add("free"),this.setDrawMode()}},{key:"_changeDrawType",value:function(e){var t=e.target.closest(".tui-image-editor-button");if(t){var n=this.getButtonType(t,["free","line"]);if(this.actions.discardSelection(),this.type===n)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=n,this._els.lineSelectButton.classList.add(n),this.setDrawMode()}}},{key:"_changeDrawColor",value:function(e){this.color=e||"transparent",this.type?this.setDrawMode():this.changeStartMode()}},{key:"_changeDrawRange",value:function(e){this.width=e,this.type?this.setDrawMode():this.changeStartMode()}}]),n}(Nr),wi=yi,xi=r(9886),_i=r.n(xi),Ci=function(e){var t,n,r,i,o,s,a,l,c,u,d,h,f,p,m,g,v=e.locale;return D()(t=D()(n=D()(r=D()(i=D()(o=D()(s=D()(a=D()(l=D()(c=D()(u=D()(d=D()(h=D()(f=D()(p=D()(m=D()(g='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap fixed-width">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-grayscale">\n                        <span>'.concat(v.localize("Grayscale"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-invert">\n                        <span>')).call(g,v.localize("Invert"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sepia">\n                        <span>')).call(m,v.localize("Sepia"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-vintage">\n                        <span>')).call(p,v.localize("Sepia2"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blur">\n                        <span>')).call(f,v.localize("Blur"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sharpen">\n                        <span>')).call(h,v.localize("Sharpen"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-emboss">\n                        <span>')).call(d,v.localize("Emboss"),'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled" style="margin-bottom: 7px;">\n                <div class="tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-remove-white">\n                            <span>')).call(u,v.localize("Remove White"),'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>')).call(c,v.localize("Distance"),'</label>\n                    <div class="tie-removewhite-distance-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-brightness">\n                        <span>')).call(l,v.localize("Brightness"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-brightness-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-noise">\n                        <span>')).call(a,v.localize("Noise"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-noise-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-pixelate">\n                        <span>')).call(s,v.localize("Pixelate"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-pixelate-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-newline tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-color-filter">\n                            <span>')).call(o,v.localize("Color Filter"),'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>')).call(i,v.localize("Threshold"),'</label>\n                    <div class="tie-colorfilter-threshold-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="filter-color-item">\n                <div class="tie-filter-tint-color" title="')).call(r,v.localize("Tint"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-tint">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-multiply-color" title="')).call(n,v.localize("Multiply"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-multiply">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-blend-color" title="')).call(t,v.localize("Blend"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blend">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n        </li>\n    </ul>\n')};function ki(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var Si="130px",Ai=["add","diff","subtract","multiply","screen","lighten","darken"],Ti=["grayscale","invert","sepia","vintage","blur","sharpen","emboss","remove-white","brightness","noise","pixelate","color-filter","tint","multiply","blend"],Ii={grayscale:"grayscale",invert:"invert",sepia:"sepia",blur:"blur",sharpen:"sharpen",emboss:"emboss",removeWhite:"removeColor",brightness:"brightness",contrast:"contrast",saturation:"saturation",vintage:"vintage",polaroid:"polaroid",noise:"noise",pixelate:"pixelate",colorFilter:"removeColor",tint:"blendColor",multiply:"blendColor",blend:"blendColor",hue:"hue",gamma:"gamma"},Mi=["removewhiteDistanceRange","colorfilterThresholdRange","pixelateRange","noiseRange","brightnessRange","tintOpacity"],Ei=["filterBlendColor","filterMultiplyColor","filterTintColor"],Pi=function(e){yr(n,e);var t=ki(n);function n(e,r){var i,o=r.locale,s=r.menuBarPosition,a=r.usageStatistics;return A(this,n),(i=t.call(this,e,{locale:o,name:"filter",menuBarPosition:s,templateHtml:Ci,usageStatistics:a})).selectBoxShow=!1,i.checkedMap={},i._makeControlElement(),i}return I(n,[{key:"destroy",value:function(){this._removeEvent(),this._destroyToolInstance(),Ln(this)}},{key:"_removeEvent",value:function(){var e,t=this;H()(Ti,(function(e){var n=t.selector(".tie-".concat(e)),r=jn(e);n.removeEventListener("change",t.eventHandler[r])})),H()(D()(e=[]).call(e,Mi,Ei),(function(e){t._els[e].off()})),this._els.blendType.removeEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.removeEventListener("click",this.eventHandler.changeBlendFilter),Tr()(this.colorPickerInputBoxes,(function(e){var n,r;e.removeEventListener(mt,E()(n=t._onStartEditingInputBox).call(n,t)),e.removeEventListener(gt,E()(r=t._onStopEditingInputBox).call(r,t))}),this)}},{key:"_destroyToolInstance",value:function(){var e,t=this;H()(D()(e=[]).call(e,Mi,Ei),(function(e){t._els[e].destroy()}))}},{key:"addEvent",value:function(e){var t,n,r,i=this,o=e.applyFilter,s=function(e){var t;return E()(t=i._changeFilterState).call(t,i,o,e)},a=function(e){return function(t,n){return i._changeFilterState(o,e,n)}};this.eventHandler={changeBlendFilter:s("blend"),blandTypeClick:function(e){return e.stopPropagation()}},H()(Ti,(function(e){var t=i.selector(".tie-".concat(e)),n=jn(e);i.checkedMap[n]=t,i.eventHandler[n]=s(n),t.addEventListener("change",i.eventHandler[n])})),this._els.removewhiteDistanceRange.on("change",a("removeWhite")),this._els.colorfilterThresholdRange.on("change",a("colorFilter")),this._els.pixelateRange.on("change",a("pixelate")),this._els.noiseRange.on("change",a("noise")),this._els.brightnessRange.on("change",a("brightness")),this._els.filterBlendColor.on("change",this.eventHandler.changeBlendFilter),this._els.filterMultiplyColor.on("change",s("multiply")),this._els.filterTintColor.on("change",s("tint")),this._els.tintOpacity.on("change",a("tint")),this._els.filterMultiplyColor.on("changeShow",E()(t=this.colorPickerChangeShow).call(t,this)),this._els.filterTintColor.on("changeShow",E()(n=this.colorPickerChangeShow).call(n,this)),this._els.filterBlendColor.on("changeShow",E()(r=this.colorPickerChangeShow).call(r,this)),this._els.blendType.addEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.addEventListener("click",this.eventHandler.blandTypeClick),Tr()(this.colorPickerInputBoxes,(function(e){var t,n;e.addEventListener(mt,E()(t=i._onStartEditingInputBox).call(t,i)),e.addEventListener(gt,E()(n=i._onStopEditingInputBox).call(n,i))}),this)}},{key:"setFilterState",value:function(e){var t=e.type,n=e.options,r=e.action,i=this._getFilterNameFromOptions(t,n),o="remove"===r;o||this._setFilterState(i,n),this.checkedMap[i].checked=!o}},{key:"initFilterCheckBoxState",value:function(){H()(this.checkedMap,(function(e){e.checked=!1}),this)}},{key:"_setFilterState",value:function(e,t){"colorFilter"===e?this._els.colorfilterThresholdRange.value=t.distance:"removeWhite"===e?this._els.removewhiteDistanceRange.value=t.distance:"pixelate"===e?this._els.pixelateRange.value=t.blocksize:"brightness"===e?this._els.brightnessRange.value=t.brightness:"noise"===e?this._els.noiseRange.value=t.noise:"tint"===e?(this._els.tintOpacity.value=t.alpha,this._els.filterTintColor.color=t.color):"blend"===e?this._els.filterBlendColor.color=t.color:"multiply"===e&&(this._els.filterMultiplyColor.color=t.color)}},{key:"_getFilterNameFromOptions",value:function(e,t){var n=e;return"removeColor"===e?n=_i()(t.useAlpha)?"removeWhite":"colorFilter":"blendColor"===e&&(n={add:"blend",multiply:"multiply",tint:"tint"}[t.mode]),n}},{key:"_changeFilterState",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.checkedMap[t].checked,i=Ii[t],o=this.checkedMap[t].closest(".tui-image-editor-checkbox-group");o&&(r?o.classList.remove("tui-image-editor-disabled"):o.classList.add("tui-image-editor-disabled")),e(r,i,this._getFilterOption(t),!n)}},{key:"_getFilterOption",value:function(e){var t={};switch(e){case"removeWhite":t.color="#FFFFFF",t.useAlpha=!1,t.distance=ar()(this._els.removewhiteDistanceRange.value);break;case"colorFilter":t.color="#FFFFFF",t.distance=ar()(this._els.colorfilterThresholdRange.value);break;case"pixelate":t.blocksize=Dn(this._els.pixelateRange.value);break;case"noise":t.noise=Dn(this._els.noiseRange.value);break;case"brightness":t.brightness=ar()(this._els.brightnessRange.value);break;case"blend":t.mode="add",t.color=this._els.filterBlendColor.color,t.mode=this._els.blendType.value;break;case"multiply":t.mode="multiply",t.color=this._els.filterMultiplyColor.color;break;case"tint":t.mode="tint",t.color=this._els.filterTintColor.color,t.alpha=this._els.tintOpacity.value;break;case"blur":t.blur=this._els.blurRange.value}return t}},{key:"_makeControlElement",value:function(){this._els={removewhiteDistanceRange:new Rr({slider:this.selector(".tie-removewhite-distance-range")},gn.removewhiteDistanceRange),brightnessRange:new Rr({slider:this.selector(".tie-brightness-range")},gn.brightnessRange),noiseRange:new Rr({slider:this.selector(".tie-noise-range")},gn.noiseRange),pixelateRange:new Rr({slider:this.selector(".tie-pixelate-range")},gn.pixelateRange),colorfilterThresholdRange:new Rr({slider:this.selector(".tie-colorfilter-threshold-range")},gn.colorfilterThresholdRange),filterTintColor:new Dr(this.selector(".tie-filter-tint-color"),{defaultColor:"#03bd9e",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterMultiplyColor:new Dr(this.selector(".tie-filter-multiply-color"),{defaultColor:"#515ce6",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterBlendColor:new Dr(this.selector(".tie-filter-blend-color"),{defaultColor:"#ffbb3b",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),blurRange:gn.blurFilterRange},this._els.tintOpacity=this._pickerWithRange(this._els.filterTintColor.pickerControl),this._els.blendType=this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl),this.colorPickerControls.push(this._els.filterTintColor),this.colorPickerControls.push(this._els.filterMultiplyColor),this.colorPickerControls.push(this._els.filterBlendColor),this.colorPickerInputBoxes=[],this.colorPickerInputBoxes.push(this._els.filterTintColor.colorpickerElement.querySelector(vt)),this.colorPickerInputBoxes.push(this._els.filterMultiplyColor.colorpickerElement.querySelector(vt)),this.colorPickerInputBoxes.push(this._els.filterBlendColor.colorpickerElement.querySelector(vt))}},{key:"_pickerWithRange",value:function(e){var t=document.createElement("div"),n=document.createElement("label"),r=document.createElement("div");return r.id="tie-filter-tint-opacity",n.innerHTML="Opacity",t.appendChild(n),t.appendChild(r),e.appendChild(t),e.style.height=Si,new Rr({slider:r},gn.tintOpacityRange)}},{key:"_pickerWithSelectbox",value:function(e){var t=document.createElement("div"),n=document.createElement("select"),r=document.createElement("ul");return t.className="tui-image-editor-selectlist-wrap",r.className="tui-image-editor-selectlist",t.appendChild(n),t.appendChild(r),this._makeSelectOptionList(n),e.appendChild(t),e.style.height=Si,this._drawSelectOptionList(n,r),this._pickerWithSelectboxForAddEvent(n,r),n}},{key:"_drawSelectOptionList",value:function(e,t){var n=e.querySelectorAll("option");H()(n,(function(e){var n=document.createElement("li");n.innerHTML=e.innerHTML,n.setAttribute("data-item",e.value),t.appendChild(n)}))}},{key:"_pickerWithSelectboxForAddEvent",value:function(e,t){var n=this;t.addEventListener("click",(function(r){var i=r.target.getAttribute("data-item"),o=document.createEvent("HTMLEvents");e.querySelector('[value="'.concat(i,'"]')).selected=!0,o.initEvent("change",!0,!0),e.dispatchEvent(o),n.selectBoxShow=!1,t.style.display="none"})),e.addEventListener("mousedown",(function(r){r.preventDefault(),n.selectBoxShow=!n.selectBoxShow,t.style.display=n.selectBoxShow?"block":"none",t.setAttribute("data-selectitem",e.value),t.querySelector("[data-item='".concat(e.value,"']")).classList.add("active")}))}},{key:"_makeSelectOptionList",value:function(e){H()(Ai,(function(t){var n=document.createElement("option");n.setAttribute("value",t),n.innerHTML=t.replace(/^[a-z]/,(function(e){return e.toUpperCase()})),e.appendChild(n)}))}}]),n}(Nr),Di=Pi,ji=r(4383),Oi=r.n(ji);function Ri(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var Li="selected-item",Ni="disabled-item",Bi=function(e){yr(n,e);var t=Ri(n);function n(e,r){var i,o=r.locale,s=r.makeSvgIcon;return A(this,n),i=t.call(this,e,{name:"history"}),e.classList.add("enabled"),i.locale=o,i.makeSvgIcon=s,i._eventHandler={},i._historyIndex=i.getListLength(),i}return I(n,[{key:"add",value:function(e){var t=e.name,n=e.detail;this._hasDisabledItem()&&this.deleteListItemElement(this._historyIndex+1,this.getListLength());var r=function(e){var t,n,r,i=e.locale,o=e.makeSvgIcon,s=e.name,a=e.detail;return D()(t=D()(n=D()(r='\n    <div class="tui-image-editor-history-item history">\n        <div class="history-item-icon">\n            '.concat(o(["normal","active"],"history-".concat(s.toLowerCase()),!0),"\n        </div>\n        <span>\n            ")).call(r,i.localize(s),"\n            ")).call(n,a?"(".concat(i.localize(a),")"):"",'\n        </span>\n        <div class="history-item-checkbox">\n            ')).call(t,o(["normal"],"history-check",!0),"\n        </div>\n    </div>\n")}({locale:this.locale,makeSvgIcon:this.makeSvgIcon,name:t,detail:n}),i=this.makeListItemElement(r);this.pushListItemElement(i),this._historyIndex=this.getListLength()-1,this._selectItem(this._historyIndex)}},{key:"init",value:function(){this.deleteListItemElement(1,this.getListLength()),this._historyIndex=0,this._selectItem(this._historyIndex)}},{key:"clear",value:function(){this.deleteListItemElement(0,this.getListLength()),this._historyIndex=-1}},{key:"prev",value:function(){this._historyIndex-=1,this._selectItem(this._historyIndex)}},{key:"next",value:function(){this._historyIndex+=1,this._selectItem(this._historyIndex)}},{key:"_hasDisabledItem",value:function(){return this.getListLength()-1>this._historyIndex}},{key:"_addHistoryEventListener",value:function(){var e=this;this._eventHandler.history=function(t){return e._clickHistoryItem(t)},this.listElement.addEventListener("click",this._eventHandler.history)}},{key:"_removeHistoryEventListener",value:function(){this.listElement.removeEventListener("click",this._eventHandler.history)}},{key:"_clickHistoryItem",value:function(e){var t=e.target.closest(".".concat("history-item"));if(t){var n=Oi()(t.getAttribute("data-index"),10);if(n!==this._historyIndex){var r=Math.abs(n-this._historyIndex);n<this._historyIndex?this._actions.undo(r):this._actions.redo(r)}}}},{key:"_selectItem",value:function(e){for(var t=0;t<this.getListLength();t+=1)this.removeClass(t,Li),this.removeClass(t,Ni),t>e&&this.addClass(t,Ni);this.addClass(e,Li)}},{key:"destroy",value:function(){this.removeEvent(),Ln(this)}},{key:"addEvent",value:function(e){this._actions=e,this._addHistoryEventListener()}},{key:"removeEvent",value:function(){this._removeHistoryEventListener()}}]),n}(function(){function e(t,n){var r=n.name;A(this,e),this.name=r,this.items=[],this.panelElement=this._makePanelElement(),this.listElement=this._makeListElement(),this.panelElement.appendChild(this.listElement),t.appendChild(this.panelElement)}return I(e,[{key:"_makePanelElement",value:function(){var e=document.createElement("div");return e.className="tie-panel-".concat(this.name),e}},{key:"_makeListElement",value:function(){var e=document.createElement("ol");return e.className="".concat(this.name,"-list"),e}},{key:"makeListItemElement",value:function(e){var t=document.createElement("li");return t.innerHTML=e,t.className="".concat(this.name,"-item"),t.setAttribute("data-index",this.items.length),t}},{key:"pushListItemElement",value:function(e){this.listElement.appendChild(e),this.listElement.scrollTop+=e.offsetHeight,this.items.push(e)}},{key:"deleteListItemElement",value:function(e,t){for(var n=this.items,r=e;r<t;r+=1)this.listElement.removeChild(n[r]);a()(n).call(n,e,t-e+1)}},{key:"getListLength",value:function(){return this.items.length}},{key:"addClass",value:function(e,t){this.items[e]&&this.items[e].classList.add(t)}},{key:"removeClass",value:function(e,t){this.items[e]&&this.items[e].classList.remove(t)}},{key:"toggleClass",value:function(e,t){this.items[e]&&this.items[e].classList.toggle(t)}}]),e}()),Fi=Bi,zi=function(){function e(t){A(this,e),this._locale=t}return I(e,[{key:"localize",value:function(e){return this._locale[e]||e}}]),e}(),Vi=zi,Wi={Shape:Wr,Crop:Yr,Resize:Zr,Flip:ei,Rotate:ii,Text:li,Mask:hi,Icon:gi,Draw:wi,Filter:Di},Hi="history",Ui="on",$i="zoomIn",Yi="hand",Gi=function(){function e(t,n,r){A(this,e),this.options=this._initializeOption(n),this._actions=r,this.submenu=!1,this.imageSize={},this.uiSize={},this._locale=new Vi(this.options.locale),this.theme=new fr(this.options.theme),this.eventHandler={},this._submenuChangeTransection=!1,this._selectedElement=null,this._mainElement=null,this._editorElementWrap=null,this._editorElement=null,this._menuBarElement=null,this._subMenuElement=null,this._makeUiElement(t),this._setUiSize(),this._initMenuEvent=!1,this._makeSubMenu(),this._attachHistoryEvent(),this._attachZoomEvent()}return I(e,[{key:"destroy",value:function(){this._removeUiEvent(),this._destroyAllMenu(),this._selectedElement.innerHTML="",Ln(this)}},{key:"setUiDefaultSelectionStyle",value:function(e){return F()({applyCropSelectionStyle:!0,applyGroupSelectionStyle:!0,selectionStyle:{cornerStyle:"circle",cornerSize:16,cornerColor:"#fff",cornerStrokeColor:"#fff",transparentCorners:!1,lineWidth:2,borderColor:"#fff"}},e)}},{key:"resizeEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uiSize,n=e.imageSize,r=void 0===n?this.imageSize:n;r!==this.imageSize&&(this.imageSize=r),t&&this._setUiSize(t);var i=this._getCanvasMaxDimension(),o=i.width,s=i.height,a=this._editorElement.style,l=this.options.menuBarPosition;a.height="".concat(s,"px"),a.width="".concat(o,"px"),this._setEditorPosition(l),this._editorElementWrap.style.bottom="0px",this._editorElementWrap.style.top="0px",this._editorElementWrap.style.left="0px",this._editorElementWrap.style.width="100%";var c=this._selectedElement.classList;"top"===l&&this._selectedElement.offsetWidth<"1300"?c.add("tui-image-editor-top-optimization"):c.remove("tui-image-editor-top-optimization")}},{key:"toggleZoomButtonStatus",value:function(e){this._buttonElements[e].classList.toggle(Ui),e===$i?this._buttonElements[Yi].classList.remove(Ui):this._buttonElements[$i].classList.remove(Ui)}},{key:"offZoomInButtonStatus",value:function(){this._buttonElements[$i].classList.remove(Ui)}},{key:"changeHandButtonStatus",value:function(e){this._buttonElements[Yi].classList[e?"add":"remove"](Ui)}},{key:"changeHelpButtonEnabled",value:function(e,t){this._buttonElements[e].classList[t?"add":"remove"]("enabled")}},{key:"_initializeOption",value:function(e){return F()({loadImage:{path:"",name:""},locale:{},menuIconPath:"",menu:["resize","crop","flip","rotate","draw","shape","icon","text","mask","filter"],initMenu:"",uiSize:{width:"100%",height:"100%"},menuBarPosition:"bottom"},e)}},{key:"_setUiSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.uiSize,t=this._selectedElement.style;t.width=e.width,t.height=e.height}},{key:"_makeSubMenu",value:function(){var e=this;H()(this.options.menu,(function(t){var n,r=Wi[t.replace(/^[a-z]/,(function(e){return e.toUpperCase()}))];e._makeMenuElement(t),e._buttonElements[t]=e._menuBarElement.querySelector(".tie-btn-".concat(t)),e[t]=new r(e._subMenuElement,{locale:e._locale,makeSvgIcon:E()(n=e.theme.makeMenSvgIconSet).call(n,e.theme),menuBarPosition:e.options.menuBarPosition,usageStatistics:e.options.usageStatistics})}))}},{key:"_attachHistoryEvent",value:function(){var e,t,n;this.on(ot,E()(e=this._addHistory).call(e,this)),this.on(st,E()(t=this._selectPrevHistory).call(t,this)),this.on(at,E()(n=this._selectNextHistory).call(n,this))}},{key:"_attachZoomEvent",value:function(){var e=this;this.on(ct,(function(){e.offZoomInButtonStatus(),e.changeHandButtonStatus(!0)})),this.on(ut,(function(){return e.changeHandButtonStatus(!1)}))}},{key:"_makeUiElement",value:function(e){var t,n;n=e.nodeType?e:document.querySelector(e);var r,i=(r=n,function(e){return r.querySelector(e)});n.classList.add("tui-image-editor-container"),n.innerHTML=function(e){var t,n,r,i,o,s,a=e.locale,l=e.biImage,c=e.loadButtonStyle,u=e.downloadButtonStyle,d=e.menuBarPosition;return D()(t=D()(n=D()(r=D()(i=D()(o='\n    <ul class="tui-image-editor-help-menu '.concat((s=d,"top"===s?"bottom":"left"===s?"right":"right"===s?"left":"top"),'"></ul>\n    <div class="tui-image-editor-controls">\n        <div class="tui-image-editor-controls-logo">\n            <img src="')).call(o,l,'" />\n        </div>\n        <ul class="tui-image-editor-menu"></ul>\n\n        <div class="tui-image-editor-controls-buttons">\n            <div style="')).call(i,c,'">\n                ')).call(r,a.localize("Load"),'\n                <input type="file" class="tui-image-editor-load-btn" />\n            </div>\n            <button class="tui-image-editor-download-btn" style="')).call(n,u,'">\n                ')).call(t,a.localize("Download"),"\n            </button>\n        </div>\n    </div>\n")}({locale:this._locale,biImage:this.theme.getStyle("common.bi"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),menuBarPosition:this.options.menuBarPosition})+function(e){var t,n,r,i,o,s,a,l=e.locale,c=e.biImage,u=e.commonStyle,d=e.headerStyle,h=e.loadButtonStyle,f=e.downloadButtonStyle,p=e.submenuStyle;return D()(t=D()(n=D()(r=D()(i=D()(o=D()(s=D()(a='\n    <div class="tui-image-editor-main-container" style="'.concat(u,'">\n        <div class="tui-image-editor-header" style="')).call(a,d,'">\n            <div class="tui-image-editor-header-logo">\n                <img src="')).call(s,c,'" />\n            </div>\n            <div class="tui-image-editor-header-buttons">\n                <div style="')).call(o,h,'">\n                    ')).call(i,l.localize("Load"),'\n                    <input type="file" class="tui-image-editor-load-btn" />\n                </div>\n                <button class="tui-image-editor-download-btn" style="')).call(r,f,'">\n                    ')).call(n,l.localize("Download"),'\n                </button>\n            </div>\n        </div>\n        <div class="tui-image-editor-main">\n            <div class="tui-image-editor-submenu">\n                <div class="tui-image-editor-submenu-style" style="')).call(t,p,'"></div>\n            </div>\n            <div class="tui-image-editor-wrap">\n                <div class="tui-image-editor-size-wrap">\n                    <div class="tui-image-editor-align-wrap">\n                        <div class="tui-image-editor"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n')}({locale:this._locale,biImage:this.theme.getStyle("common.bi"),commonStyle:this.theme.getStyle("common"),headerStyle:this.theme.getStyle("header"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),submenuStyle:this.theme.getStyle("submenu")}),this._selectedElement=n,this._selectedElement.classList.add(this.options.menuBarPosition),this._mainElement=i(".tui-image-editor-main"),this._editorElementWrap=i(".tui-image-editor-wrap"),this._editorElement=i(".tui-image-editor"),this._helpMenuBarElement=i(".tui-image-editor-help-menu"),this._menuBarElement=i(".tui-image-editor-menu"),this._subMenuElement=i(".tui-image-editor-submenu"),this._buttonElements={download:this._selectedElement.querySelectorAll(".tui-image-editor-download-btn"),load:this._selectedElement.querySelectorAll(".tui-image-editor-load-btn")},this._addHelpMenus(),this._historyMenu=new Fi(this._buttonElements[Hi],{locale:this._locale,makeSvgIcon:E()(t=this.theme.makeMenSvgIconSet).call(t,this.theme)}),this._activateZoomMenus()}},{key:"_activateZoomMenus",value:function(){var e=this;H()(ue,(function(t){e.changeHelpButtonEnabled(t,!0)}))}},{key:"_makeHelpMenuWithPartition",value:function(){var e;return D()(e=[]).call(e,C(ue),[""],C(de),[""],C(he))}},{key:"_addHelpMenus",value:function(){var e=this,t=this._makeHelpMenuWithPartition();H()(t,(function(t){t?(e._makeMenuElement(t,["normal","disabled","hover"],"help"),e._buttonElements[t]=e._helpMenuBarElement.querySelector(".tie-btn-".concat(t))):e._makeMenuPartitionElement()}))}},{key:"_makeMenuPartitionElement",value:function(){var e=document.createElement("li"),t=document.createElement("div");e.className=Nn("item"),t.className=Nn("icpartition"),e.appendChild(t),this._helpMenuBarElement.appendChild(e)}},{key:"_makeMenuElement",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["normal","active","hover"],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal",o=document.createElement("li"),s=this.theme.makeMenSvgIconSet(r,e);this._addTooltipAttribute(o,e),o.className=D()(t=D()(n="tie-btn-".concat(e," ")).call(n,Nn("item")," ")).call(t,i),o.innerHTML=s,"normal"===i?this._menuBarElement.appendChild(o):this._helpMenuBarElement.appendChild(o)}},{key:"_addHelpActionEvent",value:function(){var e=this;H()(fe,(function(t){e.eventHandler[t]=function(n){return e._actions.main[t](n)},e._buttonElements[t].addEventListener("click",e.eventHandler[t])}))}},{key:"_removeHelpActionEvent",value:function(){var e=this;H()(fe,(function(t){e._buttonElements[t].removeEventListener("click",e.eventHandler[t])}))}},{key:"_addHistory",value:function(e){if(!function(e){return"string"===typeof e?xe===e:xe===e.name}(e)){var t="string"===typeof e?{name:e}:function(e){var t,n,r,i=_e,o=Ce,s=De,a=Ae,l=Te,c=Pe,u=Me,h=Oe,f=we,p=Re,m=Se,g=ze,v=e.name,b=e.args;switch(v){case i:r={name:v,detail:"reset"===b[1]?b[1]:d()(t=b[1]).call(t,4)};break;case o:r={name:v,detail:b[2]};break;case a:r={name:Ct,detail:$n(b[1],b[2])};break;case l:r={name:kt,detail:"Remove"};break;case c:r={name:St,detail:"Change"};break;case u:r={name:At,detail:"Change"};break;case h:r={name:It,detail:"Change"};break;case m:r={name:Mt,detail:b[2]};break;case f:r={name:Et,detail:"All"};break;case p:r={name:wt,detail:"Add"};break;case s:r={name:Tt};break;case g:r={name:_t,detail:D()(n="".concat(~~b[1].width,"x")).call(n,~~b[1].height)};break;default:r={name:v}}return"mask"===b[1]&&(r={name:yt,detail:"Apply"}),r}(e);this._historyMenu.add(t)}}},{key:"initHistory",value:function(){this._historyMenu.init()}},{key:"clearHistory",value:function(){this._historyMenu.clear()}},{key:"_selectPrevHistory",value:function(){this._historyMenu.prev()}},{key:"_selectNextHistory",value:function(){this._historyMenu.next()}},{key:"toggleHistoryMenu",value:function(e){e.target.closest(".".concat("tie-panel-history"))||this._buttonElements[Hi].classList.toggle("opened")}},{key:"_addTooltipAttribute",value:function(e,t){e.setAttribute("tooltip-content",this._locale.localize(t.replace(/^[a-z]/g,(function(e){return e.toUpperCase()}))))}},{key:"_addDownloadEvent",value:function(){var e=this;this.eventHandler.download=function(){return e._actions.main.download()},H()(this._buttonElements.download,(function(t){t.addEventListener("click",e.eventHandler.download)}))}},{key:"_removeDownloadEvent",value:function(){var e=this;H()(this._buttonElements.download,(function(t){t.removeEventListener("click",e.eventHandler.download)}))}},{key:"_addLoadEvent",value:function(){var e=this;this.eventHandler.loadImage=function(t){return e._actions.main.load(t.target.files[0])},H()(this._buttonElements.load,(function(t){t.addEventListener("change",e.eventHandler.loadImage)}))}},{key:"_removeLoadEvent",value:function(){var e=this;H()(this._buttonElements.load,(function(t){t.removeEventListener("change",e.eventHandler.loadImage)}))}},{key:"_addMainMenuEvent",value:function(e){var t=this;this.eventHandler[e]=function(){return t.changeMenu(e)},this._buttonElements[e].addEventListener("click",this.eventHandler[e])}},{key:"_addSubMenuEvent",value:function(e){var t=this;this[e].addEvent(this._actions[e]),this[e].on(ft,(function(){return t.fire(ft)})),this[e].on(pt,(function(){return t.fire(pt)}))}},{key:"_addMenuEvent",value:function(){var e=this;H()(this.options.menu,(function(t){e._addMainMenuEvent(t),e._addSubMenuEvent(t)}))}},{key:"_removeMainMenuEvent",value:function(){var e=this;H()(this.options.menu,(function(t){e._buttonElements[t].removeEventListener("click",e.eventHandler[t]),e[t].off(ft),e[t].off(pt)}))}},{key:"getEditorArea",value:function(){return this._editorElement}},{key:"activeMenuEvent",value:function(){this._initMenuEvent||(this._addHelpActionEvent(),this._addDownloadEvent(),this._addMenuEvent(),this._initMenu(),this._historyMenu.addEvent(this._actions.history),this._initMenuEvent=!0)}},{key:"_removeUiEvent",value:function(){this._removeHelpActionEvent(),this._removeDownloadEvent(),this._removeLoadEvent(),this._removeMainMenuEvent(),this._historyMenu.removeEvent()}},{key:"_destroyAllMenu",value:function(){var e=this;H()(this.options.menu,(function(t){e[t].destroy()})),this._historyMenu.destroy()}},{key:"initCanvas",value:function(){var e=this,t=this._getLoadImage();t.path&&this._actions.main.initLoadImage(t.path,t.name).then((function(){e.activeMenuEvent()})),this._addLoadEvent();var n=document.createElement("div");n.className=Nn("grid-visual"),n.innerHTML='<table>\n           <tr><td class="dot left-top"></td><td></td><td class="dot right-top"></td></tr>\n           <tr><td></td><td></td><td></td></tr>\n           <tr><td class="dot left-bottom"></td><td></td><td class="dot right-bottom"></td></tr>\n         </table>',this._editorContainerElement=this._editorElement.querySelector(".tui-image-editor-canvas-container"),this._editorContainerElement.appendChild(n)}},{key:"_getLoadImage",value:function(){return this.options.loadImage}},{key:"changeMenu",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._submenuChangeTransection||(this._submenuChangeTransection=!0,this._changeMenu(e,t,n),this._submenuChangeTransection=!1)}},{key:"_changeMenu",value:function(e,t,n){this.submenu&&(this._buttonElements[this.submenu].classList.remove("active"),this._mainElement.classList.remove("tui-image-editor-menu-".concat(this.submenu)),n&&this._actions.main.discardSelection(),this._actions.main.changeSelectableAll(!0),this[this.submenu].changeStandbyMode()),this.submenu===e&&t?this.submenu=null:(this._buttonElements[e].classList.add("active"),this._mainElement.classList.add("tui-image-editor-menu-".concat(e)),this.submenu=e,this[this.submenu].changeStartMode()),this.resizeEditor()}},{key:"_initMenu",value:function(){if(this.options.initMenu){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!1),this._buttonElements[this.options.initMenu].dispatchEvent(e)}this.icon&&this.icon.registerDefaultIcon()}},{key:"_getCanvasMaxDimension",value:function(){var e=this._editorContainerElement.style,t=e.maxWidth,n=e.maxHeight;return{width:ar()(t),height:ar()(n)}}},{key:"_setEditorPosition",value:function(e){var t=this._getCanvasMaxDimension(),n=t.width,r=t.height,i=this._editorElement.style,o=0,s=0;this.submenu&&("bottom"===e?o=r>this._editorElementWrap.scrollHeight-150?(r-this._editorElementWrap.scrollHeight)/2:-75:"top"===e?o=r>this._editorElementWrap.offsetHeight-150?75-(r-(this._editorElementWrap.offsetHeight-150))/2:75:"left"===e?s=n>this._editorElementWrap.offsetWidth-248?124-(n-(this._editorElementWrap.offsetWidth-248))/2:124:"right"===e&&(s=n>this._editorElementWrap.scrollWidth-248?(n-this._editorElementWrap.scrollWidth)/2:-124)),i.top="".concat(o,"px"),i.left="".concat(s,"px")}}]),e}();$().mixin(Gi);var qi=Gi,Xi=r(381),Zi=r.n(Xi),Ki=function(){function e(){A(this,e),this.versionnumber="1.2.4",this.optionpresets={default:{corsenabled:!1,ltres:1,qtres:1,pathomit:8,rightangleenhance:!0,colorsampling:2,numberofcolors:16,mincolorratio:0,colorquantcycles:3,layering:0,strokewidth:1,linefilter:!1,scale:1,roundcoords:1,viewbox:!1,desc:!1,lcpr:0,qcpr:0,blurradius:0,blurdelta:20},posterized1:{colorsampling:0,numberofcolors:2},posterized2:{numberofcolors:4,blurradius:5},curvy:{ltres:.01,linefilter:!0,rightangleenhance:!1},sharp:{qtres:.01,linefilter:!1},detailed:{pathomit:0,roundcoords:2,ltres:.5,qtres:.5,numberofcolors:64},smoothed:{blurradius:5,blurdelta:64},grayscale:{colorsampling:0,colorquantcycles:1,numberofcolors:7},fixedpalette:{colorsampling:0,colorquantcycles:1,numberofcolors:27},randomsampling1:{colorsampling:1,numberofcolors:8},randomsampling2:{colorsampling:1,numberofcolors:64},artistic1:{colorsampling:0,colorquantcycles:1,pathomit:0,blurradius:5,blurdelta:64,ltres:.01,linefilter:!0,numberofcolors:16,strokewidth:2},artistic2:{qtres:.01,colorsampling:0,colorquantcycles:1,numberofcolors:4,strokewidth:0},artistic3:{qtres:10,ltres:10,numberofcolors:8},artistic4:{qtres:10,ltres:10,numberofcolors:64,blurradius:5,blurdelta:256,strokewidth:2},posterized3:{ltres:1,qtres:1,pathomit:20,rightangleenhance:!0,colorsampling:0,numberofcolors:3,mincolorratio:0,colorquantcycles:3,blurradius:3,blurdelta:20,strokewidth:0,linefilter:!1,roundcoords:1,pal:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}},this.pathscan_combined_lookup=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]],this.gks=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]],this.specpalette=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}]}return I(e,[{key:"imageToSVG",value:function(e,t,n){var r=this;n=this.checkoptions(n),this.loadImage(e,(function(e){t(r.imagedataToSVG(r.getImgdata(e),n))}),n)}},{key:"imagedataToSVG",value:function(e,t){t=this.checkoptions(t);var n=this.imagedataToTracedata(e,t);return this.getsvgstring(n,t)}},{key:"imageToTracedata",value:function(e,t,n){var r=this;n=this.checkoptions(n),this.loadImage(e,(function(e){t(r.imagedataToTracedata(r.getImgdata(e),n))}),n)}},{key:"imagedataToTracedata",value:function(e,t){t=this.checkoptions(t);var n,r=this.colorquantization(e,t);if(0===t.layering){n={layers:[],palette:r.palette,width:r.array[0].length-2,height:r.array.length-2};for(var i=0;i<r.palette.length;i+=1){var o=this.batchtracepaths(this.internodes(this.pathscan(this.layeringstep(r,i),t.pathomit),t),t.ltres,t.qtres);n.layers.push(o)}}else{var s=this.layering(r);t.layercontainerid&&this.drawLayers(s,this.specpalette,t.scale,t.layercontainerid);var a=this.batchpathscan(s,t.pathomit),l=this.batchinternodes(a,t);n={layers:this.batchtracelayers(l,t.ltres,t.qtres),palette:r.palette,width:e.width,height:e.height}}return n}},{key:"checkoptions",value:function(e){"string"===typeof(e=e||{})&&(e=e.toLowerCase(),e=this.optionpresets[e]?this.optionpresets[e]:{});for(var t=X()(this.optionpresets.default),n=0;n<t.length;n+=1)e.hasOwnProperty(t[n])||(e[t[n]]=this.optionpresets.default[t[n]]);return e}},{key:"colorquantization",value:function(e,t){var n,r,i,o,s,a,l,c,u=[],d=0,h=[],f=e.width*e.height;for(s=0;s<e.height+2;s+=1)for(u[s]=[],o=0;o<e.width+2;o+=1)u[s][o]=-1;for(c=t.pal?t.pal:0===t.colorsampling?this.generatepalette(t.numberofcolors):1===t.colorsampling?this.samplepalette(t.numberofcolors,e):this.samplepalette2(t.numberofcolors,e),t.blurradius>0&&(e=this.blur(e,t.blurradius,t.blurdelta)),l=0;l<t.colorquantcycles;l+=1){if(l>0)for(a=0;a<c.length;a+=1)h[a].n>0&&(c[a]={r:Math.floor(h[a].r/h[a].n),g:Math.floor(h[a].g/h[a].n),b:Math.floor(h[a].b/h[a].n),a:Math.floor(h[a].a/h[a].n)}),h[a].n/f<t.mincolorratio&&l<t.colorquantcycles-1&&(c[a]={r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())});for(o=0;o<c.length;o+=1)h[o]={r:0,g:0,b:0,a:0,n:0};for(s=0;s<e.height;s+=1)for(o=0;o<e.width;o+=1){for(d=4*(s*e.width+o),i=0,r=1024,a=0;a<c.length;a+=1)(n=Math.abs(c[a].r-e.data[d])+Math.abs(c[a].g-e.data[d+1])+Math.abs(c[a].b-e.data[d+2])+Math.abs(c[a].a-e.data[d+3]))<r&&(r=n,i=a);h[i].r+=e.data[d],h[i].g+=e.data[d+1],h[i].b+=e.data[d+2],h[i].a+=e.data[d+3],h[i].n+=1,u[s+1][o+1]=i}}return{array:u,palette:c}}},{key:"samplepalette",value:function(e,t){for(var n,r=[],i=0;i<e;i+=1)n=4*Math.floor(Math.random()*t.data.length/4),r.push({r:t.data[n],g:t.data[n+1],b:t.data[n+2],a:t.data[n+3]});return r}},{key:"samplepalette2",value:function(e,t){for(var n,r=[],i=Math.ceil(Math.sqrt(e)),o=Math.ceil(e/i),s=t.width/(i+1),a=t.height/(o+1),l=0;l<o;l+=1)for(var c=0;c<i&&r.length!==e;c+=1)n=4*Math.floor((l+1)*a*t.width+(c+1)*s),r.push({r:t.data[n],g:t.data[n+1],b:t.data[n+2],a:t.data[n+3]});return r}},{key:"generatepalette",value:function(e){var t,n,r,i=[];if(e<8)for(var o=Math.floor(255/(e-1)),s=0;s<e;s+=1)i.push({r:s*o,g:s*o,b:s*o,a:255});else{var a=Math.floor(Math.pow(e,1/3)),l=Math.floor(255/(a-1)),c=e-a*a*a;for(t=0;t<a;t+=1)for(n=0;n<a;n+=1)for(r=0;r<a;r+=1)i.push({r:t*l,g:n*l,b:r*l,a:255});for(t=0;t<c;t+=1)i.push({r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())})}return i}},{key:"layering",value:function(e){var t,n,r,i,o,s,a,l,c,u,d,h=[],f=0,p=e.array.length,m=e.array[0].length;for(d=0;d<e.palette.length;d+=1)for(h[d]=[],u=0;u<p;u+=1)for(h[d][u]=[],c=0;c<m;c+=1)h[d][u][c]=0;for(u=1;u<p-1;u+=1)for(c=1;c<m-1;c+=1)f=e.array[u][c],t=e.array[u-1][c-1]===f?1:0,n=e.array[u-1][c]===f?1:0,r=e.array[u-1][c+1]===f?1:0,i=e.array[u][c-1]===f?1:0,o=e.array[u][c+1]===f?1:0,s=e.array[u+1][c-1]===f?1:0,a=e.array[u+1][c]===f?1:0,l=e.array[u+1][c+1]===f?1:0,h[f][u+1][c+1]=1+2*o+4*l+8*a,i||(h[f][u+1][c]=2+4*a+8*s),n||(h[f][u][c+1]=0+2*r+4*o+8),t||(h[f][u][c]=0+2*n+4+8*i);return h}},{key:"layeringstep",value:function(e,t){var n,r,i=[],o=e.array.length,s=e.array[0].length;for(r=0;r<o;r+=1)for(i[r]=[],n=0;n<s;n+=1)i[r][n]=0;for(r=1;r<o;r+=1)for(n=1;n<s;n+=1)i[r][n]=(e.array[r-1][n-1]===t?1:0)+(e.array[r-1][n]===t?2:0)+(e.array[r][n-1]===t?8:0)+(e.array[r][n]===t?4:0);return i}},{key:"pathscan",value:function(e,t){for(var n,r=[],i=0,o=0,s=0,a=0,l=e[0].length,c=e.length,u=0,d=!0,h=!1,f=0;f<c;f+=1)for(var p=0;p<l;p+=1)if(4===e[f][p]||11===e[f][p])for(s=p,a=f,r[i]={},r[i].points=[],r[i].boundingbox=[s,a,s,a],r[i].holechildren=[],d=!1,o=0,h=11===e[f][p],u=1;!d;){if(r[i].points[o]={},r[i].points[o].x=s-1,r[i].points[o].y=a-1,r[i].points[o].t=e[a][s],s-1<r[i].boundingbox[0]&&(r[i].boundingbox[0]=s-1),s-1>r[i].boundingbox[2]&&(r[i].boundingbox[2]=s-1),a-1<r[i].boundingbox[1]&&(r[i].boundingbox[1]=a-1),a-1>r[i].boundingbox[3]&&(r[i].boundingbox[3]=a-1),n=this.pathscan_combined_lookup[e[a][s]][u],e[a][s]=n[0],u=n[1],s+=n[2],a+=n[3],s-1===r[i].points[0].x&&a-1===r[i].points[0].y)if(d=!0,r[i].points.length<t)r.pop();else{if(r[i].isholepath=!!h,h){for(var m=0,g=[-1,-1,l+1,c+1],v=0;v<i;v++)!r[v].isholepath&&this.boundingboxincludes(r[v].boundingbox,r[i].boundingbox)&&this.boundingboxincludes(g,r[v].boundingbox)&&(m=v,g=r[v].boundingbox);r[m].holechildren.push(i)}i+=1}o+=1}return r}},{key:"boundingboxincludes",value:function(e,t){return e[0]<t[0]&&e[1]<t[1]&&e[2]>t[2]&&e[3]>t[3]}},{key:"batchpathscan",value:function(e,t){var n=[];for(var r in e)e.hasOwnProperty(r)&&(n[r]=this.pathscan(e[r],t));return n}},{key:"internodes",value:function(e,t){var n,r,i=[],o=0,s=0,a=0,l=0,c=0;for(n=0;n<e.length;n+=1)for(i[n]={},i[n].points=[],i[n].boundingbox=e[n].boundingbox,i[n].holechildren=e[n].holechildren,i[n].isholepath=e[n].isholepath,o=e[n].points.length,r=0;r<o;r+=1)s=(r+1)%o,a=(r+2)%o,l=(r-1+o)%o,c=(r-2+o)%o,t.rightangleenhance&&this.testrightangle(e[n],c,l,r,s,a)&&(i[n].points.length>0&&(i[n].points[i[n].points.length-1].linesegment=this.getdirection(i[n].points[i[n].points.length-1].x,i[n].points[i[n].points.length-1].y,e[n].points[r].x,e[n].points[r].y)),i[n].points.push({x:e[n].points[r].x,y:e[n].points[r].y,linesegment:this.getdirection(e[n].points[r].x,e[n].points[r].y,(e[n].points[r].x+e[n].points[s].x)/2,(e[n].points[r].y+e[n].points[s].y)/2)})),i[n].points.push({x:(e[n].points[r].x+e[n].points[s].x)/2,y:(e[n].points[r].y+e[n].points[s].y)/2,linesegment:this.getdirection((e[n].points[r].x+e[n].points[s].x)/2,(e[n].points[r].y+e[n].points[s].y)/2,(e[n].points[s].x+e[n].points[a].x)/2,(e[n].points[s].y+e[n].points[a].y)/2)});return i}},{key:"testrightangle",value:function(e,t,n,r,i,o){return e.points[r].x===e.points[t].x&&e.points[r].x===e.points[n].x&&e.points[r].y===e.points[i].y&&e.points[r].y===e.points[o].y||e.points[r].y===e.points[t].y&&e.points[r].y===e.points[n].y&&e.points[r].x===e.points[i].x&&e.points[r].x===e.points[o].x}},{key:"getdirection",value:function(e,t,n,r){return e<n?t<r?1:t>r?7:0:e>n?t<r?3:t>r?5:4:t<r?2:t>r?6:8}},{key:"batchinternodes",value:function(e,t){var n=[];for(var r in e)e.hasOwnProperty(r)&&(n[r]=this.internodes(e[r],t));return n}},{key:"tracepath",value:function(e,t,n){var r,i,o,s=0,a={segments:[]};for(a.boundingbox=e.boundingbox,a.holechildren=e.holechildren,a.isholepath=e.isholepath;s<e.points.length;){var l;for(r=e.points[s].linesegment,i=-1,o=s+1;(e.points[o].linesegment===r||e.points[o].linesegment===i||-1===i)&&o<e.points.length-1;)e.points[o].linesegment!==r&&-1===i&&(i=e.points[o].linesegment),o+=1;o===e.points.length-1&&(o=0),a.segments=D()(l=a.segments).call(l,this.fitseq(e,t,n,s,o)),s=o>0?o:e.points.length}return a}},{key:"fitseq",value:function(e,t,n,r,i){var o;if(i>e.points.length||i<0)return[];var s,a,l,c=r,u=0,d=!0,h=i-r;h<0&&(h+=e.points.length);for(var f,p=(e.points[i].x-e.points[r].x)/h,m=(e.points[i].y-e.points[r].y)/h,g=(r+1)%e.points.length;g!=i;)(f=g-r)<0&&(f+=e.points.length),s=e.points[r].x+p*f,a=e.points[r].y+m*f,(l=(e.points[g].x-s)*(e.points[g].x-s)+(e.points[g].y-a)*(e.points[g].y-a))>t&&(d=!1),l>u&&(c=g,u=l),g=(g+1)%e.points.length;if(d)return[{type:"L",x1:e.points[r].x,y1:e.points[r].y,x2:e.points[i].x,y2:e.points[i].y}];var v=c;d=!0,u=0;var b=(v-r)/h,y=(1-b)*(1-b),w=2*(1-b)*b,x=b*b,_=(y*e.points[r].x+x*e.points[i].x-e.points[v].x)/-w,C=(y*e.points[r].y+x*e.points[i].y-e.points[v].y)/-w;for(g=r+1;g!=i;)w=2*(1-(b=(g-r)/h))*b,x=b*b,s=(y=(1-b)*(1-b))*e.points[r].x+w*_+x*e.points[i].x,a=y*e.points[r].y+w*C+x*e.points[i].y,(l=(e.points[g].x-s)*(e.points[g].x-s)+(e.points[g].y-a)*(e.points[g].y-a))>n&&(d=!1),l>u&&(c=g,u=l),g=(g+1)%e.points.length;if(d)return[{type:"Q",x1:e.points[r].x,y1:e.points[r].y,x2:_,y2:C,x3:e.points[i].x,y3:e.points[i].y}];var k=v;return D()(o=this.fitseq(e,t,n,r,k)).call(o,this.fitseq(e,t,n,k,i))}},{key:"batchtracepaths",value:function(e,t,n){var r=[];for(var i in e)e.hasOwnProperty(i)&&r.push(this.tracepath(e[i],t,n));return r}},{key:"batchtracelayers",value:function(e,t,n){var r=[];for(var i in e)e.hasOwnProperty(i)&&(r[i]=this.batchtracepaths(e[i],t,n));return r}},{key:"roundtodec",value:function(e,t){return Number(e.toFixed(t))}},{key:"svgpathstring",value:function(e,t,n,r){var i,o,s,a=e.layers[t],l=a[n],c="";if(r.linefilter&&l.segments.length<3)return c;if(c=D()(i="<path ".concat(r.desc?D()(o='desc="l '.concat(t," p ")).call(o,n,'" '):"")).call(i,this.tosvgcolorstr(e.palette[t],r),'d="'),-1===r.roundcoords){var u;for(c+=D()(u="M ".concat(l.segments[0].x1*r.scale," ")).call(u,l.segments[0].y1*r.scale," "),s=0;s<l.segments.length;s++){var d,h,f;c+=D()(d=D()(h="".concat(l.segments[s].type," ")).call(h,l.segments[s].x2*r.scale," ")).call(d,l.segments[s].y2*r.scale," "),l.segments[s].hasOwnProperty("x3")&&(c+=D()(f="".concat(l.segments[s].x3*r.scale," ")).call(f,l.segments[s].y3*r.scale," "))}c+="Z "}else{var p;for(c+=D()(p="M ".concat(this.roundtodec(l.segments[0].x1*r.scale,r.roundcoords)," ")).call(p,this.roundtodec(l.segments[0].y1*r.scale,r.roundcoords)," "),s=0;s<l.segments.length;s++){var m,g,v;c+=D()(m=D()(g="".concat(l.segments[s].type," ")).call(g,this.roundtodec(l.segments[s].x2*r.scale,r.roundcoords)," ")).call(m,this.roundtodec(l.segments[s].y2*r.scale,r.roundcoords)," "),l.segments[s].hasOwnProperty("x3")&&(c+=D()(v="".concat(this.roundtodec(l.segments[s].x3*r.scale,r.roundcoords)," ")).call(v,this.roundtodec(l.segments[s].y3*r.scale,r.roundcoords)," "))}c+="Z "}for(var b=0;b<l.holechildren.length;b++){var y,w,x,_,C=a[l.holechildren[b]];if(-1===r.roundcoords)for(C.segments[C.segments.length-1].hasOwnProperty("x3")?c+=D()(y="M ".concat(C.segments[C.segments.length-1].x3*r.scale," ")).call(y,C.segments[C.segments.length-1].y3*r.scale," "):c+=D()(w="M ".concat(C.segments[C.segments.length-1].x2*r.scale," ")).call(w,C.segments[C.segments.length-1].y2*r.scale," "),s=C.segments.length-1;s>=0;s--){var k,S;c+="".concat(C.segments[s].type," "),C.segments[s].hasOwnProperty("x3")&&(c+=D()(S="".concat(C.segments[s].x2*r.scale," ")).call(S,C.segments[s].y2*r.scale," ")),c+=D()(k="".concat(C.segments[s].x1*r.scale," ")).call(k,C.segments[s].y1*r.scale," ")}else for(C.segments[C.segments.length-1].hasOwnProperty("x3")?c+=D()(x="M ".concat(this.roundtodec(C.segments[C.segments.length-1].x3*r.scale)," ")).call(x,this.roundtodec(C.segments[C.segments.length-1].y3*r.scale)," "):c+=D()(_="M ".concat(this.roundtodec(C.segments[C.segments.length-1].x2*r.scale)," ")).call(_,this.roundtodec(C.segments[C.segments.length-1].y2*r.scale)," "),s=C.segments.length-1;s>=0;s--){var A,T;c+="".concat(C.segments[s].type," "),C.segments[s].hasOwnProperty("x3")&&(c+=D()(T="".concat(this.roundtodec(C.segments[s].x2*r.scale)," ")).call(T,this.roundtodec(C.segments[s].y2*r.scale)," ")),c+=D()(A="".concat(this.roundtodec(C.segments[s].x1*r.scale)," ")).call(A,this.roundtodec(C.segments[s].y1*r.scale)," ")}c+="Z "}if(c+='" />',r.lcpr||r.qcpr){for(s=0;s<l.segments.length;s++){var I,M,E,P,j,O,R,L,N,B,F,z,V,W,H,U,$;l.segments[s].hasOwnProperty("x3")&&r.qcpr&&(c+=D()(I=D()(M=D()(E='<circle cx="'.concat(l.segments[s].x2*r.scale,'" cy="')).call(E,l.segments[s].y2*r.scale,'" r="')).call(M,r.qcpr,'" fill="cyan" stroke-width="')).call(I,.2*r.qcpr,'" stroke="black" />'),c+=D()(P=D()(j=D()(O='<circle cx="'.concat(l.segments[s].x3*r.scale,'" cy="')).call(O,l.segments[s].y3*r.scale,'" r="')).call(j,r.qcpr,'" fill="white" stroke-width="')).call(P,.2*r.qcpr,'" stroke="black" />'),c+=D()(R=D()(L=D()(N=D()(B='<line x1="'.concat(l.segments[s].x1*r.scale,'" y1="')).call(B,l.segments[s].y1*r.scale,'" x2="')).call(N,l.segments[s].x2*r.scale,'" y2="')).call(L,l.segments[s].y2*r.scale,'" stroke-width="')).call(R,.2*r.qcpr,'" stroke="cyan" />'),c+=D()(F=D()(z=D()(V=D()(W='<line x1="'.concat(l.segments[s].x2*r.scale,'" y1="')).call(W,l.segments[s].y2*r.scale,'" x2="')).call(V,l.segments[s].x3*r.scale,'" y2="')).call(z,l.segments[s].y3*r.scale,'" stroke-width="')).call(F,.2*r.qcpr,'" stroke="cyan" />')),!l.segments[s].hasOwnProperty("x3")&&r.lcpr&&(c+=D()(H=D()(U=D()($='<circle cx="'.concat(l.segments[s].x2*r.scale,'" cy="')).call($,l.segments[s].y2*r.scale,'" r="')).call(U,r.lcpr,'" fill="white" stroke-width="')).call(H,.2*r.lcpr,'" stroke="black" />'))}for(b=0;b<l.holechildren.length;b++)for(C=a[l.holechildren[b]],s=0;s<C.segments.length;s++){var Y,G,q,X,Z,K,Q,J,ee,te,ne,re,ie,oe,se,ae,le;C.segments[s].hasOwnProperty("x3")&&r.qcpr&&(c+=D()(Y=D()(G=D()(q='<circle cx="'.concat(C.segments[s].x2*r.scale,'" cy="')).call(q,C.segments[s].y2*r.scale,'" r="')).call(G,r.qcpr,'" fill="cyan" stroke-width="')).call(Y,.2*r.qcpr,'" stroke="black" />'),c+=D()(X=D()(Z=D()(K='<circle cx="'.concat(C.segments[s].x3*r.scale,'" cy="')).call(K,C.segments[s].y3*r.scale,'" r="')).call(Z,r.qcpr,'" fill="white" stroke-width="')).call(X,.2*r.qcpr,'" stroke="black" />'),c+=D()(Q=D()(J=D()(ee=D()(te='<line x1="'.concat(C.segments[s].x1*r.scale,'" y1="')).call(te,C.segments[s].y1*r.scale,'" x2="')).call(ee,C.segments[s].x2*r.scale,'" y2="')).call(J,C.segments[s].y2*r.scale,'" stroke-width="')).call(Q,.2*r.qcpr,'" stroke="cyan" />'),c+=D()(ne=D()(re=D()(ie=D()(oe='<line x1="'.concat(C.segments[s].x2*r.scale,'" y1="')).call(oe,C.segments[s].y2*r.scale,'" x2="')).call(ie,C.segments[s].x3*r.scale,'" y2="')).call(re,C.segments[s].y3*r.scale,'" stroke-width="')).call(ne,.2*r.qcpr,'" stroke="cyan" />')),!C.segments[s].hasOwnProperty("x3")&&r.lcpr&&(c+=D()(se=D()(ae=D()(le='<circle cx="'.concat(C.segments[s].x2*r.scale,'" cy="')).call(le,C.segments[s].y2*r.scale,'" r="')).call(ae,r.lcpr,'" fill="white" stroke-width="')).call(se,.2*r.lcpr,'" stroke="black" />'))}}return c}},{key:"getsvgstring",value:function(e,t){var n,r,i;t=this.checkoptions(t);for(var o=e.width*t.scale,s=e.height*t.scale,a=D()(n="<svg ".concat(t.viewbox?D()(r='viewBox="0 0 '.concat(o," ")).call(r,s,'" '):D()(i='width="'.concat(o,'" height="')).call(i,s,'" '),'version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer.js version ')).call(n,this.versionnumber,'" >'),l=0;l<e.layers.length;l+=1)for(var c=0;c<e.layers[l].length;c+=1)e.layers[l][c].isholepath||(a+=this.svgpathstring(e,l,c,t));return a+="</svg>"}},{key:"compareNumbers",value:function(e,t){return e-t}},{key:"torgbastr",value:function(e){var t,n,r;return D()(t=D()(n=D()(r="rgba(".concat(e.r,",")).call(r,e.g,",")).call(n,e.b,",")).call(t,e.a,")")}},{key:"tosvgcolorstr",value:function(e,t){var n,r,i,o,s,a,l;return D()(n=D()(r=D()(i=D()(o=D()(s=D()(a=D()(l='fill="rgb('.concat(e.r,",")).call(l,e.g,",")).call(a,e.b,')" stroke="rgb(')).call(s,e.r,",")).call(o,e.g,",")).call(i,e.b,')" stroke-width="')).call(r,t.strokewidth,'" opacity="')).call(n,e.a/255,'" ')}},{key:"appendSVGString",value:function(e,t){var n;t?(n=document.getElementById(t))||((n=document.createElement("div")).id=t,document.body.appendChild(n)):(n=document.createElement("div"),document.body.appendChild(n)),n.innerHTML+=e}},{key:"blur",value:function(e,t,n){var r,i,o,s,a,l,c,u,d,h={width:e.width,height:e.height,data:[]};if((t=Math.floor(t))<1)return e;t>5&&(t=5),(n=Math.abs(n))>1024&&(n=1024);var f=this.gks[t-1];for(i=0;i<e.height;i++)for(r=0;r<e.width;r++){for(a=0,l=0,c=0,u=0,d=0,o=-t;o<t+1;o++)r+o>0&&r+o<e.width&&(s=4*(i*e.width+r+o),a+=e.data[s]*f[o+t],l+=e.data[s+1]*f[o+t],c+=e.data[s+2]*f[o+t],u+=e.data[s+3]*f[o+t],d+=f[o+t]);s=4*(i*e.width+r),h.data[s]=Math.floor(a/d),h.data[s+1]=Math.floor(l/d),h.data[s+2]=Math.floor(c/d),h.data[s+3]=Math.floor(u/d)}var p=new Uint8ClampedArray(h.data);for(i=0;i<e.height;i++)for(r=0;r<e.width;r++){for(a=0,l=0,c=0,u=0,d=0,o=-t;o<t+1;o++)i+o>0&&i+o<e.height&&(a+=p[s=4*((i+o)*e.width+r)]*f[o+t],l+=p[s+1]*f[o+t],c+=p[s+2]*f[o+t],u+=p[s+3]*f[o+t],d+=f[o+t]);s=4*(i*e.width+r),h.data[s]=Math.floor(a/d),h.data[s+1]=Math.floor(l/d),h.data[s+2]=Math.floor(c/d),h.data[s+3]=Math.floor(u/d)}for(i=0;i<e.height;i++)for(r=0;r<e.width;r++)s=4*(i*e.width+r),Math.abs(h.data[s]-e.data[s])+Math.abs(h.data[s+1]-e.data[s+1])+Math.abs(h.data[s+2]-e.data[s+2])+Math.abs(h.data[s+3]-e.data[s+3])>n&&(h.data[s]=e.data[s],h.data[s+1]=e.data[s+1],h.data[s+2]=e.data[s+2],h.data[s+3]=e.data[s+3]);return h}},{key:"loadImage",value:function(e,t,n){var r=new Image;n&&n.corsenabled&&(r.crossOrigin="Anonymous"),r.src=e,r.onload=function(){var e=document.createElement("canvas");e.width=r.width,e.height=r.height,e.getContext("2d").drawImage(r,0,0),t(e)}}},{key:"getImgdata",value:function(e){return e.getContext("2d").getImageData(0,0,e.width,e.height)}},{key:"drawLayers",value:function(e,t,n,r){var i,o,s,a,l,c;for(l in n=n||1,r?(c=document.getElementById(r))||((c=document.createElement("div")).id=r,document.body.appendChild(c)):(c=document.createElement("div"),document.body.appendChild(c)),e)if(e.hasOwnProperty(l)){i=e[l][0].length,o=e[l].length;var u=document.createElement("canvas");u.width=i*n,u.height=o*n;var d=u.getContext("2d");for(a=0;a<o;a+=1)for(s=0;s<i;s+=1)d.fillStyle=this.torgbastr(t[e[l][a][s]%t.length]),d.fillRect(s*n,a*n,n,n);c.appendChild(u)}}}],[{key:"tracerDefaultOption",value:function(){return{pathomit:100,ltres:.1,qtres:1,scale:1,strokewidth:5,viewbox:!1,linefilter:!0,desc:!1,rightangleenhance:!1,pal:[{r:0,g:0,b:0,a:255},{r:255,g:255,b:255,a:255}]}}}]),e}(),Qi={getActions:function(){return{main:this._mainAction(),shape:this._shapeAction(),crop:this._cropAction(),resize:this._resizeAction(),flip:this._flipAction(),rotate:this._rotateAction(),text:this._textAction(),mask:this._maskAction(),draw:this._drawAction(),icon:this._iconAction(),filter:this._filterAction(),history:this._historyAction()}},_mainAction:function(){var e=this,t=function(){"crop"===e.ui.submenu&&(e.stopDrawingMode(),e.ui.changeMenu("crop"))},n=function(t){var n,r;return n=t,"rotate"===e.ui.submenu&&e.ui.rotate.setRangeBarAngle("setAngle",n),r=t,"filter"===e.ui.submenu&&Zi()(e.ui).setFilterState(r),t},r=function(){Zi()(e.ui)&&Zi()(e.ui).initFilterCheckBoxState()};return F()({initLoadImage:function(n,r){return e.loadImageFromURL(n,r).then((function(r){t(),e.ui.initializeImgUrl=n,e.ui.resizeEditor({imageSize:r}),e.clearUndoStack(),e._invoker.fire(ot,bt)}))},undo:function(){e.isEmptyUndoStack()||(t(),e.deactivateAll(),e.undo().then(n))},redo:function(){e.isEmptyRedoStack()||(t(),e.deactivateAll(),e.redo().then(n))},reset:function(){t(),e.loadImageFromURL(e.ui.initializeImgUrl,"resetImage").then((function(n){t(),r(),e.ui.resizeEditor({imageSize:n}),e.clearUndoStack(),e._initHistory()}))},delete:function(){e.ui.changeHelpButtonEnabled("delete",!1),t(),e.removeActiveObject(),e.activeObjectId=null},deleteAll:function(){t(),e.clearObjects(),e.ui.changeHelpButtonEnabled("delete",!1),e.ui.changeHelpButtonEnabled("deleteAll",!1)},load:function(n){On()||alert("This browser does not support file-api"),e.ui.initializeImgUrl=L().createObjectURL(n),e.loadImageFromFile(n).then((function(n){t(),r(),e.clearUndoStack(),e.ui.activeMenuEvent(),e.ui.resizeEditor({imageSize:n}),e._clearHistory(),e._invoker.fire(ot,bt)})).catch((function(e){return O().reject(e)}))},download:function(){var t,n,r=e.toDataURL(),i=e.getImageName();On()&&window.saveAs?(n=(t=function(e){var t,n,r,i="";t=e.replace(/data:(image\/.+);base64,/,(function(e,t){return i=t,""}));var o=(t=atob(t)).length;for(n=new Uint8Array(o),r=0;r<o;r+=1)n[r]=t.charCodeAt(r);return new Blob([n],{type:i})}(r)).type.split("/")[1],i.split(".").pop()!==n&&(i+=".".concat(n)),saveAs(t,i)):window.open().document.body.innerHTML="<img src='".concat(r,"'>")},history:function(t){e.ui.toggleHistoryMenu(t)},zoomIn:function(){e.ui.toggleZoomButtonStatus("zoomIn"),e.deactivateAll(),function(){var t=e._graphics.getZoomMode();e.stopDrawingMode(),t!==Bt?(e.startDrawingMode(Pt.ZOOM),e._graphics.startZoomInMode()):e._graphics.endZoomInMode()}()},zoomOut:function(){e._graphics.zoomOut()},hand:function(){e.ui.offZoomInButtonStatus(),e.ui.toggleZoomButtonStatus("hand"),e.deactivateAll(),function(){var t=e._graphics.getZoomMode();e.stopDrawingMode(),t!==Ft?(e.startDrawingMode(Pt.ZOOM),e._graphics.startHandMode()):e._graphics.endHandMode()}()}},this._commonAction())},_iconAction:function(){var e=this;return F()({changeColor:function(t){e.activeObjectId&&e.changeIconColor(e.activeObjectId,t)},addIcon:function(t,n){e.startDrawingMode("ICON"),e.setDrawingIcon(t,n)},cancelAddIcon:function(){e.ui.icon.clearIconType(),e.changeSelectableAll(!0),e.changeCursor("default"),e.stopDrawingMode()},registerDefaultIcons:function(t,n){var r={};r[t]=n,e.registerIcons(r)},registerCustomIcon:function(t,n){(new Ki).imageToSVG(t,(function(t){var r=Z(t.match(/path[^>]*d="([^"]*)"/),2)[1],i={};i[n.name]=r,e.registerIcons(i),e.addIcon(n.name,{left:100,top:100})}),Ki.tracerDefaultOption())}},this._commonAction())},_drawAction:function(){var e=this;return F()({setDrawMode:function(t,n){e.stopDrawingMode(),"free"===t?e.startDrawingMode("FREE_DRAWING",n):e.startDrawingMode("LINE_DRAWING",n)},setColor:function(t){e.setBrush({color:t})}},this._commonAction())},_maskAction:function(){var e=this;return F()({loadImageFromURL:function(t,n){return e.loadImageFromURL(e.toDataURL(),"FilterImage").then((function(){e.addImageObject(t).then((function(){L().revokeObjectURL(n)})),e._invoker.fire(ot,yt)}))},applyFilter:function(){e.applyFilter("mask",{maskObjId:e.activeObjectId})}},this._commonAction())},_textAction:function(){var e=this;return F()({changeTextStyle:function(t,n){e.activeObjectId&&e.changeTextStyle(e.activeObjectId,t,n)}},this._commonAction())},_rotateAction:function(){var e=this;return F()({rotate:function(t,n){e.rotate(t,n),e.ui.resizeEditor(),e.ui.rotate.setRangeBarAngle("rotate",t)},setAngle:function(t,n){e.setAngle(t,n),e.ui.resizeEditor(),e.ui.rotate.setRangeBarAngle("setAngle",t)}},this._commonAction())},_shapeAction:function(){var e=this;return F()({changeShape:function(t,n){e.activeObjectId&&e.changeShape(e.activeObjectId,t,n)},setDrawingShape:function(t){e.setDrawingShape(t)}},this._commonAction())},_cropAction:function(){var e=this;return F()({crop:function(){var t=e.getCropzoneRect();t&&!function(e){var t=e.left,n=e.top,r=e.width,i=e.height;return t===vn&&n===bn&&r===yn&&i===wn}(t)&&e.crop(t).then((function(){e.stopDrawingMode(),e.ui.resizeEditor(),e.ui.changeMenu("crop"),e._invoker.fire(ot,xt)})).catch((function(e){return O().reject(e)}))},cancel:function(){e.stopDrawingMode(),e.ui.changeMenu("crop")},preset:function(t){switch(t){case"preset-square":e.setCropzoneRect(1);break;case"preset-3-2":e.setCropzoneRect(1.5);break;case"preset-4-3":e.setCropzoneRect(4/3);break;case"preset-5-4":e.setCropzoneRect(5/4);break;case"preset-7-5":e.setCropzoneRect(1.4);break;case"preset-16-9":e.setCropzoneRect(16/9);break;default:e.setCropzoneRect(),e.ui.crop.changeApplyButtonStatus(!1)}}},this._commonAction())},_resizeAction:function(){var e=this;return F()({getCurrentDimensions:function(){return e._graphics.getCurrentDimensions()},preview:function(t,n,r){var i=e._graphics.getCurrentDimensions(),o=function(){return i.width/i.height},s={};switch(t){case"width":s.width=n,s.height=r?n/o():i.height;break;case"height":s.height=n,s.width=r?n*o():i.width;break;default:s=i}e._graphics.resize(s).then((function(){e.ui.resizeEditor()})),r&&(e.ui.resize.setWidthValue(s.width),e.ui.resize.setHeightValue(s.height))},lockAspectRatio:function(t,n,r){var i=e._graphics.getCurrentDimensions(),o=i.width,s=i.height,a=o/s;if(t)if(o>s){var l=r/a,c=n*a;e.ui.resize.setLimit({minWidth:c>n?c:n,minHeight:n,maxWidth:r,maxHeight:l<r?l:r})}else{var u=r*a,d=n/a;e.ui.resize.setLimit({minWidth:n,minHeight:d>n?d:n,maxWidth:u<r?u:r,maxHeight:r})}else e.ui.resize.setLimit({minWidth:n,minHeight:n,maxWidth:r,maxHeight:r})},resize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t||(t=e._graphics.getCurrentDimensions()),e.resize(t).then((function(){e._graphics.setOriginalDimensions(t),e.stopDrawingMode(),e.ui.resizeEditor(),e.ui.changeMenu("resize")})).catch((function(e){return O().reject(e)}))},reset:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e._graphics.getOriginalDimensions();e.ui.resize.setWidthValue(n.width,!0),e.ui.resize.setHeightValue(n.height,!0),e._graphics.resize(n).then((function(){t||(e.stopDrawingMode(),e.ui.resizeEditor(),e.ui.changeMenu("resize"))}))}},this._commonAction())},_flipAction:function(){var e=this;return F()({flip:function(t){return e[t]()}},this._commonAction())},_filterAction:function(){var e=this;return F()({applyFilter:function(t,n,r,i){t?e.applyFilter(n,r,i):e.hasFilter(n)&&e.removeFilter(n)}},this._commonAction())},setReAction:function(){var e=this;this.on({undoStackChanged:function(t){t?(e.ui.changeHelpButtonEnabled("undo",!0),e.ui.changeHelpButtonEnabled("reset",!0)):(e.ui.changeHelpButtonEnabled("undo",!1),e.ui.changeHelpButtonEnabled("reset",!1)),e.ui.resizeEditor()},redoStackChanged:function(t){t?e.ui.changeHelpButtonEnabled("redo",!0):e.ui.changeHelpButtonEnabled("redo",!1),e.ui.resizeEditor()},objectActivated:function(t){var n,r;e.activeObjectId=t.id,e.ui.changeHelpButtonEnabled("delete",!0),e.ui.changeHelpButtonEnabled("deleteAll",!0),"cropzone"===t.type?e.ui.crop.changeApplyButtonStatus(!0):o()(n=["rect","circle","triangle"]).call(n,t.type)>-1?(e.stopDrawingMode(),"shape"!==e.ui.submenu&&e.ui.changeMenu("shape",!1,!1),e.ui.shape.setShapeStatus({strokeColor:t.stroke,strokeWidth:t.strokeWidth,fillColor:re()(t)}),e.ui.shape.setMaxStrokeValue(Math.min(t.width,t.height))):"path"===t.type||"line"===t.type?"draw"!==e.ui.submenu&&(e.ui.changeMenu("draw",!1,!1),e.ui.draw.changeStandbyMode()):o()(r=["i-text","text"]).call(r,t.type)>-1?("text"!==e.ui.submenu&&e.ui.changeMenu("text",!1,!1),e.ui.text.setTextStyleStateOnAction(t)):"icon"===t.type&&(e.stopDrawingMode(),"icon"!==e.ui.submenu&&e.ui.changeMenu("icon",!1,!1),e.ui.icon.setIconPickerColor(re()(t)))},addText:function(t){var n=e.ui.text,r=n.textColor,i=n.fontSize,o=n.fontStyle,s=n.fontWeight,a=n.underline;e.addText("Double Click",{position:t.originPosition,styles:{fill:r,fontSize:i,fontFamily:"Noto Sans",fontStyle:o,fontWeight:s,underline:a}}).then((function(){e.changeCursor("default")}))},addObjectAfter:function(t){var n;"icon"===t.type?e.ui.icon.changeStandbyMode():o()(n=["rect","circle","triangle"]).call(n,t.type)>-1&&(e.ui.shape.setMaxStrokeValue(Math.min(t.width,t.height)),e.ui.shape.changeStandbyMode())},objectScaled:function(t){var n,r;if(o()(n=["i-text","text"]).call(n,t.type)>-1)e.ui.text.fontSize=Dn(t.fontSize);else if(o()(r=["rect","circle","triangle"]).call(r,t.type)>=0){var i=t.width,s=t.height,a=e.ui.shape.getStrokeValue();i<a&&e.ui.shape.setStrokeValue(i),s<a&&e.ui.shape.setStrokeValue(s)}},selectionCleared:function(){e.activeObjectId=null,"text"===e.ui.submenu?e.changeCursor("text"):zn(["draw","crop","resize"],e.ui.submenu)||e.stopDrawingMode()}})},_historyAction:function(){var e=this;return{undo:function(t){return e.undo(t)},redo:function(t){return e.redo(t)}}},_commonAction:function(){var e,t,n,r,i=this,o=Pt.TEXT,s=Pt.CROPPER,a=Pt.SHAPE,l=Pt.ZOOM,c=Pt.RESIZE;return{modeChange:function(e){switch(e){case Dt:i._changeActivateMode(o);break;case jt:i.startDrawingMode(s);break;case Rt:i._changeActivateMode(a),i.setDrawingShape(i.ui.shape.type,i.ui.shape.options);break;case Lt:i.startDrawingMode(l);break;case Ot:i.startDrawingMode(c)}},deactivateAll:E()(e=this.deactivateAll).call(e,this),changeSelectableAll:E()(t=this.changeSelectableAll).call(t,this),discardSelection:E()(n=this.discardSelection).call(n,this),stopDrawingMode:E()(r=this.stopDrawingMode).call(r,this)}},mixin:function(e){F()(e.prototype,this)}},Ji=r(602),eo=r.n(Ji),to=r(5573),no=r.n(to),ro=function(){function e(t,n){A(this,e),this.name=t,this.graphics=n}return I(e,[{key:"fire",value:function(){for(var e=this.graphics,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.graphics.fire.apply(e,n)}},{key:"setCanvasImage",value:function(e,t){this.graphics.setCanvasImage(e,t)}},{key:"getCanvasElement",value:function(){return this.graphics.getCanvasElement()}},{key:"getCanvas",value:function(){return this.graphics.getCanvas()}},{key:"getCanvasImage",value:function(){return this.graphics.getCanvasImage()}},{key:"getImageName",value:function(){return this.graphics.getImageName()}},{key:"getEditor",value:function(){return this.graphics.getEditor()}},{key:"getName",value:function(){return this.name}},{key:"setImageProperties",value:function(e,t){this.graphics.setImageProperties(e,t)}},{key:"setCanvasCssDimension",value:function(e){this.graphics.setCanvasCssDimension(e)}},{key:"setCanvasBackstoreDimension",value:function(e){this.graphics.setCanvasBackstoreDimension(e)}},{key:"adjustCanvasDimension",value:function(){this.graphics.adjustCanvasDimension()}},{key:"adjustCanvasDimensionBase",value:function(){this.graphics.adjustCanvasDimensionBase()}}]),e}(),io=ro;function oo(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var so={padding:0,crossOrigin:"Anonymous"},ao=function(e){yr(n,e);var t=oo(n);function n(e){return A(this,n),t.call(this,be.IMAGE_LOADER,e)}return I(n,[{key:"load",value:function(e,t){var n,r=this;if(e||t)n=this._setBackgroundImage(t).then((function(t){return r.setCanvasImage(e,t),r.adjustCanvasDimension(),t}));else{var i=this.getCanvas();i.backgroundImage=null,i.renderAll(),n=new(O())((function(e){r.setCanvasImage("",null),e()}))}return n}},{key:"_setBackgroundImage",value:function(e){var t=this;return e?new(O())((function(n,r){var i=t.getCanvas();i.setBackgroundImage(e,(function(){var e=i.backgroundImage;e&&e.getElement()?n(e):r(on)}),so)})):O().reject(rn)}}]),n}(io),lo=ao,co=["tl","tr","mt","ml","mr","mb","bl","br"],uo=function(){};function ho(e,t){return e>t?"width":"height"}var fo=N.fabric.util.createClass(N.fabric.Rect,{initialize:function(e,t,n){(t=F()(t,n)).type="cropzone",this.callSuper("initialize",t),this._addEventHandler(),this.canvas=e,this.options=t},canvasEventDelegation:function(e){var t,n="unregistered";return this.canvasEventTrigger[e]!==uo?n="registered":o()(t=[We,He]).call(t,e)<0&&(n="none"),n},canvasEventRegister:function(e,t){this.canvasEventTrigger[e]=t},_addEventHandler:function(){var e,t,n,r,i;this.canvasEventTrigger=(S(e={},We,uo),S(e,He,uo),e),this.on({moving:E()(t=this._onMoving).call(t,this),scaling:E()(n=this._onScaling).call(n,this)}),N.fabric.util.addListener(document,"keydown",E()(r=this._onKeyDown).call(r,this)),N.fabric.util.addListener(document,"keyup",E()(i=this._onKeyUp).call(i,this))},_renderCropzone:function(e){var t=this.flipX?-1:1,n=this.flipY?-1:1,r=t/this.scaleX,i=n/this.scaleY;e.scale(r,i),this._fillOuterRect(e,"rgba(0, 0, 0, 0.5)"),this.options.lineWidth?(this._fillInnerRect(e),this._strokeBorder(e,"rgb(255, 255, 255)",{lineWidth:this.options.lineWidth})):(this._strokeBorder(e,"rgb(0, 0, 0)",{lineDashWidth:7}),this._strokeBorder(e,"rgb(255, 255, 255)",{lineDashWidth:7,lineDashOffset:7})),e.scale(1/r,1/i)},_render:function(e){this.callSuper("_render",e),this._renderCropzone(e)},_fillOuterRect:function(e,t){var n=this._getCoordinates(),r=n.x,i=n.y;e.save(),e.fillStyle=t,e.beginPath(),e.moveTo(r[0]-1,i[0]-1),e.lineTo(r[3]+1,i[0]-1),e.lineTo(r[3]+1,i[3]+1),e.lineTo(r[0]-1,i[3]+1),e.lineTo(r[0]-1,i[0]-1),e.closePath(),e.moveTo(r[1],i[1]),e.lineTo(r[1],i[2]),e.lineTo(r[2],i[2]),e.lineTo(r[2],i[1]),e.lineTo(r[1],i[1]),e.closePath(),re()(e).call(e),e.restore()},_fillInnerRect:function(e){var t=this._getCoordinates(),n=t.x,r=t.y,i=this._caculateInnerPosition(n,(n[2]-n[1])/3),o=this._caculateInnerPosition(r,(r[2]-r[1])/3);e.save(),e.strokeStyle="rgba(255, 255, 255, 0.7)",e.lineWidth=this.options.lineWidth,e.beginPath(),e.moveTo(i[0],o[1]),e.lineTo(i[3],o[1]),e.moveTo(i[0],o[2]),e.lineTo(i[3],o[2]),e.moveTo(i[1],o[0]),e.lineTo(i[1],o[3]),e.moveTo(i[2],o[0]),e.lineTo(i[2],o[3]),e.stroke(),e.closePath(),e.restore()},_caculateInnerPosition:function(e,t){var n=[];return n[0]=e[1],n[1]=e[1]+t,n[2]=e[1]+2*t,n[3]=e[2],n},_getCoordinates:function(){var e,t,n=this.canvas,r=this.width,i=this.height,o=this.left,s=this.top,a=r/2,l=i/2,c=n.getHeight(),u=n.getWidth();return{x:cr()(e=[-(a+o),-a,a,a+(u-o-r)]).call(e,Math.ceil),y:cr()(t=[-(l+s),-l,l,l+(c-s-i)]).call(t,Math.ceil)}},_strokeBorder:function(e,t,n){var r=n.lineDashWidth,i=n.lineDashOffset,o=n.lineWidth,s=this.width/2,a=this.height/2;e.save(),e.strokeStyle=t,e.setLineDash&&e.setLineDash([r,r]),i&&(e.lineDashOffset=i),o&&(e.lineWidth=o),e.beginPath(),e.moveTo(-s,-a),e.lineTo(s,-a),e.lineTo(s,a),e.lineTo(-s,a),e.lineTo(-s,-a),e.stroke(),e.restore()},_onMoving:function(){var e=this.height,t=this.width,n=this.left,r=this.top,i=this.canvas.getWidth()-t,o=this.canvas.getHeight()-e;this.left=Mn(n,0,i),this.top=Mn(r,0,o),this.canvasEventTrigger[We](this)},_onScaling:function(e){var t=e.transform.corner,n=this.canvas.getPointer(e.e),r=this._calcScalingSizeFromPointer(n,t);this.scale(1).set(r),this.canvasEventTrigger[He](this)},_calcScalingSizeFromPointer:function(e,t){var n=function(e){return o()(co).call(co,e)>=0}(t);return n&&this._resizeCropZone(e,t)},adjustRatioCropzoneSize:function(e){var t=e.width,n=e.height,r=e.leftMaker,i=e.topMaker,o=e.maxWidth,s=e.maxHeight,a=e.scaleTo;if(t=o?Mn(t,1,o):t,n=s?Mn(n,1,s):n,!this.presetRatio)return this._withShiftKey&&(t>n?n=t:n>t&&(t=n)),{width:t,height:n,left:r(t),top:i(n)};"width"===a?n=t/this.presetRatio:t=n*this.presetRatio;var l=Math.min(o/t,s/n);if(l<=1){var c,u=Z(cr()(c=[t,n]).call(c,(function(e){return e*l})),2);t=u[0],n=u[1]}return{width:t,height:n,left:r(t),top:i(n)}},_getCropzoneRectInfo:function(){var e=this.canvas,t=e.width,n=e.height,r=this.getBoundingRect(!1,!0),i=r.top,o=r.left,s=r.width,a=r.height;return{rectTop:i,rectLeft:o,rectWidth:s,rectHeight:a,rectRight:o+s,rectBottom:i+a,canvasWidth:t,canvasHeight:n}},_resizeCropZone:function(e,t){var n=e.x,r=e.y,i=this._getCropzoneRectInfo(),o=i.rectWidth,s=i.rectHeight,a=i.rectTop,l=i.rectLeft,c=i.rectBottom,u=i.rectRight,d=i.canvasWidth,h=i.canvasHeight,f={tl:{width:u-n,height:c-r,leftMaker:function(e){return u-e},topMaker:function(e){return c-e},maxWidth:u,maxHeight:c,scaleTo:ho(l-n,a-r)},tr:{width:n-l,height:c-r,leftMaker:function(){return l},topMaker:function(e){return c-e},maxWidth:d-l,maxHeight:c,scaleTo:ho(n-u,a-r)},mt:{width:o,height:c-r,leftMaker:function(){return l},topMaker:function(e){return c-e},maxWidth:d-l,maxHeight:c,scaleTo:"height"},ml:{width:u-n,height:s,leftMaker:function(e){return u-e},topMaker:function(){return a},maxWidth:u,maxHeight:h-a,scaleTo:"width"},mr:{width:n-l,height:s,leftMaker:function(){return l},topMaker:function(){return a},maxWidth:d-l,maxHeight:h-a,scaleTo:"width"},mb:{width:o,height:r-a,leftMaker:function(){return l},topMaker:function(){return a},maxWidth:d-l,maxHeight:h-a,scaleTo:"height"},bl:{width:u-n,height:r-a,leftMaker:function(e){return u-e},topMaker:function(){return a},maxWidth:u,maxHeight:h-a,scaleTo:ho(l-n,r-c)},br:{width:n-l,height:r-a,leftMaker:function(){return l},topMaker:function(){return a},maxWidth:d-l,maxHeight:h-a,scaleTo:ho(n-u,r-c)}};return this.adjustRatioCropzoneSize(f[t])},isValid:function(){return this.left>=0&&this.top>=0&&this.width>0&&this.height>0},_onKeyDown:function(e){e.keyCode===Ut&&(this._withShiftKey=!0)},_onKeyUp:function(e){e.keyCode===Ut&&(this._withShiftKey=!1)}}),po=fo;function mo(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var go={presetRatio:null,top:-10,left:-10,height:1,width:1},vo=function(e){yr(n,e);var t=mo(n);function n(e){var r,i,o,s,a,l;return A(this,n),(l=t.call(this,be.CROPPER,e))._cropzone=null,l._startX=null,l._startY=null,l._withShiftKey=!1,l._listeners={keydown:E()(r=l._onKeyDown).call(r,_r(l)),keyup:E()(i=l._onKeyUp).call(i,_r(l)),mousedown:E()(o=l._onFabricMouseDown).call(o,_r(l)),mousemove:E()(s=l._onFabricMouseMove).call(s,_r(l)),mouseup:E()(a=l._onFabricMouseUp).call(a,_r(l))},l}return I(n,[{key:"start",value:function(){if(!this._cropzone){var e=this.getCanvas();e.forEachObject((function(e){e.evented=!1})),this._cropzone=new po(e,F()({left:0,top:0,width:.5,height:.5,strokeWidth:0,cornerSize:10,cornerColor:"black",fill:"transparent"},ye,this.graphics.cropSelectionStyle)),e.discardActiveObject(),e.add(this._cropzone),e.on("mouse:down",this._listeners.mousedown),e.selection=!1,e.defaultCursor="crosshair",N.fabric.util.addListener(document,"keydown",this._listeners.keydown),N.fabric.util.addListener(document,"keyup",this._listeners.keyup)}}},{key:"end",value:function(){var e=this.getCanvas(),t=this._cropzone;t&&(e.remove(t),e.selection=!0,e.defaultCursor="default",e.off("mouse:down",this._listeners.mousedown),e.forEachObject((function(e){e.evented=!0})),this._cropzone=null,N.fabric.util.removeListener(document,"keydown",this._listeners.keydown),N.fabric.util.removeListener(document,"keyup",this._listeners.keyup))}},{key:"changeVisibility",value:function(e){this._cropzone&&this._cropzone.set({visible:e})}},{key:"_onFabricMouseDown",value:function(e){var t=this.getCanvas();if(!e.target){t.selection=!1;var n=t.getPointer(e.e);this._startX=n.x,this._startY=n.y,t.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}}},{key:"_onFabricMouseMove",value:function(e){var t=this.getCanvas(),n=t.getPointer(e.e),r=n.x,i=n.y,o=this._cropzone;Math.abs(r-this._startX)+Math.abs(i-this._startY)>10&&(t.remove(o),o.set(this._calcRectDimensionFromPoint(r,i,o.presetRatio)),t.add(o),t.setActiveObject(o))}},{key:"_calcRectDimensionFromPoint",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.getCanvas(),i=r.getWidth(),o=r.getHeight(),s=this._startX,a=this._startY,l=Mn(e,0,s),c=Mn(t,0,a),u=Mn(e,s,i)-l,d=Mn(t,a,o)-c;return this._withShiftKey&&!n?(u>d?d=u:d>u&&(u=d),s>=e&&(l=s-u),a>=t&&(c=a-d)):n&&(d=u/n,s>=e&&(l=Mn(s-u,0,i)),a>=t&&(c=Mn(a-d,0,o)),c+d>o&&(u=(d=o-c)*n,s>=e&&(l=Mn(s-u,0,i)),a>=t&&(c=Mn(a-d,0,o)))),{left:l,top:c,width:u,height:d}}},{key:"_onFabricMouseUp",value:function(){var e=this._cropzone,t=this._listeners,n=this.getCanvas();n.setActiveObject(e),n.off({"mouse:move":t.mousemove,"mouse:up":t.mouseup})}},{key:"getCroppedImageData",value:function(e){var t=this.getCanvas(),n=t.contains(this._cropzone);if(!e)return null;n&&t.remove(this._cropzone);var r={imageName:this.getImageName(),url:t.toDataURL(e)};return n&&t.add(this._cropzone),r}},{key:"getCropzoneRect",value:function(){var e=this._cropzone;return e.isValid()?{left:e.left,top:e.top,width:e.width,height:e.height}:null}},{key:"setCropzoneRect",value:function(e){var t=this.getCanvas(),n=this._cropzone;t.discardActiveObject(),t.selection=!1,t.remove(n),n.set(e?this._getPresetPropertiesForCropSize(e):go),t.add(n),t.selection=!0,e&&t.setActiveObject(n)}},{key:"_getPresetPropertiesForCropSize",value:function(e){var t,n,r=this.getCanvas(),i=r.getWidth(),o=r.getHeight(),s=i>=o?i:o,a=function(e,t){return e>t?t/e:1},l=s*e,c=s,u=a(l,i),d=Z(cr()(t=[l,c]).call(t,(function(e){return e*u})),2);l=d[0];var h=a(c=d[1],o),f=Z(cr()(n=[l,c]).call(n,(function(e){return Number((e*h).toFixed(2))})),2);return l=f[0],{presetRatio:e,top:(o-(c=f[1]))/2,left:(i-l)/2,width:l,height:c}}},{key:"_onKeyDown",value:function(e){e.keyCode===Ut&&(this._withShiftKey=!0)}},{key:"_onKeyUp",value:function(e){e.keyCode===Ut&&(this._withShiftKey=!1)}}]),n}(io),bo=vo;function yo(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var wo=function(e){yr(n,e);var t=yo(n);function n(e){return A(this,n),t.call(this,be.FLIP,e)}return I(n,[{key:"getCurrentSetting",value:function(){var e=this.getCanvasImage();return{flipX:e.flipX,flipY:e.flipY}}},{key:"set",value:function(e){var t=this.getCurrentSetting(),n=t.flipX!==e.flipX,r=t.flipY!==e.flipY;return n||r?(F()(t,e),this.setImageProperties(t,!0),this._invertAngle(n,r),this._flipObjects(n,r),O().resolve({flipX:t.flipX,flipY:t.flipY,angle:this.getCanvasImage().angle})):O().reject(en)}},{key:"_invertAngle",value:function(e,t){var n=this.getCanvasImage(),r=n.angle;e&&(r*=-1),t&&(r*=-1),n.rotate(ar()(r)).setCoords()}},{key:"_flipObjects",value:function(e,t){var n=this.getCanvas();e&&n.forEachObject((function(e){e.set({angle:ar()(-1*e.angle),flipX:!e.flipX,left:n.width-e.left}).setCoords()})),t&&n.forEachObject((function(e){e.set({angle:ar()(-1*e.angle),flipY:!e.flipY,top:n.height-e.top}).setCoords()})),n.renderAll()}},{key:"reset",value:function(){return this.set({flipX:!1,flipY:!1})}},{key:"flipX",value:function(){var e=this.getCurrentSetting();return this.set({flipX:!e.flipX,flipY:e.flipY})}},{key:"flipY",value:function(){var e=this.getCurrentSetting();return this.set({flipX:e.flipX,flipY:!e.flipY})}}]),n}(io),xo=wo;function _o(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var Co=function(e){yr(n,e);var t=_o(n);function n(e){return A(this,n),t.call(this,be.ROTATION,e)}return I(n,[{key:"getCurrentAngle",value:function(){return this.getCanvasImage().angle}},{key:"setAngle",value:function(e){var t=this.getCurrentAngle()%360;e%=360;var n=this.getCanvasImage(),r=n.getCenterPoint();n.set({angle:e}).setCoords(),this.adjustCanvasDimension();var i=n.getCenterPoint();return this._rotateForEachObject(r,i,e-t),O().resolve(e)}},{key:"_rotateForEachObject",value:function(e,t,n){var r=this.getCanvas(),i=e.x-t.x,o=e.y-t.y;r.forEachObject((function(t){var r=t.getCenterPoint(),s=N.fabric.util.degreesToRadians(n),a=N.fabric.util.rotatePoint(r,e,s);t.set({left:a.x-i,top:a.y-o,angle:(t.angle+n)%360}),t.setCoords()})),r.renderAll()}},{key:"rotate",value:function(e){var t=this.getCurrentAngle();return this.setAngle(t+e)}}]),n}(io),ko=Co;function So(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var Ao=function(e){yr(n,e);var t=So(n);function n(e){var r;return A(this,n),(r=t.call(this,be.FREE_DRAWING,e)).width=12,r.oColor=new N.fabric.Color("rgba(0, 0, 0, 0.5)"),r}return I(n,[{key:"start",value:function(e){this.getCanvas().isDrawingMode=!0,this.setBrush(e)}},{key:"setBrush",value:function(e){var t=this.getCanvas().freeDrawingBrush;e=e||{},this.width=e.width||this.width,e.color&&(this.oColor=new N.fabric.Color(e.color)),t.width=this.width,t.color=this.oColor.toRgba()}},{key:"end",value:function(){this.getCanvas().isDrawingMode=!1}}]),n}(io),To=Ao,Io=N.fabric.util.createClass(N.fabric.Line,{type:"line",initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.callSuper("initialize",e,t),this.arrowType=t.arrowType},_render:function(e){var t=this.calcLinePoints(),n={fromX:t.x1,fromY:t.y1,toX:t.x2,toY:t.y2};this.ctx=e,e.lineWidth=this.strokeWidth,this._renderBasicLinePath(n),this._drawDecoratorPath(n),this._renderStroke(e)},_renderBasicLinePath:function(e){var t=e.fromX,n=e.fromY,r=e.toX,i=e.toY;this.ctx.beginPath(),this.ctx.moveTo(t,n),this.ctx.lineTo(r,i)},_drawDecoratorPath:function(e){this._drawDecoratorPathType("head",e),this._drawDecoratorPathType("tail",e)},_drawDecoratorPathType:function(e,t){switch(this.arrowType[e]){case"triangle":this._drawTrianglePath(e,t);break;case"chevron":this._drawChevronPath(e,t)}},_drawTrianglePath:function(e,t){var n=1.7*this.ctx.lineWidth;this._drawChevronPath(e,t,n),this.ctx.closePath()},_drawChevronPath:function(e,t,n){var r=this,i=t.fromX,o=t.fromY,s=t.toX,a=t.toY,l=this.ctx;n||(n=2.7*this.ctx.lineWidth);var c=Z("head"===e?[i,o]:[s,a],2),u=c[0],d=c[1],h=Z("head"===e?[s,a]:[i,o],2),f=h[0],p=h[1],m=180*Math.atan2(p-d,f-u)/Math.PI,g=function(e){return r.getRotatePosition(n,e,{x:u,y:d})};l.moveTo.apply(l,C(g(m+30))),l.lineTo(u,d),l.lineTo.apply(l,C(g(m-30)))},getRotatePosition:function(e,t,n){var r=t*Math.PI/180,i=n.x,o=n.y;return[e*Math.cos(r)+i,e*Math.sin(r)+o]}}),Mo=Io;function Eo(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var Po=function(e){yr(n,e);var t=Eo(n);function n(e){var r,i,o,s;return A(this,n),(s=t.call(this,be.LINE,e))._width=12,s._oColor=new N.fabric.Color("rgba(0, 0, 0, 0.5)"),s._listeners={mousedown:E()(r=s._onFabricMouseDown).call(r,_r(s)),mousemove:E()(i=s._onFabricMouseMove).call(i,_r(s)),mouseup:E()(o=s._onFabricMouseUp).call(o,_r(s))},s}return I(n,[{key:"setHeadOption",value:function(e){var t=e.arrowType,n=void 0===t?{head:null,tail:null}:t;this._arrowType=n}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getCanvas();t.defaultCursor="crosshair",t.selection=!1,this.setHeadOption(e),this.setBrush(e),t.forEachObject((function(e){e.set({evented:!1})})),t.on({"mouse:down":this._listeners.mousedown})}},{key:"setBrush",value:function(e){var t=this.getCanvas().freeDrawingBrush;e=e||{},this._width=e.width||this._width,e.color&&(this._oColor=new N.fabric.Color(e.color)),t.width=this._width,t.color=this._oColor.toRgba()}},{key:"end",value:function(){var e=this.getCanvas();e.defaultCursor="default",e.selection=!0,e.forEachObject((function(e){e.set({evented:!0})})),e.off("mouse:down",this._listeners.mousedown)}},{key:"_onFabricMouseDown",value:function(e){var t=this.getCanvas(),n=t.getPointer(e.e),r=n.x,i=n.y,o=[r,i,r,i];this._line=new Mo(o,{stroke:this._oColor.toRgba(),strokeWidth:this._width,arrowType:this._arrowType,evented:!1}),this._line.set(Qt),t.add(this._line),t.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup}),this.fire(Qe,this._createLineEventObjectProperties())}},{key:"_onFabricMouseMove",value:function(e){var t=this.getCanvas(),n=t.getPointer(e.e);this._line.set({x2:n.x,y2:n.y}),this._line.setCoords(),t.renderAll()}},{key:"_onFabricMouseUp",value:function(){var e=this.getCanvas();this.fire($e,this._createLineEventObjectProperties()),this._line=null,e.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}},{key:"_createLineEventObjectProperties",value:function(){var e=this.graphics.createObjectProperties(this._line),t=this._line,n=t.x1,r=t.x2,i=t.y1,o=t.y2;return F()({},e,{startPosition:{x:n,y:i},endPosition:{x:r,y:o}})}}]),n}(io),Do=Po;function jo(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var Oo={fill:"#000000",left:0,top:0},Ro={fill:"#000000",fontStyle:"normal",fontWeight:"normal",textAlign:"tie-text-align-left",underline:!1},Lo=function(e){yr(n,e);var t=jo(n);function n(e){var r,i,o,s,a,l;return A(this,n),(l=t.call(this,be.TEXT,e))._defaultStyles=Oo,l._isSelected=!1,l._selectedObj={},l._editingObj={},l._listeners={mousedown:E()(r=l._onFabricMouseDown).call(r,_r(l)),select:E()(i=l._onFabricSelect).call(i,_r(l)),selectClear:E()(o=l._onFabricSelectClear).call(o,_r(l)),scaling:E()(s=l._onFabricScaling).call(s,_r(l)),textChanged:E()(a=l._onFabricTextChanged).call(a,_r(l))},l._textarea=null,l._ratio=1,l._lastClickTime=(new Date).getTime(),l._editingObjInfos={},l.isPrevEditing=!1,l}return I(n,[{key:"start",value:function(){var e=this,t=this.getCanvas();t.selection=!1,t.defaultCursor="text",t.on({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged}),t.forEachObject((function(t){"i-text"===t.type&&e.adjustOriginPosition(t,"start")})),this.setCanvasRatio()}},{key:"end",value:function(){var e=this,t=this.getCanvas();t.selection=!0,t.defaultCursor="default",t.forEachObject((function(n){"i-text"===n.type&&(""===n.text?t.remove(n):e.adjustOriginPosition(n,"end"))})),t.off({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:selected":this._listeners.select,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged})}},{key:"adjustOriginPosition",value:function(e,t){var n="center",r="center";"start"===t&&(n="left",r="top");var i=e.getPointByOrigin(n,r),o=i.x,s=i.y;e.set({left:o,top:s,originX:n,originY:r}),e.setCoords()}},{key:"add",value:function(e,t){var n=this;return new(O())((function(r){var i,o=n.getCanvas(),s=null,a=Qt,l=n._defaultStyles;n._setInitPos(t.position),t.styles&&(l=F()(l,t.styles)),_i()(t.autofocus)||(t.autofocus=!0),s=new N.fabric.IText(e,l),a=F()({},a,{originX:"left",originY:"top"}),s.set(a),s.on({mouseup:E()(i=n._onFabricMouseUp).call(i,n)}),o.add(s),t.autofocus&&(s.enterEditing(),s.selectAll()),o.getActiveObject()||o.setActiveObject(s),n.isPrevEditing=!0,r(n.graphics.createObjectProperties(s))}))}},{key:"change",value:function(e,t){var n=this;return new(O())((function(r){e.set("text",t),n.getCanvas().renderAll(),r()}))}},{key:"setStyle",value:function(e,t){var n=this;return new(O())((function(r){H()(t,(function(n,r){e[r]===n&&"fontSize"!==r&&(t[r]=Ro[r]||"")}),n),"textDecoration"in t&&F()(t,n._getTextDecorationAdaptObject(t.textDecoration)),e.set(t),n.getCanvas().renderAll(),r()}))}},{key:"getText",value:function(e){return e.text}},{key:"setSelectedInfo",value:function(e,t){this._selectedObj=e,this._isSelected=t}},{key:"isSelected",value:function(){return this._isSelected}},{key:"getSelectedObj",value:function(){return this._selectedObj}},{key:"setCanvasRatio",value:function(){var e=this.getCanvasElement(),t=J()(e.style.maxWidth,10),n=e.width;this._ratio=n/t}},{key:"getCanvasRatio",value:function(){return this._ratio}},{key:"_getTextDecorationAdaptObject",value:function(e){return{underline:"underline"===e,linethrough:"line-through"===e,overline:"overline"===e}}},{key:"_setInitPos",value:function(e){e=e||this.getCanvasImage().getCenterPoint(),this._defaultStyles.left=e.x,this._defaultStyles.top=e.y}},{key:"_onInput",value:function(){var e=this.getCanvasRatio(),t=this._editingObj,n=this._textarea.style;n.width="".concat(Math.ceil(t.width/e),"px"),n.height="".concat(Math.ceil(t.height/e),"px")}},{key:"_onKeyDown",value:function(){var e=this,t=this.getCanvasRatio(),n=this._editingObj,r=this._textarea.style;m()((function(){n.text(e._textarea.value),r.width="".concat(Math.ceil(n.width/t),"px"),r.height="".concat(Math.ceil(n.height/t),"px")}),0)}},{key:"_onBlur",value:function(){var e=this.getCanvasRatio(),t=this._editingObj,n=this._editingObjInfos,r=this._textarea.value,i=t.width/e-n.width/e,o=t.height/e-n.height/e;if(1===e&&(i/=2,o/=2),this._textarea.style.display="none",t.set({left:n.left+i,top:n.top+o}),r.length){this.getCanvas().add(t);var s={id:Tn(t),type:t.type,text:r};this.fire(qe,s)}}},{key:"_onScroll",value:function(){this._textarea.scrollLeft=0,this._textarea.scrollTop=0}},{key:"_onFabricScaling",value:function(e){var t=e.target;t.fontSize=t.fontSize*t.scaleY,t.scaleX=1,t.scaleY=1}},{key:"_onFabricTextChanged",value:function(e){this.fire(qe,e.target)}},{key:"_onFabricSelectClear",value:function(e){var t=this.getSelectedObj();this.isPrevEditing=!0,this.setSelectedInfo(e.target,!1),t&&""===t.text&&this.getCanvas().remove(t)}},{key:"_onFabricSelect",value:function(e){this.isPrevEditing=!0,this.setSelectedInfo(e.target,!0)}},{key:"_onFabricMouseDown",value:function(e){var t=e.target;t&&!t.isType("text")||(this.isPrevEditing?this.isPrevEditing=!1:this._fireAddText(e))}},{key:"_fireAddText",value:function(e){var t=e.target,n=e.e||{},r=this.getCanvas().getPointer(n);t||this.fire(Ke,{originPosition:{x:r.x,y:r.y},clientPosition:{x:n.clientX||0,y:n.clientY||0}})}},{key:"_onFabricMouseUp",value:function(e){var t=e.target,n=(new Date).getTime();this._isDoubleClick(n)&&!t.isEditing&&t.enterEditing(),t.isEditing&&this.fire(Ge),this._lastClickTime=n}},{key:"_isDoubleClick",value:function(e){return e-this._lastClickTime<500}}]),n}(io),No=Lo;function Bo(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var Fo={arrow:"M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z",cancel:"M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z"},zo=function(e){yr(n,e);var t=Bo(n);function n(e){var r,i,o,s;return A(this,n),(s=t.call(this,be.ICON,e))._oColor="#000000",s._pathMap=Fo,s._type=null,s._iconColor=null,s._handlers={mousedown:E()(r=s._onFabricMouseDown).call(r,_r(s)),mousemove:E()(i=s._onFabricMouseMove).call(i,_r(s)),mouseup:E()(o=s._onFabricMouseUp).call(o,_r(s))},s}return I(n,[{key:"setStates",value:function(e,t){this._type=e,this._iconColor=t}},{key:"start",value:function(){var e=this.getCanvas();e.selection=!1,e.on("mouse:down",this._handlers.mousedown)}},{key:"end",value:function(){var e=this.getCanvas();e.selection=!0,e.off({"mouse:down":this._handlers.mousedown})}},{key:"add",value:function(e,t){var n=this;return new(O())((function(r,i){var o=n.getCanvas(),s=n._pathMap[e],a=Qt,l=s?n._createIcon(s):null;n._icon=l,l||i(tn),l.set(F()({type:"icon",fill:n._oColor},a,t,n.graphics.controlStyle)),o.add(l).setActiveObject(l),r(n.graphics.createObjectProperties(l))}))}},{key:"registerPaths",value:function(e){var t=this;H()(e,(function(e,n){t._pathMap[n]=e}),this)}},{key:"setColor",value:function(e,t){this._oColor=e,t&&"icon"===t.get("type")&&(t.set({fill:this._oColor}),this.getCanvas().renderAll())}},{key:"getColor",value:function(e){return re()(e)}},{key:"_createIcon",value:function(e){return new N.fabric.Path(e)}},{key:"_onFabricMouseDown",value:function(e){var t=this,n=this.getCanvas();this._startPoint=n.getPointer(e.e);var r=this._startPoint,i=r.x,o=r.y;this.add(this._type,{left:i,top:o,fill:this._iconColor}).then((function(){t.fire(Qe,t.graphics.createObjectProperties(t._icon)),n.on("mouse:move",t._handlers.mousemove),n.on("mouse:up",t._handlers.mouseup)}))}},{key:"_onFabricMouseMove",value:function(e){var t=this.getCanvas();if(this._icon){var n=t.getPointer(e.e),r=(n.x-this._startPoint.x)/this._icon.width,i=(n.y-this._startPoint.y)/this._icon.height;this._icon.set({scaleX:Math.abs(2*r),scaleY:Math.abs(2*i)}),this._icon.setCoords(),t.renderAll()}}},{key:"_onFabricMouseUp",value:function(){var e=this.getCanvas();this.fire($e,this.graphics.createObjectProperties(this._icon)),this._icon=null,e.off("mouse:down",this._handlers.mousedown),e.off("mouse:move",this._handlers.mousemove),e.off("mouse:up",this._handlers.mouseup)}}]),n}(io),Vo=zo,Wo=N.fabric.util.createClass(N.fabric.Image.filters.BlendImage,{applyTo:function(e){if(this.mask){var t=e.canvasEl,n=t.width,r=t.height,i=this._createCanvasOfMask(n,r),o=t.getContext("2d"),s=i.getContext("2d"),a=o.getImageData(0,0,n,r);this._drawMask(s,t,o),this._mapData(s,a,n,r),e.imageData=a}},_createCanvasOfMask:function(e,t){var n=N.fabric.util.createCanvasElement();return n.width=e,n.height=t,n},_drawMask:function(e){var t=this.mask,n=t.getElement(),r=t.angle,i=t.left,o=t.scaleX,s=t.scaleY,a=t.top;e.save(),e.translate(i,a),e.rotate(r*Math.PI/180),e.scale(o,s),e.drawImage(n,-n.width/2,-n.height/2),e.restore()},_mapData:function(e,t,n,r){for(var i=t.data,o=t.height,s=i,a=t.width*o*4,l=e.getImageData(0,0,n,r).data,c=0;c<a;c+=4)s[c+3]=l[c]}}),Ho=Wo,Uo=N.fabric.util.createClass(N.fabric.Image.filters.Convolute,{type:"Sharpen",initialize:function(){this.matrix=[0,-1,0,-1,5,-1,0,-1,0]}}),$o=N.fabric.util.createClass(N.fabric.Image.filters.Convolute,{type:"Emboss",initialize:function(){this.matrix=[1,1,1,1,.7,-1,-1,-1,-1]}}),Yo=N.fabric.util.createClass(N.fabric.Image.filters.BaseFilter,{type:"ColorFilter",initialize:function(e){e||(e={}),this.color=e.color||"#FFFFFF",this.threshold=e.threshold||45,this.x=e.x||null,this.y=e.y||null},applyTo:function(e){var t,n,r=e.canvasEl,i=r.getContext("2d"),o=i.getImageData(0,0,r.width,r.height),s=o.data,a=this.threshold,l=N.fabric.Color.sourceFromHex(this.color);for(this.x&&this.y&&(l=this._getColor(o,this.x,this.y)),t=0,n=s.length;t<n;t+=4)this._isOutsideThreshold(s[t],l[0],a)||this._isOutsideThreshold(s[t+1],l[1],a)||this._isOutsideThreshold(s[t+2],l[2],a)||(s[t]=s[t+1]=s[t+2]=s[t+3]=0);i.putImageData(o,0,0)},_isOutsideThreshold:function(e,t,n){var r=e-t;return Math.abs(r)>n},_getColor:function(e,t,n){var r=[0,0,0,0],i=e.data,o=4*(e.width*n+t);return r[0]=i[o],r[1]=i[o+1],r[2]=i[o+2],r[3]=i[o+3],r}});function Go(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var qo=N.fabric.Image.filters;qo.Mask=Ho,qo.Sharpen=Uo,qo.Emboss=$o,qo.ColorFilter=Yo;var Xo=function(e){yr(n,e);var t=Go(n);function n(e){return A(this,n),t.call(this,be.FILTER,e)}return I(n,[{key:"add",value:function(e,t){var n=this;return new(O())((function(r,i){var o=n._getSourceImage(),s=n.getCanvas(),a=n._getFilter(o,e);a||(a=n._createFilter(o,e,t)),a||i(tn),n._changeFilterValues(a,t),n._apply(o,(function(){s.renderAll(),r({type:e,action:"add",options:t})}))}))}},{key:"remove",value:function(e){var t=this;return new(O())((function(n,r){var i=t._getSourceImage(),o=t.getCanvas(),s=t.getOptions(e);i.filters.length||r(cn),t._removeFilter(i,e),t._apply(i,(function(){o.renderAll(),n({type:e,action:"remove",options:s})}))}))}},{key:"hasFilter",value:function(e){return!!this._getFilter(this._getSourceImage(),e)}},{key:"getOptions",value:function(e){var t=this._getSourceImage(),n=this._getFilter(t,e);return n?F()({},n.options):null}},{key:"_changeFilterValues",value:function(e,t){H()(t,(function(t,n){V()(e[n])||(e[n]=t)})),H()(e.options,(function(n,r){V()(t[r])||(e.options[r]=t[r])}))}},{key:"_apply",value:function(e,t){e.filters.push(),e.applyFilters()&&t()}},{key:"_getSourceImage",value:function(){return this.getCanvasImage()}},{key:"_createFilter",value:function(e,t,n){var r,i=this._getFabricFilterType(t),o=N.fabric.Image.filters[i];return o&&((r=new o(n)).options=n,e.filters.push(r)),r}},{key:"_getFilter",value:function(e,t){var n=null;if(e){var r,i,o=this._getFabricFilterType(t),s=e.filters.length;for(i=0;i<s;i+=1)if((r=e.filters[i]).type===o){n=r;break}}return n}},{key:"_removeFilter",value:function(e,t){var n,r=this._getFabricFilterType(t);e.filters=Zi()(n=e.filters).call(n,(function(e){return e.type!==r}))}},{key:"_getFabricFilterType",value:function(e){return e.charAt(0).toUpperCase()+d()(e).call(e,1)}}]),n}(io),Zo=Xo,Ko=r(1801),Qo=r.n(Ko),Jo={pixelate:"blocksize",blur:"blur"},es={x:"width",y:"height"},ts=function(e){var t,n={};return te()(t=X()(e)).call(t,(function(t){n[e[t]]=t})),n}(Jo),ns=null;function rs(e){return Z(Fn(e,"patternSourceCanvas").patternSourceCanvas.getObjects(),1)[0]}function is(e){var t=e.angle,n=e.flipX,r=e.flipY,i=rs(e),o=function(e){var t=ls(e),n=Z(t,4),r=n[0],i=r.x,o=r.y,s=n[1],a=s.x,l=s.y,c=n[2],u=c.x,d=c.y,h=n[3],f=h.x,p=h.y,m=Math.min(i,a,u,f),g=Math.min(o,l,d,p),v=Math.max(i,a,u,f),b=Math.max(o,l,d,p);return{left:m,top:g,right:v,bottom:b,width:v-m,height:b-g}}(e),s=o.right,a=o.bottom,l=o.width,c=o.height,u=(l-e.width)/2,d=(c-e.height)/2,h=e.left-e.width/2-u,f=e.top-e.height/2-d,p=l/2-u,m=c/2-d,g=Math.max(l,c)+Math.max(u,d),v=function(e){var t=e.shapeObj,n=e.left,r=e.top,i=e.width,o=e.height,s=e.cropX,a=e.cropY,l=e.flipX,c=e.flipY,u=e.right,d=e.bottom,h=function(e,n,r,i){return function(e){var t=e.type,n=e.shapeObj,r=e.outDistance,i=e.left,o=e.top,s=e.flipX,a=e.flipY,l=ls(n),c=function(e,t,n){var r=0,i=0;H()(t,(function(t,n){t[e]<r&&(r=t[e],i=n)}));var o=Z(n[i],2),s=o[0],a=o[1];return{startPointIndex:i,endPointIndex1:s,endPointIndex2:a}}(t,l,[[1,2],[0,3],[0,3],[1,2]]),u=function(e,t,n){var r,i=n.startPointIndex,o=n.endPointIndex1,s=n.endPointIndex2,a="x"===e?180:270;return cr()(r=[o,s]).call(r,(function(e){var n=t[i],r=t[e],o=n.y-r.y,s=n.x-r.x;return 180*Math.atan2(o,s)/Math.PI-a}))}(t,l,c),d=c.startPointIndex,h=function(e){var t=e.outDistance,n=e.startPointIndex,r=e.flipX,i=e.flipY,o=e.reatAngles,s=t*Math.cos(o[0]*Math.PI/180),a=t*Math.cos(o[1]*Math.PI/180),l=2===n||3===n,c={top:l?s:a,left:l?a:s};return function(e,t,n){return(!t&&n||!t&&!n)&&0===e||(t&&n||t&&!n)&&1===e||(!t&&!n||!t&&n)&&2===e||(t&&!n||t&&n)&&3===e}(n,r,i)&&(c.left=-1*c.left),function(e,t,n){return(t&&!n||!t&&!n)&&0===e||(!t&&!n||t&&!n)&&1===e||(t&&n||!t&&n)&&2===e||(!t&&n||t&&n)&&3===e}(n,r,i)&&(c.top=-1*c.top),c}({outDistance:r,startPointIndex:d,flipX:s,flipY:a,reatAngles:u});return[i+h.left,o+h.top]}({type:e,outDistance:n,shapeObj:t,flipX:l,flipY:c,left:r,top:i})},f=i,p=o,m=function(e,t){var n=t.left,r=t.top,i=t.width,o=t.height,s=t.cropX,a=t.cropY,l={width:i,height:o};return H()(["x","y"],(function(t){var i="x"===t?s:a,o=l[es[t]],c=ns[es[t]];if(o>c){var u=(o-c)/2;l[es[t]]=c;var d=Z(e(t,u,n,r),2);n=d[0],r=d[1]}if(i<0){var h=Z(e(t,i,n,r),2);n=h[0],r=h[1]}})),[n,r,l.width,l.height]}(h,{left:n,top:r,width:i,height:o,cropX:s,cropY:a}),g=Z(m,4);n=g[0],r=g[1],i=g[2],o=g[3];var v=function(e,t){var n=t.left,r=t.top,i=t.insideCanvasRealImageWidth,o=t.insideCanvasRealImageHeight,s=t.right,a=t.bottom,l=t.cropX,c=t.cropY,u=t.originalWidth,d=t.originalHeight,h=i,f=o,p=ns,m=p.width,g=p.height;s>m&&l>0&&(h=u-Math.abs(s-m)),a>g&&c>0&&(f=d-Math.abs(a-g));var v={x:(i-h)/2,y:(o-f)/2};return H()(["x","y"],(function(t){var i=v[t];if(i>0){var o=Z(e(t,i,n,r),2);n=o[0],r=o[1]}})),[n,r,h,f]}(h,{left:n,top:r,insideCanvasRealImageWidth:i,insideCanvasRealImageHeight:o,right:u,bottom:d,cropX:s,cropY:a,originalWidth:f,originalHeight:p}),b=Z(v,4);return n=b[0],r=b[1],i=b[2],o=b[3],[n,r,i,o]}({shapeObj:e,left:p,top:m,width:l,height:c,cropX:h,cropY:f,flipX:n,flipY:r,right:s,bottom:a}),b=Z(v,4);p=b[0],m=b[1],l=b[2],c=b[3],i.set({angle:n===r?-t:t,left:p,top:m,width:l,height:c,cropX:h,cropY:f,flipX:n,flipY:r}),Bn(i,{fillImageMaxSize:g})}function os(e){var t;return cr()(t=e.filters).call(t,(function(e){var t=Z(X()(e),1)[0];return S({},ts[t],e[t])}))}function ss(e,t,n){var r=cs(as(e),e.angle,t);n.add(r);var i={fill:new N.fabric.Pattern({source:n.getElement(),repeat:"no-repeat"})};return Bn(i,{patternSourceCanvas:n}),i}function as(e){return ns&&!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])||(ns=e.toCanvasElement()),ns}function ls(e){return[e.getPointByOrigin("left","top"),e.getPointByOrigin("right","top"),e.getPointByOrigin("left","bottom"),e.getPointByOrigin("right","bottom")]}function cs(e,t,n){var r,i=new N.fabric.Image(e);return H()(F().apply(void 0,D()(r=[{}]).call(r,C(n))),(function(e,t){var n,r=(n=t).charAt(0).toUpperCase()+d()(n).call(n,1),o=new N.fabric.Image.filters[r](S({},Jo[t],e));i.filters.push(o)})),i.applyFilters(),Bn(i,{originalAngle:t,fillImageMaxSize:Math.max(i.width,i.height)}),Qo().adjustOriginToCenter(i),i}function us(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var ds=F()({strokeWidth:1,stroke:"#000000",fill:"#ffffff",width:1,height:1,rx:0,ry:0},{lockSkewingX:!0,lockSkewingY:!0,bringForward:!0,isRegular:!1});function hs(e,t,n){var r=re()(e),i=Vn(re()(e)),o=r;r.color&&(o=r.color);var s=null;if("filter"===i){var a=n();s=ss(t,Zi()(r),a)}else s={fill:o};return F()({},e,s)}var fs=function(e){yr(n,e);var t=us(n);function n(e){var r,i,o,s,a,l;return A(this,n),(l=t.call(this,be.SHAPE,e))._shapeObj=null,l._type="rect",l._options=F()({},ds),l._isSelected=!1,l._startPoint={},l._withShiftKey=!1,l._handlers={mousedown:E()(r=l._onFabricMouseDown).call(r,_r(l)),mousemove:E()(i=l._onFabricMouseMove).call(i,_r(l)),mouseup:E()(o=l._onFabricMouseUp).call(o,_r(l)),keydown:E()(s=l._onKeyDown).call(s,_r(l)),keyup:E()(a=l._onKeyUp).call(a,_r(l))},l}return I(n,[{key:"start",value:function(){var e=this.getCanvas();this._isSelected=!1,e.defaultCursor="crosshair",e.selection=!1,e.uniformScaling=!0,e.on({"mouse:down":this._handlers.mousedown}),N.fabric.util.addListener(document,"keydown",this._handlers.keydown),N.fabric.util.addListener(document,"keyup",this._handlers.keyup)}},{key:"end",value:function(){var e=this.getCanvas();this._isSelected=!1,e.defaultCursor="default",e.selection=!0,e.uniformScaling=!1,e.off({"mouse:down":this._handlers.mousedown}),N.fabric.util.removeListener(document,"keydown",this._handlers.keydown),N.fabric.util.removeListener(document,"keyup",this._handlers.keyup)}},{key:"setStates",value:function(e,t){this._type=e,t&&(this._options=F()(this._options,t))}},{key:"add",value:function(e,t){var n=this;return new(O())((function(r){var i=n.getCanvas(),o=n._extendOptions(t),s=n._createInstance(e,o),a=n.graphics.createObjectProperties(s);n._bindEventOnShape(s),i.add(s).setActiveObject(s),n._resetPositionFillFilter(s),r(a)}))}},{key:"change",value:function(e,t){var n=this;return new(O())((function(r,i){Hn(e)||i(un);var o="filter"===Vn(re()(t)),s=n.graphics,a=s.canvasImage,l=s.createStaticCanvas;e.set(o?hs(t,a,l):t),o&&n._resetPositionFillFilter(e),n.getCanvas().renderAll(),r()}))}},{key:"makeFillPropertyForUserEvent",value:function(e){var t=Wn(e),n={};if(t===pe.FILTER){var r=os(rs(e));n.type=t,n.filter=r}else n.type=pe.COLOR,n.color=re()(e)||"transparent";return n}},{key:"processForCopiedObject",value:function(e,t){if(this._bindEventOnShape(e),"filter"===Wn(e)){var n=os(rs(t)),r=this.graphics.createStaticCanvas();e.set(ss(this.graphics.canvasImage,n,r)),this._resetPositionFillFilter(e)}}},{key:"_createInstance",value:function(e,t){var n;switch(e){case"rect":n=new N.fabric.Rect(t);break;case"circle":n=new N.fabric.Ellipse(F()({type:"circle"},t));break;case"triangle":n=new N.fabric.Triangle(t);break;default:n={}}return n}},{key:"_extendOptions",value:function(e){var t=Qt,n=this.graphics,r=n.canvasImage,i=n.createStaticCanvas;return hs(e=F()({},ds,this._options,t,e),r,i)}},{key:"_bindEventOnShape",value:function(e){var t=this,n=this.getCanvas();e.on({added:function(){t._shapeObj=this,Qo().setOrigins(t._shapeObj)},selected:function(){t._isSelected=!0,t._shapeObj=this,n.uniformScaling=!0,n.defaultCursor="default",Qo().setOrigins(t._shapeObj)},deselected:function(){t._isSelected=!1,t._shapeObj=null,n.defaultCursor="crosshair",n.uniformScaling=!1},modified:function(){var e=t._shapeObj;Qo().adjustOriginToCenter(e),Qo().setOrigins(e)},modifiedInGroup:function(n){t._fillFilterRePositionInGroupSelection(e,n)},moving:function(){t._resetPositionFillFilter(this)},rotating:function(){t._resetPositionFillFilter(this)},scaling:function(e){var r=n.getPointer(e.e),i=t._shapeObj;n.setCursor("crosshair"),Qo().resize(i,r,!0),t._resetPositionFillFilter(this)}})}},{key:"_onFabricMouseDown",value:function(e){if(e.target||(this._isSelected=!1,this._shapeObj=!1),!this._isSelected&&!this._shapeObj){var t=this.getCanvas();this._startPoint=t.getPointer(e.e),t.on({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}}},{key:"_onFabricMouseMove",value:function(e){var t=this,n=this.getCanvas(),r=n.getPointer(e.e),i=this._startPoint.x,o=this._startPoint.y,s=i-r.x,a=o-r.y,l=this._shapeObj;l?(this._shapeObj.set({isRegular:this._withShiftKey}),Qo().resize(l,r),n.renderAll(),this._resetPositionFillFilter(l)):this.add(this._type,{left:i,top:o,width:s,height:a}).then((function(e){t.fire(Qe,e)}))}},{key:"_onFabricMouseUp",value:function(){var e=this,t=this.getCanvas(),n=this._startPoint.x,r=this._startPoint.y,i=this._shapeObj;i?i&&(Qo().adjustOriginToCenter(i),this.fire($e,this.graphics.createObjectProperties(i))):this.add(this._type,{left:n,top:r,width:20,height:20}).then((function(t){e.fire(Qe,t)})),t.off({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}},{key:"_onKeyDown",value:function(e){e.keyCode===Ut&&(this._withShiftKey=!0,this._shapeObj&&(this._shapeObj.isRegular=!0))}},{key:"_onKeyUp",value:function(e){e.keyCode===Ut&&(this._withShiftKey=!1,this._shapeObj&&(this._shapeObj.isRegular=!1))}},{key:"_resetPositionFillFilter",value:function(e){if("filter"===Wn(e)){var t=Fn(e,"patternSourceCanvas").patternSourceCanvas,n=Fn(rs(e),"originalAngle").originalAngle;this.graphics.canvasImage.angle!==n&&function(e,t){var n=Fn(e,"patternSourceCanvas").patternSourceCanvas,r=Z(n.getObjects(),1)[0],i=os(r);n.remove(r);var o=cs(as(t,!0),t.angle,i);n.add(o)}(e,this.graphics.canvasImage);var r=e.originX,i=e.originY;Qo().adjustOriginToCenter(e),e.width*=e.scaleX,e.height*=e.scaleY,e.rx*=e.scaleX,e.ry*=e.scaleY,e.scaleX=1,e.scaleY=1,is(e),function(e,t){var n=t.originX,r=t.originY,i=e.getPointByOrigin(n,r),o=i.x,s=i.y;e.set({left:o,top:s,originX:n,originY:r}),e.setCoords()}(e,{originX:r,originY:i}),function(e){var t=Fn(Z(e.getObjects(),1)[0],"fillImageMaxSize").fillImageMaxSize;t=Math.max(1,t),e.setDimensions({width:t,height:t}),e.renderAll()}(t)}}},{key:"_fillFilterRePositionInGroupSelection",value:function(e,t){1===t.scaleX&&1===t.scaleY||t.addWithUpdate();var n=e.angle,r=e.left,i=e.top;N.fabric.util.addTransformToObject(e,t.calcTransformMatrix()),this._resetPositionFillFilter(e),e.set({angle:n,left:r,top:i})}}]),n}(io);function ps(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var ms={left:0,top:0,width:0,height:0,stroke:"#000000",strokeWidth:0,fill:"#000000",opacity:.4,evented:!1,selectable:!1,hoverCursor:"auto"},gs=.0045,vs=.003,bs=.003,ys=.0066,ws=.0044,xs=.003,_s=lt,Cs=Ke,ks=Ge,Ss=Ye,As=dt,Ts=ht,Is=ct,Ms=ut,Es=function(e){yr(n,e);var t=ps(n);function n(e){var r,i,o,s,a,l,c,u,d,h,f,p,m;A(this,n),(m=t.call(this,be.ZOOM,e)).zoomArea=null,m._startPoint=null,m._centerPoints=[],m.zoomLevel=1,m.zoomMode=Nt,m._listeners={startZoom:E()(r=m._onMouseDownWithZoomMode).call(r,_r(m)),moveZoom:E()(i=m._onMouseMoveWithZoomMode).call(i,_r(m)),stopZoom:E()(o=m._onMouseUpWithZoomMode).call(o,_r(m)),startHand:E()(s=m._onMouseDownWithHandMode).call(s,_r(m)),moveHand:E()(a=m._onMouseMoveWithHandMode).call(a,_r(m)),stopHand:E()(l=m._onMouseUpWithHandMode).call(l,_r(m)),zoomChanged:E()(c=m._changeScrollState).call(c,_r(m)),keydown:E()(u=m._startHandModeWithSpaceBar).call(u,_r(m)),keyup:E()(d=m._endHandModeWithSpaceBar).call(d,_r(m))};var g=m.getCanvas();return m.aspectRatio=g.width/g.height,m._verticalScroll=new N.fabric.Rect(ms),m._horizontalScroll=new N.fabric.Rect(ms),g.on(_s,m._listeners.zoomChanged),m.graphics.on(Cs,E()(h=m._startTextEditingHandler).call(h,_r(m))),m.graphics.on(ks,E()(f=m._startTextEditingHandler).call(f,_r(m))),m.graphics.on(Ss,E()(p=m._stopTextEditingHandler).call(p,_r(m))),m}return I(n,[{key:"attachKeyboardZoomEvents",value:function(){N.fabric.util.addListener(document,As,this._listeners.keydown),N.fabric.util.addListener(document,Ts,this._listeners.keyup)}},{key:"detachKeyboardZoomEvents",value:function(){N.fabric.util.removeListener(document,As,this._listeners.keydown),N.fabric.util.removeListener(document,Ts,this._listeners.keyup)}},{key:"_startTextEditingHandler",value:function(){this.isTextEditing=!0}},{key:"_stopTextEditingHandler",value:function(){this.isTextEditing=!1}},{key:"_startHandModeWithSpaceBar",value:function(e){this.withSpace||this.isTextEditing||e.keyCode===Xt&&(this.withSpace=!0,this.startHandMode())}},{key:"_endHandModeWithSpaceBar",value:function(e){e.keyCode===Xt&&(this.withSpace=!1,this.endHandMode())}},{key:"startZoomInMode",value:function(){if(!this.zoomArea){this.endHandMode(),this.zoomMode=Bt;var e=this.getCanvas();this._changeObjectsEventedState(!1),this.zoomArea=new N.fabric.Rect({left:0,top:0,width:.5,height:.5,stroke:"black",strokeWidth:1,fill:"transparent",hoverCursor:"zoom-in"}),e.discardActiveObject(),e.add(this.zoomArea),e.on("mouse:down",this._listeners.startZoom),e.selection=!1,e.defaultCursor="zoom-in"}}},{key:"endZoomInMode",value:function(){this.zoomMode=Nt;var e=this.getCanvas(),t=this._listeners,n=t.startZoom,r=t.moveZoom,i=t.stopZoom;e.selection=!0,e.defaultCursor="auto",e.off({"mouse:down":n,"mouse:move":r,"mouse:up":i}),this._changeObjectsEventedState(!0),e.remove(this.zoomArea),this.zoomArea=null}},{key:"start",value:function(){this.zoomArea=null,this._startPoint=null,this._startHandPoint=null}},{key:"end",value:function(){this.endZoomInMode(),this.endHandMode()}},{key:"startHandMode",value:function(){this.endZoomInMode(),this.zoomMode=Ft;var e=this.getCanvas();this._changeObjectsEventedState(!1),e.discardActiveObject(),e.off("mouse:down",this._listeners.startHand),e.on("mouse:down",this._listeners.startHand),e.selection=!1,e.defaultCursor="grab",e.fire(Is)}},{key:"endHandMode",value:function(){this.zoomMode=Nt;var e=this.getCanvas();this._changeObjectsEventedState(!0),e.off("mouse:down",this._listeners.startHand),e.selection=!0,e.defaultCursor="auto",this._startHandPoint=null,e.fire(Ms)}},{key:"_onMouseDownWithZoomMode",value:function(e){var t=e.target,n=e.e;if(!t){var r=this.getCanvas();r.selection=!1,this._startPoint=r.getPointer(n),this.zoomArea.set({width:0,height:0});var i=this._listeners,o=i.moveZoom,s=i.stopZoom;r.on({"mouse:move":o,"mouse:up":s})}}},{key:"_onMouseMoveWithZoomMode",value:function(e){var t=e.e,n=this.getCanvas(),r=n.getPointer(t),i=r.x,o=r.y,s=this.zoomArea,a=this._startPoint;Math.abs(i-a.x)+Math.abs(o-a.y)>10&&(n.remove(s),s.set(this._calcRectDimensionFromPoint(i,o)),n.add(s))}},{key:"_calcRectDimensionFromPoint",value:function(e,t){var n=this.getCanvas(),r=n.getWidth(),i=n.getHeight(),o=this._startPoint,s=o.x,a=o.y,l=Math.min,c=l(s,e),u=l(a,t);return{left:c,top:u,width:Mn(e,s,r)-c,height:Mn(t,a,i)-u}}},{key:"_onMouseUpWithZoomMode",value:function(){var e=this.zoomLevel,t=this.zoomArea,n=this._listeners,r=n.moveZoom,i=n.stopZoom,o=this.getCanvas(),s=this._getCenterPoint(),a=s.x,l=s.y;this._isMaxZoomLevel()||(this._centerPoints.push({x:a,y:l,prevZoomLevel:e,zoomLevel:e+1}),e+=1,o.zoomToPoint({x:a,y:l},e),this._fireZoomChanged(o,e),this.zoomLevel=e),o.off({"mouse:move":r,"mouse:up":i}),o.remove(t),this._startPoint=null}},{key:"_getCenterPoint",value:function(){var e=this.zoomArea,t=e.left,n=e.top,r=e.width,i=e.height,o=this._startPoint,s=o.x,a=o.y,l=this.aspectRatio;return r<10&&i<10?{x:s,y:a}:r>i?{x:t+l*i/2,y:n+i/2}:{x:t+r/2,y:n+r/l/2}}},{key:"zoom",value:function(e){for(var t=e.x,n=e.y,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoomLevel,i=this.getCanvas(),o=this._centerPoints,s=o.length-1;s>=0&&!(o[s].zoomLevel<r);s-=1){var a=o.pop(),l=a.x,c=a.y,u=a.prevZoomLevel;i.zoomToPoint({x:l,y:c},u),this.zoomLevel=u}i.zoomToPoint({x:t,y:n},r),this._isDefaultZoomLevel(r)||this._centerPoints.push({x:t,y:n,zoomLevel:r,prevZoomLevel:this.zoomLevel}),this.zoomLevel=r,this._fireZoomChanged(i,r)}},{key:"zoomOut",value:function(){var e=this._centerPoints;if(e.length){var t=this.getCanvas(),n=e.pop(),r=n.x,i=n.y,o=n.prevZoomLevel;this._isDefaultZoomLevel(o)?t.setViewportTransform([1,0,0,1,0,0]):t.zoomToPoint({x:r,y:i},o),this.zoomLevel=o,this._fireZoomChanged(t,this.zoomLevel)}}},{key:"resetZoom",value:function(){var e=this.getCanvas();e.setViewportTransform([1,0,0,1,0,0]),this.zoomLevel=1,this._centerPoints=[],this._fireZoomChanged(e,this.zoomLevel)}},{key:"_isMaxZoomLevel",value:function(){return this.zoomLevel>=5}},{key:"_movePointOfZoom",value:function(e){var t=e.x,n=e.y,r=this._centerPoints;if(r.length){var i=this.getCanvas(),o=this.zoomLevel,s=r.pop(),a=s.x,l=s.y,c=s.prevZoomLevel,u=a-t,d=l-n;i.zoomToPoint({x:a,y:l},c),i.zoomToPoint({x:u,y:d},o),r.push({x:u,y:d,prevZoomLevel:c,zoomLevel:o}),this._fireZoomChanged(i,o)}}},{key:"_onMouseDownWithHandMode",value:function(e){var t=e.target,n=e.e;if(!t){var r=this.getCanvas();if(!(this.zoomLevel<=1)){r.selection=!1,this._startHandPoint=r.getPointer(n);var i=this._listeners,o=i.moveHand,s=i.stopHand;r.on({"mouse:move":o,"mouse:up":s})}}}},{key:"_onMouseMoveWithHandMode",value:function(e){var t=e.e,n=this.getCanvas().getPointer(t),r=n.x,i=n.y,o=r-this._startHandPoint.x,s=i-this._startHandPoint.y;this._movePointOfZoom({x:o,y:s})}},{key:"_onMouseUpWithHandMode",value:function(){var e=this.getCanvas(),t=this._listeners,n=t.moveHand,r=t.stopHand;e.off({"mouse:move":n,"mouse:up":r}),this._startHandPoint=null}},{key:"_changeScrollState",value:function(e){var t=e.viewport,n=e.zoomLevel,r=this.getCanvas();if(r.remove(this._verticalScroll),r.remove(this._horizontalScroll),!this._isDefaultZoomLevel(n)){var i=r.width,o=r.height,s=t.tl,a=t.tr,l=t.bl,c=a.x-s.x,u=l.y-s.y,d=c*c/i,h=u*ys,f=Mn(s.x+s.x/i*c,s.x,a.x-d),p=u*ws,m=u*xs;this._horizontalScroll.set({left:f,top:l.y-h-p,width:d,height:h,rx:m,ry:m});var g=c*gs,v=u*u/o,b=Mn(s.y+s.y/o*u,a.y,l.y-v),y=c*vs,w=c*bs;this._verticalScroll.set({left:a.x-g-y,top:b,width:g,height:v,rx:w,ry:w}),this._addScrollBar()}}},{key:"_changeObjectsEventedState",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.getCanvas().forEachObject((function(t){t.evented=e}))}},{key:"_addScrollBar",value:function(){var e=this,t=this.getCanvas();t.add(this._horizontalScroll),t.add(this._verticalScroll),this.scrollBarTid&&clearTimeout(this.scrollBarTid),this.scrollBarTid=m()((function(){t.remove(e._horizontalScroll),t.remove(e._verticalScroll)}),3e3)}},{key:"_isDefaultZoomLevel",value:function(e){return 1===e}},{key:"_fireZoomChanged",value:function(e,t){e.fire(_s,{viewport:e.calcViewportBoundaries(),zoomLevel:t})}},{key:"mode",get:function(){return this.zoomMode}}]),n}(io),Ps=Es,Ds=Kn.create,js=Kn.types,Os=function(){function e(t){A(this,e),this.name=t}return I(e,[{key:"getName",value:function(){return this.name}},{key:"start",value:function(){throw new Error(Ds(js.UN_IMPLEMENTATION,"start"))}},{key:"end",value:function(){throw new Error(Ds(js.UN_IMPLEMENTATION,"stop"))}}]),e}();function Rs(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var Ls=function(e){yr(n,e);var t=Rs(n);function n(){return A(this,n),t.call(this,Pt.CROPPER)}return I(n,[{key:"start",value:function(e){e.getComponent(be.CROPPER).start()}},{key:"end",value:function(e){e.getComponent(be.CROPPER).end()}}]),n}(Os),Ns=Ls;function Bs(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var Fs=function(e){yr(n,e);var t=Bs(n);function n(){return A(this,n),t.call(this,Pt.FREE_DRAWING)}return I(n,[{key:"start",value:function(e,t){e.getComponent(be.FREE_DRAWING).start(t)}},{key:"end",value:function(e){e.getComponent(be.FREE_DRAWING).end()}}]),n}(Os),zs=Fs;function Vs(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var Ws=function(e){yr(n,e);var t=Vs(n);function n(){return A(this,n),t.call(this,Pt.LINE_DRAWING)}return I(n,[{key:"start",value:function(e,t){e.getComponent(be.LINE).start(t)}},{key:"end",value:function(e){e.getComponent(be.LINE).end()}}]),n}(Os),Hs=Ws;function Us(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var $s=function(e){yr(n,e);var t=Us(n);function n(){return A(this,n),t.call(this,Pt.SHAPE)}return I(n,[{key:"start",value:function(e){e.getComponent(be.SHAPE).start()}},{key:"end",value:function(e){e.getComponent(be.SHAPE).end()}}]),n}(Os),Ys=$s;function Gs(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var qs=function(e){yr(n,e);var t=Gs(n);function n(){return A(this,n),t.call(this,Pt.TEXT)}return I(n,[{key:"start",value:function(e){e.getComponent(be.TEXT).start()}},{key:"end",value:function(e){e.getComponent(be.TEXT).end()}}]),n}(Os),Xs=qs;function Zs(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var Ks=function(e){yr(n,e);var t=Zs(n);function n(){return A(this,n),t.call(this,Pt.ICON)}return I(n,[{key:"start",value:function(e){e.getComponent(be.ICON).start()}},{key:"end",value:function(e){e.getComponent(be.ICON).end()}}]),n}(Os),Qs=Ks;function Js(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var ea=function(e){yr(n,e);var t=Js(n);function n(){return A(this,n),t.call(this,Pt.ZOOM)}return I(n,[{key:"start",value:function(e){e.getComponent(be.ZOOM).start()}},{key:"end",value:function(e){e.getComponent(be.ZOOM).end()}}]),n}(Os),ta=ea,na=null;function ra(e){na=e}function ia(e,t){var n;return"activeSelection"===e.type?cr()(n=e.getObjects()).call(n,(function(n){var r=n.angle,i=n.left,o=n.top,s=n.scaleX,a=n.scaleY,l=n.width,c=n.height;N.fabric.util.addTransformToObject(n,e.calcTransformMatrix());var u=t(n);return n.set({angle:r,left:i,top:o,width:l,height:c,scaleX:s,scaleY:a}),u})):[t(e)]}function oa(e,t,n){return n?{id:e,width:t.width,height:t.height,top:t.top,left:t.left,angle:t.angle,scaleX:t.scaleX,scaleY:t.scaleY}:F()({id:e},t)}function sa(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var aa=function(e){yr(n,e);var t=sa(n);function n(e){var r;return A(this,n),(r=t.call(this,be.RESIZE,e))._dimensions=null,r._originalDimensions=null,r}return I(n,[{key:"getCurrentDimensions",value:function(){var e=this.getCanvasImage();if(!this._dimensions&&e){var t=e.width,n=e.height;this._dimensions={width:t,height:n}}return this._dimensions}},{key:"getOriginalDimensions",value:function(){return this._originalDimensions}},{key:"setOriginalDimensions",value:function(e){this._originalDimensions=e}},{key:"resize",value:function(e){var t=this.getCanvasImage(),n=t.width,r=t.height,i=t.scaleX,o=t.scaleY,s=e.width,a=e.height,l={scaleX:s?s/n:i,scaleY:a?a/r:o};return i===l.scaleX&&o===l.scaleY||(t.set(l).setCoords(),this._dimensions={width:t.width*t.scaleX,height:t.height*t.scaleY}),this.adjustCanvasDimensionBase(),O().resolve()}},{key:"start",value:function(){var e=this.getCurrentDimensions();this.setOriginalDimensions(e)}},{key:"end",value:function(){}}]),n}(io),la=aa;function ca(e){var t=function(){if("undefined"===typeof Reflect||!mr())return!1;if(mr().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(mr()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var i=Sr(this).constructor;n=mr()(r,arguments,i)}else n=r.apply(this,arguments);return Cr(this,n)}}var ua=function(e){yr(n,e);var t=ca(n);function n(){return A(this,n),t.call(this,Pt.RESIZE)}return I(n,[{key:"start",value:function(e){e.getComponent(be.RESIZE).start()}},{key:"end",value:function(e){e.getComponent(be.RESIZE).end()}}]),n}(Os),da=ua,ha={cssOnly:!0},fa={backstoreOnly:!0},pa=function(){function e(t){var n,r,i,o,s,a,l,c,u,d,h,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=f.cssMaxWidth,m=f.cssMaxHeight;A(this,e),this.canvasImage=null,this.cssMaxWidth=p||1e3,this.cssMaxHeight=m||800,this.cropSelectionStyle={},this.targetObjectForCopyPaste=null,this.imageName="",this._objects={},this._canvas=null,this._drawingMode=Pt.NORMAL,this._drawingModeMap={},this._componentMap={},this._handler={onMouseDown:E()(n=this._onMouseDown).call(n,this),onObjectAdded:E()(r=this._onObjectAdded).call(r,this),onObjectRemoved:E()(i=this._onObjectRemoved).call(i,this),onObjectMoved:E()(o=this._onObjectMoved).call(o,this),onObjectScaled:E()(s=this._onObjectScaled).call(s,this),onObjectModified:E()(a=this._onObjectModified).call(a,this),onObjectRotated:E()(l=this._onObjectRotated).call(l,this),onObjectSelected:E()(c=this._onObjectSelected).call(c,this),onPathCreated:E()(u=this._onPathCreated).call(u,this),onSelectionCleared:E()(d=this._onSelectionCleared).call(d,this),onSelectionCreated:E()(h=this._onSelectionCreated).call(h,this)},this._setObjectCachingToFalse(),this._setCanvasElement(t),this._createDrawingModeInstances(),this._createComponents(),this._attachCanvasEvents(),this._attachZoomEvents()}return I(e,[{key:"destroy",value:function(){var e=this._canvas.wrapperEl;this._canvas.clear(),e.parentNode.removeChild(e),this._detachZoomEvents()}},{key:"_attachZoomEvents",value:function(){this.getComponent(be.ZOOM).attachKeyboardZoomEvents()}},{key:"_detachZoomEvents",value:function(){this.getComponent(be.ZOOM).detachKeyboardZoomEvents()}},{key:"deactivateAll",value:function(){return this._canvas.discardActiveObject(),this}},{key:"renderAll",value:function(){return this._canvas.renderAll(),this}},{key:"add",value:function(e){var t,n=[];eo()(e)?n=e:n.push(e),(t=this._canvas).add.apply(t,C(n))}},{key:"contains",value:function(e){return this._canvas.contains(e)}},{key:"getObjects",value:function(){var e;return d()(e=this._canvas.getObjects()).call(e)}},{key:"getObject",value:function(e){return this._objects[e]}},{key:"remove",value:function(e){this._canvas.remove(e)}},{key:"removeAll",value:function(e){var t,n=this._canvas,r=d()(t=n.getObjects()).call(t);return n.remove.apply(n,C(this._canvas.getObjects())),e&&n.clear(),r}},{key:"removeObjectById",value:function(e){var t=[],n=this._canvas,r=this.getObject(e);return r&&r.isType("group")&&!r.isEmpty()?(n.discardActiveObject(),r.forEachObject((function(e){t.push(e),n.remove(e)}))):n.contains(r)&&(t.push(r),n.remove(r)),t}},{key:"getObjectId",value:function(e){var t=null;for(t in this._objects)if(this._objects.hasOwnProperty(t)&&e===this._objects[t])return t;return null}},{key:"getActiveObject",value:function(){return this._canvas._activeObject}},{key:"getActiveObjectIdForRemove",value:function(){var e=this.getActiveObject(),t=e.type,n=e.left,r=e.top;if("activeSelection"===t){var i=new N.fabric.Group(C(e.getObjects()),{left:n,top:r});return this._addFabricObject(i)}return this.getObjectId(e)}},{key:"isReadyRemoveObject",value:function(){var e=this.getActiveObject();return e&&!e.isEditing}},{key:"getActiveObjects",value:function(){var e=this._canvas._activeObject;return e&&"activeSelection"===e.type?e:null}},{key:"getActiveSelectionFromObjects",value:function(e){var t=this.getCanvas();return new N.fabric.ActiveSelection(e,{canvas:t})}},{key:"setActiveObject",value:function(e){this._canvas.setActiveObject(e)}},{key:"setCropSelectionStyle",value:function(e){this.cropSelectionStyle=e}},{key:"getComponent",value:function(e){return this._componentMap[e]}},{key:"getDrawingMode",value:function(){return this._drawingMode}},{key:"startDrawingMode",value:function(e,t){if(this._isSameDrawingMode(e))return!0;this.stopDrawingMode();var n=this._getDrawingModeInstance(e);return n&&n.start&&(n.start(this,t),this._drawingMode=e),!!n}},{key:"stopDrawingMode",value:function(){if(!this._isSameDrawingMode(Pt.NORMAL)){var e=this._getDrawingModeInstance(this.getDrawingMode());e&&e.end&&e.end(this),this._drawingMode=Pt.NORMAL}}},{key:"zoom",value:function(e,t){var n=e.x,r=e.y,i=this.getComponent(be.ZOOM);i.zoom({x:n,y:r},t)}},{key:"getZoomMode",value:function(){return this.getComponent(be.ZOOM).mode}},{key:"startZoomInMode",value:function(){this.getComponent(be.ZOOM).startZoomInMode()}},{key:"endZoomInMode",value:function(){this.getComponent(be.ZOOM).endZoomInMode()}},{key:"zoomOut",value:function(){this.getComponent(be.ZOOM).zoomOut()}},{key:"startHandMode",value:function(){this.getComponent(be.ZOOM).startHandMode()}},{key:"endHandMode",value:function(){this.getComponent(be.ZOOM).endHandMode()}},{key:"resetZoom",value:function(){this.getComponent(be.ZOOM).resetZoom()}},{key:"toDataURL",value:function(e){var t=this.getComponent(be.CROPPER);t.changeVisibility(!1);var n=this._canvas&&this._canvas.toDataURL(e);return t.changeVisibility(!0),n}},{key:"setCanvasImage",value:function(e,t){t&&Tn(t),this.imageName=e,this.canvasImage=t}},{key:"setCssMaxDimension",value:function(e){this.cssMaxWidth=e.width||this.cssMaxWidth,this.cssMaxHeight=e.height||this.cssMaxHeight}},{key:"adjustCanvasDimension",value:function(){this.adjustCanvasDimensionBase(this.canvasImage.scale(1))}},{key:"adjustCanvasDimensionBase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=this.canvasImage);var t=e.getBoundingRect(),n=t.width,r=t.height,i=this._calcMaxDimension(n,r);this.setCanvasCssDimension({width:"100%",height:"100%","max-width":"".concat(i.width,"px"),"max-height":"".concat(i.height,"px")}),this.setCanvasBackstoreDimension({width:n,height:r}),this._canvas.centerObject(e)}},{key:"setCanvasCssDimension",value:function(e){this._canvas.setDimensions(e,ha)}},{key:"setCanvasBackstoreDimension",value:function(e){this._canvas.setDimensions(e,fa)}},{key:"setImageProperties",value:function(e,t){var n=this.canvasImage;n&&(n.set(e).setCoords(),t&&this._canvas.renderAll())}},{key:"getCanvasElement",value:function(){return this._canvas.getElement()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getCanvasImage",value:function(){return this.canvasImage}},{key:"getImageName",value:function(){return this.imageName}},{key:"addImageObject",value:function(e){var t,n=this,r=E()(t=this._callbackAfterLoadingImageObject).call(t,this);return new(O())((function(t){N.fabric.Image.fromURL(e,(function(e){r(e),t(n.createObjectProperties(e))}),{crossOrigin:"Anonymous"})}))}},{key:"getCenter",value:function(){return this._canvas.getCenter()}},{key:"getCropzoneRect",value:function(){return this.getComponent(be.CROPPER).getCropzoneRect()}},{key:"setCropzoneRect",value:function(e){this.getComponent(be.CROPPER).setCropzoneRect(e)}},{key:"getCroppedImageData",value:function(e){return this.getComponent(be.CROPPER).getCroppedImageData(e)}},{key:"setBrush",value:function(e){var t=this._drawingMode,n=be.FREE_DRAWING;t===Pt.LINE_DRAWING&&(n=be.LINE),this.getComponent(n).setBrush(e)}},{key:"setDrawingShape",value:function(e,t){this.getComponent(be.SHAPE).setStates(e,t)}},{key:"setIconStyle",value:function(e,t){this.getComponent(be.ICON).setStates(e,t)}},{key:"registerPaths",value:function(e){this.getComponent(be.ICON).registerPaths(e)}},{key:"changeCursor",value:function(e){var t=this.getCanvas();t.defaultCursor=e,t.renderAll()}},{key:"hasFilter",value:function(e){return this.getComponent(be.FILTER).hasFilter(e)}},{key:"setSelectionStyle",value:function(e){F()(Qt,e)}},{key:"setObjectProperties",value:function(e,t){var n=this.getObject(e),r=F()({},t);return n.set(r),n.setCoords(),this.getCanvas().renderAll(),r}},{key:"getObjectProperties",value:function(e,t){var n=this.getObject(e),r={};return G()(t)?r[t]=n[t]:eo()(t)?Tr()(t,(function(e){r[e]=n[e]})):no()(t,(function(e,t){r[t]=n[t]})),r}},{key:"getObjectPosition",value:function(e,t,n){var r=this.getObject(e);return r?r.getPointByOrigin(t,n):null}},{key:"setObjectPosition",value:function(e,t){var n=this.getObject(e),r=t.x,i=t.y,o=t.originX,s=t.originY;if(!n)return!1;var a=n.getPointByOrigin(o,s),l=n.getPointByOrigin("center","center"),c=l.x-a.x,u=l.y-a.y;return n.set({left:r+c,top:i+u}),n.setCoords(),!0}},{key:"getCanvasSize",value:function(){var e=this.getCanvasImage();return{width:e?e.width:0,height:e?e.height:0}}},{key:"createStaticCanvas",value:function(){var e=new N.fabric.StaticCanvas;return e.set({enableRetinaScaling:!1}),e}},{key:"_getDrawingModeInstance",value:function(e){return this._drawingModeMap[e]}},{key:"_setObjectCachingToFalse",value:function(){N.fabric.Object.prototype.objectCaching=!1}},{key:"_setCanvasElement",value:function(e){var t,n;"CANVAS"!==(t=e.nodeType?e:document.querySelector(e)).nodeName.toUpperCase()&&(n=document.createElement("canvas"),t.appendChild(n)),this._canvas=new N.fabric.Canvas(n,{containerClass:"tui-image-editor-canvas-container",enableRetinaScaling:!1})}},{key:"_createDrawingModeInstances",value:function(){this._register(this._drawingModeMap,new Ns),this._register(this._drawingModeMap,new zs),this._register(this._drawingModeMap,new Hs),this._register(this._drawingModeMap,new Ys),this._register(this._drawingModeMap,new Xs),this._register(this._drawingModeMap,new Qs),this._register(this._drawingModeMap,new ta),this._register(this._drawingModeMap,new da)}},{key:"_createComponents",value:function(){this._register(this._componentMap,new lo(this)),this._register(this._componentMap,new bo(this)),this._register(this._componentMap,new xo(this)),this._register(this._componentMap,new ko(this)),this._register(this._componentMap,new To(this)),this._register(this._componentMap,new Do(this)),this._register(this._componentMap,new No(this)),this._register(this._componentMap,new Vo(this)),this._register(this._componentMap,new Zo(this)),this._register(this._componentMap,new fs(this)),this._register(this._componentMap,new Ps(this)),this._register(this._componentMap,new la(this))}},{key:"_register",value:function(e,t){e[t.getName()]=t}},{key:"_isSameDrawingMode",value:function(e){return this.getDrawingMode()===e}},{key:"_calcMaxDimension",value:function(e,t){var n=this.cssMaxWidth/e,r=this.cssMaxHeight/t,i=Math.min(e,this.cssMaxWidth),o=Math.min(t,this.cssMaxHeight);return n<1&&n<r?(i=e*n,o=t*n):r<1&&r<n&&(i=e*r,o=t*r),{width:Math.floor(i),height:Math.floor(o)}}},{key:"_callbackAfterLoadingImageObject",value:function(e){var t=this.getCanvasImage().getCenterPoint();e.set(Qt),e.set({left:t.x,top:t.y,crossOrigin:"Anonymous"}),this.getCanvas().add(e).setActiveObject(e)}},{key:"_attachCanvasEvents",value:function(){var e=this._canvas,t=this._handler;e.on({"mouse:down":t.onMouseDown,"object:added":t.onObjectAdded,"object:removed":t.onObjectRemoved,"object:moving":t.onObjectMoved,"object:scaling":t.onObjectScaled,"object:modified":t.onObjectModified,"object:rotating":t.onObjectRotated,"path:created":t.onPathCreated,"selection:cleared":t.onSelectionCleared,"selection:created":t.onSelectionCreated,"selection:updated":t.onObjectSelected})}},{key:"_onMouseDown",value:function(e){var t=this,n=e.e,r=e.target,i=this._canvas.getPointer(n);if(r){var o=r.type;ra(ia(r,(function(e){return oa(t.getObjectId(e),e,"activeSelection"===o)})))}this.fire(et,n,i)}},{key:"_onObjectAdded",value:function(e){var t=e.target;t.isType("cropzone")||this._addFabricObject(t)}},{key:"_onObjectRemoved",value:function(e){var t=e.target;this._removeFabricObject(Tn(t))}},{key:"_onObjectMoved",value:function(e){var t=this;this._lazyFire(We,(function(e){return t.createObjectProperties(e)}),e.target)}},{key:"_onObjectScaled",value:function(e){var t=this;this._lazyFire(He,(function(e){return t.createObjectProperties(e)}),e.target)}},{key:"_onObjectModified",value:function(e){var t=e.target;if("activeSelection"===t.type){var n=t.getObjects();te()(n).call(n,(function(e){return e.fire("modifiedInGroup",t)}))}this.fire(Ye,t,this.getObjectId(t))}},{key:"_onObjectRotated",value:function(e){var t=this;this._lazyFire(Ue,(function(e){return t.createObjectProperties(e)}),e.target)}},{key:"_lazyFire",value:function(e,t,n){var r=this,i=n&&n.canvasEventDelegation?n.canvasEventDelegation(e):"none";"unregistered"===i&&n.canvasEventRegister(e,(function(n){r.fire(e,t(n))})),"none"===i&&this.fire(e,t(n))}},{key:"_onObjectSelected",value:function(e){var t=e.target,n=this.createObjectProperties(t);this.fire(Ve,n)}},{key:"_onPathCreated",value:function(e){var t=e.path.getCenterPoint(),n=t.x,r=t.y;e.path.set(F()({left:n,top:r},Qt));var i=this.createObjectProperties(e.path);this.fire(Qe,i)}},{key:"_onSelectionCleared",value:function(){this.fire(rt)}},{key:"_onSelectionCreated",value:function(e){var t=e.target,n=this.createObjectProperties(t);this.fire(Ve,n),this.fire(it,e.target)}},{key:"discardSelection",value:function(){this._canvas.discardActiveObject(),this._canvas.renderAll()}},{key:"changeSelectableAll",value:function(e){this._canvas.forEachObject((function(t){t.selectable=e,t.hoverCursor=e?"move":"crosshair"}))}},{key:"createObjectProperties",value:function(e){var t={id:Tn(e),type:e.type};if(F()(t,Pn(e,["left","top","width","height","fill","stroke","strokeWidth","opacity","angle"])),zn(["i-text","text"],e.type))F()(t,this._createTextProperties(e,t));else if(zn(["rect","triangle","circle"],e.type)){var n=this.getComponent(be.SHAPE);F()(t,{fill:n.makeFillPropertyForUserEvent(e)})}return t}},{key:"_createTextProperties",value:function(e){var t={};return F()(t,Pn(e,["text","fontFamily","fontSize","fontStyle","textAlign","textDecoration","fontWeight"])),t}},{key:"_addFabricObject",value:function(e){var t=Tn(e);return this._objects[t]=e,t}},{key:"_removeFabricObject",value:function(e){delete this._objects[e]}},{key:"resetTargetObjectForCopyPaste",value:function(){var e=this.getActiveObject();e&&(this.targetObjectForCopyPaste=e)}},{key:"pasteObject",value:function(){var e=this;if(!this.targetObjectForCopyPaste)return O().resolve([]);var t=this.targetObjectForCopyPaste,n="activeSelection"===t.type?t.getObjects():[t],r=null;return this.discardSelection(),this._cloneObject(n).then((function(t){if(t.length>1)r=e.getActiveSelectionFromObjects(t);else{var n=Z(t,1);r=n[0]}e.targetObjectForCopyPaste=r,e.setActiveObject(r)}))}},{key:"_cloneObject",value:function(e){var t=this,n=cr()(e).call(e,(function(e){return t._cloneObjectItem(e)}));return O().all(n)}},{key:"_cloneObjectItem",value:function(e){var t=this;return this._copyFabricObjectForPaste(e).then((function(e){var n=t.createObjectProperties(e);return t.add(e),t.fire(Qe,n),e}))}},{key:"_copyFabricObjectForPaste",value:function(e){var t=this,n=function(e,t){return t?e-10:e+10};return this._copyFabricObject(e).then((function(e){var r=e.left,i=e.top,o=e.width,s=e.height,a=t.getCanvasSize(),l=a.width,c=a.height,u=r+o/2,d=i+s/2;return e.set(F()({left:n(r,u+10>l),top:n(i,d+10>c)},Qt)),e}))}},{key:"_copyFabricObject",value:function(e){var t=this;return new(O())((function(n){e.clone((function(r){var i=t.getComponent(be.SHAPE);Hn(r)&&i.processForCopiedObject(r,e),n(r)}))}))}},{key:"getCurrentDimensions",value:function(){return this.getComponent(be.RESIZE).getCurrentDimensions()}},{key:"getOriginalDimensions",value:function(){return this.getComponent(be.RESIZE).getOriginalDimensions()}},{key:"setOriginalDimensions",value:function(e){this.getComponent(be.RESIZE).setOriginalDimensions(e)}},{key:"resize",value:function(e){var t=this.getComponent(be.RESIZE);return t.resize(e)}}]),e}();$().mixin(pa);var ma=pa,ga=et,va=We,ba=He,ya=Ve,wa=Ue,xa=$e,_a=Ye,Ca=Ke,ka=Qe,Sa=Ge,Aa=qe,Ta=Xe,Ia=Ze,Ma=rt,Ea=it,Pa=Je,Da=function(){function e(t,n){var r,i,o,s,a,l,c,u,d,h,f,p,m,g,v,b;if(A(this,e),n=F()({includeUI:!1,usageStatistics:!0},n),this.mode=null,this.activeObjectId=null,n.includeUI){var y=n.includeUI;y.usageStatistics=n.usageStatistics,this.ui=new qi(t,y,this.getActions()),n=this.ui.setUiDefaultSelectionStyle(n)}this._invoker=new or,this._graphics=new ma(this.ui?this.ui.getEditorArea():t,{cssMaxWidth:n.cssMaxWidth,cssMaxHeight:n.cssMaxHeight}),this._handlers={keydown:E()(r=this._onKeyDown).call(r,this),mousedown:E()(i=this._onMouseDown).call(i,this),objectActivated:E()(o=this._onObjectActivated).call(o,this),objectMoved:E()(s=this._onObjectMoved).call(s,this),objectScaled:E()(a=this._onObjectScaled).call(a,this),objectRotated:E()(l=this._onObjectRotated).call(l,this),objectAdded:E()(c=this._onObjectAdded).call(c,this),objectModified:E()(u=this._onObjectModified).call(u,this),createdPath:this._onCreatedPath,addText:E()(d=this._onAddText).call(d,this),addObject:E()(h=this._onAddObject).call(h,this),textEditing:E()(f=this._onTextEditing).call(f,this),textChanged:E()(p=this._onTextChanged).call(p,this),iconCreateResize:E()(m=this._onIconCreateResize).call(m,this),iconCreateEnd:E()(g=this._onIconCreateEnd).call(g,this),selectionCleared:E()(v=this._selectionCleared).call(v,this),selectionCreated:E()(b=this._selectionCreated).call(b,this)},this._attachInvokerEvents(),this._attachGraphicsEvents(),this._attachDomEvents(),this._setSelectionStyle(n.selectionStyle,{applyCropSelectionStyle:n.applyCropSelectionStyle,applyGroupSelectionStyle:n.applyGroupSelectionStyle}),n.usageStatistics&&(Sn||(Sn=!0,oe()("image-editor","UA-129999381-1"))),this.ui&&(this.ui.initCanvas(),this.setReAction(),this._attachColorPickerInputBoxEvents()),N.fabric.enableGLFiltering=!1}return I(e,[{key:"_attachColorPickerInputBoxEvents",value:function(){var e=this;this.ui.on(ft,(function(){e.isColorPickerInputBoxEditing=!0})),this.ui.on(pt,(function(){e.isColorPickerInputBoxEditing=!1}))}},{key:"_detachColorPickerInputBoxEvents",value:function(){this.ui.off(ft),this.ui.off(pt)}},{key:"_setSelectionStyle",value:function(e,t){var n=t.applyCropSelectionStyle,r=t.applyGroupSelectionStyle;e&&this._graphics.setSelectionStyle(e),n&&this._graphics.setCropSelectionStyle(e),r&&this.on("selectionCreated",(function(t){"activeSelection"===t.type&&t.set(e)}))}},{key:"_attachInvokerEvents",value:function(){var e,t,n=this,r=nt,i=tt,o=ot,s=st,a=at,l=ct,c=ut;if(this._invoker.on(r,E()(e=this.fire).call(e,this,r)),this._invoker.on(i,E()(t=this.fire).call(t,this,i)),this.ui){var u=this._graphics.getCanvas();this._invoker.on(o,(function(e){return n.ui.fire(o,e)})),this._invoker.on(s,(function(e){return n.ui.fire(s,e)})),this._invoker.on(a,(function(e){return n.ui.fire(a,e)})),u.on(l,(function(){return n.ui.fire(l)})),u.on(c,(function(){return n.ui.fire(c)}))}}},{key:"_attachGraphicsEvents",value:function(){var e;this._graphics.on((S(e={},ga,this._handlers.mousedown),S(e,va,this._handlers.objectMoved),S(e,ba,this._handlers.objectScaled),S(e,wa,this._handlers.objectRotated),S(e,ya,this._handlers.objectActivated),S(e,xa,this._handlers.objectAdded),S(e,_a,this._handlers.objectModified),S(e,Ca,this._handlers.addText),S(e,ka,this._handlers.addObject),S(e,Sa,this._handlers.textEditing),S(e,Aa,this._handlers.textChanged),S(e,Ta,this._handlers.iconCreateResize),S(e,Ia,this._handlers.iconCreateEnd),S(e,Ma,this._handlers.selectionCleared),S(e,Ea,this._handlers.selectionCreated),e))}},{key:"_attachDomEvents",value:function(){document.addEventListener("keydown",this._handlers.keydown)}},{key:"_detachDomEvents",value:function(){document.removeEventListener("keydown",this._handlers.keydown)}},{key:"_onKeyDown",value:function(e){var t=e.ctrlKey,n=e.keyCode,r=e.metaKey;(t||r)&&(n===Wt?this._graphics.resetTargetObjectForCopyPaste():n===Ht?(this._graphics.pasteObject(),this.clearRedoStack()):n===zt?this.undo().catch((function(){})):n===Vt&&this.redo().catch((function(){})));var i=n===$t||n===Yt,o=this._graphics.isReadyRemoveObject();!this.isColorPickerInputBoxEditing&&o&&i&&(e.preventDefault(),this.removeActiveObject())}},{key:"removeActiveObject",value:function(){var e=this._graphics.getActiveObjectIdForRemove();this.removeObject(e)}},{key:"_onMouseDown",value:function(e,t){this.fire(et,e,t)}},{key:"_pushAddObjectCommand",value:function(e){var t=rr.create(ke,this._graphics,e);this._invoker.pushUndoStack(t)}},{key:"_pushModifyObjectCommand",value:function(e){var t=this,n=e.type,r=ia(e,(function(e){return oa(t._graphics.getObjectId(e),e,"activeSelection"===n)})),i=rr.create(Fe,this._graphics,r);i.execute(this._graphics,r),this._invoker.pushUndoStack(i)}},{key:"_onObjectActivated",value:function(e){this.fire(Ve,e)}},{key:"_onObjectMoved",value:function(e){this.fire(We,e)}},{key:"_onObjectScaled",value:function(e){this.fire(He,e)}},{key:"_onObjectRotated",value:function(e){this.fire(Ue,e)}},{key:"getDrawingMode",value:function(){return this._graphics.getDrawingMode()}},{key:"clearObjects",value:function(){return this.execute(we)}},{key:"deactivateAll",value:function(){this._graphics.deactivateAll(),this._graphics.renderAll()}},{key:"discardSelection",value:function(){this._graphics.discardSelection()}},{key:"changeSelectableAll",value:function(e){this._graphics.changeSelectableAll(e)}},{key:"_initHistory",value:function(){this.ui&&this.ui.initHistory()}},{key:"_clearHistory",value:function(){this.ui&&this.ui.clearHistory()}},{key:"execute",value:function(e){for(var t,n,r,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var a=D()(t=[this._graphics]).call(t,o);return(n=this._invoker).execute.apply(n,D()(r=[e]).call(r,C(a)))}},{key:"executeSilent",value:function(e){for(var t,n,r,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var a=D()(t=[this._graphics]).call(t,o);return(n=this._invoker).executeSilent.apply(n,D()(r=[e]).call(r,C(a)))}},{key:"undo",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=O().resolve(),r=0;r<t;r+=1)n=n.then((function(){return e._invoker.undo()}));return n}},{key:"redo",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=O().resolve(),r=0;r<t;r+=1)n=n.then((function(){return e._invoker.redo()}));return n}},{key:"zoom",value:function(e){var t=e.x,n=e.y,r=e.zoomLevel;this._graphics.zoom({x:t,y:n},r)}},{key:"resetZoom",value:function(){this._graphics.resetZoom()}},{key:"loadImageFromFile",value:function(e,t){if(!e)return O().reject(tn);var n=L().createObjectURL(e);return t=t||e.name,this.loadImageFromURL(n,t).then((function(t){return L().revokeObjectURL(e),t}))}},{key:"loadImageFromURL",value:function(e,t){return t&&e?this.execute(xe,t,e):O().reject(tn)}},{key:"addImageObject",value:function(e){return e?this.execute(Re,e):O().reject(tn)}},{key:"startDrawingMode",value:function(e,t){return this._graphics.startDrawingMode(e,t)}},{key:"stopDrawingMode",value:function(){this._graphics.stopDrawingMode()}},{key:"crop",value:function(e){var t=this._graphics.getCroppedImageData(e);return t?this.loadImageFromURL(t.url,t.imageName):O().reject(tn)}},{key:"getCropzoneRect",value:function(){return this._graphics.getCropzoneRect()}},{key:"setCropzoneRect",value:function(e){this._graphics.setCropzoneRect(e)}},{key:"_flip",value:function(e){return this.execute(_e,e)}},{key:"flipX",value:function(){return this._flip("flipX")}},{key:"flipY",value:function(){return this._flip("flipY")}},{key:"resetFlip",value:function(){return this._flip("reset")}},{key:"_rotate",value:function(e,t,n){return n?this.executeSilent(Ce,e,t):this.execute(Ce,e,t)}},{key:"rotate",value:function(e,t){return this._rotate("rotate",e,t)}},{key:"setAngle",value:function(e,t){return this._rotate("setAngle",e,t)}},{key:"setBrush",value:function(e){this._graphics.setBrush(e)}},{key:"setDrawingShape",value:function(e,t){this._graphics.setDrawingShape(e,t)}},{key:"setDrawingIcon",value:function(e,t){this._graphics.setIconStyle(e,t)}},{key:"addShape",value:function(e,t){return t=t||{},this._setPositions(t),this.execute(Ee,e,t)}},{key:"changeShape",value:function(e,t,n){return this[n?"executeSilent":"execute"](Pe,e,t)}},{key:"addText",value:function(e,t){return e=e||"",t=t||{},this.execute(De,e,t)}},{key:"changeText",value:function(e,t){return t=t||"",this.execute(je,e,t)}},{key:"changeTextStyle",value:function(e,t,n){return this[n?"executeSilent":"execute"](Oe,e,t)}},{key:"_changeActivateMode",value:function(e){"ICON"!==e&&this.getDrawingMode()!==e&&this.startDrawingMode(e)}},{key:"_onTextChanged",value:function(e){this.fire(qe,e)}},{key:"_onIconCreateResize",value:function(e){this.fire(Xe,e)}},{key:"_onIconCreateEnd",value:function(e){this.fire(Ze,e)}},{key:"_onTextEditing",value:function(){this.fire(Ge)}},{key:"_onAddText",value:function(e){this.fire(Ke,{originPosition:e.originPosition,clientPosition:e.clientPosition})}},{key:"_onAddObject",value:function(e){var t=this._graphics.getObject(e.id);this._invoker.fire(ot,Un(t.type)),this._pushAddObjectCommand(t)}},{key:"_onObjectAdded",value:function(e){this.fire(xa,e),this.fire(Pa,e)}},{key:"_onObjectModified",value:function(e){e.type!==ge&&(this._invoker.fire(ot,Un(e.type)),this._pushModifyObjectCommand(e))}},{key:"_selectionCleared",value:function(){this.fire(Ma)}},{key:"_selectionCreated",value:function(e){this.fire(Ea,e)}},{key:"registerIcons",value:function(e){this._graphics.registerPaths(e)}},{key:"changeCursor",value:function(e){this._graphics.changeCursor(e)}},{key:"addIcon",value:function(e,t){return t=t||{},this._setPositions(t),this.execute(Ie,e,t)}},{key:"changeIconColor",value:function(e,t){return this.execute(Me,e,t)}},{key:"removeObject",value:function(e){var t=this._graphics.getObject(e).type;return this.execute(Se,e,Un(t))}},{key:"hasFilter",value:function(e){return this._graphics.hasFilter(e)}},{key:"removeFilter",value:function(e){return this.execute(Te,e)}},{key:"applyFilter",value:function(e,t,n){return this[n?"executeSilent":"execute"](Ae,e,t)}},{key:"toDataURL",value:function(e){return this._graphics.toDataURL(e)}},{key:"getImageName",value:function(){return this._graphics.getImageName()}},{key:"clearUndoStack",value:function(){this._invoker.clearUndoStack()}},{key:"clearRedoStack",value:function(){this._invoker.clearRedoStack()}},{key:"isEmptyUndoStack",value:function(){return this._invoker.isEmptyUndoStack()}},{key:"isEmptyRedoStack",value:function(){return this._invoker.isEmptyRedoStack()}},{key:"resizeCanvasDimension",value:function(e){return e?this.execute(Le,e):O().reject(tn)}},{key:"destroy",value:function(){var e=this;this.stopDrawingMode(),this._detachDomEvents(),this._graphics.destroy(),this._graphics=null,this.ui&&(this._detachColorPickerInputBoxEvents(),this.ui.destroy()),H()(this,(function(t,n){e[n]=null}),this)}},{key:"_setPositions",value:function(e){var t=this._graphics.getCenter();V()(e.left)&&(e.left=t.left),V()(e.top)&&(e.top=t.top)}},{key:"setObjectProperties",value:function(e,t){return this.execute(Ne,e,t)}},{key:"setObjectPropertiesQuietly",value:function(e,t){this._graphics.setObjectProperties(e,t)}},{key:"getObjectProperties",value:function(e,t){return this._graphics.getObject(e)?this._graphics.getObjectProperties(e,t):null}},{key:"getCanvasSize",value:function(){return this._graphics.getCanvasSize()}},{key:"getObjectPosition",value:function(e,t,n){return this._graphics.getObjectPosition(e,t,n)}},{key:"setObjectPosition",value:function(e,t){return this.execute(Be,e,t)}},{key:"resize",value:function(e){return this.execute(ze,e)}}]),e}();Qi.mixin(Da),$().mixin(Da);var ja=Da,Oa=be.ICON,Ra={name:Ie,execute:function(e,t,n){var r=this;return e.getComponent(Oa).add(t,n).then((function(t){return r.undoData.object=e.getObject(t.id),t}))},undo:function(e){return e.remove(this.undoData.object),O().resolve()}};rr.register(Ra);var La={name:Re,execute:function(e,t){var n=this;return e.addImageObject(t).then((function(t){return n.undoData.object=e.getObject(t.id),t}))},undo:function(e){return e.remove(this.undoData.object),O().resolve()}};rr.register(La);var Na={name:ke,execute:function(e,t){return new(O())((function(n,r){e.contains(t)?r(Jt):(e.add(t),n(t))}))},undo:function(e,t){return new(O())((function(n,r){e.contains(t)?(e.remove(t),n(t)):r(sn)}))}};rr.register(Na);var Ba=be.SHAPE,Fa={name:Ee,execute:function(e,t,n){var r=this;return e.getComponent(Ba).add(t,n).then((function(t){var n=t.id;return r.undoData.object=e.getObject(n),t}))},undo:function(e){return e.remove(this.undoData.object),O().resolve()}};rr.register(Fa);var za=be.TEXT,Va={name:De,execute:function(e,t,n){var r=this,i=e.getComponent(za);if(this.undoData.object){var o=this.undoData.object;return new(O())((function(t,n){e.contains(o)?n(an):(e.add(o),t(o))}))}return i.add(t,n).then((function(t){var n=t.id,i=e.getObject(n);return r.undoData.object=i,ra(ia(i,(function(){return oa(n,i,!1)}))),t}))},undo:function(e){return e.remove(this.undoData.object),O().resolve()}};rr.register(Va);var Wa=be.FILTER,Ha=null,Ua={name:Ae,execute:function(e,t,n,r){var i=e.getComponent(Wa);if("mask"===t){var o=e.getObject(n.maskObjId);if(!o||!o.isType("image"))return O().reject(tn);F()(n,{mask:o}),e.remove(n.mask)}if(!this.isRedo){var s=function(e,t,n){var r={};return"mask"===e&&(r.object=n.mask),r.options=t,r}(t,i.getOptions(t),n);Ha=this.setUndoData(s,Ha,r)}return i.add(t,n)},undo:function(e,t){var n=e.getComponent(Wa);if("mask"===t){var r=this.undoData.object;return e.add(r),e.setActiveObject(r),n.remove(t)}return this.undoData.options?n.add(t,this.undoData.options):n.remove(t)}};rr.register(Ua);var $a=be.ICON,Ya={name:Me,execute:function(e,t,n){var r=this;return new(O())((function(i,o){var s=e.getComponent($a),a=e.getObject(t);a||o(sn),r.undoData.object=a,r.undoData.color=s.getColor(a),s.setColor(n,a),i()}))},undo:function(e){var t=e.getComponent($a),n=this.undoData,r=n.object,i=n.color;return t.setColor(i,r),O().resolve()}};rr.register(Ya);var Ga=be.SHAPE,qa=null,Xa={name:Pe,execute:function(e,t,n,r){var i=e.getComponent(Ga),o=e.getObject(t);if(!o)return O().reject(sn);if(!this.isRedo){var s=function(e,t){var n={object:t,options:{}};return no()(e,(function(e,r){n.options[r]=t[r]})),n}(n,o);qa=this.setUndoData(s,qa,r)}return i.change(o,n)},undo:function(e){var t=e.getComponent(Ga),n=this.undoData,r=n.object,i=n.options;return t.change(r,i)}};rr.register(Xa);var Za=be.TEXT,Ka={name:je,execute:function(e,t,n){var r=e.getComponent(Za),i=e.getObject(t);return i?(this.undoData.object=i,this.undoData.text=r.getText(i),r.change(i,n)):O().reject(sn)},undo:function(e){var t=e.getComponent(Za),n=this.undoData,r=n.object,i=n.text;return t.change(r,i)}};rr.register(Ka);var Qa=be.TEXT,Ja=null,el={name:Oe,execute:function(e,t,n,r){var i=e.getComponent(Qa),o=e.getObject(t);if(!o)return O().reject(sn);if(!this.isRedo){var s=function(e,t){var n={object:t,styles:{}};return no()(e,(function(e,r){var i=t[r];n.styles[r]=i})),n}(n,o);Ja=this.setUndoData(s,Ja,r)}return i.setStyle(o,n)},undo:function(e){var t=e.getComponent(Qa),n=this.undoData,r=n.object,i=n.styles;return t.setStyle(r,i)}};rr.register(el);var tl={name:we,execute:function(e){var t=this;return new(O())((function(n){t.undoData.objects=e.removeAll(),n()}))},undo:function(e){return e.add(this.undoData.objects),O().resolve()}};rr.register(tl);var nl=be.FLIP,rl={name:_e,execute:function(e,t){var n=e.getComponent(nl);return this.undoData.setting=n.getCurrentSetting(),n[t]()},undo:function(e){return e.getComponent(nl).set(this.undoData.setting)}};rr.register(rl);var il=be.IMAGE_LOADER,ol={name:xe,execute:function(e,t,n){var r,i=e.getComponent(il),o=i.getCanvasImage(),s=o?o.width:0,a=o?o.height:0,l=Zi()(r=e.removeAll(!0)).call(r,(function(e){return"cropzone"!==e.type}));return te()(l).call(l,(function(e){e.evented=!0})),this.undoData={name:i.getImageName(),image:o,objects:l},i.load(t,n).then((function(e){return{oldWidth:s,oldHeight:a,newWidth:e.width,newHeight:e.height}}))},undo:function(e){var t=e.getComponent(il),n=this.undoData,r=n.objects,i=n.name,o=n.image;return e.removeAll(!0),e.add(r),t.load(i,o)}};rr.register(ol);var sl=be.FILTER,al={name:Te,execute:function(e,t){var n=e.getComponent(sl);return this.undoData.options=n.getOptions(t),n.remove(t)},undo:function(e,t){var n=e.getComponent(sl),r=this.undoData.options;return n.add(t,r)}};rr.register(al);var ll={name:Se,execute:function(e,t){var n=this;return new(O())((function(r,i){n.undoData.objects=e.removeObjectById(t),n.undoData.objects.length?r():i(sn)}))},undo:function(e){return e.add(this.undoData.objects),O().resolve()}};rr.register(ll);var cl={name:Le,execute:function(e,t){var n=this;return new(O())((function(r){n.undoData.size={width:e.cssMaxWidth,height:e.cssMaxHeight},e.setCssMaxDimension(t),e.adjustCanvasDimension(),r()}))},undo:function(e){return e.setCssMaxDimension(this.undoData.size),e.adjustCanvasDimension(),O().resolve()}};rr.register(cl);var ul=be.ROTATION,dl=null,hl={name:Ce,execute:function(e,t,n,r){var i=e.getComponent(ul);if(!this.isRedo){var o=function(e){return{angle:e.getCurrentAngle()}}(i);dl=this.setUndoData(o,dl,r)}return i[t](n)},undo:function(e){var t=e.getComponent(ul),n=Z(this.args,3),r=n[1],i=n[2];return"setAngle"===r?t[r](this.undoData.angle):t.rotate(-i)}};rr.register(hl);var fl={name:Ne,execute:function(e,t,n){var r=this,i=e.getObject(t);return i?(this.undoData.props={},no()(n,(function(e,t){r.undoData.props[t]=i[t]})),e.setObjectProperties(t,n),O().resolve()):O().reject(sn)},undo:function(e,t){var n=this.undoData.props;return e.setObjectProperties(t,n),O().resolve()}};rr.register(fl);var pl={name:Be,execute:function(e,t,n){return e.getObject(t)?(this.undoData.objectId=t,this.undoData.props=e.getObjectProperties(t,["left","top"]),e.setObjectPosition(t,n),e.renderAll(),O().resolve()):O().reject(sn)},undo:function(e){var t=this.undoData,n=t.objectId,r=t.props;return e.setObjectProperties(n,r),e.renderAll(),O().resolve()}};rr.register(pl);var ml={name:Fe,execute:function(e,t){return this.isRedo?te()(t).call(t,(function(t){e.setObjectProperties(t.id,t)})):this.undoData=na,O().resolve()},undo:function(e){var t;return te()(t=this.undoData).call(t,(function(t){e.setObjectProperties(t.id,t)})),O().resolve()}};rr.register(ml);var gl=be.RESIZE,vl={name:ze,execute:function(e,t){var n=e.getComponent(gl),r=n.getOriginalDimensions();return r||(r=n.getCurrentDimensions()),this.undoData.dimensions=r,n.resize(t)},undo:function(e){return e.getComponent(gl).resize(this.undoData.dimensions)}};rr.register(vl);var bl=ja}(),i=i.default}()},e.exports=r(n(3597))},3895:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,s=r.useRef,a=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=l((function(){function e(e){if(!a){if(a=!0,o=e,e=r(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return s=t}return s=e}if(t=s,i(o,e))return t;var n=r(e);return void 0!==u&&u(t,n)?t:(o=e,s=n)}var o,s,a=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,u]);var f=o(e,d[0],d[1]);return a((function(){h.hasValue=!0,h.value=f}),[f]),c(f),f}},7237:(e,t,n)=>{"use strict";e.exports=n(3895)},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},8139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},8387:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}n.d(t,{A:()=>i});const i=function(){for(var e,t,n=0,i="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".d855a71b.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Ku,hasStandardBrowserEnv:()=>Ju,hasStandardBrowserWebWorkerEnv:()=>ed,navigator:()=>Qu,origin:()=>td});var t={};n.r(t),n.d(t,{Decoder:()=>bge,Encoder:()=>gge,PacketType:()=>mge,protocol:()=>pge});var r,i=n(5043),o=n.t(i,2),s=n(4391);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,u=o.history,p=r.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function b(){p=r.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:p,location:w.location,delta:t})}function y(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(a({},u.state,{idx:g}),""));let w={get action(){return p},get location(){return e(o,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(l,b),m=e,()=>{o.removeEventListener(l,b),m=null}},createHref:e=>t(o,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=r.Push;let i=h(w.location,e,t);n&&n(i,e),g=v()+1;let a=d(i,g),l=w.createHref(i);try{u.pushState(a,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;o.location.assign(l)}s&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,t){p=r.Replace;let i=h(w.location,e,t);n&&n(i,e),g=v();let o=d(i,g),a=w.createHref(i);u.replaceState(o,"",a),s&&m&&m({action:p,location:w.location,delta:0})},go:e=>u.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=D(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let o=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=P(i);s=M(o[a],e,r)}return s}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=N([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),y(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:I(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=w(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:[\w-]+$/,_=3,C=2,k=1,S=10,A=-2,T=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=A),t&&(r+=C),n.filter((e=>!T(e))).reduce(((e,t)=>e+(x.test(t)?_:""===t?k:S)),r)}function M(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:N([o,u.pathname]),pathnameBase:B(N([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=N([o,u.pathnameBase]))}return s}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:o,pathnameBase:s,pattern:e}}function P(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function j(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t){let n=O(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=a({},e),c(!i.pathname||!i.pathname.includes("?"),j("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),j("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),j("#","search","hash",i)));let o,s=""===e||""===i.pathname,l=s?"/":i.pathname;if(null==l)o=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:F(r),hash:z(i)}}(i,o),d=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const N=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],H=(new Set(W),["get",...W]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}const $=i.createContext(null);const Y=i.createContext(null);const G=i.createContext(null);const q=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=i.createContext(null);function K(){return null!=i.useContext(q)}function Q(){return K()||c(!1),i.useContext(q).location}function J(e){i.useContext(G).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=pe(de.UseNavigateStable),n=i.useRef(!1);J((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,U({fromRouteId:t},i)))}),[e,t]);return r}():function(){K()||c(!1);let e=i.useContext($),{basename:t,future:n,navigator:r}=i.useContext(G),{matches:o}=i.useContext(X),{pathname:s}=Q(),a=JSON.stringify(R(o,n.v7_relativeSplatPath)),l=i.useRef(!1);J((()=>{l.current=!0}));let u=i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=L(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:N([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,a,s,e]);return u}()}const te=i.createContext(null);function ne(){let{matches:e}=i.useContext(X),t=e[e.length-1];return t?t.params:{}}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(G),{matches:o}=i.useContext(X),{pathname:s}=Q(),a=JSON.stringify(R(o,r.v7_relativeSplatPath));return i.useMemo((()=>L(e,JSON.parse(a),s,"path"===n)),[e,a,s,n])}function ie(e,t,n,o){K()||c(!1);let{navigator:s}=i.useContext(G),{matches:a}=i.useContext(X),l=a[a.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=Q();if(t){var m;let e="string"===typeof t?p(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||c(!1),h=e}else h=f;let g=h.pathname||"/",b=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=v(e,{pathname:b});let w=ce(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:N([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:N([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,o);return t&&w?i.createElement(q.Provider,{value:{location:U({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},w):w}function oe(){let e=function(){var e;let t=i.useContext(Z),n=fe(de.UseRouteError),r=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const se=i.createElement(oe,null);class ae extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext($);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function ce(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,a=d>=0?a.slice(0,d+1):[a[0]];break}}}return a.reduceRight(((e,r,o)=>{let s,c=!1,h=null,f=null;var p;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||se,u&&(d<0&&0===o?(p="route-fallback",!1||me[p]||(me[p]=!0),c=!0,f=null):d===o&&(c=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,o+1)),g=()=>{let t;return t=s?h:c?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(le,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=i.useContext($);return t||c(!1),t}function fe(e){let t=i.useContext(Y);return t||c(!1),t}function pe(e){let t=function(){let e=i.useContext(X);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const me={};o.startTransition;function ge(e){let{to:t,replace:n,state:r,relative:o}=e;K()||c(!1);let{future:s,static:a}=i.useContext(G),{matches:l}=i.useContext(X),{pathname:u}=Q(),d=ee(),h=L(t,R(l,s.v7_relativeSplatPath),u,"path"===o),f=JSON.stringify(h);return i.useEffect((()=>d(JSON.parse(f),{replace:n,state:r,relative:o})),[d,f,o,n,r]),null}function ve(e){return function(e){let t=i.useContext(X).outlet;return t?i.createElement(te.Provider,{value:e},t):t}(e.context)}function be(e){c(!1)}function ye(e){let{basename:t="/",children:n=null,location:o,navigationType:s=r.Pop,navigator:a,static:l=!1,future:u}=e;K()&&c(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:d,navigator:a,static:l,future:U({v7_relativeSplatPath:!1},u)})),[d,u,a,l]);"string"===typeof o&&(o=p(o));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:b="default"}=o,y=i.useMemo((()=>{let e=D(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:b},navigationType:s}}),[d,f,m,g,v,b,s]);return null==y?null:i.createElement(G.Provider,{value:h},i.createElement(q.Provider,{children:n,value:y}))}function we(e){let{children:t,location:n}=e;return ie(xe(t),n)}new Promise((()=>{}));i.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,xe(e.props.children,o));e.type!==be&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=xe(e.props.children,o)),n.push(s)})),n}var _e=n(8168),Ce=n(8587),ke=n(8387),Se=n(3174),Ae=n(8812),Te=n(8698),Ie=n(8280),Me=n(4575);const Ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=i.useContext(Me.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},Pe=(0,Ie.A)();const De=function(){return Ee(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe)};var je=n(579);const Oe=["className","component"];function Re(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,s=(0,Se.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(Ae.A),a=i.forwardRef((function(e,i){const a=De(n),l=(0,Te.A)(e),{className:c,component:u="div"}=l,d=(0,Ce.A)(l,Oe);return(0,je.jsx)(s,(0,_e.A)({as:u,ref:i,className:(0,ke.A)(c,o?o(r):r),theme:t&&a[t]||a},d))}));return a}var Le=n(9386),Ne=n(8279),Be=n(3375),Fe=n(2532);const ze=(0,Fe.A)("MuiBox",["root"]),Ve=(0,Ne.A)(),We=Re({themeId:Be.A,defaultTheme:Ve,defaultClassName:ze.root,generateClassName:Le.A.generate});var He=n(2372),Ue=n(8610),$e=n(7598),Ye=n(3030);function Ge(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,Ye.A)(t.components[n].defaultProps,r):r}function qe(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,o=De(r);i&&(o=o[i]||o);return Ge({theme:o,name:n,props:t})}var Xe=n(9172);const Ze=["ownerState"],Ke=["variants"],Qe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Je(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const et=(0,Ie.A)(),tt=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function nt(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function rt(e){return e?(t,n)=>n[e]:null}function it(e,t){let{ownerState:n}=t,r=(0,Ce.A)(t,Ze);const i="function"===typeof e?e((0,_e.A)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap((e=>it(e,(0,_e.A)({ownerState:n},r))));if(i&&"object"===typeof i&&Array.isArray(i.variants)){const{variants:e=[]}=i;let t=(0,Ce.A)(i,Ke);return e.forEach((e=>{let i=!0;"function"===typeof e.props?i=e.props((0,_e.A)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,_e.A)({ownerState:n},r,n)):e.style))})),t}return i}const ot=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=et,rootShouldForwardProp:r=Je,slotShouldForwardProp:i=Je}=e,o=e=>(0,Ae.A)((0,_e.A)({},e,{theme:nt((0,_e.A)({},e,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Se.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:a,slot:l,skipVariantsResolver:c,skipSx:u,overridesResolver:d=rt(tt(l))}=s,h=(0,Ce.A)(s,Qe),f=void 0!==c?c:l&&"Root"!==l&&"root"!==l||!1,p=u||!1;let m=Je;"Root"===l||"root"===l?m=r:l?m=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=(0,Se.default)(e,(0,_e.A)({shouldForwardProp:m,label:undefined},h)),v=e=>"function"===typeof e&&e.__emotion_real!==e||(0,Xe.Q)(e)?r=>it(e,(0,_e.A)({},r,{theme:nt({theme:r.theme,defaultTheme:n,themeId:t})})):e,b=function(r){let i=v(r);for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];const u=l?l.map(v):[];a&&d&&u.push((e=>{const r=nt((0,_e.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[a]||!r.components[a].styleOverrides)return null;const i=r.components[a].styleOverrides,o={};return Object.entries(i).forEach((t=>{let[n,i]=t;o[n]=it(i,(0,_e.A)({},e,{theme:r}))})),d(e,o)})),a&&!f&&u.push((e=>{var r;const i=nt((0,_e.A)({},e,{defaultTheme:n,themeId:t}));return it({variants:null==i||null==(r=i.components)||null==(r=r[a])?void 0:r.variants},(0,_e.A)({},e,{theme:i}))})),p||u.push(o);const h=u.length-l.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const m=g(i,...u);return e.muiName&&(m.muiName=e.muiName),m};return g.withConfig&&(b.withConfig=g.withConfig),b}}(),st=ot,at=["className","component","disableGutters","fixed","maxWidth","classes"],lt=(0,Ie.A)(),ct=st("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,$e.A)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),ut=e=>qe({props:e,name:"MuiContainer",defaultTheme:lt});function dt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=ct,useThemeProps:n=ut,componentName:r="MuiContainer"}=e,o=t((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:`${i}${t.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`}})})),s=i.forwardRef((function(e,t){const i=n(e),{className:s,component:a="div",disableGutters:l=!1,fixed:c=!1,maxWidth:u="lg"}=i,d=(0,Ce.A)(i,at),h=(0,_e.A)({},i,{component:a,disableGutters:l,fixed:c,maxWidth:u}),f=((e,t)=>{const{classes:n,fixed:r,disableGutters:i,maxWidth:o}=e,s={root:["root",o&&`maxWidth${(0,$e.A)(String(o))}`,r&&"fixed",i&&"disableGutters"]};return(0,Ue.A)(s,(e=>(0,He.Ay)(t,e)),n)})(h,r);return(0,je.jsx)(o,(0,_e.A)({as:a,ownerState:h,className:(0,ke.A)(f.root,s),ref:t},d))}));return s}var ht=n(6803),ft=n(4535),pt=n(8206);const mt=dt({createStyledComponent:(0,ft.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,ht.A)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,pt.b)({props:e,name:"MuiContainer"})}),gt=mt;var vt=n(9751),bt=n(5170);function yt(){const e=De(bt.A);return e[Be.A]||e}const wt=i.createContext();function xt(e){return(0,He.Ay)("MuiGrid",e)}const _t=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Ct=(0,Fe.A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>`spacing-xs-${e}`)),...["column-reverse","column","row-reverse","row"].map((e=>`direction-xs-${e}`)),...["nowrap","wrap-reverse","wrap"].map((e=>`wrap-xs-${e}`)),..._t.map((e=>`grid-xs-${e}`)),..._t.map((e=>`grid-sm-${e}`)),..._t.map((e=>`grid-md-${e}`)),..._t.map((e=>`grid-lg-${e}`)),..._t.map((e=>`grid-xl-${e}`))]),kt=Ct,St=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function At(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function Tt(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const i=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return i.slice(0,i.indexOf(r))}const It=(0,ft.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach((t=>{const i=e[t];Number(i)>0&&r.push(n[`spacing-${t}-${String(i)}`])})),r}(s,c,t));const d=[];return c.forEach((e=>{const r=n[e];r&&d.push(t[`grid-${e}-${String(r)}`])})),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...u,"row"!==i&&t[`direction-xs-${String(i)}`],"wrap"!==a&&t[`wrap-xs-${String(a)}`],...d]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,vt.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,vt.NI)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${kt.item}`]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,vt.kW)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=Tt({breakpoints:t.breakpoints.values,values:e})),o=(0,vt.NI)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{marginTop:`-${At(o)}`,[`& > .${kt.item}`]:{paddingTop:At(o)}}:null!=(i=n)&&i.includes(r)?{}:{marginTop:0,[`& > .${kt.item}`]:{paddingTop:0}}}))}return o}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,vt.kW)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=Tt({breakpoints:t.breakpoints.values,values:e})),o=(0,vt.NI)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{width:`calc(100% + ${At(o)})`,marginLeft:`-${At(o)}`,[`& > .${kt.item}`]:{paddingLeft:At(o)}}:null!=(i=n)&&i.includes(r)?{}:{width:"100%",marginLeft:0,[`& > .${kt.item}`]:{paddingLeft:0}}}))}return o}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,i)=>{let o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=(0,vt.kW)({values:r.columns,breakpoints:n.breakpoints.values}),a="object"===typeof s?s[i]:s;if(void 0===a||null===a)return e;const l=Math.round(t/a*1e8)/1e6+"%";let c={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t=`calc(${l} + ${At(e)})`;c={flexBasis:t,maxWidth:t}}}o=(0,_e.A)({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})}));const Mt=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[`spacing-xs-${String(e)}`];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e=`spacing-${t}-${String(r)}`;n.push(e)}})),n}(o,l));const u=[];l.forEach((t=>{const n=e[t];n&&u.push(`grid-${t}-${String(n)}`)}));const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,"row"!==r&&`direction-xs-${String(r)}`,"wrap"!==s&&`wrap-xs-${String(s)}`,...u]};return(0,Ue.A)(d,xt,t)},Et=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiGrid"}),{breakpoints:r}=yt(),o=(0,Te.A)(n),{className:s,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:f,spacing:p=0,wrap:m="wrap",zeroMinWidth:g=!1}=o,v=(0,Ce.A)(o,St),b=f||p,y=l||p,w=i.useContext(wt),x=u?a||12:w,_={},C=(0,_e.A)({},v);r.keys.forEach((e=>{null!=v[e]&&(_[e]=v[e],delete C[e])}));const k=(0,_e.A)({},o,{columns:x,container:u,direction:d,item:h,rowSpacing:b,columnSpacing:y,wrap:m,zeroMinWidth:g,spacing:p},_,{breakpoints:r.keys}),S=Mt(k);return(0,je.jsx)(wt.Provider,{value:x,children:(0,je.jsx)(It,(0,_e.A)({ownerState:k,className:(0,ke.A)(S.root,s),as:c,ref:t},C))})}));const Pt=Et;function Dt(e){return(0,He.Ay)("MuiToolbar",e)}(0,Fe.A)("MuiToolbar",["root","gutters","regular","dense"]);const jt=["className","component","disableGutters","variant"],Ot=(0,ft.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})}),(e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar})),Rt=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:o=!1,variant:s="regular"}=n,a=(0,Ce.A)(n,jt),l=(0,_e.A)({},n,{component:i,disableGutters:o,variant:s}),c=(e=>{const{classes:t,disableGutters:n,variant:r}=e,i={root:["root",!n&&"gutters",r]};return(0,Ue.A)(i,Dt,t)})(l);return(0,je.jsx)(Ot,(0,_e.A)({as:i,className:(0,ke.A)(c.root,r),ref:t,ownerState:l},a))}));var Lt=n(9303),Nt=n(7266);const Bt=["value"],Ft=i.createContext();const zt=()=>{const e=i.useContext(Ft);return null!=e&&e},Vt=function(e){let{value:t}=e,n=(0,Ce.A)(e,Bt);return(0,je.jsx)(Ft.Provider,(0,_e.A)({value:null==t||t},n))};const Wt=function(e){return"string"===typeof e};const Ht=function(e,t,n){return void 0===e||Wt(e)?t:(0,_e.A)({},t,{ownerState:(0,_e.A)({},t.ownerState,n)})};function Ut(e,t){return Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ut(e,t)}function $t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ut(e,t)}var Yt=n(7950),Gt=n.t(Yt,2);const qt=!1,Xt=i.createContext(null);var Zt=function(e){return e.scrollTop},Kt="unmounted",Qt="exited",Jt="entering",en="entered",tn="exiting",nn=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=Qt,r.appearStatus=Jt):i=en:i=t.unmountOnExit||t.mountOnEnter?Kt:Qt,r.state={status:i},r.nextCallback=null,r}$t(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Kt?{status:Qt}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Jt&&n!==en&&(t=Jt):n!==Jt&&n!==en||(t=tn)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Jt){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Yt.findDOMNode(this);n&&Zt(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Qt&&this.setState({status:Kt})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Yt.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||qt?this.safeSetState({status:en},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:Jt},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:en},(function(){t.props.onEntered(o,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Yt.findDOMNode(this);t&&!qt?(this.props.onExit(r),this.safeSetState({status:tn},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Qt},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Qt},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Yt.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Kt)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,Ce.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(Xt.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function rn(){}nn.contextType=Xt,nn.propTypes={},nn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:rn,onEntering:rn,onEntered:rn,onExit:rn,onExiting:rn,onExited:rn},nn.UNMOUNTED=Kt,nn.EXITED=Qt,nn.ENTERING=Jt,nn.ENTERED=en,nn.EXITING=tn;const on=nn,sn=e=>e.scrollTop;function an(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}var ln=n(5849);const cn=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function un(e){return`scale(${e}, ${e**2})`}const dn={entering:{opacity:1,transform:un(1)},entered:{opacity:1,transform:"none"}},hn="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),fn=i.forwardRef((function(e,t){const{addEndListener:n,appear:r=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:f,style:p,timeout:m="auto",TransitionComponent:g=on}=e,v=(0,Ce.A)(e,cn),b=(0,Lt.A)(),y=i.useRef(),w=yt(),x=i.useRef(null),_=(0,ln.A)(x,o.ref,t),C=e=>t=>{if(e){const n=x.current;void 0===t?e(n):e(n,t)}},k=C(u),S=C(((e,t)=>{sn(e);const{duration:n,delay:r,easing:i}=an({style:p,timeout:m,easing:s},{mode:"enter"});let o;"auto"===m?(o=w.transitions.getAutoHeightDuration(e.clientHeight),y.current=o):o=n,e.style.transition=[w.transitions.create("opacity",{duration:o,delay:r}),w.transitions.create("transform",{duration:hn?o:.666*o,delay:r,easing:i})].join(","),l&&l(e,t)})),A=C(c),T=C(f),I=C((e=>{const{duration:t,delay:n,easing:r}=an({style:p,timeout:m,easing:s},{mode:"exit"});let i;"auto"===m?(i=w.transitions.getAutoHeightDuration(e.clientHeight),y.current=i):i=t,e.style.transition=[w.transitions.create("opacity",{duration:i,delay:n}),w.transitions.create("transform",{duration:hn?i:.666*i,delay:hn?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=un(.75),d&&d(e)})),M=C(h);return(0,je.jsx)(g,(0,_e.A)({appear:r,in:a,nodeRef:x,onEnter:S,onEntered:A,onEntering:k,onExit:I,onExited:M,onExiting:T,addEndListener:e=>{"auto"===m&&b.start(y.current||0,e),n&&n(x.current,e)},timeout:"auto"===m?null:m},v,{children:(e,t)=>i.cloneElement(o,(0,_e.A)({style:(0,_e.A)({opacity:0,transform:un(.75),visibility:"exited"!==e||a?void 0:"hidden"},dn[e],p,o.props.style),ref:_},t))}))}));fn.muiSupportAuto=!0;const pn=fn;var mn=n(2374),gn=n(3462),vn=n(4440),bn=n(1668);function yn(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function wn(e){return e instanceof yn(e).Element||e instanceof Element}function xn(e){return e instanceof yn(e).HTMLElement||e instanceof HTMLElement}function _n(e){return"undefined"!==typeof ShadowRoot&&(e instanceof yn(e).ShadowRoot||e instanceof ShadowRoot)}var Cn=Math.max,kn=Math.min,Sn=Math.round;function An(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Tn(){return!/^((?!chrome|android).)*safari/i.test(An())}function In(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&xn(e)&&(i=e.offsetWidth>0&&Sn(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Sn(r.height)/e.offsetHeight||1);var s=(wn(e)?yn(e):window).visualViewport,a=!Tn()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/i,c=(r.top+(a&&s?s.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function Mn(e){var t=yn(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function En(e){return e?(e.nodeName||"").toLowerCase():null}function Pn(e){return((wn(e)?e.ownerDocument:e.document)||window.document).documentElement}function Dn(e){return In(Pn(e)).left+Mn(e).scrollLeft}function jn(e){return yn(e).getComputedStyle(e)}function On(e){var t=jn(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Rn(e,t,n){void 0===n&&(n=!1);var r=xn(t),i=xn(t)&&function(e){var t=e.getBoundingClientRect(),n=Sn(t.width)/e.offsetWidth||1,r=Sn(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=Pn(t),s=In(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==En(t)||On(o))&&(a=function(e){return e!==yn(e)&&xn(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Mn(e);var t}(t)),xn(t)?((l=In(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Dn(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Ln(e){var t=In(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Nn(e){return"html"===En(e)?e:e.assignedSlot||e.parentNode||(_n(e)?e.host:null)||Pn(e)}function Bn(e){return["html","body","#document"].indexOf(En(e))>=0?e.ownerDocument.body:xn(e)&&On(e)?e:Bn(Nn(e))}function Fn(e,t){var n;void 0===t&&(t=[]);var r=Bn(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=yn(r),s=i?[o].concat(o.visualViewport||[],On(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(Fn(Nn(s)))}function zn(e){return["table","td","th"].indexOf(En(e))>=0}function Vn(e){return xn(e)&&"fixed"!==jn(e).position?e.offsetParent:null}function Wn(e){for(var t=yn(e),n=Vn(e);n&&zn(n)&&"static"===jn(n).position;)n=Vn(n);return n&&("html"===En(n)||"body"===En(n)&&"static"===jn(n).position)?t:n||function(e){var t=/firefox/i.test(An());if(/Trident/i.test(An())&&xn(e)&&"fixed"===jn(e).position)return null;var n=Nn(e);for(_n(n)&&(n=n.host);xn(n)&&["html","body"].indexOf(En(n))<0;){var r=jn(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var Hn="top",Un="bottom",$n="right",Yn="left",Gn="auto",qn=[Hn,Un,$n,Yn],Xn="start",Zn="end",Kn="clippingParents",Qn="viewport",Jn="popper",er="reference",tr=qn.reduce((function(e,t){return e.concat([t+"-"+Xn,t+"-"+Zn])}),[]),nr=[].concat(qn,[Gn]).reduce((function(e,t){return e.concat([t,t+"-"+Xn,t+"-"+Zn])}),[]),rr=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ir(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function or(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var sr={placement:"bottom",modifiers:[],strategy:"absolute"};function ar(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function lr(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?sr:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},sr,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:wn(e)?Fn(e):e.contextElement?Fn(e.contextElement):[],popper:Fn(t)};var u=function(e){var t=ir(e);return rr.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var a=o({state:i,name:t,instance:l,options:r}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(ar(t,n)){i.rects={reference:Rn(t,Wn(n),"fixed"===i.options.strategy),popper:Ln(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"===typeof s&&(i=s({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:or((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),a=!0}};if(!ar(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var cr={passive:!0};const ur={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=yn(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,cr)})),a&&l.addEventListener("resize",n.update,cr),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,cr)})),a&&l.removeEventListener("resize",n.update,cr)}},data:{}};function dr(e){return e.split("-")[0]}function hr(e){return e.split("-")[1]}function fr(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function pr(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?dr(i):null,s=i?hr(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case Hn:t={x:a,y:n.y-r.height};break;case Un:t={x:a,y:n.y+n.height};break;case $n:t={x:n.x+n.width,y:l};break;case Yn:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?fr(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case Xn:t[c]=t[c]-(n[u]/2-r[u]/2);break;case Zn:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var mr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gr(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,f=void 0===h?0:h,p=s.y,m=void 0===p?0:p,g="function"===typeof u?u({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var v=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),y=Yn,w=Hn,x=window;if(c){var _=Wn(n),C="clientHeight",k="clientWidth";if(_===yn(n)&&"static"!==jn(_=Pn(n)).position&&"absolute"===a&&(C="scrollHeight",k="scrollWidth"),i===Hn||(i===Yn||i===$n)&&o===Zn)w=Un,m-=(d&&_===x&&x.visualViewport?x.visualViewport.height:_[C])-r.height,m*=l?1:-1;if(i===Yn||(i===Hn||i===Un)&&o===Zn)y=$n,f-=(d&&_===x&&x.visualViewport?x.visualViewport.width:_[k])-r.width,f*=l?1:-1}var S,A=Object.assign({position:a},c&&mr),T=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Sn(n*i)/i||0,y:Sn(r*i)/i||0}}({x:f,y:m},yn(n)):{x:f,y:m};return f=T.x,m=T.y,l?Object.assign({},A,((S={})[w]=b?"0":"",S[y]=v?"0":"",S.transform=(x.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",S)):Object.assign({},A,((t={})[w]=b?m+"px":"",t[y]=v?f+"px":"",t.transform="",t))}const vr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:dr(t.placement),variation:hr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,gr(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,gr(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};const br={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];xn(i)&&En(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});xn(r)&&En(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const yr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=nr.reduce((function(e,n){return e[n]=function(e,t,n){var r=dr(e),i=[Yn,Hn].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Yn,$n].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var wr={left:"right",right:"left",bottom:"top",top:"bottom"};function xr(e){return e.replace(/left|right|bottom|top/g,(function(e){return wr[e]}))}var _r={start:"end",end:"start"};function Cr(e){return e.replace(/start|end/g,(function(e){return _r[e]}))}function kr(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&_n(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Sr(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ar(e,t,n){return t===Qn?Sr(function(e,t){var n=yn(e),r=Pn(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=Tn();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+Dn(e),y:l}}(e,n)):wn(t)?function(e,t){var n=In(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Sr(function(e){var t,n=Pn(e),r=Mn(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=Cn(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Cn(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Dn(e),l=-r.scrollTop;return"rtl"===jn(i||n).direction&&(a+=Cn(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(Pn(e)))}function Tr(e,t,n,r){var i="clippingParents"===t?function(e){var t=Fn(Nn(e)),n=["absolute","fixed"].indexOf(jn(e).position)>=0&&xn(e)?Wn(e):e;return wn(n)?t.filter((function(e){return wn(e)&&kr(e,n)&&"body"!==En(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=Ar(e,n,r);return t.top=Cn(i.top,t.top),t.right=kn(i.right,t.right),t.bottom=kn(i.bottom,t.bottom),t.left=Cn(i.left,t.left),t}),Ar(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ir(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Mr(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Er(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?Kn:a,c=n.rootBoundary,u=void 0===c?Qn:c,d=n.elementContext,h=void 0===d?Jn:d,f=n.altBoundary,p=void 0!==f&&f,m=n.padding,g=void 0===m?0:m,v=Ir("number"!==typeof g?g:Mr(g,qn)),b=h===Jn?er:Jn,y=e.rects.popper,w=e.elements[p?b:h],x=Tr(wn(w)?w:w.contextElement||Pn(e.elements.popper),l,u,s),_=In(e.elements.reference),C=pr({reference:_,element:y,strategy:"absolute",placement:i}),k=Sr(Object.assign({},y,C)),S=h===Jn?k:_,A={top:x.top-S.top+v.top,bottom:S.bottom-x.bottom+v.bottom,left:x.left-S.left+v.left,right:S.right-x.right+v.right},T=e.modifiersData.offset;if(h===Jn&&T){var I=T[i];Object.keys(A).forEach((function(e){var t=[$n,Un].indexOf(e)>=0?1:-1,n=[Hn,Un].indexOf(e)>=0?"y":"x";A[e]+=I[n]*t}))}return A}const Pr={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=dr(g),b=l||(v===g||!p?[xr(g)]:function(e){if(dr(e)===Gn)return[];var t=xr(e);return[Cr(e),t,Cr(t)]}(g)),y=[g].concat(b).reduce((function(e,n){return e.concat(dr(n)===Gn?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?nr:l,u=hr(r),d=u?a?tr:tr.filter((function(e){return hr(e)===u})):qn,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var f=h.reduce((function(t,n){return t[n]=Er(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[dr(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,x=t.rects.popper,_=new Map,C=!0,k=y[0],S=0;S<y.length;S++){var A=y[S],T=dr(A),I=hr(A)===Xn,M=[Hn,Un].indexOf(T)>=0,E=M?"width":"height",P=Er(t,{placement:A,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),D=M?I?$n:Yn:I?Un:Hn;w[E]>x[E]&&(D=xr(D));var j=xr(D),O=[];if(o&&O.push(P[T]<=0),a&&O.push(P[D]<=0,P[j]<=0),O.every((function(e){return e}))){k=A,C=!1;break}_.set(A,O)}if(C)for(var R=function(e){var t=y.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},L=p?3:1;L>0;L--){if("break"===R(L))break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Dr(e,t,n){return Cn(e,kn(t,n))}const jr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,g=Er(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=dr(t.placement),b=hr(t.placement),y=!b,w=fr(v),x="x"===w?"y":"x",_=t.modifiersData.popperOffsets,C=t.rects.reference,k=t.rects.popper,S="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,A="number"===typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(_){if(o){var M,E="y"===w?Hn:Yn,P="y"===w?Un:$n,D="y"===w?"height":"width",j=_[w],O=j+g[E],R=j-g[P],L=f?-k[D]/2:0,N=b===Xn?C[D]:k[D],B=b===Xn?-k[D]:-C[D],F=t.elements.arrow,z=f&&F?Ln(F):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},W=V[E],H=V[P],U=Dr(0,C[D],z[D]),$=y?C[D]/2-L-U-W-A.mainAxis:N-U-W-A.mainAxis,Y=y?-C[D]/2+L+U+H+A.mainAxis:B+U+H+A.mainAxis,G=t.elements.arrow&&Wn(t.elements.arrow),q=G?"y"===w?G.clientTop||0:G.clientLeft||0:0,X=null!=(M=null==T?void 0:T[w])?M:0,Z=j+Y-X,K=Dr(f?kn(O,j+$-X-q):O,j,f?Cn(R,Z):R);_[w]=K,I[w]=K-j}if(a){var Q,J="x"===w?Hn:Yn,ee="x"===w?Un:$n,te=_[x],ne="y"===x?"height":"width",re=te+g[J],ie=te-g[ee],oe=-1!==[Hn,Yn].indexOf(v),se=null!=(Q=null==T?void 0:T[x])?Q:0,ae=oe?re:te-C[ne]-k[ne]-se+A.altAxis,le=oe?te+C[ne]+k[ne]-se-A.altAxis:ie,ce=f&&oe?function(e,t,n){var r=Dr(e,t,n);return r>n?n:r}(ae,te,le):Dr(f?ae:re,te,f?le:ie);_[x]=ce,I[x]=ce-te}t.modifiersData[r]=I}},requiresIfExists:["offset"]};const Or={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=dr(n.placement),l=fr(a),c=[Yn,$n].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return Ir("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Mr(e,qn))}(i.padding,n),d=Ln(o),h="y"===l?Hn:Yn,f="y"===l?Un:$n,p=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=Wn(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=p/2-m/2,y=u[h],w=v-d[c]-u[f],x=v/2-d[c]/2+b,_=Dr(y,x,w),C=l;n.modifiersData[r]=((t={})[C]=_,t.centerOffset=_-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&kr(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Rr(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Lr(e){return[Hn,$n,Un,Yn].some((function(t){return e[t]>=0}))}var Nr=lr({defaultModifiers:[ur,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=pr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},vr,br,yr,Pr,jr,Or,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=Er(t,{elementContext:"reference"}),a=Er(t,{altBoundary:!0}),l=Rr(s,r),c=Rr(a,i,o),u=Lr(l),d=Lr(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});const Br=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const Fr=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const zr=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=(0,ke.A)(null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),t=(0,_e.A)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),s=(0,_e.A)({},n,i,r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=Br((0,_e.A)({},i,r)),a=Fr(r),l=Fr(i),c=t(s),u=(0,ke.A)(null==c?void 0:c.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),d=(0,_e.A)({},null==c?void 0:c.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),h=(0,_e.A)({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}};const Vr=function(e,t,n){return"function"===typeof e?e(t,n):e},Wr=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const Hr=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=(0,Ce.A)(e,Wr),a=o?{}:Vr(r,i),{props:l,internalRef:c}=zr((0,_e.A)({},s,{externalSlotProps:a})),u=(0,gn.A)(c,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref);return Ht(n,(0,_e.A)({},l,{ref:u}),i)};var Ur=n(6564);const $r=i.forwardRef((function(e,t){const{children:n,container:r,disablePortal:o=!1}=e,[s,a]=i.useState(null),l=(0,gn.A)(i.isValidElement(n)?n.ref:null,t);if((0,vn.A)((()=>{o||a(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,o]),(0,vn.A)((()=>{if(s&&!o)return(0,Ur.A)(t,s),()=>{(0,Ur.A)(t,null)}}),[t,s,o]),o){if(i.isValidElement(n)){const e={ref:l};return i.cloneElement(n,e)}return(0,je.jsx)(i.Fragment,{children:n})}return(0,je.jsx)(i.Fragment,{children:s?Yt.createPortal(n,s):s})}));function Yr(e){return(0,He.Ay)("MuiPopper",e)}(0,Fe.A)("MuiPopper",["root"]);const Gr=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],qr=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Xr(e){return"function"===typeof e?e():e}function Zr(e){return void 0!==e.nodeType}const Kr={},Qr=i.forwardRef((function(e,t){var n;const{anchorEl:r,children:o,direction:s,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:f={},slots:p={},TransitionProps:m}=e,g=(0,Ce.A)(e,Gr),v=i.useRef(null),b=(0,gn.A)(v,t),y=i.useRef(null),w=(0,gn.A)(y,h),x=i.useRef(w);(0,vn.A)((()=>{x.current=w}),[w]),i.useImperativeHandle(h,(()=>y.current),[]);const _=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(u,s),[C,k]=i.useState(_),[S,A]=i.useState(Xr(r));i.useEffect((()=>{y.current&&y.current.forceUpdate()})),i.useEffect((()=>{r&&A(Xr(r))}),[r]),(0,vn.A)((()=>{if(!S||!c)return;let e=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;(e=>{k(e.placement)})(t)}}];null!=l&&(e=e.concat(l)),d&&null!=d.modifiers&&(e=e.concat(d.modifiers));const t=Nr(S,v.current,(0,_e.A)({placement:_},d,{modifiers:e}));return x.current(t),()=>{t.destroy(),x.current(null)}}),[S,a,l,c,d,_]);const T={placement:C};null!==m&&(T.TransitionProps=m);const I=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"]},Yr,t)})(e),M=null!=(n=p.root)?n:"div",E=Hr({elementType:M,externalSlotProps:f.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:b},ownerState:e,className:I.root});return(0,je.jsx)(M,(0,_e.A)({},E,{children:"function"===typeof o?o(T):o}))})),Jr=i.forwardRef((function(e,t){const{anchorEl:n,children:r,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=Kr,popperRef:f,style:p,transition:m=!1,slotProps:g={},slots:v={}}=e,b=(0,Ce.A)(e,qr),[y,w]=i.useState(!0);if(!l&&!u&&(!m||y))return null;let x;if(o)x=o;else if(n){const e=Xr(n);x=e&&Zr(e)?(0,bn.A)(e).body:(0,bn.A)(null).body}const _=u||!l||m&&!y?void 0:"none",C=m?{in:u,onEnter:()=>{w(!1)},onExited:()=>{w(!0)}}:void 0;return(0,je.jsx)($r,{disablePortal:a,container:x,children:(0,je.jsx)(Qr,(0,_e.A)({anchorEl:n,direction:s,disablePortal:a,modifiers:c,ref:t,open:m?!y:u,placement:d,popperOptions:h,popperRef:f,slotProps:g,slots:v},b,{style:(0,_e.A)({position:"fixed",top:0,left:0,display:_},p),TransitionProps:C,children:r}))})})),ei=Jr,ti=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],ni=(0,ft.Ay)(ei,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ri=i.forwardRef((function(e,t){var n;const r=(0,mn.A)(),i=(0,pt.b)({props:e,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:f,placement:p,popperOptions:m,popperRef:g,transition:v,slots:b,slotProps:y}=i,w=(0,Ce.A)(i,ti),x=null!=(n=null==b?void 0:b.root)?n:null==a?void 0:a.Root,_=(0,_e.A)({anchorEl:o,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:f,placement:p,popperOptions:m,popperRef:g,transition:v},w);return(0,je.jsx)(ni,(0,_e.A)({as:s,direction:null==r?void 0:r.direction,slots:{root:x},slotProps:null!=y?y:l},_,{ref:t}))})),ii=ri;var oi=n(3319),si=n(5879),ai=n(3574),li=n(4516);function ci(e){return(0,He.Ay)("MuiTooltip",e)}const ui=(0,Fe.A)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),di=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function hi(e){return Math.round(1e5*e)/1e5}const fi=(0,ft.Ay)(ii,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((e=>{let{theme:t,ownerState:n,open:r}=e;return(0,_e.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{[`&[data-popper-placement*="bottom"] .${ui.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${ui.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${ui.arrow}`]:(0,_e.A)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${ui.arrow}`]:(0,_e.A)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})})),pi=(0,ft.Ay)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${(0,ht.A)(n.placement.split("-")[0])}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,Nt.X4)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${hi(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${ui.popper}[data-popper-placement*="left"] &`]:(0,_e.A)({transformOrigin:"right center"},n.isRtl?(0,_e.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,_e.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[`.${ui.popper}[data-popper-placement*="right"] &`]:(0,_e.A)({transformOrigin:"left center"},n.isRtl?(0,_e.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,_e.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[`.${ui.popper}[data-popper-placement*="top"] &`]:(0,_e.A)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[`.${ui.popper}[data-popper-placement*="bottom"] &`]:(0,_e.A)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})})})),mi=(0,ft.Ay)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,Nt.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let gi=!1;const vi=new Lt.E;let bi={x:0,y:0};function yi(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t&&t(n,...i),e(n,...i)}}const wi=i.forwardRef((function(e,t){var n,r,o,s,a,l,c,u,d,h,f,p,m,g,v,b,y,w,x;const _=(0,pt.b)({props:e,name:"MuiTooltip"}),{arrow:C=!1,children:k,components:S={},componentsProps:A={},describeChild:T=!1,disableFocusListener:I=!1,disableHoverListener:M=!1,disableInteractive:E=!1,disableTouchListener:P=!1,enterDelay:D=100,enterNextDelay:j=0,enterTouchDelay:O=700,followCursor:R=!1,id:L,leaveDelay:N=0,leaveTouchDelay:B=1500,onClose:F,onOpen:z,open:V,placement:W="bottom",PopperComponent:H,PopperProps:U={},slotProps:$={},slots:Y={},title:G,TransitionComponent:q=pn,TransitionProps:X}=_,Z=(0,Ce.A)(_,di),K=i.isValidElement(k)?k:(0,je.jsx)("span",{children:k}),Q=yt(),J=zt(),[ee,te]=i.useState(),[ne,re]=i.useState(null),ie=i.useRef(!1),oe=E||R,se=(0,Lt.A)(),ae=(0,Lt.A)(),le=(0,Lt.A)(),ce=(0,Lt.A)(),[ue,de]=(0,li.A)({controlled:V,default:!1,name:"Tooltip",state:"open"});let he=ue;const fe=(0,si.A)(L),pe=i.useRef(),me=(0,oi.A)((()=>{void 0!==pe.current&&(document.body.style.WebkitUserSelect=pe.current,pe.current=void 0),ce.clear()}));i.useEffect((()=>me),[me]);const ge=e=>{vi.clear(),gi=!0,de(!0),z&&!he&&z(e)},ve=(0,oi.A)((e=>{vi.start(800+N,(()=>{gi=!1})),de(!1),F&&he&&F(e),se.start(Q.transitions.duration.shortest,(()=>{ie.current=!1}))})),be=e=>{ie.current&&"touchstart"!==e.type||(ee&&ee.removeAttribute("title"),ae.clear(),le.clear(),D||gi&&j?ae.start(gi?j:D,(()=>{ge(e)})):ge(e))},ye=e=>{ae.clear(),le.start(N,(()=>{ve(e)}))},{isFocusVisibleRef:we,onBlur:xe,onFocus:Se,ref:Ae}=(0,ai.A)(),[,Te]=i.useState(!1),Ie=e=>{xe(e),!1===we.current&&(Te(!1),ye(e))},Me=e=>{ee||te(e.currentTarget),Se(e),!0===we.current&&(Te(!0),be(e))},Ee=e=>{ie.current=!0;const t=K.props;t.onTouchStart&&t.onTouchStart(e)},Pe=e=>{Ee(e),le.clear(),se.clear(),me(),pe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ce.start(O,(()=>{document.body.style.WebkitUserSelect=pe.current,be(e)}))},De=e=>{K.props.onTouchEnd&&K.props.onTouchEnd(e),me(),le.start(B,(()=>{ve(e)}))};i.useEffect((()=>{if(he)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||ve(e)}}),[ve,he]);const Oe=(0,ln.A)(K.ref,Ae,te,t);G||0===G||(he=!1);const Re=i.useRef(),Le={},Ne="string"===typeof G;T?(Le.title=he||!Ne||M?null:G,Le["aria-describedby"]=he?fe:null):(Le["aria-label"]=Ne?G:null,Le["aria-labelledby"]=he&&!Ne?fe:null);const Be=(0,_e.A)({},Le,Z,K.props,{className:(0,ke.A)(Z.className,K.props.className),onTouchStart:Ee,ref:Oe},R?{onMouseMove:e=>{const t=K.props;t.onMouseMove&&t.onMouseMove(e),bi={x:e.clientX,y:e.clientY},Re.current&&Re.current.update()}}:{});const Fe={};P||(Be.onTouchStart=Pe,Be.onTouchEnd=De),M||(Be.onMouseOver=yi(be,Be.onMouseOver),Be.onMouseLeave=yi(ye,Be.onMouseLeave),oe||(Fe.onMouseOver=be,Fe.onMouseLeave=ye)),I||(Be.onFocus=yi(Me,Be.onFocus),Be.onBlur=yi(Ie,Be.onBlur),oe||(Fe.onFocus=Me,Fe.onBlur=Ie));const ze=i.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(ne),options:{element:ne,padding:4}}];return null!=(e=U.popperOptions)&&e.modifiers&&(t=t.concat(U.popperOptions.modifiers)),(0,_e.A)({},U.popperOptions,{modifiers:t})}),[ne,U]),Ve=(0,_e.A)({},_,{isRtl:J,arrow:C,disableInteractive:oe,placement:W,PopperComponentProp:H,touch:ie.current}),We=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${(0,ht.A)(o.split("-")[0])}`],arrow:["arrow"]};return(0,Ue.A)(s,ci,t)})(Ve),He=null!=(n=null!=(r=Y.popper)?r:S.Popper)?n:fi,$e=null!=(o=null!=(s=null!=(a=Y.transition)?a:S.Transition)?s:q)?o:pn,Ye=null!=(l=null!=(c=Y.tooltip)?c:S.Tooltip)?l:pi,Ge=null!=(u=null!=(d=Y.arrow)?d:S.Arrow)?u:mi,qe=Ht(He,(0,_e.A)({},U,null!=(h=$.popper)?h:A.popper,{className:(0,ke.A)(We.popper,null==U?void 0:U.className,null==(f=null!=(p=$.popper)?p:A.popper)?void 0:f.className)}),Ve),Xe=Ht($e,(0,_e.A)({},X,null!=(m=$.transition)?m:A.transition),Ve),Ze=Ht(Ye,(0,_e.A)({},null!=(g=$.tooltip)?g:A.tooltip,{className:(0,ke.A)(We.tooltip,null==(v=null!=(b=$.tooltip)?b:A.tooltip)?void 0:v.className)}),Ve),Ke=Ht(Ge,(0,_e.A)({},null!=(y=$.arrow)?y:A.arrow,{className:(0,ke.A)(We.arrow,null==(w=null!=(x=$.arrow)?x:A.arrow)?void 0:w.className)}),Ve);return(0,je.jsxs)(i.Fragment,{children:[i.cloneElement(K,Be),(0,je.jsx)(He,(0,_e.A)({as:null!=H?H:ii,placement:W,anchorEl:R?{getBoundingClientRect:()=>({top:bi.y,left:bi.x,right:bi.x,bottom:bi.y,width:0,height:0})}:ee,popperRef:Re,open:!!ee&&he,id:fe,transition:!0},Fe,qe,{popperOptions:ze,children:e=>{let{TransitionProps:t}=e;return(0,je.jsx)($e,(0,_e.A)({timeout:Q.transitions.duration.shorter},t,Xe,{children:(0,je.jsxs)(Ye,(0,_e.A)({},Ze,{children:[G,C?(0,je.jsx)(Ge,(0,_e.A)({},Ke,{ref:re})):null]}))}))}}))]})})),xi=wi;function _i(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function Ci(e,t,n){return null!=n[t]?n[t]:e.props[t]}function ki(e,t,n){var r=_i(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(t,r);return Object.keys(o).forEach((function(s){var a=o[s];if((0,i.isValidElement)(a)){var l=s in t,c=s in r,u=t[s],d=(0,i.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,i.isValidElement)(u)&&(o[s]=(0,i.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:Ci(a,"exit",e),enter:Ci(a,"enter",e)})):o[s]=(0,i.cloneElement)(a,{in:!1}):o[s]=(0,i.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:Ci(a,"exit",e),enter:Ci(a,"enter",e)})}})),o}var Si=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Ai=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}$t(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,s=t.handleExited;return{children:t.firstRender?(n=e,r=s,_i(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:Ci(e,"appear",n),enter:Ci(e,"enter",n),exit:Ci(e,"exit",n)})}))):ki(e,o,s),firstRender:!1}},n.handleExited=function(e,t){var n=_i(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,_e.A)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,Ce.A)(e,["component","childFactory"]),o=this.state.contextValue,s=Si(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(Xt.Provider,{value:o},s):i.createElement(Xt.Provider,{value:o},i.createElement(t,r,s))},t}(i.Component);Ai.propTypes={},Ai.defaultProps={component:"div",childFactory:function(e){return e}};const Ti=Ai;var Ii=n(3290);const Mi=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=e,[d,h]=i.useState(!1),f=(0,ke.A)(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:a,height:a,top:-a/2+s,left:-a/2+o},m=(0,ke.A)(n.child,d&&n.childLeaving,r&&n.childPulsate);return l||d||h(!0),i.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,je.jsx)("span",{className:f,style:p,children:(0,je.jsx)("span",{className:m})})};const Ei=(0,Fe.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Pi=["center","classes","className"];let Di,ji,Oi,Ri,Li=e=>e;const Ni=(0,Ii.i7)(Di||(Di=Li`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Bi=(0,Ii.i7)(ji||(ji=Li`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Fi=(0,Ii.i7)(Oi||(Oi=Li`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),zi=(0,ft.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Vi=(0,ft.Ay)(Mi,{name:"MuiTouchRipple",slot:"Ripple"})(Ri||(Ri=Li`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ei.rippleVisible,Ni,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Ei.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),Ei.child,Ei.childLeaving,Bi,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Ei.childPulsate,Fi,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),Wi=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:o={},className:s}=n,a=(0,Ce.A)(n,Pi),[l,c]=i.useState([]),u=i.useRef(0),d=i.useRef(null);i.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const h=i.useRef(!1),f=(0,Lt.A)(),p=i.useRef(null),m=i.useRef(null),g=i.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:s}=e;c((e=>[...e,(0,je.jsx)(Vi,{classes:{ripple:(0,ke.A)(o.ripple,Ei.ripple),rippleVisible:(0,ke.A)(o.rippleVisible,Ei.rippleVisible),ripplePulsate:(0,ke.A)(o.ripplePulsate,Ei.ripplePulsate),child:(0,ke.A)(o.child,Ei.child),childLeaving:(0,ke.A)(o.childLeaving,Ei.childLeaving),childPulsate:(0,ke.A)(o.childPulsate,Ei.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},u.current)])),u.current+=1,d.current=s}),[o]),v=i.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:i=!1,center:o=r||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null==e?void 0:e.type)&&(h.current=!0);const a=s?null:m.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===p.current&&(p.current=()=>{g({pulsate:i,rippleX:c,rippleY:u,rippleSize:d,cb:n})},f.start(80,(()=>{p.current&&(p.current(),p.current=null)}))):g({pulsate:i,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[r,g,f]),b=i.useCallback((()=>{v({},{pulsate:!0})}),[v]),y=i.useCallback(((e,t)=>{if(f.clear(),"touchend"===(null==e?void 0:e.type)&&p.current)return p.current(),p.current=null,void f.start(0,(()=>{y(e,t)}));p.current=null,c((e=>e.length>0?e.slice(1):e)),d.current=t}),[f]);return i.useImperativeHandle(t,(()=>({pulsate:b,start:v,stop:y})),[b,v,y]),(0,je.jsx)(zi,(0,_e.A)({className:(0,ke.A)(Ei.root,o.root,s),ref:m},a,{children:(0,je.jsx)(Ti,{component:null,exit:!0,children:l})}))})),Hi=Wi;function Ui(e){return(0,He.Ay)("MuiButtonBase",e)}const $i=(0,Fe.A)("MuiButtonBase",["root","disabled","focusVisible"]),Yi=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Gi=(0,ft.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${$i.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),qi=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:m,onContextMenu:g,onDragLeave:v,onFocus:b,onFocusVisible:y,onKeyDown:w,onKeyUp:x,onMouseDown:_,onMouseLeave:C,onMouseUp:k,onTouchEnd:S,onTouchMove:A,onTouchStart:T,tabIndex:I=0,TouchRippleProps:M,touchRippleRef:E,type:P}=n,D=(0,Ce.A)(n,Yi),j=i.useRef(null),O=i.useRef(null),R=(0,ln.A)(O,E),{isFocusVisibleRef:L,onFocus:N,onBlur:B,ref:F}=(0,ai.A)(),[z,V]=i.useState(!1);c&&z&&V(!1),i.useImperativeHandle(r,(()=>({focusVisible:()=>{V(!0),j.current.focus()}})),[]);const[W,H]=i.useState(!1);i.useEffect((()=>{H(!0)}),[]);const U=W&&!u&&!c;function $(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return(0,oi.A)((r=>{t&&t(r);return!n&&O.current&&O.current[e](r),!0}))}i.useEffect((()=>{z&&h&&!u&&W&&O.current.pulsate()}),[u,h,z,W]);const Y=$("start",_),G=$("stop",g),q=$("stop",v),X=$("stop",k),Z=$("stop",(e=>{z&&e.preventDefault(),C&&C(e)})),K=$("start",T),Q=$("stop",S),J=$("stop",A),ee=$("stop",(e=>{B(e),!1===L.current&&V(!1),p&&p(e)}),!1),te=(0,oi.A)((e=>{j.current||(j.current=e.currentTarget),N(e),!0===L.current&&(V(!0),y&&y(e)),b&&b(e)})),ne=()=>{const e=j.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},re=i.useRef(!1),ie=(0,oi.A)((e=>{h&&!re.current&&z&&O.current&&" "===e.key&&(re.current=!0,O.current.stop(e,(()=>{O.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),w&&w(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!c&&(e.preventDefault(),m&&m(e))})),oe=(0,oi.A)((e=>{h&&" "===e.key&&O.current&&z&&!e.defaultPrevented&&(re.current=!1,O.current.stop(e,(()=>{O.current.pulsate(e)}))),x&&x(e),m&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let se=l;"button"===se&&(D.href||D.to)&&(se=f);const ae={};"button"===se?(ae.type=void 0===P?"button":P,ae.disabled=c):(D.href||D.to||(ae.role="button"),c&&(ae["aria-disabled"]=c));const le=(0,ln.A)(t,F,j);const ce=(0,_e.A)({},n,{centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:I,focusVisible:z}),ue=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o={root:["root",t&&"disabled",n&&"focusVisible"]},s=(0,Ue.A)(o,Ui,i);return n&&r&&(s.root+=` ${r}`),s})(ce);return(0,je.jsxs)(Gi,(0,_e.A)({as:se,className:(0,ke.A)(ue.root,a),ownerState:ce,onBlur:ee,onClick:m,onContextMenu:G,onFocus:te,onKeyDown:ie,onKeyUp:oe,onMouseDown:Y,onMouseLeave:Z,onMouseUp:X,onDragLeave:q,onTouchEnd:Q,onTouchMove:J,onTouchStart:K,ref:le,tabIndex:c?-1:I,type:P},ae,D,{children:[s,U?(0,je.jsx)(Hi,(0,_e.A)({ref:R,center:o},M)):null]}))}));function Xi(e){return(0,He.Ay)("MuiIconButton",e)}const Zi=(0,Fe.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Ki=["edge","children","className","color","disabled","disableFocusRipple","size"],Qi=(0,ft.Ay)(qi,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${(0,ht.A)(n.color)}`],n.edge&&t[`edge${(0,ht.A)(n.edge)}`],t[`size${(0,ht.A)(n.size)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Nt.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const i=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,_e.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,_e.A)({color:null==i?void 0:i.main},!n.disableRipple&&{"&:hover":(0,_e.A)({},i&&{backgroundColor:t.vars?`rgba(${i.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Nt.X4)(i.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Zi.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),Ji=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:o,color:s="default",disabled:a=!1,disableFocusRipple:l=!1,size:c="medium"}=n,u=(0,Ce.A)(n,Ki),d=(0,_e.A)({},n,{edge:r,color:s,disabled:a,disableFocusRipple:l,size:c}),h=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled","default"!==r&&`color${(0,ht.A)(r)}`,i&&`edge${(0,ht.A)(i)}`,`size${(0,ht.A)(o)}`]};return(0,Ue.A)(s,Xi,t)})(d);return(0,je.jsx)(Qi,(0,_e.A)({className:(0,ke.A)(h.root,o),centerRipple:!0,focusRipple:!l,disabled:a,ref:t},u,{ownerState:d,children:i}))})),eo=Ji;n(2086);var to=n(2427);const no=i.createContext({});function ro(e){return(0,He.Ay)("MuiList",e)}(0,Fe.A)("MuiList",["root","padding","dense","subheader"]);const io=["children","className","component","dense","disablePadding","subheader"],oo=(0,ft.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),so=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiList"}),{children:r,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=n,u=(0,Ce.A)(n,io),d=i.useMemo((()=>({dense:a})),[a]),h=(0,_e.A)({},n,{component:s,dense:a,disablePadding:l}),f=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e,o={root:["root",!n&&"padding",r&&"dense",i&&"subheader"]};return(0,Ue.A)(o,ro,t)})(h);return(0,je.jsx)(no.Provider,{value:d,children:(0,je.jsxs)(oo,(0,_e.A)({as:s,className:(0,ke.A)(f.root,o),ref:t,ownerState:h},u,{children:[c,r]}))})}));function ao(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const lo=ao;var co=n(5013);const uo=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function ho(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function fo(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function po(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function mo(e,t,n,r,i,o){let s=!1,a=i(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&po(a,o)&&!t)return a.focus(),!0;a=i(e,a,n)}return!1}const go=i.forwardRef((function(e,t){const{actions:n,autoFocus:r=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=(0,Ce.A)(e,uo),f=i.useRef(null),p=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,co.A)((()=>{r&&f.current.focus()}),[r]),i.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!f.current.style.width;if(e.clientHeight<f.current.clientHeight&&r){const t=`${lo((0,to.A)(e))}px`;f.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,f.current.style.width=`calc(100% + ${t})`}return f.current}})),[]);const m=(0,ln.A)(f,t);let g=-1;i.Children.forEach(s,((e,t)=>{i.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===g)&&(g=t),g===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=s.length&&(g=-1))):g===t&&(g+=1,g>=s.length&&(g=-1))}));const v=i.Children.map(s,((e,t)=>{if(t===g){const t={};return o&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(t.tabIndex=0),i.cloneElement(e,t)}return e}));return(0,je.jsx)(so,(0,_e.A)({role:"menu",ref:m,className:a,onKeyDown:e=>{const t=f.current,n=e.key,r=(0,to.A)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),mo(t,r,c,l,ho);else if("ArrowUp"===n)e.preventDefault(),mo(t,r,c,l,fo);else if("Home"===n)e.preventDefault(),mo(t,null,c,l,ho);else if("End"===n)e.preventDefault(),mo(t,null,c,l,fo);else if(1===n.length){const i=p.current,o=n.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(o);const a=r&&!i.repeating&&po(r,i);i.previousKeyMatched&&(a||mo(t,r,!1,l,ho,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:r?0:-1},h,{children:v}))})),vo=go;var bo=n(950),yo=n(6078);const wo=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function xo(e){const t=[],n=[];return Array.from(e.querySelectorAll(wo)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function _o(){return!0}const Co=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:s=xo,isEnabled:a=_o,open:l}=e,c=i.useRef(!1),u=i.useRef(null),d=i.useRef(null),h=i.useRef(null),f=i.useRef(null),p=i.useRef(!1),m=i.useRef(null),g=(0,gn.A)(t.ref,m),v=i.useRef(null);i.useEffect((()=>{l&&m.current&&(p.current=!n)}),[n,l]),i.useEffect((()=>{if(!l||!m.current)return;const e=(0,bn.A)(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),i.useEffect((()=>{if(!l||!m.current)return;const e=(0,bn.A)(m.current),t=t=>{v.current=t,!r&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!p.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var i,o;const e=Boolean((null==(i=v.current)?void 0:i.shiftKey)&&"Tab"===(null==(o=v.current)?void 0:o.key)),t=n[0],r=n[n.length-1];"string"!==typeof t&&"string"!==typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const i=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(i),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,r,o,a,l,s]);const b=e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0};return(0,je.jsxs)(i.Fragment,{children:[(0,je.jsx)("div",{tabIndex:l?0:-1,onFocus:b,ref:u,"data-testid":"sentinelStart"}),i.cloneElement(t,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0,f.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,je.jsx)("div",{tabIndex:l?0:-1,onFocus:b,ref:d,"data-testid":"sentinelEnd"})]})},ko=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],So={entering:{opacity:1},entered:{opacity:1}},Ao=i.forwardRef((function(e,t){const n=yt(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:m,style:g,timeout:v=r,TransitionComponent:b=on}=e,y=(0,Ce.A)(e,ko),w=i.useRef(null),x=(0,ln.A)(w,a.ref,t),_=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},C=_(h),k=_(((e,t)=>{sn(e);const r=an({style:g,timeout:v,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),u&&u(e,t)})),S=_(d),A=_(m),T=_((e=>{const t=an({style:g,timeout:v,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),f&&f(e)})),I=_(p);return(0,je.jsx)(b,(0,_e.A)({appear:s,in:c,nodeRef:w,onEnter:k,onEntered:S,onEntering:C,onExit:T,onExited:I,onExiting:A,addEndListener:e=>{o&&o(w.current,e)},timeout:v},y,{children:(e,t)=>i.cloneElement(a,(0,_e.A)({style:(0,_e.A)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},So[e],g,a.props.style),ref:x},t))}))})),To=Ao;function Io(e){return(0,He.Ay)("MuiBackdrop",e)}(0,Fe.A)("MuiBackdrop",["root","invisible"]);const Mo=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Eo=(0,ft.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),Po=i.forwardRef((function(e,t){var n,r,i;const o=(0,pt.b)({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",components:c={},componentsProps:u={},invisible:d=!1,open:h,slotProps:f={},slots:p={},TransitionComponent:m=To,transitionDuration:g}=o,v=(0,Ce.A)(o,Mo),b=(0,_e.A)({},o,{component:l,invisible:d}),y=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,Ue.A)(r,Io,t)})(b),w=null!=(n=f.root)?n:u.root;return(0,je.jsx)(m,(0,_e.A)({in:h,timeout:g},v,{children:(0,je.jsx)(Eo,(0,_e.A)({"aria-hidden":!0},w,{as:null!=(r=null!=(i=p.root)?i:c.Root)?r:l,className:(0,ke.A)(y.root,a,null==w?void 0:w.className),ownerState:(0,_e.A)({},b,null==w?void 0:w.ownerState),classes:y,ref:t,children:s}))}))}));var Do=n(1782),jo=n(2456),Oo=n(3940);function Ro(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Lo(e){return parseInt((0,Oo.A)(e).getComputedStyle(e).paddingRight,10)||0}function No(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Ro(e,i)}))}function Bo(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function Fo(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,bn.A)(e);return t.body===e?(0,Oo.A)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=ao((0,bn.A)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Lo(r)+e}px`;const t=(0,bn.A)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${Lo(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,bn.A)(r).body;else{const t=r.parentElement,n=(0,Oo.A)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const zo=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Ro(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);No(t,e.mount,e.modalRef,r,!0);const i=Bo(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=Bo(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=Fo(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=Bo(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&Ro(e.modalRef,t),No(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&Ro(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const Vo=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:o=zo,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:u,open:d,rootRef:h}=e,f=i.useRef({}),p=i.useRef(null),m=i.useRef(null),g=(0,gn.A)(m,h),[v,b]=i.useState(!d),y=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const x=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),_=()=>{o.mount(x(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},C=(0,Do.A)((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||(0,bn.A)(p.current).body;o.add(x(),e),m.current&&_()})),k=i.useCallback((()=>o.isTopModal(x())),[o]),S=(0,Do.A)((e=>{p.current=e,e&&(d&&k()?_():m.current&&Ro(m.current,w))})),A=i.useCallback((()=>{o.remove(x(),w)}),[w,o]);i.useEffect((()=>()=>{A()}),[A]),i.useEffect((()=>{d?C():y&&s||A()}),[d,A,y,s,C]);const T=e=>t=>{var r;null==(r=e.onKeyDown)||r.call(e,t),"Escape"===t.key&&229!==t.which&&k()&&(n||(t.stopPropagation(),u&&u(t,"escapeKeyDown")))},I=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&u&&u(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Br(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,_e.A)({},n,t);return(0,_e.A)({role:"presentation"},r,{onKeyDown:T(r),ref:g})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,_e.A)({"aria-hidden":!0},e,{onClick:I(e),open:d})},getTransitionProps:()=>({onEnter:(0,jo.A)((()=>{b(!1),a&&a()}),null==c?void 0:c.props.onEnter),onExited:(0,jo.A)((()=>{b(!0),l&&l(),s&&A()}),null==c?void 0:c.props.onExited)}),rootRef:g,portalRef:S,isTopModal:k,exited:v,hasTransition:y}};function Wo(e){return(0,He.Ay)("MuiModal",e)}(0,Fe.A)("MuiModal",["root","hidden","backdrop"]);const Ho=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Uo=(0,ft.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),$o=(0,ft.Ay)(Po,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Yo=i.forwardRef((function(e,t){var n,r,o,s,a,l;const c=(0,pt.b)({name:"MuiModal",props:e}),{BackdropComponent:u=$o,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:p,container:m,component:g,components:v={},componentsProps:b={},disableAutoFocus:y=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:x=!1,disablePortal:_=!1,disableRestoreFocus:C=!1,disableScrollLock:k=!1,hideBackdrop:S=!1,keepMounted:A=!1,onBackdropClick:T,open:I,slotProps:M,slots:E}=c,P=(0,Ce.A)(c,Ho),D=(0,_e.A)({},c,{closeAfterTransition:f,disableAutoFocus:y,disableEnforceFocus:w,disableEscapeKeyDown:x,disablePortal:_,disableRestoreFocus:C,disableScrollLock:k,hideBackdrop:S,keepMounted:A}),{getRootProps:j,getBackdropProps:O,getTransitionProps:R,portalRef:L,isTopModal:N,exited:B,hasTransition:F}=Vo((0,_e.A)({},D,{rootRef:t})),z=(0,_e.A)({},D,{exited:B}),V=(e=>{const{open:t,exited:n,classes:r}=e,i={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,Ue.A)(i,Wo,r)})(z),W={};if(void 0===p.props.tabIndex&&(W.tabIndex="-1"),F){const{onEnter:e,onExited:t}=R();W.onEnter=e,W.onExited=t}const H=null!=(n=null!=(r=null==E?void 0:E.root)?r:v.Root)?n:Uo,U=null!=(o=null!=(s=null==E?void 0:E.backdrop)?s:v.Backdrop)?o:u,$=null!=(a=null==M?void 0:M.root)?a:b.root,Y=null!=(l=null==M?void 0:M.backdrop)?l:b.backdrop,G=Hr({elementType:H,externalSlotProps:$,externalForwardedProps:P,getSlotProps:j,additionalProps:{ref:t,as:g},ownerState:z,className:(0,ke.A)(h,null==$?void 0:$.className,null==V?void 0:V.root,!z.open&&z.exited&&(null==V?void 0:V.hidden))}),q=Hr({elementType:U,externalSlotProps:Y,additionalProps:d,getSlotProps:e=>O((0,_e.A)({},e,{onClick:t=>{T&&T(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,ke.A)(null==Y?void 0:Y.className,null==d?void 0:d.className,null==V?void 0:V.backdrop),ownerState:z});return A||I||F&&!B?(0,je.jsx)($r,{ref:L,container:m,disablePortal:_,children:(0,je.jsxs)(H,(0,_e.A)({},G,{children:[!S&&u?(0,je.jsx)(U,(0,_e.A)({},q)):null,(0,je.jsx)(Co,{disableEnforceFocus:w,disableAutoFocus:y,disableRestoreFocus:C,isEnabled:N,open:I,children:i.cloneElement(p,W)})]}))}):null})),Go=Yo,qo=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function Xo(e){return(0,He.Ay)("MuiPaper",e)}(0,Fe.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Zo=["className","component","elevation","square","variant"],Ko=(0,ft.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,_e.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.divider}`},"elevation"===n.variant&&(0,_e.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:`linear-gradient(${(0,Nt.X4)("#fff",qo(n.elevation))}, ${(0,Nt.X4)("#fff",qo(n.elevation))})`},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),Qo=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:o=1,square:s=!1,variant:a="elevation"}=n,l=(0,Ce.A)(n,Zo),c=(0,_e.A)({},n,{component:i,elevation:o,square:s,variant:a}),u=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]};return(0,Ue.A)(o,Xo,i)})(c);return(0,je.jsx)(Ko,(0,_e.A)({as:i,ownerState:c,className:(0,ke.A)(u.root,r),ref:t},l))}));function Jo(e){return(0,He.Ay)("MuiPopover",e)}(0,Fe.A)("MuiPopover",["root","paper"]);const es=["onEntering"],ts=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],ns=["slotProps"];function rs(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function is(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function os(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?`${e}px`:e)).join(" ")}function ss(e){return"function"===typeof e?e():e}const as=(0,ft.Ay)(Go,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ls=(0,ft.Ay)(Qo,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),cs=i.forwardRef((function(e,t){var n,r,o;const s=(0,pt.b)({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:f,container:p,elevation:m=8,marginThreshold:g=16,open:v,PaperProps:b={},slots:y,slotProps:w,transformOrigin:x={vertical:"top",horizontal:"left"},TransitionComponent:_=pn,transitionDuration:C="auto",TransitionProps:{onEntering:k}={},disableScrollLock:S=!1}=s,A=(0,Ce.A)(s.TransitionProps,es),T=(0,Ce.A)(s,ts),I=null!=(n=null==w?void 0:w.paper)?n:b,M=i.useRef(),E=(0,ln.A)(M,I.ref),P=(0,_e.A)({},s,{anchorOrigin:c,anchorReference:d,elevation:m,marginThreshold:g,externalPaperSlotProps:I,transformOrigin:x,TransitionComponent:_,transitionDuration:C,TransitionProps:A}),D=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"],paper:["paper"]},Jo,t)})(P),j=i.useCallback((()=>{if("anchorPosition"===d)return u;const e=ss(l),t=(e&&1===e.nodeType?e:(0,to.A)(M.current).body).getBoundingClientRect();return{top:t.top+rs(t,c.vertical),left:t.left+is(t,c.horizontal)}}),[l,c.horizontal,c.vertical,u,d]),O=i.useCallback((e=>({vertical:rs(e,x.vertical),horizontal:is(e,x.horizontal)})),[x.horizontal,x.vertical]),R=i.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=O(t);if("none"===d)return{top:null,left:null,transformOrigin:os(n)};const r=j();let i=r.top-n.vertical,o=r.left-n.horizontal;const s=i+t.height,a=o+t.width,c=(0,yo.A)(ss(l)),u=c.innerHeight-g,h=c.innerWidth-g;if(null!==g&&i<g){const e=i-g;i-=e,n.vertical+=e}else if(null!==g&&s>u){const e=s-u;i-=e,n.vertical+=e}if(null!==g&&o<g){const e=o-g;o-=e,n.horizontal+=e}else if(a>h){const e=a-h;o-=e,n.horizontal+=e}return{top:`${Math.round(i)}px`,left:`${Math.round(o)}px`,transformOrigin:os(n)}}),[l,d,j,O,g]),[L,N]=i.useState(v),B=i.useCallback((()=>{const e=M.current;if(!e)return;const t=R(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,N(!0)}),[R]);i.useEffect((()=>(S&&window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B))),[l,S,B]);i.useEffect((()=>{v&&B()})),i.useImperativeHandle(a,(()=>v?{updatePosition:()=>{B()}}:null),[v,B]),i.useEffect((()=>{if(!v)return;const e=(0,bo.A)((()=>{B()})),t=(0,yo.A)(l);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[l,v,B]);let F=C;"auto"!==C||_.muiSupportAuto||(F=void 0);const z=p||(l?(0,to.A)(ss(l)).body:void 0),V=null!=(r=null==y?void 0:y.root)?r:as,W=null!=(o=null==y?void 0:y.paper)?o:ls,H=Hr({elementType:W,externalSlotProps:(0,_e.A)({},I,{style:L?I.style:(0,_e.A)({},I.style,{opacity:0})}),additionalProps:{elevation:m,ref:E},ownerState:P,className:(0,ke.A)(D.paper,null==I?void 0:I.className)}),U=Hr({elementType:V,externalSlotProps:(null==w?void 0:w.root)||{},externalForwardedProps:T,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:z,open:v},ownerState:P,className:(0,ke.A)(D.root,f)}),{slotProps:$}=U,Y=(0,Ce.A)(U,ns);return(0,je.jsx)(V,(0,_e.A)({},Y,!Wt(V)&&{slotProps:$,disableScrollLock:S},{children:(0,je.jsx)(_,(0,_e.A)({appear:!0,in:v,onEntering:(e,t)=>{k&&k(e,t),B()},onExited:()=>{N(!1)},timeout:F},A,{children:(0,je.jsx)(W,(0,_e.A)({},H,{children:h}))}))}))})),us=cs;var ds=n(1475);function hs(e){return(0,He.Ay)("MuiMenu",e)}(0,Fe.A)("MuiMenu",["root","paper","list"]);const fs=["onEntering"],ps=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ms={vertical:"top",horizontal:"right"},gs={vertical:"top",horizontal:"left"},vs=(0,ft.Ay)(us,{shouldForwardProp:e=>(0,ds.A)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),bs=(0,ft.Ay)(ls,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ys=(0,ft.Ay)(vo,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),ws=i.forwardRef((function(e,t){var n,r;const o=(0,pt.b)({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:f={},PopoverClasses:p,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:b={},slotProps:y={}}=o,w=(0,Ce.A)(o.TransitionProps,fs),x=(0,Ce.A)(o,ps),_=zt(),C=(0,_e.A)({},o,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:u,onEntering:g,PaperProps:f,transitionDuration:m,TransitionProps:w,variant:v}),k=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"],paper:["paper"],list:["list"]},hs,t)})(C),S=s&&!c&&h,A=i.useRef(null);let T=-1;i.Children.map(a,((e,t)=>{i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===T)&&(T=t))}));const I=null!=(n=b.paper)?n:bs,M=null!=(r=y.paper)?r:f,E=Hr({elementType:b.root,externalSlotProps:y.root,ownerState:C,className:[k.root,l]}),P=Hr({elementType:I,externalSlotProps:M,ownerState:C,className:k.paper});return(0,je.jsx)(vs,(0,_e.A)({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?ms:gs,slots:{paper:I,root:b.root},slotProps:{root:E,paper:P},open:h,ref:t,transitionDuration:m,TransitionProps:(0,_e.A)({onEntering:(e,t)=>{A.current&&A.current.adjustStyleForScrollbar(e,{direction:_?"rtl":"ltr"}),g&&g(e,t)}},w),ownerState:C},x,{classes:p,children:(0,je.jsx)(ys,(0,_e.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:A,autoFocus:s&&(-1===T||c),autoFocusItem:S,variant:v},u,{className:(0,ke.A)(k.list,u.className),children:a}))}))}));function xs(e){return(0,He.Ay)("MuiDivider",e)}const _s=(0,Fe.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const Cs=(0,Fe.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);function ks(e){return(0,He.Ay)("MuiListItemText",e)}const Ss=(0,Fe.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function As(e){return(0,He.Ay)("MuiMenuItem",e)}const Ts=(0,Fe.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Is=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Ms=(0,ft.Ay)(qi,{shouldForwardProp:e=>(0,ds.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ts.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Nt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Ts.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Nt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Ts.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Nt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Nt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Ts.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ts.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${_s.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${_s.inset}`]:{marginLeft:52},[`& .${Ss.root}`]:{marginTop:0,marginBottom:0},[`& .${Ss.inset}`]:{paddingLeft:36},[`& .${Cs.root}`]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,_e.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${Cs.root} svg`]:{fontSize:"1.25rem"}}))})),Es=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=n,f=(0,Ce.A)(n,Is),p=i.useContext(no),m=i.useMemo((()=>({dense:s||p.dense||!1,disableGutters:l})),[p.dense,s,l]),g=i.useRef(null);(0,co.A)((()=>{r&&g.current&&g.current.focus()}),[r]);const v=(0,_e.A)({},n,{dense:m.dense,divider:a,disableGutters:l}),b=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,a={root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},l=(0,Ue.A)(a,As,s);return(0,_e.A)({},s,l)})(n),y=(0,ln.A)(g,t);let w;return n.disabled||(w=void 0!==d?d:-1),(0,je.jsx)(no.Provider,{value:m,children:(0,je.jsx)(Ms,(0,_e.A)({ref:y,role:u,tabIndex:w,component:o,focusVisibleClassName:(0,ke.A)(b.focusVisible,c),className:(0,ke.A)(b.root,h)},f,{ownerState:v,classes:b}))})})),Ps=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Ds(e,t,n){var r;const i=function(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=(0,yo.A)(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const e=o.getComputedStyle(t);s=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let a=0,l=0;if(s&&"none"!==s&&"string"===typeof s){const e=s.split("(")[1].split(")")[0].split(",");a=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?i?`translateX(${i.right+a-r.left}px)`:`translateX(${o.innerWidth+a-r.left}px)`:"right"===e?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:"up"===e?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${o.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}(e,t,"function"===typeof(r=n)?r():r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const js=i.forwardRef((function(e,t){const n=yt(),r={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:l,container:c,direction:u="down",easing:d=r,in:h,onEnter:f,onEntered:p,onEntering:m,onExit:g,onExited:v,onExiting:b,style:y,timeout:w=o,TransitionComponent:x=on}=e,_=(0,Ce.A)(e,Ps),C=i.useRef(null),k=(0,ln.A)(l.ref,C,t),S=e=>t=>{e&&(void 0===t?e(C.current):e(C.current,t))},A=S(((e,t)=>{Ds(u,e,c),sn(e),f&&f(e,t)})),T=S(((e,t)=>{const r=an({timeout:w,style:y,easing:d},{mode:"enter"});e.style.webkitTransition=n.transitions.create("-webkit-transform",(0,_e.A)({},r)),e.style.transition=n.transitions.create("transform",(0,_e.A)({},r)),e.style.webkitTransform="none",e.style.transform="none",m&&m(e,t)})),I=S(p),M=S(b),E=S((e=>{const t=an({timeout:w,style:y,easing:d},{mode:"exit"});e.style.webkitTransition=n.transitions.create("-webkit-transform",t),e.style.transition=n.transitions.create("transform",t),Ds(u,e,c),g&&g(e)})),P=S((e=>{e.style.webkitTransition="",e.style.transition="",v&&v(e)})),D=i.useCallback((()=>{C.current&&Ds(u,C.current,c)}),[u,c]);return i.useEffect((()=>{if(h||"down"===u||"right"===u)return;const e=(0,bo.A)((()=>{C.current&&Ds(u,C.current,c)})),t=(0,yo.A)(C.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[u,h,c]),i.useEffect((()=>{h||D()}),[h,D]),(0,je.jsx)(x,(0,_e.A)({nodeRef:C,onEnter:A,onEntered:I,onEntering:T,onExit:E,onExited:P,onExiting:M,addEndListener:e=>{s&&s(C.current,e)},appear:a,in:h,timeout:w},_,{children:(e,t)=>i.cloneElement(l,(0,_e.A)({ref:k,style:(0,_e.A)({visibility:"exited"!==e||h?void 0:"hidden"},y,l.props.style)},t))}))})),Os=js;function Rs(e){return(0,He.Ay)("MuiDrawer",e)}(0,Fe.A)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Ls=["BackdropProps"],Ns=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Bs=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},Fs=(0,ft.Ay)(Go,{name:"MuiDrawer",slot:"Root",overridesResolver:Bs})((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}})),zs=(0,ft.Ay)("div",{shouldForwardProp:ds.A,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Bs})({flex:"0 0 auto"}),Vs=(0,ft.Ay)(Qo,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`paperAnchor${(0,ht.A)(n.anchor)}`],"temporary"!==n.variant&&t[`paperAnchorDocked${(0,ht.A)(n.anchor)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})})),Ws={left:"right",right:"left",top:"down",bottom:"up"};const Hs=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiDrawer"}),r=yt(),o=zt(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:u,elevation:d=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:f}={},onClose:p,open:m=!1,PaperProps:g={},SlideProps:v,TransitionComponent:b=Os,transitionDuration:y=s,variant:w="temporary"}=n,x=(0,Ce.A)(n.ModalProps,Ls),_=(0,Ce.A)(n,Ns),C=i.useRef(!1);i.useEffect((()=>{C.current=!0}),[]);const k=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return-1!==["left","right"].indexOf(e)}(t)?Ws[t]:t}({direction:o?"rtl":"ltr"},a),S=a,A=(0,_e.A)({},n,{anchor:S,elevation:d,open:m,variant:w},_),T=(e=>{const{classes:t,anchor:n,variant:r}=e,i={root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${(0,ht.A)(n)}`,"temporary"!==r&&`paperAnchorDocked${(0,ht.A)(n)}`]};return(0,Ue.A)(i,Rs,t)})(A),I=(0,je.jsx)(Vs,(0,_e.A)({elevation:"temporary"===w?d:0,square:!0},g,{className:(0,ke.A)(T.paper,g.className),ownerState:A,children:c}));if("permanent"===w)return(0,je.jsx)(zs,(0,_e.A)({className:(0,ke.A)(T.root,T.docked,u),ownerState:A,ref:t},_,{children:I}));const M=(0,je.jsx)(b,(0,_e.A)({in:m,direction:Ws[k],timeout:y,appear:C.current},v,{children:I}));return"persistent"===w?(0,je.jsx)(zs,(0,_e.A)({className:(0,ke.A)(T.root,T.docked,u),ownerState:A,ref:t},_,{children:M})):(0,je.jsx)(Fs,(0,_e.A)({BackdropProps:(0,_e.A)({},l,f,{transitionDuration:y}),className:(0,ke.A)(T.root,T.modal,u),open:m,ownerState:A,onClose:p,hideBackdrop:h,ref:t},_,x,{children:M}))})),Us=Hs;function $s(e){return(0,He.Ay)("MuiTypography",e)}(0,Fe.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Ys=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Gs=(0,ft.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,ht.A)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),qs={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Xs={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Zs=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiTypography"}),r=(e=>Xs[e]||e)(n.color),i=(0,Te.A)((0,_e.A)({},n,{color:r})),{align:o="inherit",className:s,component:a,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=qs}=i,f=(0,Ce.A)(i,Ys),p=(0,_e.A)({},i,{align:o,color:r,className:s,component:a,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:h}),m=a||(u?"p":h[d]||qs[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,"inherit"!==e.align&&`align${(0,ht.A)(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,Ue.A)(a,$s,s)})(p);return(0,je.jsx)(Gs,(0,_e.A)({as:m,ref:t,ownerState:p,className:(0,ke.A)(g.root,s)},f))})),Ks=Zs;function Qs(e){return(0,He.Ay)("MuiButton",e)}const Js=(0,Fe.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const ea=i.createContext({});const ta=i.createContext(void 0),na=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],ra=e=>(0,_e.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),ia=(0,ft.Ay)(qi,{shouldForwardProp:e=>(0,ds.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,ht.A)(n.color)}`],t[`size${(0,ht.A)(n.size)}`],t[`${n.variant}Size${(0,ht.A)(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;const o="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],s="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,_e.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,_e.A)({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Nt.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Nt.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:`1px solid ${(t.vars||t).palette[n.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Nt.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,_e.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Js.focusVisible}`]:(0,_e.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Js.disabled}`]:(0,_e.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[n.color].mainChannel} / 0.5)`:`1px solid ${(0,Nt.X4)(t.palette[n.color].main,.5)}`},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:o,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Js.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Js.disabled}`]:{boxShadow:"none"}}})),oa=(0,ft.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${(0,ht.A)(n.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},ra(t))})),sa=(0,ft.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${(0,ht.A)(n.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},ra(t))})),aa=i.forwardRef((function(e,t){const n=i.useContext(ea),r=i.useContext(ta),o=(0,Ye.A)(n,e),s=(0,pt.b)({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:m,fullWidth:g=!1,size:v="medium",startIcon:b,type:y,variant:w="text"}=s,x=(0,Ce.A)(s,na),_=(0,_e.A)({},s,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:f,fullWidth:g,size:v,type:y,variant:w}),C=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a={root:["root",o,`${o}${(0,ht.A)(t)}`,`size${(0,ht.A)(i)}`,`${o}Size${(0,ht.A)(i)}`,`color${(0,ht.A)(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${(0,ht.A)(i)}`],endIcon:["icon","endIcon",`iconSize${(0,ht.A)(i)}`]},l=(0,Ue.A)(a,Qs,s);return(0,_e.A)({},s,l)})(_),k=b&&(0,je.jsx)(oa,{className:C.startIcon,ownerState:_,children:b}),S=p&&(0,je.jsx)(sa,{className:C.endIcon,ownerState:_,children:p}),A=r||"";return(0,je.jsxs)(ia,(0,_e.A)({ownerState:_,className:(0,ke.A)(n.className,C.root,u,A),component:c,disabled:d,focusRipple:!f,focusVisibleClassName:(0,ke.A)(C.focusVisible,m),ref:t,type:y},x,{classes:C,children:[k,a,S]}))})),la=aa;var ca=n(5844);function ua(e){return(0,He.Ay)("MuiDialog",e)}const da=(0,Fe.A)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const ha=i.createContext({}),fa=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],pa=(0,ft.Ay)(Po,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),ma=(0,ft.Ay)(Go,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),ga=(0,ft.Ay)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${(0,ht.A)(n.scroll)}`]]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),va=(0,ft.Ay)(Qo,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${(0,ht.A)(n.scroll)}`],t[`paperWidth${(0,ht.A)(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${da.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`,[`&.${da.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${da.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})})),ba=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiDialog"}),r=yt(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:f=!1,fullWidth:p=!1,maxWidth:m="sm",onBackdropClick:g,onClick:v,onClose:b,open:y,PaperComponent:w=Qo,PaperProps:x={},scroll:_="paper",TransitionComponent:C=To,transitionDuration:k=o,TransitionProps:S}=n,A=(0,Ce.A)(n,fa),T=(0,_e.A)({},n,{disableEscapeKeyDown:h,fullScreen:f,fullWidth:p,maxWidth:m,scroll:_}),I=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e,s={root:["root"],container:["container",`scroll${(0,ht.A)(n)}`],paper:["paper",`paperScroll${(0,ht.A)(n)}`,`paperWidth${(0,ht.A)(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return(0,Ue.A)(s,ua,t)})(T),M=i.useRef(),E=(0,ca.A)(a),P=i.useMemo((()=>({titleId:E})),[E]);return(0,je.jsx)(ma,(0,_e.A)({className:(0,ke.A)(I.root,d),closeAfterTransition:!0,components:{Backdrop:pa},componentsProps:{backdrop:(0,_e.A)({transitionDuration:k,as:l},c)},disableEscapeKeyDown:h,onClose:b,open:y,ref:t,onClick:e=>{v&&v(e),M.current&&(M.current=null,g&&g(e),b&&b(e,"backdropClick"))},ownerState:T},A,{children:(0,je.jsx)(C,(0,_e.A)({appear:!0,in:y,timeout:k,role:"presentation"},S,{children:(0,je.jsx)(ga,{className:(0,ke.A)(I.container),onMouseDown:e=>{M.current=e.target===e.currentTarget},ownerState:T,children:(0,je.jsx)(va,(0,_e.A)({as:w,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":E},x,{className:(0,ke.A)(I.paper,x.className),ownerState:T,children:(0,je.jsx)(ha.Provider,{value:P,children:u})}))})}))}))})),ya=ba;function wa(e){return(0,He.Ay)("MuiDialogTitle",e)}const xa=(0,Fe.A)("MuiDialogTitle",["root"]),_a=["className","id"],Ca=(0,ft.Ay)(Ks,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),ka=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiDialogTitle"}),{className:r,id:o}=n,s=(0,Ce.A)(n,_a),a=n,l=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"]},wa,t)})(a),{titleId:c=o}=i.useContext(ha);return(0,je.jsx)(Ca,(0,_e.A)({component:"h2",className:(0,ke.A)(l.root,r),ownerState:a,ref:t,variant:"h6",id:null!=o?o:c},s))}));function Sa(e){return(0,He.Ay)("MuiDialogContent",e)}(0,Fe.A)("MuiDialogContent",["root","dividers"]);const Aa=["className","dividers"],Ta=(0,ft.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${xa.root} + &`]:{paddingTop:0}})})),Ia=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiDialogContent"}),{className:r,dividers:i=!1}=n,o=(0,Ce.A)(n,Aa),s=(0,_e.A)({},n,{dividers:i}),a=(e=>{const{classes:t,dividers:n}=e,r={root:["root",n&&"dividers"]};return(0,Ue.A)(r,Sa,t)})(s);return(0,je.jsx)(Ta,(0,_e.A)({className:(0,ke.A)(a.root,r),ownerState:s,ref:t},o))}));var Ma=n(9611),Ea=n(4802),Pa=n(6360),Da=n(5310),ja=n(3813),Oa=n(9089),Ra=n(1702),La=n(2807),Na=n(6866);function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ba.apply(this,arguments)}function Fa(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const za=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(_ke){}new Map;const Va=o.startTransition;Gt.flushSync,o.useId;function Wa(e){let{basename:t,children:n,future:r,window:o}=e,s=i.useRef();null==s.current&&(s.current=function(e){return void 0===e&&(e={}),m((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,e)}({window:o,v5Compat:!0}));let a=s.current,[l,c]=i.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=i.useCallback((e=>{u&&Va?Va((()=>c(e))):c(e)}),[c,u]);return i.useLayoutEffect((()=>a.listen(d)),[a,d]),i.createElement(ye,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const Ha="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ua=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$a=i.forwardRef((function(e,t){let n,{onClick:r,relative:o,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:h,unstable_viewTransition:p}=e,m=Fa(e,za),{basename:g}=i.useContext(G),v=!1;if("string"===typeof d&&Ua.test(d)&&(n=d,Ha))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=D(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(_ke){}let b=function(e,t){let{relative:n}=void 0===t?{}:t;K()||c(!1);let{basename:r,navigator:o}=i.useContext(G),{hash:s,pathname:a,search:l}=re(e,{relative:n}),u=a;return"/"!==r&&(u="/"===a?r:N([r,a])),o.createHref({pathname:u,search:l,hash:s})}(d,{relative:o}),y=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l}=void 0===t?{}:t,c=ee(),u=Q(),d=re(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(u)===f(d);c(e,{replace:n,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:l})}}),[u,c,d,r,o,n,e,s,a,l])}(d,{replace:a,state:l,target:u,preventScrollReset:h,relative:o,unstable_viewTransition:p});return i.createElement("a",Ba({},m,{href:n||b,onClick:v||s?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:u}))}));var Ya,Ga;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ya||(Ya={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ga||(Ga={}));var qa=n(7237),Xa=i,Za=Symbol.for("react-redux-context"),Ka="undefined"!==typeof globalThis?globalThis:{};function Qa(){if(!Xa.createContext)return{};const e=Ka[Za]??(Ka[Za]=new Map);let t=e.get(Xa.createContext);return t||(t=Xa.createContext(null),e.set(Xa.createContext,t)),t}var Ja=Qa(),el=()=>{throw new Error("uSES not initialized!")};function tl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja;return function(){return Xa.useContext(e)}}var nl=tl(),rl=el,il=(e,t)=>e===t;function ol(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja;const t=e===Ja?nl:tl(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=il,devModeChecks:i={}}="function"===typeof n?{equalityFn:n}:n;const{store:o,subscription:s,getServerState:a,stabilityCheck:l,identityFunctionCheck:c}=t(),u=(Xa.useRef(!0),Xa.useCallback({[e.name]:t=>e(t)}[e.name],[e,l,i.stabilityCheck])),d=rl(s.addNestedSub,o.getState,a||o.getState,u,r);return Xa.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var sl=ol();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function al(e){e()}var ll={notify(){},get:()=>[]};function cl(e,t){let n,r=ll,i=0,o=!1;function s(){c.onStateChange&&c.onStateChange()}function a(){i++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){al((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=ll)}const c={addNestedSub:function(e){a();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,a())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}var ul=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),dl="undefined"!==typeof navigator&&"ReactNative"===navigator.product,hl=ul||dl?Xa.useLayoutEffect:Xa.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var fl=function(e){let{store:t,context:n,children:r,serverState:i,stabilityCheck:o="once",identityFunctionCheck:s="once"}=e;const a=Xa.useMemo((()=>{const e=cl(t);return{store:t,subscription:e,getServerState:i?()=>i:void 0,stabilityCheck:o,identityFunctionCheck:s}}),[t,i,o,s]),l=Xa.useMemo((()=>t.getState()),[t]);hl((()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,l]);const c=n||Ja;return Xa.createElement(c.Provider,{value:a},r)};function pl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja;const t=e===Ja?nl:tl(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var ml=pl();function gl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja;const t=e===Ja?ml:pl(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var vl,bl=gl();function yl(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}vl=qa.useSyncExternalStoreWithSelector,rl=vl,(e=>{e})(i.useSyncExternalStore);var wl=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),xl=()=>Math.random().toString(36).substring(7).split("").join("."),_l={INIT:`@@redux/INIT${xl()}`,REPLACE:`@@redux/REPLACE${xl()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xl()}`};function Cl(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function kl(e,t,n){if("function"!==typeof e)throw new Error(yl(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(yl(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(yl(1));return n(kl)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function c(){s===o&&(s=new Map,o.forEach(((e,t)=>{s.set(t,e)})))}function u(){if(l)throw new Error(yl(3));return i}function d(e){if("function"!==typeof e)throw new Error(yl(4));if(l)throw new Error(yl(5));let t=!0;c();const n=a++;return s.set(n,e),function(){if(t){if(l)throw new Error(yl(6));t=!1,c(),s.delete(n),o=null}}}function h(e){if(!Cl(e))throw new Error(yl(7));if("undefined"===typeof e.type)throw new Error(yl(8));if("string"!==typeof e.type)throw new Error(yl(17));if(l)throw new Error(yl(9));try{l=!0,i=r(i,e)}finally{l=!1}return(o=s).forEach((e=>{e()})),e}h({type:_l.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(yl(10));r=e,h({type:_l.REPLACE})},[wl]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(yl(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[wl](){return this}}}}}function Sl(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:_l.INIT}))throw new Error(yl(12));if("undefined"===typeof n(void 0,{type:_l.PROBE_UNKNOWN_ACTION()}))throw new Error(yl(13))}))}(n)}catch(_ke){i=_ke}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let o=!1;const s={};for(let i=0;i<r.length;i++){const a=r[i],l=n[a],c=e[a],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(yl(14))}s[a]=u,o=o||u!==c}return o=o||r.length!==Object.keys(e).length,o?s:e}}function Al(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function Tl(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var Il=Tl(),Ml=Tl,El=Symbol.for("immer-nothing"),Pl=Symbol.for("immer-draftable"),Dl=Symbol.for("immer-state");function jl(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ol=Object.getPrototypeOf;function Rl(e){return!!e&&!!e[Dl]}function Ll(e){return!!e&&(Bl(e)||Array.isArray(e)||!!e[Pl]||!!e.constructor?.[Pl]||Hl(e)||Ul(e))}var Nl=Object.prototype.constructor.toString();function Bl(e){if(!e||"object"!==typeof e)return!1;const t=Ol(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Nl}function Fl(e,t){0===zl(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function zl(e){const t=e[Dl];return t?t.type_:Array.isArray(e)?1:Hl(e)?2:Ul(e)?3:0}function Vl(e,t){return 2===zl(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Wl(e,t,n){const r=zl(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Hl(e){return e instanceof Map}function Ul(e){return e instanceof Set}function $l(e){return e.copy_||e.base_}function Yl(e,t){if(Hl(e))return new Map(e);if(Ul(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Bl(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Dl];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Ol(e),t)}{const t=Ol(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Gl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Xl(e)||Rl(e)||!Ll(e)||(zl(e)>1&&(e.set=e.add=e.clear=e.delete=ql),Object.freeze(e),t&&Object.entries(e).forEach((e=>{let[t,n]=e;return Gl(n,!0)}))),e}function ql(){jl(2)}function Xl(e){return Object.isFrozen(e)}var Zl,Kl={};function Ql(e){const t=Kl[e];return t||jl(0),t}function Jl(){return Zl}function ec(e,t){t&&(Ql("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function tc(e){nc(e),e.drafts_.forEach(ic),e.drafts_=null}function nc(e){e===Zl&&(Zl=e.parent_)}function rc(e){return Zl={drafts_:[],parent_:Zl,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ic(e){const t=e[Dl];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function oc(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Dl].modified_&&(tc(t),jl(4)),Ll(e)&&(e=sc(t,e),t.parent_||lc(t,e)),t.patches_&&Ql("Patches").generateReplacementPatches_(n[Dl].base_,e,t.patches_,t.inversePatches_)):e=sc(t,n,[]),tc(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==El?e:void 0}function sc(e,t,n){if(Xl(t))return t;const r=t[Dl];if(!r)return Fl(t,((i,o)=>ac(e,r,t,i,o,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return lc(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,o=!1;3===r.type_&&(i=new Set(t),t.clear(),o=!0),Fl(i,((i,s)=>ac(e,r,t,i,s,n,o))),lc(e,t,!1),n&&e.patches_&&Ql("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function ac(e,t,n,r,i,o,s){if(Rl(i)){const s=sc(e,i,o&&t&&3!==t.type_&&!Vl(t.assigned_,r)?o.concat(r):void 0);if(Wl(n,r,s),!Rl(s))return;e.canAutoFreeze_=!1}else s&&n.add(i);if(Ll(i)&&!Xl(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;sc(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||lc(e,i)}}function lc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Gl(t,n)}var cc={get(e,t){if(t===Dl)return e;const n=$l(e);if(!Vl(n,t))return function(e,t,n){const r=hc(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Ll(r)?r:r===dc(e.base_,t)?(pc(e),e.copy_[t]=mc(r,e)):r},has:(e,t)=>t in $l(e),ownKeys:e=>Reflect.ownKeys($l(e)),set(e,t,n){const r=hc($l(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=dc($l(e),t),i=r?.[Dl];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Vl(e.base_,t)))return!0;pc(e),fc(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==dc(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,pc(e),fc(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=$l(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){jl(11)},getPrototypeOf:e=>Ol(e.base_),setPrototypeOf(){jl(12)}},uc={};function dc(e,t){const n=e[Dl];return(n?$l(n):e)[t]}function hc(e,t){if(!(t in e))return;let n=Ol(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Ol(n)}}function fc(e){e.modified_||(e.modified_=!0,e.parent_&&fc(e.parent_))}function pc(e){e.copy_||(e.copy_=Yl(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Fl(cc,((e,t)=>{uc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),uc.deleteProperty=function(e,t){return uc.set.call(this,e,t,void 0)},uc.set=function(e,t,n){return cc.set.call(this,e[0],t,n,e[0])};function mc(e,t){const n=Hl(e)?Ql("MapSet").proxyMap_(e,t):Ul(e)?Ql("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Jl(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=cc;n&&(i=[r],o=uc);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}(e,t);return(t?t.scope_:Jl()).drafts_.push(n),n}function gc(e){if(!Ll(e)||Xl(e))return e;const t=e[Dl];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Yl(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Yl(e,!0);return Fl(n,((e,t)=>{Wl(n,e,gc(t))})),t&&(t.finalized_=!1),n}var vc=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return r.produce(e,(e=>t.call(this,e,...o)))}}let r;if("function"!==typeof t&&jl(6),void 0!==n&&"function"!==typeof n&&jl(7),Ll(e)){const i=rc(this),o=mc(e,void 0);let s=!0;try{r=t(o),s=!1}finally{s?tc(i):nc(i)}return ec(i,n),oc(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===El&&(r=void 0),this.autoFreeze_&&Gl(r,!0),n){const t=[],i=[];Ql("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}jl(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(t=>e(t,...i)))};let r,i;const o=this.produce(e,n,((e,t)=>{r=e,i=t}));return[o,r,i]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ll(e)||jl(8),Rl(e)&&(e=function(e){Rl(e)||jl(10);return gc(e)}(e));const t=rc(this),n=mc(e,void 0);return n[Dl].isManual_=!0,nc(t),n}finishDraft(e,t){const n=e&&e[Dl];n&&n.isManual_||jl(9);const{scope_:r}=n;return ec(r,t),oc(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Ql("Patches").applyPatches_;return Rl(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},bc=vc.produce;vc.produceWithPatches.bind(vc),vc.setAutoFreeze.bind(vc),vc.setUseStrictShallowCopy.bind(vc),vc.applyPatches.bind(vc),vc.createDraft.bind(vc),vc.finishDraft.bind(vc);var yc="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Al:Al.apply(null,arguments)},wc=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,e=>e&&"function"===typeof e.match);function xc(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Yc(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>function(e){return Cl(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var _c=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Cc(e){return Ll(e)?bc(e,(()=>{})):e}function kc(e,t,n){if(e.has(t)){let r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error(Yc(10));const r=n.insert(t,e);return e.set(t,r),r}var Sc="RTK_autoBatch",Ac=e=>t=>{setTimeout(t,e)},Tc="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Ac(10),Ic=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new _c(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,o=!1;const s=new Set,a="tick"===e.type?queueMicrotask:"raf"===e.type?Tc:"callback"===e.type?e.queueNotification:Ac(e.timeout),l=()=>{o=!1,i&&(i=!1,s.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{return r=!e?.meta?.[Sc],i=!r,i&&(o||(o=!0,a(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function Mc(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Yc(28));if(r in t)throw new Error(Yc(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var Ec=(e,t)=>wc(e)?e.match(t):e(t);function Pc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some((t=>Ec(t,e)))}var Dc=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},jc=["name","message","stack","code"],Oc=class{constructor(e,t){this.payload=e,this.meta=t}_type},Rc=class{constructor(e,t){this.payload=e,this.meta=t}_type},Lc=e=>{if("object"===typeof e&&null!==e){const t={};for(const n of jc)"string"===typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},Nc=(()=>{function e(e,t,n){const r=xc(e+"/fulfilled",((e,t,n,r)=>({payload:e,meta:{...r||{},arg:n,requestId:t,requestStatus:"fulfilled"}}))),i=xc(e+"/pending",((e,t,n)=>({payload:void 0,meta:{...n||{},arg:t,requestId:e,requestStatus:"pending"}}))),o=xc(e+"/rejected",((e,t,r,i,o)=>({payload:i,error:(n&&n.serializeError||Lc)(e||"Rejected"),meta:{...o||{},arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===e?.name,condition:"ConditionError"===e?.name}})));return Object.assign((function(e){return(s,a,l)=>{const c=n?.idGenerator?n.idGenerator(e):Dc(),u=new AbortController;let d,h;function f(e){h=e,u.abort()}const p=async function(){let p;try{let o=n?.condition?.(e,{getState:a,extra:l});if(function(e){return null!==e&&"object"===typeof e&&"function"===typeof e.then}(o)&&(o=await o),!1===o||u.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const m=new Promise(((e,t)=>{d=()=>{t({name:"AbortError",message:h||"Aborted"})},u.signal.addEventListener("abort",d)}));s(i(c,e,n?.getPendingMeta?.({requestId:c,arg:e},{getState:a,extra:l}))),p=await Promise.race([m,Promise.resolve(t(e,{dispatch:s,getState:a,extra:l,requestId:c,signal:u.signal,abort:f,rejectWithValue:(e,t)=>new Oc(e,t),fulfillWithValue:(e,t)=>new Rc(e,t)})).then((t=>{if(t instanceof Oc)throw t;return t instanceof Rc?r(t.payload,c,e,t.meta):r(t,c,e)}))])}catch(m){p=m instanceof Oc?o(null,c,e,m.payload,m.meta):o(m,c,e)}finally{d&&u.signal.removeEventListener("abort",d)}return n&&!n.dispatchConditionRejection&&o.match(p)&&p.meta.condition||s(p),p}();return Object.assign(p,{abort:f,requestId:c,arg:e,unwrap:()=>p.then(Bc)})}}),{pending:i,rejected:o,fulfilled:r,settled:Pc(o,r),typePrefix:e})}return e.withTypes=()=>e,e})();function Bc(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Fc=Symbol.for("rtk-slice-createasyncthunk");function zc(e,t){return`${e}/${t}`}function Vc(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[Fc];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error(Yc(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(i),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Yc(12));if(n in s.sliceCaseReducersByType)throw new Error(Yc(13));return s.sliceCaseReducersByType[n]=t,a},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),a),exposeAction:(e,t)=>(s.actionCreators[e]=t,a),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,a)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?Mc(e.extraReducers):[e.extraReducers],i={...t,...s.sliceCaseReducersByType};return function(e,t){let n,[r,i,o]=Mc(t);if(function(e){return"function"===typeof e}(e))n=()=>Cc(e());else{const t=Cc(e);n=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,s=[r[t.type],...i.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===s.filter((e=>!!e)).length&&(s=[o]),s.reduce(((e,n)=>{if(n){if(Rl(e)){const r=n(e,t);return void 0===r?e:r}if(Ll(e))return bc(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw new Error(Yc(9))}return r}}return e}),e)}return s.getInitialState=n,s}(e.initialState,(e=>{for(let t in i)e.addCase(t,i[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}o.forEach((r=>{const o=i[r],s={reducerName:r,type:zc(n,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function(e,t,n){let r,i,{type:o,reducerName:s,createNotation:a}=e;if("reducer"in t){if(a&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Yc(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(o,r).exposeCaseReducer(s,r).exposeAction(s,i?xc(o,i):xc(o))}(s,o,a):function(e,t,n,r){let{type:i,reducerName:o}=e;if(!r)throw new Error(Yc(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=t,h=r(i,s,d);n.exposeAction(o,h),a&&n.addCase(h.fulfilled,a);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(o,{fulfilled:a||Uc,pending:l||Uc,rejected:c||Uc,settled:u||Uc})}(s,o,a,t)}));const c=e=>e,u=new Map;let d;function h(e,t){return d||(d=l()),d(e,t)}function f(){return d||(d=l()),d.getInitialState()}function p(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let r=e[t];return"undefined"===typeof r&&n&&(r=f()),r}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=kc(u,n,{insert:()=>new WeakMap});return kc(r,t,{insert:()=>{const r={};for(const[i,o]of Object.entries(e.selectors??{}))r[i]=Wc(o,t,f,n);return r}})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const m={name:n,reducer:h,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:f,...p(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t??r;return e.inject({reducerPath:i,reducer:h},n),{...m,...p(i,!0)}}};return m}}function Wc(e,t,n,r){function i(i){let o=t(i);"undefined"===typeof o&&r&&(o=n());for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return e(o,...a)}return i.unwrapped=e,i}var Hc=Vc();function Uc(){}var{assign:$c}=Object;Symbol.for("rtk-state-proxy-original");function Yc(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function Gc(e,t){return function(){return e.apply(t,arguments)}}const{toString:qc}=Object.prototype,{getPrototypeOf:Xc}=Object,Zc=(e=>t=>{const n=qc.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Kc=e=>(e=e.toLowerCase(),t=>Zc(t)===e),Qc=e=>t=>typeof t===e,{isArray:Jc}=Array,eu=Qc("undefined");const tu=Kc("ArrayBuffer");const nu=Qc("string"),ru=Qc("function"),iu=Qc("number"),ou=e=>null!==e&&"object"===typeof e,su=e=>{if("object"!==Zc(e))return!1;const t=Xc(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},au=Kc("Date"),lu=Kc("File"),cu=Kc("Blob"),uu=Kc("FileList"),du=Kc("URLSearchParams"),[hu,fu,pu,mu]=["ReadableStream","Request","Response","Headers"].map(Kc);function gu(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Jc(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}function vu(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const bu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,yu=e=>!eu(e)&&e!==bu;const wu=(xu="undefined"!==typeof Uint8Array&&Xc(Uint8Array),e=>xu&&e instanceof xu);var xu;const _u=Kc("HTMLFormElement"),Cu=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),ku=Kc("RegExp"),Su=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};gu(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},Au="abcdefghijklmnopqrstuvwxyz",Tu="0123456789",Iu={DIGIT:Tu,ALPHA:Au,ALPHA_DIGIT:Au+Au.toUpperCase()+Tu};const Mu=Kc("AsyncFunction"),Eu=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],bu.addEventListener("message",(e=>{let{source:t,data:i}=e;t===bu&&i===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),bu.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,ru(bu.postMessage)),Pu="undefined"!==typeof queueMicrotask?queueMicrotask.bind(bu):"undefined"!==typeof process&&process.nextTick||Eu,Du={isArray:Jc,isArrayBuffer:tu,isBuffer:function(e){return null!==e&&!eu(e)&&null!==e.constructor&&!eu(e.constructor)&&ru(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||ru(e.append)&&("formdata"===(t=Zc(e))||"object"===t&&ru(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&tu(e.buffer),t},isString:nu,isNumber:iu,isBoolean:e=>!0===e||!1===e,isObject:ou,isPlainObject:su,isReadableStream:hu,isRequest:fu,isResponse:pu,isHeaders:mu,isUndefined:eu,isDate:au,isFile:lu,isBlob:cu,isRegExp:ku,isFunction:ru,isStream:e=>ou(e)&&ru(e.pipe),isURLSearchParams:du,isTypedArray:wu,isFileList:uu,forEach:gu,merge:function e(){const{caseless:t}=yu(this)&&this||{},n={},r=(r,i)=>{const o=t&&vu(n,i)||i;su(n[o])&&su(r)?n[o]=e(n[o],r):su(r)?n[o]=e({},r):Jc(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&gu(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return gu(t,((t,r)=>{n&&ru(t)?e[r]=Gc(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&Xc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Zc,kindOfTest:Kc,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Jc(e))return e;let t=e.length;if(!iu(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:_u,hasOwnProperty:Cu,hasOwnProp:Cu,reduceDescriptors:Su,freezeMethods:e=>{Su(e,((t,n)=>{if(ru(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];ru(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Jc(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:vu,global:bu,isContextDefined:yu,ALPHABET:Iu,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Iu.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&ru(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(ou(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=Jc(e)?[]:{};return gu(e,((e,t)=>{const o=n(e,r+1);!eu(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Mu,isThenable:e=>e&&(ou(e)||ru(e))&&ru(e.then)&&ru(e.catch),setImmediate:Eu,asap:Pu};function ju(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Du.inherits(ju,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Du.toJSONObject(this.config),code:this.code,status:this.status}}});const Ou=ju.prototype,Ru={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Ru[e]={value:e}})),Object.defineProperties(ju,Ru),Object.defineProperty(Ou,"isAxiosError",{value:!0}),ju.from=(e,t,n,r,i,o)=>{const s=Object.create(Ou);return Du.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),ju.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const Lu=ju;function Nu(e){return Du.isPlainObject(e)||Du.isArray(e)}function Bu(e){return Du.endsWith(e,"[]")?e.slice(0,-2):e}function Fu(e,t,n){return e?e.concat(t).map((function(e,t){return e=Bu(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const zu=Du.toFlatObject(Du,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Vu=function(e,t,n){if(!Du.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Du.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Du.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Du.isSpecCompliantForm(t);if(!Du.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Du.isDate(e))return e.toISOString();if(!a&&Du.isBlob(e))throw new Lu("Blob is not supported. Use a Buffer instead.");return Du.isArrayBuffer(e)||Du.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(Du.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Du.isArray(e)&&function(e){return Du.isArray(e)&&!e.some(Nu)}(e)||(Du.isFileList(e)||Du.endsWith(n,"[]"))&&(a=Du.toArray(e)))return n=Bu(n),a.forEach((function(e,r){!Du.isUndefined(e)&&null!==e&&t.append(!0===s?Fu([n],r,o):null===s?n:n+"[]",l(e))})),!1;return!!Nu(e)||(t.append(Fu(i,n,o),l(e)),!1)}const u=[],d=Object.assign(zu,{defaultVisitor:c,convertValue:l,isVisitable:Nu});if(!Du.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Du.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Du.forEach(n,(function(n,o){!0===(!(Du.isUndefined(n)||null===n)&&i.call(t,n,Du.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function Wu(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Hu(e,t){this._pairs=[],e&&Vu(e,this,t)}const Uu=Hu.prototype;Uu.append=function(e,t){this._pairs.push([e,t])},Uu.toString=function(e){const t=e?function(t){return e.call(this,t,Wu)}:Wu;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const $u=Hu;function Yu(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gu(e,t,n){if(!t)return e;const r=n&&n.encode||Yu,i=n&&n.serialize;let o;if(o=i?i(t,n):Du.isURLSearchParams(t)?t.toString():new $u(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const qu=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Du.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Xu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zu={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:$u,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ku="undefined"!==typeof window&&"undefined"!==typeof document,Qu="object"===typeof navigator&&navigator||void 0,Ju=Ku&&(!Qu||["ReactNative","NativeScript","NS"].indexOf(Qu.product)<0),ed="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,td=Ku&&window.location.href||"http://localhost",nd={...e,...Zu};const rd=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&Du.isArray(r)?r.length:o,a)return Du.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&Du.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&Du.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!s}if(Du.isFormData(e)&&Du.isFunction(e.entries)){const n={};return Du.forEachEntry(e,((e,r)=>{t(function(e){return Du.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const id={transitional:Xu,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Du.isObject(e);i&&Du.isHTMLForm(e)&&(e=new FormData(e));if(Du.isFormData(e))return r?JSON.stringify(rd(e)):e;if(Du.isArrayBuffer(e)||Du.isBuffer(e)||Du.isStream(e)||Du.isFile(e)||Du.isBlob(e)||Du.isReadableStream(e))return e;if(Du.isArrayBufferView(e))return e.buffer;if(Du.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Vu(e,new nd.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return nd.isNode&&Du.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=Du.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Vu(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Du.isString(e))try{return(t||JSON.parse)(e),Du.trim(e)}catch(_ke){if("SyntaxError"!==_ke.name)throw _ke}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||id.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Du.isResponse(e)||Du.isReadableStream(e))return e;if(e&&Du.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(_ke){if(n){if("SyntaxError"===_ke.name)throw Lu.from(_ke,Lu.ERR_BAD_RESPONSE,this,null,this.response);throw _ke}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nd.classes.FormData,Blob:nd.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Du.forEach(["delete","get","head","post","put","patch"],(e=>{id.headers[e]={}}));const od=id,sd=Du.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ad=Symbol("internals");function ld(e){return e&&String(e).trim().toLowerCase()}function cd(e){return!1===e||null==e?e:Du.isArray(e)?e.map(cd):String(e)}function ud(e,t,n,r,i){return Du.isFunction(r)?r.call(this,t,n):(i&&(t=n),Du.isString(t)?Du.isString(r)?-1!==t.indexOf(r):Du.isRegExp(r)?r.test(t):void 0:void 0)}class dd{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=ld(t);if(!i)throw new Error("header name must be a non-empty string");const o=Du.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=cd(e))}const o=(e,t)=>Du.forEach(e,((e,n)=>i(e,n,t)));if(Du.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Du.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&sd[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(Du.isHeaders(e))for(const[s,a]of e.entries())i(a,s,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=ld(e)){const n=Du.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Du.isFunction(t))return t.call(this,e,n);if(Du.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ld(e)){const n=Du.findKey(this,e);return!(!n||void 0===this[n]||t&&!ud(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=ld(e)){const i=Du.findKey(n,e);!i||t&&!ud(0,n[i],i,t)||(delete n[i],r=!0)}}return Du.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!ud(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Du.forEach(this,((r,i)=>{const o=Du.findKey(n,i);if(o)return t[o]=cd(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=cd(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Du.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Du.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[ad]=this[ad]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=ld(e);t[r]||(!function(e,t){const n=Du.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Du.isArray(e)?e.forEach(r):r(e),this}}dd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Du.reduceDescriptors(dd.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Du.freezeMethods(dd);const hd=dd;function fd(e,t){const n=this||od,r=t||n,i=hd.from(r.headers);let o=r.data;return Du.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function pd(e){return!(!e||!e.__CANCEL__)}function md(e,t,n){Lu.call(this,null==e?"canceled":e,Lu.ERR_CANCELED,t,n),this.name="CanceledError"}Du.inherits(md,Lu,{__CANCEL__:!0});const gd=md;function vd(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Lu("Request failed with status code "+n.status,[Lu.ERR_BAD_REQUEST,Lu.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const bd=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[s];i||(i=l),n[o]=a,r[o]=l;let u=s,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const yd=function(e,t){let n,r,i=0,o=1e3/t;const s=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=o?s(l,e):(n=l,r||(r=setTimeout((()=>{r=null,s(n)}),o-t)))},()=>n&&s(n)]},wd=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=bd(50,250);return yd((n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-r,l=i(a);r=o;e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},xd=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},_d=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Du.asap((()=>e(...n)))},Cd=nd.hasStandardBrowserEnv?function(){const e=nd.navigator&&/(msie|trident)/i.test(nd.navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=Du.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},kd=nd.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];Du.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Du.isString(r)&&s.push("path="+r),Du.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Sd(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ad=e=>e instanceof hd?{...e}:e;function Td(e,t){t=t||{};const n={};function r(e,t,n){return Du.isPlainObject(e)&&Du.isPlainObject(t)?Du.merge.call({caseless:n},e,t):Du.isPlainObject(t)?Du.merge({},t):Du.isArray(t)?t.slice():t}function i(e,t,n){return Du.isUndefined(t)?Du.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!Du.isUndefined(t))return r(void 0,t)}function s(e,t){return Du.isUndefined(t)?Du.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(Ad(e),Ad(t),!0)};return Du.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,s=o(e[r],t[r],r);Du.isUndefined(s)&&o!==a||(n[r]=s)})),n}const Id=e=>{const t=Td({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=hd.from(a),t.url=Gu(Sd(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Du.isFormData(r))if(nd.hasStandardBrowserEnv||nd.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(nd.hasStandardBrowserEnv&&(i&&Du.isFunction(i)&&(i=i(t)),i||!1!==i&&Cd(t.url))){const e=o&&s&&kd.read(s);e&&a.set(o,e)}return t},Md="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Id(e);let i=r.data;const o=hd.from(r.headers).normalize();let s,a,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=hd.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());vd((function(e){t(e),p()}),(function(e){n(e),p()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Lu("Request aborted",Lu.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Lu("Network Error",Lu.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||Xu;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Lu(t,i.clarifyTimeoutError?Lu.ETIMEDOUT:Lu.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&Du.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),Du.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=wd(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([a,c]=wd(h),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(s=t=>{m&&(n(!t||t.type?new gd(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===nd.protocols.indexOf(v)?n(new Lu("Unsupported protocol "+v+":",Lu.ERR_BAD_REQUEST,e)):m.send(i||null)}))},Ed=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Lu?t:new gd(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new Lu(`timeout ${t} of ms exceeded`,Lu.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=r;return a.unsubscribe=()=>Du.asap(s),a}},Pd=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Dd=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},jd=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of Dd(e))yield*Pd(n,t)}(e,t);let o,s=0,a=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return a(),void e.close();let o=r.byteLength;if(n){let e=s+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw a(t),t}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},Od="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Rd=Od&&"function"===typeof ReadableStream,Ld=Od&&("function"===typeof TextEncoder?(Nd=new TextEncoder,e=>Nd.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Nd;const Bd=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(_ke){return!1}},Fd=Rd&&Bd((()=>{let e=!1;const t=new Request(nd.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),zd=Rd&&Bd((()=>Du.isReadableStream(new Response("").body))),Vd={stream:zd&&(e=>e.body)};var Wd;Od&&(Wd=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Vd[e]&&(Vd[e]=Du.isFunction(Wd[e])?t=>t[e]():(t,n)=>{throw new Lu(`Response type '${e}' is not supported`,Lu.ERR_NOT_SUPPORT,n)})})));const Hd=async(e,t)=>{const n=Du.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Du.isBlob(e))return e.size;if(Du.isSpecCompliantForm(e)){const t=new Request(nd.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Du.isArrayBufferView(e)||Du.isArrayBuffer(e)?e.byteLength:(Du.isURLSearchParams(e)&&(e+=""),Du.isString(e)?(await Ld(e)).byteLength:void 0)})(t):n},Ud=Od&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Id(e);c=c?(c+"").toLowerCase():"text";let f,p=Ed([i,o&&o.toAbortSignal()],s);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&Fd&&"get"!==n&&"head"!==n&&0!==(g=await Hd(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Du.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=xd(g,wd(_d(l)));r=jd(n.body,65536,e,t)}}Du.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?d:void 0});let o=await fetch(f);const s=zd&&("stream"===c||"response"===c);if(zd&&(a||s&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=Du.toFiniteNumber(o.headers.get("content-length")),[n,r]=a&&xd(t,wd(_d(a),!0))||[];o=new Response(jd(o.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let v=await Vd[Du.findKey(Vd,c)||"text"](o,e);return!s&&m&&m(),await new Promise(((t,n)=>{vd(t,n,{data:v,headers:hd.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:f})}))}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new Lu("Network Error",Lu.ERR_NETWORK,e,f),{cause:v.cause||v});throw Lu.from(v,v&&v.code,e,f)}}),$d={http:null,xhr:Md,fetch:Ud};Du.forEach($d,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(_ke){}Object.defineProperty(e,"adapterName",{value:t})}}));const Yd=e=>`- ${e}`,Gd=e=>Du.isFunction(e)||null===e||!1===e,qd=e=>{e=Du.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!Gd(n)&&(r=$d[(t=String(n)).toLowerCase()],void 0===r))throw new Lu(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Yd).join("\n"):" "+Yd(e[0]):"as no adapter specified";throw new Lu("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Xd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gd(null,e)}function Zd(e){Xd(e),e.headers=hd.from(e.headers),e.data=fd.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return qd(e.adapter||od.adapter)(e).then((function(t){return Xd(e),t.data=fd.call(e,e.transformResponse,t),t.headers=hd.from(t.headers),t}),(function(t){return pd(t)||(Xd(e),t&&t.response&&(t.response.data=fd.call(e,e.transformResponse,t.response),t.response.headers=hd.from(t.response.headers))),Promise.reject(t)}))}const Kd="1.7.7",Qd={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Qd[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Jd={};Qd.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.7] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new Lu(r(i," has been removed"+(t?" in "+t:"")),Lu.ERR_DEPRECATED);return t&&!Jd[i]&&(Jd[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};const eh={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Lu("options must be an object",Lu.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new Lu("option "+o+" must be "+n,Lu.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Lu("Unknown option "+o,Lu.ERR_BAD_OPTION)}},validators:Qd},th=eh.validators;class nh{constructor(e){this.defaults=e,this.interceptors={request:new qu,response:new qu}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(_ke){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Td(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&eh.assertOptions(n,{silentJSONParsing:th.transitional(th.boolean),forcedJSONParsing:th.transitional(th.boolean),clarifyTimeoutError:th.transitional(th.boolean)},!1),null!=r&&(Du.isFunction(r)?t.paramsSerializer={serialize:r}:eh.assertOptions(r,{encode:th.function,serialize:th.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Du.merge(i.common,i[t.method]);i&&Du.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=hd.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[Zd.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=Zd.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Gu(Sd((e=Td(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Du.forEach(["delete","get","head","options"],(function(e){nh.prototype[e]=function(t,n){return this.request(Td(n||{},{method:e,url:t,data:(n||{}).data}))}})),Du.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Td(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}nh.prototype[e]=t(),nh.prototype[e+"Form"]=t(!0)}));const rh=nh;class ih{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new gd(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new ih((function(t){e=t}));return{token:t,cancel:e}}}const oh=ih;const sh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sh).forEach((e=>{let[t,n]=e;sh[n]=t}));const ah=sh;const lh=function e(t){const n=new rh(t),r=Gc(rh.prototype.request,n);return Du.extend(r,rh.prototype,n,{allOwnKeys:!0}),Du.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Td(t,n))},r}(od);lh.Axios=rh,lh.CanceledError=gd,lh.CancelToken=oh,lh.isCancel=pd,lh.VERSION=Kd,lh.toFormData=Vu,lh.AxiosError=Lu,lh.Cancel=lh.CanceledError,lh.all=function(e){return Promise.all(e)},lh.spread=function(e){return function(t){return e.apply(null,t)}},lh.isAxiosError=function(e){return Du.isObject(e)&&!0===e.isAxiosError},lh.mergeConfig=Td,lh.AxiosHeaders=hd,lh.formToJSON=e=>rd(Du.isHTMLForm(e)?new FormData(e):e),lh.getAdapter=qd,lh.HttpStatusCode=ah,lh.default=lh;const ch=lh;function uh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var dh={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};var hh=function e(t,n){function r(e,r,i){if("undefined"!==typeof document){"number"===typeof(i=uh({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in i)i[s]&&(o+="; "+s,!0!==i[s]&&(o+="="+i[s].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+o}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(r[a]=t.read(s,a),e===a)break}catch(_ke){}}return e?r[e]:r}},remove:function(e,t){r(e,"",uh({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,uh({},this.attributes,t))},withConverter:function(t){return e(uh({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}(dh,{path:"/"});const fh=ch.create({baseURL:"",withCredentials:!0});let ph=!1,mh=[];fh.interceptors.request.use((e=>e),(e=>Promise.reject(e))),fh.interceptors.response.use((e=>e),(async e=>{var t;const n=e.config;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)){if(!ph){ph=!0;try{const e=(await fh.post("/users/refresh-token",null,{})).data.accessToken;return mh.forEach((t=>t(e))),mh=[],ph=!1,fh(n)}catch(r){return ph=!1,hh.remove("accessToken"),hh.remove("refreshToken"),localStorage.removeItem("persist:root"),console.log("AccessToken \ucfe0\ud0a4 \uc0ad\uc81c:",hh.get("accessToken")),console.log("RefreshToken \ucfe0\ud0a4 \uc0ad\uc81c:",hh.get("refreshToken")),console.log("Persist root \uc0ad\uc81c:",localStorage.getItem("persist:root")),window.location.href="/login",Promise.reject(r)}}return new Promise(((e,t)=>{mh.push((t=>{n.headers.Authorization=`Bearer ${t}`,e(fh(n))}))}))}return Promise.reject(e)}));const gh=fh,vh=Hc({name:"wish",initialState:{favoriteList:[]},reducers:{toggleFavorite:(e,t)=>{const{clubNumber:n}=t.payload,r=e.favoriteList.indexOf(n);-1===r?e.favoriteList.push(n):e.favoriteList.splice(r,1)},setFavoriteList:(e,t)=>{e.favoriteList=t.payload}}}),{toggleFavorite:bh,setFavoriteList:yh}=vh.actions,wh=vh.reducer,xh=Nc("messages/fetchMessages",(async(e,t)=>{try{return(await gh.get(`/users/messages/${e}`)).data}catch(n){return t.rejectWithValue(n.response.data||n.message)}})),_h=Nc("messages/sendMessage",(async(e,t)=>{try{return(await gh.post("/users/messages",e)).data}catch(n){return console.log(n),t.rejectWithValue(n.response.data||n.message)}})),Ch=Nc("messages/markMessageAsRead",(async(e,t)=>{try{return await gh.put("/users/messages/changestate",{ids:[e]}),e}catch(n){return console.log(n),t.rejectWithValue(n.response.data||n.message)}})),kh=Nc("messages/deleteMessages",(async(e,t)=>{try{return(await gh.post("/users/messages/delete",{ids:e})).data}catch(n){return t.rejectWithValue(n.response.data||n.message)}})),Sh=Nc("user/registerUser",(async(e,t)=>{try{return(await gh.post("/users/register",e)).data}catch(n){return console.log(n),t.rejectWithValue(n.response.data||n.message)}})),Ah=Nc("user/loginUser",(async(e,t)=>{try{const n=await gh.post("/users/login",e),r=n.data;return t.dispatch(xh(r.user.email)),t.dispatch(yh(r.user.wish)),n.data}catch(n){return console.log(n),t.rejectWithValue(n.response.data||n.message)}})),Th=Nc("user/authUser",(async(e,t)=>{try{return(await gh.get("/users/auth")).data}catch(n){return console.log(n),t.rejectWithValue(n.response.data||n.message)}})),Ih=Nc("user/logoutUser",(async(e,t)=>{try{return(await gh.post("/users/logout")).data}catch(n){return console.log(n),t.rejectWithValue(n.response.data||n.message)}})),Mh=Nc("user/myPage",(async(e,t)=>{try{return(await gh.get("/users/myPage")).data}catch(n){return t.rejectWithValue(n.response.data)}})),Eh=Nc("user/updateUser",(async(e,t)=>{try{return(await gh.put("/users/myPage/update",e)).data}catch(n){return t.rejectWithValue(n.response.data)}}));function Ph(e,t,n,r,o){const[s,a]=i.useState((()=>o&&n?n(e).matches:r?r(e).matches:t));return(0,vn.A)((()=>{let t=!0;if(!n)return;const r=n(e),i=()=>{t&&a(r.matches)};return i(),r.addListener(i),()=>{t=!1,r.removeListener(i)}}),[e,n]),s}const Dh=o.useSyncExternalStore;function jh(e,t,n,r,o){const s=i.useCallback((()=>t),[t]),a=i.useMemo((()=>{if(o&&n)return()=>n(e).matches;if(null!==r){const{matches:t}=r(e);return()=>t}return s}),[s,e,r,o,n]),[l,c]=i.useMemo((()=>{if(null===n)return[s,()=>()=>{}];const t=n(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]}),[s,n,e]);return Dh(c,l,a)}function Oh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Ee(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:i=!1,matchMedia:o=(r?window.matchMedia:null),ssrMatchMedia:s=null,noSsr:a=!1}=Ge({name:"MuiUseMediaQuery",props:t,theme:n});let l="function"===typeof e?e(n):e;l=l.replace(/^@media( ?)/m,"");return(void 0!==Dh?jh:Ph)(l,i,o,s,a)}const Rh=e=>{const t=i.useRef({});return i.useEffect((()=>{t.current=e})),t.current};const Lh=function(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:i=!1}=e,o=Rh({badgeContent:t,max:r});let s=n;!1!==n||0!==t||i||(s=!0);const{badgeContent:a,max:l=r}=s?o:e;return{badgeContent:a,invisible:s,max:l,displayValue:a&&Number(a)>l?`${l}+`:a}};function Nh(e){return(0,He.Ay)("MuiBadge",e)}const Bh=(0,Fe.A)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Fh=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],zh=(0,ft.Ay)("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Vh=(0,ft.Ay)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${(0,ht.A)(n.anchorOrigin.vertical)}${(0,ht.A)(n.anchorOrigin.horizontal)}${(0,ht.A)(n.overlap)}`],"default"!==n.color&&t[`color${(0,ht.A)(n.color)}`],n.invisible&&t.invisible]}})((e=>{let{theme:t}=e;var n;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n,r;return(null!=(n=t.vars)?n:t).palette[e].main&&(null!=(r=t.vars)?r:t).palette[e].contrastText})).map((e=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}}))),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Bh.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Bh.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Bh.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Bh.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Bh.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Bh.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Bh.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Bh.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}})),Wh=i.forwardRef((function(e,t){var n,r,i,o,s,a;const l=(0,pt.b)({props:e,name:"MuiBadge"}),{anchorOrigin:c={vertical:"top",horizontal:"right"},className:u,component:d,components:h={},componentsProps:f={},children:p,overlap:m="rectangular",color:g="default",invisible:v=!1,max:b=99,badgeContent:y,slots:w,slotProps:x,showZero:_=!1,variant:C="standard"}=l,k=(0,Ce.A)(l,Fh),{badgeContent:S,invisible:A,max:T,displayValue:I}=Lh({max:b,invisible:v,badgeContent:y,showZero:_}),M=Rh({anchorOrigin:c,color:g,overlap:m,variant:C,badgeContent:y}),E=A||null==S&&"dot"!==C,{color:P=g,overlap:D=m,anchorOrigin:j=c,variant:O=C}=E?M:l,R="dot"!==O?I:void 0,L=(0,_e.A)({},l,{badgeContent:S,invisible:E,max:T,displayValue:R,showZero:_,anchorOrigin:j,color:P,overlap:D,variant:O}),N=(e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:s={}}=e,a={root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${(0,ht.A)(n.vertical)}${(0,ht.A)(n.horizontal)}`,`anchorOrigin${(0,ht.A)(n.vertical)}${(0,ht.A)(n.horizontal)}${(0,ht.A)(i)}`,`overlap${(0,ht.A)(i)}`,"default"!==t&&`color${(0,ht.A)(t)}`]};return(0,Ue.A)(a,Nh,s)})(L),B=null!=(n=null!=(r=null==w?void 0:w.root)?r:h.Root)?n:zh,F=null!=(i=null!=(o=null==w?void 0:w.badge)?o:h.Badge)?i:Vh,z=null!=(s=null==x?void 0:x.root)?s:f.root,V=null!=(a=null==x?void 0:x.badge)?a:f.badge,W=Hr({elementType:B,externalSlotProps:z,externalForwardedProps:k,additionalProps:{ref:t,as:d},ownerState:L,className:(0,ke.A)(null==z?void 0:z.className,N.root,u)}),H=Hr({elementType:F,externalSlotProps:V,ownerState:L,className:(0,ke.A)(N.badge,null==V?void 0:V.className)});return(0,je.jsxs)(B,(0,_e.A)({},W,{children:[p,(0,je.jsx)(F,(0,_e.A)({},H,{children:R}))]}))})),Hh=Wh;const Uh=function(){const e=Oh(yt().breakpoints.down("md")),t=Q(),[n,r]=(0,i.useState)("\ubaa8\uc784\ucc3e\uae30"),[o,s]=(0,i.useState)(0),[a,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),f=sl((e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.isAuth})),p=bl(),m=ee(),g=sl((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.user)||{}})),v=sl((e=>{var t;return(null===(t=e.myMessage)||void 0===t?void 0:t.messages)||{}})),[b,y]=(0,i.useState)(0),[w,x]=(0,i.useState)(t.pathname);(0,i.useEffect)((()=>{x(t.pathname)}),[t.pathname]),(0,i.useEffect)((()=>{g.email&&p(xh(g.email))}),[g.email,w,p]),(0,i.useEffect)((()=>{if(!v)return void y(0);const e=v.filter((e=>!e.isRead)).length;y(e)}),[v]);const _=[{to:"/login",name:"\ub85c\uadf8\uc778",auth:!1},{to:"/register",name:"\ud68c\uc6d0\uac00\uc785",auth:!1},{to:"",name:"\ub85c\uadf8\uc544\uc6c3",auth:!0},{to:"/mypage",name:"\ub9c8\uc774\ud398\uc774\uc9c0",auth:!0}],C=[{name:"\ubaa8\uc784\ucc3e\uae30",path:"/clubList"},{name:"\uc815\ubaa8\uc77c\uc815",path:"/meetingList"},{name:"\ucd94\ucc9c\ubaa8\uc784",path:"/recommendedClubList"},{name:"\uc774\ubca4\ud2b8",path:"/event"}];(0,i.useEffect)((()=>{r((()=>{const e=t.pathname;return e.includes("home")?"\ubc1c\uacac":e.includes("clubList")?"\ubaa8\uc784\ucc3e\uae30":e.includes("meetingList")?"\uc815\ubaa8\uc77c\uc815":e.includes("recommendedClubList")?"\ucd94\ucc9c\ubaa8\uc784":e.includes("event")?"\uc774\ubca4\ud2b8":"\ubc1c\uacac"})())}),[t.pathname]),(0,i.useEffect)((()=>{const e=()=>{s(window.scrollY),l(window.scrollY<100||window.scrollY<o)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[o]);const k=()=>{u(null)},S=()=>{try{p(Ih()).then((()=>{m("/login")})),k()}catch(e){console.error(e)}},A=()=>{h(!d)},[T,I]=(0,i.useState)(!1),[M,E]=(0,i.useState)(!1),[P,D]=(0,i.useState)(""),[j,O]=(0,i.useState)([]),R=()=>{E(!1),D(""),O([])};return(0,je.jsxs)(We,{sx:{width:"100%",height:"85px"},children:[(0,je.jsx)(We,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"85px",backgroundColor:"white",color:"black",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1100,transform:a?"translateY(0)":"translateY(-100%)",transition:"transform 0.3s ease"},children:(0,je.jsx)(gt,{maxWidth:"lg",sx:{padding:"0px !important"},children:(0,je.jsxs)(Pt,{container:!0,sx:{alignItems:"center",justifyContent:"space-between",textAlign:"center",fontSize:"20px"},children:[(0,je.jsx)(We,{children:(0,je.jsx)($a,{to:"/",children:(0,je.jsx)("img",{src:"/logo/khaki_long_h.png",alt:"Logo",style:{height:"50px"}})})}),(0,je.jsx)(We,{mr:40,sx:{display:{xs:"none",md:"flex"},flexGrow:1,justifyContent:"center",alignItems:"center",gap:"10px",padding:"10px",backgroundColor:"white"},children:C.map((e=>(0,je.jsx)(We,{sx:{position:"relative",textAlign:"center",cursor:"pointer",padding:"5px 10px",color:n===e.name?"black":"rgba(0, 0, 0, 0.6)",textDecoration:"none",fontFamily:"KCC-Hanbit","&:hover":{color:"black"},"&::after":{content:'""',position:"absolute",bottom:0,left:"50%",width:"0%",height:"2px",backgroundColor:"black",transform:"translateX(-50%)",transition:"width 0.3s ease"},"&:hover::after":{width:"100%"}},children:(0,je.jsx)($a,{to:e.path,style:{textDecoration:"none",color:"inherit"},onClick:()=>r(e.name),children:e.name})},e.name)))}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center"},children:[(0,je.jsxs)(Rt,{sx:{padding:"0px !important",minWidth:"0"},children:[(0,je.jsx)(xi,{title:"\uac80\uc0c9",arrow:!0,children:(0,je.jsx)(Pa.A,{onClick:()=>{E(!0)},sx:{padding:"7px",color:"gray",":hover":{cursor:"pointer"},fontSize:24}})}),(0,je.jsx)(xi,{title:"\uc54c\ub9bc",arrow:!0,children:(0,je.jsx)(Hh,{badgeContent:b>0?b:null,color:"error",sx:{"& .MuiBadge-dot":{backgroundColor:"red",width:20,height:20,top:5,right:5,borderRadius:"50%"},".MuiBadge-root":{"& .MuiBadge-dot":{top:0,right:0}}},children:(0,je.jsx)(Da.A,{onClick:()=>{m("/mypage/mymessage")},sx:{padding:"7px",color:"gray",":hover":{cursor:"pointer"},fontSize:24}})})}),(0,je.jsx)(xi,{title:"\ucc44\ud305",arrow:!0,children:(0,je.jsx)(ja.A,{onClick:()=>{},sx:{padding:"7px",color:"gray",":hover":{cursor:"pointer"},fontSize:24}})}),!e&&(0,je.jsx)(xi,{title:"\uacc4\uc815",arrow:!0,children:(0,je.jsx)(eo,{onClick:e=>{u(e.currentTarget)},children:(0,je.jsx)(Oa.A,{sx:{color:"gray",":hover":{cursor:"pointer",fontSize:24}}})})}),(0,je.jsx)(ws,{anchorEl:c,open:Boolean(c),onClose:k,PaperProps:{sx:{maxHeight:216,width:"20ch"}},children:_.map((e=>{let{to:t,name:n,auth:r}=e;return f===r?(0,je.jsxs)(Es,{onClick:()=>{"\ub85c\uadf8\uc544\uc6c3"===n?S():m(t),k()},children:["\ub85c\uadf8\uc544\uc6c3"===n?(0,je.jsx)(Ra.A,{sx:{marginRight:1}}):"\ub85c\uadf8\uc778"===n?(0,je.jsx)(La.A,{sx:{marginRight:1}}):"\ud68c\uc6d0\uac00\uc785"===n?(0,je.jsx)(Na.A,{sx:{marginRight:1}}):"\ub9c8\uc774\ud398\uc774\uc9c0"===n?(0,je.jsx)(Oa.A,{sx:{marginRight:1}}):n,n]},n):null}))})]}),e&&(0,je.jsx)(eo,{sx:{display:{xs:"flex",md:"none"},color:"gray"},onClick:A,children:(0,je.jsx)(Ma.A,{})})]})]})})}),(0,je.jsx)(Us,{anchor:"right",open:d,onClose:A,children:(0,je.jsxs)(We,{sx:{width:250,height:"100%",padding:2,display:"flex",flexDirection:"column"},children:[(0,je.jsx)(eo,{onClick:A,sx:{alignSelf:"flex-end"},children:(0,je.jsx)(Ea.A,{})}),(0,je.jsx)(We,{sx:{flexGrow:1,mt:2},children:C.map((e=>(0,je.jsx)($a,{to:e.path,style:{textDecoration:"none",color:"inherit"},onClick:()=>r(e.name),children:(0,je.jsx)(Ks,{sx:{padding:"10px 0",color:n===e.name?"black":"rgba(0, 0, 0, 0.6)","&:hover":{color:"black"}},children:e.name})},e.name)))}),(0,je.jsx)(We,{children:_.map((e=>{let{to:t,name:n,auth:r}=e;return f===r?(0,je.jsxs)(la,{onClick:()=>{"\ub85c\uadf8\uc544\uc6c3"===n?S():m(t),A()},sx:{display:"flex",alignItems:"center",my:1,color:"#A6836F"},children:["\ub85c\uadf8\uc544\uc6c3"===n?(0,je.jsx)(Ra.A,{sx:{marginRight:1}}):"\ub85c\uadf8\uc778"===n?(0,je.jsx)(La.A,{sx:{marginRight:1}}):"\ud68c\uc6d0\uac00\uc785"===n?(0,je.jsx)(Na.A,{sx:{marginRight:1}}):"\ub9c8\uc774\ud398\uc774\uc9c0"===n?(0,je.jsx)(Oa.A,{sx:{marginRight:1}}):n,n]},n):null}))})]})}),(0,je.jsxs)(ya,{open:M,onClose:R,maxWidth:"md",fullWidth:!0,children:[(0,je.jsxs)(ka,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:["\ubaa8\uc784 \uc774\ub984 \uac80\uc0c9",(0,je.jsx)(eo,{onClick:R,sx:{padding:0},children:(0,je.jsx)(Ea.A,{})})]}),(0,je.jsxs)(Ia,{children:[(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",padding:"4px 8px",backgroundColor:"white"},children:[(0,je.jsx)(Pa.A,{sx:{color:"gray",fontSize:24,marginRight:1}}),(0,je.jsx)("input",{type:"text",placeholder:"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694",value:P,onChange:async e=>{const t=e.target.value;if(console.log("\uc785\ub825\ub41c \uac80\uc0c9\uc5b4:",t),D(t),t)try{const e=await ch.get(`http://localhost:4000/clubs/search/test?title=${t}`);O(e.data)}catch(n){console.error("\uac80\uc0c9 \uc694\uccad \uc2e4\ud328",n)}else O([])},style:{border:"none",outline:"none",padding:"4px",fontSize:"20px",flexGrow:1,borderBottom:"2px solid gray"}})]}),j.length>0&&(0,je.jsxs)(We,{sx:{marginTop:2},children:[(0,je.jsx)(Ks,{variant:"h6",children:"\uac80\uc0c9 \uacb0\uacfc"}),j.map((e=>(0,je.jsx)(We,{sx:{padding:"10px 0",borderBottom:"1px solid gray"},children:(0,je.jsxs)($a,{to:`/clubs/main?clubNumber=${e._id}`,style:{textDecoration:"none",color:"inherit"},onClick:R,children:[(0,je.jsx)(Ks,{children:e.title})," "]})},e._id)))]})]})]})]})};var $h=n(348),Yh=n(3650),Gh=n(7734);const qh=()=>(0,je.jsx)(We,{sx:{backgroundColor:"#565903",padding:"20px 0",borderTop:"1px solid #ddd"},children:(0,je.jsx)(gt,{maxWidth:"lg",children:(0,je.jsxs)(Pt,{container:!0,spacing:4,children:[(0,je.jsx)(Pt,{item:!0,xs:12,md:3,children:(0,je.jsx)(We,{sx:{textAlign:"center"},children:(0,je.jsx)("img",{src:"/logo/black_long_h.png",alt:"Logo",style:{height:"45px"}})})}),(0,je.jsx)(Pt,{item:!0,xs:12,md:3,children:(0,je.jsxs)(We,{children:[(0,je.jsx)(Ks,{variant:"h6",sx:{marginBottom:"16px"},children:"\ud68c\uc0ac"}),(0,je.jsx)(Ks,{variant:"body2",children:"\ud68c\uc0ac\uc18c\uac1c"})]})}),(0,je.jsx)(Pt,{item:!0,xs:12,md:3,children:(0,je.jsxs)(We,{children:[(0,je.jsx)(Ks,{variant:"h6",sx:{marginBottom:"16px"},children:"\uc11c\ube44\uc2a4"}),(0,je.jsx)(Ks,{variant:"body2",children:"\uc774\ubca4\ud2b8"}),(0,je.jsx)(Ks,{variant:"body2",children:"\uacf5\uc9c0\uc0ac\ud56d"}),(0,je.jsx)(Ks,{variant:"body2",children:"\uc790\uc8fc \ubb3b\ub294 \uc9c8\ubb38"})]})}),(0,je.jsx)(Pt,{item:!0,xs:12,md:3,children:(0,je.jsxs)(We,{children:[(0,je.jsx)(Ks,{variant:"h6",sx:{marginBottom:"16px"},children:"\uace0\uac1d\uc13c\ud130"}),(0,je.jsx)(Ks,{variant:"body2",children:"\uc804\ud654: 000-0000-0000"}),(0,je.jsx)(Ks,{variant:"body2",children:"\uc774\uba54\uc77c: clubing@clubing.com"}),(0,je.jsxs)(Ks,{variant:"body2",children:[(0,je.jsx)($h.A,{}),(0,je.jsx)(Yh.A,{}),(0,je.jsx)(Gh.A,{})]})]})})]})})});const Xh=function(e){let{onSectionChange:t}=e;return(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[(0,je.jsx)(Uh,{onSectionChange:t}),(0,je.jsx)(We,{sx:{flex:1},children:(0,je.jsxs)("main",{children:[(0,je.jsx)(ve,{})," "]})}),(0,je.jsx)(qh,{})]})};const Zh=function(){return(0,je.jsx)("div",{children:"NotFound"})};var Kh="undefined"===typeof window||"Deno"in globalThis;function Qh(){}function Jh(e){return"number"===typeof e&&e>=0&&e!==1/0}function ef(e,t){return Math.max(e+(t||0)-Date.now(),0)}function tf(e,t){return"function"===typeof e?e(t):e}function nf(e,t){return"function"===typeof e?e(t):e}function rf(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s)if(r){if(t.queryHash!==sf(s,t.options))return!1}else if(!lf(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof a||t.isStale()===a)&&((!i||i===t.state.fetchStatus)&&!(o&&!o(t)))}function of(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(af(t.options.mutationKey)!==af(o))return!1}else if(!lf(t.options.mutationKey,o))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function sf(e,t){return(t?.queryKeyHashFn||af)(e)}function af(e){return JSON.stringify(e,((e,t)=>hf(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function lf(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some((n=>!lf(e[n],t[n]))))}function cf(e,t){if(e===t)return e;const n=df(e)&&df(t);if(n||hf(e)&&hf(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),s=o.length,a=n?[]:{};let l=0;for(let c=0;c<s;c++){const i=n?c:o[c];(!n&&r.includes(i)||n)&&void 0===e[i]&&void 0===t[i]?(a[i]=void 0,l++):(a[i]=cf(e[i],t[i]),a[i]===e[i]&&void 0!==e[i]&&l++)}return i===s&&l===i?e:a}return t}function uf(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function df(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function hf(e){if(!ff(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!ff(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function ff(e){return"[object Object]"===Object.prototype.toString.call(e)}function pf(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?cf(e,t):t}function mf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function gf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var vf=Symbol();function bf(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==vf?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var yf=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=e=>setTimeout(e,0);const o=r=>{t?e.push(r):i((()=>{n(r)}))},s=()=>{const t=e;e=[],t.length&&i((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))};return{batch:e=>{let n;t++;try{n=e()}finally{t--,t||s()}return n},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o((()=>{e(...n)}))},schedule:o,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),wf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xf=new class extends wf{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Kh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e((e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"===typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}},_f=new class extends wf{#r=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Kh&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#r!==e&&(this.#r=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#r}};function Cf(e){return Math.min(1e3*2**e,3e4)}function kf(e){return"online"!==(e??"online")||_f.isOnline()}var Sf=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Af(e){return e instanceof Sf}function Tf(e){let t,n,r,i=!1,o=0,s=!1;const a=new Promise(((e,t)=>{n=e,r=t})),l=()=>xf.isFocused()&&("always"===e.networkMode||_f.isOnline())&&e.canRun(),c=()=>kf(e.networkMode)&&e.canRun(),u=r=>{s||(s=!0,e.onSuccess?.(r),t?.(),n(r))},d=n=>{s||(s=!0,e.onError?.(n),t?.(),r(n))},h=()=>new Promise((n=>{t=e=>{(s||l())&&n(e)},e.onPause?.()})).then((()=>{t=void 0,s||e.onContinue?.()})),f=()=>{if(s)return;let t;const n=0===o?e.initialPromise:void 0;try{t=n??e.fn()}catch(r){t=Promise.reject(r)}Promise.resolve(t).then(u).catch((t=>{if(s)return;const n=e.retry??(Kh?0:3),r=e.retryDelay??Cf,a="function"===typeof r?r(o,t):r,c=!0===n||"number"===typeof n&&o<n||"function"===typeof n&&n(o,t);var u;!i&&c?(o++,e.onFail?.(o,t),(u=a,new Promise((e=>{setTimeout(e,u)}))).then((()=>l()?void 0:h())).then((()=>{i?d(t):f()}))):d(t)}))};return{promise:a,cancel:t=>{s||(d(new Sf(t)),e.abort?.())},continue:()=>(t?.(),a),cancelRetry:()=>{i=!0},continueRetry:()=>{i=!1},canStart:c,start:()=>(c()?f():h().then(f),a)}}var If=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jh(this.gcTime)&&(this.#i=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Kh?1/0:3e5))}clearGcTimeout(){this.#i&&(clearTimeout(this.#i),this.#i=void 0)}},Mf=class extends If{#o;#s;#a;#l;#c;#u;constructor(e){super(),this.#u=!1,this.#c=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#o=function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#l?.promise}setOptions(e){this.options={...this.#c,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#a.remove(this)}setData(e,t){const n=pf(this.state.data,e,this.options);return this.#d({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#d({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#l?.promise;return this.#l?.cancel(e),t?t.then(Qh).catch(Qh):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some((e=>!1!==nf(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||void 0===this.state.data||!ef(this.state.dataUpdatedAt,e)}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#l?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#l?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#l&&(this.#u?this.#l.cancel({revert:!0}):this.#l.cancelRetry()),this.scheduleGc()),this.#a.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#d({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#l)return this.#l.continueRetry(),this.#l.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#u=!0,n.signal)})},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{const e=bf(this.options,t),n={queryKey:this.queryKey,meta:this.meta};return r(n),this.#u=!1,this.options.persister?this.options.persister(e,n,this):e(n)}};r(i),this.options.behavior?.onFetch(i,this),this.#s=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===i.fetchOptions?.meta||this.#d({type:"fetch",meta:i.fetchOptions?.meta});const o=e=>{Af(e)&&e.silent||this.#d({type:"error",error:e}),Af(e)||(this.#a.config.onError?.(e,this),this.#a.config.onSettled?.(this.state.data,e,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#l=Tf({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(t){return void o(t)}this.#a.config.onSuccess?.(e,this),this.#a.config.onSettled?.(e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1}else o(new Error(`${this.queryHash} data is undefined`))},onError:o,onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:()=>{this.#d({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#l.start()}#d(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...Ef(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Af(n)&&n.revert&&this.#s?{...this.#s,fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),yf.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#a.notify({query:this,type:"updated",action:e})}))}};function Ef(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kf(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var Pf=class extends wf{constructor(e,t){super(),this.options=t,this.#h=e,this.#f=null,this.bindMethods(),this.setOptions(t)}#h;#p=void 0;#m=void 0;#g=void 0;#v;#b;#f;#y;#w;#x;#_;#C;#k;#S=(()=>new Set)();bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#p.addObserver(this),Df(this.#p,this.options)?this.#A():this.updateResult(),this.#T())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jf(this.#p,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jf(this.#p,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#I(),this.#M(),this.#p.removeObserver(this)}setOptions(e,t){const n=this.options,r=this.#p;if(this.options=this.#h.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof nf(this.options.enabled,this.#p))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#p.setOptions(this.options),n._defaulted&&!uf(this.options,n)&&this.#h.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#p,observer:this});const i=this.hasListeners();i&&Of(this.#p,r,this.options,n)&&this.#A(),this.updateResult(t),!i||this.#p===r&&nf(this.options.enabled,this.#p)===nf(n.enabled,this.#p)&&tf(this.options.staleTime,this.#p)===tf(n.staleTime,this.#p)||this.#P();const o=this.#D();!i||this.#p===r&&nf(this.options.enabled,this.#p)===nf(n.enabled,this.#p)&&o===this.#k||this.#j(o)}getOptimisticResult(e){const t=this.#h.getQueryCache().build(this.#h,e),n=this.createResult(t,e);return function(e,t){if(!uf(e.getCurrentResult(),t))return!0;return!1}(this,n)&&(this.#g=n,this.#b=this.options,this.#v=this.#p.state),n}getCurrentResult(){return this.#g}trackResult(e,t){const n={};return Object.keys(e).forEach((r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})})),n}trackProp(e){this.#S.add(e)}getCurrentQuery(){return this.#p}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){const t=this.#h.defaultQueryOptions(e),n=this.#h.getQueryCache().build(this.#h,t);return n.isFetchingOptimistic=!0,n.fetch().then((()=>this.createResult(n,t)))}fetch(e){return this.#A({...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#g)))}#A(e){this.#E();let t=this.#p.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Qh)),t}#P(){this.#I();const e=tf(this.options.staleTime,this.#p);if(Kh||this.#g.isStale||!Jh(e))return;const t=ef(this.#g.dataUpdatedAt,e)+1;this.#_=setTimeout((()=>{this.#g.isStale||this.updateResult()}),t)}#D(){return("function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.#p):this.options.refetchInterval)??!1}#j(e){this.#M(),this.#k=e,!Kh&&!1!==nf(this.options.enabled,this.#p)&&Jh(this.#k)&&0!==this.#k&&(this.#C=setInterval((()=>{(this.options.refetchIntervalInBackground||xf.isFocused())&&this.#A()}),this.#k))}#T(){this.#P(),this.#j(this.#D())}#I(){this.#_&&(clearTimeout(this.#_),this.#_=void 0)}#M(){this.#C&&(clearInterval(this.#C),this.#C=void 0)}createResult(e,t){const n=this.#p,r=this.options,i=this.#g,o=this.#v,s=this.#b,a=e!==n?e.state:this.#m,{state:l}=e;let c,u={...l},d=!1;if(t._optimisticResults){const i=this.hasListeners(),o=!i&&Df(e,t),s=i&&Of(e,n,t,r);(o||s)&&(u={...u,...Ef(l.data,e.options)}),"isRestoring"===t._optimisticResults&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:f,status:p}=u;if(t.select&&void 0!==u.data)if(i&&u.data===o?.data&&t.select===this.#y)c=this.#w;else try{this.#y=t.select,c=t.select(u.data),c=pf(i?.data,c,t),this.#w=c,this.#f=null}catch(w){this.#f=w}else c=u.data;if(void 0!==t.placeholderData&&void 0===c&&"pending"===p){let e;if(i?.isPlaceholderData&&t.placeholderData===s?.placeholderData)e=i.data;else if(e="function"===typeof t.placeholderData?t.placeholderData(this.#x?.state.data,this.#x):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#f=null}catch(w){this.#f=w}void 0!==e&&(p="success",c=pf(i?.data,e,t),d=!0)}this.#f&&(h=this.#f,c=this.#w,f=Date.now(),p="error");const m="fetching"===u.fetchStatus,g="pending"===p,v="error"===p,b=g&&m,y=void 0!==c;return{status:p,fetchStatus:u.fetchStatus,isPending:g,isSuccess:"success"===p,isError:v,isInitialLoading:b,isLoading:b,data:c,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:f,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>a.dataUpdateCount||u.errorUpdateCount>a.errorUpdateCount,isFetching:m,isRefetching:m&&!g,isLoadingError:v&&!y,isPaused:"paused"===u.fetchStatus,isPlaceholderData:d,isRefetchError:v&&y,isStale:Rf(e,t),refetch:this.refetch}}updateResult(e){const t=this.#g,n=this.createResult(this.#p,this.options);if(this.#v=this.#p.state,this.#b=this.options,void 0!==this.#v.data&&(this.#x=this.#p),uf(n,t))return;this.#g=n;const r={};!1!==e?.listeners&&(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,n="function"===typeof e?e():e;if("all"===n||!n&&!this.#S.size)return!0;const r=new Set(n??this.#S);return this.options.throwOnError&&r.add("error"),Object.keys(this.#g).some((e=>{const n=e;return this.#g[n]!==t[n]&&r.has(n)}))})()&&(r.listeners=!0),this.#O({...r,...e})}#E(){const e=this.#h.getQueryCache().build(this.#h,this.options);if(e===this.#p)return;const t=this.#p;this.#p=e,this.#m=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#T()}#O(e){yf.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(this.#g)})),this.#h.getQueryCache().notify({query:this.#p,type:"observerResultsUpdated"})}))}};function Df(e,t){return function(e,t){return!1!==nf(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&jf(e,t,t.refetchOnMount)}function jf(e,t,n){if(!1!==nf(t.enabled,e)){const r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&Rf(e,t)}return!1}function Of(e,t,n,r){return(e!==t||!1===nf(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&Rf(e,n)}function Rf(e,t){return!1!==nf(t.enabled,e)&&e.isStaleByTime(tf(t.staleTime,e))}function Lf(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Nf=i.createContext(Lf()),Bf=()=>i.useContext(Nf),Ff=i.createContext(void 0),zf=e=>{const t=i.useContext(Ff);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Vf=e=>{let{client:t,children:n}=e;return i.useEffect((()=>(t.mount(),()=>{t.unmount()})),[t]),(0,je.jsx)(Ff.Provider,{value:t,children:n})},Wf=i.createContext(!1),Hf=()=>i.useContext(Wf);Wf.Provider;function Uf(e,t){return"function"===typeof e?e(...t):!!e}function $f(){}var Yf=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Gf=e=>{i.useEffect((()=>{e.clearReset()}),[e])},qf=e=>{let{result:t,errorResetBoundary:n,throwOnError:r,query:i}=e;return t.isError&&!n.isReset()&&!t.isFetching&&i&&Uf(r,[t.error,i])},Xf=e=>{e.suspense&&("number"!==typeof e.staleTime&&(e.staleTime=1e3),"number"===typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3)))},Zf=(e,t)=>e?.suspense&&t.isPending,Kf=(e,t,n)=>t.fetchOptimistic(e).catch((()=>{n.clearReset()}));function Qf(e,t,n){const r=zf(n),o=Hf(),s=Bf(),a=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=o?"isRestoring":"optimistic",Xf(a),Yf(a,s),Gf(s);const[l]=i.useState((()=>new t(r,a))),c=l.getOptimisticResult(a);if(i.useSyncExternalStore(i.useCallback((e=>{const t=o?()=>{}:l.subscribe(yf.batchCalls(e));return l.updateResult(),t}),[l,o]),(()=>l.getCurrentResult()),(()=>l.getCurrentResult())),i.useEffect((()=>{l.setOptions(a,{listeners:!1})}),[a,l]),Zf(a,c))throw Kf(a,l,s);if(qf({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw c.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(a,c),a.notifyOnChangeProps?c:l.trackResult(c)}function Jf(e,t){return Qf(e,Pf,t)}function ep(e){return(0,He.Ay)("MuiSnackbarContent",e)}(0,Fe.A)("MuiSnackbarContent",["root","message","action"]);const tp=["action","className","message","role"],np=(0,ft.Ay)(Qo,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?.8:.98,r=(0,Nt.tL)(t.palette.background.default,n);return(0,_e.A)({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(r),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})})),rp=(0,ft.Ay)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),ip=(0,ft.Ay)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),op=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiSnackbarContent"}),{action:r,className:i,message:o,role:s="alert"}=n,a=(0,Ce.A)(n,tp),l=n,c=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"],action:["action"],message:["message"]},ep,t)})(l);return(0,je.jsxs)(np,(0,_e.A)({role:s,square:!0,elevation:6,className:(0,ke.A)(c.root,i),ownerState:l,ref:t},a,{children:[(0,je.jsx)(rp,{className:c.message,ownerState:l,children:o}),r?(0,je.jsx)(ip,{className:c.action,ownerState:l,children:r}):null]}))}));function sp(e){return(0,He.Ay)("MuiFab",e)}const ap=(0,Fe.A)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),lp=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],cp=(0,ft.Ay)(qi,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,ds.A)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${(0,ht.A)(n.size)}`],"inherit"===n.color&&t.colorInherit,t[(0,ht.A)(n.size)],t[n.color]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;return(0,_e.A)({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${ap.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},"small"===n.size&&{width:40,height:40},"medium"===n.size&&{width:48,height:48},"extended"===n.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===n.variant&&"small"===n.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===n.variant&&"medium"===n.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===n.color&&{color:"inherit"})}),(e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({},"inherit"!==n.color&&"default"!==n.color&&null!=(t.vars||t).palette[n.color]&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}})}),(e=>{let{theme:t}=e;return{[`&.${ap.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}})),up=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiFab"}),{children:r,className:i,color:o="default",component:s="button",disabled:a=!1,disableFocusRipple:l=!1,focusVisibleClassName:c,size:u="large",variant:d="circular"}=n,h=(0,Ce.A)(n,lp),f=(0,_e.A)({},n,{color:o,component:s,disabled:a,disableFocusRipple:l,size:u,variant:d}),p=(e=>{const{color:t,variant:n,classes:r,size:i}=e,o={root:["root",n,`size${(0,ht.A)(i)}`,"inherit"===t?"colorInherit":t]},s=(0,Ue.A)(o,sp,r);return(0,_e.A)({},r,s)})(f);return(0,je.jsx)(cp,(0,_e.A)({className:(0,ke.A)(p.root,i),component:s,disabled:a,focusRipple:!l,focusVisibleClassName:(0,ke.A)(p.focusVisible,c),ownerState:f,ref:t},h,{classes:p,children:r}))})),dp=up;var hp=n(9662);const fp=(0,hp.A)((0,je.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function pp(e){return(0,He.Ay)("MuiAvatar",e)}const mp=(0,Fe.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]),gp=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],vp=["component","slots","slotProps"],bp=["component"];function yp(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:s,internalForwardedProps:a}=t,l=(0,Ce.A)(t,gp),{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0}}=o,h=(0,Ce.A)(o,vp),f=u[e]||r,p=Vr(d[e],i),m=zr((0,_e.A)({className:n},l,{externalForwardedProps:"root"===e?h:void 0,externalSlotProps:p})),{props:{component:g},internalRef:v}=m,b=(0,Ce.A)(m.props,bp),y=(0,gn.A)(v,null==p?void 0:p.ref,t.ref),w=s?s(b):{},x=(0,_e.A)({},i,w),_="root"===e?g||c:g,C=Ht(f,(0,_e.A)({},"root"===e&&!c&&!u[e]&&a,"root"!==e&&!u[e]&&a,b,_&&{as:_},{ref:y}),x);return Object.keys(w).forEach((e=>{delete C[e]})),[f,C]}const wp=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],xp=(0,ft.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,_e.A)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:(0,_e.A)({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),_p=(0,ft.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Cp=(0,ft.Ay)(fp,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const kp=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiAvatar"}),{alt:r,children:o,className:s,component:a="div",slots:l={},slotProps:c={},imgProps:u,sizes:d,src:h,srcSet:f,variant:p="circular"}=n,m=(0,Ce.A)(n,wp);let g=null;const v=function(e){let{crossOrigin:t,referrerPolicy:n,src:r,srcSet:o}=e;const[s,a]=i.useState(!1);return i.useEffect((()=>{if(!r&&!o)return;a(!1);let e=!0;const i=new Image;return i.onload=()=>{e&&a("loaded")},i.onerror=()=>{e&&a("error")},i.crossOrigin=t,i.referrerPolicy=n,i.src=r,o&&(i.srcset=o),()=>{e=!1}}),[t,n,r,o]),s}((0,_e.A)({},u,{src:h,srcSet:f})),b=h||f,y=b&&"error"!==v,w=(0,_e.A)({},n,{colorDefault:!y,component:a,variant:p}),x=(e=>{const{classes:t,variant:n,colorDefault:r}=e,i={root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,Ue.A)(i,pp,t)})(w),[_,C]=yp("img",{className:x.img,elementType:_p,externalForwardedProps:{slots:l,slotProps:{img:(0,_e.A)({},u,c.img)}},additionalProps:{alt:r,src:h,srcSet:f,sizes:d},ownerState:w});return g=y?(0,je.jsx)(_,(0,_e.A)({},C)):o||0===o?o:b&&r?r[0]:(0,je.jsx)(Cp,{ownerState:w,className:x.fallback}),(0,je.jsx)(xp,(0,_e.A)({as:a,ownerState:w,className:(0,ke.A)(x.root,s),ref:t},m,{children:g}))})),Sp=kp;function Ap(e){return(0,He.Ay)("MuiAvatarGroup",e)}const Tp=(0,Fe.A)("MuiAvatarGroup",["root","avatar"]),Ip=["children","className","component","componentsProps","max","renderSurplus","slotProps","spacing","total","variant"],Mp={small:-16,medium:null},Ep=(0,ft.Ay)("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(e,t)=>(0,_e.A)({[`& .${Tp.avatar}`]:t.avatar},t.root)})((e=>{let{theme:t,ownerState:n}=e;const r=n.spacing&&void 0!==Mp[n.spacing]?Mp[n.spacing]:-n.spacing;return{[`& .${mp.root}`]:{border:`2px solid ${(t.vars||t).palette.background.default}`,boxSizing:"content-box",marginLeft:null!=r?r:-8,"&:last-child":{marginLeft:0}},display:"flex",flexDirection:"row-reverse"}})),Pp=i.forwardRef((function(e,t){var n;const r=(0,pt.b)({props:e,name:"MuiAvatarGroup"}),{children:o,className:s,component:a="div",componentsProps:l={},max:c=5,renderSurplus:u,slotProps:d={},spacing:h="medium",total:f,variant:p="circular"}=r,m=(0,Ce.A)(r,Ip);let g=c<2?2:c;const v=(0,_e.A)({},r,{max:c,spacing:h,component:a,variant:p}),b=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"],avatar:["avatar"]},Ap,t)})(v),y=i.Children.toArray(o).filter((e=>i.isValidElement(e))),w=f||y.length;w===g&&(g+=1),g=Math.min(w+1,g);const x=Math.min(y.length,g-1),_=Math.max(w-g,w-x,0),C=u?u(_):`+${_}`,k=null!=(n=d.additionalAvatar)?n:l.additionalAvatar;return(0,je.jsxs)(Ep,(0,_e.A)({as:a,ownerState:v,className:(0,ke.A)(b.root,s),ref:t},m,{children:[_?(0,je.jsx)(Sp,(0,_e.A)({variant:p},k,{className:(0,ke.A)(b.avatar,null==k?void 0:k.className),children:C})):null,y.slice(0,x).reverse().map((e=>i.cloneElement(e,{className:(0,ke.A)(e.props.className,b.avatar),variant:e.props.variant||p})))]}))})),Dp=Pp;const jp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:o,resumeHideDuration:s}=e,a=(0,Lt.A)();i.useEffect((()=>{if(o)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==r||r(e,"escapeKeyDown")}}),[o,r]);const l=(0,Do.A)(((e,t)=>{null==r||r(e,t)})),c=(0,Do.A)((e=>{r&&null!=e&&a.start(e,(()=>{l(null,"timeout")}))}));i.useEffect((()=>(o&&c(t),a.clear)),[o,t,c,a]);const u=a.clear,d=i.useCallback((()=>{null!=t&&c(null!=s?s:.5*t)}),[t,s,c]),h=e=>t=>{const n=e.onFocus;null==n||n(t),u()},f=e=>t=>{const n=e.onMouseEnter;null==n||n(t),u()},p=e=>t=>{const n=e.onMouseLeave;null==n||n(t),d()};return i.useEffect((()=>{if(!n&&o)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}}),[n,o,d,u]),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,_e.A)({},Br(e),Br(t));return(0,_e.A)({role:"presentation"},t,n,{onBlur:(r=n,e=>{const t=r.onBlur;null==t||t(e),d()}),onFocus:h(n),onMouseEnter:f(n),onMouseLeave:p(n)});var r},onClickAway:e=>{null==r||r(e,"clickaway")}}};function Op(e){return e.substring(2).toLowerCase()}function Rp(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:s="onTouchEnd"}=e,a=i.useRef(!1),l=i.useRef(null),c=i.useRef(!1),u=i.useRef(!1);i.useEffect((()=>(setTimeout((()=>{c.current=!0}),0),()=>{c.current=!1})),[]);const d=(0,gn.A)(t.ref,l),h=(0,Do.A)((e=>{const t=u.current;u.current=!1;const r=(0,bn.A)(l.current);if(!c.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,r))return;if(a.current)return void(a.current=!1);let i;i=e.composedPath?e.composedPath().indexOf(l.current)>-1:!r.documentElement.contains(e.target)||l.current.contains(e.target),i||!n&&t||o(e)})),f=e=>n=>{u.current=!0;const r=t.props[e];r&&r(n)},p={ref:d};return!1!==s&&(p[s]=f(s)),i.useEffect((()=>{if(!1!==s){const e=Op(s),t=(0,bn.A)(l.current),n=()=>{a.current=!0};return t.addEventListener(e,h),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,h),t.removeEventListener("touchmove",n)}}}),[h,s]),!1!==r&&(p[r]=f(r)),i.useEffect((()=>{if(!1!==r){const e=Op(r),t=(0,bn.A)(l.current);return t.addEventListener(e,h),()=>{t.removeEventListener(e,h)}}}),[h,r]),(0,je.jsx)(i.Fragment,{children:i.cloneElement(t,p)})}function Lp(e){return(0,He.Ay)("MuiSnackbar",e)}(0,Fe.A)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Np=["onEnter","onExited"],Bp=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Fp=(0,ft.Ay)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${(0,ht.A)(n.anchorOrigin.vertical)}${(0,ht.A)(n.anchorOrigin.horizontal)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===n.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===n.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===n.anchorOrigin.horizontal&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:(0,_e.A)({},"top"===n.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===n.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===n.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===n.anchorOrigin.horizontal&&{right:24,left:"auto"})})})),zp=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiSnackbar"}),r=yt(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:h,ContentProps:f,disableWindowBlurListener:p=!1,message:m,open:g,TransitionComponent:v=pn,transitionDuration:b=o,TransitionProps:{onEnter:y,onExited:w}={}}=n,x=(0,Ce.A)(n.TransitionProps,Np),_=(0,Ce.A)(n,Bp),C=(0,_e.A)({},n,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:p,TransitionComponent:v,transitionDuration:b}),k=(e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${(0,ht.A)(n.vertical)}${(0,ht.A)(n.horizontal)}`]};return(0,Ue.A)(r,Lp,t)})(C),{getRootProps:S,onClickAway:A}=jp((0,_e.A)({},C)),[T,I]=i.useState(!0),M=Hr({elementType:Fp,getSlotProps:S,externalForwardedProps:_,ownerState:C,additionalProps:{ref:t},className:[k.root,d]});return!g&&T?null:(0,je.jsx)(Rp,(0,_e.A)({onClickAway:A},h,{children:(0,je.jsx)(Fp,(0,_e.A)({},M,{children:(0,je.jsx)(v,(0,_e.A)({appear:!0,in:g,timeout:b,direction:"top"===a?"down":"up",onEnter:(e,t)=>{I(!1),y&&y(e,t)},onExited:e=>{I(!0),w&&w(e)}},x,{children:u||(0,je.jsx)(op,(0,_e.A)({message:m,action:s},f))}))}))}))})),Vp=zp;var Wp=n(6452),Hp=n(7991),Up=n(9826),$p=n(2505),Yp=n(446),Gp=n.n(Yp);n(8456);const qp=Nc("clubList/fetchClubList",(async()=>{const e=await fetch("http://localhost:4000/clubs");return await e.json()})),Xp=Nc("clubList/fetchGetClub",(async e=>{const t=await fetch(`http://localhost:4000/clubs/read2/${e}`);return await t.json()})),Zp=Nc("clubs/fetchGetClubMember",(async e=>{const t=await gh.post("http://localhost:4000/clubs/membersInfo",e);return await t.data})),Kp=Nc("meetingList/fetchMeetingList",(async e=>{const t=await fetch(`http://localhost:4000/meetings/${e}`);return await t.json()})),Qp=Nc("CategoryClubList/fetchCategoryClubList",(async e=>{const t=await fetch(`http://localhost:4000/clubs/category/${e}`);return await t.json()})),Jp=Hc({name:"clubList",initialState:{clubs:[],status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(qp.pending,(e=>{e.status="loading"})).addCase(qp.fulfilled,((e,t)=>{e.status="succeeded",e.clubs=t.payload})).addCase(qp.rejected,((e,t)=>{e.status="failed",e.error=t.error.message}))}}),em=Hc({name:"getClub",initialState:{clubs:{},status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(Xp.pending,(e=>{e.status="loading"})).addCase(Xp.fulfilled,((e,t)=>{e.status="succeeded",e.clubs=t.payload})).addCase(Xp.rejected,((e,t)=>{e.status="failed",e.error=t.error.message}))}}),tm=Hc({name:"getClubMember",initialState:{getClubMembers:{},status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(Zp.pending,(e=>{e.status="loading"})).addCase(Zp.fulfilled,((e,t)=>{e.status="succeeded",e.getClubMembers=t.payload})).addCase(Zp.rejected,((e,t)=>{e.status="failed",e.error=t.error.message}))}}),nm=Hc({name:"meetingList",initialState:{meetings:[],status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(Kp.pending,(e=>{e.status="loading"})).addCase(Kp.fulfilled,((e,t)=>{e.status="succeeded",e.meetings=t.payload})).addCase(Kp.rejected,((e,t)=>{e.status="failed",e.error=t.error.message}))}}),rm=Hc({name:"categoryClubList",initialState:{clubs:[],status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(Qp.pending,(e=>{e.status="loading"})).addCase(Qp.fulfilled,((e,t)=>{e.status="succeeded",e.clubs=t.payload})).addCase(Qp.rejected,((e,t)=>{e.status="failed",e.error=t.error.message}))}}),im=Jp.reducer,om=rm.reducer,sm=nm.reducer,am=em.reducer,lm=tm.reducer,cm=(0,ft.Ay)(la)((e=>{let{theme:t}=e;return{backgroundColor:"#DBC7B5",color:"white","&:hover":{backgroundColor:"#A67153"}}})),um=e=>{let{children:t,...n}=e;return(0,je.jsx)(cm,{...n,children:t})},dm=(0,ft.Ay)(la)((e=>{let{theme:t,variant:n}=e;return{backgroundColor:"#6E3C21",color:"white","&:hover":{backgroundColor:"#40190B"}}})),hm=e=>{let{children:t,...n}=e;return(0,je.jsx)(dm,{...n,children:t})};var fm=n(3690),pm=n(123),mm=n(6138),gm=n(7412),vm=n(3266),bm=n(9810),ym=n(1116),wm=n(8006),xm=n(4473),_m=n(3344),Cm=n(1834);const km=e=>{let{open:t,handleCloseModal:n,FadHandleClick:r}=e;const i=[{color:"#71ABF0",icon:(0,je.jsx)(mm.A,{sx:{width:"70px",height:"70px"}}),text:"\ud478\ub4dc\xb7\ub4dc\ub9c1\ud06c"},{color:"#DC6A5A",icon:(0,je.jsx)(bm.A,{sx:{width:"70px",height:"70px"}}),text:"\uc790\uae30\uacc4\ubc1c"},{color:"#9363D1",icon:(0,je.jsx)(gm.A,{sx:{width:"70px",height:"70px"}}),text:"\ucde8\ubbf8"},{color:"#D7E56E",icon:(0,je.jsx)(vm.A,{sx:{width:"70px",height:"70px"}}),text:"\uc561\ud2f0\ube44\ud2f0"},{color:"#EE7E8C",icon:(0,je.jsx)(wm.A,{sx:{width:"70px",height:"70px"}}),text:"\ud30c\ud2f0"},{color:"#4C5686",icon:(0,je.jsx)(ym.A,{sx:{width:"70px",height:"70px"}}),text:"\uc18c\uc15c\uac8c\uc784"},{color:"#F7D16E",icon:(0,je.jsx)(xm.A,{sx:{width:"70px",height:"70px"}}),text:"\ubb38\ud654\xb7\uc608\uc220"},{color:"#C25BA1",icon:(0,je.jsx)(_m.A,{sx:{width:"70px",height:"70px"}}),text:"N\uc7a1\xb7\uc7ac\ud14c\ud06c"},{color:"#DEB650",icon:(0,je.jsx)(Cm.A,{sx:{width:"70px",height:"70px"}}),text:"\uc5f0\uc560\xb7\uc0ac\ub791"},{color:"#78C17C",icon:(0,je.jsx)(mm.A,{sx:{width:"70px",height:"70px"}}),text:"\uc5ec\ud589\xb7\ub098\ub4e4\uc774"},{color:"#828ED6",icon:(0,je.jsx)(pm.A,{sx:{width:"70px",height:"70px"}}),text:"\ub3d9\ub124\xb7\ub610\ub798"},{color:"#8E44AD",icon:(0,je.jsx)(fm.A,{sx:{width:"70px",height:"70px"}}),text:"\uc678\uad6d\uc5b4"}];return(0,je.jsx)(We,{children:(0,je.jsx)(Go,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,je.jsxs)(We,{sx:{borderRadius:"30px",border:"2px #565903 solid ",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:520,width:650,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[(0,je.jsx)(Ks,{id:"modal-modal-title",variant:"h5",component:"h2",sx:{textAlign:"center",marginBottom:"20px",color:"#565903"},children:"\uad00\uc2ec\uc0ac \uc120\ud0dd"}),(0,je.jsx)(Pt,{container:!0,spacing:2,children:i.map(((e,t)=>(0,je.jsx)(Pt,{item:!0,xs:3,container:!0,justifyContent:"center",alignItems:"center",children:(0,je.jsxs)(We,{onClick:()=>{r(e.text)},sx:{display:"flex",flexDirection:"column",alignItems:"center",transition:"transform 0.3s","&:hover":{transform:"scale(1.05)",cursor:"pointer"}},children:[(0,je.jsx)(We,{sx:{textAlign:"center",backgroundColor:e.color,width:"100px",height:"100px",borderRadius:"50px",color:"white",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"8px",transition:"background-color 0.3s","&:hover":{backgroundColor:e.color+"BF"}},children:e.icon}),(0,je.jsx)(Ks,{sx:{textAlign:"center",fontSize:"18px",fontWeight:"550"},children:e.text})]})},t)))})]})})})};var Sm=n(7868),Am=n(3468);const Tm=["onChange","maxRows","minRows","style","value"];function Im(e){return parseInt(e,10)||0}const Mm={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const Em=i.forwardRef((function(e,t){const{onChange:n,maxRows:r,minRows:o=1,style:s,value:a}=e,l=(0,Ce.A)(e,Tm),{current:c}=i.useRef(null!=a),u=i.useRef(null),d=(0,gn.A)(t,u),h=i.useRef(null),f=i.useRef(null),p=i.useCallback((()=>{const t=u.current,n=(0,Oo.A)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};const i=f.current;i.style.width=n.width,i.value=t.value||e.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");const s=n.boxSizing,a=Im(n.paddingBottom)+Im(n.paddingTop),l=Im(n.borderBottomWidth)+Im(n.borderTopWidth),c=i.scrollHeight;i.value="x";const d=i.scrollHeight;let h=c;o&&(h=Math.max(Number(o)*d,h)),r&&(h=Math.min(Number(r)*d,h)),h=Math.max(h,d);return{outerHeightStyle:h+("border-box"===s?a+l:0),overflowing:Math.abs(h-c)<=1}}),[r,o,e.placeholder]),m=i.useCallback((()=>{const e=p();if(void 0===(t=e)||null===t||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;var t;const n=e.outerHeightStyle,r=u.current;h.current!==n&&(h.current=n,r.style.height=`${n}px`),r.style.overflow=e.overflowing?"hidden":""}),[p]);(0,vn.A)((()=>{const e=()=>{m()};let t;const n=(0,Am.A)(e),r=u.current,i=(0,Oo.A)(r);let o;return i.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(o=new ResizeObserver(e),o.observe(r)),()=>{n.clear(),cancelAnimationFrame(t),i.removeEventListener("resize",n),o&&o.disconnect()}}),[p,m]),(0,vn.A)((()=>{m()}));return(0,je.jsxs)(i.Fragment,{children:[(0,je.jsx)("textarea",(0,_e.A)({value:a,onChange:e=>{c||m(),n&&n(e)},ref:d,rows:o,style:s},l)),(0,je.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:(0,_e.A)({},Mm,s,{paddingTop:0,paddingBottom:0})})]})})),Pm=Em;function Dm(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const jm=i.createContext(void 0);function Om(){return i.useContext(jm)}var Rm=n(869);const Lm=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=De(r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,je.jsx)(Rm.A,{styles:o})};const Nm=function(e){return(0,je.jsx)(Lm,(0,_e.A)({},e,{defaultTheme:bt.A,themeId:Be.A}))};function Bm(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Fm(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Bm(e.value)&&""!==e.value||t&&Bm(e.defaultValue)&&""!==e.defaultValue)}function zm(e){return(0,He.Ay)("MuiInputBase",e)}const Vm=(0,Fe.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Wm=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Hm=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${(0,ht.A)(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Um=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},$m=(0,ft.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Hm})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Vm.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,_e.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),Ym=(0,ft.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Um})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,i=(0,_e.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),o={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,_e.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Vm.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Vm.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),Gm=(0,je.jsx)(Nm,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),qm=i.forwardRef((function(e,t){var n;const r=(0,pt.b)({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:p,fullWidth:m=!1,id:g,inputComponent:v="input",inputProps:b={},inputRef:y,maxRows:w,minRows:x,multiline:_=!1,name:C,onBlur:k,onChange:S,onClick:A,onFocus:T,onKeyDown:I,onKeyUp:M,placeholder:E,readOnly:P,renderSuffix:D,rows:j,slotProps:O={},slots:R={},startAdornment:L,type:N="text",value:B}=r,F=(0,Ce.A)(r,Wm),z=null!=b.value?b.value:B,{current:V}=i.useRef(null!=z),W=i.useRef(),H=i.useCallback((e=>{0}),[]),U=(0,ln.A)(W,y,b.ref,H),[$,Y]=i.useState(!1),G=Om();const q=Dm({props:r,muiFormControl:G,states:["color","disabled","error","hiddenLabel","size","required","filled"]});q.focused=G?G.focused:$,i.useEffect((()=>{!G&&h&&$&&(Y(!1),k&&k())}),[G,h,$,k]);const X=G&&G.onFilled,Z=G&&G.onEmpty,K=i.useCallback((e=>{Fm(e)?X&&X():Z&&Z()}),[X,Z]);(0,co.A)((()=>{V&&K({value:z})}),[z,K,V]);i.useEffect((()=>{K(W.current)}),[]);let Q=v,J=b;_&&"input"===Q&&(J=j?(0,_e.A)({type:void 0,minRows:j,maxRows:j},J):(0,_e.A)({type:void 0,maxRows:w,minRows:x},J),Q=Pm);i.useEffect((()=>{G&&G.setAdornedStart(Boolean(L))}),[G,L]);const ee=(0,_e.A)({},r,{color:q.color||"primary",disabled:q.disabled,endAdornment:p,error:q.error,focused:q.focused,formControl:G,fullWidth:m,hiddenLabel:q.hiddenLabel,multiline:_,size:q.size,startAdornment:L,type:N}),te=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:f,type:p}=e,m={root:["root",`color${(0,ht.A)(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&`size${(0,ht.A)(h)}`,u&&"multiline",f&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return(0,Ue.A)(m,zm,t)})(ee),ne=R.root||c.Root||$m,re=O.root||u.root||{},ie=R.input||c.Input||Ym;return J=(0,_e.A)({},J,null!=(n=O.input)?n:u.input),(0,je.jsxs)(i.Fragment,{children:[!f&&Gm,(0,je.jsxs)(ne,(0,_e.A)({},re,!Wt(ne)&&{ownerState:(0,_e.A)({},ee,re.ownerState)},{ref:t,onClick:e=>{W.current&&e.currentTarget===e.target&&W.current.focus(),A&&A(e)}},F,{className:(0,ke.A)(te.root,re.className,l,P&&"MuiInputBase-readOnly"),children:[L,(0,je.jsx)(jm.Provider,{value:null,children:(0,je.jsx)(ie,(0,_e.A)({ownerState:ee,"aria-invalid":q.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:d,disabled:q.disabled,id:g,onAnimationStart:e=>{K("mui-auto-fill-cancel"===e.animationName?W.current:{value:"x"})},name:C,placeholder:E,readOnly:P,required:q.required,rows:j,value:z,onKeyDown:I,onKeyUp:M,type:N},J,!Wt(ie)&&{as:Q,ownerState:(0,_e.A)({},ee,J.ownerState)},{ref:U,className:(0,ke.A)(te.input,J.className,P&&"MuiInputBase-readOnly"),onBlur:e=>{k&&k(e),b.onBlur&&b.onBlur(e),G&&G.onBlur?G.onBlur(e):Y(!1)},onChange:function(e){if(!V){const t=e.target||W.current;if(null==t)throw new Error((0,Sm.A)(1));K({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];b.onChange&&b.onChange(e,...n),S&&S(e,...n)},onFocus:e=>{q.disabled?e.stopPropagation():(T&&T(e),b.onFocus&&b.onFocus(e),G&&G.onFocus?G.onFocus(e):Y(!0))}}))}),p,D?D((0,_e.A)({},q,{startAdornment:L})):null]}))]})})),Xm=qm;function Zm(e){return(0,He.Ay)("MuiInput",e)}const Km=(0,_e.A)({},Vm,(0,Fe.A)("MuiInput",["root","underline","input"])),Qm=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Jm=(0,ft.Ay)($m,{shouldForwardProp:e=>(0,ds.A)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Hm(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),(0,_e.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Km.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Km.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Km.disabled}, .${Km.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Km.disabled}:before`]:{borderBottomStyle:"dotted"}})})),eg=(0,ft.Ay)(Ym,{name:"MuiInput",slot:"Input",overridesResolver:Um})({}),tg=i.forwardRef((function(e,t){var n,r,i,o;const s=(0,pt.b)({props:e,name:"MuiInput"}),{disableUnderline:a,components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:p={},type:m="text"}=s,g=(0,Ce.A)(s,Qm),v=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},i=(0,Ue.A)(r,Zm,t);return(0,_e.A)({},t,i)})(s),b={root:{ownerState:{disableUnderline:a}}},y=(null!=f?f:c)?(0,Xe.A)(null!=f?f:c,b):b,w=null!=(n=null!=(r=p.root)?r:l.Root)?n:Jm,x=null!=(i=null!=(o=p.input)?o:l.Input)?i:eg;return(0,je.jsx)(Xm,(0,_e.A)({slots:{root:w,input:x},slotProps:y,fullWidth:u,inputComponent:d,multiline:h,ref:t,type:m},g,{classes:v}))}));tg.muiName="Input";const ng=tg;function rg(e){return(0,He.Ay)("MuiFilledInput",e)}const ig=(0,_e.A)({},Vm,(0,Fe.A)("MuiFilledInput",["root","underline","input"])),og=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],sg=(0,ft.Ay)($m,{shouldForwardProp:e=>(0,ds.A)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Hm(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var r;const i="light"===t.palette.mode,o=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,_e.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${ig.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${ig.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ig.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ig.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ig.disabled}, .${ig.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ig.disabled}:before`]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,_e.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),ag=(0,ft.Ay)(Ym,{name:"MuiFilledInput",slot:"Input",overridesResolver:Um})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),lg=i.forwardRef((function(e,t){var n,r,i,o;const s=(0,pt.b)({props:e,name:"MuiFilledInput"}),{components:a={},componentsProps:l,fullWidth:c=!1,inputComponent:u="input",multiline:d=!1,slotProps:h,slots:f={},type:p="text"}=s,m=(0,Ce.A)(s,og),g=(0,_e.A)({},s,{fullWidth:c,inputComponent:u,multiline:d,type:p}),v=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},i=(0,Ue.A)(r,rg,t);return(0,_e.A)({},t,i)})(s),b={root:{ownerState:g},input:{ownerState:g}},y=(null!=h?h:l)?(0,Xe.A)(b,null!=h?h:l):b,w=null!=(n=null!=(r=f.root)?r:a.Root)?n:sg,x=null!=(i=null!=(o=f.input)?o:a.Input)?i:ag;return(0,je.jsx)(Xm,(0,_e.A)({slots:{root:w,input:x},componentsProps:y,fullWidth:c,inputComponent:u,multiline:d,ref:t,type:p},m,{classes:v}))}));lg.muiName="Input";const cg=lg;var ug;const dg=["children","classes","className","label","notched"],hg=(0,ft.Ay)("fieldset",{shouldForwardProp:ds.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),fg=(0,ft.Ay)("legend",{shouldForwardProp:ds.A})((e=>{let{ownerState:t,theme:n}=e;return(0,_e.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,_e.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function pg(e){return(0,He.Ay)("MuiOutlinedInput",e)}const mg=(0,_e.A)({},Vm,(0,Fe.A)("MuiOutlinedInput",["root","notchedOutline","input"])),gg=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],vg=(0,ft.Ay)($m,{shouldForwardProp:e=>(0,ds.A)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:Hm})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,_e.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${mg.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${mg.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${mg.focused} .${mg.notchedOutline}`]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},[`&.${mg.error} .${mg.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${mg.disabled} .${mg.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,_e.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),bg=(0,ft.Ay)((function(e){const{className:t,label:n,notched:r}=e,i=(0,Ce.A)(e,dg),o=null!=n&&""!==n,s=(0,_e.A)({},e,{notched:r,withLabel:o});return(0,je.jsx)(hg,(0,_e.A)({"aria-hidden":!0,className:t,ownerState:s},i,{children:(0,je.jsx)(fg,{ownerState:s,children:o?(0,je.jsx)("span",{children:n}):ug||(ug=(0,je.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}})),yg=(0,ft.Ay)(Ym,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Um})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),wg=i.forwardRef((function(e,t){var n,r,o,s,a;const l=(0,pt.b)({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:p,slots:m={},type:g="text"}=l,v=(0,Ce.A)(l,gg),b=(e=>{const{classes:t}=e,n=(0,Ue.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},pg,t);return(0,_e.A)({},t,n)})(l),y=Om(),w=Dm({props:l,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x=(0,_e.A)({},l,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:y,fullWidth:u,hiddenLabel:w.hiddenLabel,multiline:f,size:w.size,type:g}),_=null!=(n=null!=(r=m.root)?r:c.Root)?n:vg,C=null!=(o=null!=(s=m.input)?s:c.Input)?o:yg;return(0,je.jsx)(Xm,(0,_e.A)({slots:{root:_,input:C},renderSuffix:e=>(0,je.jsx)(bg,{ownerState:x,className:b.notchedOutline,label:null!=h&&""!==h&&w.required?a||(a=(0,je.jsxs)(i.Fragment,{children:[h,"\u2009","*"]})):h,notched:"undefined"!==typeof p?p:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:u,inputComponent:d,multiline:f,ref:t,type:g},v,{classes:(0,_e.A)({},b,{notchedOutline:null})}))}));wg.muiName="Input";const xg=wg;function _g(e){return(0,He.Ay)("MuiFormLabel",e)}const Cg=(0,Fe.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),kg=["children","className","color","component","disabled","error","filled","focused","required"],Sg=(0,ft.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,_e.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Cg.focused}`]:{color:(t.vars||t).palette[n.color].main},[`&.${Cg.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Cg.error}`]:{color:(t.vars||t).palette.error.main}})})),Ag=(0,ft.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{[`&.${Cg.error}`]:{color:(t.vars||t).palette.error.main}}})),Tg=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiFormLabel"}),{children:r,className:i,component:o="label"}=n,s=(0,Ce.A)(n,kg),a=Dm({props:n,muiFormControl:Om(),states:["color","required","focused","disabled","error","filled"]}),l=(0,_e.A)({},n,{color:a.color||"primary",component:o,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e,l={root:["root",`color${(0,ht.A)(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return(0,Ue.A)(l,_g,t)})(l);return(0,je.jsxs)(Sg,(0,_e.A)({as:o,ownerState:l,className:(0,ke.A)(c.root,i),ref:t},s,{children:[r,a.required&&(0,je.jsxs)(Ag,{ownerState:l,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))})),Ig=Tg;function Mg(e){return(0,He.Ay)("MuiInputLabel",e)}(0,Fe.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Eg=["disableAnimation","margin","shrink","variant","className"],Pg=(0,ft.Ay)(Ig,{shouldForwardProp:e=>(0,ds.A)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Cg.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,_e.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,_e.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,_e.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Dg=i.forwardRef((function(e,t){const n=(0,pt.b)({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:i,className:o}=n,s=(0,Ce.A)(n,Eg),a=Om();let l=i;"undefined"===typeof l&&a&&(l=a.filled||a.focused||a.adornedStart);const c=Dm({props:n,muiFormControl:a,states:["size","variant","required","focused"]}),u=(0,_e.A)({},n,{disableAnimation:r,formControl:a,shrink:l,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),d=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&"normal"!==r&&`size${(0,ht.A)(r)}`,s],asterisk:[a&&"asterisk"]},c=(0,Ue.A)(l,Mg,t);return(0,_e.A)({},t,c)})(u);return(0,je.jsx)(Pg,(0,_e.A)({"data-shrink":l,ownerState:u,ref:t,className:(0,ke.A)(d.root,o)},s,{classes:d}))})),jg=Dg;var Og=n(7328);function Rg(e){return(0,He.Ay)("MuiFormControl",e)}(0,Fe.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Lg=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Ng=(0,ft.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,_e.A)({},t.root,t[`margin${(0,ht.A)(n.margin)}`],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,_e.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),Bg=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiFormControl"}),{children:r,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:m="medium",variant:g="outlined"}=n,v=(0,Ce.A)(n,Lg),b=(0,_e.A)({},n,{color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:m,variant:g}),y=(e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root","none"!==n&&`margin${(0,ht.A)(n)}`,r&&"fullWidth"]};return(0,Ue.A)(i,Rg,t)})(b),[w,x]=i.useState((()=>{let e=!1;return r&&i.Children.forEach(r,(t=>{if(!(0,Og.A)(t,["Input","Select"]))return;const n=(0,Og.A)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[_,C]=i.useState((()=>{let e=!1;return r&&i.Children.forEach(r,(t=>{(0,Og.A)(t,["Input","Select"])&&(Fm(t.props,!0)||Fm(t.props.inputProps,!0))&&(e=!0)})),e})),[k,S]=i.useState(!1);l&&k&&S(!1);const A=void 0===u||l?k:u;let T;const I=i.useMemo((()=>({adornedStart:w,setAdornedStart:x,color:s,disabled:l,error:c,filled:_,focused:A,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{S(!1)},onEmpty:()=>{C(!1)},onFilled:()=>{C(!0)},onFocus:()=>{S(!0)},registerEffect:T,required:p,variant:g})),[w,s,l,c,_,A,d,h,T,p,m,g]);return(0,je.jsx)(jm.Provider,{value:I,children:(0,je.jsx)(Ng,(0,_e.A)({as:a,ownerState:b,className:(0,ke.A)(y.root,o),ref:t},v,{children:r}))})})),Fg=Bg;function zg(e){return(0,He.Ay)("MuiFormHelperText",e)}const Vg=(0,Fe.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Wg;const Hg=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Ug=(0,ft.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${(0,ht.A)(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Vg.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Vg.error}`]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),$g=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:o="p"}=n,s=(0,Ce.A)(n,Hg),a=Dm({props:n,muiFormControl:Om(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,_e.A)({},n,{component:o,contained:"filled"===a.variant||"outlined"===a.variant,variant:a.variant,size:a.size,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=e,c={root:["root",i&&"disabled",o&&"error",r&&`size${(0,ht.A)(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return(0,Ue.A)(c,zg,t)})(l);return(0,je.jsx)(Ug,(0,_e.A)({as:o,ownerState:l,className:(0,ke.A)(c.root,i),ref:t},s,{children:" "===r?Wg||(Wg=(0,je.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),Yg=$g;function Gg(e){return(0,He.Ay)("MuiNativeSelect",e)}const qg=(0,Fe.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Xg=["className","disabled","error","IconComponent","inputRef","variant"],Zg=e=>{let{ownerState:t,theme:n}=e;return(0,_e.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,_e.A)({},n.vars?{backgroundColor:`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${qg.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},Kg=(0,ft.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ds.A,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${qg.multiple}`]:t.multiple}]}})(Zg),Qg=e=>{let{ownerState:t,theme:n}=e;return(0,_e.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${qg.disabled}`]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},Jg=(0,ft.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,ht.A)(n.variant)}`],n.open&&t.iconOpen]}})(Qg),ev=i.forwardRef((function(e,t){const{className:n,disabled:r,error:o,IconComponent:s,inputRef:a,variant:l="standard"}=e,c=(0,Ce.A)(e,Xg),u=(0,_e.A)({},e,{disabled:r,variant:l,error:o}),d=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${(0,ht.A)(n)}`,o&&"iconOpen",r&&"disabled"]};return(0,Ue.A)(a,Gg,t)})(u);return(0,je.jsxs)(i.Fragment,{children:[(0,je.jsx)(Kg,(0,_e.A)({ownerState:u,className:(0,ke.A)(d.select,n),disabled:r,ref:a||t},c)),e.multiple?null:(0,je.jsx)(Jg,{as:s,ownerState:u,className:d.icon})]})})),tv=ev;var nv=n(7123);function rv(e){return(0,He.Ay)("MuiSelect",e)}const iv=(0,Fe.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var ov;const sv=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],av=(0,ft.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${iv.select}`]:t.select},{[`&.${iv.select}`]:t[n.variant]},{[`&.${iv.error}`]:t.error},{[`&.${iv.multiple}`]:t.multiple}]}})(Zg,{[`&.${iv.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),lv=(0,ft.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,ht.A)(n.variant)}`],n.open&&t.iconOpen]}})(Qg),cv=(0,ft.Ay)("input",{shouldForwardProp:e=>(0,nv.A)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function uv(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function dv(e){return null==e||"string"===typeof e&&!e.trim()}const hv=i.forwardRef((function(e,t){var n;const{"aria-describedby":r,"aria-label":o,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:f,error:p=!1,IconComponent:m,inputRef:g,labelId:v,MenuProps:b={},multiple:y,name:w,onBlur:x,onChange:_,onClose:C,onFocus:k,onOpen:S,open:A,readOnly:T,renderValue:I,SelectDisplayProps:M={},tabIndex:E,value:P,variant:D="standard"}=e,j=(0,Ce.A)(e,sv),[O,R]=(0,li.A)({controlled:P,default:d,name:"Select"}),[L,N]=(0,li.A)({controlled:A,default:u,name:"Select"}),B=i.useRef(null),F=i.useRef(null),[z,V]=i.useState(null),{current:W}=i.useRef(null!=A),[H,U]=i.useState(),$=(0,ln.A)(t,g),Y=i.useCallback((e=>{F.current=e,e&&V(e)}),[]),G=null==z?void 0:z.parentNode;i.useImperativeHandle($,(()=>({focus:()=>{F.current.focus()},node:B.current,value:O})),[O]),i.useEffect((()=>{u&&L&&z&&!W&&(U(a?null:G.clientWidth),F.current.focus())}),[z,a]),i.useEffect((()=>{s&&F.current.focus()}),[s]),i.useEffect((()=>{if(!v)return;const e=(0,to.A)(F.current).getElementById(v);if(e){const t=()=>{getSelection().isCollapsed&&F.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[v]);const q=(e,t)=>{e?S&&S(t):C&&C(t),W||(U(a?null:G.clientWidth),N(e))},X=i.Children.toArray(l),Z=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(y){n=Array.isArray(O)?O.slice():[];const t=O.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),O!==n&&(R(n),_)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:w}}),_(i,e)}y||q(!1,t)}},K=null!==z&&L;let Q,J;delete j["aria-invalid"];const ee=[];let te=!1,ne=!1;(Fm({value:O})||f)&&(I?Q=I(O):te=!0);const re=X.map((e=>{if(!i.isValidElement(e))return null;let t;if(y){if(!Array.isArray(O))throw new Error((0,Sm.A)(2));t=O.some((t=>uv(t,e.props.value))),t&&te&&ee.push(e.props.children)}else t=uv(O,e.props.value),t&&te&&(J=e.props.children);return t&&(ne=!0),i.cloneElement(e,{"aria-selected":t?"true":"false",onClick:Z(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));te&&(Q=y?0===ee.length?null:ee.reduce(((e,t,n)=>(e.push(t),n<ee.length-1&&e.push(", "),e)),[]):J);let ie,oe=H;!a&&W&&z&&(oe=G.clientWidth),ie="undefined"!==typeof E?E:h?null:0;const se=M.id||(w?`mui-component-select-${w}`:void 0),ae=(0,_e.A)({},e,{variant:D,value:O,open:K,error:p}),le=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${(0,ht.A)(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,Ue.A)(a,rv,t)})(ae),ce=(0,_e.A)({},b.PaperProps,null==(n=b.slotProps)?void 0:n.paper),ue=(0,ca.A)();return(0,je.jsxs)(i.Fragment,{children:[(0,je.jsx)(av,(0,_e.A)({ref:Y,tabIndex:ie,role:"combobox","aria-controls":ue,"aria-disabled":h?"true":void 0,"aria-expanded":K?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,se].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:e=>{if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),q(!0,e))}},onMouseDown:h||T?null:e=>{0===e.button&&(e.preventDefault(),F.current.focus(),q(!0,e))},onBlur:e=>{!K&&x&&(Object.defineProperty(e,"target",{writable:!0,value:{value:O,name:w}}),x(e))},onFocus:k},M,{ownerState:ae,className:(0,ke.A)(M.className,le.select,c),id:se,children:dv(Q)?ov||(ov=(0,je.jsx)("span",{className:"notranslate",children:"\u200b"})):Q})),(0,je.jsx)(cv,(0,_e.A)({"aria-invalid":p,value:Array.isArray(O)?O.join(","):O,name:w,ref:B,"aria-hidden":!0,onChange:e=>{const t=X.find((t=>t.props.value===e.target.value));void 0!==t&&(R(t.props.value),_&&_(e,t))},tabIndex:-1,disabled:h,className:le.nativeInput,autoFocus:s,ownerState:ae},j)),(0,je.jsx)(lv,{as:m,className:le.icon,ownerState:ae}),(0,je.jsx)(ws,(0,_e.A)({id:`menu-${w||""}`,anchorEl:G,open:K,onClose:e=>{q(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},b,{MenuListProps:(0,_e.A)({"aria-labelledby":v,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:ue},b.MenuListProps),slotProps:(0,_e.A)({},b.slotProps,{paper:(0,_e.A)({},ce,{style:(0,_e.A)({minWidth:oe},null!=ce?ce.style:null)})}),children:re}))]})})),fv=hv,pv=(0,hp.A)((0,je.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),mv=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],gv=["root"],vv={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,ds.A)(e)&&"variant"!==e,slot:"Root"},bv=(0,ft.Ay)(ng,vv)(""),yv=(0,ft.Ay)(xg,vv)(""),wv=(0,ft.Ay)(cg,vv)(""),xv=i.forwardRef((function(e,t){const n=(0,pt.b)({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=pv,id:d,input:h,inputProps:f,label:p,labelId:m,MenuProps:g,multiple:v=!1,native:b=!1,onClose:y,onOpen:w,open:x,renderValue:_,SelectDisplayProps:C,variant:k="outlined"}=n,S=(0,Ce.A)(n,mv),A=b?tv:fv,T=Dm({props:n,muiFormControl:Om(),states:["variant","error"]}),I=T.variant||k,M=(0,_e.A)({},n,{variant:I,classes:s}),E=(e=>{const{classes:t}=e;return t})(M),P=(0,Ce.A)(E,gv),D=h||{standard:(0,je.jsx)(bv,{ownerState:M}),outlined:(0,je.jsx)(yv,{label:p,ownerState:M}),filled:(0,je.jsx)(wv,{ownerState:M})}[I],j=(0,ln.A)(t,D.ref);return(0,je.jsx)(i.Fragment,{children:i.cloneElement(D,(0,_e.A)({inputComponent:A,inputProps:(0,_e.A)({children:o,error:T.error,IconComponent:u,variant:I,type:void 0,multiple:v},b?{id:d}:{autoWidth:r,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:g,onClose:y,onOpen:w,open:x,renderValue:_,SelectDisplayProps:(0,_e.A)({id:d},C)},f,{classes:f?(0,Xe.A)(P,f.classes):P},h?h.props.inputProps:{})},(v&&b||c)&&"outlined"===I?{notched:!0}:{},{ref:j,className:(0,ke.A)(D.props.className,a,E.root)},!h&&{variant:I},S))})}));xv.muiName="Select";const _v=xv;function Cv(e){return(0,He.Ay)("MuiTextField",e)}const kv=(0,Fe.A)("MuiTextField",["root"]),Sv=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Av={standard:ng,filled:cg,outlined:xg},Tv=(0,ft.Ay)(Fg,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Iv=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:s,color:a="primary",defaultValue:l,disabled:c=!1,error:u=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:f,id:p,InputLabelProps:m,inputProps:g,InputProps:v,inputRef:b,label:y,maxRows:w,minRows:x,multiline:_=!1,name:C,onBlur:k,onChange:S,onFocus:A,placeholder:T,required:I=!1,rows:M,select:E=!1,SelectProps:P,type:D,value:j,variant:O="outlined"}=n,R=(0,Ce.A)(n,Sv),L=(0,_e.A)({},n,{autoFocus:i,color:a,disabled:c,error:u,fullWidth:h,multiline:_,required:I,select:E,variant:O}),N=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"]},Cv,t)})(L);const B={};"outlined"===O&&(m&&"undefined"!==typeof m.shrink&&(B.notched=m.shrink),B.label=y),E&&(P&&P.native||(B.id=void 0),B["aria-describedby"]=void 0);const F=(0,ca.A)(p),z=f&&F?`${F}-helper-text`:void 0,V=y&&F?`${F}-label`:void 0,W=Av[O],H=(0,je.jsx)(W,(0,_e.A)({"aria-describedby":z,autoComplete:r,autoFocus:i,defaultValue:l,fullWidth:h,multiline:_,name:C,rows:M,maxRows:w,minRows:x,type:D,value:j,id:F,inputRef:b,onBlur:k,onChange:S,onFocus:A,placeholder:T,inputProps:g},B,v));return(0,je.jsxs)(Tv,(0,_e.A)({className:(0,ke.A)(N.root,s),disabled:c,error:u,fullWidth:h,ref:t,required:I,color:a,variant:O,ownerState:L},R,{children:[null!=y&&""!==y&&(0,je.jsx)(jg,(0,_e.A)({htmlFor:F,id:V},m,{children:y})),E?(0,je.jsx)(_v,(0,_e.A)({"aria-describedby":z,id:F,labelId:V,value:j,input:H},P,{children:o})):H,f&&(0,je.jsx)(Yg,(0,_e.A)({id:z},d,{children:f}))]}))})),Mv=Iv;function Ev(e){return(0,He.Ay)("PrivateSwitchBase",e)}(0,Fe.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Pv=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Dv=(0,ft.Ay)(qi)((e=>{let{ownerState:t}=e;return(0,_e.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),jv=(0,ft.Ay)("input",{shouldForwardProp:ds.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Ov=i.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:i,className:o,defaultChecked:s,disabled:a,disableFocusRipple:l=!1,edge:c=!1,icon:u,id:d,inputProps:h,inputRef:f,name:p,onBlur:m,onChange:g,onFocus:v,readOnly:b,required:y=!1,tabIndex:w,type:x,value:_}=e,C=(0,Ce.A)(e,Pv),[k,S]=(0,li.A)({controlled:r,default:Boolean(s),name:"SwitchBase",state:"checked"}),A=Om();let T=a;A&&"undefined"===typeof T&&(T=A.disabled);const I="checkbox"===x||"radio"===x,M=(0,_e.A)({},e,{checked:k,disabled:T,disableFocusRipple:l,edge:c}),E=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${(0,ht.A)(i)}`],input:["input"]};return(0,Ue.A)(o,Ev,t)})(M);return(0,je.jsxs)(Dv,(0,_e.A)({component:"span",className:(0,ke.A)(E.root,o),centerRipple:!0,focusRipple:!l,disabled:T,tabIndex:null,role:void 0,onFocus:e=>{v&&v(e),A&&A.onFocus&&A.onFocus(e)},onBlur:e=>{m&&m(e),A&&A.onBlur&&A.onBlur(e)},ownerState:M,ref:t},C,{children:[(0,je.jsx)(jv,(0,_e.A)({autoFocus:n,checked:r,defaultChecked:s,className:E.input,disabled:T,id:I?d:void 0,name:p,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;S(t),g&&g(e,t)},readOnly:b,ref:f,required:y,ownerState:M,tabIndex:w,type:x},"checkbox"===x&&void 0===_?{}:{value:_},h)),k?i:u]}))})),Rv=Ov,Lv=(0,hp.A)((0,je.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Nv=(0,hp.A)((0,je.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Bv=(0,hp.A)((0,je.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Fv(e){return(0,He.Ay)("MuiCheckbox",e)}const zv=(0,Fe.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Vv=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Wv=(0,ft.Ay)(Rv,{shouldForwardProp:e=>(0,ds.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${(0,ht.A)(n.size)}`],"default"!==n.color&&t[`color${(0,ht.A)(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${"default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Nt.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{[`&.${zv.checked}, &.${zv.indeterminate}`]:{color:(t.vars||t).palette[n.color].main},[`&.${zv.disabled}`]:{color:(t.vars||t).palette.action.disabled}})})),Hv=(0,je.jsx)(Nv,{}),Uv=(0,je.jsx)(Lv,{}),$v=(0,je.jsx)(Bv,{}),Yv=i.forwardRef((function(e,t){var n,r;const o=(0,pt.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:s=Hv,color:a="primary",icon:l=Uv,indeterminate:c=!1,indeterminateIcon:u=$v,inputProps:d,size:h="medium",className:f}=o,p=(0,Ce.A)(o,Vv),m=c?u:l,g=c?u:s,v=(0,_e.A)({},o,{color:a,indeterminate:c,size:h}),b=(e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,o={root:["root",n&&"indeterminate",`color${(0,ht.A)(r)}`,`size${(0,ht.A)(i)}`]},s=(0,Ue.A)(o,Fv,t);return(0,_e.A)({},t,s)})(v);return(0,je.jsx)(Wv,(0,_e.A)({type:"checkbox",inputProps:(0,_e.A)({"data-indeterminate":c},d),icon:i.cloneElement(m,{fontSize:null!=(n=m.props.fontSize)?n:h}),checkedIcon:i.cloneElement(g,{fontSize:null!=(r=g.props.fontSize)?r:h}),ownerState:v,ref:t,className:(0,ke.A)(b.root,f)},p,{classes:b}))})),Gv=Yv;var qv=e=>"checkbox"===e.type,Xv=e=>e instanceof Date,Zv=e=>null==e;const Kv=e=>"object"===typeof e;var Qv=e=>!Zv(e)&&!Array.isArray(e)&&Kv(e)&&!Xv(e),Jv=e=>Qv(e)&&e.target?qv(e.target)?e.target.checked:e.target.value:e,eb=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),tb=e=>{const t=e.constructor&&e.constructor.prototype;return Qv(t)&&t.hasOwnProperty("isPrototypeOf")},nb="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function rb(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(nb&&(e instanceof Blob||e instanceof FileList)||!n&&!Qv(e))return e;if(t=n?[]:{},n||tb(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=rb(e[n]));else t=e}return t}var ib=e=>Array.isArray(e)?e.filter(Boolean):[],ob=e=>void 0===e,sb=(e,t,n)=>{if(!t||!Qv(e))return n;const r=ib(t.split(/[,[\].]+?/)).reduce(((e,t)=>Zv(e)?e:e[t]),e);return ob(r)||r===e?ob(e[t])?n:e[t]:r},ab=e=>"boolean"===typeof e,lb=e=>/^\w*$/.test(e),cb=e=>ib(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ub=(e,t,n)=>{let r=-1;const i=lb(t)?[t]:cb(t),o=i.length,s=o-1;for(;++r<o;){const t=i[r];let o=n;if(r!==s){const n=e[t];o=Qv(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t)return;e[t]=o,e=e[t]}return e};const db={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},hb={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fb="max",pb="min",mb="maxLength",gb="minLength",vb="pattern",bb="required",yb="validate",wb=i.createContext(null),xb=()=>i.useContext(wb);var _b=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const i=o;return t._proxyFormState[i]!==hb.all&&(t._proxyFormState[i]=!r||hb.all),n&&(n[i]=!0),e[i]}});return i},Cb=e=>Qv(e)&&!Object.keys(e).length,kb=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return Cb(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find((e=>t[e]===(!r||hb.all)))},Sb=e=>Array.isArray(e)?e:[e],Ab=(e,t,n)=>!e||!t||e===t||Sb(e).some((e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e))));function Tb(e){const t=i.useRef(e);t.current=e,i.useEffect((()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}}),[e.disabled])}var Ib=e=>"string"===typeof e,Mb=(e,t,n,r,i)=>Ib(e)?(r&&t.watch.add(e),sb(n,e,i)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),sb(n,e)))):(r&&(t.watchAll=!0),n);function Eb(e){const t=xb(),{name:n,disabled:r,control:o=t.control,shouldUnregister:s}=e,a=eb(o._names.array,n),l=function(e){const t=xb(),{control:n=t.control,name:r,defaultValue:o,disabled:s,exact:a}=e||{},l=i.useRef(r);l.current=r,Tb({disabled:s,subject:n._subjects.values,next:e=>{Ab(l.current,e.name,a)&&u(rb(Mb(l.current,n._names,e.values||n._formValues,!1,o)))}});const[c,u]=i.useState(n._getWatch(r,o));return i.useEffect((()=>n._removeUnmounted())),c}({control:o,name:n,defaultValue:sb(o._formValues,n,sb(o._defaultValues,n,e.defaultValue)),exact:!0}),c=function(e){const t=xb(),{control:n=t.control,disabled:r,name:o,exact:s}=e||{},[a,l]=i.useState(n._formState),c=i.useRef(!0),u=i.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=i.useRef(o);return d.current=o,Tb({disabled:r,next:e=>c.current&&Ab(d.current,e.name,s)&&kb(e,u.current,n._updateFormState)&&l({...n._formState,...e}),subject:n._subjects.state}),i.useEffect((()=>(c.current=!0,u.current.isValid&&n._updateValid(!0),()=>{c.current=!1})),[n]),_b(a,n,u.current,!1)}({control:o,name:n,exact:!0}),u=i.useRef(o.register(n,{...e.rules,value:l,...ab(e.disabled)?{disabled:e.disabled}:{}}));return i.useEffect((()=>{const e=o._options.shouldUnregister||s,t=(e,t)=>{const n=sb(o._fields,e);n&&n._f&&(n._f.mount=t)};if(t(n,!0),e){const e=rb(sb(o._options.defaultValues,n));ub(o._defaultValues,n,e),ob(sb(o._formValues,n))&&ub(o._formValues,n,e)}return()=>{(a?e&&!o._state.action:e)?o.unregister(n):t(n,!1)}}),[n,o,a,s]),i.useEffect((()=>{sb(o._fields,n)&&o._updateDisabledField({disabled:r,fields:o._fields,name:n,value:sb(o._fields,n)._f.value})}),[r,n,o]),{field:{name:n,value:l,...ab(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:i.useCallback((e=>u.current.onChange({target:{value:Jv(e),name:n},type:db.CHANGE})),[n]),onBlur:i.useCallback((()=>u.current.onBlur({target:{value:sb(o._formValues,n),name:n},type:db.BLUR})),[n,o]),ref:i.useCallback((e=>{const t=sb(o._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}),[o._fields,n])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!sb(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!sb(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!sb(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!sb(c.validatingFields,n)},error:{enumerable:!0,get:()=>sb(c.errors,n)}})}}const Pb=e=>e.render(Eb(e));var Db=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},jb=e=>({isOnSubmit:!e||e===hb.onSubmit,isOnBlur:e===hb.onBlur,isOnChange:e===hb.onChange,isOnAll:e===hb.all,isOnTouch:e===hb.onTouched}),Ob=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const Rb=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=sb(e,i);if(n){const{_f:e,...o}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(Rb(o,t))break}else if(Qv(o)&&Rb(o,t))break}}};var Lb=(e,t,n)=>{const r=Sb(sb(e,n));return ub(r,"root",t[n]),ub(e,n,r),e},Nb=e=>"file"===e.type,Bb=e=>"function"===typeof e,Fb=e=>{if(!nb)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},zb=e=>Ib(e),Vb=e=>"radio"===e.type,Wb=e=>e instanceof RegExp;const Hb={value:!1,isValid:!1},Ub={value:!0,isValid:!0};var $b=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ob(e[0].attributes.value)?ob(e[0].value)||""===e[0].value?Ub:{value:e[0].value,isValid:!0}:Ub:Hb}return Hb};const Yb={isValid:!1,value:null};var Gb=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),Yb):Yb;function qb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(zb(e)||Array.isArray(e)&&e.every(zb)||ab(e)&&!e)return{type:n,message:zb(e)?e:"",ref:t}}var Xb=e=>Qv(e)&&!Wb(e)?e:{value:e,message:""},Zb=async(e,t,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:h,validate:f,name:p,valueAsNumber:m,mount:g,disabled:v}=e._f,b=sb(t,p);if(!g||v)return{};const y=s?s[0]:o,w=e=>{r&&y.reportValidity&&(y.setCustomValidity(ab(e)?"":e||""),y.reportValidity())},x={},_=Vb(o),C=qv(o),k=_||C,S=(m||Nb(o))&&ob(o.value)&&ob(b)||Fb(o)&&""===o.value||""===b||Array.isArray(b)&&!b.length,A=Db.bind(null,p,n,x),T=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:mb,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gb;const s=e?t:n;x[p]={type:e?r:i,message:s,ref:o,...A(e?r:i,s)}};if(i?!Array.isArray(b)||!b.length:a&&(!k&&(S||Zv(b))||ab(b)&&!b||C&&!$b(s).isValid||_&&!Gb(s).isValid)){const{value:e,message:t}=zb(a)?{value:!!a,message:a}:Xb(a);if(e&&(x[p]={type:bb,message:t,ref:y,...A(bb,t)},!n))return w(t),x}if(!S&&(!Zv(u)||!Zv(d))){let e,t;const r=Xb(d),i=Xb(u);if(Zv(b)||isNaN(b)){const n=o.valueAsDate||new Date(b),s=e=>new Date((new Date).toDateString()+" "+e),a="time"==o.type,l="week"==o.type;Ib(r.value)&&b&&(e=a?s(b)>s(r.value):l?b>r.value:n>new Date(r.value)),Ib(i.value)&&b&&(t=a?s(b)<s(i.value):l?b<i.value:n<new Date(i.value))}else{const n=o.valueAsNumber||(b?+b:b);Zv(r.value)||(e=n>r.value),Zv(i.value)||(t=n<i.value)}if((e||t)&&(T(!!e,r.message,i.message,fb,pb),!n))return w(x[p].message),x}if((l||c)&&!S&&(Ib(b)||i&&Array.isArray(b))){const e=Xb(l),t=Xb(c),r=!Zv(e.value)&&b.length>+e.value,i=!Zv(t.value)&&b.length<+t.value;if((r||i)&&(T(r,e.message,t.message),!n))return w(x[p].message),x}if(h&&!S&&Ib(b)){const{value:e,message:t}=Xb(h);if(Wb(e)&&!b.match(e)&&(x[p]={type:vb,message:t,ref:o,...A(vb,t)},!n))return w(t),x}if(f)if(Bb(f)){const e=qb(await f(b,t),y);if(e&&(x[p]={...e,...A(yb,e.message)},!n))return w(e.message),x}else if(Qv(f)){let e={};for(const r in f){if(!Cb(e)&&!n)break;const i=qb(await f[r](b,t),y,r);i&&(e={...i,...A(r,i.message)},w(i.message),n&&(x[p]=e))}if(!Cb(e)&&(x[p]={ref:y,...e},!n))return x}return w(!0),x};function Kb(e,t){const n=Array.isArray(t)?t:lb(t)?[t]:cb(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=ob(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,o=n[i];return r&&delete r[o],0!==i&&(Qv(r)&&Cb(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!ob(e[t]))return!1;return!0}(r))&&Kb(e,n.slice(0,-1)),e}var Qb=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},Jb=e=>Zv(e)||!Kv(e);function ey(e,t){if(Jb(e)||Jb(t))return e===t;if(Xv(e)&&Xv(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(Xv(n)&&Xv(e)||Qv(n)&&Qv(e)||Array.isArray(n)&&Array.isArray(e)?!ey(n,e):n!==e)return!1}}return!0}var ty=e=>"select-multiple"===e.type,ny=e=>Vb(e)||qv(e),ry=e=>Fb(e)&&e.isConnected,iy=e=>{for(const t in e)if(Bb(e[t]))return!0;return!1};function oy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(Qv(e)||n)for(const r in e)Array.isArray(e[r])||Qv(e[r])&&!iy(e[r])?(t[r]=Array.isArray(e[r])?[]:{},oy(e[r],t[r])):Zv(e[r])||(t[r]=!0);return t}function sy(e,t,n){const r=Array.isArray(e);if(Qv(e)||r)for(const i in e)Array.isArray(e[i])||Qv(e[i])&&!iy(e[i])?ob(t)||Jb(n[i])?n[i]=Array.isArray(e[i])?oy(e[i],[]):{...oy(e[i])}:sy(e[i],Zv(t)?{}:t[i],n[i]):n[i]=!ey(e[i],t[i]);return n}var ay=(e,t)=>sy(e,t,oy(t)),ly=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return ob(e)?e:n?""===e?NaN:e?+e:e:r&&Ib(e)?new Date(e):i?i(e):e};function cy(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return Nb(t)?t.files:Vb(t)?Gb(e.refs).value:ty(t)?[...t.selectedOptions].map((e=>{let{value:t}=e;return t})):qv(t)?$b(e.refs).value:ly(ob(t.value)?e.ref.value:t.value,e)}var uy=(e,t,n,r)=>{const i={};for(const o of e){const e=sb(t,o);e&&ub(i,o,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},dy=e=>ob(e)?e:Wb(e)?e.source:Qv(e)?Wb(e.value)?e.value.source:e.value:e;const hy="AsyncFunction";var fy=e=>(!e||!e.validate)&&!!(Bb(e.validate)&&e.validate.constructor.name===hy||Qv(e.validate)&&Object.values(e.validate).find((e=>e.constructor.name===hy))),py=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function my(e,t,n){const r=sb(e,n);if(r||lb(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),o=sb(t,r),s=sb(e,r);if(o&&!Array.isArray(o)&&n!==r)return{name:n};if(s&&s.type)return{name:r,error:s};i.pop()}return{name:n}}var gy=(e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e),vy=(e,t)=>!ib(sb(e,t)).length&&Kb(e,t);const by={mode:hb.onSubmit,reValidateMode:hb.onChange,shouldFocusError:!0};function yy(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={...by,...t},r={submitCount:0,isDirty:!1,isLoading:Bb(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},o=(Qv(n.defaultValues)||Qv(n.values))&&rb(n.defaultValues||n.values)||{},s=n.shouldUnregister?{}:rb(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Qb(),array:Qb(),state:Qb()},h=jb(n.mode),f=jb(n.reValidateMode),p=n.criteriaMode===hb.all,m=async e=>{if(u.isValid||e){const e=n.resolver?Cb((await w()).errors):await x(i,!0);e!==r.isValid&&d.state.next({isValid:e})}},g=(e,t)=>{(u.isValidating||u.validatingFields)&&((e||Array.from(l.mount)).forEach((e=>{e&&(t?ub(r.validatingFields,e,t):Kb(r.validatingFields,e))})),d.state.next({validatingFields:r.validatingFields,isValidating:!Cb(r.validatingFields)}))},v=(e,t,n,r)=>{const l=sb(i,e);if(l){const i=sb(s,e,ob(n)?sb(o,e):n);ob(i)||r&&r.defaultChecked||t?ub(s,e,t?i:cy(l._f)):k(e,i),a.mount&&m()}},b=(e,t,n,s,a)=>{let l=!1,c=!1;const h={name:e},f=!!(sb(i,e)&&sb(i,e)._f&&sb(i,e)._f.disabled);if(!n||s){u.isDirty&&(c=r.isDirty,r.isDirty=h.isDirty=_(),l=c!==h.isDirty);const n=f||ey(sb(o,e),t);c=!(f||!sb(r.dirtyFields,e)),n||f?Kb(r.dirtyFields,e):ub(r.dirtyFields,e,!0),h.dirtyFields=r.dirtyFields,l=l||u.dirtyFields&&c!==!n}if(n){const t=sb(r.touchedFields,e);t||(ub(r.touchedFields,e,n),h.touchedFields=r.touchedFields,l=l||u.touchedFields&&t!==n)}return l&&a&&d.state.next(h),l?h:{}},y=(n,i,o,s)=>{const a=sb(r.errors,n),l=u.isValid&&ab(i)&&r.isValid!==i;var h;if(t.delayError&&o?(h=()=>((e,t)=>{ub(r.errors,e,t),d.state.next({errors:r.errors})})(n,o),e=e=>{clearTimeout(c),c=setTimeout(h,e)},e(t.delayError)):(clearTimeout(c),e=null,o?ub(r.errors,n,o):Kb(r.errors,n)),(o?!ey(a,o):a)||!Cb(s)||l){const e={...s,...l&&ab(i)?{isValid:i}:{},errors:r.errors,name:n};r={...r,...e},d.state.next(e)}},w=async e=>{g(e,!0);const t=await n.resolver(s,n.context,uy(e||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return g(e),t},x=async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const o in e){const a=e[o];if(a){const{_f:e,...c}=a;if(e){const c=l.array.has(e.name),d=a._f&&fy(a._f);d&&u.validatingFields&&g([o],!0);const h=await Zb(a,s,p,n.shouldUseNativeValidation&&!t,c);if(d&&u.validatingFields&&g([o]),h[e.name]&&(i.valid=!1,t))break;!t&&(sb(h,e.name)?c?Lb(r.errors,h,e.name):ub(r.errors,e.name,h[e.name]):Kb(r.errors,e.name))}!Cb(c)&&await x(c,t,i)}}return i.valid},_=(e,t)=>(e&&t&&ub(s,e,t),!ey(E(),o)),C=(e,t,n)=>Mb(e,l,{...a.mount?s:ob(t)?o:Ib(e)?{[e]:t}:t},n,t),k=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=sb(i,e);let o=t;if(r){const n=r._f;n&&(!n.disabled&&ub(s,e,ly(t,n)),o=Fb(n.ref)&&Zv(t)?"":t,ty(n.ref)?[...n.ref.options].forEach((e=>e.selected=o.includes(e.value))):n.refs?qv(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(o)?!!o.find((t=>t===e.value)):o===e.value))):n.refs[0]&&(n.refs[0].checked=!!o):n.refs.forEach((e=>e.checked=e.value===o)):Nb(n.ref)?n.ref.value="":(n.ref.value=o,n.ref.type||d.values.next({name:e,values:{...s}})))}(n.shouldDirty||n.shouldTouch)&&b(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&M(e)},S=(e,t,n)=>{for(const r in t){const o=t[r],s=`${e}.${r}`,a=sb(i,s);!l.array.has(e)&&Jb(o)&&(!a||a._f)||Xv(o)?k(s,o,n):S(s,o,n)}},A=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=sb(i,e),h=l.array.has(e),f=rb(t);ub(s,e,f),h?(d.array.next({name:e,values:{...s}}),(u.isDirty||u.dirtyFields)&&n.shouldDirty&&d.state.next({name:e,dirtyFields:ay(o,s),isDirty:_(e,f)})):!c||c._f||Zv(f)?k(e,f,n):S(e,f,n),Ob(e,l)&&d.state.next({...r}),d.values.next({name:a.mount?e:void 0,values:{...s}})},T=async o=>{a.mount=!0;const c=o.target;let v=c.name,_=!0;const C=sb(i,v),k=e=>{_=Number.isNaN(e)||ey(e,sb(s,v,e))};if(C){let a,S;const A=c.type?cy(C._f):Jv(o),T=o.type===db.BLUR||o.type===db.FOCUS_OUT,I=!py(C._f)&&!n.resolver&&!sb(r.errors,v)&&!C._f.deps||gy(T,sb(r.touchedFields,v),r.isSubmitted,f,h),E=Ob(v,l,T);ub(s,v,A),T?(C._f.onBlur&&C._f.onBlur(o),e&&e(0)):C._f.onChange&&C._f.onChange(o);const P=b(v,A,T,!1),D=!Cb(P)||E;if(!T&&d.values.next({name:v,type:o.type,values:{...s}}),I)return u.isValid&&("onBlur"===t.mode?T&&m():m()),D&&d.state.next({name:v,...E?{}:P});if(!T&&E&&d.state.next({...r}),n.resolver){const{errors:e}=await w([v]);if(k(A),_){const t=my(r.errors,i,v),n=my(e,i,t.name||v);a=n.error,v=n.name,S=Cb(e)}}else g([v],!0),a=(await Zb(C,s,p,n.shouldUseNativeValidation))[v],g([v]),k(A),_&&(a?S=!1:u.isValid&&(S=await x(i,!0)));_&&(C._f.deps&&M(C._f.deps),y(v,S,a,P))}},I=(e,t)=>{if(sb(r.errors,t)&&e.focus)return e.focus(),1},M=async function(e){let t,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=Sb(e);if(n.resolver){const n=await(async e=>{const{errors:t}=await w(e);if(e)for(const n of e){const e=sb(t,n);e?ub(r.errors,n,e):Kb(r.errors,n)}else r.errors=t;return t})(ob(e)?e:a);t=Cb(n),o=e?!a.some((e=>sb(n,e))):t}else e?(o=(await Promise.all(a.map((async e=>{const t=sb(i,e);return await x(t&&t._f?{[e]:t}:t)})))).every(Boolean),(o||r.isValid)&&m()):o=t=await x(i);return d.state.next({...!Ib(e)||u.isValid&&t!==r.isValid?{}:{name:e},...n.resolver||!e?{isValid:t}:{},errors:r.errors}),s.shouldFocus&&!o&&Rb(i,I,e?a:l.mount),o},E=e=>{const t={...a.mount?s:o};return ob(e)?t:Ib(e)?sb(t,e):e.map((e=>sb(t,e)))},P=(e,t)=>({invalid:!!sb((t||r).errors,e),isDirty:!!sb((t||r).dirtyFields,e),error:sb((t||r).errors,e),isValidating:!!sb(r.validatingFields,e),isTouched:!!sb((t||r).touchedFields,e)}),D=(e,t,n)=>{const o=(sb(i,e,{_f:{}})._f||{}).ref,s=sb(r.errors,e)||{},{ref:a,message:l,type:c,...u}=s;ub(r.errors,e,{...u,...t,ref:o}),d.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&o&&o.focus&&o.focus()},j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const a of e?Sb(e):l.mount)l.mount.delete(a),l.array.delete(a),t.keepValue||(Kb(i,a),Kb(s,a)),!t.keepError&&Kb(r.errors,a),!t.keepDirty&&Kb(r.dirtyFields,a),!t.keepTouched&&Kb(r.touchedFields,a),!t.keepIsValidating&&Kb(r.validatingFields,a),!n.shouldUnregister&&!t.keepDefaultValue&&Kb(o,a);d.values.next({values:{...s}}),d.state.next({...r,...t.keepDirty?{isDirty:_()}:{}}),!t.keepIsValid&&m()},O=e=>{let{disabled:t,name:n,field:r,fields:i,value:o}=e;if(ab(t)&&a.mount||t){const e=t?void 0:ob(o)?cy(r?r._f:sb(i,n)._f):o;ub(s,n,e),b(n,e,!1,!1,!0)}},R=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=sb(i,e);const c=ab(r.disabled)||ab(t.disabled);return ub(i,e,{...s||{},_f:{...s&&s._f?s._f:{ref:{name:e}},name:e,mount:!0,...r}}),l.mount.add(e),s?O({field:s,disabled:ab(r.disabled)?r.disabled:t.disabled,name:e,value:r.value}):v(e,!0,r.value),{...c?{disabled:r.disabled||t.disabled}:{},...n.progressive?{required:!!r.required,min:dy(r.min),max:dy(r.max),minLength:dy(r.minLength),maxLength:dy(r.maxLength),pattern:dy(r.pattern)}:{},name:e,onChange:T,onBlur:T,ref:t=>{if(t){R(e,r),s=sb(i,e);const n=ob(t.value)&&t.querySelectorAll&&t.querySelectorAll("input,select,textarea")[0]||t,a=ny(n),l=s._f.refs||[];if(a?l.find((e=>e===n)):n===s._f.ref)return;ub(i,e,{_f:{...s._f,...a?{refs:[...l.filter(ry),n,...Array.isArray(sb(o,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),v(e,!1,void 0,n)}else s=sb(i,e,{}),s._f&&(s._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!eb(l.array,e)||!a.action)&&l.unMount.add(e)}}},L=()=>n.shouldFocusError&&Rb(i,I,l.mount),N=(e,t)=>async o=>{let a;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let l=rb(s);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await w();r.errors=e,l=t}else await x(i);if(Kb(r.errors,"root"),Cb(r.errors)){d.state.next({errors:{}});try{await e(l,o)}catch(c){a=c}}else t&&await t({...r.errors},o),L(),setTimeout(L);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cb(r.errors)&&!a,submitCount:r.submitCount+1,errors:r.errors}),a)throw a},B=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=e?rb(e):o,h=rb(c),f=Cb(e),p=f?o:h;if(n.keepDefaultValues||(o=c),!n.keepValues){if(n.keepDirtyValues)for(const e of l.mount)sb(r.dirtyFields,e)?ub(p,e,sb(s,e)):A(e,sb(p,e));else{if(nb&&ob(e))for(const e of l.mount){const t=sb(i,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Fb(e)){const t=e.closest("form");if(t){t.reset();break}}}}i={}}s=t.shouldUnregister?n.keepDefaultValues?rb(o):{}:rb(p),d.array.next({values:{...p}}),d.values.next({values:{...p}})}l={mount:n.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!u.isValid||!!n.keepIsValid||!!n.keepDirtyValues,a.watch=!!t.shouldUnregister,d.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:!f&&(n.keepDirty?r.isDirty:!(!n.keepDefaultValues||ey(e,o))),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:f?{}:n.keepDirtyValues?n.keepDefaultValues&&s?ay(o,s):r.dirtyFields:n.keepDefaultValues&&e?ay(o,e):n.keepDirty?r.dirtyFields:{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:!!n.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},F=(e,t)=>B(Bb(e)?e(s):e,t);return{control:{register:R,unregister:j,getFieldState:P,handleSubmit:N,setError:D,_executeSchema:w,_getWatch:C,_getDirty:_,_updateValid:m,_removeUnmounted:()=>{for(const e of l.unMount){const t=sb(i,e);t&&(t._f.refs?t._f.refs.every((e=>!ry(e))):!ry(t._f.ref))&&j(e)}l.unMount=new Set},_updateFieldArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(l&&n){if(a.action=!0,h&&Array.isArray(sb(i,e))){const t=n(sb(i,e),l.argA,l.argB);c&&ub(i,e,t)}if(h&&Array.isArray(sb(r.errors,e))){const t=n(sb(r.errors,e),l.argA,l.argB);c&&ub(r.errors,e,t),vy(r.errors,e)}if(u.touchedFields&&h&&Array.isArray(sb(r.touchedFields,e))){const t=n(sb(r.touchedFields,e),l.argA,l.argB);c&&ub(r.touchedFields,e,t)}u.dirtyFields&&(r.dirtyFields=ay(o,s)),d.state.next({name:e,isDirty:_(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ub(s,e,t)},_updateDisabledField:O,_getFieldArray:e=>ib(sb(a.mount?s:o,e,t.shouldUnregister?sb(o,e,[]):[])),_reset:B,_resetDefaultValues:()=>Bb(n.defaultValues)&&n.defaultValues().then((e=>{F(e,n.resetOptions),d.state.next({isLoading:!1})})),_updateFormState:e=>{r={...r,...e}},_disableForm:e=>{ab(e)&&(d.state.next({disabled:e}),Rb(i,((t,n)=>{const r=sb(i,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach((t=>{t.disabled=r._f.disabled||e})))}),0,!1))},_subjects:d,_proxyFormState:u,_setErrors:e=>{r.errors=e,d.state.next({errors:r.errors,isValid:!1})},get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(e){a=e},get _defaultValues(){return o},get _names(){return l},set _names(e){l=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n={...n,...e}}},trigger:M,register:R,handleSubmit:N,watch:(e,t)=>Bb(e)?d.values.subscribe({next:n=>e(C(void 0,t),n)}):C(e,t,!0),setValue:A,getValues:E,reset:F,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};sb(i,e)&&(ob(t.defaultValue)?A(e,rb(sb(o,e))):(A(e,t.defaultValue),ub(o,e,rb(t.defaultValue))),t.keepTouched||Kb(r.touchedFields,e),t.keepDirty||(Kb(r.dirtyFields,e),r.isDirty=t.defaultValue?_(e,rb(sb(o,e))):_()),t.keepError||(Kb(r.errors,e),u.isValid&&m()),d.state.next({...r}))},clearErrors:e=>{e&&Sb(e).forEach((e=>Kb(r.errors,e))),d.state.next({errors:e?r.errors:{}})},unregister:j,setError:D,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=sb(i,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:P}}function wy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=i.useRef(),n=i.useRef(),[r,o]=i.useState({isDirty:!1,isValidating:!1,isLoading:Bb(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Bb(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...yy(e),formState:r});const s=t.current.control;return s._options=e,Tb({subject:s._subjects.state,next:e=>{kb(e,s._proxyFormState,s._updateFormState,!0)&&o({...s._formState})}}),i.useEffect((()=>s._disableForm(e.disabled)),[s,e.disabled]),i.useEffect((()=>{if(s._proxyFormState.isDirty){const e=s._getDirty();e!==r.isDirty&&s._subjects.state.next({isDirty:e})}}),[s,r.isDirty]),i.useEffect((()=>{e.values&&!ey(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values,o((e=>({...e})))):s._resetDefaultValues()}),[e.values,s]),i.useEffect((()=>{e.errors&&s._setErrors(e.errors)}),[e.errors,s]),i.useEffect((()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()})),i.useEffect((()=>{e.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})}),[e.shouldUnregister,s]),t.current.formState=_b(r,s),t.current}var xy=n(6865),_y=n.n(xy),Cy=n(8988),ky=n.n(Cy),Sy=n(4443),Ay=n.n(Sy),Ty=n(1525),Iy=n.n(Ty),My=n(7076),Ey=n.n(My);Gp().extend(Ay()),Gp().extend(_y()),Gp().extend(Iy()),Gp().extend(Ey());const Py={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Dy={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},jy=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join("\n"),Oy=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join("\n");class Ry{constructor(){var e=this;let{locale:t,formats:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=Py,this.setLocaleToValue=e=>{const t=this.getCurrentLocaleCode();return t===e.locale()?e:e.locale(t)},this.hasUTCPlugin=()=>"undefined"!==typeof Gp().utc,this.hasTimezonePlugin=()=>"undefined"!==typeof Gp().tz,this.isSame=(e,t,n)=>{const r=this.setTimezone(t,this.getTimezone(e));return e.format(n)===r.format(n)},this.cleanTimezone=e=>{switch(e){case"default":return;case"system":return Gp().tz.guess();default:return e}},this.createSystemDate=e=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const t=Gp().tz.guess();return"UTC"!==t?Gp().tz(e,t):Gp()(e)}return Gp()(e)},this.createUTCDate=e=>{if(!this.hasUTCPlugin())throw new Error(jy);return Gp().utc(e)},this.createTZDate=(e,t)=>{if(!this.hasUTCPlugin())throw new Error(jy);if(!this.hasTimezonePlugin())throw new Error(Oy);const n=void 0!==e&&!e.endsWith("Z");return Gp()(e).tz(this.cleanTimezone(t),n)},this.getLocaleFormats=()=>{const e=Gp().Ls;let t=e[this.locale||"en"];return void 0===t&&(t=e.en),t.formats},this.adjustOffset=e=>{if(!this.hasTimezonePlugin())return e;const t=this.getTimezone(e);if("UTC"!==t){const n=e.tz(this.cleanTimezone(t),!0);if(n.$offset===(e.$offset??0))return e;e.$offset=n.$offset}return e},this.date=function(t){let n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return null===t?null:(n="UTC"===r?e.createUTCDate(t):"system"===r||"default"===r&&!e.hasTimezonePlugin()?e.createSystemDate(t):e.createTZDate(t,r),void 0===e.locale?n:n.locale(e.locale))},this.getInvalidDate=()=>Gp()(new Date("Invalid date")),this.getTimezone=e=>{if(this.hasTimezonePlugin()){const t=e.$x?.$timezone;if(t)return t}return this.hasUTCPlugin()&&e.isUTC()?"UTC":"system"},this.setTimezone=(e,t)=>{if(this.getTimezone(e)===t)return e;if("UTC"===t){if(!this.hasUTCPlugin())throw new Error(jy);return e.utc()}if("system"===t)return e.local();if(!this.hasTimezonePlugin()){if("default"===t)return e;throw new Error(Oy)}return Gp().tz(e,this.cleanTimezone(t))},this.toJsDate=e=>e.toDate(),this.parse=(e,t)=>""===e?null:this.dayjs(e,t,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=e=>{const t=this.getLocaleFormats();return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,((e,n,r)=>{const i=r&&r.toUpperCase();return n||t[r]||t[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,((e,t,n)=>t||n.slice(1)))}))},this.isValid=e=>null!=e&&e.isValid(),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>this.dayjs(e).format(t),this.formatNumber=e=>e,this.isEqual=(e,t)=>null===e&&null===t||null!==e&&null!==t&&e.toDate().getTime()===t.toDate().getTime(),this.isSameYear=(e,t)=>this.isSame(e,t,"YYYY"),this.isSameMonth=(e,t)=>this.isSame(e,t,"YYYY-MM"),this.isSameDay=(e,t)=>this.isSame(e,t,"YYYY-MM-DD"),this.isSameHour=(e,t)=>e.isSame(t,"hour"),this.isAfter=(e,t)=>e>t,this.isAfterYear=(e,t)=>this.hasUTCPlugin()?!this.isSameYear(e,t)&&e.utc()>t.utc():e.isAfter(t,"year"),this.isAfterDay=(e,t)=>this.hasUTCPlugin()?!this.isSameDay(e,t)&&e.utc()>t.utc():e.isAfter(t,"day"),this.isBefore=(e,t)=>e<t,this.isBeforeYear=(e,t)=>this.hasUTCPlugin()?!this.isSameYear(e,t)&&e.utc()<t.utc():e.isBefore(t,"year"),this.isBeforeDay=(e,t)=>this.hasUTCPlugin()?!this.isSameDay(e,t)&&e.utc()<t.utc():e.isBefore(t,"day"),this.isWithinRange=(e,t)=>{let[n,r]=t;return e>=n&&e<=r},this.startOfYear=e=>this.adjustOffset(e.startOf("year")),this.startOfMonth=e=>this.adjustOffset(e.startOf("month")),this.startOfWeek=e=>this.adjustOffset(this.setLocaleToValue(e).startOf("week")),this.startOfDay=e=>this.adjustOffset(e.startOf("day")),this.endOfYear=e=>this.adjustOffset(e.endOf("year")),this.endOfMonth=e=>this.adjustOffset(e.endOf("month")),this.endOfWeek=e=>this.adjustOffset(this.setLocaleToValue(e).endOf("week")),this.endOfDay=e=>this.adjustOffset(e.endOf("day")),this.addYears=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"year"):e.add(t,"year")),this.addMonths=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"month"):e.add(t,"month")),this.addWeeks=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"week"):e.add(t,"week")),this.addDays=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"day"):e.add(t,"day")),this.addHours=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"hour"):e.add(t,"hour")),this.addMinutes=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"minute"):e.add(t,"minute")),this.addSeconds=(e,t)=>this.adjustOffset(t<0?e.subtract(Math.abs(t),"second"):e.add(t,"second")),this.getYear=e=>e.year(),this.getMonth=e=>e.month(),this.getDate=e=>e.date(),this.getHours=e=>e.hour(),this.getMinutes=e=>e.minute(),this.getSeconds=e=>e.second(),this.getMilliseconds=e=>e.millisecond(),this.setYear=(e,t)=>this.adjustOffset(e.set("year",t)),this.setMonth=(e,t)=>this.adjustOffset(e.set("month",t)),this.setDate=(e,t)=>this.adjustOffset(e.set("date",t)),this.setHours=(e,t)=>this.adjustOffset(e.set("hour",t)),this.setMinutes=(e,t)=>this.adjustOffset(e.set("minute",t)),this.setSeconds=(e,t)=>this.adjustOffset(e.set("second",t)),this.setMilliseconds=(e,t)=>this.adjustOffset(e.set("millisecond",t)),this.getDaysInMonth=e=>e.daysInMonth(),this.getWeekArray=e=>{const t=this.startOfWeek(this.startOfMonth(e)),n=this.endOfWeek(this.endOfMonth(e));let r=0,i=t;const o=[];for(;i<n;){const e=Math.floor(r/7);o[e]=o[e]||[],o[e].push(i),i=this.addDays(i,1),r+=1}return o},this.getWeekNumber=e=>e.week(),this.getYearRange=e=>{let[t,n]=e;const r=this.startOfYear(t),i=this.endOfYear(n),o=[];let s=r;for(;this.isBefore(s,i);)o.push(s),s=this.addYears(s,1);return o},this.dayjs=((e,t)=>t?function(){return e(...arguments).locale(t)}:e)(Gp(),t),this.locale=t,this.formats=(0,_e.A)({},Dy,n),Gp().extend(ky())}getDayOfWeek(e){return e.day()+1}}function Ly(e){let{props:t,name:n}=e;return qe({props:t,name:n,defaultTheme:bt.A,themeId:Be.A})}const Ny=["localeText"],By=i.createContext(null);const Fy=function(e){const{localeText:t}=e,n=(0,Ce.A)(e,Ny),{utils:r,localeText:o}=i.useContext(By)??{utils:void 0,localeText:void 0},s=Ly({props:n,name:"MuiLocalizationProvider"}),{children:a,dateAdapter:l,dateFormats:c,dateLibInstance:u,adapterLocale:d,localeText:h}=s,f=i.useMemo((()=>(0,_e.A)({},h,o,t)),[h,o,t]),p=i.useMemo((()=>{if(!l)return r||null;const e=new l({locale:d,formats:c,instance:u});if(!e.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join("\n"));return e}),[l,d,c,u,r]),m=i.useMemo((()=>p?{minDate:p.date("1900-01-01T00:00:00.000"),maxDate:p.date("2099-12-31T00:00:00.000")}:null),[p]),g=i.useMemo((()=>({utils:p,defaultDates:m,localeText:f})),[m,p,f]);return(0,je.jsx)(By.Provider,{value:g,children:a})};var zy=n(5173),Vy=n.n(zy);const Wy=Vy().oneOfType([Vy().func,Vy().object]),Hy=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Uy=(0,ft.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:(0,Nt.X4)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(e=>{let{ownerState:t}=e;return(0,_e.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}})}),(e=>{let{ownerState:t}=e;return(0,_e.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),$y=(0,ft.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},"vertical"===n.orientation&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})})),Yy=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiDivider"}),{absolute:r=!1,children:i,className:o,component:s=(i?"div":"hr"),flexItem:a=!1,light:l=!1,orientation:c="horizontal",role:u=("hr"!==s?"separator":void 0),textAlign:d="center",variant:h="fullWidth"}=n,f=(0,Ce.A)(n,Hy),p=(0,_e.A)({},n,{absolute:r,component:s,flexItem:a,light:l,orientation:c,role:u,textAlign:d,variant:h}),m=(e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=e,c={root:["root",t&&"absolute",l,o&&"light","vertical"===s&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]};return(0,Ue.A)(c,xs,r)})(p);return(0,je.jsx)(Uy,(0,_e.A)({as:s,className:(0,ke.A)(m.root,o),role:u,ref:t,ownerState:p},f,{children:i?(0,je.jsx)($y,{className:m.wrapper,ownerState:p,children:i}):null}))}));Yy.muiSkipListHighlight=!0;const Gy=Yy,qy=(e,t)=>e.length===t.length&&t.every((t=>e.includes(t))),Xy=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r=e.setMilliseconds(r,e.getMilliseconds(n)),r},Zy=e=>{let{date:t,disableFuture:n,disablePast:r,maxDate:i,minDate:o,isDateDisabled:s,utils:a,timezone:l}=e;const c=Xy(a,a.date(void 0,l),t);r&&a.isBefore(o,c)&&(o=c),n&&a.isAfter(i,c)&&(i=c);let u=t,d=t;for(a.isBefore(t,o)&&(u=o,d=null),a.isAfter(t,i)&&(d&&(d=i),u=null);u||d;){if(u&&a.isAfter(u,i)&&(u=null),d&&a.isBefore(d,o)&&(d=null),u){if(!s(u))return u;u=a.addDays(u,1)}if(d){if(!s(d))return d;d=a.addDays(d,-1)}}return null},Ky=(e,t,n)=>null!=t&&e.isValid(t)?t:n,Qy=(e,t)=>{const n=[e.startOfYear(t)];for(;n.length<12;){const t=n[n.length-1];n.push(e.addMonths(t,1))}return n},Jy=(e,t,n)=>"date"===n?e.startOfDay(e.date(void 0,t)):e.date(void 0,t),ew=(e,t)=>{const n=e.setHours(e.date(),"am"===t?2:14);return e.format(n,"meridiem")},tw=["year","month","day"],nw=e=>tw.includes(e),rw=(e,t,n)=>{let{format:r,views:i}=t;if(null!=r)return r;const o=e.formats;return qy(i,["year"])?o.year:qy(i,["month"])?o.month:qy(i,["day"])?o.dayOfMonth:qy(i,["month","year"])?`${o.month} ${o.year}`:qy(i,["day","month"])?`${o.month} ${o.dayOfMonth}`:n?/en/.test(e.getCurrentLocaleCode())?o.normalDateWithWeekday:o.normalDate:o.keyboardDate},iw=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map((t=>e.addDays(n,t)))},ow=["hours","minutes","seconds"],sw=e=>ow.includes(e),aw=e=>ow.includes(e)||"meridiem"===e,lw=(e,t)=>e?t.getHours(e)>=12?"pm":"am":null,cw=(e,t,n)=>{if(n){if((e>=12?"pm":"am")!==t)return"am"===t?e-12:e+12}return e},uw=(e,t,n,r)=>{const i=cw(r.getHours(e),t,n);return r.setHours(e,i)},dw=(e,t)=>3600*t.getHours(e)+60*t.getMinutes(e)+t.getSeconds(e),hw=(e,t)=>(n,r)=>e?t.isAfter(n,r):dw(n,t)>dw(r,t),fw=(e,t)=>{let{format:n,views:r,ampm:i}=t;if(null!=n)return n;const o=e.formats;return qy(r,["hours"])?i?`${o.hours12h} ${o.meridiem}`:o.hours24h:qy(r,["minutes"])?o.minutes:qy(r,["seconds"])?o.seconds:qy(r,["minutes","seconds"])?`${o.minutes}:${o.seconds}`:qy(r,["hours","minutes","seconds"])?i?`${o.hours12h}:${o.minutes}:${o.seconds} ${o.meridiem}`:`${o.hours24h}:${o.minutes}:${o.seconds}`:i?`${o.hours12h}:${o.minutes} ${o.meridiem}`:`${o.hours24h}:${o.minutes}`},pw={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},mw=(e,t,n)=>{if(t===pw.year)return e.startOfYear(n);if(t===pw.month)return e.startOfMonth(n);if(t===pw.day)return e.startOfDay(n);let r=n;return t<pw.minutes&&(r=e.setMinutes(r,0)),t<pw.seconds&&(r=e.setSeconds(r,0)),t<pw.milliseconds&&(r=e.setMilliseconds(r,0)),r},gw=(e,t)=>{const n=e.formatTokenMap[t];if(null==n)throw new Error([`MUI X: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join("\n"));return"string"===typeof n?{type:n,contentType:"meridiem"===n?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},vw=(e,t,n)=>{const r=[],i=e.date(void 0,t),o=e.startOfWeek(i),s=e.endOfWeek(i);let a=o;for(;e.isBefore(a,s);)r.push(a),a=e.addDays(a,1);return r.map((t=>e.formatByString(t,n)))},bw=(e,t,n,r)=>{switch(n){case"month":return Qy(e,e.date(void 0,t)).map((t=>e.formatByString(t,r)));case"weekDay":return vw(e,t,r);case"meridiem":{const n=e.date(void 0,t);return[e.startOfDay(n),e.endOfDay(n)].map((t=>e.formatByString(t,r)))}default:return[]}},yw=["0","1","2","3","4","5","6","7","8","9"],ww=(e,t)=>{if("0"===t[0])return e;const n=[];let r="";for(let i=0;i<e.length;i+=1){r+=e[i];const o=t.indexOf(r);o>-1&&(n.push(o.toString()),r="")}return n.join("")},xw=(e,t)=>"0"===t[0]?e:e.split("").map((e=>t[Number(e)])).join(""),_w=(e,t)=>{const n=ww(e,t);return" "!==n&&!Number.isNaN(Number(n))},Cw=(e,t)=>{let n=e;for(n=Number(n).toString();n.length<t;)n=`0${n}`;return n},kw=(e,t,n,r,i)=>{if("day"===i.type&&"digit-with-letter"===i.contentType){const r=e.setDate(n.longestMonth,t);return e.formatByString(r,i.format)}let o=t.toString();return i.hasLeadingZerosInInput&&(o=Cw(o,i.maxLength)),xw(o,r)},Sw=(e,t,n,r,i,o,s,a)=>{const l=(e=>{switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}})(r),c="Home"===r,u="End"===r,d=""===n.value||c||u;return"digit"===n.contentType||"digit-with-letter"===n.contentType?(()=>{const r=i[n.type]({currentDate:s,format:n.format,contentType:n.contentType}),h=t=>kw(e,t,r,o,n),f="minutes"===n.type&&a?.minutesStep?a.minutesStep:1;let p=parseInt(ww(n.value,o),10)+l*f;if(d){if("year"===n.type&&!u&&!c)return e.formatByString(e.date(void 0,t),n.format);p=l>0||c?r.minimum:r.maximum}return p%f!==0&&((l<0||c)&&(p+=f-(f+p)%f),(l>0||u)&&(p-=p%f)),p>r.maximum?h(r.minimum+(p-r.maximum-1)%(r.maximum-r.minimum+1)):p<r.minimum?h(r.maximum-(r.minimum-p-1)%(r.maximum-r.minimum+1)):h(p)})():(()=>{const r=bw(e,t,n.type,n.format);if(0===r.length)return n.value;if(d)return l>0||c?r[0]:r[r.length-1];const i=r.indexOf(n.value);return r[((i+l)%r.length+r.length)%r.length]})()},Aw=(e,t,n)=>{let r=e.value||e.placeholder;const i="non-input"===t?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;"non-input"===t&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(r=Number(ww(r,n)).toString());return["input-rtl","input-ltr"].includes(t)&&"digit"===e.contentType&&!i&&1===r.length&&(r=`${r}\u200e`),"input-rtl"===t&&(r=`\u2068${r}\u2069`),r},Tw=(e,t,n,r)=>e.formatByString(e.parse(t,n),r),Iw=(e,t,n)=>4===e.formatByString(e.date(void 0,t),n).length,Mw=(e,t,n,r,i)=>{if("digit"!==n)return!1;const o=e.date(void 0,t);switch(r){case"year":if(Iw(e,t,i)){return"0001"===e.formatByString(e.setYear(o,1),i)}return"01"===e.formatByString(e.setYear(o,2001),i);case"month":return e.formatByString(e.startOfYear(o),i).length>1;case"day":return e.formatByString(e.startOfMonth(o),i).length>1;case"weekDay":return e.formatByString(e.startOfWeek(o),i).length>1;case"hours":return e.formatByString(e.setHours(o,1),i).length>1;case"minutes":return e.formatByString(e.setMinutes(o,1),i).length>1;case"seconds":return e.formatByString(e.setSeconds(o,1),i).length>1;default:throw new Error("Invalid section type")}};const Ew=(e,t)=>{0},Pw={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},Dw=(e,t,n,r,i,o)=>[...r].sort(((e,t)=>Pw[e.type]-Pw[t.type])).reduce(((r,i)=>!o||i.modified?((e,t,n,r,i)=>{switch(n.type){case"year":return e.setYear(i,e.getYear(r));case"month":return e.setMonth(i,e.getMonth(r));case"weekDay":{const i=vw(e,t,n.format),o=e.formatByString(r,n.format),s=i.indexOf(o),a=i.indexOf(n.value)-s;return e.addDays(r,a)}case"day":return e.setDate(i,e.getDate(r));case"meridiem":{const t=e.getHours(r)<12,n=e.getHours(i);return t&&n>=12?e.addHours(i,-12):!t&&n<12?e.addHours(i,12):i}case"hours":return e.setHours(i,e.getHours(r));case"minutes":return e.setMinutes(i,e.getMinutes(r));case"seconds":return e.setSeconds(i,e.getSeconds(r));default:return i}})(e,t,i,n,r):r),i),jw=(e,t)=>null==e?null:"all"===e?"all":"string"===typeof e?t.findIndex((t=>t.type===e)):e,Ow=(e,t)=>{if(e.value)switch(e.type){case"month":{if("digit"===e.contentType)return t.format(t.setMonth(t.date(),Number(e.value)-1),"month");const n=t.parse(e.value,e.format);return n?t.format(n,"month"):void 0}case"day":return"digit"===e.contentType?t.format(t.setDate(t.startOfYear(t.date()),Number(e.value)),"dayOfMonthFull"):e.value;default:return}},Rw=(e,t)=>{if(e.value)switch(e.type){case"weekDay":if("letter"===e.contentType)return;return Number(e.value);case"meridiem":{const n=t.parse(`01:00 ${e.value}`,`${t.formats.hours12h}:${t.formats.minutes} ${e.format}`);return n?t.getHours(n)>=12?1:0:void 0}case"day":return"digit-with-letter"===e.contentType?parseInt(e.value,10):Number(e.value);case"month":{if("digit"===e.contentType)return Number(e.value);const n=t.parse(e.value,e.format);return n?t.getMonth(n)+1:void 0}default:return"letter"!==e.contentType?Number(e.value):void 0}},Lw=["value","referenceDate"],Nw={emptyValue:null,getTodayValue:Jy,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=(0,Ce.A)(e,Lw);return null!=t&&r.utils.isValid(t)?t:null!=n?n:(e=>{let{props:t,utils:n,granularity:r,timezone:i,getTodayDate:o}=e,s=o?o():mw(n,r,Jy(n,i));null!=t.minDate&&n.isAfterDay(t.minDate,s)&&(s=mw(n,r,t.minDate)),null!=t.maxDate&&n.isBeforeDay(t.maxDate,s)&&(s=mw(n,r,t.maxDate));const a=hw(t.disableIgnoringDatePartForTimeValidation??!1,n);return null!=t.minTime&&a(t.minTime,s)&&(s=mw(n,r,t.disableIgnoringDatePartForTimeValidation?t.minTime:Xy(n,s,t.minTime))),null!=t.maxTime&&a(s,t.maxTime)&&(s=mw(n,r,t.disableIgnoringDatePartForTimeValidation?t.maxTime:Xy(n,s,t.maxTime))),s})(r)},cleanValue:(e,t)=>null!=t&&e.isValid(t)?t:null,areValuesEqual:(e,t,n)=>!e.isValid(t)&&null!=t&&!e.isValid(n)&&null!=n||e.isEqual(t,n),isSameError:(e,t)=>e===t,hasError:e=>null!=e,defaultErrorState:null,getTimezone:(e,t)=>null!=t&&e.isValid(t)?e.getTimezone(t):null,setTimezone:(e,t,n)=>null==n?null:e.setTimezone(n,t)},Bw={updateReferenceValue:(e,t,n)=>null!=t&&e.isValid(t)?t:n,getSectionsFromValue:(e,t,n,r)=>!e.isValid(t)&&!!n?n:r(t),getV7HiddenInputValueFromSections:e=>e.map((e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`)).join(""),getV6InputValueFromSections:(e,t,n)=>{const r=e.map((e=>{const r=Aw(e,n?"input-rtl":"input-ltr",t);return`${e.startSeparator}${r}${e.endSeparator}`})).join("");return n?`\u2066${r}\u2069`:r},getActiveDateManager:(e,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:e=>e,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:null!=n&&e.isValid(n)?n:t.referenceValue})}),parseValueStr:(e,t,n)=>n(e.trim(),t)},Fw={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>"year"===e?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>`Select ${e}. ${null===t?"No time selected":`Selected time is ${n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>null!==e&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>null!==e&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>"letter"===e.contentType?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>"letter"===e.contentType?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},zw=Fw;Vw=Fw,(0,_e.A)({},Vw);var Vw;const Ww=()=>{const e=i.useContext(By);if(null===e)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join("\n"));if(null===e.utils)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join("\n"));const t=i.useMemo((()=>(0,_e.A)({},zw,e.localeText)),[e.localeText]);return i.useMemo((()=>(0,_e.A)({},e,{localeText:t})),[e,t])},Hw=()=>Ww().utils,Uw=()=>Ww().defaultDates,$w=e=>{const t=Hw(),n=i.useRef();return void 0===n.current&&(n.current=t.date(void 0,e)),n.current};function Yw(e,t,n,r){const{value:o,onError:s}=e,a=Ww(),l=i.useRef(r),c=t({adapter:a,value:o,props:e});return i.useEffect((()=>{s&&!n(c,l.current)&&s(c,o),l.current=c}),[n,s,l,c,o]),c}var Gw=n(1052);const qw=()=>Ww().localeText,Xw=(e,t,n,r,i)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,t),i).length,format:i});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:i});case"day":return n.fieldDayPlaceholder({format:i});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:i});case"hours":return n.fieldHoursPlaceholder({format:i});case"minutes":return n.fieldMinutesPlaceholder({format:i});case"seconds":return n.fieldSecondsPlaceholder({format:i});case"meridiem":return n.fieldMeridiemPlaceholder({format:i});default:return i}},Zw=e=>{let{utils:t,timezone:n,date:r,shouldRespectLeadingZeros:i,localeText:o,localizedDigits:s,now:a,token:l,startSeparator:c}=e;if(""===l)throw new Error("MUI X: Should not call `commitToken` with an empty token");const u=gw(t,l),d=Mw(t,n,u.contentType,u.type,l),h=i?d:"digit"===u.contentType,f=null!=r&&t.isValid(r);let p=f?t.formatByString(r,l):"",m=null;if(h)if(d)m=""===p?t.formatByString(a,l).length:p.length;else{if(null==u.maxLength)throw new Error(`MUI X: The token ${l} should have a 'maxDigitNumber' property on it's adapter`);m=u.maxLength,f&&(p=xw(Cw(ww(p,s),m),s))}return(0,_e.A)({},u,{format:l,maxLength:m,value:p,placeholder:Xw(t,n,o,u,l),hasLeadingZerosInFormat:d,hasLeadingZerosInInput:h,startSeparator:c,endSeparator:"",modified:!1})},Kw=e=>{let t=(e=>{let{utils:t,format:n}=e,r=10,i=n,o=t.expandFormat(n);for(;o!==i;)if(i=o,o=t.expandFormat(i),r-=1,r<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return o})(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(t=t.split(" ").reverse().join(" "));const n=(e=>{let{utils:t,expandedFormat:n}=e;const r=[],{start:i,end:o}=t.escapedCharacters,s=new RegExp(`(\\${i}[^\\${o}]*\\${o})+`,"g");let a=null;for(;a=s.exec(n);)r.push({start:a.index,end:s.lastIndex-1});return r})((0,_e.A)({},e,{expandedFormat:t})),r=(e=>{const{utils:t,expandedFormat:n,escapedParts:r}=e,i=t.date(void 0),o=[];let s="";const a=Object.keys(t.formatTokenMap).sort(((e,t)=>t.length-e.length)),l=/^([a-zA-Z]+)/,c=new RegExp(`^(${a.join("|")})*$`),u=new RegExp(`^(${a.join("|")})`),d=e=>r.find((t=>t.start<=e&&t.end>=e));let h=0;for(;h<n.length;){const t=d(h),r=null!=t,a=l.exec(n.slice(h))?.[1];if(!r&&null!=a&&c.test(a)){let t=a;for(;t.length>0;){const n=u.exec(t)[1];t=t.slice(n.length),o.push(Zw((0,_e.A)({},e,{now:i,token:n,startSeparator:s}))),s=""}h+=a.length}else{const e=n[h];r&&t?.start===h||t?.end===h||(0===o.length?s+=e:o[o.length-1].endSeparator+=e),h+=1}}return 0===o.length&&s.length>0&&o.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:s,endSeparator:"",modified:!1}),o})((0,_e.A)({},e,{expandedFormat:t,escapedParts:n}));return(e=>{let{isRtl:t,formatDensity:n,sections:r}=e;return r.map((e=>{const r=e=>{let r=e;return t&&null!==r&&r.includes(" ")&&(r=`\u2069${r}\u2066`),"spacious"===n&&["/",".","-"].includes(r)&&(r=` ${r} `),r};return e.startSeparator=r(e.startSeparator),e.endSeparator=r(e.endSeparator),e}))})((0,_e.A)({},e,{sections:r}))},Qw=e=>{let{timezone:t,value:n,defaultValue:r,onChange:o,valueManager:s}=e;const a=Hw(),l=i.useRef(r),c=n??l.current??s.emptyValue,u=i.useMemo((()=>s.getTimezone(a,c)),[a,s,c]),d=(0,Do.A)((e=>null==u?e:s.setTimezone(a,u,e))),h=t??u??"default";return{value:i.useMemo((()=>s.setTimezone(a,h,c)),[s,a,h,c]),handleValueChange:(0,Do.A)((function(e){const t=d(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];o?.(t,...r)})),timezone:h}},Jw=e=>{let{name:t,timezone:n,value:r,defaultValue:i,onChange:o,valueManager:s}=e;const[a,l]=(0,Gw.A)({name:t,state:"value",controlled:r,default:i??s.emptyValue}),c=(0,Do.A)((function(e){l(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o?.(e,...n)}));return Qw({timezone:n,value:a,defaultValue:void 0,onChange:c,valueManager:s})},ex=e=>{const t=Hw(),n=qw(),r=Ww(),o=zt(),{valueManager:s,fieldValueManager:a,valueType:l,validator:c,internalProps:u,internalProps:{value:d,defaultValue:h,referenceDate:f,onChange:p,format:m,formatDensity:g="dense",selectedSections:v,onSelectedSectionsChange:b,shouldRespectLeadingZeros:y=!1,timezone:w,enableAccessibleFieldDOMStructure:x=!1}}=e,{timezone:_,value:C,handleValueChange:k}=Qw({timezone:w,value:d,defaultValue:h,onChange:p,valueManager:s}),S=i.useMemo((()=>(e=>{const t=e.date(void 0);return"0"===e.formatByString(e.setSeconds(t,0),"s")?yw:Array.from({length:10}).map(((n,r)=>e.formatByString(e.setSeconds(t,r),"s")))})(t)),[t]),A=i.useMemo((()=>((e,t,n)=>{const r=e.date(void 0,n),i=e.endOfYear(r),o=e.endOfDay(r),{maxDaysInMonth:s,longestMonth:a}=Qy(e,r).reduce(((t,n)=>{const r=e.getDaysInMonth(n);return r>t.maxDaysInMonth?{maxDaysInMonth:r,longestMonth:n}:t}),{maxDaysInMonth:0,longestMonth:null});return{year:t=>{let{format:r}=t;return{minimum:0,maximum:Iw(e,n,r)?9999:99}},month:()=>({minimum:1,maximum:e.getMonth(i)+1}),day:t=>{let{currentDate:n}=t;return{minimum:1,maximum:null!=n&&e.isValid(n)?e.getDaysInMonth(n):s,longestMonth:a}},weekDay:t=>{let{format:r,contentType:i}=t;if("digit"===i){const t=vw(e,n,r).map(Number);return{minimum:Math.min(...t),maximum:Math.max(...t)}}return{minimum:1,maximum:7}},hours:n=>{let{format:i}=n;const s=e.getHours(o);return ww(e.formatByString(e.endOfDay(r),i),t)!==s.toString()?{minimum:1,maximum:Number(ww(e.formatByString(e.startOfDay(r),i),t))}:{minimum:0,maximum:s}},minutes:()=>({minimum:0,maximum:e.getMinutes(o)}),seconds:()=>({minimum:0,maximum:e.getSeconds(o)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}})(t,S,_)),[t,S,_]),T=i.useCallback((function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.getSectionsFromValue(t,e,r,(e=>Kw({utils:t,timezone:_,localeText:n,localizedDigits:S,format:m,date:e,formatDensity:g,shouldRespectLeadingZeros:y,enableAccessibleFieldDOMStructure:x,isRtl:o})))}),[a,m,n,S,o,y,t,g,_,x]),[I,M]=i.useState((()=>{const e=T(C);Ew();const n={sections:e,value:C,referenceValue:s.emptyValue,tempValueStrAndroid:null},r=(e=>Math.max(...e.map((e=>pw[e.type]??1))))(e),i=s.getInitialReferenceValue({referenceDate:f,value:C,utils:t,props:u,granularity:r,timezone:_});return(0,_e.A)({},n,{referenceValue:i})})),[E,P]=(0,Gw.A)({controlled:v,default:null,name:"useField",state:"selectedSections"}),D=e=>{P(e),b?.(e)},j=i.useMemo((()=>jw(E,I.sections)),[E,I.sections]),O="all"===j?0:j,R=e=>{let{value:n,referenceValue:i,sections:o}=e;if(M((e=>(0,_e.A)({},e,{sections:o,value:n,referenceValue:i,tempValueStrAndroid:null}))),s.areValuesEqual(t,I.value,n))return;const a={validationError:c({adapter:r,value:n,props:(0,_e.A)({},u,{value:n,timezone:_})})};k(n,a)},L=(e,t)=>{const n=[...I.sections];return n[e]=(0,_e.A)({},n[e],{value:t,modified:!0}),n};return i.useEffect((()=>{const e=T(I.value);Ew(),M((t=>(0,_e.A)({},t,{sections:e})))}),[m,t.locale,o]),i.useEffect((()=>{let e;e=!s.areValuesEqual(t,I.value,C)||s.getTimezone(t,I.value)!==s.getTimezone(t,C),e&&M((e=>(0,_e.A)({},e,{value:C,referenceValue:a.updateReferenceValue(t,C,e.referenceValue),sections:T(C)})))}),[C]),{state:I,activeSectionIndex:O,parsedSelectedSections:j,setSelectedSections:D,clearValue:()=>{R({value:s.emptyValue,referenceValue:I.referenceValue,sections:T(s.emptyValue)})},clearActiveSection:()=>{if(null==O)return;const e=I.sections[O],n=a.getActiveDateManager(t,I,e),r=n.getSections(I.sections).filter((e=>""!==e.value)).length===(""===e.value?0:1),i=L(O,""),o=r?null:t.getInvalidDate(),s=n.getNewValuesFromNewActiveDate(o);R((0,_e.A)({},s,{sections:i}))},updateSectionValue:e=>{let{activeSection:n,newSectionValue:r,shouldGoToNextSection:i}=e;i&&O<I.sections.length-1&&D(O+1);const o=a.getActiveDateManager(t,I,n),s=L(O,r),l=o.getSections(s),c=((e,t,n)=>{const r=t.some((e=>"day"===e.type)),i=[],o=[];for(let l=0;l<t.length;l+=1){const e=t[l];r&&"weekDay"===e.type||(i.push(e.format),o.push(Aw(e,"non-input",n)))}const s=i.join(" "),a=o.join(" ");return e.parse(a,s)})(t,l,S);let u,d;if(null!=c&&t.isValid(c)){const e=Dw(t,_,c,l,o.referenceDate,!0);u=o.getNewValuesFromNewActiveDate(e),d=!0}else u=o.getNewValuesFromNewActiveDate(c),d=(null!=c&&!t.isValid(c))!==(null!=o.date&&!t.isValid(o.date));return d?R((0,_e.A)({},u,{sections:s})):M((e=>(0,_e.A)({},e,u,{sections:s,tempValueStrAndroid:null})))},updateValueFromValueStr:e=>{const r=a.parseValueStr(e,I.referenceValue,((e,r)=>{const i=t.parse(e,m);if(null==i||!t.isValid(i))return null;const s=Kw({utils:t,timezone:_,localeText:n,localizedDigits:S,format:m,date:i,formatDensity:g,shouldRespectLeadingZeros:y,enableAccessibleFieldDOMStructure:x,isRtl:o});return Dw(t,_,i,s,r,!1)})),i=a.updateReferenceValue(t,r,I.referenceValue);R({value:r,referenceValue:i,sections:T(r,I.sections)})},setTempAndroidValueStr:e=>M((t=>(0,_e.A)({},t,{tempValueStrAndroid:e}))),getSectionsFromValue:T,sectionsValueBoundaries:A,localizedDigits:S,timezone:_}},tx=e=>null!=e.saveQuery,nx=e=>{let{sections:t,updateSectionValue:n,sectionsValueBoundaries:r,localizedDigits:o,setTempAndroidValueStr:s,timezone:a}=e;const l=Hw(),[c,u]=i.useState(null),d=(0,Do.A)((()=>u(null)));i.useEffect((()=>{null!=c&&t[c.sectionIndex]?.type!==c.sectionType&&d()}),[t,c,d]),i.useEffect((()=>{if(null!=c){const e=setTimeout((()=>d()),5e3);return()=>{clearTimeout(e)}}return()=>{}}),[c,d]);const h=(e,n,r)=>{let{keyPressed:i,sectionIndex:o}=e;const s=i.toLowerCase(),a=t[o];if(null!=c&&(!r||r(c.value))&&c.sectionIndex===o){const e=`${c.value}${s}`,t=n(e,a);if(!tx(t))return u({sectionIndex:o,value:e,sectionType:a.type}),t}const l=n(s,a);return tx(l)&&!l.saveQuery?(d(),null):(u({sectionIndex:o,value:s,sectionType:a.type}),tx(l)?null:l)},f=(0,Do.A)((e=>{const i=t[e.sectionIndex],c=_w(e.keyPressed,o)?(e=>{const t=(e,t)=>{const n=ww(e,o),i=Number(n),s=r[t.type]({currentDate:null,format:t.format,contentType:t.contentType});if(i>s.maximum)return{saveQuery:!1};if(i<s.minimum)return{saveQuery:!0};const a=10*i>s.maximum||n.length===s.maximum.toString().length;return{sectionValue:kw(l,i,s,o,t),shouldGoToNextSection:a}};return h(e,((e,n)=>{if("digit"===n.contentType||"digit-with-letter"===n.contentType)return t(e,n);if("month"===n.type){const r=Mw(l,a,"digit","month","MM"),i=t(e,{type:n.type,format:"MM",hasLeadingZerosInFormat:r,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(tx(i))return i;const o=Tw(l,i.sectionValue,"MM",n.format);return(0,_e.A)({},i,{sectionValue:o})}if("weekDay"===n.type){const r=t(e,n);if(tx(r))return r;const i=vw(l,a,n.format)[Number(r.sectionValue)-1];return(0,_e.A)({},r,{sectionValue:i})}return{saveQuery:!1}}),(e=>_w(e,o)))})((0,_e.A)({},e,{keyPressed:xw(e.keyPressed,o)})):(e=>{const t=(e,t,n)=>{const r=t.filter((e=>e.toLowerCase().startsWith(n)));return 0===r.length?{saveQuery:!1}:{sectionValue:r[0],shouldGoToNextSection:1===r.length}},n=(e,n,r,i)=>{const o=e=>bw(l,a,n.type,e);if("letter"===n.contentType)return t(n.format,o(n.format),e);if(r&&null!=i&&"letter"===gw(l,r).contentType){const n=o(r),s=t(0,n,e);return tx(s)?{saveQuery:!1}:(0,_e.A)({},s,{sectionValue:i(s.sectionValue,n)})}return{saveQuery:!1}};return h(e,((e,t)=>{switch(t.type){case"month":{const r=e=>Tw(l,e,l.formats.month,t.format);return n(e,t,l.formats.month,r)}case"weekDay":{const r=(e,t)=>t.indexOf(e).toString();return n(e,t,l.formats.weekday,r)}case"meridiem":return n(e,t);default:return{saveQuery:!1}}}))})(e);null!=c?n({activeSection:i,newSectionValue:c.sectionValue,shouldGoToNextSection:c.shouldGoToNextSection}):s(null)}));return{applyCharacterEditing:f,resetCharacterQuery:d}};const rx=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).activeElement;return e?e.shadowRoot?rx(e.shadowRoot):e:null},ix="@media (pointer: fine)",ox=e=>{const{internalProps:{disabled:t,readOnly:n=!1},forwardedProps:{sectionListRef:r,onBlur:o,onClick:s,onFocus:a,onInput:l,onPaste:c,focused:u,autoFocus:d=!1},fieldValueManager:h,applyCharacterEditing:f,resetCharacterQuery:p,setSelectedSections:m,parsedSelectedSections:g,state:v,clearActiveSection:b,clearValue:y,updateSectionValue:w,updateValueFromValueStr:x,sectionOrder:_,areAllSectionsEmpty:C,sectionsValueBoundaries:k}=e,S=i.useRef(null),A=(0,gn.A)(r,S),T=qw(),I=Hw(),M=(0,ca.A)(),[E,P]=i.useState(!1),D=i.useMemo((()=>({syncSelectionToDOM:()=>{if(!S.current)return;const e=document.getSelection();if(!e)return;if(null==g)return e.rangeCount>0&&S.current.getRoot().contains(e.getRangeAt(0).startContainer)&&e.removeAllRanges(),void(E&&S.current.getRoot().blur());if(!S.current.getRoot().contains(rx(document)))return;const t=new window.Range;let n;if("all"===g)n=S.current.getRoot();else{n="empty"===v.sections[g].type?S.current.getSectionContainer(g):S.current.getSectionContent(g)}t.selectNodeContents(n),n.focus(),e.removeAllRanges(),e.addRange(t)},getActiveSectionIndexFromDOM:()=>{const e=rx(document);return e&&S.current&&S.current.getRoot().contains(e)?S.current.getSectionIndexFromDOMElement(e):null},focusField:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!S.current)return;const t=jw(e,v.sections);P(!0),S.current.getSectionContent(t).focus()},setSelectedSections:e=>{if(!S.current)return;const t=jw(e,v.sections);P(null!==("all"===t?0:t)),m(e)},isFieldFocused:()=>{const e=rx(document);return!!S.current&&S.current.getRoot().contains(e)}})),[g,m,v.sections,E]),j=(0,Do.A)((e=>{if(!S.current)return;const t=v.sections[e];S.current.getSectionContent(e).innerHTML=t.value||t.placeholder,D.syncSelectionToDOM()})),O=(0,Do.A)((function(e){if(!e.isDefaultPrevented()&&S.current){P(!0);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(s?.(e,...n),"all"===g)setTimeout((()=>{const e=document.getSelection().getRangeAt(0).startOffset;if(0===e)return void m(_.startIndex);let t=0,n=0;for(;n<e&&t<v.sections.length;){const e=v.sections[t];t+=1,n+=`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`.length}m(t-1)}));else if(E){S.current.getRoot().contains(e.target)||m(_.startIndex)}else P(!0),m(_.startIndex)}})),R=(0,Do.A)((e=>{if(l?.(e),!S.current||"all"!==g)return;const t=e.target.textContent??"";S.current.getRoot().innerHTML=v.sections.map((e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`)).join(""),D.syncSelectionToDOM(),0===t.length||10===t.charCodeAt(0)?(p(),y(),m("all")):t.length>1?x(t):f({keyPressed:t,sectionIndex:0})})),L=(0,Do.A)((e=>{if(c?.(e),n||"all"!==g)return void e.preventDefault();const t=e.clipboardData.getData("text");e.preventDefault(),p(),x(t)})),N=(0,Do.A)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(a?.(...t),E||!S.current)return;P(!0);null!=S.current.getSectionIndexFromDOMElement(rx(document))||m(_.startIndex)})),B=(0,Do.A)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o?.(...t),setTimeout((()=>{if(!S.current)return;const e=rx(document);!S.current.getRoot().contains(e)&&(P(!1),m(null))}))})),F=(0,Do.A)((e=>t=>{t.isDefaultPrevented()||m(e)})),z=(0,Do.A)((e=>{e.preventDefault()})),V=(0,Do.A)((e=>()=>{m(e)})),W=(0,Do.A)((e=>{if(e.preventDefault(),n||t||"number"!==typeof g)return;const r=v.sections[g],i=e.clipboardData.getData("text"),o=/^[a-zA-Z]+$/.test(i),s=/^[0-9]+$/.test(i),a=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(i);"letter"===r.contentType&&o||"digit"===r.contentType&&s||"digit-with-letter"===r.contentType&&a?(p(),w({activeSection:r,newSectionValue:i,shouldGoToNextSection:!0})):o||s||(p(),x(i))})),H=(0,Do.A)((e=>{e.preventDefault(),e.dataTransfer.dropEffect="none"})),U=(0,Do.A)((e=>{if(!S.current)return;const t=e.target,r=t.textContent??"",i=S.current.getSectionIndexFromDOMElement(t),o=v.sections[i];if(!n&&S.current){if(0===r.length){if(""===o.value)return void j(i);const t=e.nativeEvent.inputType;return"insertParagraph"===t||"insertLineBreak"===t?void j(i):(p(),void b())}f({keyPressed:r,sectionIndex:i}),j(i)}else j(i)}));(0,vn.A)((()=>{if(E&&S.current)if("all"===g)S.current.getRoot().focus();else if("number"===typeof g){const e=S.current.getSectionContent(g);e&&e.focus()}}),[g,E]);const $=i.useMemo((()=>v.sections.reduce(((e,t)=>(e[t.type]=k[t.type]({currentDate:null,contentType:t.contentType,format:t.format}),e)),{})),[k,v.sections]),Y="all"===g,G=i.useMemo((()=>v.sections.map(((e,r)=>{const o=!Y&&!t&&!n;return{container:{"data-sectionindex":r,onClick:F(r)},content:{tabIndex:Y||r>0?-1:0,contentEditable:!Y&&!t&&!n,role:"spinbutton",id:`${M}-${e.type}`,"aria-labelledby":`${M}-${e.type}`,"aria-readonly":n,"aria-valuenow":Rw(e,I),"aria-valuemin":$[e.type].minimum,"aria-valuemax":$[e.type].maximum,"aria-valuetext":e.value?Ow(e,I):T.empty,"aria-label":T[e.type],"aria-disabled":t,spellCheck:!o&&void 0,autoCapitalize:o?"off":void 0,autoCorrect:o?"off":void 0,[parseInt(i.version,10)>=17?"enterKeyHint":"enterkeyhint"]:o?"next":void 0,children:e.value||e.placeholder,onInput:U,onPaste:W,onFocus:V(r),onDragOver:H,onMouseUp:z,inputMode:"letter"===e.contentType?"text":"numeric"},before:{children:e.startSeparator},after:{children:e.endSeparator}}}))),[v.sections,V,W,H,U,F,z,t,n,Y,T,I,$,M]),q=(0,Do.A)((e=>{x(e.target.value)})),X=i.useMemo((()=>C?"":h.getV7HiddenInputValueFromSections(v.sections)),[C,v.sections,h]);return i.useEffect((()=>{if(null==S.current)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join("\n"));d&&S.current&&S.current.getSectionContent(_.startIndex).focus()}),[]),{interactions:D,returnedValue:{autoFocus:d,readOnly:n,focused:u??E,sectionListRef:A,onBlur:B,onClick:O,onFocus:N,onInput:R,onPaste:L,enableAccessibleFieldDOMStructure:!0,elements:G,tabIndex:0===g?-1:0,contentEditable:Y,value:X,onChange:q,areAllSectionsEmpty:C}}},sx=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),ax=e=>{const t=zt(),n=i.useRef(),r=i.useRef(),{forwardedProps:{onFocus:o,onClick:s,onPaste:a,onBlur:l,inputRef:c,placeholder:u},internalProps:{readOnly:d=!1,disabled:h=!1},parsedSelectedSections:f,activeSectionIndex:p,state:m,fieldValueManager:g,valueManager:v,applyCharacterEditing:b,resetCharacterQuery:y,updateSectionValue:w,updateValueFromValueStr:x,clearActiveSection:_,clearValue:C,setTempAndroidValueStr:k,setSelectedSections:S,getSectionsFromValue:A,areAllSectionsEmpty:T,localizedDigits:I}=e,M=i.useRef(null),E=(0,gn.A)(c,M),P=i.useMemo((()=>((e,t,n)=>{let r=0,i=n?1:0;const o=[];for(let s=0;s<e.length;s+=1){const a=e[s],l=Aw(a,n?"input-rtl":"input-ltr",t),c=`${a.startSeparator}${l}${a.endSeparator}`,u=sx(c).length,d=c.length,h=sx(l),f=i+(""===h?0:l.indexOf(h[0]))+a.startSeparator.length,p=f+h.length;o.push((0,_e.A)({},a,{start:r,end:r+u,startInInput:f,endInInput:p})),r+=u,i+=d}return o})(m.sections,I,t)),[m.sections,I,t]),D=i.useMemo((()=>({syncSelectionToDOM:()=>{if(!M.current)return;if(null==f)return void(M.current.scrollLeft&&(M.current.scrollLeft=0));if(M.current!==rx(document))return;const e=M.current.scrollTop;if("all"===f)M.current.select();else{const e=P[f],t="empty"===e.type?e.startInInput-e.startSeparator.length:e.startInInput,n="empty"===e.type?e.endInInput+e.endSeparator.length:e.endInInput;t===M.current.selectionStart&&n===M.current.selectionEnd||M.current===rx(document)&&M.current.setSelectionRange(t,n),clearTimeout(r.current),r.current=setTimeout((()=>{!M.current||M.current!==rx(document)||M.current.selectionStart!==M.current.selectionEnd||M.current.selectionStart===t&&M.current.selectionEnd===n||D.syncSelectionToDOM()}))}M.current.scrollTop=e},getActiveSectionIndexFromDOM:()=>{const e=M.current.selectionStart??0,t=M.current.selectionEnd??0;if(0===e&&0===t)return null;const n=e<=P[0].startInInput?1:P.findIndex((t=>t.startInInput-t.startSeparator.length>e));return-1===n?P.length-1:n-1},focusField:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;M.current?.focus(),S(e)},setSelectedSections:e=>S(e),isFieldFocused:()=>M.current===rx(document)})),[M,f,P,S]),j=()=>{const e=M.current.selectionStart??0;let t;t=e<=P[0].startInInput||e>=P[P.length-1].endInInput?1:P.findIndex((t=>t.startInInput-t.startSeparator.length>e));const n=-1===t?P.length-1:t-1;S(n)},O=(0,Do.A)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o?.(...t);const i=M.current;clearTimeout(n.current),n.current=setTimeout((()=>{i&&i===M.current&&null==p&&(i.value.length&&Number(i.selectionEnd)-Number(i.selectionStart)===i.value.length?S("all"):j())}))})),R=(0,Do.A)((function(e){if(!e.isDefaultPrevented()){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];s?.(e,...n),j()}})),L=(0,Do.A)((e=>{if(a?.(e),e.preventDefault(),d||h)return;const t=e.clipboardData.getData("text");if("number"===typeof f){const e=m.sections[f],n=/^[a-zA-Z]+$/.test(t),r=/^[0-9]+$/.test(t),i=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(t);if("letter"===e.contentType&&n||"digit"===e.contentType&&r||"digit-with-letter"===e.contentType&&i)return y(),void w({activeSection:e,newSectionValue:t,shouldGoToNextSection:!0});if(n||r)return}y(),x(t)})),N=(0,Do.A)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];l?.(...t),S(null)})),B=(0,Do.A)((e=>{if(d)return;const n=e.target.value;if(""===n)return y(),void C();const r=e.nativeEvent.data,i=r&&r.length>1,o=i?r:n,s=sx(o);if(null==p||i)return void x(i?r:s);let a;if("all"===f&&1===s.length)a=s;else{const e=sx(g.getV6InputValueFromSections(P,I,t));let n=-1,r=-1;for(let t=0;t<e.length;t+=1)-1===n&&e[t]!==s[t]&&(n=t),-1===r&&e[e.length-t-1]!==s[s.length-t-1]&&(r=t);const i=P[p];if(n<i.start||e.length-r-1>i.end)return;const o=s.length-e.length+i.end-sx(i.endSeparator||"").length;a=s.slice(i.start+sx(i.startSeparator||"").length,o)}if(0===a.length)return navigator.userAgent.toLowerCase().includes("android")&&k(o),y(),void _();b({keyPressed:a,sectionIndex:p})})),F=i.useMemo((()=>void 0!==u?u:g.getV6InputValueFromSections(A(v.emptyValue),I,t)),[u,g,A,v.emptyValue,I,t]),z=i.useMemo((()=>m.tempValueStrAndroid??g.getV6InputValueFromSections(m.sections,I,t)),[m.sections,g,m.tempValueStrAndroid,I,t]);i.useEffect((()=>(M.current&&M.current===rx(document)&&S("all"),()=>{clearTimeout(n.current),clearTimeout(r.current)})),[]);const V=i.useMemo((()=>null==p||"letter"===m.sections[p].contentType?"text":"numeric"),[p,m.sections]),W=M.current&&M.current===rx(document);return{interactions:D,returnedValue:{readOnly:d,onBlur:N,onClick:R,onFocus:O,onPaste:L,inputRef:E,enableAccessibleFieldDOMStructure:!1,placeholder:F,inputMode:V,autoComplete:"off",value:!W&&T?"":z,onChange:B}}},lx=e=>{let{props:t,value:n,adapter:r}=e;if(null===n)return null;const{shouldDisableDate:i,shouldDisableMonth:o,shouldDisableYear:s,disablePast:a,disableFuture:l,timezone:c}=t,u=r.utils.date(void 0,c),d=Ky(r.utils,t.minDate,r.defaultDates.minDate),h=Ky(r.utils,t.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(n):return"invalidDate";case Boolean(i&&i(n)):return"shouldDisableDate";case Boolean(o&&o(n)):return"shouldDisableMonth";case Boolean(s&&s(n)):return"shouldDisableYear";case Boolean(l&&r.utils.isAfterDay(n,u)):return"disableFuture";case Boolean(a&&r.utils.isBeforeDay(n,u)):return"disablePast";case Boolean(d&&r.utils.isBeforeDay(n,d)):return"minDate";case Boolean(h&&r.utils.isAfterDay(n,h)):return"maxDate";default:return null}},cx=e=>{let{props:t,value:n,adapter:r}=e;const i=lx({adapter:r,value:n,props:t});return null!==i?i:(e=>{let{adapter:t,value:n,props:r}=e;if(null===n)return null;const{minTime:i,maxTime:o,minutesStep:s,shouldDisableTime:a,disableIgnoringDatePartForTimeValidation:l=!1,disablePast:c,disableFuture:u,timezone:d}=r,h=t.utils.date(void 0,d),f=hw(l,t.utils);switch(!0){case!t.utils.isValid(n):return"invalidDate";case Boolean(i&&f(i,n)):return"minTime";case Boolean(o&&f(n,o)):return"maxTime";case Boolean(u&&t.utils.isAfter(n,h)):return"disableFuture";case Boolean(c&&t.utils.isBefore(n,h)):return"disablePast";case Boolean(a&&a(n,"hours")):return"shouldDisableTime-hours";case Boolean(a&&a(n,"minutes")):return"shouldDisableTime-minutes";case Boolean(a&&a(n,"seconds")):return"shouldDisableTime-seconds";case Boolean(s&&t.utils.getMinutes(n)%s!==0):return"minutesStep";default:return null}})({adapter:r,value:n,props:t})},ux=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],dx=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],hx=["minDateTime","maxDateTime"],fx=[...ux,...dx,...hx],px=e=>fx.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{}),mx=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],gx=e=>{const t=(e=>{const t=Hw(),n=Uw(),r=e.ampm??t.is12HourCycleInCurrentLocale()?t.formats.keyboardDateTime12h:t.formats.keyboardDateTime24h;return(0,_e.A)({},e,{disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,format:e.format??r,disableIgnoringDatePartForTimeValidation:Boolean(e.minDateTime||e.maxDateTime),minDate:Ky(t,e.minDateTime??e.minDate,n.minDate),maxDate:Ky(t,e.maxDateTime??e.maxDate,n.maxDate),minTime:e.minDateTime??e.minTime,maxTime:e.maxDateTime??e.maxTime})})(e),{forwardedProps:n,internalProps:r}=((e,t)=>{const n=(0,_e.A)({},e),r={},i=e=>{n.hasOwnProperty(e)&&(r[e]=n[e],delete n[e])};return mx.forEach(i),"date"===t?ux.forEach(i):"time"===t?dx.forEach(i):"date-time"===t&&(ux.forEach(i),dx.forEach(i),hx.forEach(i)),{forwardedProps:n,internalProps:r}})(t,"date-time");return(e=>{const t=Hw(),{internalProps:n,internalProps:{unstableFieldRef:r,minutesStep:o,enableAccessibleFieldDOMStructure:s=!1,disabled:a=!1,readOnly:l=!1},forwardedProps:{onKeyDown:c,error:u,clearable:d,onClear:h},fieldValueManager:f,valueManager:p,validator:m}=e,g=zt(),v=ex(e),{state:b,activeSectionIndex:y,parsedSelectedSections:w,setSelectedSections:x,clearValue:_,clearActiveSection:C,updateSectionValue:k,setTempAndroidValueStr:S,sectionsValueBoundaries:A,localizedDigits:T,timezone:I}=v,M=nx({sections:b.sections,updateSectionValue:k,sectionsValueBoundaries:A,localizedDigits:T,setTempAndroidValueStr:S,timezone:I}),{resetCharacterQuery:E}=M,P=p.areValuesEqual(t,b.value,p.emptyValue),D=s?ox:ax,j=i.useMemo((()=>((e,t)=>{const n={};if(!t)return e.forEach(((t,r)=>{const i=0===r?null:r-1,o=r===e.length-1?null:r+1;n[r]={leftIndex:i,rightIndex:o}})),{neighbors:n,startIndex:0,endIndex:e.length-1};const r={},i={};let o=0,s=0,a=e.length-1;for(;a>=0;){s=e.findIndex(((e,t)=>t>=o&&e.endSeparator?.includes(" ")&&" / "!==e.endSeparator)),-1===s&&(s=e.length-1);for(let e=s;e>=o;e-=1)i[e]=a,r[a]=e,a-=1;o=s+1}return e.forEach(((t,o)=>{const s=i[o],a=0===s?null:r[s-1],l=s===e.length-1?null:r[s+1];n[o]={leftIndex:a,rightIndex:l}})),{neighbors:n,startIndex:r[0],endIndex:r[e.length-1]}})(b.sections,g&&!s)),[b.sections,g,s]),{returnedValue:O,interactions:R}=D((0,_e.A)({},e,v,M,{areAllSectionsEmpty:P,sectionOrder:j})),L=(0,Do.A)((e=>{if(c?.(e),!a)switch(!0){case(e.ctrlKey||e.metaKey)&&"a"===e.key.toLowerCase()&&!e.shiftKey&&!e.altKey:e.preventDefault(),x("all");break;case"ArrowRight"===e.key:if(e.preventDefault(),null==w)x(j.startIndex);else if("all"===w)x(j.endIndex);else{const e=j.neighbors[w].rightIndex;null!==e&&x(e)}break;case"ArrowLeft"===e.key:if(e.preventDefault(),null==w)x(j.endIndex);else if("all"===w)x(j.startIndex);else{const e=j.neighbors[w].leftIndex;null!==e&&x(e)}break;case"Delete"===e.key:if(e.preventDefault(),l)break;null==w||"all"===w?_():C(),E();break;case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(e.key):{if(e.preventDefault(),l||null==y)break;const n=b.sections[y],r=f.getActiveDateManager(t,b,n),i=Sw(t,I,n,e.key,A,T,r.date,{minutesStep:o});k({activeSection:n,newSectionValue:i,shouldGoToNextSection:!1});break}}}));(0,vn.A)((()=>{R.syncSelectionToDOM()}));const N=Yw((0,_e.A)({},n,{value:b.value,timezone:I}),m,p.isSameError,p.defaultErrorState),B=i.useMemo((()=>void 0!==u?u:p.hasError(N)),[p,N,u]);i.useEffect((()=>{B||null!=y||E()}),[b.referenceValue,y,B]),i.useEffect((()=>{null!=b.tempValueStrAndroid&&null!=y&&(E(),C())}),[b.sections]),i.useImperativeHandle(r,(()=>({getSections:()=>b.sections,getActiveSectionIndex:R.getActiveSectionIndexFromDOM,setSelectedSections:R.setSelectedSections,focusField:R.focusField,isFieldFocused:R.isFieldFocused})));const F={onKeyDown:L,onClear:(0,Do.A)((function(e){e.preventDefault();for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];h?.(e,...n),_(),R.isFieldFocused()?x(j.startIndex):R.focusField(0)})),error:B,clearable:Boolean(d&&!P&&!l&&!a)},z={disabled:a,readOnly:l};return(0,_e.A)({},e.forwardedProps,F,z,O)})({forwardedProps:n,internalProps:r,valueManager:Nw,fieldValueManager:Bw,validator:cx,valueType:"date-time"})};function vx(e){return(0,He.Ay)("MuiInputAdornment",e)}const bx=(0,Fe.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var yx;const wx=["children","className","component","disablePointerEvents","disableTypography","position","variant"],xx=(0,ft.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,ht.A)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{[`&.${bx.positionStart}&:not(.${bx.hiddenLabel})`]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),_x=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiInputAdornment"}),{children:r,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:u}=n,d=(0,Ce.A)(n,wx),h=Om()||{};let f=u;u&&h.variant,h&&!f&&(f=h.variant);const p=(0,_e.A)({},n,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:a,position:c,variant:f}),m=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=e,a={root:["root",n&&"disablePointerEvents",i&&`position${(0,ht.A)(i)}`,s,r&&"hiddenLabel",o&&`size${(0,ht.A)(o)}`]};return(0,Ue.A)(a,vx,t)})(p);return(0,je.jsx)(jm.Provider,{value:null,children:(0,je.jsx)(xx,(0,_e.A)({as:s,ownerState:p,className:(0,ke.A)(m.root,o),ref:t},d,{children:"string"!==typeof r||l?(0,je.jsxs)(i.Fragment,{children:["start"===c?yx||(yx=(0,je.jsx)("span",{className:"notranslate",children:"\u200b"})):null,r]}):(0,je.jsx)(Ks,{color:"text.secondary",children:r})}))})})),Cx=_x,kx=(0,hp.A)((0,je.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Sx=(0,hp.A)((0,je.jsx)("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Ax=(0,hp.A)((0,je.jsx)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Tx=(0,hp.A)((0,je.jsx)("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),Ix=((0,hp.A)((0,je.jsxs)(i.Fragment,{children:[(0,je.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,je.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock"),(0,hp.A)((0,je.jsx)("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange")),Mx=(0,hp.A)((0,je.jsxs)(i.Fragment,{children:[(0,je.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,je.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),Ex=(0,hp.A)((0,je.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),Px=["clearable","onClear","InputProps","sx","slots","slotProps"],Dx=["ownerState"];function jx(e){return(0,He.Ay)("MuiPickersTextField",e)}const Ox=(0,Fe.A)("MuiPickersTextField",["root","focused","disabled","error","required"]);function Rx(e){return(0,He.Ay)("MuiPickersInputBase",e)}const Lx=(0,Fe.A)("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function Nx(e){return(0,He.Ay)("MuiPickersOutlinedInput",e)}const Bx=(0,_e.A)({},Lx,(0,Fe.A)("MuiPickersOutlinedInput",["root","notchedOutline","input"])),Fx=["children","className","label","notched","shrink"],zx=(0,ft.Ay)("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}})),Vx=(0,ft.Ay)("span")((e=>{let{theme:t}=e;return{fontFamily:t.typography.fontFamily,fontSize:"inherit"}})),Wx=(0,ft.Ay)("legend")((e=>{let{theme:t}=e;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}}));function Hx(e){const{className:t,label:n}=e,r=(0,Ce.A)(e,Fx),i=null!=n&&""!==n,o=(0,_e.A)({},e,{withLabel:i});return(0,je.jsx)(zx,(0,_e.A)({"aria-hidden":!0,className:t},r,{ownerState:o,children:(0,je.jsx)(Wx,{ownerState:o,children:i?(0,je.jsx)(Vx,{children:n}):(0,je.jsx)(Vx,{className:"notranslate",children:"\u200b"})})}))}const Ux={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function $x(e){return(0,He.Ay)("MuiPickersSectionList",e)}const Yx=(0,Fe.A)("MuiPickersSectionList",["root","section","sectionContent"]),Gx=["slots","slotProps","elements","sectionListRef"],qx=(0,ft.Ay)("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(e,t)=>t.root})({direction:"ltr /*! @noflip */",outline:"none"}),Xx=(0,ft.Ay)("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(e,t)=>t.section})({}),Zx=(0,ft.Ay)("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(e,t)=>t.sectionSeparator})({whiteSpace:"pre"}),Kx=(0,ft.Ay)("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(e,t)=>t.sectionContent})({outline:"none"});function Qx(e){const{slots:t,slotProps:n,element:r,classes:i}=e,o=t?.section??Xx,s=Hr({elementType:o,externalSlotProps:n?.section,externalForwardedProps:r.container,className:i.section,ownerState:{}}),a=t?.sectionContent??Kx,l=Hr({elementType:a,externalSlotProps:n?.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:i.sectionContent,ownerState:{}}),c=t?.sectionSeparator??Zx,u=Hr({elementType:c,externalSlotProps:n?.sectionSeparator,externalForwardedProps:r.before,ownerState:{position:"before"}}),d=Hr({elementType:c,externalSlotProps:n?.sectionSeparator,externalForwardedProps:r.after,ownerState:{position:"after"}});return(0,je.jsxs)(o,(0,_e.A)({},s,{children:[(0,je.jsx)(c,(0,_e.A)({},u)),(0,je.jsx)(a,(0,_e.A)({},l)),(0,je.jsx)(c,(0,_e.A)({},d))]}))}const Jx=i.forwardRef((function(e,t){const n=Ly({props:e,name:"MuiPickersSectionList"}),{slots:r,slotProps:o,elements:s,sectionListRef:a}=n,l=(0,Ce.A)(n,Gx),c=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"],section:["section"],sectionContent:["sectionContent"]},$x,t)})(n),u=i.useRef(null),d=(0,gn.A)(t,u),h=e=>{if(!u.current)throw new Error(`MUI X: Cannot call sectionListRef.${e} before the mount of the component.`);return u.current};i.useImperativeHandle(a,(()=>({getRoot:()=>h("getRoot"),getSectionContainer:e=>h("getSectionContainer").querySelector(`.${Yx.section}[data-sectionindex="${e}"]`),getSectionContent:e=>h("getSectionContent").querySelector(`.${Yx.section}[data-sectionindex="${e}"] .${Yx.sectionContent}`),getSectionIndexFromDOMElement(e){const t=h("getSectionIndexFromDOMElement");if(null==e||!t.contains(e))return null;let n=null;return e.classList.contains(Yx.section)?n=e:e.classList.contains(Yx.sectionContent)&&(n=e.parentElement),null==n?null:Number(n.dataset.sectionindex)}})));const f=r?.root??qx,p=Hr({elementType:f,externalSlotProps:o?.root,externalForwardedProps:l,additionalProps:{ref:d,suppressContentEditableWarning:!0},className:c.root,ownerState:{}});return(0,je.jsx)(f,(0,_e.A)({},p,{children:p.contentEditable?s.map((e=>{let{content:t,before:n,after:r}=e;return`${n.children}${t.children}${r.children}`})).join(""):(0,je.jsx)(i.Fragment,{children:s.map(((e,t)=>(0,je.jsx)(Qx,{slots:r,slotProps:o,element:e,classes:c},t)))})}))})),e_=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],t_=e=>Math.round(1e5*e)/1e5,n_=(0,ft.Ay)("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return(0,_e.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${t_(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})})),r_=(0,ft.Ay)(qx,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})((e=>{let{theme:t}=e;return{padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{isRtl:!0},style:{textAlign:"right /*! @noflip */"}},{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:e=>{let{adornedStart:t,focused:n,filled:r,label:i}=e;return!t&&!n&&!r&&null==i},style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:"light"===t.palette.mode?.42:.5}}]}})),i_=(0,ft.Ay)(Xx,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(e,t)=>t.section})((e=>{let{theme:t}=e;return{fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"}})),o_=(0,ft.Ay)(Kx,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,t)=>t.content})((e=>{let{theme:t}=e;return{fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"}})),s_=(0,ft.Ay)(Zx,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(e,t)=>t.separator})((()=>({whiteSpace:"pre",letterSpacing:"inherit"}))),a_=(0,ft.Ay)("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,t)=>t.hiddenInput})((0,_e.A)({},Ux)),l_=i.forwardRef((function(e,t){const n=Ly({props:e,name:"MuiPickersInputBase"}),{elements:r,areAllSectionsEmpty:o,value:s,onChange:a,id:l,endAdornment:c,startAdornment:u,renderSuffix:d,slots:h,slotProps:f,contentEditable:p,tabIndex:m,onInput:g,onPaste:v,onKeyDown:b,name:y,readOnly:w,inputProps:x,inputRef:_,sectionListRef:C}=n,k=(0,Ce.A)(n,e_),S=i.useRef(null),A=(0,gn.A)(t,S),T=(0,gn.A)(x?.ref,_),I=zt(),M=Om();if(!M)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");i.useEffect((()=>{M&&M.setAdornedStart(Boolean(u))}),[M,u]),i.useEffect((()=>{M&&(o?M.onEmpty():M.onFilled())}),[M,o]);const E=(0,_e.A)({},n,M,{isRtl:I}),P=(e=>{const{focused:t,disabled:n,error:r,classes:i,fullWidth:o,readOnly:s,color:a,size:l,endAdornment:c,startAdornment:u}=e,d={root:["root",t&&!n&&"focused",n&&"disabled",s&&"readOnly",r&&"error",o&&"fullWidth",`color${(0,$e.A)(a)}`,"small"===l&&"inputSizeSmall",Boolean(u)&&"adornedStart",Boolean(c)&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return(0,Ue.A)(d,Rx,i)})(E),D=h?.root||n_,j=Hr({elementType:D,externalSlotProps:f?.root,externalForwardedProps:k,additionalProps:{"aria-invalid":M.error,ref:A},className:P.root,ownerState:E}),O=h?.input||r_;return(0,je.jsxs)(D,(0,_e.A)({},j,{children:[u,(0,je.jsx)(Jx,{sectionListRef:C,elements:r,contentEditable:p,tabIndex:m,className:P.sectionsContainer,onFocus:e=>{M.disabled?e.stopPropagation():M.onFocus?.(e)},onBlur:M.onBlur,onInput:g,onPaste:v,onKeyDown:b,slots:{root:O,section:i_,sectionContent:o_,sectionSeparator:s_},slotProps:{root:{ownerState:E},sectionContent:{className:Lx.sectionContent},sectionSeparator:e=>{let{position:t}=e;return{className:"before"===t?Lx.sectionBefore:Lx.sectionAfter}}}}),c,d?d((0,_e.A)({},M)):null,(0,je.jsx)(a_,(0,_e.A)({name:y,className:P.input,value:s,onChange:a,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:w,required:M.required,disabled:M.disabled},x,{ref:T}))]}))})),c_=["label","autoFocus","ownerState","notched"],u_=(0,ft.Ay)(n_,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Bx.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Bx.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Bx.focused} .${Bx.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${Bx.disabled}`]:{[`& .${Bx.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled},"*":{color:(t.vars||t).palette.action.disabled}},[`&.${Bx.error} .${Bx.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},variants:Object.keys((t.vars??t).palette).filter((e=>(t.vars??t).palette[e]?.main??!1)).map((e=>({props:{color:e},style:{[`&.${Bx.focused}:not(.${Bx.error}) .${Bx.notchedOutline}`]:{borderColor:(t.vars||t).palette[e].main}}})))}})),d_=(0,ft.Ay)(r_,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),h_=i.forwardRef((function(e,t){const n=Ly({props:e,name:"MuiPickersOutlinedInput"}),{label:r,ownerState:o,notched:s}=n,a=(0,Ce.A)(n,c_),l=Om(),c=(0,_e.A)({},n,o,l,{color:l?.color||"primary"}),u=(e=>{const{classes:t}=e,n=(0,Ue.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Nx,t);return(0,_e.A)({},t,n)})(c);return(0,je.jsx)(l_,(0,_e.A)({slots:{root:u_,input:d_},renderSuffix:e=>(0,je.jsx)(Hx,{shrink:Boolean(s||e.adornedStart||e.focused||e.filled),notched:Boolean(s||e.adornedStart||e.focused||e.filled),className:u.notchedOutline,label:null!=r&&""!==r&&l?.required?(0,je.jsxs)(i.Fragment,{children:[r,"\u2009","*"]}):r,ownerState:c})},a,{label:r,classes:u,ref:t}))}));function f_(e){return(0,He.Ay)("MuiPickersFilledInput",e)}h_.muiName="Input";const p_=(0,_e.A)({},Lx,(0,Fe.A)("MuiPickersFilledInput",["root","underline","input"])),m_=["label","autoFocus","disableUnderline","ownerState"],g_=(0,ft.Ay)(n_,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Je(e)&&"disableUnderline"!==e})((e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${p_.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${p_.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[...Object.keys((t.vars??t).palette).filter((e=>(t.vars??t).palette[e].main)).map((e=>({props:{color:e,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e]?.main}`}}}))),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${p_.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${p_.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${p_.disabled}, .${p_.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${p_.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:e=>{let{startAdornment:t}=e;return!!t},style:{paddingLeft:12}},{props:e=>{let{endAdornment:t}=e;return!!t},style:{paddingRight:12}}]}})),v_=(0,ft.Ay)(r_,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{startAdornment:t}=e;return!!t},style:{paddingLeft:0}},{props:e=>{let{endAdornment:t}=e;return!!t},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),b_=i.forwardRef((function(e,t){const n=Ly({props:e,name:"MuiPickersFilledInput"}),{label:r,disableUnderline:i=!1,ownerState:o}=n,s=(0,Ce.A)(n,m_),a=Om(),l=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},i=(0,Ue.A)(r,f_,t);return(0,_e.A)({},t,i)})((0,_e.A)({},n,o,a,{color:a?.color||"primary"}));return(0,je.jsx)(l_,(0,_e.A)({slots:{root:g_,input:v_},slotProps:{root:{disableUnderline:i}}},s,{label:r,classes:l,ref:t}))}));function y_(e){return(0,He.Ay)("MuiPickersFilledInput",e)}b_.muiName="Input";const w_=(0,_e.A)({},Lx,(0,Fe.A)("MuiPickersInput",["root","input"])),x_=["label","autoFocus","disableUnderline","ownerState"],__=(0,ft.Ay)(n_,{name:"MuiPickersInput",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;let n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((t.vars??t).palette).filter((e=>(t.vars??t).palette[e].main)).map((e=>({props:{color:e},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e].main}`}}}))),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${w_.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${w_.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${w_.disabled}, .${w_.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${w_.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}})),C_=i.forwardRef((function(e,t){const n=Ly({props:e,name:"MuiPickersInput"}),{label:r,disableUnderline:i=!1,ownerState:o}=n,s=(0,Ce.A)(n,x_),a=Om(),l=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},i=(0,Ue.A)(r,y_,t);return(0,_e.A)({},t,i)})((0,_e.A)({},n,o,a,{disableUnderline:i,color:a?.color||"primary"}));return(0,je.jsx)(l_,(0,_e.A)({slots:{root:__}},s,{label:r,classes:l,ref:t}))}));C_.muiName="Input";const k_=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],S_={standard:C_,filled:b_,outlined:h_},A_=(0,ft.Ay)(Fg,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),T_=i.forwardRef((function(e,t){const n=Ly({props:e,name:"MuiPickersTextField"}),{onFocus:r,onBlur:o,className:s,color:a="primary",disabled:l=!1,error:c=!1,variant:u="outlined",required:d=!1,InputProps:h,inputProps:f,inputRef:p,sectionListRef:m,elements:g,areAllSectionsEmpty:v,onClick:b,onKeyDown:y,onKeyUp:w,onPaste:x,onInput:_,endAdornment:C,startAdornment:k,tabIndex:S,contentEditable:A,focused:T,value:I,onChange:M,fullWidth:E,id:P,name:D,helperText:j,FormHelperTextProps:O,label:R,InputLabelProps:L}=n,N=(0,Ce.A)(n,k_),B=i.useRef(null),F=(0,gn.A)(t,B),z=(0,ca.A)(P),V=j&&z?`${z}-helper-text`:void 0,W=R&&z?`${z}-label`:void 0,H=(0,_e.A)({},n,{color:a,disabled:l,error:c,focused:T,required:d,variant:u}),U=(e=>{const{focused:t,disabled:n,classes:r,required:i}=e,o={root:["root",t&&!n&&"focused",n&&"disabled",i&&"required"]};return(0,Ue.A)(o,jx,r)})(H),$=S_[u];return(0,je.jsxs)(A_,(0,_e.A)({className:(0,ke.A)(U.root,s),ref:F,focused:T,onFocus:r,onBlur:o,disabled:l,variant:u,error:c,color:a,fullWidth:E,required:d,ownerState:H},N,{children:[(0,je.jsx)(jg,(0,_e.A)({htmlFor:z,id:W},L,{children:R})),(0,je.jsx)($,(0,_e.A)({elements:g,areAllSectionsEmpty:v,onClick:b,onKeyDown:y,onKeyUp:w,onInput:_,onPaste:x,endAdornment:C,startAdornment:k,tabIndex:S,contentEditable:A,value:I,onChange:M,id:z,fullWidth:E,inputProps:f,inputRef:p,sectionListRef:m,label:R,name:D,role:"group","aria-labelledby":W},h)),j&&(0,je.jsx)(Yg,(0,_e.A)({id:V},O,{children:j}))]}))})),I_=["enableAccessibleFieldDOMStructure"],M_=["InputProps","readOnly"],E_=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],P_=["slots","slotProps","InputProps","inputProps"],D_=i.forwardRef((function(e,t){const n=Ly({props:e,name:"MuiDateTimeField"}),{slots:r,slotProps:o,InputProps:s,inputProps:a}=n,l=(0,Ce.A)(n,P_),c=n,u=r?.textField??(e.enableAccessibleFieldDOMStructure?T_:Mv),d=Hr({elementType:u,externalSlotProps:o?.textField,externalForwardedProps:l,ownerState:c,additionalProps:{ref:t}});d.inputProps=(0,_e.A)({},a,d.inputProps),d.InputProps=(0,_e.A)({},s,d.InputProps);const h=(e=>{let{enableAccessibleFieldDOMStructure:t}=e,n=(0,Ce.A)(e,I_);if(t){const{InputProps:e,readOnly:t}=n,r=(0,Ce.A)(n,M_);return(0,_e.A)({},r,{InputProps:(0,_e.A)({},e??{},{readOnly:t})})}const{onPaste:r,onKeyDown:i,inputMode:o,readOnly:s,InputProps:a,inputProps:l,inputRef:c}=n,u=(0,Ce.A)(n,E_);return(0,_e.A)({},u,{InputProps:(0,_e.A)({},a??{},{readOnly:s}),inputProps:(0,_e.A)({},l??{},{inputMode:o,onPaste:r,onKeyDown:i,ref:c})})})(gx(d)),f=(e=>{const t=qw(),{clearable:n,onClear:r,InputProps:o,sx:s,slots:a,slotProps:l}=e,c=(0,Ce.A)(e,Px),u=a?.clearButton??eo,d=Hr({elementType:u,externalSlotProps:l?.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:t.fieldClearLabel}}),h=(0,Ce.A)(d,Dx),f=a?.clearIcon??Ex,p=Hr({elementType:f,externalSlotProps:l?.clearIcon,ownerState:{}});return(0,_e.A)({},c,{InputProps:(0,_e.A)({},o,{endAdornment:(0,je.jsxs)(i.Fragment,{children:[n&&(0,je.jsx)(Cx,{position:"end",sx:{marginRight:o?.endAdornment?-1:-1.5},children:(0,je.jsx)(u,(0,_e.A)({},h,{onClick:r,children:(0,je.jsx)(f,(0,_e.A)({fontSize:"small"},p))}))}),o?.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(s)?s:[s]]})})((0,_e.A)({},h,{slots:r,slotProps:o}));return(0,je.jsx)(u,(0,_e.A)({},f))}));function j_(e){return(0,He.Ay)("MuiTab",e)}const O_=(0,Fe.A)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),R_=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],L_=(0,ft.Ay)(qi,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${(0,ht.A)(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${O_.iconWrapper}`]:t.iconWrapper}]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},n.label&&{flexDirection:"top"===n.iconPosition||"bottom"===n.iconPosition?"column":"row"},{lineHeight:1.25},n.icon&&n.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${O_.iconWrapper}`]:(0,_e.A)({},"top"===n.iconPosition&&{marginBottom:6},"bottom"===n.iconPosition&&{marginTop:6},"start"===n.iconPosition&&{marginRight:t.spacing(1)},"end"===n.iconPosition&&{marginLeft:t.spacing(1)})},"inherit"===n.textColor&&{color:"inherit",opacity:.6,[`&.${O_.selected}`]:{opacity:1},[`&.${O_.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"primary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,[`&.${O_.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${O_.disabled}`]:{color:(t.vars||t).palette.text.disabled}},"secondary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,[`&.${O_.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${O_.disabled}`]:{color:(t.vars||t).palette.text.disabled}},n.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},n.wrapped&&{fontSize:t.typography.pxToRem(12)})})),N_=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiTab"}),{className:r,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:h,onClick:f,onFocus:p,selected:m,selectionFollowsFocus:g,textColor:v="inherit",value:b,wrapped:y=!1}=n,w=(0,Ce.A)(n,R_),x=(0,_e.A)({},n,{disabled:o,disableFocusRipple:s,selected:m,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:v,wrapped:y}),_=(e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:l}=e,c={root:["root",o&&s&&"labelIcon",`textColor${(0,ht.A)(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return(0,Ue.A)(c,j_,t)})(x),C=l&&d&&i.isValidElement(l)?i.cloneElement(l,{className:(0,ke.A)(_.iconWrapper,l.props.className)}):l;return(0,je.jsxs)(L_,(0,_e.A)({focusRipple:!s,className:(0,ke.A)(_.root,r),ref:t,role:"tab","aria-selected":m,disabled:o,onClick:e=>{!m&&h&&h(e,b),f&&f(e)},onFocus:e=>{g&&!m&&h&&h(e,b),p&&p(e)},ownerState:x,tabIndex:m?0:-1},w,{children:["top"===c||"start"===c?(0,je.jsxs)(i.Fragment,{children:[C,d]}):(0,je.jsxs)(i.Fragment,{children:[d,C]}),u]}))})),B_=N_;let F_;function z_(){if(F_)return F_;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),F_="reverse",e.scrollLeft>0?F_="default":(e.scrollLeft=1,0===e.scrollLeft&&(F_="negative")),document.body.removeChild(e),F_}function V_(e,t){const n=e.scrollLeft;if("rtl"!==t)return n;switch(z_()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function W_(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}const H_=["onChange"],U_={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const $_=(0,hp.A)((0,je.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Y_=(0,hp.A)((0,je.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function G_(e){return(0,He.Ay)("MuiTabScrollButton",e)}const q_=(0,Fe.A)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),X_=["className","slots","slotProps","direction","orientation","disabled"],Z_=(0,ft.Ay)(qi,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({width:40,flexShrink:0,opacity:.8,[`&.${q_.disabled}`]:{opacity:0}},"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})})),K_=i.forwardRef((function(e,t){var n,r;const i=(0,pt.b)({props:e,name:"MuiTabScrollButton"}),{className:o,slots:s={},slotProps:a={},direction:l}=i,c=(0,Ce.A)(i,X_),u=zt(),d=(0,_e.A)({isRtl:u},i),h=(e=>{const{classes:t,orientation:n,disabled:r}=e,i={root:["root",n,r&&"disabled"]};return(0,Ue.A)(i,G_,t)})(d),f=null!=(n=s.StartScrollButtonIcon)?n:$_,p=null!=(r=s.EndScrollButtonIcon)?r:Y_,m=Hr({elementType:f,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d}),g=Hr({elementType:p,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d});return(0,je.jsx)(Z_,(0,_e.A)({component:"div",className:(0,ke.A)(h.root,o),ref:t,role:null,ownerState:d,tabIndex:null},c,{children:"left"===l?(0,je.jsx)(f,(0,_e.A)({},m)):(0,je.jsx)(p,(0,_e.A)({},g))}))}));function Q_(e){return(0,He.Ay)("MuiTabs",e)}const J_=(0,Fe.A)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),eC=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],tC=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,nC=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,rC=(e,t,n)=>{let r=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const t=i.disabled||"true"===i.getAttribute("aria-disabled");if(i.hasAttribute("tabindex")&&!t)return void i.focus();i=n(e,i)}},iC=(0,ft.Ay)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${J_.scrollButtons}`]:t.scrollButtons},{[`& .${J_.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})((e=>{let{ownerState:t,theme:n}=e;return(0,_e.A)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${J_.scrollButtons}`]:{[n.breakpoints.down("sm")]:{display:"none"}}})})),oC=(0,ft.Ay)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),sC=(0,ft.Ay)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),aC=(0,ft.Ay)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})((e=>{let{ownerState:t,theme:n}=e;return(0,_e.A)({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),lC=(0,ft.Ay)((function(e){const{onChange:t}=e,n=(0,Ce.A)(e,H_),r=i.useRef(),o=i.useRef(null),s=()=>{r.current=o.current.offsetHeight-o.current.clientHeight};return(0,co.A)((()=>{const e=(0,bo.A)((()=>{const e=r.current;s(),e!==r.current&&t(r.current)})),n=(0,yo.A)(o.current);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}}),[t]),i.useEffect((()=>{s(),t(r.current)}),[t]),(0,je.jsx)("div",(0,_e.A)({style:U_,ref:o},n))}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),cC={};const uC=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiTabs"}),r=yt(),o=zt(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:d,component:h="div",allowScrollButtonsMobile:f=!1,indicatorColor:p="primary",onChange:m,orientation:g="horizontal",ScrollButtonComponent:v=K_,scrollButtons:b="auto",selectionFollowsFocus:y,slots:w={},slotProps:x={},TabIndicatorProps:_={},TabScrollButtonProps:C={},textColor:k="primary",value:S,variant:A="standard",visibleScrollbar:T=!1}=n,I=(0,Ce.A)(n,eC),M="scrollable"===A,E="vertical"===g,P=E?"scrollTop":"scrollLeft",D=E?"top":"left",j=E?"bottom":"right",O=E?"clientHeight":"clientWidth",R=E?"height":"width",L=(0,_e.A)({},n,{component:h,allowScrollButtonsMobile:f,indicatorColor:p,orientation:g,vertical:E,scrollButtons:b,textColor:k,variant:A,visibleScrollbar:T,fixed:!M,hideScrollbar:M&&!T,scrollableX:M&&!E,scrollableY:M&&E,centered:c&&!M,scrollButtonsHideMobile:!f}),N=(e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=e,c={root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]};return(0,Ue.A)(c,Q_,l)})(L),B=Hr({elementType:w.StartScrollButtonIcon,externalSlotProps:x.startScrollButtonIcon,ownerState:L}),F=Hr({elementType:w.EndScrollButtonIcon,externalSlotProps:x.endScrollButtonIcon,ownerState:L});const[z,V]=i.useState(!1),[W,H]=i.useState(cC),[U,$]=i.useState(!1),[Y,G]=i.useState(!1),[q,X]=i.useState(!1),[Z,K]=i.useState({overflow:"hidden",scrollbarWidth:0}),Q=new Map,J=i.useRef(null),ee=i.useRef(null),te=()=>{const e=J.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollLeftNormalized:V_(e,o?"rtl":"ltr"),scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==S){const e=ee.current.children;if(e.length>0){const t=e[Q.get(S)];0,n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},ne=(0,oi.A)((()=>{const{tabsMeta:e,tabMeta:t}=te();let n,r=0;if(E)n="top",t&&e&&(r=t.top-e.top+e.scrollTop);else if(n=o?"right":"left",t&&e){const i=o?e.scrollLeftNormalized+e.clientWidth-e.scrollWidth:e.scrollLeft;r=(o?-1:1)*(t[n]-e[n]+i)}const i={[n]:r,[R]:t?t[R]:0};if(isNaN(W[n])||isNaN(W[R]))H(i);else{const e=Math.abs(W[n]-i[n]),t=Math.abs(W[R]-i[R]);(e>=1||t>=1)&&H(i)}})),re=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:o=W_,duration:s=300}=r;let a=null;const l=t[e];let c=!1;const u=()=>{c=!0},d=r=>{if(c)return void i(new Error("Animation cancelled"));null===a&&(a=r);const u=Math.min(1,(r-a)/s);t[e]=o(u)*(n-l)+l,u>=1?requestAnimationFrame((()=>{i(null)})):requestAnimationFrame(d)};l===n?i(new Error("Element already at target position")):requestAnimationFrame(d)}(P,J.current,e,{duration:r.transitions.duration.standard}):J.current[P]=e},ie=e=>{let t=J.current[P];E?t+=e:(t+=e*(o?-1:1),t*=o&&"reverse"===z_()?-1:1),re(t)},oe=()=>{const e=J.current[O];let t=0;const n=Array.from(ee.current.children);for(let r=0;r<n.length;r+=1){const i=n[r];if(t+i[O]>e){0===r&&(t=e);break}t+=i[O]}return t},se=()=>{ie(-1*oe())},ae=()=>{ie(oe())},le=i.useCallback((e=>{K({overflow:null,scrollbarWidth:e})}),[]),ce=(0,oi.A)((e=>{const{tabsMeta:t,tabMeta:n}=te();if(n&&t)if(n[D]<t[D]){const r=t[P]+(n[D]-t[D]);re(r,{animation:e})}else if(n[j]>t[j]){const r=t[P]+(n[j]-t[j]);re(r,{animation:e})}})),ue=(0,oi.A)((()=>{M&&!1!==b&&X(!q)}));i.useEffect((()=>{const e=(0,bo.A)((()=>{J.current&&ne()}));let t;const n=n=>{n.forEach((e=>{e.removedNodes.forEach((e=>{var n;null==(n=t)||n.unobserve(e)})),e.addedNodes.forEach((e=>{var n;null==(n=t)||n.observe(e)}))})),e(),ue()},r=(0,yo.A)(J.current);let i;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(ee.current.children).forEach((e=>{t.observe(e)}))),"undefined"!==typeof MutationObserver&&(i=new MutationObserver(n),i.observe(ee.current,{childList:!0})),()=>{var n,o;e.clear(),r.removeEventListener("resize",e),null==(n=i)||n.disconnect(),null==(o=t)||o.disconnect()}}),[ne,ue]),i.useEffect((()=>{const e=Array.from(ee.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&M&&!1!==b){const n=e[0],r=e[t-1],i={root:J.current,threshold:.99},o=new IntersectionObserver((e=>{$(!e[0].isIntersecting)}),i);o.observe(n);const s=new IntersectionObserver((e=>{G(!e[0].isIntersecting)}),i);return s.observe(r),()=>{o.disconnect(),s.disconnect()}}}),[M,b,q,null==u?void 0:u.length]),i.useEffect((()=>{V(!0)}),[]),i.useEffect((()=>{ne()})),i.useEffect((()=>{ce(cC!==W)}),[ce,W]),i.useImperativeHandle(l,(()=>({updateIndicator:ne,updateScrollButtons:ue})),[ne,ue]);const de=(0,je.jsx)(aC,(0,_e.A)({},_,{className:(0,ke.A)(N.indicator,_.className),ownerState:L,style:(0,_e.A)({},W,_.style)}));let he=0;const fe=i.Children.map(u,(e=>{if(!i.isValidElement(e))return null;const t=void 0===e.props.value?he:e.props.value;Q.set(t,he);const n=t===S;return he+=1,i.cloneElement(e,(0,_e.A)({fullWidth:"fullWidth"===A,indicator:n&&!z&&de,selected:n,selectionFollowsFocus:y,onChange:m,textColor:k,value:t},1!==he||!1!==S||e.props.tabIndex?{}:{tabIndex:0}))})),pe=(()=>{const e={};e.scrollbarSizeListener=M?(0,je.jsx)(lC,{onChange:le,className:(0,ke.A)(N.scrollableX,N.hideScrollbar)}):null;const t=M&&("auto"===b&&(U||Y)||!0===b);return e.scrollButtonStart=t?(0,je.jsx)(v,(0,_e.A)({slots:{StartScrollButtonIcon:w.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:B},orientation:g,direction:o?"right":"left",onClick:se,disabled:!U},C,{className:(0,ke.A)(N.scrollButtons,C.className)})):null,e.scrollButtonEnd=t?(0,je.jsx)(v,(0,_e.A)({slots:{EndScrollButtonIcon:w.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:F},orientation:g,direction:o?"left":"right",onClick:ae,disabled:!Y},C,{className:(0,ke.A)(N.scrollButtons,C.className)})):null,e})();return(0,je.jsxs)(iC,(0,_e.A)({className:(0,ke.A)(N.root,d),ownerState:L,ref:t,as:h},I,{children:[pe.scrollButtonStart,pe.scrollbarSizeListener,(0,je.jsxs)(oC,{className:N.scroller,ownerState:L,style:{overflow:Z.overflow,[E?"margin"+(o?"Left":"Right"):"marginBottom"]:T?void 0:-Z.scrollbarWidth},ref:J,children:[(0,je.jsx)(sC,{"aria-label":s,"aria-labelledby":a,"aria-orientation":"vertical"===g?"vertical":null,className:N.flexContainer,ownerState:L,onKeyDown:e=>{const t=ee.current,n=(0,to.A)(t).activeElement;if("tab"!==n.getAttribute("role"))return;let r="horizontal"===g?"ArrowLeft":"ArrowUp",i="horizontal"===g?"ArrowRight":"ArrowDown";switch("horizontal"===g&&o&&(r="ArrowRight",i="ArrowLeft"),e.key){case r:e.preventDefault(),rC(t,n,nC);break;case i:e.preventDefault(),rC(t,n,tC);break;case"Home":e.preventDefault(),rC(t,null,tC);break;case"End":e.preventDefault(),rC(t,null,nC)}},ref:ee,role:"tablist",children:fe}),z&&de]}),pe.scrollButtonEnd]}))})),dC=uC;function hC(e){return(0,He.Ay)("MuiDateTimePickerTabs",e)}(0,Fe.A)("MuiDateTimePickerTabs",["root"]);const fC=e=>nw(e)?"date":"time",pC=(0,ft.Ay)(dC,{name:"MuiDateTimePickerTabs",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{boxShadow:`0 -1px 0 0 inset ${(t.vars||t).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(t.vars||t).palette.divider}`,[`& .${J_.indicator}`]:{bottom:"auto",top:0}}}})),mC=function(e){const t=Ly({props:e,name:"MuiDateTimePickerTabs"}),{dateIcon:n=(0,je.jsx)(Ix,{}),onViewChange:r,timeIcon:o=(0,je.jsx)(Mx,{}),view:s,hidden:a="undefined"===typeof window||window.innerHeight<667,className:l,sx:c}=t,u=qw(),d=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"]},hC,t)})(t);return a?null:(0,je.jsxs)(pC,{ownerState:t,variant:"fullWidth",value:fC(s),onChange:(e,t)=>{r((e=>"date"===e?"day":"hours")(t))},className:(0,ke.A)(l,d.root),sx:c,children:[(0,je.jsx)(B_,{value:"date","aria-label":u.dateTableLabel,icon:(0,je.jsx)(i.Fragment,{children:n})}),(0,je.jsx)(B_,{value:"time","aria-label":u.timeTableLabel,icon:(0,je.jsx)(i.Fragment,{children:o})})]})};function gC(e){return(0,He.Ay)("MuiPickersToolbarText",e)}const vC=(0,Fe.A)("MuiPickersToolbarText",["root","selected"]),bC=["className","selected","value"],yC=(0,ft.Ay)(Ks,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${vC.selected}`]:t.selected}]})((e=>{let{theme:t}=e;return{transition:t.transitions.create("color"),color:(t.vars||t).palette.text.secondary,[`&.${vC.selected}`]:{color:(t.vars||t).palette.text.primary}}})),wC=i.forwardRef((function(e,t){const n=Ly({props:e,name:"MuiPickersToolbarText"}),{className:r,value:i}=n,o=(0,Ce.A)(n,bC),s=(e=>{const{classes:t,selected:n}=e,r={root:["root",n&&"selected"]};return(0,Ue.A)(r,gC,t)})(n);return(0,je.jsx)(yC,(0,_e.A)({ref:t,className:(0,ke.A)(r,s.root),component:"span"},o,{children:i}))}));function xC(e){return(0,He.Ay)("MuiPickersToolbar",e)}const _C=(0,Fe.A)("MuiPickersToolbar",["root","content"]),CC=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],kC=(0,ft.Ay)("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]}})),SC=(0,ft.Ay)("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(e,t)=>t.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),AC=i.forwardRef((function(e,t){const n=Ly({props:e,name:"MuiPickersToolbar"}),{children:r,className:i,toolbarTitle:o,hidden:s,titleId:a}=n,l=(0,Ce.A)(n,CC),c=n,u=(e=>{const{classes:t,isLandscape:n}=e,r={root:["root"],content:["content"],penIconButton:["penIconButton",n&&"penIconButtonLandscape"]};return(0,Ue.A)(r,xC,t)})(c);return s?null:(0,je.jsxs)(kC,(0,_e.A)({ref:t,className:(0,ke.A)(u.root,i),ownerState:c},l,{children:[(0,je.jsx)(Ks,{color:"text.secondary",variant:"overline",id:a,children:o}),(0,je.jsx)(SC,{className:u.content,ownerState:c,children:r})]}))})),TC=["align","className","selected","typographyClassName","value","variant","width"],IC=(0,ft.Ay)(la,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,minWidth:16,textTransform:"none"}),MC=i.forwardRef((function(e,t){const n=Ly({props:e,name:"MuiPickersToolbarButton"}),{align:r,className:i,selected:o,typographyClassName:s,value:a,variant:l,width:c}=n,u=(0,Ce.A)(n,TC),d=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"]},xC,t)})(n);return(0,je.jsx)(IC,(0,_e.A)({variant:"text",ref:t,className:(0,ke.A)(i,d.root)},c?{sx:{width:c}}:{},u,{children:(0,je.jsx)(wC,{align:r,className:s,variant:l,value:a,selected:o})}))}));function EC(e){return(0,He.Ay)("MuiDateTimePickerToolbar",e)}const PC=(0,Fe.A)("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]);function DC(e,t,n,r){const o=Hw();return{meridiemMode:lw(e,o),handleMeridiemChange:i.useCallback((i=>{const s=null==e?null:uw(e,i,Boolean(t),o);n(s,r??"partial")}),[t,e,n,r,o])}}const jC=320,OC=336,RC=48,LC=["ampm","ampmInClock","value","onChange","view","isLandscape","onViewChange","toolbarFormat","toolbarPlaceholder","views","disabled","readOnly","toolbarVariant","toolbarTitle","className"],NC=e=>{const{classes:t,isLandscape:n,isRtl:r}=e,i={root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",r&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",r&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",n&&"ampmLandscape"],ampmLabel:["ampmLabel"]};return(0,Ue.A)(i,EC,t)},BC=(0,ft.Ay)(AC,{name:"MuiDateTimePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",variants:[{props:{toolbarVariant:"desktop"},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,[`& .${_C.content} .${vC.selected}`]:{color:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightBold}}},{props:{toolbarVariant:"desktop",isLandscape:!0},style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:{toolbarVariant:"desktop",isLandscape:!1},style:{paddingLeft:24,paddingRight:0}}]}})),FC=(0,ft.Ay)("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer",overridesResolver:(e,t)=>t.dateContainer})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),zC=(0,ft.Ay)("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",overridesResolver:(e,t)=>t.timeContainer})({display:"flex",flexDirection:"row",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop",isLandscape:!1},style:{gap:9,marginRight:4,alignSelf:"flex-end"}},{props:e=>{let{isLandscape:t,toolbarVariant:n}=e;return t&&"desktop"!==n},style:{flexDirection:"column"}},{props:e=>{let{isLandscape:t,toolbarVariant:n,isRtl:r}=e;return t&&"desktop"!==n&&r},style:{flexDirection:"column-reverse"}}]}),VC=(0,ft.Ay)("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",overridesResolver:(e,t)=>t.timeDigitsContainer})({display:"flex",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop"},style:{gap:1.5}}]}),WC=(0,ft.Ay)(wC,{name:"MuiDateTimePickerToolbar",slot:"Separator",overridesResolver:(e,t)=>t.separator})({margin:"0 4px 0 2px",cursor:"default",variants:[{props:{toolbarVariant:"desktop"},style:{margin:0}}]}),HC=(0,ft.Ay)("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,t)=>[{[`.${PC.ampmLabel}`]:t.ampmLabel},{[`&.${PC.ampmLandscape}`]:t.ampmLandscape},t.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${PC.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"}}]});function UC(e){const t=Ly({props:e,name:"MuiDateTimePickerToolbar"}),{ampm:n,ampmInClock:r,value:o,onChange:s,view:a,isLandscape:l,onViewChange:c,toolbarFormat:u,toolbarPlaceholder:d="\u2013\u2013",views:h,disabled:f,readOnly:p,toolbarVariant:m="mobile",toolbarTitle:g,className:v}=t,b=(0,Ce.A)(t,LC),y=zt(),w=(0,_e.A)({},t,{isRtl:y}),x=Hw(),{meridiemMode:_,handleMeridiemChange:C}=DC(o,n,s),k=Boolean(n&&!r),S="desktop"===m,A=qw(),T=NC(w),I=g??A.dateTimePickerToolbarTitle,M=i.useMemo((()=>o?u?x.formatByString(o,u):x.format(o,"shortDate"):d),[o,u,d,x]);return(0,je.jsxs)(BC,(0,_e.A)({isLandscape:l,className:(0,ke.A)(T.root,v),toolbarTitle:I},b,{ownerState:w,children:[(0,je.jsxs)(FC,{className:T.dateContainer,ownerState:w,children:[h.includes("year")&&(0,je.jsx)(MC,{tabIndex:-1,variant:"subtitle1",onClick:()=>c("year"),selected:"year"===a,value:o?x.format(o,"year"):"\u2013"}),h.includes("day")&&(0,je.jsx)(MC,{tabIndex:-1,variant:S?"h5":"h4",onClick:()=>c("day"),selected:"day"===a,value:M})]}),(0,je.jsxs)(zC,{className:T.timeContainer,ownerState:w,children:[(0,je.jsxs)(VC,{className:T.timeDigitsContainer,ownerState:w,children:[h.includes("hours")&&(0,je.jsxs)(i.Fragment,{children:[(0,je.jsx)(MC,{variant:S?"h5":"h3",width:S&&!l?RC:void 0,onClick:()=>c("hours"),selected:"hours"===a,value:o?(e=>n?x.format(e,"hours12h"):x.format(e,"hours24h"))(o):"--"}),(0,je.jsx)(WC,{variant:S?"h5":"h3",value:":",className:T.separator,ownerState:w}),(0,je.jsx)(MC,{variant:S?"h5":"h3",width:S&&!l?RC:void 0,onClick:()=>c("minutes"),selected:"minutes"===a||!h.includes("minutes")&&"hours"===a,value:o?x.format(o,"minutes"):"--",disabled:!h.includes("minutes")})]}),h.includes("seconds")&&(0,je.jsxs)(i.Fragment,{children:[(0,je.jsx)(WC,{variant:S?"h5":"h3",value:":",className:T.separator,ownerState:w}),(0,je.jsx)(MC,{variant:S?"h5":"h3",width:S&&!l?RC:void 0,onClick:()=>c("seconds"),selected:"seconds"===a,value:o?x.format(o,"seconds"):"--"})]})]}),k&&!S&&(0,je.jsxs)(HC,{className:T.ampmSelection,ownerState:w,children:[(0,je.jsx)(MC,{variant:"subtitle2",selected:"am"===_,typographyClassName:T.ampmLabel,value:ew(x,"am"),onClick:p?void 0:()=>C("am"),disabled:f}),(0,je.jsx)(MC,{variant:"subtitle2",selected:"pm"===_,typographyClassName:T.ampmLabel,value:ew(x,"pm"),onClick:p?void 0:()=>C("pm"),disabled:f})]}),n&&S&&(0,je.jsx)(MC,{variant:"h5",onClick:()=>c("meridiem"),selected:"meridiem"===a,value:o&&_?ew(x,_):"--",width:RC})]})]}))}function $C(e,t){const n=Hw(),r=Uw(),o=Ly({props:e,name:t}),s=o.ampm??n.is12HourCycleInCurrentLocale(),a=i.useMemo((()=>null==o.localeText?.toolbarTitle?o.localeText:(0,_e.A)({},o.localeText,{dateTimePickerToolbarTitle:o.localeText.toolbarTitle})),[o.localeText]);return(0,_e.A)({},o,(e=>{let{openTo:t,defaultOpenTo:n,views:r,defaultViews:i}=e;const o=r??i;let s;if(null!=t)s=t;else if(o.includes(n))s=n;else{if(!(o.length>0))throw new Error("MUI X: The `views` prop must contain at least one view.");s=o[0]}return{views:o,openTo:s}})({views:o.views,openTo:o.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{ampm:s,localeText:a,orientation:o.orientation??"portrait",disableIgnoringDatePartForTimeValidation:o.disableIgnoringDatePartForTimeValidation??Boolean(o.minDateTime||o.maxDateTime||o.disablePast||o.disableFuture),disableFuture:o.disableFuture??!1,disablePast:o.disablePast??!1,minDate:Ky(n,o.minDateTime??o.minDate,r.minDate),maxDate:Ky(n,o.maxDateTime??o.maxDate,r.maxDate),minTime:o.minDateTime??o.minTime,maxTime:o.maxDateTime??o.maxTime,slots:(0,_e.A)({toolbar:UC,tabs:mC},o.slots),slotProps:(0,_e.A)({},o.slotProps,{toolbar:(0,_e.A)({ampm:s},o.slotProps?.toolbar)})})}const YC=e=>{let{shouldDisableDate:t,shouldDisableMonth:n,shouldDisableYear:r,minDate:o,maxDate:s,disableFuture:a,disablePast:l,timezone:c}=e;const u=Ww();return i.useCallback((e=>null!==lx({adapter:u,value:e,props:{shouldDisableDate:t,shouldDisableMonth:n,shouldDisableYear:r,minDate:o,maxDate:s,disableFuture:a,disablePast:l,timezone:c}})),[u,t,n,r,o,s,a,l,c])},GC=e=>{const{value:t,referenceDate:n,disableFuture:r,disablePast:o,disableSwitchToMonthOnDayFocus:s=!1,maxDate:a,minDate:l,onMonthChange:c,reduceAnimations:u,shouldDisableDate:d,timezone:h}=e,f=Hw(),p=i.useRef(((e,t,n)=>(r,i)=>{switch(i.type){case"changeMonth":return(0,_e.A)({},r,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return(0,_e.A)({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(null!=r.focusedDay&&null!=i.focusedDay&&n.isSameDay(i.focusedDay,r.focusedDay))return r;const o=null!=i.focusedDay&&!t&&!n.isSameMonth(r.currentMonth,i.focusedDay);return(0,_e.A)({},r,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:o&&!e&&!i.withoutMonthSwitchingAnimation,currentMonth:o?n.startOfMonth(i.focusedDay):r.currentMonth,slideDirection:null!=i.focusedDay&&n.isAfterDay(i.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}})(Boolean(u),s,f)).current,m=i.useMemo((()=>Nw.getInitialReferenceValue({value:t,utils:f,timezone:h,props:e,referenceDate:n,granularity:pw.day})),[]),[g,v]=i.useReducer(p,{isMonthSwitchingAnimating:!1,focusedDay:m,currentMonth:f.startOfMonth(m),slideDirection:"left"}),b=i.useCallback((e=>{v((0,_e.A)({type:"changeMonth"},e)),c&&c(e.newMonth)}),[c]),y=i.useCallback((e=>{const t=e;f.isSameMonth(t,g.currentMonth)||b({newMonth:f.startOfMonth(t),direction:f.isAfterDay(t,g.currentMonth)?"left":"right"})}),[g.currentMonth,b,f]),w=YC({shouldDisableDate:d,minDate:l,maxDate:a,disableFuture:r,disablePast:o,timezone:h}),x=i.useCallback((()=>{v({type:"finishMonthSwitchingAnimation"})}),[]),_=(0,Do.A)(((e,t)=>{w(e)||v({type:"changeFocusedDay",focusedDay:e,withoutMonthSwitchingAnimation:t})}));return{referenceDate:m,calendarState:g,changeMonth:y,changeFocusedDay:_,isDateDisabled:w,onMonthSwitchingAnimationEnd:x,handleChangeMonth:b}},qC=e=>(0,He.Ay)("MuiPickersFadeTransitionGroup",e),XC=((0,Fe.A)("MuiPickersFadeTransitionGroup",["root"]),(0,ft.Ay)(Ti,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"}));function ZC(e){const t=Ly({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:i,transKey:o}=t,s=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"]},qC,t)})(t),a=yt();return i?n:(0,je.jsx)(XC,{className:(0,ke.A)(s.root,r),children:(0,je.jsx)(To,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:a.transitions.duration.enteringScreen,enter:a.transitions.duration.enteringScreen,exit:0},children:n},o)})}var KC=n(1188);function QC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,KC.A)(e,t,n)}function JC(e){if(e.type)return e;if("#"===e.charAt(0))return JC(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,Sm.A)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,Sm.A)(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}function ek(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function tk(e,t){return e=JC(e),t=QC(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,ek(e)}function nk(e){return(0,He.Ay)("MuiPickersDay",e)}const rk=(0,Fe.A)("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),ik=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],ok=e=>{let{theme:t}=e;return(0,_e.A)({},t.typography.caption,{width:36,height:36,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:tk(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:tk(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${rk.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${rk.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${rk.disabled}:not(.${rk.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${rk.disabled}&.${rk.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:"0 2px"}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${rk.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}}]})},sk=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},ak=(0,ft.Ay)(qi,{name:"MuiPickersDay",slot:"Root",overridesResolver:sk})(ok),lk=(0,ft.Ay)("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:sk})((e=>{let{theme:t}=e;return(0,_e.A)({},ok({theme:t}),{opacity:0,pointerEvents:"none"})})),ck=()=>{},uk=i.forwardRef((function(e,t){const n=Ly({props:e,name:"MuiPickersDay"}),{autoFocus:r=!1,className:o,day:s,disabled:a=!1,disableHighlightToday:l=!1,disableMargin:c=!1,isAnimating:u,onClick:d,onDaySelect:h,onFocus:f=ck,onBlur:p=ck,onKeyDown:m=ck,onMouseDown:g=ck,onMouseEnter:v=ck,outsideCurrentMonth:b,selected:y=!1,showDaysOutsideCurrentMonth:w=!1,children:x,today:_=!1}=n,C=(0,Ce.A)(n,ik),k=(0,_e.A)({},n,{autoFocus:r,disabled:a,disableHighlightToday:l,disableMargin:c,selected:y,showDaysOutsideCurrentMonth:w,today:_}),S=(e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:i,disabled:o,outsideCurrentMonth:s,showDaysOutsideCurrentMonth:a,classes:l}=e,c=s&&!a,u={root:["root",t&&!c&&"selected",o&&"disabled",!n&&"dayWithMargin",!r&&i&&"today",s&&a&&"dayOutsideMonth",c&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]};return(0,Ue.A)(u,nk,l)})(k),A=Hw(),T=i.useRef(null),I=(0,gn.A)(T,t);(0,vn.A)((()=>{!r||a||u||b||T.current.focus()}),[r,a,u,b]);return b&&!w?(0,je.jsx)(lk,{className:(0,ke.A)(S.root,S.hiddenDaySpacingFiller,o),ownerState:k,role:C.role}):(0,je.jsx)(ak,(0,_e.A)({className:(0,ke.A)(S.root,o),ref:I,centerRipple:!0,disabled:a,tabIndex:y?0:-1,onKeyDown:e=>m(e,s),onFocus:e=>f(e,s),onBlur:e=>p(e,s),onMouseEnter:e=>v(e,s),onClick:e=>{a||h(s),b&&e.currentTarget.focus(),d&&d(e)},onMouseDown:e=>{g(e),b&&e.preventDefault()}},C,{ownerState:k,children:x||A.format(s,"dayOfMonth")}))})),dk=i.memo(uk);function hk(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var fk=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=hk(n.className,r):n.setAttribute("class",hk(n.className&&n.className.baseVal||"",r)));var n,r}))},pk=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}$t(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&Zt(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&fk(e,r),i&&fk(e,i),o&&fk(e,o)},n.render=function(){var e=this.props,t=(e.classNames,(0,Ce.A)(e,["classNames"]));return i.createElement(on,(0,_e.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(i.Component);pk.defaultProps={classNames:""},pk.propTypes={};const mk=pk,gk=e=>(0,He.Ay)("MuiPickersSlideTransition",e),vk=(0,Fe.A)("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),bk=["children","className","reduceAnimations","slideDirection","transKey","classes"],yk=(0,ft.Ay)(Ti,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${vk["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${vk["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${vk.slideEnterActive}`]:t.slideEnterActive},{[`.${vk.slideExit}`]:t.slideExit},{[`.${vk["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${vk["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})((e=>{let{theme:t}=e;const n=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${vk["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${vk["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${vk.slideEnterActive}`]:{transform:"translate(0%)",transition:n},[`& .${vk.slideExit}`]:{transform:"translate(0%)"},[`& .${vk["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},[`& .${vk["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}}));const wk=e=>(0,He.Ay)("MuiDayCalendar",e),xk=((0,Fe.A)("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]),["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"]),_k=["ownerState"],Ck=(0,ft.Ay)("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),kk=(0,ft.Ay)("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),Sk=(0,ft.Ay)(Ks,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})((e=>{let{theme:t}=e;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary}})),Ak=(0,ft.Ay)(Ks,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})((e=>{let{theme:t}=e;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled}})),Tk=(0,ft.Ay)(Ks,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})((e=>{let{theme:t}=e;return(0,_e.A)({},t.typography.caption,{width:36,height:36,padding:0,margin:"0 2px",color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})})),Ik=(0,ft.Ay)("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:240}),Mk=(0,ft.Ay)((function(e){const t=Ly({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:o,transKey:s}=t,a=(0,Ce.A)(t,bk),l=(e=>{const{classes:t,slideDirection:n}=e,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return(0,Ue.A)(r,gk,t)})(t),c=yt();if(o)return(0,je.jsx)("div",{className:(0,ke.A)(l.root,r),children:n});const u={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return(0,je.jsx)(yk,{className:(0,ke.A)(l.root,r),childFactory:e=>i.cloneElement(e,{classNames:u}),role:"presentation",children:(0,je.jsx)(mk,(0,_e.A)({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:u},a,{children:n}),s)})}),{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:240}),Ek=(0,ft.Ay)("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),Pk=(0,ft.Ay)("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:"2px 0",display:"flex",justifyContent:"center"});function Dk(e){let{parentProps:t,day:n,focusableDay:r,selectedDays:o,isDateDisabled:s,currentMonthNumber:a,isViewFocused:l}=e,c=(0,Ce.A)(e,xk);const{disabled:u,disableHighlightToday:d,isMonthSwitchingAnimating:h,showDaysOutsideCurrentMonth:f,slots:p,slotProps:m,timezone:g}=t,v=Hw(),b=$w(g),y=null!==r&&v.isSameDay(n,r),w=o.some((e=>v.isSameDay(e,n))),x=v.isSameDay(n,b),_=p?.day??dk,C=Hr({elementType:_,externalSlotProps:m?.day,additionalProps:(0,_e.A)({disableHighlightToday:d,showDaysOutsideCurrentMonth:f,role:"gridcell",isAnimating:h,"data-timestamp":v.toJsDate(n).valueOf()},c),ownerState:(0,_e.A)({},t,{day:n,selected:w})}),k=(0,Ce.A)(C,_k),S=i.useMemo((()=>u||s(n)),[u,s,n]),A=i.useMemo((()=>v.getMonth(n)!==a),[v,n,a]),T=i.useMemo((()=>{const e=v.startOfMonth(v.setMonth(n,a));return f?v.isSameDay(n,v.startOfWeek(e)):v.isSameDay(n,e)}),[a,n,f,v]),I=i.useMemo((()=>{const e=v.endOfMonth(v.setMonth(n,a));return f?v.isSameDay(n,v.endOfWeek(e)):v.isSameDay(n,e)}),[a,n,f,v]);return(0,je.jsx)(_,(0,_e.A)({},k,{day:n,disabled:S,autoFocus:l&&y,today:x,outsideCurrentMonth:A,isFirstVisibleCell:T,isLastVisibleCell:I,selected:w,tabIndex:y?0:-1,"aria-selected":w,"aria-current":x?"date":void 0}))}function jk(e){const t=Ly({props:e,name:"MuiDayCalendar"}),n=Hw(),{onFocusedDayChange:r,className:o,currentMonth:s,selectedDays:a,focusedDay:l,loading:c,onSelectedDaysChange:u,onMonthSwitchingAnimationEnd:d,readOnly:h,reduceAnimations:f,renderLoading:p=()=>(0,je.jsx)("span",{children:"..."}),slideDirection:m,TransitionProps:g,disablePast:v,disableFuture:b,minDate:y,maxDate:w,shouldDisableDate:x,shouldDisableMonth:_,shouldDisableYear:C,dayOfWeekFormatter:k=e=>n.format(e,"weekdayShort").charAt(0).toUpperCase(),hasFocus:S,onFocusedViewChange:A,gridLabelId:T,displayWeekNumber:I,fixedWeekNumber:M,autoFocus:E,timezone:P}=t,D=$w(P),j=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},wk,t)})(t),O=zt(),R=YC({shouldDisableDate:x,shouldDisableMonth:_,shouldDisableYear:C,minDate:y,maxDate:w,disablePast:v,disableFuture:b,timezone:P}),L=qw(),[N,B]=(0,Gw.A)({name:"DayCalendar",state:"hasFocus",controlled:S,default:E??!1}),[F,z]=i.useState((()=>l||D)),V=(0,Do.A)((e=>{h||u(e)})),W=e=>{R(e)||(r(e),z(e),A?.(!0),B(!0))},H=(0,Do.A)(((e,t)=>{switch(e.key){case"ArrowUp":W(n.addDays(t,-7)),e.preventDefault();break;case"ArrowDown":W(n.addDays(t,7)),e.preventDefault();break;case"ArrowLeft":{const r=n.addDays(t,O?1:-1),i=n.addMonths(t,O?1:-1),o=Zy({utils:n,date:r,minDate:O?r:n.startOfMonth(i),maxDate:O?n.endOfMonth(i):r,isDateDisabled:R,timezone:P});W(o||r),e.preventDefault();break}case"ArrowRight":{const r=n.addDays(t,O?-1:1),i=n.addMonths(t,O?-1:1),o=Zy({utils:n,date:r,minDate:O?n.startOfMonth(i):r,maxDate:O?r:n.endOfMonth(i),isDateDisabled:R,timezone:P});W(o||r),e.preventDefault();break}case"Home":W(n.startOfWeek(t)),e.preventDefault();break;case"End":W(n.endOfWeek(t)),e.preventDefault();break;case"PageUp":W(n.addMonths(t,1)),e.preventDefault();break;case"PageDown":W(n.addMonths(t,-1)),e.preventDefault()}})),U=(0,Do.A)(((e,t)=>W(t))),$=(0,Do.A)(((e,t)=>{N&&n.isSameDay(F,t)&&A?.(!1)})),Y=n.getMonth(s),G=n.getYear(s),q=i.useMemo((()=>a.filter((e=>!!e)).map((e=>n.startOfDay(e)))),[n,a]),X=`${G}-${Y}`,Z=i.useMemo((()=>i.createRef()),[X]),K=i.useMemo((()=>{const e=n.startOfMonth(s),t=n.endOfMonth(s);return R(F)||n.isAfterDay(F,t)||n.isBeforeDay(F,e)?Zy({utils:n,date:F,minDate:e,maxDate:t,disablePast:v,disableFuture:b,isDateDisabled:R,timezone:P}):F}),[s,b,v,F,R,n,P]),Q=i.useMemo((()=>{const e=n.setTimezone(s,P),t=n.getWeekArray(e);let r=n.addMonths(e,1);for(;M&&t.length<M;){const e=n.getWeekArray(r),i=n.isSameDay(t[t.length-1][0],e[0][0]);e.slice(i?1:0).forEach((e=>{t.length<M&&t.push(e)})),r=n.addMonths(r,1)}return t}),[s,M,n,P]);return(0,je.jsxs)(Ck,{role:"grid","aria-labelledby":T,className:j.root,children:[(0,je.jsxs)(kk,{role:"row",className:j.header,children:[I&&(0,je.jsx)(Ak,{variant:"caption",role:"columnheader","aria-label":L.calendarWeekNumberHeaderLabel,className:j.weekNumberLabel,children:L.calendarWeekNumberHeaderText}),iw(n,D).map(((e,t)=>(0,je.jsx)(Sk,{variant:"caption",role:"columnheader","aria-label":n.format(e,"weekday"),className:j.weekDayLabel,children:k(e)},t.toString())))]}),c?(0,je.jsx)(Ik,{className:j.loadingContainer,children:p()}):(0,je.jsx)(Mk,(0,_e.A)({transKey:X,onExited:d,reduceAnimations:f,slideDirection:m,className:(0,ke.A)(o,j.slideTransition)},g,{nodeRef:Z,children:(0,je.jsx)(Ek,{ref:Z,role:"rowgroup",className:j.monthContainer,children:Q.map(((e,r)=>(0,je.jsxs)(Pk,{role:"row",className:j.weekContainer,"aria-rowindex":r+1,children:[I&&(0,je.jsx)(Tk,{className:j.weekNumber,role:"rowheader","aria-label":L.calendarWeekNumberAriaLabelText(n.getWeekNumber(e[0])),children:L.calendarWeekNumberText(n.getWeekNumber(e[0]))}),e.map(((e,n)=>(0,je.jsx)(Dk,{parentProps:t,day:e,selectedDays:q,focusableDay:K,onKeyDown:H,onFocus:U,onBlur:$,onDaySelect:V,isDateDisabled:R,currentMonthNumber:Y,isViewFocused:N,"aria-colindex":n+1},e.toString())))]},`week-${e[0]}`)))})}))]})}function Ok(e){return(0,He.Ay)("MuiPickersMonth",e)}const Rk=(0,Fe.A)("MuiPickersMonth",["root","monthButton","disabled","selected"]),Lk=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],Nk=(0,ft.Ay)("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),Bk=(0,ft.Ay)("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${Rk.disabled}`]:t.disabled},{[`&.${Rk.selected}`]:t.selected}]})((e=>{let{theme:t}=e;return(0,_e.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:tk(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:tk(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Rk.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${Rk.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})})),Fk=i.memo((function(e){const t=Ly({props:e,name:"MuiPickersMonth"}),{autoFocus:n,className:r,children:o,disabled:s,selected:a,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:f,"aria-current":p,"aria-label":m,slots:g,slotProps:v}=t,b=(0,Ce.A)(t,Lk),y=i.useRef(null),w=(e=>{const{disabled:t,selected:n,classes:r}=e,i={root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]};return(0,Ue.A)(i,Ok,r)})(t);(0,vn.A)((()=>{n&&y.current?.focus()}),[n]);const x=g?.monthButton??Bk,_=Hr({elementType:x,externalSlotProps:v?.monthButton,additionalProps:{children:o,disabled:s,tabIndex:c,ref:y,type:"button",role:"radio","aria-current":p,"aria-checked":a,"aria-label":m,onClick:e=>u(e,l),onKeyDown:e=>d(e,l),onFocus:e=>h(e,l),onBlur:e=>f(e,l)},ownerState:t,className:w.monthButton});return(0,je.jsx)(Nk,(0,_e.A)({className:(0,ke.A)(w.root,r),ownerState:t},b,{children:(0,je.jsx)(x,(0,_e.A)({},_))}))}));function zk(e){return(0,He.Ay)("MuiMonthCalendar",e)}(0,Fe.A)("MuiMonthCalendar",["root"]);const Vk=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"];const Wk=(0,ft.Ay)("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:jC,boxSizing:"border-box"}),Hk=i.forwardRef((function(e,t){const n=function(e,t){const n=Hw(),r=Uw(),i=Ly({props:e,name:t});return(0,_e.A)({disableFuture:!1,disablePast:!1},i,{minDate:Ky(n,i.minDate,r.minDate),maxDate:Ky(n,i.maxDate,r.maxDate)})}(e,"MuiMonthCalendar"),{className:r,value:o,defaultValue:s,referenceDate:a,disabled:l,disableFuture:c,disablePast:u,maxDate:d,minDate:h,onChange:f,shouldDisableMonth:p,readOnly:m,autoFocus:g=!1,onMonthFocus:v,hasFocus:b,onFocusedViewChange:y,monthsPerRow:w=3,timezone:x,gridLabelId:_,slots:C,slotProps:k}=n,S=(0,Ce.A)(n,Vk),{value:A,handleValueChange:T,timezone:I}=Jw({name:"MonthCalendar",timezone:x,value:o,defaultValue:s,onChange:f,valueManager:Nw}),M=$w(I),E=zt(),P=Hw(),D=i.useMemo((()=>Nw.getInitialReferenceValue({value:A,utils:P,props:n,timezone:I,referenceDate:a,granularity:pw.month})),[]),j=n,O=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"]},zk,t)})(j),R=i.useMemo((()=>P.getMonth(M)),[P,M]),L=i.useMemo((()=>null!=A?P.getMonth(A):null),[A,P]),[N,B]=i.useState((()=>L||P.getMonth(D))),[F,z]=(0,Gw.A)({name:"MonthCalendar",state:"hasFocus",controlled:b,default:g??!1}),V=(0,Do.A)((e=>{z(e),y&&y(e)})),W=i.useCallback((e=>{const t=P.startOfMonth(u&&P.isAfter(M,h)?M:h),n=P.startOfMonth(c&&P.isBefore(M,d)?M:d),r=P.startOfMonth(e);return!!P.isBefore(r,t)||(!!P.isAfter(r,n)||!!p&&p(r))}),[c,u,d,h,M,p,P]),H=(0,Do.A)(((e,t)=>{if(m)return;const n=P.setMonth(A??D,t);T(n)})),U=(0,Do.A)((e=>{W(P.setMonth(A??D,e))||(B(e),V(!0),v&&v(e))}));i.useEffect((()=>{B((e=>null!==L&&e!==L?L:e))}),[L]);const $=(0,Do.A)(((e,t)=>{const n=12;switch(e.key){case"ArrowUp":U((n+t-3)%n),e.preventDefault();break;case"ArrowDown":U((n+t+3)%n),e.preventDefault();break;case"ArrowLeft":U((n+t+(E?1:-1))%n),e.preventDefault();break;case"ArrowRight":U((n+t+(E?-1:1))%n),e.preventDefault()}})),Y=(0,Do.A)(((e,t)=>{U(t)})),G=(0,Do.A)(((e,t)=>{N===t&&V(!1)}));return(0,je.jsx)(Wk,(0,_e.A)({ref:t,className:(0,ke.A)(O.root,r),ownerState:j,role:"radiogroup","aria-labelledby":_},S,{children:Qy(P,A??D).map((e=>{const t=P.getMonth(e),n=P.format(e,"monthShort"),r=P.format(e,"month"),i=t===L,o=l||W(e);return(0,je.jsx)(Fk,{selected:i,value:t,onClick:H,onKeyDown:$,autoFocus:F&&t===N,disabled:o,tabIndex:t!==N||o?-1:0,onFocus:Y,onBlur:G,"aria-current":R===t?"date":void 0,"aria-label":r,monthsPerRow:w,slots:C,slotProps:k,children:n},n)}))}))}));function Uk(e){return(0,He.Ay)("MuiPickersYear",e)}const $k=(0,Fe.A)("MuiPickersYear",["root","yearButton","selected","disabled"]),Yk=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],Gk=(0,ft.Ay)("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),qk=(0,ft.Ay)("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${$k.disabled}`]:t.disabled},{[`&.${$k.selected}`]:t.selected}]})((e=>{let{theme:t}=e;return(0,_e.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:tk(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:tk(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${$k.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${$k.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})})),Xk=i.memo((function(e){const t=Ly({props:e,name:"MuiPickersYear"}),{autoFocus:n,className:r,children:o,disabled:s,selected:a,value:l,tabIndex:c,onClick:u,onKeyDown:d,onFocus:h,onBlur:f,"aria-current":p,slots:m,slotProps:g}=t,v=(0,Ce.A)(t,Yk),b=i.useRef(null),y=(e=>{const{disabled:t,selected:n,classes:r}=e,i={root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]};return(0,Ue.A)(i,Uk,r)})(t);(0,vn.A)((()=>{n&&b.current?.focus()}),[n]);const w=m?.yearButton??qk,x=Hr({elementType:w,externalSlotProps:g?.yearButton,additionalProps:{children:o,disabled:s,tabIndex:c,ref:b,type:"button",role:"radio","aria-current":p,"aria-checked":a,onClick:e=>u(e,l),onKeyDown:e=>d(e,l),onFocus:e=>h(e,l),onBlur:e=>f(e,l)},ownerState:t,className:y.yearButton});return(0,je.jsx)(Gk,(0,_e.A)({className:(0,ke.A)(y.root,r),ownerState:t},v,{children:(0,je.jsx)(w,(0,_e.A)({},x))}))}));function Zk(e){return(0,He.Ay)("MuiYearCalendar",e)}(0,Fe.A)("MuiYearCalendar",["root"]);const Kk=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId","slots","slotProps"];const Qk=(0,ft.Ay)("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:jC,maxHeight:280,boxSizing:"border-box",position:"relative"}),Jk=i.forwardRef((function(e,t){const n=function(e,t){const n=Hw(),r=Uw(),i=Ly({props:e,name:t});return(0,_e.A)({disablePast:!1,disableFuture:!1},i,{yearsPerRow:i.yearsPerRow??3,minDate:Ky(n,i.minDate,r.minDate),maxDate:Ky(n,i.maxDate,r.maxDate)})}(e,"MuiYearCalendar"),{autoFocus:r,className:o,value:s,defaultValue:a,referenceDate:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:f,onChange:p,readOnly:m,shouldDisableYear:g,onYearFocus:v,hasFocus:b,onFocusedViewChange:y,yearsPerRow:w,timezone:x,gridLabelId:_,slots:C,slotProps:k}=n,S=(0,Ce.A)(n,Kk),{value:A,handleValueChange:T,timezone:I}=Jw({name:"YearCalendar",timezone:x,value:s,defaultValue:a,onChange:p,valueManager:Nw}),M=$w(I),E=zt(),P=Hw(),D=i.useMemo((()=>Nw.getInitialReferenceValue({value:A,utils:P,props:n,timezone:I,referenceDate:l,granularity:pw.year})),[]),j=n,O=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"]},Zk,t)})(j),R=i.useMemo((()=>P.getYear(M)),[P,M]),L=i.useMemo((()=>null!=A?P.getYear(A):null),[A,P]),[N,B]=i.useState((()=>L||P.getYear(D))),[F,z]=(0,Gw.A)({name:"YearCalendar",state:"hasFocus",controlled:b,default:r??!1}),V=(0,Do.A)((e=>{z(e),y&&y(e)})),W=i.useCallback((e=>{if(d&&P.isBeforeYear(e,M))return!0;if(u&&P.isAfterYear(e,M))return!0;if(f&&P.isBeforeYear(e,f))return!0;if(h&&P.isAfterYear(e,h))return!0;if(!g)return!1;const t=P.startOfYear(e);return g(t)}),[u,d,h,f,M,g,P]),H=(0,Do.A)(((e,t)=>{if(m)return;const n=P.setYear(A??D,t);T(n)})),U=(0,Do.A)((e=>{W(P.setYear(A??D,e))||(B(e),V(!0),v?.(e))}));i.useEffect((()=>{B((e=>null!==L&&e!==L?L:e))}),[L]);const $=(0,Do.A)(((e,t)=>{switch(e.key){case"ArrowUp":U(t-w),e.preventDefault();break;case"ArrowDown":U(t+w),e.preventDefault();break;case"ArrowLeft":U(t+(E?1:-1)),e.preventDefault();break;case"ArrowRight":U(t+(E?-1:1)),e.preventDefault()}})),Y=(0,Do.A)(((e,t)=>{U(t)})),G=(0,Do.A)(((e,t)=>{N===t&&V(!1)})),q=i.useRef(null),X=(0,gn.A)(t,q);return i.useEffect((()=>{if(r||null===q.current)return;const e=q.current.querySelector('[tabindex="0"]');if(!e)return;const t=e.offsetHeight,n=e.offsetTop,i=q.current.clientHeight,o=q.current.scrollTop,s=n+t;t>i||n<o||(q.current.scrollTop=s-i/2-t/2)}),[r]),(0,je.jsx)(Qk,(0,_e.A)({ref:X,className:(0,ke.A)(O.root,o),ownerState:j,role:"radiogroup","aria-labelledby":_},S,{children:P.getYearRange([f,h]).map((e=>{const t=P.getYear(e),n=t===L,r=c||W(e);return(0,je.jsx)(Xk,{selected:n,value:t,onClick:H,onKeyDown:$,autoFocus:F&&t===N,disabled:r,tabIndex:t!==N||r?-1:0,onFocus:Y,onBlur:G,"aria-current":R===t?"date":void 0,yearsPerRow:w,slots:C,slotProps:k,children:P.format(e,"year")},P.format(e,"year"))}))}))}));function eS(e){let{onChange:t,onViewChange:n,openTo:r,view:o,views:s,autoFocus:a,focusedView:l,onFocusedViewChange:c}=e;const u=i.useRef(r),d=i.useRef(s),h=i.useRef(s.includes(r)?r:s[0]),[f,p]=(0,Gw.A)({name:"useViews",state:"view",controlled:o,default:h.current}),m=i.useRef(a?f:null),[g,v]=(0,Gw.A)({name:"useViews",state:"focusedView",controlled:l,default:m.current});i.useEffect((()=>{(u.current&&u.current!==r||d.current&&d.current.some((e=>!s.includes(e))))&&(p(s.includes(r)?r:s[0]),d.current=s,u.current=r)}),[r,p,f,s]);const b=s.indexOf(f),y=s[b-1]??null,w=s[b+1]??null,x=(0,Do.A)(((e,t)=>{v(t?e:t=>e===t?null:t),c?.(e,t)})),_=(0,Do.A)((e=>{x(e,!0),e!==f&&(p(e),n&&n(e))})),C=(0,Do.A)((()=>{w&&_(w)})),k=(0,Do.A)(((e,n,r)=>{const i="finish"===n,o=r?s.indexOf(r)<s.length-1:Boolean(w);if(t(e,i&&o?"partial":n,r),r&&r!==f){const e=s[s.indexOf(r)+1];e&&_(e)}else i&&C()}));return{view:f,setView:_,focusedView:g,setFocusedView:x,nextView:w,previousView:y,defaultView:s.includes(r)?r:s[0],goToNextView:C,setValueAndGoToNextView:k}}function tS(e){return(0,He.Ay)("MuiPickersArrowSwitcher",e)}(0,Fe.A)("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const nS=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId"],rS=["ownerState"],iS=["ownerState"],oS=(0,ft.Ay)("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),sS=(0,ft.Ay)("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})((e=>{let{theme:t}=e;return{width:t.spacing(3)}})),aS=(0,ft.Ay)(eo,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),lS=i.forwardRef((function(e,t){const n=zt(),r=Ly({props:e,name:"MuiPickersArrowSwitcher"}),{children:i,className:o,slots:s,slotProps:a,isNextDisabled:l,isNextHidden:c,onGoToNext:u,nextLabel:d,isPreviousDisabled:h,isPreviousHidden:f,onGoToPrevious:p,previousLabel:m,labelId:g}=r,v=(0,Ce.A)(r,nS),b=r,y=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},tS,t)})(b),w={isDisabled:l,isHidden:c,goTo:u,label:d},x={isDisabled:h,isHidden:f,goTo:p,label:m},_=s?.previousIconButton??aS,C=Hr({elementType:_,externalSlotProps:a?.previousIconButton,additionalProps:{size:"medium",title:x.label,"aria-label":x.label,disabled:x.isDisabled,edge:"end",onClick:x.goTo},ownerState:(0,_e.A)({},b,{hidden:x.isHidden}),className:(0,ke.A)(y.button,y.previousIconButton)}),k=s?.nextIconButton??aS,S=Hr({elementType:k,externalSlotProps:a?.nextIconButton,additionalProps:{size:"medium",title:w.label,"aria-label":w.label,disabled:w.isDisabled,edge:"start",onClick:w.goTo},ownerState:(0,_e.A)({},b,{hidden:w.isHidden}),className:(0,ke.A)(y.button,y.nextIconButton)}),A=s?.leftArrowIcon??Sx,T=Hr({elementType:A,externalSlotProps:a?.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:b,className:y.leftArrowIcon}),I=(0,Ce.A)(T,rS),M=s?.rightArrowIcon??Ax,E=Hr({elementType:M,externalSlotProps:a?.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:b,className:y.rightArrowIcon}),P=(0,Ce.A)(E,iS);return(0,je.jsxs)(oS,(0,_e.A)({ref:t,className:(0,ke.A)(y.root,o),ownerState:b},v,{children:[(0,je.jsx)(_,(0,_e.A)({},C,{children:n?(0,je.jsx)(M,(0,_e.A)({},P)):(0,je.jsx)(A,(0,_e.A)({},I))})),i?(0,je.jsx)(Ks,{variant:"subtitle1",component:"span",id:g,children:i}):(0,je.jsx)(sS,{className:y.spacer,ownerState:b}),(0,je.jsx)(k,(0,_e.A)({},S,{children:n?(0,je.jsx)(A,(0,_e.A)({},I)):(0,je.jsx)(M,(0,_e.A)({},P))}))]}))})),cS=e=>(0,He.Ay)("MuiPickersCalendarHeader",e),uS=(0,Fe.A)("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),dS=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],hS=["ownerState"],fS=(0,ft.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),pS=(0,ft.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})((e=>{let{theme:t}=e;return(0,_e.A)({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})})),mS=(0,ft.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),gS=(0,ft.Ay)(eo,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${uS.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),vS=(0,ft.Ay)(kx,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})((e=>{let{theme:t}=e;return{willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"}})),bS=i.forwardRef((function(e,t){const n=qw(),r=Hw(),o=Ly({props:e,name:"MuiPickersCalendarHeader"}),{slots:s,slotProps:a,currentMonth:l,disabled:c,disableFuture:u,disablePast:d,maxDate:h,minDate:f,onMonthChange:p,onViewChange:m,view:g,reduceAnimations:v,views:b,labelId:y,className:w,timezone:x,format:_=`${r.formats.month} ${r.formats.year}`}=o,C=(0,Ce.A)(o,dS),k=o,S=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},cS,t)})(o),A=s?.switchViewButton??gS,T=Hr({elementType:A,externalSlotProps:a?.switchViewButton,additionalProps:{size:"small","aria-label":n.calendarViewSwitchingButtonAriaLabel(g)},ownerState:k,className:S.switchViewButton}),I=s?.switchViewIcon??vS,M=Hr({elementType:I,externalSlotProps:a?.switchViewIcon,ownerState:k,className:S.switchViewIcon}),E=(0,Ce.A)(M,hS),P=function(e,t){let{disableFuture:n,maxDate:r,timezone:o}=t;const s=Hw();return i.useMemo((()=>{const t=s.date(void 0,o),i=s.startOfMonth(n&&s.isBefore(t,r)?t:r);return!s.isAfter(i,e)}),[n,r,e,s,o])}(l,{disableFuture:u,maxDate:h,timezone:x}),D=function(e,t){let{disablePast:n,minDate:r,timezone:o}=t;const s=Hw();return i.useMemo((()=>{const t=s.date(void 0,o),i=s.startOfMonth(n&&s.isAfter(t,r)?t:r);return!s.isBefore(i,e)}),[n,r,e,s,o])}(l,{disablePast:d,minDate:f,timezone:x});if(1===b.length&&"year"===b[0])return null;const j=r.formatByString(l,_);return(0,je.jsxs)(fS,(0,_e.A)({},C,{ownerState:k,className:(0,ke.A)(w,S.root),ref:t,children:[(0,je.jsxs)(pS,{role:"presentation",onClick:()=>{if(1!==b.length&&m&&!c)if(2===b.length)m(b.find((e=>e!==g))||b[0]);else{const e=0!==b.indexOf(g)?0:1;m(b[e])}},ownerState:k,"aria-live":"polite",className:S.labelContainer,children:[(0,je.jsx)(ZC,{reduceAnimations:v,transKey:j,children:(0,je.jsx)(mS,{id:y,ownerState:k,className:S.label,children:j})}),b.length>1&&!c&&(0,je.jsx)(A,(0,_e.A)({},T,{children:(0,je.jsx)(I,(0,_e.A)({},E))}))]}),(0,je.jsx)(To,{in:"day"===g,children:(0,je.jsx)(lS,{slots:s,slotProps:a,onGoToPrevious:()=>p(r.addMonths(l,-1),"right"),isPreviousDisabled:D,previousLabel:n.previousMonth,onGoToNext:()=>p(r.addMonths(l,1),"left"),isNextDisabled:P,nextLabel:n.nextMonth})})]}))})),yS=(0,ft.Ay)("div")({overflow:"hidden",width:jC,maxHeight:OC,display:"flex",flexDirection:"column",margin:"0 auto"}),wS="undefined"!==typeof navigator&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),xS=wS&&wS[1]?parseInt(wS[1],10):null,_S=wS&&wS[2]?parseInt(wS[2],10):null,CS=xS&&xS<10||_S&&_S<13||!1,kS=()=>Oh("@media (prefers-reduced-motion: reduce)",{defaultMatches:!1})||CS,SS=e=>(0,He.Ay)("MuiDateCalendar",e),AS=((0,Fe.A)("MuiDateCalendar",["root","viewTransitionContainer"]),["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"]);const TS=(0,ft.Ay)(yS,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:OC}),IS=(0,ft.Ay)(ZC,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),MS=i.forwardRef((function(e,t){const n=Hw(),r=(0,ca.A)(),o=function(e,t){const n=Hw(),r=Uw(),i=kS(),o=Ly({props:e,name:t});return(0,_e.A)({},o,{loading:o.loading??!1,disablePast:o.disablePast??!1,disableFuture:o.disableFuture??!1,openTo:o.openTo??"day",views:o.views??["year","day"],reduceAnimations:o.reduceAnimations??i,renderLoading:o.renderLoading??(()=>(0,je.jsx)("span",{children:"..."})),minDate:Ky(n,o.minDate,r.minDate),maxDate:Ky(n,o.maxDate,r.maxDate)})}(e,"MuiDateCalendar"),{autoFocus:s,onViewChange:a,value:l,defaultValue:c,referenceDate:u,disableFuture:d,disablePast:h,onChange:f,onYearChange:p,onMonthChange:m,reduceAnimations:g,shouldDisableDate:v,shouldDisableMonth:b,shouldDisableYear:y,view:w,views:x,openTo:_,className:C,disabled:k,readOnly:S,minDate:A,maxDate:T,disableHighlightToday:I,focusedView:M,onFocusedViewChange:E,showDaysOutsideCurrentMonth:P,fixedWeekNumber:D,dayOfWeekFormatter:j,slots:O,slotProps:R,loading:L,renderLoading:N,displayWeekNumber:B,yearsPerRow:F,monthsPerRow:z,timezone:V}=o,W=(0,Ce.A)(o,AS),{value:H,handleValueChange:U,timezone:$}=Jw({name:"DateCalendar",timezone:V,value:l,defaultValue:c,onChange:f,valueManager:Nw}),{view:Y,setView:G,focusedView:q,setFocusedView:X,goToNextView:Z,setValueAndGoToNextView:K}=eS({view:w,views:x,openTo:_,onChange:U,onViewChange:a,autoFocus:s,focusedView:M,onFocusedViewChange:E}),{referenceDate:Q,calendarState:J,changeFocusedDay:ee,changeMonth:te,handleChangeMonth:ne,isDateDisabled:re,onMonthSwitchingAnimationEnd:ie}=GC({value:H,referenceDate:u,reduceAnimations:g,onMonthChange:m,minDate:A,maxDate:T,shouldDisableDate:v,disablePast:h,disableFuture:d,timezone:$}),oe=k&&H||A,se=k&&H||T,ae=`${r}-grid-label`,le=null!==q,ce=O?.calendarHeader??bS,ue=Hr({elementType:ce,externalSlotProps:R?.calendarHeader,additionalProps:{views:x,view:Y,currentMonth:J.currentMonth,onViewChange:G,onMonthChange:(e,t)=>ne({newMonth:e,direction:t}),minDate:oe,maxDate:se,disabled:k,disablePast:h,disableFuture:d,reduceAnimations:g,timezone:$,labelId:ae},ownerState:o}),de=(0,Do.A)((e=>{const t=n.startOfMonth(e),r=n.endOfMonth(e),i=re(e)?Zy({utils:n,date:e,minDate:n.isBefore(A,t)?t:A,maxDate:n.isAfter(T,r)?r:T,disablePast:h,disableFuture:d,isDateDisabled:re,timezone:$}):e;i?(K(i,"finish"),m?.(t)):(Z(),te(t)),ee(i,!0)})),he=(0,Do.A)((e=>{const t=n.startOfYear(e),r=n.endOfYear(e),i=re(e)?Zy({utils:n,date:e,minDate:n.isBefore(A,t)?t:A,maxDate:n.isAfter(T,r)?r:T,disablePast:h,disableFuture:d,isDateDisabled:re,timezone:$}):e;i?(K(i,"finish"),p?.(i)):(Z(),te(t)),ee(i,!0)})),fe=(0,Do.A)((e=>U(e?Xy(n,e,H??Q):e,"finish",Y)));i.useEffect((()=>{null!=H&&n.isValid(H)&&te(H)}),[H]);const pe=o,me=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},SS,t)})(pe),ge={disablePast:h,disableFuture:d,maxDate:T,minDate:A},ve={disableHighlightToday:I,readOnly:S,disabled:k,timezone:$,gridLabelId:ae,slots:O,slotProps:R},be=i.useRef(Y);i.useEffect((()=>{be.current!==Y&&(q===be.current&&X(Y,!0),be.current=Y)}),[q,X,Y]);const ye=i.useMemo((()=>[H]),[H]);return(0,je.jsxs)(TS,(0,_e.A)({ref:t,className:(0,ke.A)(me.root,C),ownerState:pe},W,{children:[(0,je.jsx)(ce,(0,_e.A)({},ue,{slots:O,slotProps:R})),(0,je.jsx)(IS,{reduceAnimations:g,className:me.viewTransitionContainer,transKey:Y,ownerState:pe,children:(0,je.jsxs)("div",{children:["year"===Y&&(0,je.jsx)(Jk,(0,_e.A)({},ge,ve,{value:H,onChange:he,shouldDisableYear:y,hasFocus:le,onFocusedViewChange:e=>X("year",e),yearsPerRow:F,referenceDate:Q})),"month"===Y&&(0,je.jsx)(Hk,(0,_e.A)({},ge,ve,{hasFocus:le,className:C,value:H,onChange:de,shouldDisableMonth:b,onFocusedViewChange:e=>X("month",e),monthsPerRow:z,referenceDate:Q})),"day"===Y&&(0,je.jsx)(jk,(0,_e.A)({},J,ge,ve,{onMonthSwitchingAnimationEnd:ie,onFocusedDayChange:ee,reduceAnimations:g,selectedDays:ye,onSelectedDaysChange:fe,shouldDisableDate:v,shouldDisableMonth:b,shouldDisableYear:y,hasFocus:le,onFocusedViewChange:e=>X("day",e),showDaysOutsideCurrentMonth:P,fixedWeekNumber:D,dayOfWeekFormatter:j,displayWeekNumber:B,loading:L,renderLoading:N}))]})})]}))})),ES=e=>{let{view:t,onViewChange:n,views:r,focusedView:i,onFocusedViewChange:o,value:s,defaultValue:a,referenceDate:l,onChange:c,className:u,classes:d,disableFuture:h,disablePast:f,minDate:p,maxDate:m,shouldDisableDate:g,shouldDisableMonth:v,shouldDisableYear:b,reduceAnimations:y,onMonthChange:w,monthsPerRow:x,onYearChange:_,yearsPerRow:C,slots:k,slotProps:S,loading:A,renderLoading:T,disableHighlightToday:I,readOnly:M,disabled:E,showDaysOutsideCurrentMonth:P,dayOfWeekFormatter:D,sx:j,autoFocus:O,fixedWeekNumber:R,displayWeekNumber:L,timezone:N}=e;return(0,je.jsx)(MS,{view:t,onViewChange:n,views:r.filter(nw),focusedView:i&&nw(i)?i:null,onFocusedViewChange:o,value:s,defaultValue:a,referenceDate:l,onChange:c,className:u,classes:d,disableFuture:h,disablePast:f,minDate:p,maxDate:m,shouldDisableDate:g,shouldDisableMonth:v,shouldDisableYear:b,reduceAnimations:y,onMonthChange:w,monthsPerRow:x,onYearChange:_,yearsPerRow:C,slots:k,slotProps:S,loading:A,renderLoading:T,disableHighlightToday:I,readOnly:M,disabled:E,showDaysOutsideCurrentMonth:P,dayOfWeekFormatter:D,sx:j,autoFocus:O,fixedWeekNumber:R,displayWeekNumber:L,timezone:N})};function PS(e){return(0,He.Ay)("MuiPickersPopper",e)}(0,Fe.A)("MuiPickersPopper",["root","paper"]);const DS=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],jS=(0,ft.Ay)(ii,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{zIndex:t.zIndex.modal}})),OS=(0,ft.Ay)(Qo,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,t)=>t.paper})({outline:0,transformOrigin:"top center",variants:[{props:e=>{let{placement:t}=e;return["top","top-start","top-end"].includes(t)},style:{transformOrigin:"bottom center"}}]});const RS=i.forwardRef(((e,t)=>{const{PaperComponent:n,popperPlacement:r,ownerState:i,children:o,paperSlotProps:s,paperClasses:a,onPaperClick:l,onPaperTouchStart:c}=e,u=(0,Ce.A)(e,DS),d=(0,_e.A)({},i,{placement:r}),h=Hr({elementType:n,externalSlotProps:s,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:a,ownerState:d});return(0,je.jsx)(n,(0,_e.A)({},u,h,{onClick:e=>{l(e),h.onClick?.(e)},onTouchStart:e=>{c(e),h.onTouchStart?.(e)},ownerState:d,children:o}))}));function LS(e){const t=Ly({props:e,name:"MuiPickersPopper"}),{anchorEl:n,children:r,containerRef:o=null,shouldRestoreFocus:s,onBlur:a,onDismiss:l,open:c,role:u,placement:d,slots:h,slotProps:f,reduceAnimations:p}=t;i.useEffect((()=>{function e(e){c&&"Escape"===e.key&&l()}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[l,c]);const m=i.useRef(null);i.useEffect((()=>{"tooltip"===u||s&&!s()||(c?m.current=rx(document):m.current&&m.current instanceof HTMLElement&&setTimeout((()=>{m.current instanceof HTMLElement&&m.current.focus()})))}),[c,u,s]);const[g,v,b]=function(e,t){const n=i.useRef(!1),r=i.useRef(!1),o=i.useRef(null),s=i.useRef(!1);i.useEffect((()=>{if(e)return document.addEventListener("mousedown",t,!0),document.addEventListener("touchstart",t,!0),()=>{document.removeEventListener("mousedown",t,!0),document.removeEventListener("touchstart",t,!0),s.current=!1};function t(){s.current=!0}}),[e]);const a=(0,Do.A)((e=>{if(!s.current)return;const i=r.current;r.current=!1;const a=(0,bn.A)(o.current);if(!o.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,a))return;if(n.current)return void(n.current=!1);let l;l=e.composedPath?e.composedPath().indexOf(o.current)>-1:!a.documentElement.contains(e.target)||o.current.contains(e.target),l||i||t(e)})),l=()=>{r.current=!0};return i.useEffect((()=>{if(e){const e=(0,bn.A)(o.current),t=()=>{n.current=!0};return e.addEventListener("touchstart",a),e.addEventListener("touchmove",t),()=>{e.removeEventListener("touchstart",a),e.removeEventListener("touchmove",t)}}}),[e,a]),i.useEffect((()=>{if(e){const e=(0,bn.A)(o.current);return e.addEventListener("click",a),()=>{e.removeEventListener("click",a),r.current=!1}}}),[e,a]),[o,l,l]}(c,a??l),y=i.useRef(null),w=(0,gn.A)(y,o),x=(0,gn.A)(w,g),_=t,C=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"],paper:["paper"]},PS,t)})(_),k=kS(),S=p??k,A=h?.desktopTransition??S?To:pn,T=h?.desktopTrapFocus??Co,I=h?.desktopPaper??OS,M=h?.popper??jS,E=Hr({elementType:M,externalSlotProps:f?.popper,additionalProps:{transition:!0,role:u,open:c,anchorEl:n,placement:d,onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),l())}},className:C.root,ownerState:t});return(0,je.jsx)(M,(0,_e.A)({},E,{children:e=>{let{TransitionProps:t,placement:n}=e;return(0,je.jsx)(T,(0,_e.A)({open:c,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:"tooltip"===u,isEnabled:()=>!0},f?.desktopTrapFocus,{children:(0,je.jsx)(A,(0,_e.A)({},t,f?.desktopTransition,{children:(0,je.jsx)(RS,{PaperComponent:I,ownerState:_,popperPlacement:n,ref:x,onPaperClick:v,onPaperTouchStart:b,paperClasses:C.paper,paperSlotProps:f?.desktopPaper,children:r})}))}))}}))}const NS=e=>{let{props:t,valueManager:n,valueType:r,wrapperVariant:o,validator:s}=e;const{onAccept:a,onChange:l,value:c,defaultValue:u,closeOnSelect:d="desktop"===o,timezone:h}=t,{current:f}=i.useRef(u),{current:p}=i.useRef(void 0!==c);const m=Hw(),g=Ww(),{isOpen:v,setIsOpen:b}=(e=>{let{open:t,onOpen:n,onClose:r}=e;const o=i.useRef("boolean"===typeof t).current,[s,a]=i.useState(!1);return i.useEffect((()=>{if(o){if("boolean"!==typeof t)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");a(t)}}),[o,t]),{isOpen:s,setIsOpen:i.useCallback((e=>{o||a(e),e&&n&&n(),!e&&r&&r()}),[o,n,r])}})(t),{timezone:y,value:w,handleValueChange:x}=Qw({timezone:h,value:c,defaultValue:f,onChange:l,valueManager:n}),[_,C]=i.useState((()=>{let e;return e=void 0!==w?w:void 0!==f?f:n.emptyValue,{draft:e,lastPublishedValue:e,lastCommittedValue:e,lastControlledValue:w,hasBeenModifiedSinceMount:!1}}));Yw((0,_e.A)({},t,{value:_.draft,timezone:y}),s,n.isSameError,n.defaultErrorState);const k=(0,Do.A)((e=>{const r={action:e,dateState:_,hasChanged:t=>!n.areValuesEqual(m,e.value,t),isControlled:p,closeOnSelect:d},i=(e=>{const{action:t,hasChanged:n,dateState:r,isControlled:i}=e,o=!i&&!r.hasBeenModifiedSinceMount;return"setValueFromField"===t.name||("setValueFromAction"===t.name?!(!o||!["accept","today","clear"].includes(t.pickerAction))||n(r.lastPublishedValue):("setValueFromView"===t.name&&"shallow"!==t.selectionState||"setValueFromShortcut"===t.name)&&(!!o||n(r.lastPublishedValue)))})(r),o=(e=>{const{action:t,hasChanged:n,dateState:r,isControlled:i,closeOnSelect:o}=e,s=!i&&!r.hasBeenModifiedSinceMount;return"setValueFromAction"===t.name?!(!s||!["accept","today","clear"].includes(t.pickerAction))||n(r.lastCommittedValue):"setValueFromView"===t.name&&"finish"===t.selectionState&&o?!!s||n(r.lastCommittedValue):"setValueFromShortcut"===t.name&&"accept"===t.changeImportance&&n(r.lastCommittedValue)})(r),l=(e=>{const{action:t,closeOnSelect:n}=e;return"setValueFromAction"===t.name||("setValueFromView"===t.name?"finish"===t.selectionState&&n:"setValueFromShortcut"===t.name&&"accept"===t.changeImportance)})(r);C((t=>(0,_e.A)({},t,{draft:e.value,lastPublishedValue:i?e.value:t.lastPublishedValue,lastCommittedValue:o?e.value:t.lastCommittedValue,hasBeenModifiedSinceMount:!0})));let c=null;const u=()=>{if(!c){const n="setValueFromField"===e.name?e.context.validationError:s({adapter:g,value:e.value,props:(0,_e.A)({},t,{value:e.value,timezone:y})});c={validationError:n},"setValueFromShortcut"===e.name&&(c.shortcut=e.shortcut)}return c};i&&x(e.value,u()),o&&a&&a(e.value,u()),l&&b(!1)}));if(void 0!==w&&(void 0===_.lastControlledValue||!n.areValuesEqual(m,_.lastControlledValue,w))){const e=n.areValuesEqual(m,_.draft,w);C((t=>(0,_e.A)({},t,{lastControlledValue:w},e?{}:{lastCommittedValue:w,lastPublishedValue:w,draft:w,hasBeenModifiedSinceMount:!0})))}const S=(0,Do.A)((()=>{k({value:n.emptyValue,name:"setValueFromAction",pickerAction:"clear"})})),A=(0,Do.A)((()=>{k({value:_.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})})),T=(0,Do.A)((()=>{k({value:_.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})})),I=(0,Do.A)((()=>{k({value:_.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})})),M=(0,Do.A)((()=>{k({value:n.getTodayValue(m,y,r),name:"setValueFromAction",pickerAction:"today"})})),E=(0,Do.A)((e=>{e.preventDefault(),b(!0)})),P=(0,Do.A)((e=>{e?.preventDefault(),b(!1)})),D=(0,Do.A)((function(e){return k({name:"setValueFromView",value:e,selectionState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"partial"})})),j=(0,Do.A)(((e,t,n)=>k({name:"setValueFromShortcut",value:e,changeImportance:t,shortcut:n}))),O=(0,Do.A)(((e,t)=>k({name:"setValueFromField",value:e,context:t}))),R={onClear:S,onAccept:A,onDismiss:T,onCancel:I,onSetToday:M,onOpen:E,onClose:P},L={value:_.draft,onChange:O},N=i.useMemo((()=>n.cleanValue(m,_.draft)),[m,n,_.draft]),B={value:N,onChange:D,onClose:P,open:v},F=(0,_e.A)({},R,{value:N,onChange:D,onSelectShortcut:j,isValid:e=>{const r=s({adapter:g,value:e,props:(0,_e.A)({},t,{value:e,timezone:y})});return!n.hasError(r)}});return{open:v,fieldProps:L,viewProps:B,layoutProps:F,actions:R}},BS=["className","sx"];function FS(){return"undefined"===typeof window?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?90===Math.abs(window.screen.orientation.angle)?"landscape":"portrait":window.orientation&&90===Math.abs(Number(window.orientation))?"landscape":"portrait"}const zS=(e,t)=>{const[n,r]=i.useState(FS);if((0,vn.A)((()=>{const e=()=>{r(FS())};return window.addEventListener("orientationchange",e),()=>{window.removeEventListener("orientationchange",e)}}),[]),o=e,s=["hours","minutes","seconds"],Array.isArray(s)?s.every((e=>-1!==o.indexOf(e))):-1!==o.indexOf(s))return!1;var o,s;return"landscape"===(t||n)},VS=e=>{let{props:t,valueManager:n,valueType:r,wrapperVariant:o,additionalViewProps:s,validator:a,autoFocusView:l,rendererInterceptor:c,fieldRef:u}=e;const d=NS({props:t,valueManager:n,valueType:r,wrapperVariant:o,validator:a}),h=(e=>{let{props:t,propsFromPickerValue:n,additionalViewProps:r,autoFocusView:o,rendererInterceptor:s,fieldRef:a}=e;const{onChange:l,open:c,onClose:u}=n,{view:d,views:h,openTo:f,onViewChange:p,viewRenderers:m,timezone:g}=t,v=(0,Ce.A)(t,BS),{view:b,setView:y,defaultView:w,focusedView:x,setFocusedView:_,setValueAndGoToNextView:C}=eS({view:d,views:h,openTo:f,onChange:l,onViewChange:p,autoFocus:o}),{hasUIView:k,viewModeLookup:S}=i.useMemo((()=>h.reduce(((e,t)=>{let n;return n=null!=m[t]?"UI":"field",e.viewModeLookup[t]=n,"UI"===n&&(e.hasUIView=!0),e}),{hasUIView:!1,viewModeLookup:{}})),[m,h]),A=i.useMemo((()=>h.reduce(((e,t)=>null!=m[t]&&sw(t)?e+1:e),0)),[m,h]),T=S[b],I=(0,Do.A)((()=>"UI"===T)),[M,E]=i.useState("UI"===T?b:null);return M!==b&&"UI"===S[b]&&E(b),(0,vn.A)((()=>{"field"===T&&c&&(u(),setTimeout((()=>{a?.current?.setSelectedSections(b),a?.current?.focusField(b)})))}),[b]),(0,vn.A)((()=>{if(!c)return;let e=b;"field"===T&&null!=M&&(e=M),e!==w&&"UI"===S[e]&&"UI"===S[w]&&(e=w),e!==b&&y(e),_(e,!0)}),[c]),{hasUIView:k,shouldRestoreFocus:I,layoutProps:{views:h,view:M,onViewChange:y},renderCurrentView:()=>{if(null==M)return null;const e=m[M];if(null==e)return null;const t=(0,_e.A)({},v,r,n,{views:h,timezone:g,onChange:C,view:M,onViewChange:y,focusedView:x,onFocusedViewChange:_,showViewSwitcher:A>1,timeViewsCount:A});return s?s(m,M,t):e(t)}}})({props:t,additionalViewProps:s,autoFocusView:l,fieldRef:u,propsFromPickerValue:d.viewProps,rendererInterceptor:c}),f=(e=>{let{props:t,propsFromPickerValue:n,propsFromPickerViews:r,wrapperVariant:i}=e;const{orientation:o}=t,s=zS(r.views,o),a=zt();return{layoutProps:(0,_e.A)({},r,n,{isLandscape:s,isRtl:a,wrapperVariant:i,disabled:t.disabled,readOnly:t.readOnly})}})({props:t,wrapperVariant:o,propsFromPickerValue:d.layoutProps,propsFromPickerViews:h.layoutProps});return{open:d.open,actions:d.actions,fieldProps:d.fieldProps,renderCurrentView:h.renderCurrentView,hasUIView:h.hasUIView,shouldRestoreFocus:h.shouldRestoreFocus,layoutProps:f.layoutProps}};function WS(e){return(0,He.Ay)("MuiPickersLayout",e)}const HS=(0,Fe.A)("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]);function US(e){return(0,He.Ay)("MuiDialogActions",e)}(0,Fe.A)("MuiDialogActions",["root","spacing"]);const $S=["className","disableSpacing"],YS=(0,ft.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),GS=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:i=!1}=n,o=(0,Ce.A)(n,$S),s=(0,_e.A)({},n,{disableSpacing:i}),a=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,Ue.A)(r,US,t)})(s);return(0,je.jsx)(YS,(0,_e.A)({className:(0,ke.A)(a.root,r),ownerState:s,ref:t},o))})),qS=["onAccept","onClear","onCancel","onSetToday","actions"];function XS(e){const{onAccept:t,onClear:n,onCancel:r,onSetToday:i,actions:o}=e,s=(0,Ce.A)(e,qS),a=qw();if(null==o||0===o.length)return null;const l=o?.map((e=>{switch(e){case"clear":return(0,je.jsx)(la,{onClick:n,children:a.clearButtonLabel},e);case"cancel":return(0,je.jsx)(la,{onClick:r,children:a.cancelButtonLabel},e);case"accept":return(0,je.jsx)(la,{onClick:t,children:a.okButtonLabel},e);case"today":return(0,je.jsx)(la,{onClick:i,children:a.todayButtonLabel},e);default:return null}}));return(0,je.jsx)(GS,(0,_e.A)({},s,{children:l}))}function ZS(e){return(0,He.Ay)("MuiListItem",e)}const KS=(0,Fe.A)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function QS(e){return(0,He.Ay)("MuiListItemButton",e)}const JS=(0,Fe.A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function eA(e){return(0,He.Ay)("MuiListItemSecondaryAction",e)}(0,Fe.A)("MuiListItemSecondaryAction",["root","disableGutters"]);const tA=["className"],nA=(0,ft.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),rA=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiListItemSecondaryAction"}),{className:r}=n,o=(0,Ce.A)(n,tA),s=i.useContext(no),a=(0,_e.A)({},n,{disableGutters:s.disableGutters}),l=(e=>{const{disableGutters:t,classes:n}=e,r={root:["root",t&&"disableGutters"]};return(0,Ue.A)(r,eA,n)})(a);return(0,je.jsx)(nA,(0,_e.A)({className:(0,ke.A)(l.root,r),ownerState:a,ref:t},o))}));rA.muiName="ListItemSecondaryAction";const iA=rA,oA=["className"],sA=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],aA=(0,ft.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,_e.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{[`& > .${JS.root}`]:{paddingRight:48}},{[`&.${KS.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${KS.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Nt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${KS.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Nt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${KS.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${KS.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Nt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Nt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})})),lA=(0,ft.Ay)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),cA=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiListItem"}),{alignItems:r="center",autoFocus:o=!1,button:s=!1,children:a,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:h="li",ContainerProps:{className:f}={},dense:p=!1,disabled:m=!1,disableGutters:g=!1,disablePadding:v=!1,divider:b=!1,focusVisibleClassName:y,secondaryAction:w,selected:x=!1,slotProps:_={},slots:C={}}=n,k=(0,Ce.A)(n.ContainerProps,oA),S=(0,Ce.A)(n,sA),A=i.useContext(no),T=i.useMemo((()=>({dense:p||A.dense||!1,alignItems:r,disableGutters:g})),[r,A.dense,p,g]),I=i.useRef(null);(0,co.A)((()=>{o&&I.current&&I.current.focus()}),[o]);const M=i.Children.toArray(a),E=M.length&&(0,Og.A)(M[M.length-1],["ListItemSecondaryAction"]),P=(0,_e.A)({},n,{alignItems:r,autoFocus:o,button:s,dense:T.dense,disabled:m,disableGutters:g,disablePadding:v,divider:b,hasSecondaryAction:E,selected:x}),D=(e=>{const{alignItems:t,button:n,classes:r,dense:i,disabled:o,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=e,d={root:["root",i&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",o&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]};return(0,Ue.A)(d,ZS,r)})(P),j=(0,ln.A)(I,t),O=C.root||u.Root||aA,R=_.root||d.root||{},L=(0,_e.A)({className:(0,ke.A)(D.root,R.className,l),disabled:m},S);let N=c||"li";return s&&(L.component=c||"div",L.focusVisibleClassName=(0,ke.A)(KS.focusVisible,y),N=qi),E?(N=L.component||c?N:"div","li"===h&&("li"===N?N="div":"li"===L.component&&(L.component="div")),(0,je.jsx)(no.Provider,{value:T,children:(0,je.jsxs)(lA,(0,_e.A)({as:h,className:(0,ke.A)(D.container,f),ref:j,ownerState:P},k,{children:[(0,je.jsx)(O,(0,_e.A)({},R,!Wt(O)&&{as:N,ownerState:(0,_e.A)({},P,R.ownerState)},L,{children:M})),M.pop()]}))})):(0,je.jsx)(no.Provider,{value:T,children:(0,je.jsxs)(O,(0,_e.A)({},R,{as:N,ref:j},!Wt(O)&&{ownerState:(0,_e.A)({},P,R.ownerState)},L,{children:[M,w&&(0,je.jsx)(iA,{children:w})]}))})})),uA=(0,hp.A)((0,je.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function dA(e){return(0,He.Ay)("MuiChip",e)}const hA=(0,Fe.A)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),fA=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],pA=(0,ft.Ay)("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${hA.avatar}`]:t.avatar},{[`& .${hA.avatar}`]:t[`avatar${(0,ht.A)(a)}`]},{[`& .${hA.avatar}`]:t[`avatarColor${(0,ht.A)(r)}`]},{[`& .${hA.icon}`]:t.icon},{[`& .${hA.icon}`]:t[`icon${(0,ht.A)(a)}`]},{[`& .${hA.icon}`]:t[`iconColor${(0,ht.A)(i)}`]},{[`& .${hA.deleteIcon}`]:t.deleteIcon},{[`& .${hA.deleteIcon}`]:t[`deleteIcon${(0,ht.A)(a)}`]},{[`& .${hA.deleteIcon}`]:t[`deleteIconColor${(0,ht.A)(r)}`]},{[`& .${hA.deleteIcon}`]:t[`deleteIcon${(0,ht.A)(l)}Color${(0,ht.A)(r)}`]},t.root,t[`size${(0,ht.A)(a)}`],t[`color${(0,ht.A)(r)}`],o&&t.clickable,o&&"default"!==r&&t[`clickableColor${(0,ht.A)(r)})`],s&&t.deletable,s&&"default"!==r&&t[`deletableColor${(0,ht.A)(r)}`],t[l],t[`${l}${(0,ht.A)(r)}`]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,_e.A)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${hA.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${hA.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},[`& .${hA.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${hA.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${hA.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${hA.icon}`]:(0,_e.A)({marginLeft:5,marginRight:-6},"small"===n.size&&{fontSize:18,marginLeft:4,marginRight:-4},n.iconColor===n.color&&(0,_e.A)({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},"default"!==n.color&&{color:"inherit"})),[`& .${hA.deleteIcon}`]:(0,_e.A)({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:(0,Nt.X4)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:(0,Nt.X4)(t.palette.text.primary,.4)}},"small"===n.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==n.color&&{color:t.vars?`rgba(${t.vars.palette[n.color].contrastTextChannel} / 0.7)`:(0,Nt.X4)(t.palette[n.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].contrastText}})},"small"===n.size&&{height:24},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},n.onDelete&&{[`&.${hA.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Nt.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},n.onDelete&&"default"!==n.color&&{[`&.${hA.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({},n.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Nt.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${hA.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Nt.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},n.clickable&&"default"!==n.color&&{[`&:hover, &.${hA.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({},"outlined"===n.variant&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${hA.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${hA.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${hA.avatar}`]:{marginLeft:4},[`& .${hA.avatarSmall}`]:{marginLeft:2},[`& .${hA.icon}`]:{marginLeft:4},[`& .${hA.iconSmall}`]:{marginLeft:2},[`& .${hA.deleteIcon}`]:{marginRight:5},[`& .${hA.deleteIconSmall}`]:{marginRight:3}},"outlined"===n.variant&&"default"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.7)`:(0,Nt.X4)(t.palette[n.color].main,.7)}`,[`&.${hA.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Nt.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity)},[`&.${hA.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:(0,Nt.X4)(t.palette[n.color].main,t.palette.action.focusOpacity)},[`& .${hA.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.7)`:(0,Nt.X4)(t.palette[n.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].main}}})})),mA=(0,ft.Ay)("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${(0,ht.A)(r)}`]]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===t.variant&&{paddingLeft:11,paddingRight:11},"small"===t.size&&{paddingLeft:8,paddingRight:8},"small"===t.size&&"outlined"===t.variant&&{paddingLeft:7,paddingRight:7})}));function gA(e){return"Backspace"===e.key||"Delete"===e.key}const vA=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiChip"}),{avatar:r,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:f,onDelete:p,onKeyDown:m,onKeyUp:g,size:v="medium",variant:b="filled",tabIndex:y,skipFocusWhenDisabled:w=!1}=n,x=(0,Ce.A)(n,fA),_=i.useRef(null),C=(0,ln.A)(_,t),k=e=>{e.stopPropagation(),p&&p(e)},S=!(!1===s||!f)||s,A=S||p?qi:l||"div",T=(0,_e.A)({},n,{component:A,disabled:u,size:v,color:a,iconColor:i.isValidElement(d)&&d.props.color||a,onDelete:!!p,clickable:S,variant:b}),I=(e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=e,c={root:["root",l,n&&"disabled",`size${(0,ht.A)(r)}`,`color${(0,ht.A)(i)}`,a&&"clickable",a&&`clickableColor${(0,ht.A)(i)}`,s&&"deletable",s&&`deletableColor${(0,ht.A)(i)}`,`${l}${(0,ht.A)(i)}`],label:["label",`label${(0,ht.A)(r)}`],avatar:["avatar",`avatar${(0,ht.A)(r)}`,`avatarColor${(0,ht.A)(i)}`],icon:["icon",`icon${(0,ht.A)(r)}`,`iconColor${(0,ht.A)(o)}`],deleteIcon:["deleteIcon",`deleteIcon${(0,ht.A)(r)}`,`deleteIconColor${(0,ht.A)(i)}`,`deleteIcon${(0,ht.A)(l)}Color${(0,ht.A)(i)}`]};return(0,Ue.A)(c,dA,t)})(T),M=A===qi?(0,_e.A)({component:l||"div",focusVisibleClassName:I.focusVisible},p&&{disableRipple:!0}):{};let E=null;p&&(E=c&&i.isValidElement(c)?i.cloneElement(c,{className:(0,ke.A)(c.props.className,I.deleteIcon),onClick:k}):(0,je.jsx)(uA,{className:(0,ke.A)(I.deleteIcon),onClick:k}));let P=null;r&&i.isValidElement(r)&&(P=i.cloneElement(r,{className:(0,ke.A)(I.avatar,r.props.className)}));let D=null;return d&&i.isValidElement(d)&&(D=i.cloneElement(d,{className:(0,ke.A)(I.icon,d.props.className)})),(0,je.jsxs)(pA,(0,_e.A)({as:A,className:(0,ke.A)(I.root,o),disabled:!(!S||!u)||void 0,onClick:f,onKeyDown:e=>{e.currentTarget===e.target&&gA(e)&&e.preventDefault(),m&&m(e)},onKeyUp:e=>{e.currentTarget===e.target&&(p&&gA(e)?p(e):"Escape"===e.key&&_.current&&_.current.blur()),g&&g(e)},ref:C,tabIndex:w&&u?-1:y,ownerState:T},M,x,{children:[P||D,(0,je.jsx)(mA,{className:(0,ke.A)(I.label),ownerState:T,children:h}),E]}))})),bA=vA,yA=["items","changeImportance","isLandscape","onChange","isValid"],wA=["getValue"];function xA(e){const{items:t,changeImportance:n="accept",onChange:r,isValid:i}=e,o=(0,Ce.A)(e,yA);if(null==t||0===t.length)return null;const s=t.map((e=>{let{getValue:t}=e,o=(0,Ce.A)(e,wA);const s=t({isValid:i});return(0,_e.A)({},o,{label:o.label,onClick:()=>{r(s,n,o)},disabled:!i(s)})}));return(0,je.jsx)(so,(0,_e.A)({dense:!0,sx:[{maxHeight:OC,maxWidth:200,overflow:"auto"},...Array.isArray(o.sx)?o.sx:[o.sx]]},o,{children:s.map((e=>(0,je.jsx)(cA,{children:(0,je.jsx)(bA,(0,_e.A)({},e))},e.id??e.label)))}))}const _A=e=>{const{wrapperVariant:t,onAccept:n,onClear:r,onCancel:i,onSetToday:o,view:s,views:a,onViewChange:l,value:c,onChange:u,onSelectShortcut:d,isValid:h,isLandscape:f,disabled:p,readOnly:m,children:g,slots:v,slotProps:b}=e,y=(e=>{const{classes:t,isLandscape:n}=e,r={root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]};return(0,Ue.A)(r,WS,t)})(e),w=v?.actionBar??XS,x=Hr({elementType:w,externalSlotProps:b?.actionBar,additionalProps:{onAccept:n,onClear:r,onCancel:i,onSetToday:o,actions:"desktop"===t?[]:["cancel","accept"]},className:y.actionBar,ownerState:(0,_e.A)({},e,{wrapperVariant:t})}),_=(0,je.jsx)(w,(0,_e.A)({},x)),C=v?.toolbar,k=Hr({elementType:C,externalSlotProps:b?.toolbar,additionalProps:{isLandscape:f,onChange:u,value:c,view:s,onViewChange:l,views:a,disabled:p,readOnly:m},className:y.toolbar,ownerState:(0,_e.A)({},e,{wrapperVariant:t})}),S=function(e){return null!==e.view}(k)&&C?(0,je.jsx)(C,(0,_e.A)({},k)):null,A=g,T=v?.tabs,I=s&&T?(0,je.jsx)(T,(0,_e.A)({view:s,onViewChange:l,className:y.tabs},b?.tabs)):null,M=v?.shortcuts??xA,E=Hr({elementType:M,externalSlotProps:b?.shortcuts,additionalProps:{isValid:h,isLandscape:f,onChange:d},className:y.shortcuts,ownerState:{isValid:h,isLandscape:f,onChange:d,wrapperVariant:t}});return{toolbar:S,content:A,tabs:I,actionBar:_,shortcuts:s&&M?(0,je.jsx)(M,(0,_e.A)({},E)):null}},CA=(0,ft.Ay)("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${HS.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${HS.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${HS.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{[`& .${HS.toolbar}`]:{gridColumn:3}}},{props:{isLandscape:!1},style:{[`& .${HS.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${HS.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{[`& .${HS.shortcuts}`]:{gridColumn:3}}}]}),kA=(0,ft.Ay)("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(e,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),SA=i.forwardRef((function(e,t){const n=Ly({props:e,name:"MuiPickersLayout"}),{toolbar:r,content:o,tabs:s,actionBar:a,shortcuts:l}=_A(n),{sx:c,className:u,isLandscape:d,wrapperVariant:h}=n,f=(e=>{const{isLandscape:t,classes:n}=e,r={root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]};return(0,Ue.A)(r,WS,n)})(n);return(0,je.jsxs)(CA,{ref:t,sx:c,className:(0,ke.A)(u,f.root),ownerState:n,children:[d?l:r,d?r:l,(0,je.jsx)(kA,{className:f.contentWrapper,children:"desktop"===h?(0,je.jsxs)(i.Fragment,{children:[o,s]}):(0,je.jsxs)(i.Fragment,{children:[s,o]})}),a]})})),AA=["props","getOpenDialogAriaText"],TA=["ownerState"],IA=["ownerState"],MA=["views","format"],EA=(e,t,n)=>{let{views:r,format:i}=t,o=(0,Ce.A)(t,MA);if(i)return i;const s=[],a=[];if(r.forEach((e=>{sw(e)?a.push(e):nw(e)&&s.push(e)})),0===a.length)return rw(e,(0,_e.A)({views:s},o),!1);if(0===s.length)return fw(e,(0,_e.A)({views:a},o));const l=fw(e,(0,_e.A)({views:a},o));return`${n?e.formats.keyboardDate:rw(e,(0,_e.A)({views:s},o),!1)} ${l}`},PA=(e,t,n)=>n?t.filter((e=>!aw(e)||"hours"===e)):e?[...t,"meridiem"]:t;function DA(e){return(0,He.Ay)("MuiTimeClock",e)}(0,Fe.A)("MuiTimeClock",["root","arrowSwitcher"]);const jA=220,OA=36,RA={x:jA/2,y:jA/2},LA=RA.x-RA.x,NA=0-RA.y,BA=(e,t,n)=>{const r=t-RA.x,i=n-RA.y,o=Math.atan2(LA,NA)-Math.atan2(r,i);let s=o*(180/Math.PI);s=Math.round(s/e)*e,s%=360;const a=r**2+i**2;return{value:Math.floor(s/e)||0,distance:Math.sqrt(a)}};function FA(e){return(0,He.Ay)("MuiClockPointer",e)}(0,Fe.A)("MuiClockPointer",["root","thumb"]);const zA=["className","hasSelected","isInner","type","viewValue"],VA=e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"],thumb:["thumb"]},FA,t)},WA=(0,ft.Ay)("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{width:2,backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{shouldAnimate:!0},style:{transition:t.transitions.create(["transform","height"])}}]}})),HA=(0,ft.Ay)("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{width:4,height:4,backgroundColor:(t.vars||t).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:"calc(50% - 18px)",border:`16px solid ${(t.vars||t).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{hasSelected:!0},style:{backgroundColor:(t.vars||t).palette.primary.main}}]}}));function UA(e){const t=Ly({props:e,name:"MuiClockPointer"}),{className:n,isInner:r,type:o,viewValue:s}=t,a=(0,Ce.A)(t,zA),l=i.useRef(o);i.useEffect((()=>{l.current=o}),[o]);const c=(0,_e.A)({},t,{shouldAnimate:l.current!==o}),u=VA(c);return(0,je.jsx)(WA,(0,_e.A)({style:(()=>{let e=360/("hours"===o?12:60)*s;return"hours"===o&&s>12&&(e-=360),{height:Math.round((r?.26:.4)*jA),transform:`rotateZ(${e}deg)`}})(),className:(0,ke.A)(n,u.root),ownerState:c},a,{children:(0,je.jsx)(HA,{ownerState:c,className:u.thumb})}))}function $A(e){return(0,He.Ay)("MuiClock",e)}(0,Fe.A)("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText","selected"]);const YA=(0,ft.Ay)("div",{name:"MuiClock",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)}})),GA=(0,ft.Ay)("div",{name:"MuiClock",slot:"Clock",overridesResolver:(e,t)=>t.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),qA=(0,ft.Ay)("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({"&:focus":{outline:"none"}}),XA=(0,ft.Ay)("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(e,t)=>t.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{disabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),ZA=(0,ft.Ay)("div",{name:"MuiClock",slot:"Pin",overridesResolver:(e,t)=>t.pin})((e=>{let{theme:t}=e;return{width:6,height:6,borderRadius:"50%",backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})),KA=(e,t)=>({zIndex:1,bottom:8,paddingLeft:4,paddingRight:4,width:OA,variants:[{props:{meridiemMode:t},style:{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:hover":{backgroundColor:(e.vars||e).palette.primary.light}}}]}),QA=(0,ft.Ay)(eo,{name:"MuiClock",slot:"AmButton",overridesResolver:(e,t)=>t.amButton})((e=>{let{theme:t}=e;return(0,_e.A)({},KA(t,"am"),{position:"absolute",left:8})})),JA=(0,ft.Ay)(eo,{name:"MuiClock",slot:"PmButton",overridesResolver:(e,t)=>t.pmButton})((e=>{let{theme:t}=e;return(0,_e.A)({},KA(t,"pm"),{position:"absolute",right:8})})),eT=(0,ft.Ay)(Ks,{name:"MuiClock",slot:"meridiemText",overridesResolver:(e,t)=>t.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function tT(e){const t=Ly({props:e,name:"MuiClock"}),{ampm:n,ampmInClock:r,autoFocus:o,children:s,value:a,handleMeridiemChange:l,isTimeDisabled:c,meridiemMode:u,minutesStep:d=1,onChange:h,selectedId:f,type:p,viewValue:m,disabled:g=!1,readOnly:v,className:b}=t,y=t,w=Hw(),x=qw(),_=i.useRef(!1),C=(e=>{const{classes:t,meridiemMode:n}=e,r={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton","am"===n&&"selected"],pmButton:["pmButton","pm"===n&&"selected"],meridiemText:["meridiemText"]};return(0,Ue.A)(r,$A,t)})(y),k=c(m,p),S=!n&&"hours"===p&&(m<1||m>12),A=(e,t)=>{g||v||c(e,p)||h(e,t)},T=(e,t)=>{let{offsetX:r,offsetY:i}=e;if(void 0===r){const t=e.target.getBoundingClientRect();r=e.changedTouches[0].clientX-t.left,i=e.changedTouches[0].clientY-t.top}const o="seconds"===p||"minutes"===p?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=6*n;let{value:i}=BA(r,e,t);return i=i*n%60,i}(r,i,d):((e,t,n)=>{const{value:r,distance:i}=BA(30,e,t);let o=r||12;return n?o%=12:i<jA/2-OA&&(o+=12,o%=24),o})(r,i,Boolean(n));A(o,t)},I=e=>{_.current=!0,T(e,"shallow")},M=i.useMemo((()=>"hours"===p||m%5===0),[p,m]),E="minutes"===p?d:1,P=i.useRef(null);(0,vn.A)((()=>{o&&P.current.focus()}),[o]);return(0,je.jsxs)(YA,{className:(0,ke.A)(b,C.root),children:[(0,je.jsxs)(GA,{className:C.clock,children:[(0,je.jsx)(XA,{onTouchMove:I,onTouchStart:I,onTouchEnd:e=>{_.current&&(T(e,"finish"),_.current=!1)},onMouseUp:e=>{_.current&&(_.current=!1),T(e.nativeEvent,"finish")},onMouseMove:e=>{e.buttons>0&&T(e.nativeEvent,"shallow")},ownerState:{disabled:g},className:C.squareMask}),!k&&(0,je.jsxs)(i.Fragment,{children:[(0,je.jsx)(ZA,{className:C.pin}),null!=a&&(0,je.jsx)(UA,{type:p,viewValue:m,isInner:S,hasSelected:M})]}),(0,je.jsx)(qA,{"aria-activedescendant":f,"aria-label":x.clockLabelText(p,a,w),ref:P,role:"listbox",onKeyDown:e=>{if(!_.current)switch(e.key){case"Home":A(0,"partial"),e.preventDefault();break;case"End":A("minutes"===p?59:23,"partial"),e.preventDefault();break;case"ArrowUp":A(m+E,"partial"),e.preventDefault();break;case"ArrowDown":A(m-E,"partial"),e.preventDefault();break;case"Enter":case" ":A(m,"finish"),e.preventDefault()}},tabIndex:0,className:C.wrapper,children:s})]}),n&&r&&(0,je.jsxs)(i.Fragment,{children:[(0,je.jsx)(QA,{onClick:v?void 0:()=>l("am"),disabled:g||null===u,ownerState:y,className:C.amButton,title:ew(w,"am"),children:(0,je.jsx)(eT,{variant:"caption",className:C.meridiemText,children:ew(w,"am")})}),(0,je.jsx)(JA,{disabled:g||null===u,onClick:v?void 0:()=>l("pm"),ownerState:y,className:C.pmButton,title:ew(w,"pm"),children:(0,je.jsx)(eT,{variant:"caption",className:C.meridiemText,children:ew(w,"pm")})})]})]})}function nT(e){return(0,He.Ay)("MuiClockNumber",e)}const rT=(0,Fe.A)("MuiClockNumber",["root","selected","disabled"]),iT=["className","disabled","index","inner","label","selected"],oT=(0,ft.Ay)("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${rT.disabled}`]:t.disabled},{[`&.${rT.selected}`]:t.selected}]})((e=>{let{theme:t}=e;return{height:OA,width:OA,position:"absolute",left:"calc((100% - 36px) / 2)",display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(t.vars||t).palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:(t.vars||t).palette.background.paper},[`&.${rT.selected}`]:{color:(t.vars||t).palette.primary.contrastText},[`&.${rT.disabled}`]:{pointerEvents:"none",color:(t.vars||t).palette.text.disabled},variants:[{props:{inner:!0},style:(0,_e.A)({},t.typography.body2,{color:(t.vars||t).palette.text.secondary})}]}}));function sT(e){const t=Ly({props:e,name:"MuiClockNumber"}),{className:n,disabled:r,index:i,inner:o,label:s,selected:a}=t,l=(0,Ce.A)(t,iT),c=t,u=(e=>{const{classes:t,selected:n,disabled:r}=e,i={root:["root",n&&"selected",r&&"disabled"]};return(0,Ue.A)(i,nT,t)})(c),d=i%12/12*Math.PI*2-Math.PI/2,h=(jA-OA-2)/2*(o?.65:1),f=Math.round(Math.cos(d)*h),p=Math.round(Math.sin(d)*h);return(0,je.jsx)(oT,(0,_e.A)({className:(0,ke.A)(n,u.root),"aria-disabled":!!r||void 0,"aria-selected":!!a||void 0,role:"option",style:{transform:`translate(${f}px, ${p+(jA-OA)/2}px`},ownerState:c},l,{children:s}))}const aT=e=>{let{ampm:t,value:n,getClockNumberText:r,isDisabled:i,selectedId:o,utils:s}=e;const a=n?s.getHours(n):null,l=[],c=t?12:23,u=e=>null!==a&&(t?12===e?12===a||0===a:a===e||a-12===e:a===e);for(let d=t?1:0;d<=c;d+=1){let e=d.toString();0===d&&(e="00");const n=!t&&(0===d||d>12);e=s.formatNumber(e);const a=u(d);l.push((0,je.jsx)(sT,{id:a?o:void 0,index:d,inner:n,selected:a,disabled:i(d),label:e,"aria-label":r(e)},d))}return l},lT=e=>{let{utils:t,value:n,isDisabled:r,getClockNumberText:i,selectedId:o}=e;const s=t.formatNumber;return[[5,s("05")],[10,s("10")],[15,s("15")],[20,s("20")],[25,s("25")],[30,s("30")],[35,s("35")],[40,s("40")],[45,s("45")],[50,s("50")],[55,s("55")],[0,s("00")]].map(((e,t)=>{let[s,a]=e;const l=s===n;return(0,je.jsx)(sT,{label:a,id:l?o:void 0,index:t+1,inner:!1,disabled:r(s),selected:l,"aria-label":i(a)},s)}))},cT=e=>{let{value:t,referenceDate:n,utils:r,props:o,timezone:s}=e;const a=i.useMemo((()=>Nw.getInitialReferenceValue({value:t,utils:r,props:o,referenceDate:n,granularity:pw.day,timezone:s,getTodayDate:()=>Jy(r,s,"date")})),[]);return t??a},uT=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],dT=(0,ft.Ay)(yS,{name:"MuiTimeClock",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",position:"relative"}),hT=(0,ft.Ay)(lS,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(e,t)=>t.arrowSwitcher})({position:"absolute",right:12,top:15}),fT=["hours","minutes"],pT=i.forwardRef((function(e,t){const n=Hw(),r=Ly({props:e,name:"MuiTimeClock"}),{ampm:o=n.is12HourCycleInCurrentLocale(),ampmInClock:s=!1,autoFocus:a,slots:l,slotProps:c,value:u,defaultValue:d,referenceDate:h,disableIgnoringDatePartForTimeValidation:f=!1,maxTime:p,minTime:m,disableFuture:g,disablePast:v,minutesStep:b=1,shouldDisableTime:y,showViewSwitcher:w,onChange:x,view:_,views:C=fT,openTo:k,onViewChange:S,focusedView:A,onFocusedViewChange:T,className:I,disabled:M,readOnly:E,timezone:P}=r,D=(0,Ce.A)(r,uT),{value:j,handleValueChange:O,timezone:R}=Jw({name:"TimeClock",timezone:P,value:u,defaultValue:d,onChange:x,valueManager:Nw}),L=cT({value:j,referenceDate:h,utils:n,props:r,timezone:R}),N=qw(),B=$w(R),{view:F,setView:z,previousView:V,nextView:W,setValueAndGoToNextView:H}=eS({view:_,views:C,openTo:k,onViewChange:S,onChange:O,focusedView:A,onFocusedViewChange:T}),{meridiemMode:U,handleMeridiemChange:$}=DC(L,o,H),Y=i.useCallback(((e,t)=>{const r=hw(f,n),i="hours"===t||"minutes"===t&&C.includes("seconds"),s=e=>{let{start:t,end:n}=e;return(!m||!r(m,n))&&((!p||!r(t,p))&&((!g||!r(t,B))&&(!v||!r(B,i?n:t))))},a=function(e){if(e%(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)!==0)return!1;if(y)switch(t){case"hours":return!y(n.setHours(L,e),"hours");case"minutes":return!y(n.setMinutes(L,e),"minutes");case"seconds":return!y(n.setSeconds(L,e),"seconds");default:return!1}return!0};switch(t){case"hours":{const t=cw(e,U,o),r=n.setHours(L,t);return!s({start:n.setSeconds(n.setMinutes(r,0),0),end:n.setSeconds(n.setMinutes(r,59),59)})||!a(t)}case"minutes":{const t=n.setMinutes(L,e);return!s({start:n.setSeconds(t,0),end:n.setSeconds(t,59)})||!a(e,b)}case"seconds":{const t=n.setSeconds(L,e);return!s({start:t,end:t})||!a(e)}default:throw new Error("not supported")}}),[o,L,f,p,U,m,b,y,n,g,v,B,C]),G=(0,ca.A)(),q=i.useMemo((()=>{switch(F){case"hours":{const e=(e,t)=>{const r=cw(e,U,o);H(n.setHours(L,r),t,"hours")};return{onChange:e,viewValue:n.getHours(L),children:aT({value:j,utils:n,ampm:o,onChange:e,getClockNumberText:N.hoursClockNumberText,isDisabled:e=>M||Y(e,"hours"),selectedId:G})}}case"minutes":{const e=n.getMinutes(L),t=(e,t)=>{H(n.setMinutes(L,e),t,"minutes")};return{viewValue:e,onChange:t,children:lT({utils:n,value:e,onChange:t,getClockNumberText:N.minutesClockNumberText,isDisabled:e=>M||Y(e,"minutes"),selectedId:G})}}case"seconds":{const e=n.getSeconds(L),t=(e,t)=>{H(n.setSeconds(L,e),t,"seconds")};return{viewValue:e,onChange:t,children:lT({utils:n,value:e,onChange:t,getClockNumberText:N.secondsClockNumberText,isDisabled:e=>M||Y(e,"seconds"),selectedId:G})}}default:throw new Error("You must provide the type for ClockView")}}),[F,n,j,o,N.hoursClockNumberText,N.minutesClockNumberText,N.secondsClockNumberText,U,H,L,Y,G,M]),X=r,Z=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"],arrowSwitcher:["arrowSwitcher"]},DA,t)})(X);return(0,je.jsxs)(dT,(0,_e.A)({ref:t,className:(0,ke.A)(Z.root,I),ownerState:X},D,{children:[(0,je.jsx)(tT,(0,_e.A)({autoFocus:a??!!A,ampmInClock:s&&C.includes("hours"),value:j,type:F,ampm:o,minutesStep:b,isTimeDisabled:Y,meridiemMode:U,handleMeridiemChange:$,selectedId:G,disabled:M,readOnly:E},q)),w&&(0,je.jsx)(hT,{className:Z.arrowSwitcher,slots:l,slotProps:c,onGoToPrevious:()=>z(V),isPreviousDisabled:!V,previousLabel:N.openPreviousView,onGoToNext:()=>z(W),isNextDisabled:!W,nextLabel:N.openNextView,ownerState:X})]}))}));function mT(e){return(0,He.Ay)("MuiDigitalClock",e)}const gT=(0,Fe.A)("MuiDigitalClock",["root","list","item"]),vT=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled","timezone"],bT=(0,ft.Ay)(yS,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(e,t)=>t.root})({overflowY:"auto",width:"100%","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:232,variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),yT=(0,ft.Ay)(vo,{name:"MuiDigitalClock",slot:"List",overridesResolver:(e,t)=>t.list})({padding:0}),wT=(0,ft.Ay)(Es,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(e,t)=>t.item})((e=>{let{theme:t}=e;return{padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:tk(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:tk(t.palette.primary.main,t.palette.action.focusOpacity)}}})),xT=i.forwardRef((function(e,t){const n=Hw(),r=i.useRef(null),o=(0,gn.A)(t,r),s=Ly({props:e,name:"MuiDigitalClock"}),{ampm:a=n.is12HourCycleInCurrentLocale(),timeStep:l=30,autoFocus:c,slots:u,slotProps:d,value:h,defaultValue:f,referenceDate:p,disableIgnoringDatePartForTimeValidation:m=!1,maxTime:g,minTime:v,disableFuture:b,disablePast:y,minutesStep:w=1,shouldDisableTime:x,onChange:_,view:C,openTo:k,onViewChange:S,focusedView:A,onFocusedViewChange:T,className:I,disabled:M,readOnly:E,views:P=["hours"],skipDisabled:D=!1,timezone:j}=s,O=(0,Ce.A)(s,vT),{value:R,handleValueChange:L,timezone:N}=Jw({name:"DigitalClock",timezone:j,value:h,defaultValue:f,onChange:_,valueManager:Nw}),B=qw(),F=$w(N),z=i.useMemo((()=>(0,_e.A)({},s,{alreadyRendered:!!r.current})),[s]),V=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"],list:["list"],item:["item"]},mT,t)})(z),W=u?.digitalClockItem??wT,H=Hr({elementType:W,externalSlotProps:d?.digitalClockItem,ownerState:{},className:V.item}),U=cT({value:R,referenceDate:p,utils:n,props:s,timezone:N}),$=(0,Do.A)((e=>L(e,"finish","hours"))),{setValueAndGoToNextView:Y}=eS({view:C,views:P,openTo:k,onViewChange:S,onChange:$,focusedView:A,onFocusedViewChange:T}),G=(0,Do.A)((e=>{Y(e,"finish")}));i.useEffect((()=>{if(null===r.current)return;const e=r.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!e)return;const t=e.offsetTop;(c||A)&&e.focus(),r.current.scrollTop=t-4}));const q=i.useCallback((e=>{const t=hw(m,n);return!((!v||!t(v,e))&&(!g||!t(e,g))&&(!b||!t(e,F))&&(!y||!t(F,e)))||!(n.getMinutes(e)%w===0&&(!x||!x(e,"hours")))}),[m,n,v,g,b,F,y,w,x]),X=i.useMemo((()=>{const e=n.startOfDay(U);return[e,...Array.from({length:Math.ceil(1440/l)-1},((t,r)=>n.addMinutes(e,l*(r+1))))]}),[U,l,n]),Z=X.findIndex((e=>n.isEqual(e,U)));return(0,je.jsx)(bT,(0,_e.A)({ref:o,className:(0,ke.A)(V.root,I),ownerState:z},O,{children:(0,je.jsx)(yT,{role:"listbox","aria-label":B.timePickerToolbarTitle,className:V.list,children:X.map(((e,t)=>{if(D&&q(e))return null;const r=n.isEqual(e,R),i=n.format(e,a?"fullTime12h":"fullTime24h"),o=Z===t||-1===Z&&0===t?0:-1;return(0,je.jsx)(W,(0,_e.A)({onClick:()=>!E&&G(e),selected:r,disabled:M||q(e),disableRipple:E,role:"option","aria-disabled":E,"aria-selected":r,tabIndex:o},H,{children:i}),i)}))})}))}));function _T(e){return(0,He.Ay)("MuiMultiSectionDigitalClock",e)}const CT=(0,Fe.A)("MuiMultiSectionDigitalClock",["root"]);function kT(e){return(0,He.Ay)("MuiMultiSectionDigitalClockSection",e)}const ST=(0,Fe.A)("MuiMultiSectionDigitalClockSection",["root","item"]),AT=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],TT=(0,ft.Ay)(vo,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{maxHeight:232,width:56,padding:0,overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}})),IT=(0,ft.Ay)(Es,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(e,t)=>t.item})((e=>{let{theme:t}=e;return{padding:8,margin:"2px 4px",width:RC,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:tk(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:tk(t.palette.primary.main,t.palette.action.focusOpacity)}}})),MT=i.forwardRef((function(e,t){const n=i.useRef(null),r=(0,gn.A)(t,n),o=i.useRef(null),s=Ly({props:e,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:a,onChange:l,className:c,disabled:u,readOnly:d,items:h,active:f,slots:p,slotProps:m,skipDisabled:g}=s,v=(0,Ce.A)(s,AT),b=i.useMemo((()=>(0,_e.A)({},s,{alreadyRendered:!!n.current})),[s]),y=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"],item:["item"]},kT,t)})(b),w=p?.digitalClockSectionItem??IT;i.useEffect((()=>{if(null===n.current)return;const e=n.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(f&&a&&e&&e.focus(),!e||o.current===e)return;o.current=e;const t=e.offsetTop;n.current.scrollTop=t-4}));const x=h.findIndex((e=>e.isFocused(e.value)));return(0,je.jsx)(TT,(0,_e.A)({ref:r,className:(0,ke.A)(y.root,c),ownerState:b,autoFocusItem:a&&f,role:"listbox"},v,{children:h.map(((e,t)=>{const n=e.isDisabled?.(e.value),r=u||n;if(g&&r)return null;const i=e.isSelected(e.value),o=x===t||-1===x&&0===t?0:-1;return(0,je.jsx)(w,(0,_e.A)({onClick:()=>!d&&l(e.value),selected:i,disabled:r,disableRipple:d,role:"option","aria-disabled":d||r||void 0,"aria-label":e.ariaLabel,"aria-selected":i,tabIndex:o,className:y.item},m?.digitalClockSectionItem,{children:e.label}),e.label)}))}))})),ET=e=>{let{now:t,value:n,utils:r,ampm:i,isDisabled:o,resolveAriaLabel:s,timeStep:a,valueOrReferenceDate:l}=e;const c=n?r.getHours(n):null,u=[],d=(e,t)=>{const n=t??c;return null!==n&&(i?12===e?12===n||0===n:n===e||n-12===e:n===e)},h=e=>d(e,r.getHours(l)),f=i?11:23;for(let p=0;p<=f;p+=a){let e=r.format(r.setHours(t,p),i?"hours12h":"hours24h");const n=s(parseInt(e,10).toString());e=r.formatNumber(e),u.push({value:p,label:e,isSelected:d,isDisabled:o,isFocused:h,ariaLabel:n})}return u},PT=e=>{let{value:t,utils:n,isDisabled:r,timeStep:i,resolveLabel:o,resolveAriaLabel:s,hasValue:a=!0}=e;const l=e=>null!==t&&(a&&t===e),c=e=>t===e;return[...Array.from({length:Math.ceil(60/i)},((e,t)=>{const a=i*t;return{value:a,label:n.formatNumber(o(a)),isDisabled:r,isSelected:l,isFocused:c,ariaLabel:s(a.toString())}}))]},DT=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],jT=(0,ft.Ay)(yS,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(t.vars||t).palette.divider}`}})),OT=i.forwardRef((function(e,t){const n=Hw(),r=zt(),o=Ly({props:e,name:"MuiMultiSectionDigitalClock"}),{ampm:s=n.is12HourCycleInCurrentLocale(),timeSteps:a,autoFocus:l,slots:c,slotProps:u,value:d,defaultValue:h,referenceDate:f,disableIgnoringDatePartForTimeValidation:p=!1,maxTime:m,minTime:g,disableFuture:v,disablePast:b,minutesStep:y=1,shouldDisableTime:w,onChange:x,view:_,views:C=["hours","minutes"],openTo:k,onViewChange:S,focusedView:A,onFocusedViewChange:T,className:I,disabled:M,readOnly:E,skipDisabled:P=!1,timezone:D}=o,j=(0,Ce.A)(o,DT),{value:O,handleValueChange:R,timezone:L}=Jw({name:"MultiSectionDigitalClock",timezone:D,value:d,defaultValue:h,onChange:x,valueManager:Nw}),N=qw(),B=$w(L),F=i.useMemo((()=>(0,_e.A)({hours:1,minutes:5,seconds:5},a)),[a]),z=cT({value:O,referenceDate:f,utils:n,props:o,timezone:L}),V=(0,Do.A)(((e,t,n)=>R(e,t,n))),W=i.useMemo((()=>s&&C.includes("hours")?C.includes("meridiem")?C:[...C,"meridiem"]:C),[s,C]),{view:H,setValueAndGoToNextView:U,focusedView:$}=eS({view:_,views:W,openTo:k,onViewChange:S,onChange:V,focusedView:A,onFocusedViewChange:T}),Y=(0,Do.A)((e=>{U(e,"finish","meridiem")})),{meridiemMode:G,handleMeridiemChange:q}=DC(z,s,Y,"finish"),X=i.useCallback(((e,t)=>{const r=hw(p,n),i="hours"===t||"minutes"===t&&W.includes("seconds"),o=e=>{let{start:t,end:n}=e;return(!g||!r(g,n))&&((!m||!r(t,m))&&((!v||!r(t,B))&&(!b||!r(B,i?n:t))))},a=function(e){if(e%(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)!==0)return!1;if(w)switch(t){case"hours":return!w(n.setHours(z,e),"hours");case"minutes":return!w(n.setMinutes(z,e),"minutes");case"seconds":return!w(n.setSeconds(z,e),"seconds");default:return!1}return!0};switch(t){case"hours":{const t=cw(e,G,s),r=n.setHours(z,t);return!o({start:n.setSeconds(n.setMinutes(r,0),0),end:n.setSeconds(n.setMinutes(r,59),59)})||!a(t)}case"minutes":{const t=n.setMinutes(z,e);return!o({start:n.setSeconds(t,0),end:n.setSeconds(t,59)})||!a(e,y)}case"seconds":{const t=n.setSeconds(z,e);return!o({start:t,end:t})||!a(e)}default:throw new Error("not supported")}}),[s,z,p,m,G,g,y,w,n,v,b,B,W]),Z=i.useCallback((e=>{switch(e){case"hours":return{onChange:e=>{const t=cw(e,G,s);U(n.setHours(z,t),"finish","hours")},items:ET({now:B,value:O,ampm:s,utils:n,isDisabled:e=>X(e,"hours"),timeStep:F.hours,resolveAriaLabel:N.hoursClockNumberText,valueOrReferenceDate:z})};case"minutes":return{onChange:e=>{U(n.setMinutes(z,e),"finish","minutes")},items:PT({value:n.getMinutes(z),utils:n,isDisabled:e=>X(e,"minutes"),resolveLabel:e=>n.format(n.setMinutes(B,e),"minutes"),timeStep:F.minutes,hasValue:!!O,resolveAriaLabel:N.minutesClockNumberText})};case"seconds":return{onChange:e=>{U(n.setSeconds(z,e),"finish","seconds")},items:PT({value:n.getSeconds(z),utils:n,isDisabled:e=>X(e,"seconds"),resolveLabel:e=>n.format(n.setSeconds(B,e),"seconds"),timeStep:F.seconds,hasValue:!!O,resolveAriaLabel:N.secondsClockNumberText})};case"meridiem":{const e=ew(n,"am"),t=ew(n,"pm");return{onChange:q,items:[{value:"am",label:e,isSelected:()=>!!O&&"am"===G,isFocused:()=>!!z&&"am"===G,ariaLabel:e},{value:"pm",label:t,isSelected:()=>!!O&&"pm"===G,isFocused:()=>!!z&&"pm"===G,ariaLabel:t}]}}default:throw new Error(`Unknown view: ${e} found.`)}}),[B,O,s,n,F.hours,F.minutes,F.seconds,N.hoursClockNumberText,N.minutesClockNumberText,N.secondsClockNumberText,G,U,z,X,q]),K=i.useMemo((()=>{if(!r)return W;const e=W.filter((e=>"meridiem"!==e));return e.reverse(),W.includes("meridiem")&&e.push("meridiem"),e}),[r,W]),Q=i.useMemo((()=>W.reduce(((e,t)=>(0,_e.A)({},e,{[t]:Z(t)})),{})),[W,Z]),J=o,ee=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"]},_T,t)})(J);return(0,je.jsx)(jT,(0,_e.A)({ref:t,className:(0,ke.A)(ee.root,I),ownerState:J,role:"group"},j,{children:K.map((e=>(0,je.jsx)(MT,{items:Q[e].items,onChange:Q[e].onChange,active:H===e,autoFocus:l??$===e,disabled:M,readOnly:E,slots:c,slotProps:u,skipDisabled:P,"aria-label":N.selectViewText(e)},e)))}))})),RT=e=>{let{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:i,views:o,value:s,defaultValue:a,referenceDate:l,onChange:c,className:u,classes:d,disableFuture:h,disablePast:f,minTime:p,maxTime:m,shouldDisableTime:g,minutesStep:v,ampm:b,ampmInClock:y,slots:w,slotProps:x,readOnly:_,disabled:C,sx:k,autoFocus:S,showViewSwitcher:A,disableIgnoringDatePartForTimeValidation:T,timezone:I}=e;return(0,je.jsx)(pT,{view:t,onViewChange:n,focusedView:r&&sw(r)?r:null,onFocusedViewChange:i,views:o.filter(sw),value:s,defaultValue:a,referenceDate:l,onChange:c,className:u,classes:d,disableFuture:h,disablePast:f,minTime:p,maxTime:m,shouldDisableTime:g,minutesStep:v,ampm:b,ampmInClock:y,slots:w,slotProps:x,readOnly:_,disabled:C,sx:k,autoFocus:S,showViewSwitcher:A,disableIgnoringDatePartForTimeValidation:T,timezone:I})},LT=e=>{let{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:i,views:o,value:s,defaultValue:a,referenceDate:l,onChange:c,className:u,classes:d,disableFuture:h,disablePast:f,minTime:p,maxTime:m,shouldDisableTime:g,minutesStep:v,ampm:b,slots:y,slotProps:w,readOnly:x,disabled:_,sx:C,autoFocus:k,disableIgnoringDatePartForTimeValidation:S,timeSteps:A,skipDisabled:T,timezone:I}=e;return(0,je.jsx)(xT,{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:i,views:o.filter(sw),value:s,defaultValue:a,referenceDate:l,onChange:c,className:u,classes:d,disableFuture:h,disablePast:f,minTime:p,maxTime:m,shouldDisableTime:g,minutesStep:v,ampm:b,slots:y,slotProps:w,readOnly:x,disabled:_,sx:C,autoFocus:k,disableIgnoringDatePartForTimeValidation:S,timeStep:A?.minutes,skipDisabled:T,timezone:I})},NT=e=>{let{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:i,views:o,value:s,defaultValue:a,referenceDate:l,onChange:c,className:u,classes:d,disableFuture:h,disablePast:f,minTime:p,maxTime:m,shouldDisableTime:g,minutesStep:v,ampm:b,slots:y,slotProps:w,readOnly:x,disabled:_,sx:C,autoFocus:k,disableIgnoringDatePartForTimeValidation:S,timeSteps:A,skipDisabled:T,timezone:I}=e;return(0,je.jsx)(OT,{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:i,views:o.filter(sw),value:s,defaultValue:a,referenceDate:l,onChange:c,className:u,classes:d,disableFuture:h,disablePast:f,minTime:p,maxTime:m,shouldDisableTime:g,minutesStep:v,ampm:b,slots:y,slotProps:w,readOnly:x,disabled:_,sx:C,autoFocus:k,disableIgnoringDatePartForTimeValidation:S,timeSteps:A,skipDisabled:T,timezone:I})},BT=i.forwardRef((function(e,t){const n=zt(),{toolbar:r,tabs:i,content:o,actionBar:s,shortcuts:a}=_A(e),{sx:l,className:c,isLandscape:u,classes:d}=e,h=s&&(s.props.actions?.length??0)>0,f=(0,_e.A)({},e,{isRtl:n});return(0,je.jsxs)(CA,{ref:t,className:(0,ke.A)(c,HS.root,d?.root),sx:[{[`& .${HS.tabs}`]:{gridRow:4,gridColumn:"1 / 4"},[`& .${HS.actionBar}`]:{gridRow:5}},...Array.isArray(l)?l:[l]],ownerState:f,children:[u?a:r,u?r:a,(0,je.jsxs)(kA,{className:(0,ke.A)(HS.contentWrapper,d?.contentWrapper),sx:{display:"grid"},children:[o,i,h&&(0,je.jsx)(Gy,{sx:{gridRow:3,gridColumn:"1 / 4"}})]}),s]})})),FT=["openTo","focusedView","timeViewsCount"],zT=function(e,t,n){const{openTo:r,focusedView:o,timeViewsCount:s}=n,a=(0,Ce.A)(n,FT),l=(0,_e.A)({},a,{focusedView:null,sx:[{[`&.${CT.root}`]:{borderBottom:0},[`&.${CT.root}, .${ST.root}, &.${gT.root}`]:{maxHeight:OC}}]}),c=aw(t);return(0,je.jsxs)(i.Fragment,{children:[e[c?"day":t]?.((0,_e.A)({},n,{view:c?"day":t,focusedView:o&&nw(o)?o:null,views:n.views.filter(nw),sx:[{gridColumn:1},...l.sx]})),s>0&&(0,je.jsxs)(i.Fragment,{children:[(0,je.jsx)(Gy,{orientation:"vertical",sx:{gridColumn:2}}),e[c?t:"hours"]?.((0,_e.A)({},l,{view:c?t:"hours",focusedView:o&&aw(o)?o:null,openTo:aw(r)?r:"hours",views:n.views.filter(aw),sx:[{gridColumn:3},...l.sx]}))]})]})},VT=i.forwardRef((function(e,t){const n=qw(),r=Hw(),o=$C(e,"MuiDesktopDateTimePicker"),{shouldRenderTimeInASingleColumn:s,thresholdToRenderTimeInASingleColumn:a,views:l,timeSteps:c}=function(e){let{thresholdToRenderTimeInASingleColumn:t,ampm:n,timeSteps:r,views:i}=e;const o=t??24,s=(0,_e.A)({hours:1,minutes:5,seconds:5},r),a=((e,t)=>1440/((e.hours??1)*(e.minutes??5))<=t)(s,o);return{thresholdToRenderTimeInASingleColumn:o,timeSteps:s,shouldRenderTimeInASingleColumn:a,views:PA(n,i,a)}}(o),u=s?LT:NT,d=(0,_e.A)({day:ES,month:ES,year:ES,hours:u,minutes:u,seconds:u,meridiem:u},o.viewRenderers),h=o.ampmInClock??!0,f=d.hours?.name===NT.name?l:l.filter((e=>"meridiem"!==e)),p=s?[]:["accept"],m=(0,_e.A)({},o,{viewRenderers:d,format:EA(r,o),views:f,yearsPerRow:o.yearsPerRow??4,ampmInClock:h,timeSteps:c,thresholdToRenderTimeInASingleColumn:a,shouldRenderTimeInASingleColumn:s,slots:(0,_e.A)({field:D_,layout:BT,openPickerIcon:Tx},o.slots),slotProps:(0,_e.A)({},o.slotProps,{field:e=>(0,_e.A)({},Vr(o.slotProps?.field,e),px(o),{ref:t}),toolbar:(0,_e.A)({hidden:!0,ampmInClock:h,toolbarVariant:"desktop"},o.slotProps?.toolbar),tabs:(0,_e.A)({hidden:!0},o.slotProps?.tabs),actionBar:e=>(0,_e.A)({actions:p},Vr(o.slotProps?.actionBar,e))})}),{renderPicker:g}=(e=>{let{props:t,getOpenDialogAriaText:n}=e,r=(0,Ce.A)(e,AA);const{slots:o,slotProps:s,className:a,sx:l,format:c,formatDensity:u,enableAccessibleFieldDOMStructure:d,selectedSections:h,onSelectedSectionsChange:f,timezone:p,name:m,label:g,inputRef:v,readOnly:b,disabled:y,autoFocus:w,localeText:x,reduceAnimations:_}=t,C=Hw(),k=i.useRef(null),S=i.useRef(null),A=(0,ca.A)(),T=s?.toolbar?.hidden??!1,{open:I,actions:M,hasUIView:E,layoutProps:P,renderCurrentView:D,shouldRestoreFocus:j,fieldProps:O}=VS((0,_e.A)({},r,{props:t,fieldRef:S,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),R={open:I},L=o.inputAdornment??Cx,N=Hr({elementType:L,externalSlotProps:s?.inputAdornment,additionalProps:{position:"end"},ownerState:t}),B=(0,Ce.A)(N,TA),F=o.openPickerButton??eo,z=Hr({elementType:F,externalSlotProps:s?.openPickerButton,additionalProps:{disabled:y||b,onClick:I?M.onClose:M.onOpen,"aria-label":n(O.value,C),edge:B.position},ownerState:t}),V=(0,Ce.A)(z,IA),W=o.openPickerIcon,H=Hr({elementType:W,externalSlotProps:s?.openPickerIcon,ownerState:R}),U=o.field,$=Hr({elementType:U,externalSlotProps:s?.field,additionalProps:(0,_e.A)({},O,T&&{id:A},{readOnly:b,disabled:y,className:a,sx:l,format:c,formatDensity:u,enableAccessibleFieldDOMStructure:d,selectedSections:h,onSelectedSectionsChange:f,timezone:p,label:g,name:m,autoFocus:w&&!t.open,focused:!!I||void 0},v?{inputRef:v}:{}),ownerState:t});E&&($.InputProps=(0,_e.A)({},$.InputProps,{ref:k},!t.disableOpenPicker&&{[`${B.position}Adornment`]:(0,je.jsx)(L,(0,_e.A)({},B,{children:(0,je.jsx)(F,(0,_e.A)({},V,{children:(0,je.jsx)(W,(0,_e.A)({},H))}))}))}));const Y=(0,_e.A)({textField:o.textField,clearIcon:o.clearIcon,clearButton:o.clearButton},$.slots),G=o.layout??SA;let q=A;T&&(q=g?`${A}-label`:void 0);const X=(0,_e.A)({},s,{toolbar:(0,_e.A)({},s?.toolbar,{titleId:A}),popper:(0,_e.A)({"aria-labelledby":q},s?.popper)}),Z=(0,gn.A)(S,$.unstableFieldRef);return{renderPicker:()=>(0,je.jsxs)(Fy,{localeText:x,children:[(0,je.jsx)(U,(0,_e.A)({},$,{slots:Y,slotProps:X,unstableFieldRef:Z})),(0,je.jsx)(LS,(0,_e.A)({role:"dialog",placement:"bottom-start",anchorEl:k.current},M,{open:I,slots:o,slotProps:X,shouldRestoreFocus:j,reduceAnimations:_,children:(0,je.jsx)(G,(0,_e.A)({},P,X?.layout,{slots:o,slotProps:X,children:D()}))}))]})}})({props:m,valueManager:Nw,valueType:"date-time",getOpenDialogAriaText:m.localeText?.openDatePickerDialogue??n.openDatePickerDialogue,validator:cx,rendererInterceptor:zT});return g()}));VT.propTypes={ampm:Vy().bool,ampmInClock:Vy().bool,autoFocus:Vy().bool,className:Vy().string,closeOnSelect:Vy().bool,dayOfWeekFormatter:Vy().func,defaultValue:Vy().object,disabled:Vy().bool,disableFuture:Vy().bool,disableHighlightToday:Vy().bool,disableIgnoringDatePartForTimeValidation:Vy().bool,disableOpenPicker:Vy().bool,disablePast:Vy().bool,displayWeekNumber:Vy().bool,enableAccessibleFieldDOMStructure:Vy().any,fixedWeekNumber:Vy().number,format:Vy().string,formatDensity:Vy().oneOf(["dense","spacious"]),inputRef:Wy,label:Vy().node,loading:Vy().bool,localeText:Vy().object,maxDate:Vy().object,maxDateTime:Vy().object,maxTime:Vy().object,minDate:Vy().object,minDateTime:Vy().object,minTime:Vy().object,minutesStep:Vy().number,monthsPerRow:Vy().oneOf([3,4]),name:Vy().string,onAccept:Vy().func,onChange:Vy().func,onClose:Vy().func,onError:Vy().func,onMonthChange:Vy().func,onOpen:Vy().func,onSelectedSectionsChange:Vy().func,onViewChange:Vy().func,onYearChange:Vy().func,open:Vy().bool,openTo:Vy().oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:Vy().oneOf(["landscape","portrait"]),readOnly:Vy().bool,reduceAnimations:Vy().bool,referenceDate:Vy().object,renderLoading:Vy().func,selectedSections:Vy().oneOfType([Vy().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),Vy().number]),shouldDisableDate:Vy().func,shouldDisableMonth:Vy().func,shouldDisableTime:Vy().func,shouldDisableYear:Vy().func,showDaysOutsideCurrentMonth:Vy().bool,skipDisabled:Vy().bool,slotProps:Vy().object,slots:Vy().object,sx:Vy().oneOfType([Vy().arrayOf(Vy().oneOfType([Vy().func,Vy().object,Vy().bool])),Vy().func,Vy().object]),thresholdToRenderTimeInASingleColumn:Vy().number,timeSteps:Vy().shape({hours:Vy().number,minutes:Vy().number,seconds:Vy().number}),timezone:Vy().string,value:Vy().object,view:Vy().oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:Vy().shape({day:Vy().func,hours:Vy().func,meridiem:Vy().func,minutes:Vy().func,month:Vy().func,seconds:Vy().func,year:Vy().func}),views:Vy().arrayOf(Vy().oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsPerRow:Vy().oneOf([3,4])};const WT=(0,ft.Ay)(ya)({[`& .${da.container}`]:{outline:0},[`& .${da.paper}`]:{outline:0,minWidth:jC}}),HT=(0,ft.Ay)(Ia)({"&:first-of-type":{padding:0}});function UT(e){const{children:t,onDismiss:n,open:r,slots:i,slotProps:o}=e,s=i?.dialog??WT,a=i?.mobileTransition??To;return(0,je.jsx)(s,(0,_e.A)({open:r,onClose:n},o?.dialog,{TransitionComponent:a,TransitionProps:o?.mobileTransition,PaperComponent:i?.mobilePaper,PaperProps:o?.mobilePaper,children:(0,je.jsx)(HT,{children:t})}))}const $T=["props","getOpenDialogAriaText"],YT=i.forwardRef((function(e,t){const n=qw(),r=Hw(),o=$C(e,"MuiMobileDateTimePicker"),s=(0,_e.A)({day:ES,month:ES,year:ES,hours:RT,minutes:RT,seconds:RT},o.viewRenderers),a=o.ampmInClock??!1,l=(0,_e.A)({},o,{viewRenderers:s,format:EA(r,o),ampmInClock:a,slots:(0,_e.A)({field:D_},o.slots),slotProps:(0,_e.A)({},o.slotProps,{field:e=>(0,_e.A)({},Vr(o.slotProps?.field,e),px(o),{ref:t}),toolbar:(0,_e.A)({hidden:!1,ampmInClock:a},o.slotProps?.toolbar),tabs:(0,_e.A)({hidden:!1},o.slotProps?.tabs)})}),{renderPicker:c}=(e=>{let{props:t,getOpenDialogAriaText:n}=e,r=(0,Ce.A)(e,$T);const{slots:o,slotProps:s,className:a,sx:l,format:c,formatDensity:u,enableAccessibleFieldDOMStructure:d,selectedSections:h,onSelectedSectionsChange:f,timezone:p,name:m,label:g,inputRef:v,readOnly:b,disabled:y,localeText:w}=t,x=Hw(),_=i.useRef(null),C=(0,ca.A)(),k=s?.toolbar?.hidden??!1,{open:S,actions:A,layoutProps:T,renderCurrentView:I,fieldProps:M}=VS((0,_e.A)({},r,{props:t,fieldRef:_,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),E=o.field,P=Hr({elementType:E,externalSlotProps:s?.field,additionalProps:(0,_e.A)({},M,k&&{id:C},!(y||b)&&{onClick:A.onOpen,onKeyDown:(D=A.onOpen,e=>{"Enter"!==e.key&&" "!==e.key||(D(e),e.preventDefault(),e.stopPropagation()),j&&j(e)})},{readOnly:b??!0,disabled:y,className:a,sx:l,format:c,formatDensity:u,enableAccessibleFieldDOMStructure:d,selectedSections:h,onSelectedSectionsChange:f,timezone:p,label:g,name:m},v?{inputRef:v}:{}),ownerState:t});var D,j;P.inputProps=(0,_e.A)({},P.inputProps,{"aria-label":n(M.value,x)});const O=(0,_e.A)({textField:o.textField},P.slots),R=o.layout??SA;let L=C;k&&(L=g?`${C}-label`:void 0);const N=(0,_e.A)({},s,{toolbar:(0,_e.A)({},s?.toolbar,{titleId:C}),mobilePaper:(0,_e.A)({"aria-labelledby":L},s?.mobilePaper)}),B=(0,gn.A)(_,P.unstableFieldRef);return{renderPicker:()=>(0,je.jsxs)(Fy,{localeText:w,children:[(0,je.jsx)(E,(0,_e.A)({},P,{slots:O,slotProps:N,unstableFieldRef:B})),(0,je.jsx)(UT,(0,_e.A)({},A,{open:S,slots:o,slotProps:N,children:(0,je.jsx)(R,(0,_e.A)({},T,N?.layout,{slots:o,slotProps:N,children:I()}))}))]})}})({props:l,valueManager:Nw,valueType:"date-time",getOpenDialogAriaText:l.localeText?.openDatePickerDialogue??n.openDatePickerDialogue,validator:cx});return c()}));YT.propTypes={ampm:Vy().bool,ampmInClock:Vy().bool,autoFocus:Vy().bool,className:Vy().string,closeOnSelect:Vy().bool,dayOfWeekFormatter:Vy().func,defaultValue:Vy().object,disabled:Vy().bool,disableFuture:Vy().bool,disableHighlightToday:Vy().bool,disableIgnoringDatePartForTimeValidation:Vy().bool,disableOpenPicker:Vy().bool,disablePast:Vy().bool,displayWeekNumber:Vy().bool,enableAccessibleFieldDOMStructure:Vy().any,fixedWeekNumber:Vy().number,format:Vy().string,formatDensity:Vy().oneOf(["dense","spacious"]),inputRef:Wy,label:Vy().node,loading:Vy().bool,localeText:Vy().object,maxDate:Vy().object,maxDateTime:Vy().object,maxTime:Vy().object,minDate:Vy().object,minDateTime:Vy().object,minTime:Vy().object,minutesStep:Vy().number,monthsPerRow:Vy().oneOf([3,4]),name:Vy().string,onAccept:Vy().func,onChange:Vy().func,onClose:Vy().func,onError:Vy().func,onMonthChange:Vy().func,onOpen:Vy().func,onSelectedSectionsChange:Vy().func,onViewChange:Vy().func,onYearChange:Vy().func,open:Vy().bool,openTo:Vy().oneOf(["day","hours","minutes","month","seconds","year"]),orientation:Vy().oneOf(["landscape","portrait"]),readOnly:Vy().bool,reduceAnimations:Vy().bool,referenceDate:Vy().object,renderLoading:Vy().func,selectedSections:Vy().oneOfType([Vy().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),Vy().number]),shouldDisableDate:Vy().func,shouldDisableMonth:Vy().func,shouldDisableTime:Vy().func,shouldDisableYear:Vy().func,showDaysOutsideCurrentMonth:Vy().bool,slotProps:Vy().object,slots:Vy().object,sx:Vy().oneOfType([Vy().arrayOf(Vy().oneOfType([Vy().func,Vy().object,Vy().bool])),Vy().func,Vy().object]),timezone:Vy().string,value:Vy().object,view:Vy().oneOf(["day","hours","minutes","month","seconds","year"]),viewRenderers:Vy().shape({day:Vy().func,hours:Vy().func,minutes:Vy().func,month:Vy().func,seconds:Vy().func,year:Vy().func}),views:Vy().arrayOf(Vy().oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsPerRow:Vy().oneOf([3,4])};const GT=["desktopModeMediaQuery"],qT=i.forwardRef((function(e,t){const n=Ly({props:e,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:r=ix}=n,i=(0,Ce.A)(n,GT);return Oh(r,{defaultMatches:!0})?(0,je.jsx)(VT,(0,_e.A)({ref:t},i)):(0,je.jsx)(YT,(0,_e.A)({ref:t},i))}));var XT=n(8604);const ZT=["component","direction","spacing","divider","children","className","useFlexGap"],KT=(0,Ie.A)(),QT=st("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function JT(e){return qe({props:e,name:"MuiStack",defaultTheme:KT})}function eI(e,t){const n=i.Children.toArray(e).filter(Boolean);return n.reduce(((e,r,o)=>(e.push(r),o<n.length-1&&e.push(i.cloneElement(t,{key:`separator-${o}`})),e)),[])}const tI=e=>{let{ownerState:t,theme:n}=e,r=(0,_e.A)({display:"flex",flexDirection:"column"},(0,vt.NI)({theme:n},(0,vt.kW)({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,XT.LX)(n),i=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),o=(0,vt.kW)({values:t.direction,base:i}),s=(0,vt.kW)({values:t.spacing,base:i});"object"===typeof o&&Object.keys(o).forEach(((e,t,n)=>{if(!o[e]){const r=t>0?o[n[t-1]]:"column";o[e]=r}}));const a=(n,r)=>{return t.useFlexGap?{gap:(0,XT._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${i=r?o[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i]}`]:(0,XT._W)(e,n)}};var i};r=(0,Xe.A)(r,(0,vt.NI)({theme:n},s,a))}return r=(0,vt.iZ)(n.breakpoints,r),r};const nI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=QT,useThemeProps:n=JT,componentName:r="MuiStack"}=e,o=t(tI),s=i.forwardRef((function(e,t){const i=n(e),s=(0,Te.A)(i),{component:a="div",direction:l="column",spacing:c=0,divider:u,children:d,className:h,useFlexGap:f=!1}=s,p=(0,Ce.A)(s,ZT),m={direction:l,spacing:c,useFlexGap:f},g=(0,Ue.A)({root:["root"]},(e=>(0,He.Ay)(r,e)),{});return(0,je.jsx)(o,(0,_e.A)({as:a,ownerState:m,ref:t,className:(0,ke.A)(g.root,h)},p,{children:u?eI(d,u):d}))}));return s}({createStyledComponent:(0,ft.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,pt.b)({props:e,name:"MuiStack"})}),rI=nI;const iI=(0,Fe.A)("MuiStack",["root"]),oI=e=>e.match(/^([A-Za-z]+)Range(Calendar|Clock)$/)?"multi-panel-UI-view":e.match(/^([A-Za-z]*)(DigitalClock)$/)?"Tall-UI-view":e.match(/^Static([A-Za-z]+)/)||e.match(/^([A-Za-z]+)(Calendar|Clock)$/)?"UI-view":e.match(/^MultiInput([A-Za-z]+)RangeField$/)||e.match(/^([A-Za-z]+)RangePicker$/)?"multi-input-range-field":e.match(/^SingleInput([A-Za-z]+)RangeField$/)?"single-input-range-field":"single-input-field";function sI(e){const{children:t,components:n,sx:r}=e,o=new Set,s=new Set;n.forEach((e=>{o.add(oI(e)),s.add((e=>e.includes("DateTime")?"date-time":e.includes("Date")?"date":"time")(e))}));const a=e=>"row"===e?o.has("UI-view")||o.has("Tall-UI-view")?3:2:o.has("UI-view")?4:3;let l,c,u={},d={};const h=(0,_e.A)({overflow:"auto",pt:1},r);n.length>2||o.has("multi-input-range-field")||o.has("single-input-range-field")||o.has("multi-panel-UI-view")||o.has("UI-view")||s.has("date-time")?(l="column",c=a("column")):(l={xs:"column",lg:"row"},c={xs:a("column"),lg:a("row")}),o.has("UI-view")||(o.has("single-input-range-field")?u=s.has("date-time")?{[`& > .${kv.root}, & > .${Ox.root}`]:{minWidth:{xs:300,md:o.has("multi-input-range-field")?460:400}}}:{[`& > .${kv.root}, & > .${Ox.root}`]:{minWidth:300}}:s.has("date-time")?(u={[`& > .${kv.root}, & > .${Ox.root}`]:{minWidth:270}},o.has("multi-input-range-field")&&(d={[`& > .${iI.root} > .${kv.root}, & > .${iI.root} > .${Ox.root}`]:{minWidth:210}})):u={[`& > .${kv.root}, & > .${Ox.root}`]:{minWidth:200}});const f=(0,_e.A)({},h,u);return(0,je.jsx)(rI,{direction:l,spacing:c,sx:f,children:i.Children.map(t,(e=>i.isValidElement(e)&&(e=>!(!i.isValidElement(e)||"string"===typeof e.type)&&"DemoItem"===e.type.displayName)(e)?i.cloneElement(e,{sx:(0,_e.A)({},u,d)}):e))})}const aI={x:0,y:0,width:0,height:0,unit:"px"},lI=(e,t,n)=>Math.min(Math.max(e,t),n),cI=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function uI(e,t,n){return"%"===e.unit?{...aI,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function dI(e,t,n){return e.unit?"px"===e.unit?{...aI,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...aI,...e,unit:"px"}}function hI(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:r,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:i;const c={...e};let u=Math.min(o,r),d=Math.min(s,i),h=Math.min(a,r),f=Math.min(l,i);t&&(t>1?(u=s?s*t:u,d=u/t,h=a*t):(d=o?o/t:d,u=d*t,f=l/t)),c.y<0&&(c.height=Math.max(c.height+c.y,d),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,u),c.x=0);const p=r-(c.x+c.width);p<0&&(c.x=Math.min(c.x,r-u),c.width+=p);const m=i-(c.y+c.height);if(m<0&&(c.y=Math.min(c.y,i-d),c.height+=m),c.width<u&&(("sw"===n||"nw"==n)&&(c.x-=u-c.width),c.width=u),c.height<d&&(("nw"===n||"ne"==n)&&(c.y-=d-c.height),c.height=d),c.width>h&&(("sw"===n||"nw"==n)&&(c.x-=h-c.width),c.width=h),c.height>f&&(("nw"===n||"ne"==n)&&(c.y-=f-c.height),c.height=f),t){const e=c.width/c.height;if(e<t){const e=Math.max(c.width/t,d);("nw"===n||"ne"==n)&&(c.y-=e-c.height),c.height=e}else if(e>t){const e=Math.max(c.height*t,u);("sw"===n||"nw"==n)&&(c.x-=e-c.width),c.width=e}}return c}const fI={capture:!0,passive:!1};let pI=0;const mI=class e extends i.PureComponent{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=(0,i.createRef)(),this.mediaRef=(0,i.createRef)(),this.initChangeCalled=!1,this.instanceId="rc-"+pI++,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{const{crop:t,disabled:n}=this.props,r=this.getBox();if(!t)return;const i=dI(t,r.width,r.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const o=e.target.dataset.ord,s=!!o;let a=e.clientX,l=e.clientY,c=i.x,u=i.y;if(o){const t=e.clientX-r.x,n=e.clientY-r.y;let s=0,d=0;"ne"===o||"e"==o?(s=t-(i.x+i.width),d=n-i.y,c=i.x,u=i.y+i.height):"se"===o||"s"===o?(s=t-(i.x+i.width),d=n-(i.y+i.height),c=i.x,u=i.y):"sw"===o||"w"==o?(s=t-i.x,d=n-(i.y+i.height),c=i.x+i.width,u=i.y):("nw"===o||"n"==o)&&(s=t-i.x,d=n-i.y,c=i.x+i.width,u=i.y+i.height),a=c+r.x+s,l=u+r.y+d}this.evData={startClientX:a,startClientY:l,startCropX:c,startCropY:u,clientX:e.clientX,clientY:e.clientY,isResize:s,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{const{crop:t,disabled:n,locked:r,keepSelection:i,onChange:o}=this.props,s=this.getBox();if(n||r||i&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const a=e.clientX-s.x,l=e.clientY-s.y,c={unit:"px",x:a,y:l,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:a,startCropY:l,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(dI(c,s.width,s.height),uI(c,s.width,s.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{const{crop:t,disabled:n,onChange:r,onDragStart:i}=this.props,o=this.getBox();if(n||!t||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(e));const{evData:s}=this;let a;s.clientX=e.clientX,s.clientY=e.clientY,a=s.isResize?this.resizeCrop():this.dragCrop(),cI(t,a)||r(dI(a,o.width,o.height),uI(a,o.width,o.height))},this.onComponentKeyDown=t=>{const{crop:n,disabled:r,onChange:i,onComplete:o}=this.props;if(r)return;const s=t.key;let a=!1;if(!n)return;const l=this.getBox(),c=this.makePixelCrop(l),u=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep;if("ArrowLeft"===s?(c.x-=u,a=!0):"ArrowRight"===s?(c.x+=u,a=!0):"ArrowUp"===s?(c.y-=u,a=!0):"ArrowDown"===s&&(c.y+=u,a=!0),a){t.cancelable&&t.preventDefault(),c.x=lI(c.x,0,l.width-c.width),c.y=lI(c.y,0,l.height-c.height);const e=dI(c,l.width,l.height),n=uI(c,l.width,l.height);i(e,n),o&&o(e,n)}},this.onHandlerKeyDown=(t,n)=>{const{aspect:r=0,crop:i,disabled:o,minWidth:s=0,minHeight:a=0,maxWidth:l,maxHeight:c,onChange:u,onComplete:d}=this.props,h=this.getBox();if(o||!i)return;if("ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return;t.stopPropagation(),t.preventDefault();const f=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep,p=function(e,t,n,r){const i={...e};return"ArrowLeft"===t?"nw"===r?(i.x-=n,i.y-=n,i.width+=n,i.height+=n):"w"===r?(i.x-=n,i.width+=n):"sw"===r?(i.x-=n,i.width+=n,i.height+=n):"ne"===r?(i.y+=n,i.width-=n,i.height-=n):"e"===r?i.width-=n:"se"===r&&(i.width-=n,i.height-=n):"ArrowRight"===t&&("nw"===r?(i.x+=n,i.y+=n,i.width-=n,i.height-=n):"w"===r?(i.x+=n,i.width-=n):"sw"===r?(i.x+=n,i.width-=n,i.height-=n):"ne"===r?(i.y-=n,i.width+=n,i.height+=n):"e"===r?i.width+=n:"se"===r&&(i.width+=n,i.height+=n)),"ArrowUp"===t?"nw"===r?(i.x-=n,i.y-=n,i.width+=n,i.height+=n):"n"===r?(i.y-=n,i.height+=n):"ne"===r?(i.y-=n,i.width+=n,i.height+=n):"sw"===r?(i.x+=n,i.width-=n,i.height-=n):"s"===r?i.height-=n:"se"===r&&(i.width-=n,i.height-=n):"ArrowDown"===t&&("nw"===r?(i.x+=n,i.y+=n,i.width-=n,i.height-=n):"n"===r?(i.y+=n,i.height-=n):"ne"===r?(i.y+=n,i.width-=n,i.height-=n):"sw"===r?(i.x-=n,i.width+=n,i.height+=n):"s"===r?i.height+=n:"se"===r&&(i.width+=n,i.height+=n)),i}(dI(i,h.width,h.height),t.key,f,n),m=hI(p,r,n,h.width,h.height,s,a,l,c);if(!cI(i,m)){const e=uI(m,h.width,h.height);u(m,e),d&&d(m,e)}},this.onDocPointerDone=e=>{const{crop:t,disabled:n,onComplete:r,onDragEnd:i}=this.props,o=this.getBox();this.unbindDocMove(),!n&&t&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(e),r&&r(dI(t,o.width,o.height),uI(t,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=()=>{var e;null==(e=this.componentRef.current)||e.scrollTo(0,0)}}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:t,y:n,width:r,height:i}=e.getBoundingClientRect();return{x:t,y:n,width:r,height:i}}componentDidUpdate(e){const{crop:t,onComplete:n}=this.props;if(n&&!e.crop&&t){const{width:e,height:r}=this.getBox();e&&r&&n(dI(t,e,r),uI(t,e,r))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,fI),this.document.addEventListener("pointerup",this.onDocPointerDone,fI),this.document.addEventListener("pointercancel",this.onDocPointerDone,fI),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,fI),this.document.removeEventListener("pointerup",this.onDocPointerDone,fI),this.document.removeEventListener("pointercancel",this.onDocPointerDone,fI),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,t=this.getBox(),n=this.makePixelCrop(t),r=e.clientX-e.startClientX,i=e.clientY-e.startClientY;return n.x=lI(e.startCropX+r,0,t.width-n.width),n.y=lI(e.startCropY+i,0,t.height-n.height),n}getPointRegion(e,t,n,r){const{evData:i}=this,o=i.clientX-e.x,s=i.clientY-e.y;let a,l;return a=r&&t?"nw"===t||"n"===t||"ne"===t:s<i.startCropY,l=n&&t?"nw"===t||"w"===t||"sw"===t:o<i.startCropX,l?a?"nw":"sw":a?"ne":"se"}resolveMinDimensions(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=Math.min(n,e.width),o=Math.min(r,e.height);return t&&(i||o)?t>1?i?[i,i/t]:[o*t,o]:o?[o*t,o]:[i,i/t]:[i,o]}resizeCrop(){const{evData:t}=this,{aspect:n=0,maxWidth:r,maxHeight:i}=this.props,o=this.getBox(),[s,a]=this.resolveMinDimensions(o,n,this.props.minWidth,this.props.minHeight);let l=this.makePixelCrop(o);const c=this.getPointRegion(o,t.ord,s,a),u=t.ord||c;let d=t.clientX-t.startClientX,h=t.clientY-t.startClientY;(s&&"nw"===u||"w"===u||"sw"===u)&&(d=Math.min(d,-s)),(a&&"nw"===u||"n"===u||"ne"===u)&&(h=Math.min(h,-a));const f={unit:"px",x:0,y:0,width:0,height:0};"ne"===c?(f.x=t.startCropX,f.width=d,n?(f.height=f.width/n,f.y=t.startCropY-f.height):(f.height=Math.abs(h),f.y=t.startCropY-f.height)):"se"===c?(f.x=t.startCropX,f.y=t.startCropY,f.width=d,f.height=n?f.width/n:h):"sw"===c?(f.x=t.startCropX+d,f.y=t.startCropY,f.width=Math.abs(d),f.height=n?f.width/n:h):"nw"===c&&(f.x=t.startCropX+d,f.width=Math.abs(d),n?(f.height=f.width/n,f.y=t.startCropY-f.height):(f.height=Math.abs(h),f.y=t.startCropY+h));const p=hI(f,n,c,o.width,o.height,s,a,r,i);return n||e.xyOrds.indexOf(u)>-1?l=p:e.xOrds.indexOf(u)>-1?(l.x=p.x,l.width=p.width):e.yOrds.indexOf(u)>-1&&(l.y=p.y,l.height=p.height),l.x=lI(l.x,0,o.width-l.width),l.y=lI(l.y,0,o.height-l.height),l}renderCropSelection(){const{ariaLabels:t=e.defaultProps.ariaLabels,disabled:n,locked:r,renderSelectionAddon:o,ruleOfThirds:s,crop:a}=this.props,l=this.getCropStyle();if(a)return i.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!r&&i.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},i.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),i.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),i.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),i.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),i.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"nw"),role:"button"}),i.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"n"),role:"button"}),i.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"ne"),role:"button"}),i.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"e"),role:"button"}),i.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"se"),role:"button"}),i.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"s"),role:"button"}),i.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"sw"),role:"button"}),i.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"w"),role:"button"})),o&&i.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:e=>e.stopPropagation()},o(this.state)),s&&i.createElement(i.Fragment,null,i.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),i.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){return dI({...aI,...this.props.crop||{}},e.width,e.height)}render(){const{aspect:e,children:t,circularCrop:n,className:r,crop:o,disabled:s,locked:a,style:l,ruleOfThirds:c}=this.props,{cropIsActive:u,newCropIsBeingDrawn:d}=this.state,h=o?this.renderCropSelection():null,f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>e&&"string"==typeof e)).join(" ")}("ReactCrop",r,u&&"ReactCrop--active",s&&"ReactCrop--disabled",a&&"ReactCrop--locked",d&&"ReactCrop--new-crop",o&&e&&"ReactCrop--fixed-aspect",o&&n&&"ReactCrop--circular-crop",o&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&o&&!o.width&&!o.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return i.createElement("div",{ref:this.componentRef,className:f,style:l},i.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),o?i.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},i.createElement("defs",null,i.createElement("mask",{id:`hole-${this.instanceId}`},i.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?i.createElement("ellipse",{cx:`${o.x+o.width/2}${o.unit}`,cy:`${o.y+o.height/2}${o.unit}`,rx:`${o.width/2}${o.unit}`,ry:`${o.height/2}${o.unit}`,fill:"black"}):i.createElement("rect",{x:`${o.x}${o.unit}`,y:`${o.y}${o.unit}`,width:`${o.width}${o.unit}`,height:`${o.height}${o.unit}`,fill:"black"}))),i.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,h)}};mI.xOrds=["e","w"],mI.yOrds=["n","s"],mI.xyOrds=["nw","ne","se","sw"],mI.nudgeStep=1,mI.nudgeStepMedium=10,mI.nudgeStepLarge=100,mI.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};let gI=mI;const vI={position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:11e3},bI={background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",width:"1200px",height:"600px",overflow:"hidden",position:"relative"},yI={position:"absolute",top:"10px",right:"10px",background:"white",color:"black",border:"black solid 1px",borderRadius:"10px",cursor:"pointer",width:"20px",height:"30px",zIndex:11001},wI={position:"absolute",bottom:"10px",right:"10px",background:"white",color:"black",border:"black solid 1px",borderRadius:"10px",cursor:"pointer",zIndex:11001},xI=e=>{let{src:t,onCropComplete:n,onClose:r}=e;const[o,s]=(0,i.useState)({unit:"px",width:280,height:200,aspect:1.4}),[a,l]=(0,i.useState)(null),c=e=>{s(e)};return(0,je.jsx)("div",{style:vI,children:(0,je.jsxs)("div",{style:bI,children:[(0,je.jsx)(la,{onClick:r,variant:"outlined",style:yI,children:"X"}),(0,je.jsx)(gI,{crop:o,onChange:c,onComplete:c,style:{width:"100%",height:"100%"},locked:!0,children:(0,je.jsx)("img",{src:t,alt:"Source",onLoad:e=>{l(e.target)},style:{width:"100%",height:"100%",overflow:"hidden",objectFit:"contain",maxWidth:"100%",maxHeight:"100%"}})}),(0,je.jsx)(la,{onClick:()=>{if(a&&o.width&&o.height){const e=document.createElement("canvas"),t=a.naturalWidth/a.width,r=a.naturalHeight/a.height;e.width=o.width,e.height=o.height;e.getContext("2d").drawImage(a,o.x*t,o.y*r,o.width*t,o.height*r,0,0,o.width,o.height),e.toBlob((e=>{const t=URL.createObjectURL(e);n(t)}),"image/jpeg")}else console.error("\uc774\ubbf8\uc9c0 \ub610\ub294 \ud06c\ub86d \uc0c1\ud0dc\uac00 \uc720\ud6a8\ud558\uc9c0 \uc54a\uc74c")},style:wI,children:"\uc644\ub8cc"})]})})};var _I=n(9442);Gp().locale("ko");const CI=e=>{let{clubNumber:t,secondModalClose:n,secondModal:r,category:o,setSnackbarMessageMain:s,handleSnackbarClickMain:a}=e;const[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(""),h=st(op)((e=>{let{theme:t}=e;return{backgroundColor:"white",color:"#A6836F",borderRadius:"20px",width:"250px",height:"50px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",opacity:1,transition:"opacity 0.5s ease-in-out"}})),f=()=>{c(!0)},[p,m]=(0,i.useState)(null),[g,v]=(0,i.useState)(null),[b,y]=(0,i.useState)(!1),{register:w,handleSubmit:x,formState:{errors:_},reset:C,setValue:k}=(ee(),wy({mode:"onChange"})),[S,A]=(0,i.useState)(""),[T,I]=(0,i.useState)(null),[M,E]=(0,i.useState)(!1);return(0,je.jsxs)(We,{children:[(0,je.jsx)(Go,{component:"form",onSubmit:x((async e=>{const r=function(e,t){const n=new File([e],t,{type:e.type});return n}(await async function(e){const t=await fetch(e),n=await t.blob();return n}(T),S),i=new FormData;if(console.log(p),!p)return d("\ub0a0\uc9dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"),void f();if(i.append("dateTime",p.$d.toString()),i.append("dateTimeSort",g),i.append("alertAll",b),i.append("title",e.title),i.append("category",o),i.append("clubNumber",t),i.append("where",e.where),i.append("totalCount",e.totalCount),i.append("cost",e.cost),!T)return d("\ub300\ud45c\uc0ac\uc9c4\uc744 \ub4f1\ub85d\ud574\uc8fc\uc138\uc694"),void f();i.append("img",r);try{await gh.post("/meetings/create",i,{headers:{"Content-Type":"multipart/form-data"}});s("\uc815\ubaa8 \uc0dd\uc131\uc744 \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4."),a(),n()}catch(l){console.error(l),d("\uc815\ubaa8 \uc0dd\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.."),f()}})),open:r,onClose:n,children:(0,je.jsx)(We,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:450,width:700,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:(0,je.jsxs)(Pt,{container:!0,spacing:2,children:[(0,je.jsxs)(Pt,{item:!0,xs:5,children:[(0,je.jsx)("input",{id:"img",type:"file",accept:"image/png, image/gif, image/jpeg",onChange:e=>{const t=e.target.files[0];if(A(t.name),t){const e=new FileReader;e.onloadend=()=>{I(e.result)},e.readAsDataURL(t)}},style:{display:"none"}}),(0,je.jsx)("label",{htmlFor:"img",children:(0,je.jsx)(la,{variant:"outlined",component:"span",sx:{width:"100%"},children:"\uc815\ubaa8 \ub300\ud45c\uc0ac\uc9c4 \uc120\ud0dd\ud558\uae30"})}),!T&&(0,je.jsx)(We,{mt:2,onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault();const t=e.dataTransfer.files[0];if(t){const e=new FileReader;e.onloadend=()=>{I(e.result)},e.readAsDataURL(t)}},sx:{width:"280px",height:"200px",display:"flex",alignItems:"center",justifyContent:"center",border:"2px dashed gray"},children:(0,je.jsx)(Ks,{variant:"h6",color:"textSecondary",children:"\uc774\ubbf8\uc9c0 \ubbf8\ub9ac\ubcf4\uae30\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \uc774\ubbf8\uc9c0\ub97c \uc5c5\ub85c\ub4dc\ud558\uc138\uc694."})}),T&&(0,je.jsxs)(We,{mt:2,sx:{width:"280px",height:"200px",position:"relative"},children:[(0,je.jsx)("img",{src:T,alt:"\ubbf8\ub9ac\ubcf4\uae30",style:{width:"100%",height:"100%",objectFit:"cover"}}),(0,je.jsx)(_I.A,{sx:{position:"absolute",bottom:8,right:8,color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:"50%",padding:"4px",cursor:"pointer"},onClick:()=>{E(!0)}})]})]}),(0,je.jsxs)(Pt,{item:!0,xs:7,container:!0,spacing:1,children:[(0,je.jsx)(Pt,{item:!0,xs:12,children:(0,je.jsx)(Mv,{id:"title",label:"\uc815\ubaa8 \uc81c\ubaa9",sx:{width:"100%"},...w("title",{required:" \ud544\uc218\uc785\ub825 \uc694\uc18c."})})}),(0,je.jsx)(Pt,{item:!0,xs:12,sx:{marginBottom:"5px"},children:(0,je.jsx)(Fy,{dateAdapter:Ry,children:(0,je.jsx)(sI,{components:["DateTimePicker"],children:(0,je.jsx)(qT,{id:"dateTime",label:"\ub9cc\ub098\ub294 \ub0a0\uc9dc \ubc0f \uc2dc\uac04",onChange:e=>{v(e.toISOString()),m(e)}})})})}),(0,je.jsx)(Pt,{item:!0,xs:12,children:(0,je.jsx)(Mv,{id:"cost",label:"\ube44\uc6a9",multiline:!0,sx:{width:"100%"},...w("cost",{required:" \ud544\uc218\uc785\ub825 \uc694\uc18c."})})})]}),(0,je.jsx)(Pt,{item:!0,xs:12,children:(0,je.jsx)(Mv,{id:"where",label:"\uc704\uce58",multiline:!0,placeholder:"\ubaa8\uc784 \uc7a5\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694",sx:{width:"100%",mb:2},...w("where",{required:" \ud544\uc218\uc785\ub825 \uc694\uc18c."})})}),(0,je.jsxs)(Pt,{container:!0,spacing:1,sx:{marginLeft:"6px"},children:[(0,je.jsx)(Pt,{item:!0,xs:4,sx:{justifyContent:"center",alignItems:"center"},children:(0,je.jsx)(Mv,{id:"totalCount",label:"\uc778\uc6d0 \uc218",placeholder:"\uc22b\uc790\ub9cc \uc785\ub825\ud558\uc138\uc694",multiline:!0,sx:{width:"100%",mb:2},...w("totalCount",{required:" \ud544\uc218\uc785\ub825 \uc694\uc18c."})})}),(0,je.jsx)(Pt,{item:!0,xs:6,children:(0,je.jsx)(We,{sx:{textAlign:"right"},children:(0,je.jsxs)(Ks,{sx:{fontSize:"20px",paddingTop:"15px"},children:["\uc815\ubaa8 \uacf5\uc9c0 ",(0,je.jsx)("span",{style:{color:"gray"},children:"(\uc804\uccb4 \uba64\ubc84 \uc54c\ub9bc)"})]})})}),(0,je.jsx)(Pt,{item:!0,xs:2,sx:{marginLeft:"0px"},children:(0,je.jsx)(Gv,{sx:{"& .MuiSvgIcon-root":{fontSize:40}},onChange:e=>{y(e.target.checked)}})})]}),(0,je.jsx)(Pt,{item:!0,xs:12,sx:{justifyContent:"center",alignItems:"center",textAlign:"center"},children:(0,je.jsx)(um,{type:"submit",variant:"contained",sx:{backgroundColor:"#DBC7B5",width:"100%"},children:"\ub4f1\ub85d\ud558\uae30"})})]})})}),M&&(0,je.jsx)(xI,{src:T,onCropComplete:e=>{I(e),k("img",e),E(!1)},onClose:()=>E(!1)}),(0,je.jsx)(Vp,{open:l,autoHideDuration:1e3,onClose:(e,t)=>{"clickaway"!==t&&c(!1)},anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,je.jsx)(h,{message:u})})]})};var kI=n(2382),SI=n(9942);const AI=[{id:1,title:"\ud55c\ub2ec\uc5d0 1~2\ud68c \uce74\ud398\uac00\uae30",subTitle:"\uce74\ud398",tag:"\ud074\ub7fd",detailTag:0,where:"\ub0a8\uc591\uc8fc\uc2dc",chat:"10\ubd84 \uc804 \ub300\ud654",member:["a","b","c","d"],maxMember:20,src:"https://images.munto.kr/socialing-category/nearby/cover9.jpg?s=256x256"},{id:2,title:"\ud55c\ub2ec\uc5d0 \ud584\ubc84\uac70 2\ubc88\uba39\uae30",subTitle:"\ub9db\uc9d1\ud0d0\ubc29",tag:"\ud074\ub7fd",detailTag:1,where:"\uc778\ucc9c",chat:"11\ubd84 \uc804 \ub300\ud654",member:["a","b","c","d","e","f"],maxMember:15,src:"http://images.munto.kr/production-club/1664298999356-photo-snnvj-368240-0?s=256x256"},{id:3,title:"\ub9e4\uc77c \ucc45\uc77d\uae30",subTitle:"\ucde8\ubbf8",tag:"\ud074\ub7fd",detailTag:"2",where:"\uacbd\uc0c1\ubd81\ub3c4",chat:"35\ubd84 \uc804 \ub300\ud654",member:["a","b","c","d"],maxMember:14,src:"http://images.munto.kr/socialing-category/cover_category-5_%E1%84%8B%E1%85%A7%E1%84%92%E1%85%A2%E1%86%BC%E1%84%82%E1%85%A1%E1%84%83%E1%85%B3%E1%86%AF%E1%84%8B%E1%85%B5_2.png?s=256x256"},{id:4,title:"\uc81c\uc8fc\ub3c4 \ub180\ub7ec\uac00\uc790",subTitle:"\uc5ec\ud589",tag:"\ud074\ub7fd",detailTag:"3",where:"\uc81c\uc8fc\ub3c4",chat:"22\ubd84 \uc804 \ub300\ud654",member:["a","b","c","d","e"],maxMember:5,src:"http://images.munto.kr/production-club/1717859237343-photo-4ikcr-901876-0?s=256x256"},{id:5,title:"\ucf54\ub529\uacf5\ubd80\ud558\uc2e4 \ubd84",subTitle:"\uc790\uae30\uacc4\ubc1c",tag:"\ud074\ub7fd",detailTag:"4",where:"\uc11c\ucd08\uad6c",chat:"11\ubd84 \uc804 \ub300\ud654",member:["a","b","c","d"],maxMember:17,src:"http://images.munto.kr/production-club/1720146638830-photo-ice00-884981-0?s=256x256"},{id:6,title:"\uc804\uc2dc\ud68c \uac00\uc694~",subTitle:"\ubb38\ud654",tag:"\ud074\ub7fd",detailTag:"5",where:"\ub0a8\uc591\uc8fc\uc2dc",chat:"19\ubd84 \uc804 \ub300\ud654",member:["a","b","c","d","e"],maxMember:15,src:"http://images.munto.kr/production-club/1720320667314-photo-siezr-684173-0?s=256x256"},{id:7,title:"\ud55c\ub2ec\uc5d0 1~2\ud68c \uce74\ud398\uac00\uae30",subTitle:"\ub3d9\ub124\uce5c\uad6c",tag:"\ud074\ub7fd",detailTag:"6",where:"\ub0a8\uc591\uc8fc\uc2dc",chat:"23\ubd84 \uc804 \ub300\ud654",member:["a","b","c","d"],maxMember:15,src:"http://images.munto.kr/production-club/1721630778829-photo-l1zj4-932225-0?s=256x256"},{id:8,title:"\ud55c\ub2ec\uc5d0 1~2\ud68c \ud30c\ud2f0",subTitle:"\ud30c\ud2f0",tag:"\ud074\ub7fd",detailTag:"7",where:"\ub0a8\uc591\uc8fc\uc2dc",chat:"29\ubd84 \uc804 \ub300\ud654",member:["a","b","c","d","e"],maxMember:20,src:"http://images.munto.kr/production-club/1721630100267-photo-d7hyr-454582-0?s=256x256"},{id:9,title:"\ud55c\ub2ec\uc5d0 1~2\ud68c \ucf54\uc778\ub180\uc774",subTitle:"\ucf54\uc778\ub180\uc774",tag:"\ud074\ub7fd",detailTag:"8",where:"\ub0a8\uc591\uc8fc\uc2dc",chat:"19\ubd84 \uc804 \ub300\ud654",member:["a","b","c","d"],maxMember:20,src:"http://images.munto.kr/production-club/1720545718122-photo-q43ft-119054-0?s=256x256"},{id:10,title:"\ud55c\ub2ec\uc5d0 1~2\ud68c \uc601\uc5b4\uc2dc\ud5d8",subTitle:"\uc601\uc5b4\uc2dc\ud5d8",tag:"\ud074\ub7fd",detailTag:"9",where:"\uc11c\uc6b8\uc2dc",chat:"19\ubd84 \uc804 \ub300\ud654",member:["a","b","c","d"],maxMember:13,src:"http://images.munto.kr/production-club/1677663073322-photo-xtxb3-514644-0?s=256x256"},{id:11,title:"\ud55c\ub2ec\uc5d0 1~2\ud68c \ub610\ub798\uce5c\uad6c",subTitle:"\ub610\ub798\uce5c\uad6c",tag:"\ud074\ub7fd",detailTag:"10",where:"\uc548\uc591\uc2dc",chat:"19\ubd84 \uc804 \ub300\ud654",member:["a","b","c","d"],maxMember:10,src:"http://images.munto.kr/production-club/1706491431390-photo-fprpx-530238-0?s=256x256"}],TI=e=>{let{clubList:t}=e;const[n,r]=(0,i.useState)(AI),o=ee();return(0,je.jsx)(We,{children:(0,je.jsx)(Pt,{container:!0,spacing:3,children:t.map(((e,t)=>(0,je.jsx)(Pt,{item:!0,md:11,sx:{transition:"transform 0.3s ease","&:hover":{transform:"scale(1.03)"}},children:(0,je.jsx)(Qo,{elevation:3,sx:{borderRadius:"12px",overflow:"hidden",display:"flex",flexDirection:"column",height:"200px",cursor:"pointer",transition:"box-shadow 0.3s ease",backgroundColor:"white"},onClick:()=>o(`/clubs/main?clubNumber=${e._id}`),children:(0,je.jsxs)(Pt,{container:!0,spacing:3,children:[(0,je.jsx)(Pt,{item:!0,xs:4,children:(0,je.jsx)(We,{sx:{display:"flexed",position:"relative"},children:(0,je.jsx)("img",{src:"http://localhost:4000/"+e.img,alt:e.title,style:{width:"210px",height:"180px",objectFit:"cover",borderRadius:"12px",marginLeft:"10px",marginTop:"10px"}})})}),(0,je.jsx)(Pt,{item:!0,xs:8,children:(0,je.jsxs)(We,{sx:{padding:"16px",display:"flex",flexDirection:"column",height:"182px"},children:[(0,je.jsx)(Ks,{variant:"h5",sx:{fontWeight:"700",fontSize:"20px",color:"#383535",marginBottom:"8px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e.title}),(0,je.jsx)(Ks,{variant:"h6",sx:{fontWeight:"500",fontSize:"18px",color:"#777777",marginBottom:"8px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e.subTitle}),(0,je.jsx)(Ks,{variant:"body2",sx:{color:"#9F9E9D",marginBottom:"8px"},children:e.region.district}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center"},children:[(0,je.jsx)(SI.A,{sx:{color:"#BF5B16",fontSize:"18px"}}),(0,je.jsx)(Ks,{variant:"body2",sx:{color:"#BF5B16",marginLeft:"5px"},children:n[t].chat})]}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",marginTop:"auto",borderTop:"1px solid #e0e0e0",paddingTop:"8px",paddingBottom:"8px"},children:[(0,je.jsx)(Dp,{max:4,children:e.members.map(((e,t)=>(0,je.jsx)(Sp,{alt:`Member ${t+1}`,src:e.img,sx:{width:32,height:32}},t)))}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",marginLeft:"8px",fontSize:"14px",color:"#666666"},children:[(0,je.jsx)(Up.A,{sx:{fontSize:"18px"}}),(0,je.jsxs)("span",{style:{marginLeft:"5px"},children:[e.members.length,"/",e.maxMember]})]})]})]})})]})})},e._id)))})})},II=Re({defaultClassName:(0,Fe.A)("MuiBox",["root"]).root,generateClassName:Le.A.generate}),MI={dots:!0,infinite:!0,speed:500,slidesToShow:1,centerMode:!0,centerPadding:"40px",slidesToScroll:1,arrows:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}}]},EI=e=>{let{clubList:t}=e;return(0,je.jsx)(II,{style:{padding:"20px",backgroundColor:"#f2f2f2",borderRadius:"20px"},children:(0,je.jsx)(kI.A,{...MI,children:t.map((e=>(0,je.jsx)(II,{style:{padding:"10px"},children:(0,je.jsx)(TI,{clubList:[e]})},e._id)))})})};var PI=n(3831);const DI=e=>{let{open:t,onClose:n,members:r,clubNumber:i,setSnackbarMessage:o,handleSnackbarClick:s}=e;const a=sl((e=>e.user));return(0,je.jsxs)(ya,{open:t,onClose:n,sx:{"& .MuiDialog-paper":{width:"80vw",maxWidth:"1000px"}},children:[(0,je.jsx)(ka,{children:"\ud68c\uc6d0 \uc815\ubcf4"}),(0,je.jsx)(Ia,{children:r&&r.length>0?r.map(((e,t)=>(0,je.jsxs)(Pt,{container:!0,spacing:2,sx:{padding:"10px",width:"100%",cursor:"pointer",transition:"all 0.3s ease","&:hover":{transform:"scale(1.03)"}},children:[(0,je.jsx)(Pt,{item:!0,xs:2,children:(0,je.jsx)(Sp,{sx:{width:50,height:50},src:(null===e||void 0===e?void 0:e.thumbnailImage)||""})}),(0,je.jsx)(Pt,{item:!0,xs:4,sx:{marginTop:"8px"},children:(0,je.jsxs)(Ks,{variant:"h6",children:[e.name," - ",(0,je.jsxs)("span",{style:{color:"#888888"},children:["(",e.nickName,") "]})]})}),(0,je.jsxs)(Pt,{item:!0,xs:6,sx:{display:"flex",justifyContent:"flex-end"},children:[a.userData.user.nickName===r[0].nickName&&0!==t&&(0,je.jsx)(je.Fragment,{children:(0,je.jsx)(um,{variant:"contained",onClick:()=>{(async e=>{const t=await gh.post(`/clubs/mandateManager/${e}/${i}`);"\uc131\uacf5"===t.data&&(o("\uc704\uc784 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),s(),n()),"\uc774\ubbf8 \uc788\uc74c"===t.data&&(o("\uc774\ubbf8 \ub9e4\ub2c8\uc800\uc785\ub2c8\ub2e4."),s())})(e.nickName)},sx:{color:"white",backgroundColor:"#DBC7B5",borderRadius:"15px",height:"40px",padding:"0 16px",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"5px"},children:"\ub9e4\ub2c8\uc800 \uc704\uc784"})}),0!==t&&(0,je.jsx)(je.Fragment,{children:(0,je.jsx)(um,{variant:"contained",onClick:()=>{(async e=>{await gh.post(`/clubs/deleteMember/${e}/${i}`),o("\uac15\ud1f4 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),s(),n()})(e.nickName)},sx:{color:"white",backgroundColor:"#DBC7B5",borderRadius:"15px",height:"40px",padding:"0 16px",display:"flex",alignItems:"center",justifyContent:"center"},children:"\ucd94\ubc29"})})]})]},t))):(0,je.jsx)(Ks,{children:"\uba64\ubc84 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})}),(0,je.jsx)(GS,{children:(0,je.jsx)(la,{onClick:n,color:"primary",children:"\ub2eb\uae30"})})]})};var jI=n(6520);function OI(e){return(0,He.Ay)("MuiAlert",e)}const RI=(0,Fe.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),LI=(0,hp.A)((0,je.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),NI=(0,hp.A)((0,je.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),BI=(0,hp.A)((0,je.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),FI=(0,hp.A)((0,je.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),zI=(0,hp.A)((0,je.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),VI=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],WI=(0,ft.Ay)(Qo,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,ht.A)(n.color||n.severity)}`]]}})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?Nt.e$:Nt.a,r="light"===t.palette.mode?Nt.a:Nt.e$;return(0,_e.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[i]=e;return{props:{colorSeverity:i,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:r(t.palette[i].light,.9),[`& .${RI.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:n(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${RI.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:(0,_e.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}}))]})})),HI=(0,ft.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),UI=(0,ft.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),$I=(0,ft.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),YI={success:(0,je.jsx)(LI,{fontSize:"inherit"}),warning:(0,je.jsx)(NI,{fontSize:"inherit"}),error:(0,je.jsx)(BI,{fontSize:"inherit"}),info:(0,je.jsx)(FI,{fontSize:"inherit"})},GI=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiAlert"}),{action:r,children:i,className:o,closeText:s="Close",color:a,components:l={},componentsProps:c={},icon:u,iconMapping:d=YI,onClose:h,role:f="alert",severity:p="success",slotProps:m={},slots:g={},variant:v="standard"}=n,b=(0,Ce.A)(n,VI),y=(0,_e.A)({},n,{color:a,severity:p,variant:v,colorSeverity:a||p}),w=(e=>{const{variant:t,color:n,severity:r,classes:i}=e,o={root:["root",`color${(0,ht.A)(n||r)}`,`${t}${(0,ht.A)(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,Ue.A)(o,OI,i)})(y),x={slots:(0,_e.A)({closeButton:l.CloseButton,closeIcon:l.CloseIcon},g),slotProps:(0,_e.A)({},c,m)},[_,C]=yp("closeButton",{elementType:eo,externalForwardedProps:x,ownerState:y}),[k,S]=yp("closeIcon",{elementType:zI,externalForwardedProps:x,ownerState:y});return(0,je.jsxs)(WI,(0,_e.A)({role:f,elevation:0,ownerState:y,className:(0,ke.A)(w.root,o),ref:t},b,{children:[!1!==u?(0,je.jsx)(HI,{ownerState:y,className:w.icon,children:u||d[p]||YI[p]}):null,(0,je.jsx)(UI,{ownerState:y,className:w.message,children:i}),null!=r?(0,je.jsx)($I,{ownerState:y,className:w.action,children:r}):null,null==r&&h?(0,je.jsx)($I,{ownerState:y,className:w.action,children:(0,je.jsx)(_,(0,_e.A)({size:"small","aria-label":s,title:s,color:"inherit",onClick:h},C,{children:(0,je.jsx)(k,(0,_e.A)({fontSize:"small"},S))}))}):null]}))})),qI=GI,XI=e=>{let{open:t,message:n,severity:r="success",onClose:o,duration:s=5e3}=e;const[a,l]=(0,i.useState)(s/1e3);return(0,i.useEffect)((()=>{if(t){const e=setInterval((()=>{l((t=>t<=1?(clearInterval(e),0):t-1))}),1e3);return()=>clearInterval(e)}l(s/1e3)}),[t,s]),(0,je.jsx)(Vp,{open:t,autoHideDuration:s,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,je.jsxs)(qI,{onClose:o,severity:r,sx:{width:"100%"},children:[n," (\ub0a8\uc740 \uc2dc\uac04: ",a,"\ucd08)"]})})},ZI=()=>{const e=bl(),t=ee(),n=sl((e=>e.user.userData.user)),r=sl((e=>e.wish.favoriteList)),o=Q(),s=new URLSearchParams(o.search),a=Number(s.get("clubNumber")),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(""),[p,m]=(0,i.useState)("success");(0,i.useEffect)((()=>{c(r.includes(a))}),[r,a]);const g=e=>{let{isFavorite:t,onToggle:n}=e;return(0,je.jsx)(jI.A,{onClick:n,sx:{fontSize:"26px",padding:"7px",color:t?"lightcoral":"gray",":hover":{cursor:"pointer"}}})};return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(g,{isFavorite:l,onToggle:()=>{if(""===n.email)return alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4."),void t("/login");const r=l?`/clubs/removeWish/${a}`:`/clubs/addWish/${a}`;gh.post(r).then((()=>{e(bh({clubNumber:a})),f(l?"\ubaa8\uc784\uc758 \ucc1c\uc744 \ud574\uc81c\ud588\uc2b5\ub2c8\ub2e4.":"\ubaa8\uc784\uc744 \ucc1c\ud588\uc2b5\ub2c8\ub2e4."),m("success"),d(!0)})).catch((e=>{console.log(e),f("\ucc1c\ud558\uae30\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),m("error"),d(!0)}))}}),(0,je.jsx)(XI,{open:u,message:h,severity:p,onClose:()=>{d(!1)},duration:5e3})]})},KI=Nc("messages/readVisitClub",(async(e,t)=>{try{return(await gh.get(`/users/recentvisit/${e}`)).data}catch(n){return t.rejectWithValue(n.response.data||n.message)}})),QI=Nc("recentvisit/saveVisitClub",(async(e,t)=>{try{return(await gh.post("/users/recentvisit",e)).data}catch(n){return console.log(n),t.rejectWithValue(n.response.data||n.message)}})),JI=e=>{var t,n,r,o;const s=Q(),a=new URLSearchParams(s.search),l=a.get("clubNumber"),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(""),f=st(op)((e=>{let{theme:t}=e;return{backgroundColor:"white",color:"#A6836F",borderRadius:"20px",width:"250px",height:"50px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",opacity:1,transition:"opacity 0.5s ease-in-out"}})),p=()=>{u(!0)};(0,i.useEffect)((()=>{console.log("location:",s),s.state&&s.state.snackbarMessage&&(console.log("\uc5ec\uae30 \uc640??"),h(s.state.snackbarMessage),u(!0))}),[s]);const[m,g]=(0,i.useState)(!1),[v,b]=(0,i.useState)(!1),y=bl(),w=ee(),[x,_]=(0,i.useState)(!1),C=()=>{_((e=>!e))},k=sl((e=>e.getClub)),[S,A]=(0,i.useState)(null),T=Boolean(S),I=T?"simple-popover":void 0,M=k.clubs||{},E=(null===M||void 0===M?void 0:M.admin)||"";(0,i.useEffect)((()=>{window.scrollTo(0,0)}),[l]);const[P,D]=(0,i.useState)(""),[j,O]=(0,i.useState)(!1),[R,L]=(0,i.useState)(!1),N=()=>L(!0),B=sl((e=>e.categoryClub)),[F,z]=(0,i.useState)([]);(0,i.useEffect)((()=>{let e=[];for(let t=0;t<B.clubs.length;t++)B.clubs[t]._id.toString()!==a.get("clubNumber")&&e.push(B.clubs[t]);z(e)}),[B]);const V=sl((e=>e.user)),[W,H]=(V.userData.user.email,(0,i.useState)([])),[U,$]=(0,i.useState)([]),{data:Y,error:G,isLoading:q,isError:X}=Jf({queryKey:["readClub",l,m,v,j],queryFn:async()=>{const e=await fetch(`http://localhost:4000/clubs/read2/${l}`),t=await e.json();return await y(Qp(t.mainCategory)),t},enabled:!!l}),[Z,K]=(0,i.useState)(null),J=()=>{K(null)};(0,i.useEffect)((()=>{gh.get(`http://localhost:4000/meetings/${l}`).then((e=>{let t=[];for(let n=0;n<e.data.length;n++)e.data[n].joinMember.includes(V.userData.user.email)?t.push(!0):t.push(!1);H([...e.data]),$(t)}))}),[l,V.userData.user.email]);const te=()=>{g(!0)},ne=()=>{b(!0)},re=zf();return(0,i.useEffect)((()=>{if(l&&V.userData.user.email){const e={clubs:l,email:V.userData.user.email};y(QI(e)).then((e=>{console.log("Visit saved successfully:",e)})).catch((e=>{console.error("Failed to save visit:",e)}))}}),[l,V.userData.user.email,y]),q?(0,je.jsx)("div",{children:"\ub85c\ub529 \uc911..."}):X?(0,je.jsxs)("div",{children:["Error: ",G.message]}):(0,je.jsxs)(We,{sx:{backgroundColor:"#F4F4F4"},children:[R&&(0,je.jsx)(km,{open:R,handleCloseModal:()=>L(!1),FadHandleClick:e=>{D(e),L(!1),O(!0)}}),j&&(0,je.jsx)(CI,{clubNumber:l,secondModalClose:()=>{O(!1)},secondModal:j,category:P,setSnackbarMessageMain:h,handleSnackbarClickMain:p}),(0,je.jsx)(gt,{maxWidth:"md",sx:{padding:"0px !important"},children:(0,je.jsx)(Pt,{item:!0,xs:12,children:(0,je.jsx)(We,{sx:{borderRadius:"10px",width:"100%",height:"478.5px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:(0,je.jsx)("img",{src:"http://localhost:4000/"+(null===Y||void 0===Y?void 0:Y.img),alt:"Example",style:{width:"100%",height:"100%",objectFit:"cover"}})})})}),(0,je.jsxs)(gt,{maxWidth:"md",sx:{backgroundColor:"white"},children:[E===V.userData.user.email&&(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(dp,{onClick:e=>{K(e.currentTarget)},"aria-label":"add",sx:{backgroundColor:"#DBC7B5",color:"white",position:"fixed",bottom:"50px",right:"100px","&:hover":{backgroundColor:"#A67153"}},children:(0,je.jsx)($p.A,{})}),(0,je.jsxs)(ws,{anchorEl:Z,open:Boolean(Z),onClose:J,children:[(0,je.jsx)(Es,{onClick:()=>{w(`/clubs/main/update?clubNumber=${l}`),J()},children:"\ubaa8\uc784 \ubc0f \uac8c\uc2dc\uae00 \uc218\uc815"}),(0,je.jsx)(Es,{onClick:async()=>{try{await gh.delete(`http://localhost:4000/clubs/delete/${l}`),w("/clubList",{state:{snackbarMessage:"\ubaa8\uc784 \uc0ad\uc81c\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}})}catch(G){console.error("\uc0ad\uc81c \uc2e4\ud328:",G)}J()},children:"\ubaa8\uc784 \uc0ad\uc81c"})]})]}),(0,je.jsxs)(Pt,{item:!0,xs:12,sx:{paddingLeft:"20px",paddingRight:"20px",paddingTop:"20px"},children:[(0,je.jsxs)(Pt,{container:!0,children:[(0,je.jsx)(Pt,{item:!0,xs:1,children:(0,je.jsx)(Sp,{sx:{width:50,height:50},src:Y.clubmembers[0].thumbnailImage||""})}),(0,je.jsxs)(Pt,{item:!0,xs:11,children:[(0,je.jsx)(Pt,{item:!0,xs:12,children:(0,je.jsx)(Ks,{variant:"h5",sx:{margin:"5px",fontWeight:"900",letterSpacing:"-.1rem"},children:Y.title})}),(0,je.jsxs)(Pt,{container:!0,spacing:2,children:[(0,je.jsxs)(Pt,{item:!0,xs:6,children:["\ud638\uc2a4\ud2b8 ",(0,je.jsxs)("b",{children:[" ",Y.adminNickName]})]}),(0,je.jsxs)(Pt,{item:!0,xs:6,sx:{color:"#555555",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[(0,je.jsx)(ZI,{})," ",(0,je.jsx)(PI.A,{sx:{padding:"7px",color:"black"}}),(0,je.jsx)(Ma.A,{onClick:e=>{A(e.currentTarget)},variant:"contained",sx:{padding:"7px",color:"black"}})]}),(0,je.jsxs)(us,{id:I,open:T,anchorEl:S,onClose:()=>{A(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[V.userData.user.email!==k.clubs.admin&&(null===k||void 0===k||null===(t=k.clubs)||void 0===t||null===(n=t.members)||void 0===n?void 0:n.includes(V.userData.user.email))&&(0,je.jsx)(We,{onClick:()=>{""===V.userData.user.email?p():gh.post(`http://localhost:4000/clubs/cencellMember/${l}`).then((e=>{const t=[{club:l,recipient:V.userData.user.email,sender:k.clubs.title,content:`${k.clubs.title}\uc5d0\uc11c \ud0c8\ud1f4\ud558\uc168\uc2b5\ub2c8\ub2e4.`,title:"\ubaa8\uc784 \ud0c8\ud1f4 \uc131\uacf5"},{club:l,recipient:k.clubs.admin,sender:V.userData.user.email,content:`${V.userData.user.email}\ub2d8\uc774 \ubaa8\uc784\uc5d0\uc11c \ud0c8\ud1f4\ud558\uc168\uc2b5\ub2c8\ub2e4.`,title:"\ud0c8\ud1f4"}];y(_h(t[0])),gh.post("/users/messages",t[1]).then((()=>{console.log("\uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc131\uacf5"),w("/mypage")})).catch((e=>{console.error("\uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc2e4\ud328",e)})),w("/clubList",{state:{snackbarMessage:"\ubaa8\uc784 \ud0c8\ud1f4\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}})})).catch((e=>{console.log(e),h("\ubaa8\uc784 \ud0c8\ud1f4\uac00 \uc2e4\ud328\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),p()}))},sx:{padding:"10px"},children:"\ud074\ub7fd \ud0c8\ud1f4\ud558\uae30"}),(0,je.jsx)(We,{onClick:()=>{},sx:{padding:"10px"},children:"\ubaa8\uc784 url \uacf5\uc720\ud558\uae30"}),(0,je.jsx)(We,{onClick:()=>{},sx:{padding:"10px"},children:"\ubaa8\uc784 \uc2e0\uace0\ud558\uae30"})]})]})]})]}),(0,je.jsx)(Pt,{container:!0,spacing:2,children:(0,je.jsxs)(Pt,{item:!0,xs:6,sx:{color:"#555555"},children:[(0,je.jsx)("b",{children:" 1"}),"/",Y.maxMember,"\uba85",(0,je.jsxs)("b",{children:[" ",Y.meeting.length]})," \uc815\uae30\ubaa8\uc784",(0,je.jsx)("b",{children:" 0"})," \uae00 \uac2f\uc218",(0,je.jsx)("b",{children:" 5"})," \ubd84 \uc804 \ub300\ud654"]})}),(0,je.jsx)("hr",{}),(0,je.jsx)(Pt,{container:!0,spacing:2,children:(0,je.jsx)(Pt,{item:!0,xs:12,sx:{marginTop:"30px"},children:(0,je.jsx)(Ks,{sx:{whiteSpace:"pre-wrap"},children:Y.content})})}),(0,je.jsx)(Ks,{sx:{fontSize:"14px",color:"#1c8a6a",fontFamily:"Pretendard",letterSpacing:"-.1rem",marginTop:"20px"},children:"\uc815\uae30 \ubaa8\uc784"}),(0,je.jsx)(Ks,{sx:{fontSize:"18px",fontWeight:"600",color:"#242424",fontFamily:"Pretendard",letterSpacing:"-.1rem",marginBottom:"20px"},children:"\uc815\uae30\uc801\uc73c\ub85c \ubaa8\uc784\uc744 \uac00\uc9c0\uace0 \uc788\uc5b4\uc694"}),0===Y.meeting.length&&V.userData.user.email!==E&&(0,je.jsx)(We,{children:"\uc544\uc9c1 \uc815\uae30\ubaa8\uc784\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}),0===Y.meeting.length&&V.userData.user.email===E&&(0,je.jsx)(Pt,{container:!0,spacing:2,children:(0,je.jsx)(Pt,{item:!0,xs:12,sx:{marginBottom:"30px"},children:(0,je.jsx)(Qo,{elevation:5,sx:{padding:"16px",display:"flex",borderRadius:"20px"},children:(0,je.jsxs)(Pt,{container:!0,spacing:1,children:[(0,je.jsx)(Pt,{item:!0,xs:12,sx:{fontWeight:600,fontSize:"18px"},children:"\uc544\uc9c1 \uc815\ubaa8\uac00 \uc5c6\uc5b4\uc694!"}),(0,je.jsx)(Pt,{item:!0,xs:12,sx:{marginBottom:"35px"},children:"\uc815\ubaa8\ub97c \ub9cc\ub4e4\uc5b4\ubcf4\uc138\uc694"}),(0,je.jsx)(Pt,{item:!0,xs:12,children:(0,je.jsx)(um,{variant:"contained",onClick:N,sx:{width:"100%",fontSize:"18px",borderRadius:"15px",backgroundColor:"#DBC7B5"},children:"\uc815\ubaa8 \ub9cc\ub4e4\uae30"})})]})})})}),Y.meeting.map(((e,t)=>{var n,r,i,o,s;return(0,je.jsx)(Pt,{container:!0,spacing:1,children:(0,je.jsx)(Pt,{item:!0,xs:12,sx:{height:"250px",marginBottom:"30px"},children:(0,je.jsxs)(Qo,{elevation:2,sx:{padding:"16px",display:"flex",borderRadius:"20px"},children:[(0,je.jsx)(Pt,{item:!0,xs:12,sm:12,md:4,children:(0,je.jsx)(We,{sx:{width:"250px",height:"200px",overflow:"hidden",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:(0,je.jsx)("img",{src:"http://localhost:4000/"+(null===Y||void 0===Y||null===(n=Y.meeting[t])||void 0===n?void 0:n.img),alt:"Example222",style:{width:"100%",height:"100%",objectFit:"cover"}})})}),(0,je.jsxs)(Pt,{item:!0,xs:12,sm:12,md:8,children:[(0,je.jsxs)(Pt,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,je.jsx)(um,{onClick:()=>{var e;e=Y.meeting[t]._id,V.userData.user.email?gh.post(`/meetings/join/${e}`).then((e=>{gh.get(`http://localhost:4000/meetings/${l}`).then((e=>{let t=[];for(let n=0;n<e.data.length;n++)e.data[n].joinMember.includes(V.userData.user.email)?t.push(!0):t.push(!1);H([...e.data]),$(t)})),"\ucc38\uc11d \ucde8\uc18c"===e.data.message?(h("\ucc38\uc11d\uc774 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),p()):(h("\ucc38\uc11d\uc774 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4."),p())})).catch((e=>{console.error(e),h("\ucc38\uc11d\uc774 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),p()})):(h("\ub85c\uadf8\uc778 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),p())},variant:U[t]?"outlined":"contained",sx:{borderRadius:"20px",backgroundColor:"#DBC7B5",border:"0px solid",marginRight:"5px"},children:U[t]?"\ucde8\uc18c":"\ucc38\uc11d\ud558\uae30"}),V.userData.user.email===E&&(0,je.jsx)(um,{variant:"outlined",onClick:()=>{(async e=>{await fetch("http://localhost:4000/meetings/delete/"+e),h("\uc815\uae30\ubaa8\uc784\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),p()})(Y.meeting[t]._id)},sx:{borderRadius:"20px",border:"#DBC7B5 1px solid"},children:"\uc0ad\uc81c\ud558\uae30"})]}),(0,je.jsxs)(Ks,{variant:"h5",sx:{fontWeight:"700",fontSize:"22px",color:"#383535"},children:["\uc81c\ubaa9 ",Y.meeting[t].title]}),(0,je.jsxs)(We,{children:["\uc77c\uc2dc ",Y.meeting[t].dateTime]}),(0,je.jsxs)(We,{children:["\uc704\uce58 ",Y.meeting[t].where]}),(0,je.jsxs)(We,{children:["\ube44\uc6a9 ",Y.meeting[t].cost]}),(0,je.jsxs)(We,{sx:{display:"inline-flex",alignItems:"center",margin:"10px 0px"},children:[(0,je.jsx)(Dp,{max:4,children:null===(r=W[t])||void 0===r?void 0:r.joinMemberInfo.map(((e,t)=>(0,je.jsx)(Sp,{alt:e.img,src:e.thumbnailImage,sx:{width:32,height:32}},t)))}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",marginLeft:"8px"},children:[(0,je.jsx)(Up.A,{sx:{fontSize:"18px"}}),(0,je.jsx)("span",{style:{marginLeft:"5px"},children:(0,je.jsxs)(je.Fragment,{children:[null===(i=W[t])||void 0===i||null===(o=i.joinMember)||void 0===o?void 0:o.length,"/",null===(s=W[t])||void 0===s?void 0:s.totalCount]})})]})]})]})]})})},t)})),0!==Y.meeting.length&&V.userData.user.email===E&&(0,je.jsx)(Pt,{item:!0,xs:12,children:(0,je.jsx)(um,{variant:"contained",onClick:N,sx:{width:"100%",fontSize:"18px",borderRadius:"15px",backgroundColor:"#DBC7B5"},children:"\uc815\ubaa8 \ub9cc\ub4e4\uae30"})}),(0,je.jsx)(Ks,{sx:{fontSize:"14px",color:"#1c8a6a",fontFamily:"Pretendard",letterSpacing:"-.1rem",marginTop:"20px"},children:"\uac00\uc785 \uba64\ubc84"}),(0,je.jsx)(Ks,{sx:{fontSize:"18px",fontWeight:"600",color:"#242424",fontFamily:"Pretendard",letterSpacing:"-.1rem",marginBottom:"20px"},children:"\ud568\uaed8 \uc18c\ud1b5\ud558\uba70 \ud65c\ub3d9\ud558\uace0 \uc788\uc5b4\uc694"}),(0,je.jsxs)(Pt,{container:!0,spacing:2,children:[(0,je.jsx)(Pt,{item:!0,xs:1,children:(0,je.jsx)(Sp,{sx:{width:50,height:50},src:Y.clubmembers[0].thumbnailImage||""})}),(0,je.jsxs)(Pt,{item:!0,xs:11,children:[(0,je.jsx)(Pt,{item:!0,xs:12,children:(0,je.jsx)(Ks,{sx:{margin:"5px",fontWeight:"600",letterSpacing:"-.1rem"},children:Y.adminNickName})}),(0,je.jsx)(Pt,{item:!0,xs:12,children:"\uc0c8\ub85c\uc6b4 \ubaa9\ud45c\ub97c \uac19\uc774 \ub2ec\uc131\ud574\ubcf4\uace0 \uc2f6\uc5b4\uc694. \uc11c\ub85c\uc758 \uace0\ubbfc\uc774\ub098 \uc0dd\uac01\uc744 \ub098\ub204\uba70 \ud568\uaed8 \uc131\uc7a5\ud574\ubcf4\uace0 \uc2f6\uc5b4\uc694"})]})]}),(0,je.jsx)("hr",{}),(0,je.jsxs)(We,{sx:{fontSize:"18px",fontWeight:"600"},children:["\ubaa8\uc784 \uba64\ubc84 (",Y.members.length,")"]}),(0,je.jsxs)(Pt,{item:!0,xs:12,sx:{height:x?"auto":"200px",overflow:"hidden",borderRadius:"20px",transition:"height 0.3s ease",position:"relative",backgroundColor:"#f2f2f2"},children:[Y.clubmembers&&Y.clubmembers.map(((e,t)=>{var n,r;return(0,je.jsxs)(Pt,{container:!0,sx:{cursor:"pointer",padding:"5px"},children:[(0,je.jsx)(Pt,{item:!0,xs:1,children:(0,je.jsx)(Sp,{sx:{width:50,height:50},src:(null===e||void 0===e?void 0:e.thumbnailImage)||""})}),(0,je.jsx)(Pt,{item:!0,xs:4,sx:{marginTop:"8px"},children:(0,je.jsx)(Ks,{variant:"h6",children:e.name})}),(V.userData.user.email===E||(null===Y||void 0===Y||null===(n=Y.manager)||void 0===n?void 0:n.includes(V.userData.user.email)))&&0===t&&(0,je.jsx)(Pt,{item:!0,xs:7,sx:{marginTop:"8px",display:"flex",justifyContent:"flex-end"},children:(0,je.jsx)(um,{variant:"contained",onClick:te,sx:{color:"white",backgroundColor:"#DBC7B5",marginRight:"10px",borderRadius:"10px"},children:"\uba64\ubc84 \uad00\ub9ac"})}),!(V.userData.user.email===E||null!==Y&&void 0!==Y&&null!==(r=Y.manager)&&void 0!==r&&r.includes(V.userData.user.email))&&0===t&&(0,je.jsx)(Pt,{item:!0,xs:7,sx:{marginTop:"8px",display:"flex",justifyContent:"flex-end"},children:(0,je.jsx)(um,{variant:"contained",sx:{color:"white",backgroundColor:"#DBC7B5",marginRight:"10px",borderRadius:"10px"},children:"1:1 \ubb38\uc758\ud558\uae30"})})]},t)})),(null===Y||void 0===Y||null===(r=Y.clubmembers)||void 0===r?void 0:r.length)>3&&(0,je.jsx)(um,{onClick:C,sx:{position:"absolute",bottom:"10px",right:"10px",backgroundColor:"#DBC7B5",color:"white",borderRadius:"10px"},children:x?"\uba64\ubc84 \uc228\uae30\uae30":"\uba64\ubc84 \uc804\ubd80\ubcf4\uae30"})]}),(0,je.jsxs)(We,{sx:{fontSize:"18px",fontWeight:"600",mt:2},children:["\ucc1c\ud558\uae30 \ud55c \uc0ac\ub78c\ub4e4 (",Y.wishHeart.length,")"]}),E===V.userData.user.email&&(0,je.jsxs)(Pt,{item:!0,xs:12,sx:{height:x?"auto":"200px",overflow:"hidden",borderRadius:"20px",transition:"height 0.3s ease",position:"relative",backgroundColor:"#f2f2f2"},children:[Y.wishmembers&&Y.wishmembers.map(((e,t)=>{var n,r;return(0,je.jsxs)(Pt,{container:!0,sx:{cursor:"pointer",padding:"5px"},children:[(0,je.jsx)(Pt,{item:!0,xs:1,children:(0,je.jsx)(Sp,{sx:{width:50,height:50},src:(null===e||void 0===e?void 0:e.thumbnailImage)||""})}),(0,je.jsx)(Pt,{item:!0,xs:4,sx:{marginTop:"8px"},children:(0,je.jsx)(Ks,{variant:"h6",children:e.name})}),(0,je.jsxs)(Pt,{item:!0,xs:7,sx:{marginTop:"8px",display:"flex",justifyContent:"flex-end"},children:[!(null!==k&&void 0!==k&&null!==(n=k.clubs)&&void 0!==n&&n.members.includes(e.email))&&!e.invite.includes(null===k||void 0===k||null===(r=k.clubs)||void 0===r?void 0:r._id)&&(0,je.jsx)(Pt,{item:!0,xs:3,sx:{marginTop:"8px"},children:(0,je.jsx)(hm,{variant:"contained",onClick:()=>(async e=>{try{const t=await gh.post(`/clubs/invite/${l}`,{email:e});if(200===t.status){alert("\ucd08\ub300\ub97c \ud588\uc2b5\ub2c8\ub2e4.");const t={club:l,recipient:e,sender:k.clubs.title,content:`${k.clubs.title}\uc5d0\uc11c \ubaa8\uc784\uc5d0 \ucd08\ub300\ud569\ub2c8\ub2e4.`,title:"\ubaa8\uc784 \ucd08\ub300"};y(_h(t)).then((()=>{console.log("\uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc131\uacf5")})),re.invalidateQueries(["readClub",l,m,v])}else console.error("\ucd08\ub300 \uc804\uc1a1 \uc2e4\ud328:",t.statusText),alert("\ucd08\ub300 \uc2e4\ud328: "+t.statusText)}catch(G){console.error("Error inviting to the club:",G),alert("\ucd08\ub300 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}})(e.email),sx:{color:"white",marginRight:"2px",borderRadius:"10px"},children:"\ucd08\ub300\ud558\uae30"})}),V.userData.user.email===E&&0===t&&(0,je.jsx)(Pt,{item:!0,xs:4,sx:{marginTop:"8px",display:"flex",justifyContent:"flex-end"},children:(0,je.jsx)(um,{variant:"contained",onClick:ne,sx:{color:"white",backgroundColor:"#DBC7B5",marginRight:"10px",borderRadius:"10px"},children:"\uba64\ubc84 \uad00\ub9ac"})}),!(V.userData.user.email===E)&&0===t&&(0,je.jsx)(Pt,{item:!0,xs:7,sx:{marginTop:"8px",display:"flex",justifyContent:"flex-end"},children:(0,je.jsx)(um,{variant:"contained",sx:{color:"white",backgroundColor:"#DBC7B5",marginRight:"10px",borderRadius:"10px"},children:"1:1 \ubb38\uc758\ud558\uae30"})})]})]},t)})),(null===Y||void 0===Y||null===(o=Y.clubmembers)||void 0===o?void 0:o.length)>3&&(0,je.jsx)(um,{onClick:C,sx:{position:"absolute",bottom:"10px",right:"10px",backgroundColor:"#DBC7B5",color:"white",borderRadius:"10px"},children:x?"\uba64\ubc84 \uc228\uae30\uae30":"\uba64\ubc84 \uc804\ubd80\ubcf4\uae30"})]}),(0,je.jsx)(Ks,{sx:{fontSize:"14px",color:"#1c8a6a",fontFamily:"Pretendard",letterSpacing:"-.1rem",marginTop:"20px"},children:"\uc548\ub0b4 \uc0ac\ud56d"}),(0,je.jsx)(Ks,{sx:{fontSize:"18px",fontWeight:"600",color:"#242424",fontFamily:"Pretendard",letterSpacing:"-.1rem",marginBottom:"20px"},children:"\uc790\uc138\ud55c \uc815\ubcf4\ub97c \uc54c\ub824\ub4dc\ub9b4\uac8c\uc694"}),(0,je.jsxs)(Pt,{container:!0,spacing:2,children:[(0,je.jsxs)(Pt,{item:!0,xs:12,children:[(0,je.jsx)(Hp.A,{})," ",Y.maxMember,"\uba85"]}),(0,je.jsxs)(Pt,{item:!0,xs:12,children:[(0,je.jsx)(Wp.A,{})," ",Y.region.neighborhood]})]}),(0,je.jsx)(Ks,{sx:{fontSize:"14px",color:"#1c8a6a",fontFamily:"Pretendard",letterSpacing:"-.1rem",marginTop:"20px"},children:"\ube44\uc2b7\ud55c \ud074\ub7fd"}),(0,je.jsx)(Ks,{sx:{fontSize:"18px",fontWeight:"600",color:"#242424",fontFamily:"Pretendard",letterSpacing:"-.1rem",marginBottom:"20px"},children:"\uc774\ub7f0 \ud074\ub7fd\uc740 \uc5b4\ub54c\uc694"}),F.length>1?(0,je.jsx)(EI,{clubList:F}):(0,je.jsx)(We,{sx:{height:"200px",alignItems:"center"},children:" \uac19\uc740 \uce74\ud14c\uace0\ub9ac \uad00\ub828 \ud074\ub7fd\uc774 \uc801\uc2b5\ub2c8\ub2e4 "})]}),m&&(0,je.jsx)(DI,{clubNumber:l,members:Y.clubmembers,open:m,onClose:()=>{g(!1)}}),v&&(0,je.jsx)(DI,{clubNumber:l,members:Y.wishmembers,open:v,onClose:()=>{b(!1)}})]}),(0,je.jsx)(Vp,{open:c,autoHideDuration:1e3,onClose:(e,t)=>{"clickaway"!==t&&u(!1)},anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,je.jsx)(f,{message:d})})]})},eM=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],tM=(0,ft.Ay)(qi,{shouldForwardProp:e=>(0,ds.A)(e)||"classes"===e,name:"MuiListItemButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${JS.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Nt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${JS.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Nt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${JS.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Nt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Nt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${JS.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${JS.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},"flex-start"===n.alignItems&&{alignItems:"flex-start"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.dense&&{paddingTop:4,paddingBottom:4})})),nM=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiListItemButton"}),{alignItems:r="center",autoFocus:o=!1,component:s="div",children:a,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:h=!1,className:f}=n,p=(0,Ce.A)(n,eM),m=i.useContext(no),g=i.useMemo((()=>({dense:l||m.dense||!1,alignItems:r,disableGutters:c})),[r,m.dense,l,c]),v=i.useRef(null);(0,co.A)((()=>{o&&v.current&&v.current.focus()}),[o]);const b=(0,_e.A)({},n,{alignItems:r,dense:g.dense,disableGutters:c,divider:u,selected:h}),y=(e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=e,l={root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled","flex-start"===t&&"alignItemsFlexStart",a&&"selected"]},c=(0,Ue.A)(l,QS,n);return(0,_e.A)({},n,c)})(b),w=(0,ln.A)(v,t);return(0,je.jsx)(no.Provider,{value:g,children:(0,je.jsx)(tM,(0,_e.A)({ref:w,href:p.href||p.to,component:(p.href||p.to)&&"div"===s?"button":s,focusVisibleClassName:(0,ke.A)(y.focusVisible,d),ownerState:b,className:(0,ke.A)(y.root,f)},p,{classes:y,children:a}))})})),rM=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],iM=(0,ft.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Ss.primary}`]:t.primary},{[`& .${Ss.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),oM=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiListItemText"}),{children:r,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=n,h=(0,Ce.A)(n,rM),{dense:f}=i.useContext(no);let p=null!=l?l:r,m=u;const g=(0,_e.A)({},n,{disableTypography:s,inset:a,primary:!!p,secondary:!!m,dense:f}),v=(e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e,s={root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,Ue.A)(s,ks,t)})(g);return null==p||p.type===Ks||s||(p=(0,je.jsx)(Ks,(0,_e.A)({variant:f?"body2":"body1",className:v.primary,component:null!=c&&c.variant?void 0:"span",display:"block"},c,{children:p}))),null==m||m.type===Ks||s||(m=(0,je.jsx)(Ks,(0,_e.A)({variant:"body2",className:v.secondary,color:"text.secondary",display:"block"},d,{children:m}))),(0,je.jsxs)(iM,(0,_e.A)({className:(0,ke.A)(v.root,o),ownerState:g,ref:t},h,{children:[p,m]}))})),sM={"& .MuiOutlinedInput-root":{"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#A67153"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#A6836F"}},"& .MuiInputLabel-root.Mui-focused":{color:"#A6836F"}},aM=e=>{let{setSelectedSido:t,setSelectedSigoon:n,setSelectedDong:r,initialSido:o,initialSigoon:s,initialDong:a}=e;const[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)([]),[h,f]=(0,i.useState)(!1),p="286E5CAE-A8D1-3D02-AB4E-2DF927614303",m="localhost:3000";(0,i.useEffect)((()=>{if(!h&&o&&s&&a){c(`${o} ${s} ${a}`),f(!0)}}),[o,s,a,h]),(0,i.useEffect)((()=>{(async()=>{if(l)try{const e=await fetch(`/api/req/data?service=data&request=GetFeature&data=LT_C_ADEMD_INFO&key=${p}&domain=${m}&attrFilter=emd_kor_nm:like:${l}`),t=await e.json();t.response&&"OK"===t.response.status&&t.response.result&&t.response.result.featureCollection.features?d(t.response.result.featureCollection.features.map((e=>e.properties))):(d([]),console.error("Invalid API response:",t))}catch(e){d([]),console.error("Error fetching data:",e)}else d([])})()}),[l,p,m]);const g=e=>{const[i,o,s]=e.full_nm.split(" ");t(i),n(o),r(s),d([]),c(e.full_nm)};return(0,je.jsxs)("div",{children:[(0,je.jsx)(Mv,{fullWidth:!0,variant:"outlined",value:l,onChange:e=>{c(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),u.length>0&&g(u[0]))},placeholder:"*\ub3d9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",margin:"normal",sx:{...sM}}),(0,je.jsx)(so,{children:u.map(((e,t)=>(0,je.jsx)(cA,{disablePadding:!0,children:(0,je.jsx)(nM,{onClick:()=>g(e),children:(0,je.jsx)(oM,{primary:e.full_nm})})},t)))})]})},lM=e=>{let{open:t,onClose:n,onCategorySelect:r}=e;const i={fontSize:"1.8rem",width:"70px",height:"70px",margin:"15px 0px 10px 0px"},o=e=>{const t=e.currentTarget.getAttribute("aria-label");console.log(`Selected category: ${t}`),r(t),n()};return(0,je.jsx)(We,{children:(0,je.jsx)(Go,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,je.jsxs)(We,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:430,width:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[(0,je.jsx)(Ks,{id:"modal-modal-title",variant:"h5",component:"h2",sx:{textAlign:"center"},children:"\uad00\uc2ec\uc0ac \uc120\ud0dd"}),(0,je.jsx)("hr",{}),(0,je.jsxs)(Pt,{container:!0,spacing:2,children:[(0,je.jsx)(Pt,{item:!0,xs:3,container:!0,justifyContent:"center",alignItems:"center",children:(0,je.jsx)(dp,{"aria-label":"\ubb38\ud654\xb7\uc608\uc220",onClick:o,sx:i,style:{color:"green"},children:(0,je.jsx)(fm.A,{})})}),(0,je.jsx)(Pt,{item:!0,xs:3,container:!0,justifyContent:"center",alignItems:"center",children:(0,je.jsx)(dp,{"aria-label":"\uc561\ud2f0\ube44\ud2f0",onClick:o,sx:i,style:{color:"blue"},children:(0,je.jsx)(pm.A,{})})}),(0,je.jsx)(Pt,{item:!0,xs:3,container:!0,justifyContent:"center",alignItems:"center",children:(0,je.jsx)(dp,{"aria-label":"\ud478\ub4dc\xb7\ub4dc\ub9c1\ud06c",onClick:o,sx:i,style:{color:"#B2561A"},children:(0,je.jsx)(mm.A,{})})}),(0,je.jsx)(Pt,{item:!0,xs:3,container:!0,justifyContent:"center",alignItems:"center",children:(0,je.jsx)(dp,{"aria-label":"\ucde8\ubbf8",onClick:o,sx:i,style:{color:"yellow"},children:(0,je.jsx)(gm.A,{})})})]}),(0,je.jsxs)(Pt,{container:!0,spacing:2,children:[(0,je.jsx)(Pt,{item:!0,xs:3,sx:{margin:"0px 30px 0px 0xp"},children:(0,je.jsx)(Ks,{sx:{textAlign:"center"},children:"\ubb38\ud654\xb7\uc608\uc220"})}),(0,je.jsx)(Pt,{item:!0,xs:3,children:(0,je.jsx)(Ks,{sx:{textAlign:"center"},children:"\uc561\ud2f0\ube44\ud2f0"})}),(0,je.jsx)(Pt,{item:!0,xs:3,children:(0,je.jsx)(Ks,{sx:{textAlign:"center"},children:"\ud478\ub4dc\xb7\ub4dc\ub9c1\ud06c"})}),(0,je.jsx)(Pt,{item:!0,xs:3,children:(0,je.jsx)(Ks,{sx:{textAlign:"center"},children:"\ucde8\ubbf8"})})]}),(0,je.jsxs)(Pt,{container:!0,spacing:2,children:[(0,je.jsx)(Pt,{item:!0,xs:3,container:!0,justifyContent:"center",alignItems:"center",children:(0,je.jsx)(dp,{"aria-label":"\uc5ec\ud589\xb7\ub3d9\ud589",onClick:o,sx:i,style:{color:"skyblue"},children:(0,je.jsx)(vm.A,{})})}),(0,je.jsx)(Pt,{item:!0,xs:3,container:!0,justifyContent:"center",alignItems:"center",children:(0,je.jsx)(dp,{"aria-label":"\uc790\uae30\uacc4\ubc1c",onClick:o,sx:i,style:{color:"brown"},children:(0,je.jsx)(bm.A,{})})}),(0,je.jsx)(Pt,{item:!0,xs:3,container:!0,justifyContent:"center",alignItems:"center",children:(0,je.jsx)(dp,{"aria-label":"\ub3d9\ub124\xb7\ub610\ub798",onClick:o,sx:i,style:{color:"#D6B095"},children:(0,je.jsx)(ym.A,{})})}),(0,je.jsx)(Pt,{item:!0,xs:3,container:!0,justifyContent:"center",alignItems:"center",children:(0,je.jsx)(dp,{"aria-label":"\ud30c\ud2f0\xb7\uac8c\uc784",onClick:o,sx:i,style:{color:"#B855B9"},children:(0,je.jsx)(wm.A,{})})})]}),(0,je.jsxs)(Pt,{container:!0,spacing:2,children:[(0,je.jsx)(Pt,{item:!0,xs:3,sx:{margin:"0px 30px 0px 0xp"},children:(0,je.jsx)(Ks,{sx:{textAlign:"center"},children:"\uc5ec\ud589\xb7\ub3d9\ud589"})}),(0,je.jsx)(Pt,{item:!0,xs:3,children:(0,je.jsx)(Ks,{sx:{textAlign:"center"},children:"\uc790\uae30\uacc4\ubc1c"})}),(0,je.jsx)(Pt,{item:!0,xs:3,children:(0,je.jsx)(Ks,{sx:{textAlign:"center"},children:"\ub3d9\ub124/\ub610\ub798"})}),(0,je.jsx)(Pt,{item:!0,xs:3,children:(0,je.jsx)(Ks,{sx:{textAlign:"center"},children:"\ud30c\ud2f0\xb7\uac8c\uc784"})})]}),(0,je.jsxs)(Pt,{container:!0,spacing:2,children:[(0,je.jsx)(Pt,{item:!0,xs:3,container:!0,justifyContent:"center",alignItems:"center",children:(0,je.jsx)(dp,{"aria-label":"\uc7ac\ud14c\ud06c",onClick:o,sx:i,style:{color:"#F47378"},children:(0,je.jsx)(xm.A,{})})}),(0,je.jsx)(Pt,{item:!0,xs:3,container:!0,justifyContent:"center",alignItems:"center",children:(0,je.jsx)(dp,{"aria-label":"\uc678\uad6d\uc5b4",onClick:o,sx:i,children:(0,je.jsx)(_m.A,{})})}),(0,je.jsx)(Pt,{item:!0,xs:3,container:!0,justifyContent:"center",alignItems:"center",children:(0,je.jsx)(dp,{"aria-label":"\uc5f0\uc560\xb7\uc0ac\ub791",onClick:o,sx:i,style:{color:"red"},children:(0,je.jsx)(Cm.A,{})})})]}),(0,je.jsxs)(Pt,{container:!0,spacing:2,children:[(0,je.jsx)(Pt,{item:!0,xs:3,sx:{margin:"0px 30px 0px 0xp"},children:(0,je.jsx)(Ks,{sx:{textAlign:"center"},children:"\uc7ac\ud14c\ud06c"})}),(0,je.jsx)(Pt,{item:!0,xs:3,children:(0,je.jsx)(Ks,{sx:{textAlign:"center"},children:"\uc678\uad6d\uc5b4"})}),(0,je.jsx)(Pt,{item:!0,xs:3,children:(0,je.jsx)(Ks,{sx:{textAlign:"center"},children:"\uc5f0\uc560\xb7\uc0ac\ub791"})})]})]})})})},cM={"\ud478\ub4dc\xb7\ub4dc\ub9c1\ud06c":["\ub9db\uc9d1\ud22c\uc5b4","\uce74\ud398","\uc640\uc778","\uc694\ub9ac","\ubca0\uc774\ud0b9","\uc704\uc2a4\ud0a4","\uce75\ud14c\uc77c","\ub514\uc800\ud2b8","\ub9e5\uc8fc","\ucee4\ud53c","\uc804\ud1b5\uc8fc","\ud30c\uc778\ub2e4\uc774\ub2dd","\ud398\uc5b4\ub9c1","\ube44\uac74","\ud2f0\ub8f8"],"\uc790\uae30\uacc4\ubc1c":["\ub3c5\uc11c","\uc2a4\ud130\ub514","\ub300\ud654","\ube0c\ub79c\ub529","\ucee4\ub9ac\uc5b4","\uc2a4\ud53c\uce58","\ucc3d\uc791","\uc0ac\uc774\ub4dc\ud504\ub85c\uc81d\ud2b8"],"\ucde8\ubbf8":["\uacf5\uc608","\ub4dc\ub85c\uc789","\uc0ac\uc9c4","\uae00\uc4f0\uae30","\ub304\uc2a4","\ub178\ub798","\uc74c\uc545\uac10\uc0c1","\ubd09\uc0ac\ud65c\ub3d9","\uc545\uae30\uc5f0\uc8fc","\ud5a5\uc218","\uba85\uc0c1","\ub9cc\ud654","\uc2a4\ud0c0\uc77c\ub9c1","\ubdf0\ud2f0","\ubc18\ub824\ub3d9\ubb3c","\uce98\ub9ac\uadf8\ub77c\ud53c","\uc1fc\ud551"],"\uc561\ud2f0\ube44\ud2f0":["\ub4f1\uc0b0","\uc2a4\ud3ec\uce20\uad00\ub78c","\uc0b0\ucc45","\uc57c\uad6c","\ud074\ub77c\uc774\ubc0d","\ub7ec\ub2dd","\uc694\uac00","\ubcfc\ub9c1","\ub2e4\uc774\uc5b4\ud2b8","\ubc30\ub4dc\ubbfc\ud134","\ud5ec\uc2a4","\uc11c\ud551","\ub2e4\uc774\ube59","\uc218\uc601","\ub18d\uad6c","\ud48b\uc0b4","\ucd95\uad6c","\uc790\uc804\uac70","\uc2a4\ucf00\uc774\ud2b8\ubcf4\ub4dc","\uc2a4\ud0a4/\ubcf4\ub4dc","\ud544\ub77c\ud14c\uc2a4","\uace8\ud504","\ud14c\ub2c8\uc2a4"],"\ud30c\ud2f0":["\ucee8\uc149\ud30c\ud2f0","\ud3ec\ud2c0\ub7ed\ud30c\ud2f0","\ud478\ub4dc\ud30c\ud2f0","\uc640\uc778\ud30c\ud2f0","\ud648\ud30c\ud2f0","\ub0b4\ud5a5\uc778\ud30c\ud2f0","\ubba4\uc9c1\ud30c\ud2f0","\uc0dd\uc77c\ud30c\ud2f0"],"\uc18c\uc15c\uac8c\uc784":["\ubcf4\ub4dc\uac8c\uc784","\ucd94\ub9ac\uac8c\uc784","\ucee8\uc149\uac8c\uc784","\ubc29\ud0c8\ucd9c","\uc628\ub77c\uc778\uac8c\uc784","\uc561\ud305\uac8c\uc784","\uc6b4\ub3d9\ud68c"],"\ubb38\ud654\xb7\uc608\uc220":["\uc804\uc2dc","\uc601\ud654","\ud398\uc2a4\ud2f0\ubc8c","\uc5f0\uadf9","\ucf58\uc11c\ud2b8","\ubba4\uc9c0\uceec","\ud31d\uc5c5","\uacf5\uc5f0","\uc5f0\uc8fc\ud68c"],"N\uc7a1\xb7\uc7ac\ud14c\ud06c":["\ubd80\ub3d9\uc0b0","N\uc7a1","\ucc3d\uc5c5","\ud22c\uc790/\uae08\uc735","\uacbd\uc81c","SNS","\ube14\ub85c\uadf8","\ubaa8\uc784\uc0ac\uc5c5","\uc8fc\uc2dd","\uc804\uc790\ucc45"],"\uc5f0\uc560\xb7\uc0ac\ub791":["\ub85c\ud14c\uc774\uc158\uc18c\uac1c\ud305","\ucf58\ud150\uce20\uc18c\uac1c\ud305","\uc5f0\uc560\ud0d0\uad6c\uc0dd\ud65c","\ucee8\uc149\uc18c\uac1c\ud305","\uc640\uc778\ubbf8\ud305","\ub300\ud654\ud615\uc18c\uac1c\ud305"],"\uc5ec\ud589\xb7\ub098\ub4e4\uc774":["\uad6d\ub0b4\uc5ec\ud589","\ud574\uc678\uc5ec\ud589","\ucea0\ud551","\ub180\uc774\uacf5\uc6d0","\ub4dc\ub77c\uc774\ube0c","\ud53c\ud06c\ub2c9","\ubcf5\ud569\ubb38\ud654\uacf5\uac04"],"\ub3d9\ub124\xb7\ub610\ub798":["\ub3d9\ub124\uce5c\uad6c","\ub610\ub798\uce5c\uad6c","\ucde8\ud5a5\uce5c\uad6c"],"\uc678\uad6d\uc5b4":["\uc601\uc5b4","\uc5b8\uc5b4\uad50\ud658","\uc77c\ubcf8\uc5b4","\uc911\uad6d\uc5b4"]},uM=e=>{let{open:t,onClose:n,onSubCategorySelect:r,mainCategory:o}=e;const[s,a]=(0,i.useState)(cM),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)([]),h={fontSize:"1rem",width:"100px",height:"50px",margin:"15px 0px 10px 0px",borderRadius:"8px",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.3)"};(0,i.useEffect)((()=>{d([])}),[t]);const f=e=>{const t=e.currentTarget.getAttribute("aria-label");var n;n=t,d((e=>e.includes(n)?e.filter((e=>e!==n)):e.length<2?[...e,n]:e))};return(0,i.useEffect)((()=>{o&&s[o]&&c(s[o])}),[o,s]),(0,je.jsx)(We,{children:(0,je.jsx)(Go,{open:t,onClose:()=>{console.log("Modal closed"),n()},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,je.jsxs)(We,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:630,width:800,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[(0,je.jsx)(Ks,{id:"modal-modal-title",variant:"h5",component:"h2",sx:{textAlign:"center"},children:"\uad00\uc2ec\uc0ac \uc120\ud0dd"}),(0,je.jsx)("br",{}),(0,je.jsx)("hr",{}),(0,je.jsx)(Pt,{container:!0,spacing:2,children:l.map(((e,t)=>(0,je.jsx)(Pt,{item:!0,xs:2,container:!0,justifyContent:"center",alignItems:"center",children:(0,je.jsx)(la,{"aria-label":e,onClick:f,sx:h,style:{color:u.includes(e)?"white":"green",backgroundColor:u.includes(e)?"green":"transparent"},children:e})},t)))}),(0,je.jsx)(We,{sx:{textAlign:"center",mt:2},children:(0,je.jsx)(la,{variant:"contained",color:"primary",onClick:()=>{console.log("Button clicked!"),console.log(u),r(u),n()},disabled:0===u.length,children:"\uc120\ud0dd \uc644\ub8cc"})})]})})})},dM={position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:11e3},hM={background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",width:"1200px",height:"600px",overflow:"hidden",position:"relative"},fM={position:"absolute",top:"10px",right:"10px",background:"white",color:"black",border:"black solid 1px",borderRadius:"10px",cursor:"pointer",width:"20px",height:"30px",zIndex:11001},pM={position:"absolute",bottom:"10px",right:"10px",background:"white",color:"black",border:"black solid 1px",borderRadius:"10px",cursor:"pointer",zIndex:11001},mM=e=>{let{src:t,onCropComplete:n,onClose:r}=e;const[o,s]=(0,i.useState)({unit:"px",width:852,height:478.5,aspect:16/9}),[a,l]=(0,i.useState)(null),c=e=>{s(e)};return(0,je.jsx)("div",{style:dM,children:(0,je.jsxs)("div",{style:hM,children:[(0,je.jsx)(la,{onClick:r,variant:"outlined",style:fM,children:"X"}),(0,je.jsx)(gI,{crop:o,onChange:c,onComplete:c,style:{width:"100%",height:"100%"},locked:!0,children:(0,je.jsx)("img",{src:t,alt:"Source",onLoad:e=>{l(e.target)},style:{width:"100%",height:"100%",overflow:"hidden",objectFit:"contain",maxWidth:"100%",maxHeight:"100%"}})}),(0,je.jsx)(la,{onClick:()=>{if(a&&o.width&&o.height){const e=document.createElement("canvas"),t=a.naturalWidth/a.width,r=a.naturalHeight/a.height;e.width=o.width,e.height=o.height;e.getContext("2d").drawImage(a,o.x*t,o.y*r,o.width*t,o.height*r,0,0,o.width,o.height),e.toBlob((e=>{const t=URL.createObjectURL(e);n(t)}),"image/jpeg")}else console.error("\uc774\ubbf8\uc9c0 \ub610\ub294 \ud06c\ub86d \uc0c1\ud0dc\uac00 \uc720\ud6a8\ud558\uc9c0 \uc54a\uc74c")},style:pM,children:"\uc644\ub8cc"})]})})},gM={"& .MuiButton-outlined":{borderColor:"#A67153","&:hover":{borderColor:"#A67153",backgroundColor:"transparent"},"&.Mui-focused":{borderColor:"#A6836F"}},"&.MuiButton-contained":{"&:hover":{backgroundColor:"#A67153",color:"white"}}},vM={"& .MuiOutlinedInput-root":{"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#A67153"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#A6836F"}},"& .MuiInputLabel-root.Mui-focused":{color:"#A6836F"},"& .MuiInputBase-input::placeholder":{color:"#A6836F"}},bM=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(""),o=st(op)((e=>{let{theme:t}=e;return{backgroundColor:"white",color:"#A6836F",borderRadius:"20px",width:"250px",height:"50px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",opacity:1,transition:"opacity 0.5s ease-in-out"}})),[s,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)(""),u=()=>{a(!0)},d=()=>a(!1),[h,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)([]),g=()=>f(!0),v=()=>f(!1),b=ee(),{register:y,handleSubmit:w,setValue:x,reset:_}=wy({defaultValues:{mainCategory:"",subCategory:"",maxMember:10,title:"",subTitle:"",content:""},mode:"onChange"});const[C,k]=(0,i.useState)(null),[S,A]=(0,i.useState)(!1),[T,I]=(0,i.useState)(""),[M,E]=(0,i.useState)({sido:"",sigoon:"",dong:""});(0,i.useEffect)((()=>{x("region.city",M.sido),x("region.district",M.sigoon),x("region.neighborhood",M.dong)}),[M,x]);return(0,je.jsxs)(We,{component:"form",onSubmit:w((async e=>{const n=function(e,t){return new File([e],t,{type:e.type})}(await async function(e){const t=await fetch(e);return await t.blob()}(C),T),i=new FormData;if(i.append("mainCategory",e.mainCategory),i.append("subCategory",p),i.append("title",e.title),i.append("subTitle",e.subTitle),i.append("content",e.content),i.append("maxMember",e.maxMember),i.append("region.city",M.sido),i.append("region.district",M.sigoon),i.append("region.neighborhood",M.dong),C)i.append("img",n);else if(!C)return r("\ub300\ud45c \uc0ac\uc9c4\uc744 \ub4f1\ub85d\ud574\uc8fc\uc138\uc694"),void t(!0);try{await gh.post("/clubs/create",i,{headers:{"Content-Type":"multipart/form-data"}});b("/clubList",{state:{snackbarMessage:"\ubaa8\uc784\uc0dd\uc131 \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4."}})}catch(o){console.error(o),b("/clubList",{state:{snackbarMessage:"\ubaa8\uc784\uc0dd\uc131 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."}})}})),children:[(0,je.jsxs)(gt,{maxWidth:"lg",sx:{paddingBottom:"20px",marginTop:"20px",marginBottom:"30px",boxShadow:5,borderRadius:"20px",backgroundColor:"white"},children:[(0,je.jsx)(Ks,{variant:"h6",sx:{textAlign:"center",fontWeight:"600",padding:"10px",marginTop:"10px"},children:"\ubaa8\uc784\uac1c\uc124"}),(0,je.jsxs)(Pt,{container:!0,spacing:1,sx:{alignItems:"center"},children:[(0,je.jsx)(Pt,{item:!0,xs:3,sx:{padding:"0px"},children:(0,je.jsx)(Ks,{sx:{fontWeight:"600",padding:"0px"},children:"\uc9c0\uc5ed"})}),(0,je.jsx)(Pt,{item:!0,xs:9,children:(0,je.jsx)(aM,{setSelectedSido:e=>E((t=>({...t,sido:e}))),setSelectedSigoon:e=>E((t=>({...t,sigoon:e}))),setSelectedDong:e=>E((t=>({...t,dong:e})))})}),(0,je.jsx)(Pt,{item:!0,xs:3,sx:{padding:"0px"},children:(0,je.jsx)(Ks,{sx:{fontWeight:"600",padding:"0px"},children:"\ud070 \uad00\uc2ec\uc0ac"})}),(0,je.jsx)(Pt,{item:!0,xs:9,children:(0,je.jsx)(Mv,{id:"mainCategory",label:"ex ) \ud070 \uad00\uc2ec\uc0ac : \uc6b4\ub3d9,\uc5ec\ud589,\uc0ac\uad50 \ub4f1\ub4f1",placeholder:"\ub20c\ub7ff\uc744 \ub54c \ubaa8\ub2ec\ub744\uc6cc\uc11c \ud070\uad00\uc2ec \uc120\ud0dd \ud6c4 \uc791\uc740\uad00\uc2ec\uc120\ud0dd \ud6c4 \uc790\ub3d9\uae30\uc785\uae4c\uc9c0",sx:{width:"100%",mb:2,...vM},onClick:u,value:l,...y("mainCategory",{required:" \ud544\uc218\uc785\ub825 \uc694\uc18c."})})}),(0,je.jsx)(Pt,{item:!0,xs:3,sx:{padding:"0px"},children:(0,je.jsx)(Ks,{sx:{fontWeight:"600",padding:"0px"},children:"\uc0c1\uc138 \uad00\uc2ec\uc0ac"})}),(0,je.jsx)(Pt,{item:!0,xs:9,children:(0,je.jsx)(Mv,{id:"subCategory",label:"\uc0c1\uc138\uad00\uc2ec\uc0ac : \uc790\uc804\uac70/\uc57c\uad6c/\uc11c\ud551/\uc6e8\uc774\ud06c\ubcf4\ub4dc/\uc694\ud2b8 \ub4f1\ub4f1(\ucd5c\ub3003\uac1c)",sx:{width:"100%",mb:2,...vM},onClick:u,value:p})}),(0,je.jsxs)(Pt,{item:!0,xs:12,children:[(0,je.jsx)("input",{id:"img",type:"file",accept:"image/png, image/gif, image/jpeg",onChange:e=>{const t=e.target.files[0];if(I(t.name),t){const e=new FileReader;e.onloadend=()=>{k(e.result)},e.readAsDataURL(t)}},style:{display:"none"}}),(0,je.jsx)("label",{htmlFor:"img",children:(0,je.jsx)(la,{variant:"contained",component:"span",sx:{width:"100%",color:"white",backgroundColor:"#A6836F",...gM},children:"\uc5ec\uae30\ub97c \ud074\ub9ad\ud574 \ubaa8\uc784 \ub300\ud45c\uc0ac\uc9c4\uc744 \uc124\uc815\ud574\ubcf4\uc138\uc694"})}),!C&&(0,je.jsx)(We,{mt:2,onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault();const t=e.dataTransfer.files[0];if(t){const e=new FileReader;e.onloadend=()=>{k(e.result)},e.readAsDataURL(t)}},sx:{width:"100%",height:"478.5px",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #A6836F"},children:(0,je.jsx)(Ks,{variant:"h6",color:"textSecondary",children:"\uc774\ubbf8\uc9c0 \ubbf8\ub9ac\ubcf4\uae30\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \uc774\ubbf8\uc9c0\ub97c \uc5c5\ub85c\ub4dc\ud558\uc138\uc694."})}),C&&(0,je.jsxs)(We,{mt:2,sx:{width:"100%",height:"478.5px",position:"relative"},children:[(0,je.jsx)("img",{src:C,alt:"\ubbf8\ub9ac\ubcf4\uae30",style:{width:"100%",height:"100%",objectFit:"cover"}}),(0,je.jsx)(_I.A,{sx:{position:"absolute",bottom:8,right:8,color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:"50%",padding:"4px",cursor:"pointer"},onClick:()=>{A(!0)}})]})]}),(0,je.jsx)(Pt,{item:!0,xs:12,children:(0,je.jsx)(Mv,{id:"title",label:"\ubaa8\uc784 \uc774\ub984",sx:{width:"100%",mb:2,...vM},...y("title",{required:" \ud544\uc218\uc785\ub825 \uc694\uc18c."})})}),(0,je.jsx)(Pt,{item:!0,xs:12,children:(0,je.jsx)(Mv,{id:"subTitle",label:"\ubaa8\uc784\uc5d0 \ub300\ud55c \uac04\ub7b5\ud55c \uc124\uba85\uc744 \ub123\uc5b4\ubcf4\uc138\uc694",sx:{width:"100%",mb:2,...vM},...y("subTitle",{required:" \ud544\uc218\uc785\ub825 \uc694\uc18c."})})}),(0,je.jsx)(Pt,{item:!0,xs:12,children:(0,je.jsx)(Mv,{id:"content",label:"\ub0b4\uc6a9 \uc785\ub825",multiline:!0,rows:10,variant:"outlined",sx:{width:"100%",mb:2,...vM},...y("content",{required:" \ud544\uc218\uc785\ub825 \uc694\uc18c."})})}),(0,je.jsx)(Pt,{item:!0,xs:2,children:(0,je.jsx)(Ks,{sx:{fontWeight:"600",...vM},children:"\uc815\uc6d0 (10~300\uba85)"})}),(0,je.jsx)(Pt,{item:!0,xs:3,children:(0,je.jsx)(Mv,{id:"maxMember",label:"\uc22b\uc790\ub9cc \uc785\ub825",inputProps:{type:"number",min:10,max:300},sx:{width:"100%",...vM},...y("maxMember",{required:" \ud544\uc218\uc785\ub825 \uc694\uc18c."})})}),(0,je.jsx)(Pt,{item:!0,xs:12,sx:{marginTop:"20px"},children:(0,je.jsx)(la,{variant:"contained",sx:{width:"100%",color:"white",backgroundColor:"#A6836F",...gM},type:"submit",children:"\ubaa8\uc784 \ub9cc\ub4e4\uae30"})})]}),(0,je.jsx)(km,{open:s,handleCloseModal:d,FadHandleClick:e=>{console.log("category"),console.log(e),console.log("category"),c(e),d(),g()}}),(0,je.jsx)(uM,{open:h,onClose:v,onSubCategorySelect:e=>{console.log(e),console.log(e),m(e),v()},mainCategory:l}),S&&(0,je.jsx)(mM,{src:C,onCropComplete:e=>{k(e),x("img",e),A(!1)},onClose:()=>A(!1)})]}),(0,je.jsx)(Vp,{open:e,autoHideDuration:1e3,onClose:(e,n)=>{"clickaway"!==n&&t(!1)},anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,je.jsx)(o,{message:n})})]})},yM=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(""),o=()=>t(!0),s=()=>t(!1),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),d=()=>l(!0),h=()=>l(!1),f=Q(),p=new URLSearchParams(f.search).get("clubNumber"),[m,g]=(0,i.useState)({}),[v,b]=(0,i.useState)(""),{data:y,error:w,isLoading:x,isError:_}=Jf({queryKey:["readClub"],queryFn:async()=>{const e=await fetch(`http://localhost:4000/clubs/read/${p}`),t=await e.json();return b(t.img),O("img",t.img),g({sido:t.region.city,sigoon:t.region.district,dong:t.region.neighborhood}),r(t.mainCategory),u(t.subCategory),t}});const[C,k]=(0,i.useState)(null),[S,A]=(0,i.useState)(!1),[T,I]=(0,i.useState)(""),M=ee(),{register:E,handleSubmit:P,formState:{errors:D},reset:j,setValue:O}=wy({defaultValues:y,mode:"onChange"});return(0,i.useEffect)((()=>{m.sido&&O("region.city",m.sido),m.sigoon&&O("region.district",m.sigoon),m.dong&&O("region.neighborhood",m.dong)}),[m,O]),x?(0,je.jsx)("div",{children:"Loading..."}):_?(0,je.jsxs)("div",{children:["Error: ",w.message]}):(0,je.jsxs)(We,{component:"form",onSubmit:P((async e=>{const t=new FormData;if(t.append("mainCategory",e.mainCategory),t.append("subCategory",e.subCategory),t.append("title",e.title),t.append("subTitle",e.subTitle),t.append("content",e.content),t.append("maxMember",e.maxMember),t.append("region.city",m.sido),t.append("region.district",m.sigoon),t.append("region.neighborhood",m.dong),C){const e=function(e,t){return new File([e],t,{type:e.type})}(await async function(e){const t=await fetch(e);return await t.blob()}(C),T);t.append("img",e);try{await gh.post(`/clubs/update/${p}`,t,{headers:{"Content-Type":"multipart/form-data"}});M(`/clubs/main?clubNumber=${p}`,{state:{snackbarMessage:"\ubaa8\uc784 \uc218\uc815\uc744 \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4."}})}catch(n){console.error(n),M(`/clubs/main?clubNumber=${p}`,{state:{snackbarMessage:"\ubaa8\uc784 \uc218\uc815\uc744 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."}})}}else try{await gh.post(`/clubs/update2/${p}`,e);M(`/clubs/main?clubNumber=${p}`,{state:{snackbarMessage:"\ubaa8\uc784 \uc218\uc815\uc744 \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4."}})}catch(n){console.error(n),M(`/clubs/main?clubNumber=${p}`,{state:{snackbarMessage:"\ubaa8\uc784 \uc218\uc815\uc744 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."}})}})),children:[(0,je.jsx)(Ks,{variant:"h6",sx:{textAlign:"center",fontWeight:"600",padding:"10px",marginTop:"10px"},children:"\ubaa8\uc784\uc218\uc815"}),(0,je.jsxs)(gt,{maxWidth:"md",sx:{marginTop:"20px"},children:[(0,je.jsxs)(Pt,{container:!0,spacing:1,sx:{alignItems:"center"},children:[(0,je.jsx)(Pt,{item:!0,xs:3,sx:{padding:"0px"},children:(0,je.jsx)(Ks,{sx:{fontWeight:"600",padding:"0px"},children:"\uc9c0\uc5ed"})}),(0,je.jsx)(Pt,{item:!0,xs:9,children:(0,je.jsx)(aM,{initialSido:m.sido,initialSigoon:m.sigoon,initialDong:m.dong,setSelectedSido:e=>g((t=>({...t,sido:e}))),setSelectedSigoon:e=>g((t=>({...t,sigoon:e}))),setSelectedDong:e=>g((t=>({...t,dong:e})))})}),(0,je.jsx)(Pt,{item:!0,xs:3,sx:{padding:"0px"},children:(0,je.jsx)(Ks,{sx:{fontWeight:"600",padding:"0px"},children:"\ud070 \uad00\uc2ec\uc0ac"})}),(0,je.jsx)(Pt,{item:!0,xs:9,children:(0,je.jsx)(Mv,{id:"mainCategory",label:"ex ) \ud070 \uad00\uc2ec\uc0ac : \uc6b4\ub3d9,\uc5ec\ud589,\uc0ac\uad50 \ub4f1\ub4f1",placeholder:"\ub20c\ub7ff\uc744 \ub54c \ubaa8\ub2ec\ub744\uc6cc\uc11c \ud070\uad00\uc2ec \uc120\ud0dd \ud6c4 \uc791\uc740\uad00\uc2ec\uc120\ud0dd \ud6c4 \uc790\ub3d9\uae30\uc785\uae4c\uc9c0",sx:{width:"100%",mb:2},onClick:o,value:n,...E("mainCategory",{required:" \ud544\uc218\uc785\ub825 \uc694\uc18c."})})}),(0,je.jsx)(Pt,{item:!0,xs:3,sx:{padding:"0px"},children:(0,je.jsx)(Ks,{sx:{fontWeight:"600",padding:"0px"},children:"\uc0c1\uc138 \uad00\uc2ec\uc0ac"})}),(0,je.jsx)(Pt,{item:!0,xs:9,children:(0,je.jsx)(Mv,{id:"subCategory",label:"\uc0c1\uc138\uad00\uc2ec\uc0ac : \uc790\uc804\uac70/\uc57c\uad6c/\uc11c\ud551/\uc6e8\uc774\ud06c\ubcf4\ub4dc/\uc694\ud2b8 \ub4f1\ub4f1(\ucd5c\ub3003\uac1c)",sx:{width:"100%",mb:2},onClick:o,value:c,...E("subCategory",{required:" \ud544\uc218\uc785\ub825 \uc694\uc18c."})})}),(0,je.jsxs)(Pt,{item:!0,xs:12,children:[(0,je.jsx)("input",{id:"img",type:"file",accept:"image/png, image/gif, image/jpeg",onChange:e=>{const t=e.target.files[0];if(I(t.name),t){const e=new FileReader;e.onloadend=()=>{k(e.result),A(!0)},e.readAsDataURL(t)}},style:{display:"none"}}),(0,je.jsx)("label",{htmlFor:"img",children:(0,je.jsx)(la,{variant:"outlined",component:"span",sx:{width:"100%"},children:"\uc5ec\uae30\ub97c \ud074\ub9ad\ud574 \ubaa8\uc784 \ub300\ud45c\uc0ac\uc9c4\uc744 \ubcc0\uacbd\ud574\ubcf4\uc138\uc694"})}),!C&&(0,je.jsx)(We,{mt:2,onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault();const t=e.dataTransfer.files[0];if(t){const e=new FileReader;e.onloadend=()=>{k(e.result),A(!0)},e.readAsDataURL(t)}},sx:{width:"100%",height:"478.5px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,je.jsx)("img",{src:"http://localhost:4000/"+v,alt:"\ubbf8\ub9ac\ubcf4\uae30",style:{width:"100%",height:"100%",objectFit:"cover"}})}),C&&(0,je.jsx)(We,{mt:2,sx:{width:"100%",height:"478.5px"},children:(0,je.jsx)("img",{src:C,alt:"\ubbf8\ub9ac\ubcf4\uae30",style:{width:"100%",height:"100%",objectFit:"cover"}})})]}),(0,je.jsx)(Pt,{xs:12,children:(0,je.jsx)(Mv,{id:"title",label:"\ubaa8\uc784 \uc774\ub984",sx:{width:"100%",mb:2},...E("title",{required:" \ud544\uc218\uc785\ub825 \uc694\uc18c."})})}),(0,je.jsx)(Pt,{xs:12,children:(0,je.jsx)(Mv,{id:"subTitle",label:"\uc11c\ube0c \ud0c0\uc774\ud2c0 ex)\uce74\ud398,\uce5c\uad6c,\uc6b4\ub3d9",sx:{width:"100%",mb:2},...E("subTitle",{required:" \ud544\uc218\uc785\ub825 \uc694\uc18c."})})}),(0,je.jsx)(Pt,{xs:12,children:(0,je.jsx)(Mv,{id:"content",label:"\ub0b4\uc6a9 \uc785\ub825",multiline:!0,rows:10,variant:"outlined",sx:{width:"100%",mb:2},...E("content",{required:" \ud544\uc218\uc785\ub825 \uc694\uc18c."})})}),(0,je.jsx)(Pt,{xs:2,children:(0,je.jsx)(Ks,{sx:{fontWeight:"600"},children:"\uc815\uc6d0 (10~300\uba85)"})}),(0,je.jsx)(Pt,{item:!0,xs:3,children:(0,je.jsx)(Mv,{id:"maxMember",label:"\uc22b\uc790\ub9cc \uc785\ub825",inputProps:{type:"number",min:10,max:300},sx:{width:"100%"},...E("maxMember",{required:" \ud544\uc218\uc785\ub825 \uc694\uc18c."})})}),(0,je.jsx)(Pt,{xs:12,sx:{marginTop:"20px"},children:(0,je.jsx)(la,{variant:"outlined",sx:{width:"100%"},type:"submit",children:"\ubaa8\uc784 \uc815\ubcf4 \uc218\uc815\ud558\uae30"})})]}),(0,je.jsx)(lM,{open:e,onClose:s,onCategorySelect:e=>{r(e),s(),d()}}),(0,je.jsx)(uM,{open:a,onClose:h,onSubCategorySelect:e=>{u(e),h()},mainCategory:n}),S&&(0,je.jsx)(mM,{src:C,onCropComplete:e=>{k(e),O("img",e),A(!1)},onClose:()=>A(!1)})]})]})};const wM=function(){return(0,je.jsxs)(we,{children:[(0,je.jsx)(be,{path:"",element:(0,je.jsx)(JI,{})}),(0,je.jsx)(be,{path:"create",element:(0,je.jsx)(bM,{})}),(0,je.jsx)(be,{path:"update",element:(0,je.jsx)(yM,{})})]})};const xM=new Array(256).fill("").map(((e,t)=>("0"+t.toString(16)).slice(-2)));var _M=Object.defineProperty,CM=(e,t,n)=>((e,t,n)=>t in e?_M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!==typeof t?t+"":t,n);const kM=class e{constructor(e,t){CM(this,"_lifecycle"),CM(this,"_element"),CM(this,"_releaseLock",null),CM(this,"_value",null),CM(this,"_afterMountCallbacks",[]),CM(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),CM(this,"release",function(e){let t=null;return function(){return t||(t={current:e(...arguments)}),t.current}}((()=>{const{_releaseLock:e,_state:t,_element:n,_lifecycle:r}=this;t.mountingInProgress?t.mountingInProgress.then((()=>r.unmount({element:n,mountResult:this.value}))).catch((e=>{console.error("Semaphore unmounting error:",e)})).then(e.resolve).then((()=>{this._value=null})):(t.destroyedBeforeInitialization=!0,e.resolve())}))),this._element=e,this._lifecycle=t,this._lock()}get value(){return this._value}unsafeSetValue(e){this._value=e,this._afterMountCallbacks.forEach((t=>t(e))),this._afterMountCallbacks=[]}runAfterMount(e){const{_value:t,_afterMountCallbacks:n}=this;t?e(t):n.push(e)}_lock(){const{_semaphores:t}=e,{_state:n,_element:r,_lifecycle:i}=this,o=t.get(r)||Promise.resolve(null),s=function(){const e={resolve:null,promise:null};return e.promise=new Promise((t=>{e.resolve=t})),e}();this._releaseLock=s;const a=o.then((()=>n.destroyedBeforeInitialization?Promise.resolve(void 0):(n.mountingInProgress=i.mount().then((e=>(e&&this.unsafeSetValue(e),e))),n.mountingInProgress))).then((async e=>{e&&i.afterMount&&await i.afterMount({element:r,mountResult:e})})).then((()=>s.promise)).catch((e=>{console.error("Semaphore mounting error:",e)})).then((()=>{t.get(r)===a&&t.delete(r)}));t.set(r,a)}};CM(kM,"_semaphores",new Map);let SM=kM;const AM="$__CKEditorReactContextMetadata";const TM=i.createContext(null),IM=e=>t=>(e=>!!e&&"object"===typeof e&&"status"in e&&["initializing","initialized","error"].includes(e.status))(t)&&t.status===e,MM=IM("initializing"),EM=e=>IM("initialized")(e)&&"ready"===e.watchdog.state,PM="Lock from React integration (@ckeditor/ckeditor5-react)";class DM extends i.Component{constructor(e){super(e),CM(this,"domContainer",i.createRef()),CM(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:e}=window;if(!e)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[t]=e.split(".").map(Number);t>=42||e.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:e}=this;return e?e.value:null}get watchdog(){const{_semaphoreValue:e}=this;return e?e.watchdog:null}get editor(){const{_semaphoreValue:e}=this;return e?e.instance:null}shouldComponentUpdate(e){const{props:t,editorSemaphore:n}=this;return e.id!==t.id||(e.disableWatchdog!==t.disableWatchdog||(n&&(n.runAfterMount((n=>{let{instance:r}=n;this._shouldUpdateEditorData(t,e,r)&&r.data.set(e.data)})),"disabled"in e&&n.runAfterMount((t=>{let{instance:n}=t;e.disabled?n.enableReadOnlyMode(PM):n.disableReadOnlyMode(PM)}))),!1))}componentDidMount(){MM(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){MM(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new SM(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:e=>{let{mountResult:t}=e;const{onReady:n}=this.props;n&&null!==this.domContainer.current&&n(t.instance)},unmount:async e=>{let{element:t,mountResult:n}=e;const{onAfterDestroy:r}=this.props;try{await this._destroyEditor(n),t.innerHTML=""}finally{r&&r(n.instance)}}})}render(){return i.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog){return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null}}const e=(()=>EM(this.context)?new jM(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig))(),t={current:0};return e.setCreator((async(n,r)=>{var i;const{editorSemaphore:o}=this,{onAfterDestroy:s}=this.props;t.current>0&&s&&(null==(i=null==o?void 0:o.value)?void 0:i.instance)&&s(o.value.instance);const a=await this._createEditor(n,r);return o&&t.current>0&&(o.unsafeSetValue({instance:a,watchdog:e}),setTimeout((()=>{this.props.onReady&&this.props.onReady(e.editor)}))),t.current++,a})),e.on("error",((e,t)=>{let{error:n,causesRestart:r}=t;(this.props.onError||console.error)(n,{phase:"runtime",willEditorRestart:r})})),await e.create(this.domContainer.current,this._getConfig()).catch((e=>{(this.props.onError||console.error)(e,{phase:"initialization",willEditorRestart:!1})})),{watchdog:e,instance:e.editor}}_createEditor(e,t){const{contextItemMetadata:n}=this.props;return n&&(t=function(e,t){return{...t,[AM]:e}}(n,t)),this.props.editor.create(e,t).then((e=>{"disabled"in this.props&&this.props.disabled&&e.enableReadOnlyMode(PM);const t=e.model.document,n=e.editing.view.document;return t.on("change:data",(t=>{this.props.onChange&&this.props.onChange(t,e)})),n.on("focus",(t=>{this.props.onFocus&&this.props.onFocus(t,e)})),n.on("blur",(t=>{this.props.onBlur&&this.props.onBlur(t,e)})),e}))}async _destroyEditor(e){const{watchdog:t,instance:n}=e;return new Promise(((e,r)=>{setTimeout((async()=>{try{if(t)return await t.destroy(),e();if(n)return await n.destroy(),e();e()}catch(_ke){console.error(_ke),r(_ke)}}))}))}_shouldUpdateEditorData(e,t,n){return e.data!==t.data&&n.data.get()!==t.data}_getConfig(){const e=this.props.config||{};return this.props.data&&e.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...e,initialData:e.initialData||this.props.data||""}}}CM(DM,"contextType",TM),CM(DM,"propTypes",{editor:zy.func.isRequired,data:zy.string,config:zy.object,disableWatchdog:zy.bool,watchdogConfig:zy.object,onChange:zy.func,onReady:zy.func,onFocus:zy.func,onBlur:zy.func,onError:zy.func,disabled:zy.bool,id:zy.any});class jM{constructor(e){CM(this,"_contextWatchdog"),CM(this,"_id"),CM(this,"_creator"),this._contextWatchdog=e,this._id=function(){const[e,t,n,r]=crypto.getRandomValues(new Uint32Array(4));return"e"+xM[255&e]+xM[e>>8&255]+xM[e>>16&255]+xM[e>>24&255]+xM[255&t]+xM[t>>8&255]+xM[t>>16&255]+xM[t>>24&255]+xM[255&n]+xM[n>>8&255]+xM[n>>16&255]+xM[n>>24&255]+xM[255&r]+xM[r>>8&255]+xM[r>>16&255]+xM[r>>24&255]}()}setCreator(e){this._creator=e}create(e,t){return this._contextWatchdog.add({sourceElementOrData:e,config:t,creator:this._creator,id:this._id,type:"editor"})}on(e,t){this._contextWatchdog.on("itemError",((e,n)=>{let{itemId:r,error:i}=n;r===this._id&&t(null,{error:i,causesRestart:void 0})}))}destroy(){return"ready"===this._contextWatchdog.state?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}function OM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}const RM=(0,i.memo)((0,i.forwardRef)(((e,t)=>{let{id:n,semaphore:r,rootName:o}=e;const s=(0,i.useRef)(null);return(0,i.useEffect)((()=>{let e,t;return r.runAfterMount((n=>{let{instance:r}=n;if(!s.current)return;t=r;const{ui:i,model:a}=t,l=a.document.getRoot(o);l&&t.ui.getEditableElement(o)&&t.detachEditable(l),e=i.view.createEditable(o,s.current),i.addEditable(e),r.editing.view.forceRender()})),()=>{if(t&&"destroyed"!==t.state&&s.current){const e=t.model.document.getRoot(o);e&&t.detachEditable(e)}}}),[r.revision]),i.createElement("div",{key:r.revision,id:n,ref:OM(t,s)})})));RM.displayName="EditorEditable";const LM=(0,i.forwardRef)(((e,t)=>{let{editor:n}=e;const r=(0,i.useRef)(null);return(0,i.useEffect)((()=>{const e=r.current;if(!n||!e)return;const t=n.ui.view.toolbar.element;return e.appendChild(t),()=>{e.contains(t)&&e.removeChild(t)}}),[n&&n.id]),i.createElement("div",{ref:OM(r,t)})}));LM.displayName="EditorToolbarWrapper";const NM=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const BM="object"==typeof global&&global&&global.Object===Object&&global;var FM="object"==typeof self&&self&&self.Object===Object&&self;const zM=BM||FM||Function("return this")();const VM=zM.Symbol;var WM=Object.prototype,HM=WM.hasOwnProperty,UM=WM.toString,$M=VM?VM.toStringTag:void 0;const YM=function(e){var t=HM.call(e,$M),n=e[$M];try{e[$M]=void 0;var r=!0}catch(_ke){}var i=UM.call(e);return r&&(t?e[$M]=n:delete e[$M]),i};var GM=Object.prototype.toString;const qM=function(e){return GM.call(e)};var XM=VM?VM.toStringTag:void 0;const ZM=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":XM&&XM in Object(e)?YM(e):qM(e)};const KM=Array.isArray;const QM=function(e){return null!=e&&"object"==typeof e};const JM=function(e){return"string"==typeof e||!KM(e)&&QM(e)&&"[object String]"==ZM(e)};const eE=function(e,t){return function(n){return e(t(n))}};const tE=eE(Object.getPrototypeOf,Object);var nE=Function.prototype,rE=Object.prototype,iE=nE.toString,oE=rE.hasOwnProperty,sE=iE.call(Object);const aE=function(e){if(!QM(e)||"[object Object]"!=ZM(e))return!1;var t=tE(e);if(null===t)return!0;var n=oE.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&iE.call(n)==sE};const lE=function(){this.__data__=[],this.size=0};const cE=function(e,t){return e===t||e!==e&&t!==t};const uE=function(e,t){for(var n=e.length;n--;)if(cE(e[n][0],t))return n;return-1};var dE=Array.prototype.splice;const hE=function(e){var t=this.__data__,n=uE(t,e);return!(n<0)&&(n==t.length-1?t.pop():dE.call(t,n,1),--this.size,!0)};const fE=function(e){var t=this.__data__,n=uE(t,e);return n<0?void 0:t[n][1]};const pE=function(e){return uE(this.__data__,e)>-1};const mE=function(e,t){var n=this.__data__,r=uE(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function gE(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}gE.prototype.clear=lE,gE.prototype.delete=hE,gE.prototype.get=fE,gE.prototype.has=pE,gE.prototype.set=mE;const vE=gE;const bE=function(){this.__data__=new vE,this.size=0};const yE=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const wE=function(e){return this.__data__.get(e)};const xE=function(e){return this.__data__.has(e)};const _E=function(e){if(!NM(e))return!1;var t=ZM(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const CE=zM["__core-js_shared__"];var kE=function(){var e=/[^.]+$/.exec(CE&&CE.keys&&CE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const SE=function(e){return!!kE&&kE in e};var AE=Function.prototype.toString;const TE=function(e){if(null!=e){try{return AE.call(e)}catch(_ke){}try{return e+""}catch(_ke){}}return""};var IE=/^\[object .+?Constructor\]$/,ME=Function.prototype,EE=Object.prototype,PE=ME.toString,DE=EE.hasOwnProperty,jE=RegExp("^"+PE.call(DE).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const OE=function(e){return!(!NM(e)||SE(e))&&(_E(e)?jE:IE).test(TE(e))};const RE=function(e,t){return null==e?void 0:e[t]};const LE=function(e,t){var n=RE(e,t);return OE(n)?n:void 0};const NE=LE(zM,"Map");const BE=LE(Object,"create");const FE=function(){this.__data__=BE?BE(null):{},this.size=0};const zE=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var VE=Object.prototype.hasOwnProperty;const WE=function(e){var t=this.__data__;if(BE){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return VE.call(t,e)?t[e]:void 0};var HE=Object.prototype.hasOwnProperty;const UE=function(e){var t=this.__data__;return BE?void 0!==t[e]:HE.call(t,e)};const $E=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=BE&&void 0===t?"__lodash_hash_undefined__":t,this};function YE(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}YE.prototype.clear=FE,YE.prototype.delete=zE,YE.prototype.get=WE,YE.prototype.has=UE,YE.prototype.set=$E;const GE=YE;const qE=function(){this.size=0,this.__data__={hash:new GE,map:new(NE||vE),string:new GE}};const XE=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const ZE=function(e,t){var n=e.__data__;return XE(t)?n["string"==typeof t?"string":"hash"]:n.map};const KE=function(e){var t=ZE(this,e).delete(e);return this.size-=t?1:0,t};const QE=function(e){return ZE(this,e).get(e)};const JE=function(e){return ZE(this,e).has(e)};const eP=function(e,t){var n=ZE(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function tP(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}tP.prototype.clear=qE,tP.prototype.delete=KE,tP.prototype.get=QE,tP.prototype.has=JE,tP.prototype.set=eP;const nP=tP;const rP=function(e,t){var n=this.__data__;if(n instanceof vE){var r=n.__data__;if(!NE||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new nP(r)}return n.set(e,t),this.size=n.size,this};function iP(e){var t=this.__data__=new vE(e);this.size=t.size}iP.prototype.clear=bE,iP.prototype.delete=yE,iP.prototype.get=wE,iP.prototype.has=xE,iP.prototype.set=rP;const oP=iP;const sP=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const aP=function(){try{var e=LE(Object,"defineProperty");return e({},"",{}),e}catch(_ke){}}();const lP=function(e,t,n){"__proto__"==t&&aP?aP(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var cP=Object.prototype.hasOwnProperty;const uP=function(e,t,n){var r=e[t];cP.call(e,t)&&cE(r,n)&&(void 0!==n||t in e)||lP(e,t,n)};const dP=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),i?lP(n,a,l):uP(n,a,l)}return n};const hP=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const fP=function(e){return QM(e)&&"[object Arguments]"==ZM(e)};var pP=Object.prototype,mP=pP.hasOwnProperty,gP=pP.propertyIsEnumerable,vP=fP(function(){return arguments}())?fP:function(e){return QM(e)&&mP.call(e,"callee")&&!gP.call(e,"callee")};const bP=vP;const yP=function(){return!1};var wP="object"==typeof exports&&exports&&!exports.nodeType&&exports,xP=wP&&"object"==typeof module&&module&&!module.nodeType&&module,_P=xP&&xP.exports===wP?zM.Buffer:void 0;const CP=(_P?_P.isBuffer:void 0)||yP;var kP=/^(?:0|[1-9]\d*)$/;const SP=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&kP.test(e))&&e>-1&&e%1==0&&e<t};const AP=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var TP={};TP["[object Float32Array]"]=TP["[object Float64Array]"]=TP["[object Int8Array]"]=TP["[object Int16Array]"]=TP["[object Int32Array]"]=TP["[object Uint8Array]"]=TP["[object Uint8ClampedArray]"]=TP["[object Uint16Array]"]=TP["[object Uint32Array]"]=!0,TP["[object Arguments]"]=TP["[object Array]"]=TP["[object ArrayBuffer]"]=TP["[object Boolean]"]=TP["[object DataView]"]=TP["[object Date]"]=TP["[object Error]"]=TP["[object Function]"]=TP["[object Map]"]=TP["[object Number]"]=TP["[object Object]"]=TP["[object RegExp]"]=TP["[object Set]"]=TP["[object String]"]=TP["[object WeakMap]"]=!1;const IP=function(e){return QM(e)&&AP(e.length)&&!!TP[ZM(e)]};const MP=function(e){return function(t){return e(t)}};var EP="object"==typeof exports&&exports&&!exports.nodeType&&exports,PP=EP&&"object"==typeof module&&module&&!module.nodeType&&module,DP=PP&&PP.exports===EP&&BM.process;const jP=function(){try{var e=PP&&PP.require&&PP.require("util").types;return e||DP&&DP.binding&&DP.binding("util")}catch(_ke){}}();var OP=jP&&jP.isTypedArray;const RP=OP?MP(OP):IP;var LP=Object.prototype.hasOwnProperty;const NP=function(e,t){var n=KM(e),r=!n&&bP(e),i=!n&&!r&&CP(e),o=!n&&!r&&!i&&RP(e),s=n||r||i||o,a=s?hP(e.length,String):[],l=a.length;for(var c in e)!t&&!LP.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||SP(c,l))||a.push(c);return a};var BP=Object.prototype;const FP=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||BP)};const zP=eE(Object.keys,Object);var VP=Object.prototype.hasOwnProperty;const WP=function(e){if(!FP(e))return zP(e);var t=[];for(var n in Object(e))VP.call(e,n)&&"constructor"!=n&&t.push(n);return t};const HP=function(e){return null!=e&&AP(e.length)&&!_E(e)};const UP=function(e){return HP(e)?NP(e):WP(e)};const $P=function(e,t){return e&&dP(t,UP(t),e)};const YP=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var GP=Object.prototype.hasOwnProperty;const qP=function(e){if(!NM(e))return YP(e);var t=FP(e),n=[];for(var r in e)("constructor"!=r||!t&&GP.call(e,r))&&n.push(r);return n};const XP=function(e){return HP(e)?NP(e,!0):qP(e)};const ZP=function(e,t){return e&&dP(t,XP(t),e)};var KP="object"==typeof exports&&exports&&!exports.nodeType&&exports,QP=KP&&"object"==typeof module&&module&&!module.nodeType&&module,JP=QP&&QP.exports===KP?zM.Buffer:void 0,eD=JP?JP.allocUnsafe:void 0;const tD=function(e,t){if(t)return e.slice();var n=e.length,r=eD?eD(n):new e.constructor(n);return e.copy(r),r};const nD=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};const rD=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o};const iD=function(){return[]};var oD=Object.prototype.propertyIsEnumerable,sD=Object.getOwnPropertySymbols;const aD=sD?function(e){return null==e?[]:(e=Object(e),rD(sD(e),(function(t){return oD.call(e,t)})))}:iD;const lD=function(e,t){return dP(e,aD(e),t)};const cD=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};const uD=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)cD(t,aD(e)),e=tE(e);return t}:iD;const dD=function(e,t){return dP(e,uD(e),t)};const hD=function(e,t,n){var r=t(e);return KM(e)?r:cD(r,n(e))};const fD=function(e){return hD(e,UP,aD)};const pD=function(e){return hD(e,XP,uD)};const mD=LE(zM,"DataView");const gD=LE(zM,"Promise");const vD=LE(zM,"Set");const bD=LE(zM,"WeakMap");var yD="[object Map]",wD="[object Promise]",xD="[object Set]",_D="[object WeakMap]",CD="[object DataView]",kD=TE(mD),SD=TE(NE),AD=TE(gD),TD=TE(vD),ID=TE(bD),MD=ZM;(mD&&MD(new mD(new ArrayBuffer(1)))!=CD||NE&&MD(new NE)!=yD||gD&&MD(gD.resolve())!=wD||vD&&MD(new vD)!=xD||bD&&MD(new bD)!=_D)&&(MD=function(e){var t=ZM(e),n="[object Object]"==t?e.constructor:void 0,r=n?TE(n):"";if(r)switch(r){case kD:return CD;case SD:return yD;case AD:return wD;case TD:return xD;case ID:return _D}return t});const ED=MD;var PD=Object.prototype.hasOwnProperty;const DD=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&PD.call(e,"index")&&(n.index=e.index,n.input=e.input),n};const jD=zM.Uint8Array;const OD=function(e){var t=new e.constructor(e.byteLength);return new jD(t).set(new jD(e)),t};const RD=function(e,t){var n=t?OD(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)};var LD=/\w*$/;const ND=function(e){var t=new e.constructor(e.source,LD.exec(e));return t.lastIndex=e.lastIndex,t};var BD=VM?VM.prototype:void 0,FD=BD?BD.valueOf:void 0;const zD=function(e){return FD?Object(FD.call(e)):{}};const VD=function(e,t){var n=t?OD(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const WD=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return OD(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return RD(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return VD(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return ND(e);case"[object Symbol]":return zD(e)}};var HD=Object.create;const UD=function(){function e(){}return function(t){if(!NM(t))return{};if(HD)return HD(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const $D=function(e){return"function"!=typeof e.constructor||FP(e)?{}:UD(tE(e))};const YD=function(e){return QM(e)&&"[object Map]"==ED(e)};var GD=jP&&jP.isMap;const qD=GD?MP(GD):YD;const XD=function(e){return QM(e)&&"[object Set]"==ED(e)};var ZD=jP&&jP.isSet;const KD=ZD?MP(ZD):XD;var QD="[object Arguments]",JD="[object Function]",ej="[object Object]",tj={};tj[QD]=tj["[object Array]"]=tj["[object ArrayBuffer]"]=tj["[object DataView]"]=tj["[object Boolean]"]=tj["[object Date]"]=tj["[object Float32Array]"]=tj["[object Float64Array]"]=tj["[object Int8Array]"]=tj["[object Int16Array]"]=tj["[object Int32Array]"]=tj["[object Map]"]=tj["[object Number]"]=tj[ej]=tj["[object RegExp]"]=tj["[object Set]"]=tj["[object String]"]=tj["[object Symbol]"]=tj["[object Uint8Array]"]=tj["[object Uint8ClampedArray]"]=tj["[object Uint16Array]"]=tj["[object Uint32Array]"]=!0,tj["[object Error]"]=tj[JD]=tj["[object WeakMap]"]=!1;const nj=function e(t,n,r,i,o,s){var a,l=1&n,c=2&n,u=4&n;if(r&&(a=o?r(t,i,o,s):r(t)),void 0!==a)return a;if(!NM(t))return t;var d=KM(t);if(d){if(a=DD(t),!l)return nD(t,a)}else{var h=ED(t),f=h==JD||"[object GeneratorFunction]"==h;if(CP(t))return tD(t,l);if(h==ej||h==QD||f&&!o){if(a=c||f?{}:$D(t),!l)return c?dD(t,ZP(a,t)):lD(t,$P(a,t))}else{if(!tj[h])return o?t:{};a=WD(t,h,l)}}s||(s=new oP);var p=s.get(t);if(p)return p;s.set(t,a),KD(t)?t.forEach((function(i){a.add(e(i,n,r,i,t,s))})):qD(t)&&t.forEach((function(i,o){a.set(o,e(i,n,r,o,t,s))}));var m=d?void 0:(u?c?pD:fD:c?XP:UP)(t);return sP(m||t,(function(i,o){m&&(i=t[o=i]),uP(a,o,e(i,n,r,o,t,s))})),a};const rj=function(e,t){return nj(e,5,t="function"==typeof t?t:void 0)};const ij=function(e){return QM(e)&&1===e.nodeType&&!aE(e)};const oj=function(e,t,n){(void 0!==n&&!cE(e[t],n)||void 0===n&&!(t in e))&&lP(e,t,n)};const sj=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}();const aj=function(e){return QM(e)&&HP(e)};const lj=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]};const cj=function(e){return dP(e,XP(e))};const uj=function(e,t,n,r,i,o,s){var a=lj(e,n),l=lj(t,n),c=s.get(l);if(c)oj(e,n,c);else{var u=o?o(a,l,n+"",e,t,s):void 0,d=void 0===u;if(d){var h=KM(l),f=!h&&CP(l),p=!h&&!f&&RP(l);u=l,h||f||p?KM(a)?u=a:aj(a)?u=nD(a):f?(d=!1,u=tD(l,!0)):p?(d=!1,u=VD(l,!0)):u=[]:aE(l)||bP(l)?(u=a,bP(a)?u=cj(a):NM(a)&&!_E(a)||(u=$D(l))):d=!1}d&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),oj(e,n,u)}};const dj=function e(t,n,r,i,o){t!==n&&sj(n,(function(s,a){if(o||(o=new oP),NM(s))uj(t,n,a,r,e,i,o);else{var l=i?i(lj(t,a),s,a+"",t,n,o):void 0;void 0===l&&(l=s),oj(t,a,l)}}),XP)};const hj=function(e){return e};const fj=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var pj=Math.max;const mj=function(e,t,n){return t=pj(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=pj(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),fj(e,this,a)}};const gj=function(e){return function(){return e}};const vj=aP?function(e,t){return aP(e,"toString",{configurable:!0,enumerable:!1,value:gj(t),writable:!0})}:hj;var bj=Date.now;const yj=function(e){var t=0,n=0;return function(){var r=bj(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};const wj=yj(vj);const xj=function(e,t){return wj(mj(e,t,hj),e+"")};const _j=function(e,t,n){if(!NM(n))return!1;var r=typeof t;return!!("number"==r?HP(n)&&SP(t,n.length):"string"==r&&t in n)&&cE(n[t],e)};const Cj=function(e){return xj((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&_j(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t}))};const kj=Cj((function(e,t,n){dj(e,t,n)}));let Sj;try{Sj={window:window,document:document}}catch(_ke){Sj={window:{},document:{}}}var Aj=Sj;function Tj(){try{return navigator.userAgent.toLowerCase()}catch(_ke){return""}}const Ij=Tj(),Mj={isMac:Ej(Ij),isWindows:Pj(Ij),isGecko:Dj(Ij),isSafari:jj(Ij),isiOS:Oj(Ij),isAndroid:Rj(Ij),isBlink:Lj(Ij),get isMediaForcedColors(){return!!Aj.window.matchMedia&&Aj.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!Aj.window.matchMedia&&Aj.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:Nj()}};function Ej(e){return e.indexOf("macintosh")>-1}function Pj(e){return e.indexOf("windows")>-1}function Dj(e){return!!e.match(/gecko\/\d+/)}function jj(e){return e.indexOf(" applewebkit/")>-1&&-1===e.indexOf("chrome")}function Oj(e){return!!e.match(/iphone|ipad/i)||Ej(e)&&navigator.maxTouchPoints>0}function Rj(e){return e.indexOf("android")>-1}function Lj(e){return e.indexOf("chrome/")>-1&&e.indexOf("edge/")<0}function Nj(){let e=!1;try{e=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch(t){}return e}function Bj(e,t,n,r){n=n||function(e,t){return e===t};const i=Array.isArray(e)?e:Array.prototype.slice.call(e),o=Array.isArray(t)?t:Array.prototype.slice.call(t),s=function(e,t,n){const r=Fj(e,t,n);if(-1===r)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const i=zj(e,r),o=zj(t,r),s=Fj(i,o,n),a=e.length-s,l=t.length-s;return{firstIndex:r,lastIndexOld:a,lastIndexNew:l}}(i,o,n),a=r?function(e,t){const{firstIndex:n,lastIndexOld:r,lastIndexNew:i}=e;if(-1===n)return Array(t).fill("equal");let o=[];n>0&&(o=o.concat(Array(n).fill("equal")));i-n>0&&(o=o.concat(Array(i-n).fill("insert")));r-n>0&&(o=o.concat(Array(r-n).fill("delete")));i<t&&(o=o.concat(Array(t-i).fill("equal")));return o}(s,o.length):function(e,t){const n=[],{firstIndex:r,lastIndexOld:i,lastIndexNew:o}=t;o-r>0&&n.push({index:r,type:"insert",values:e.slice(r,o)});i-r>0&&n.push({index:r+(o-r),type:"delete",howMany:i-r});return n}(o,s);return a}function Fj(e,t,n){for(let r=0;r<Math.max(e.length,t.length);r++)if(void 0===e[r]||void 0===t[r]||!n(e[r],t[r]))return r;return-1}function zj(e,t){return e.slice(t).reverse()}function Vj(e,t,n){n=n||function(e,t){return e===t};const r=e.length,i=t.length;if(r>200||i>200||r+i>300)return Vj.fastDiff(e,t,n,!0);let o,s;if(i<r){const n=e;e=t,t=n,o="delete",s="insert"}else o="insert",s="delete";const a=e.length,l=t.length,c=l-a,u={},d={};function h(r){const i=(void 0!==d[r-1]?d[r-1]:-1)+1,c=void 0!==d[r+1]?d[r+1]:-1,h=i>c?-1:1;u[r+h]&&(u[r]=u[r+h].slice(0)),u[r]||(u[r]=[]),u[r].push(i>c?o:s);let f=Math.max(i,c),p=f-r;for(;p<a&&f<l&&n(e[p],t[f]);)p++,f++,u[r].push("equal");return f}let f,p=0;do{for(f=-p;f<c;f++)d[f]=h(f);for(f=c+p;f>c;f--)d[f]=h(f);d[c]=h(c),p++}while(d[c]!==l);return u[c].slice(1)}Vj.fastDiff=Bj;class Wj{source;name;path;stop;off;return;constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=function e(){e.called=!0},this.off=function e(){e.called=!0}}}const Hj=new Array(256).fill("").map(((e,t)=>("0"+t.toString(16)).slice(-2)));function Uj(){const[e,t,n,r]=crypto.getRandomValues(new Uint32Array(4));return"e"+Hj[255&e]+Hj[e>>8&255]+Hj[e>>16&255]+Hj[e>>24&255]+Hj[255&t]+Hj[t>>8&255]+Hj[t>>16&255]+Hj[t>>24&255]+Hj[255&n]+Hj[n>>8&255]+Hj[n>>16&255]+Hj[n>>24&255]+Hj[255&r]+Hj[r>>8&255]+Hj[r>>16&255]+Hj[r>>24&255]}const $j={get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function Yj(e,t){const n=$j.get(t.priority);for(let r=0;r<e.length;r++)if($j.get(e[r].priority)<n)return void e.splice(r,0,t);e.push(t)}const Gj="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class qj extends Error{context;data;constructor(e,t,n){super(function(e,t){const n=new WeakSet,r=(e,t)=>{if("object"===typeof t&&null!==t){if(n.has(t))return`[object ${t.constructor.name}]`;n.add(t)}return t},i=t?` ${JSON.stringify(t,r)}`:"",o=Zj(e);return e+i+o}(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return"CKEditorError"===e}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new qj(e.message,t);throw n.stack=e.stack,n}}function Xj(e,t){console.warn(...Kj(e,t))}function Zj(e){return`\nRead more: ${Gj}#error-${e}`}function Kj(e,t){const n=Zj(e);return t?[e,t,n]:[e,n]}const Qj=new Date(2024,8,5);if(globalThis.CKEDITOR_VERSION)throw new qj("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION="43.1.0";const Jj=Symbol("listeningTo"),eO=Symbol("emitterId"),tO=Symbol("delegations"),nO=rO(Object);function rO(e){if(!e)return nO;return class extends e{on(e,t,n){this.listenTo(this,e,t,n)}once(e,t,n){var r=this;let i=!1;this.listenTo(this,e,(function(e){if(!i){i=!0,e.off();for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];t.call(r,e,...o)}}),n)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,n){let r,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this[Jj]||(this[Jj]={});const s=this[Jj];oO(e)||iO(e);const a=oO(e);(r=s[a])||(r=s[a]={emitter:e,callbacks:{}}),(i=r.callbacks[t])||(i=r.callbacks[t]=[]),i.push(n),function(e,t,n,r,i){t._addEventListener?t._addEventListener(n,r,i):e._addEventListener.call(t,n,r,i)}(this,e,t,n,o)}stopListening(e,t,n){const r=this[Jj];let i=e&&oO(e);const o=r&&i?r[i]:void 0,s=o&&t?o.callbacks[t]:void 0;if(!(!r||e&&!o||t&&!s))if(n){uO(this,e,t,n);-1!==s.indexOf(n)&&(1===s.length?delete o.callbacks[t]:uO(this,e,t,n))}else if(s){for(;n=s.pop();)uO(this,e,t,n);delete o.callbacks[t]}else if(o){for(t in o.callbacks)this.stopListening(e,t);delete r[i]}else{for(i in r)this.stopListening(r[i].emitter);delete this[Jj]}}fire(e){try{const i=e instanceof Wj?e:new Wj(this,e),o=i.name;let s=lO(this,o);i.path.push(this);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(s){const e=[i,...n];s=Array.from(s);for(let t=0;t<s.length&&(s[t].callback.apply(this,e),i.off.called&&(delete i.off.called,this._removeEventListener(o,s[t].callback)),!i.stop.called);t++);}const a=this[tO];if(a){const e=a.get(o),t=a.get("*");e&&cO(e,i,n),t&&cO(t,i,n)}return i.return}catch(i){qj.rethrowUnexpectedError(i,this)}}delegate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{to:(e,n)=>{this[tO]||(this[tO]=new Map),t.forEach((t=>{const r=this[tO].get(t);r?r.set(e,n):this[tO].set(t,new Map([[e,n]]))}))}}}stopDelegating(e,t){if(this[tO])if(e)if(t){const n=this[tO].get(e);n&&n.delete(t)}else this[tO].delete(e);else this[tO].clear()}_addEventListener(e,t,n){!function(e,t){const n=sO(e);if(n[t])return;let r=t,i=null;const o=[];for(;""!==r&&!n[r];)n[r]={callbacks:[],childEvents:[]},o.push(n[r]),i&&n[r].childEvents.push(i),i=r,r=r.substr(0,r.lastIndexOf(":"));if(""!==r){for(const e of o)e.callbacks=n[r].callbacks.slice();n[r].childEvents.push(i)}}(this,e);const r=aO(this,e),i={callback:t,priority:$j.get(n.priority)};for(const o of r)Yj(o,i)}_removeEventListener(e,t){const n=aO(this,e);for(const r of n)for(let e=0;e<r.length;e++)r[e].callback==t&&(r.splice(e,1),e--)}}}function iO(e,t){e[eO]||(e[eO]=t||Uj())}function oO(e){return e[eO]}function sO(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function aO(e,t){const n=sO(e)[t];if(!n)return[];let r=[n.callbacks];for(let i=0;i<n.childEvents.length;i++){const t=aO(e,n.childEvents[i]);r=r.concat(t)}return r}function lO(e,t){let n;return e._events&&(n=e._events[t])&&n.callbacks.length?n.callbacks:t.indexOf(":")>-1?lO(e,t.substr(0,t.lastIndexOf(":"))):null}function cO(e,t,n){for(let[r,i]of e){i?"function"==typeof i&&(i=i(t.name)):i=t.name;const e=new Wj(t.source,i);e.path=[...t.path],r.fire(e,...n)}}function uO(e,t,n,r){t._removeEventListener?t._removeEventListener(n,r):e._removeEventListener.call(t,n,r)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{rO[e]=nO.prototype[e]}));const dO=Symbol("observableProperties"),hO=Symbol("boundObservables"),fO=Symbol("boundProperties"),pO=Symbol("decoratedMethods"),mO=Symbol("decoratedOriginal"),gO=vO(rO());function vO(e){if(!e)return gO;return class extends e{set(e,t){if(NM(e))return void Object.keys(e).forEach((t=>{this.set(t,e[t])}),this);bO(this);const n=this[dO];if(e in this&&!n.has(e))throw new qj("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>n.get(e),set(t){const r=n.get(e);let i=this.fire(`set:${e}`,e,t,r);void 0===i&&(i=t),r===i&&n.has(e)||(n.set(e,i),this.fire(`change:${e}`,e,i,r))}}),this[e]=t}bind(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length||!xO(t))throw new qj("observable-bind-wrong-properties",this);if(new Set(t).size!==t.length)throw new qj("observable-bind-duplicate-properties",this);bO(this);const r=this[fO];t.forEach((e=>{if(r.has(e))throw new qj("observable-bind-rebind",this)}));const i=new Map;return t.forEach((e=>{const t={property:e,to:[]};r.set(e,t),i.set(e,t)})),{to:yO,toMany:wO,_observable:this,_bindProperties:t,_to:[],_bindings:i}}unbind(){if(!this[dO])return;const e=this[fO],t=this[hO];for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(r.length){if(!xO(r))throw new qj("observable-unbind-wrong-properties",this);r.forEach((n=>{const r=e.get(n);r&&(r.to.forEach((e=>{let[n,i]=e;const o=t.get(n),s=o[i];s.delete(r),s.size||delete o[i],Object.keys(o).length||(t.delete(n),this.stopListening(n,"change"))})),e.delete(n))}))}else t.forEach(((e,t)=>{this.stopListening(t,"change")})),t.clear(),e.clear()}decorate(e){bO(this);const t=this[e];if(!t)throw new qj("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,((e,n)=>{e.return=t.apply(this,n)})),this[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.fire(e,n)},this[e][mO]=t,this[pO]||(this[pO]=[]),this[pO].push(e)}stopListening(e,t,n){if(!e&&this[pO]){for(const e of this[pO])this[e]=this[e][mO];delete this[pO]}super.stopListening(e,t,n)}[dO];[pO];[fO];[hO]}}function bO(e){e[dO]||(Object.defineProperty(e,dO,{value:new Map}),Object.defineProperty(e,hO,{value:new Map}),Object.defineProperty(e,fO,{value:new Map}))}function yO(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)throw new qj("observable-bind-to-parse-error",null);const r={to:[]};let i;"function"==typeof t[t.length-1]&&(r.callback=t.pop());return t.forEach((e=>{if("string"==typeof e)i.properties.push(e);else{if("object"!=typeof e)throw new qj("observable-bind-to-parse-error",null);i={observable:e,properties:[]},r.to.push(i)}})),r}(...arguments),t=Array.from(this._bindings.keys()),n=t.length;if(!e.callback&&e.to.length>1)throw new qj("observable-bind-to-no-callback",this);if(n>1&&e.callback)throw new qj("observable-bind-to-extra-callback",this);var r;e.to.forEach((e=>{if(e.properties.length&&e.properties.length!==n)throw new qj("observable-bind-to-properties-length",this);e.properties.length||(e.properties=this._bindProperties)})),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),r=this._observable,this._to.forEach((e=>{const t=r[hO];let n;t.get(e.observable)||r.listenTo(e.observable,"change",((i,o)=>{n=t.get(e.observable)[o],n&&n.forEach((e=>{_O(r,e.property)}))}))})),function(e){let t;e._bindings.forEach(((n,r)=>{e._to.forEach((i=>{t=i.properties[n.callback?0:e._bindProperties.indexOf(r)],n.to.push([i.observable,t]),function(e,t,n,r){const i=e[hO],o=i.get(n),s=o||{};s[r]||(s[r]=new Set);s[r].add(t),o||i.set(n,s)}(e._observable,n,i.observable,t)}))}))}(this),this._bindProperties.forEach((e=>{_O(this._observable,e)}))}function wO(e,t,n){if(this._bindings.size>1)throw new qj("observable-bind-to-many-not-one-binding",this);this.to(...function(e,t){const n=e.map((e=>[e,t]));return Array.prototype.concat.apply([],n)}(e,t),n)}function xO(e){return e.every((e=>"string"==typeof e))}function _O(e,t){const n=e[fO].get(t);let r;n.callback?r=n.callback.apply(e,n.to.map((e=>e[0][e[1]]))):(r=n.to[0],r=r[0][r[1]]),Object.prototype.hasOwnProperty.call(e,t)?e[t]=r:e.set(t,r)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{vO[e]=gO.prototype[e]}));function CO(e){let t=0;for(const n of e)t++;return t}function kO(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(e[r]!=t[r])return r;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}function SO(e){return!(!e||!e[Symbol.iterator])}function AO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const i=n&&n.xmlns,o=i?e.createElementNS(i,t):e.createElement(t);for(const s in n)o.setAttribute(s,n[s]);!JM(r)&&SO(r)||(r=[r]);for(let s of r)JM(s)&&(s=e.createTextNode(s)),o.appendChild(s);return o}class TO{_config;constructor(e,t){this._config={},t&&this.define(IO(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(aE(t))return void this._setObjectToTarget(e,t,r);const i=t.split(".");t=i.pop();for(const o of i)aE(e[o])||(e[o]={}),e=e[o];if(aE(n))return aE(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,n,r);r&&"undefined"!=typeof e[t]||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const r of n){if(!aE(e[r])){e=null;break}e=e[r]}return e?IO(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach((r=>{this._setToTarget(e,r,t[r],n)}))}}function IO(e){return rj(e,MO)}function MO(e){return ij(e)||"function"===typeof e?e:void 0}function EO(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}function PO(e){const t=Object.prototype.toString.apply(e);return"[object Window]"==t||"[object global]"==t}const DO=jO(rO());function jO(e){if(!e)return DO;return class extends e{listenTo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(EO(e)||PO(e)){const i={capture:!!r.useCapture,passive:!!r.usePassive},o=this._getProxyEmitter(e,i)||new OO(e,i);this.listenTo(o,t,n,r)}else super.listenTo(e,t,n,r)}stopListening(e,t,n){if(EO(e)||PO(e)){const r=this._getAllProxyEmitters(e);for(const e of r)this.stopListening(e,t,n)}else super.stopListening(e,t,n)}_getProxyEmitter(e,t){return function(e,t){const n=e[Jj];return n&&n[t]?n[t].emitter:null}(this,RO(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map((t=>this._getProxyEmitter(e,t))).filter((e=>!!e))}}}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{jO[e]=DO.prototype[e]}));class OO extends(rO()){_domNode;_options;constructor(e,t){super(),iO(this,RO(e,t)),this._domNode=e,this._options=t}_domListeners;attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),rO().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){rO().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=t=>{this.fire(e,t)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function RO(e,t){let n=function(e){return e["data-ck-expando"]||(e["data-ck-expando"]=Uj())}(e);for(const r of Object.keys(t).sort())t[r]&&(n+="-"+r);return n}function LO(e){return e instanceof HTMLTextAreaElement?e.value:e.innerHTML}function NO(e){const t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}function BO(e){if(!e.target)return null;const t=e.target.ownerDocument,n=e.clientX,r=e.clientY;let i=null;return t.caretRangeFromPoint&&t.caretRangeFromPoint(n,r)?i=t.caretRangeFromPoint(n,r):e.rangeParent&&(i=t.createRange(),i.setStart(e.rangeParent,e.rangeOffset),i.collapse(!0)),i}function FO(e){return"[object Text]"==Object.prototype.toString.call(e)}function zO(e){return"[object Range]"==Object.prototype.toString.apply(e)}function VO(e){return e&&e.parentNode?e.offsetParent===Aj.document.body?null:e.offsetParent:null}const WO=["top","right","bottom","left","width","height"];class HO{top;right;bottom;left;width;height;_source;constructor(e){const t=zO(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),YO(e)||t)if(t){const t=HO.getDomRangeRects(e);UO(this,HO.getBoundingRect(t))}else UO(this,e.getBoundingClientRect());else if(PO(e)){const{innerWidth:t,innerHeight:n}=e;UO(this,{top:0,right:t,bottom:n,left:0,width:t,height:n})}else UO(this,e)}clone(){return new HO(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const e=new HO(t);return e._source=this._source,e}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if($O(e))return t;let n,r=e,i=e.parentNode||e.commonAncestorContainer;for(;i&&!$O(i);){const e="visible"===((o=i)instanceof HTMLElement?o.ownerDocument.defaultView.getComputedStyle(o).overflow:"visible");r instanceof HTMLElement&&"absolute"===GO(r)&&(n=r);const s=GO(i);if(e||n&&("relative"===s&&e||"relative"!==s)){r=i,i=i.parentNode;continue}const a=new HO(i),l=t.getIntersection(a);if(!l)return null;l.getArea()<t.getArea()&&(t=l),r=i,i=i.parentNode}var o;return t}isEqual(e){for(const t of WO)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=Aj.window,n=this.clone().moveBy(e,t);if(YO(n._source)){const e=VO(n._source);e&&function(e,t){const n=new HO(t),r=NO(t);let i=0,o=0;i-=n.left,o-=n.top,i+=t.scrollLeft,o+=t.scrollTop,i-=r.left,o-=r.top,e.moveBy(i,o)}(n,e)}return n}excludeScrollbarsAndBorders(){const e=this._source;let t,n,r;if(PO(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,r=e.getComputedStyle(e.document.documentElement).direction;else{const i=NO(e);t=e.offsetWidth-e.clientWidth-i.left-i.right,n=e.offsetHeight-e.clientHeight-i.top-i.bottom,r=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=i.left,this.top+=i.top,this.right-=i.right,this.bottom-=i.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,"ltr"===r?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const r of n)t.push(new HO(r));else{let n=e.startContainer;FO(n)&&(n=n.parentNode);const r=new HO(n.getBoundingClientRect());r.right=r.left,r.width=0,t.push(r)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const r of e)n++,t.left=Math.min(t.left,r.left),t.top=Math.min(t.top,r.top),t.right=Math.max(t.right,r.right),t.bottom=Math.max(t.bottom,r.bottom);return 0==n?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new HO(t))}}function UO(e,t){for(const n of WO)e[n]=t[n]}function $O(e){return!!YO(e)&&e===e.ownerDocument.body}function YO(e){return null!==e&&"object"===typeof e&&1===e.nodeType&&"function"===typeof e.getBoundingClientRect}function GO(e){return e instanceof HTMLElement?e.ownerDocument.defaultView.getComputedStyle(e).position:"static"}class qO{_element;_callback;static _observerInstance=null;static _elementCallbacks=null;constructor(e,t){qO._observerInstance||qO._createObserver(),this._element=e,this._callback=t,qO._addElementCallback(e,t),qO._observerInstance.observe(e)}get element(){return this._element}destroy(){qO._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){qO._elementCallbacks||(qO._elementCallbacks=new Map);let n=qO._elementCallbacks.get(e);n||(n=new Set,qO._elementCallbacks.set(e,n)),n.add(t)}static _deleteElementCallback(e,t){const n=qO._getElementCallbacks(e);n&&(n.delete(t),n.size||(qO._elementCallbacks.delete(e),qO._observerInstance.unobserve(e))),qO._elementCallbacks&&!qO._elementCallbacks.size&&(qO._observerInstance=null,qO._elementCallbacks=null)}static _getElementCallbacks(e){return qO._elementCallbacks?qO._elementCallbacks.get(e):null}static _createObserver(){qO._observerInstance=new Aj.window.ResizeObserver((e=>{for(const t of e){const e=qO._getElementCallbacks(t.target);if(e)for(const n of e)n(t)}}))}}function XO(e,t){e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}function ZO(e){return t=>t+e}function KO(e){let t=0;for(;e.previousSibling;)e=e.previousSibling,t++;return t}function QO(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}function JO(e){return e&&e.nodeType===Node.COMMENT_NODE}function eR(e){try{Aj.document.createAttribute(e)}catch(t){return!1}return!0}function tR(e){return!!e&&(FO(e)?tR(e.parentElement):!!e.getClientRects&&!!e.getClientRects().length)}function nR(e){let{element:t,target:n,positions:r,limiter:i,fitInViewport:o,viewportOffsetConfig:s}=e;_E(n)&&(n=n()),_E(i)&&(i=i());const a=VO(t),l=function(e){e=Object.assign({top:0,bottom:0,left:0,right:0},e);const t=new HO(Aj.window);return t.top+=e.top,t.height-=e.top,t.bottom-=e.bottom,t.height-=e.bottom,t}(s),c=new HO(t),u=rR(n,l);let d;if(!u||!l.getIntersection(u))return null;const h={targetRect:u,elementRect:c,positionedElementAncestor:a,viewportRect:l};if(i||o){if(i){const e=rR(i,l);e&&(h.limiterRect=e)}d=function(e,t){const{elementRect:n}=t,r=n.getArea(),i=e.map((e=>new iR(e,t))).filter((e=>!!e.name));let o=0,s=null;for(const a of i){const{limiterIntersectionArea:e,viewportIntersectionArea:t}=a;if(e===r)return a;const n=t**2+e**2;n>o&&(o=n,s=a)}return s}(r,h)}else d=new iR(r[0],h);return d}function rR(e,t){const n=new HO(e).getVisible();return n?n.getIntersection(t):null}class iR{name;config;_positioningFunctionCoordinates;_options;_cachedRect;_cachedAbsoluteRect;constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!n)return;const{left:r,top:i,name:o,config:s}=n;this.name=o,this.config=s,this._positioningFunctionCoordinates={left:r,top:i},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function oR(e){const t=e.parentNode;t&&t.removeChild(e)}function sR(e){let{window:t,rect:n,alignToTop:r,forceScroll:i,viewportOffset:o}=e;const s=n.clone().moveBy(0,o.bottom),a=n.clone().moveBy(0,-o.top),l=new HO(t).excludeScrollbarsAndBorders(),c=r&&i,u=[a,s].every((e=>l.contains(e)));let{scrollX:d,scrollY:h}=t;const f=d,p=h;c?h-=l.top-n.top+o.top:u||(cR(a,l)?h-=l.top-n.top+o.top:lR(s,l)&&(h+=r?n.top-l.top-o.top:n.bottom-l.bottom+o.bottom)),u||(uR(n,l)?d-=l.left-n.left+o.left:dR(n,l)&&(d+=n.right-l.right+o.right)),d==f&&h===p||t.scrollTo(d,h)}function aR(e){let{parent:t,getRect:n,alignToTop:r,forceScroll:i,ancestorOffset:o=0,limiterElement:s}=e;const a=hR(t),l=r&&i;let c,u,d;const h=s||a.document.body;for(;t!=h;)u=n(),c=new HO(t).excludeScrollbarsAndBorders(),d=c.contains(u),l?t.scrollTop-=c.top-u.top+o:d||(cR(u,c)?t.scrollTop-=c.top-u.top+o:lR(u,c)&&(t.scrollTop+=r?u.top-c.top-o:u.bottom-c.bottom+o)),d||(uR(u,c)?t.scrollLeft-=c.left-u.left+o:dR(u,c)&&(t.scrollLeft+=u.right-c.right+o)),t=t.parentNode}function lR(e,t){return e.bottom>t.bottom}function cR(e,t){return e.top<t.top}function uR(e,t){return e.left<t.left}function dR(e,t){return e.right>t.right}function hR(e){return zO(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function fR(e){if(zO(e)){let t=e.commonAncestorContainer;return FO(t)&&(t=t.parentNode),t}return e.parentNode}function pR(e,t){const n=hR(e),r=new HO(e);if(n===t)return r;{let e=n;for(;e!=t;){const t=e.frameElement,n=new HO(t).excludeScrollbarsAndBorders();r.moveBy(n.left,n.top),e=e.parent}}return r}const mR={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21e7"},gR={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},vR={37:"\u2190",38:"\u2191",39:"\u2192",40:"\u2193",9:"\u21e5",33:"Page Up",34:"Page Down"},bR=kR(),yR=Object.fromEntries(Object.entries(bR).map((e=>{let t,[n,r]=e;return t=r in vR?vR[r]:n.charAt(0).toUpperCase()+n.slice(1),[r,t]})));function wR(e){let t;if("string"==typeof e){if(t=bR[e.toLowerCase()],!t)throw new qj("keyboard-unknown-key",null,{key:e})}else t=e.keyCode+(e.altKey?bR.alt:0)+(e.ctrlKey?bR.ctrl:0)+(e.shiftKey?bR.shift:0)+(e.metaKey?bR.cmd:0);return t}function xR(e){return"string"==typeof e&&(e=function(e){return e.split("+").map((e=>e.trim()))}(e)),e.map((e=>"string"==typeof e?function(e){if(e.endsWith("!"))return wR(e.slice(0,-1));const t=wR(e);return(Mj.isMac||Mj.isiOS)&&t==bR.ctrl?bR.cmd:t}(e):e)).reduce(((e,t)=>t+e),0)}function _R(e){let t=xR(e);return Object.entries(Mj.isMac||Mj.isiOS?mR:gR).reduce(((e,n)=>{let[r,i]=n;return 0!=(t&bR[r])&&(t&=~bR[r],e+=i),e}),"")+(t?yR[t]:"")}function CR(e,t){const n="ltr"===t;switch(e){case bR.arrowleft:return n?"left":"right";case bR.arrowright:return n?"right":"left";case bR.arrowup:return"up";case bR.arrowdown:return"down"}}function kR(){const e={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++){e[String.fromCharCode(t).toLowerCase()]=t}for(let t=48;t<=57;t++)e[t-48]=t;for(let t=112;t<=123;t++)e["f"+(t-111)]=t;return Object.assign(e,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),e}const SR=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function AR(e){return SR.includes(e)?"rtl":"ltr"}function TR(e){return Array.isArray(e)?e:[e]}function IR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;if("number"!==typeof n)throw new qj("translation-service-quantity-not-a-number",null,{quantity:n});const i=r||Aj.window.CKEDITOR_TRANSLATIONS,o=function(e){return Object.keys(e).length}(i);1===o&&(e=Object.keys(i)[0]);const s=t.id||t.string;if(0===o||!function(e,t,n){return!!n[e]&&!!n[e].dictionary[t]}(e,s,i))return 1!==n?t.plural:t.string;const a=i[e].dictionary,l=i[e].getPluralForm||(e=>1===e?0:1),c=a[s];if("string"===typeof c)return c;return c[Number(l(n))]}Aj.window.CKEDITOR_TRANSLATIONS||(Aj.window.CKEDITOR_TRANSLATIONS={});class MR{uiLanguage;uiLanguageDirection;contentLanguage;contentLanguageDirection;t;translations;constructor(){let{uiLanguage:e="en",contentLanguage:t,translations:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=AR(this.uiLanguage),this.contentLanguageDirection=AR(this.contentLanguage),this.translations=function(e){return Array.isArray(e)?e.reduce(((e,t)=>kj(e,t))):e}(n),this.t=(e,t)=>this._t(e,t)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t=TR(t),"string"===typeof e&&(e={string:e});const n=!!e.plural?t[0]:1;return function(e,t){return e.replace(/%(\d+)/g,((e,n)=>n<t.length?t[n]:e))}(IR(this.uiLanguage,e,n,this.translations),t)}}class ER extends(rO()){_items;_itemMap;_idProperty;_bindToCollection;_bindToExternalToInternalMap;_bindToInternalToExternalMap;_skippedIndexesFromExternal;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super();const n=SO(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const r of e)this._items.push(r),this._itemMap.set(this._getItemIdBeforeAdding(r),r)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new qj("collection-add-item-invalid-index",this);let n=0;for(const r of e){const e=this._getItemIdBeforeAdding(r),i=t+n;this._items.splice(i,0,r),this._itemMap.set(e,r),this.fire("add",r,i),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new qj("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if("string"==typeof e)return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t="string"==typeof e?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new qj("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:e=>{this._setUpBindToBinding((t=>new e(t)))},using:e=>{"function"==typeof e?this._setUpBindToBinding(e):this._setUpBindToBinding((t=>t[e]))}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(n,r,i)=>{const o=t._bindToCollection==this,s=t._bindToInternalToExternalMap.get(r);if(o&&s)this._bindToExternalToInternalMap.set(r,s),this._bindToInternalToExternalMap.set(s,r);else{const n=e(r);if(!n)return void this._skippedIndexesFromExternal.push(i);let o=i;for(const e of this._skippedIndexesFromExternal)i>e&&o--;for(const e of t._skippedIndexesFromExternal)o>=e&&o++;this._bindToExternalToInternalMap.set(r,n),this._bindToInternalToExternalMap.set(n,r),this.add(n,o);for(let e=0;e<t._skippedIndexesFromExternal.length;e++)o<=t._skippedIndexesFromExternal[e]&&t._skippedIndexesFromExternal[e]++}};for(const r of t)n(0,r,t.getIndex(r));this.listenTo(t,"add",n),this.listenTo(t,"remove",((e,t,n)=>{const r=this._bindToExternalToInternalMap.get(t);r&&this.remove(r),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(((e,t)=>(n<t&&e.push(t-1),n>t&&e.push(t),e)),[])}))}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],"string"!=typeof n)throw new qj("collection-add-invalid-id",this);if(this.get(n))throw new qj("collection-add-item-already-exists",this)}else e[t]=n=Uj();return n}_remove(e){let t,n,r,i=!1;const o=this._idProperty;if("string"==typeof e?(n=e,r=this._itemMap.get(n),i=!r,r&&(t=this._items.indexOf(r))):"number"==typeof e?(t=e,r=this._items[t],i=!r,r&&(n=r[o])):(r=e,n=r[o],t=this._items.indexOf(r),i=-1==t||!this._itemMap.get(n)),i)throw new qj("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(s),this.fire("remove",r,t),[r,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function PR(e){const t=e.next();return t.done?null:t.value}class DR extends(jO(vO())){_elements=(()=>new Set)();_nextEventLoopTimeout=null;constructor(){super(),this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}add(e){if(this._elements.has(e))throw new qj("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",(()=>this._focus(e)),{useCapture:!0}),this.listenTo(e,"blur",(()=>this._blur()),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((()=>{this.focusedElement=null,this.isFocused=!1}),0)}}class jR{_listener;constructor(){this._listener=new(jO())}listenTo(e){this._listener.listenTo(e,"keydown",((e,t)=>{this._listener.fire("_keydown:"+wR(t),t)}))}set(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=xR(e),i=n.priority;this._listener.listenTo(this._listener,"_keydown:"+r,((e,r)=>{n.filter&&!n.filter(r)||(t(r,(()=>{r.preventDefault(),r.stopPropagation(),e.stop()})),e.return=!0)}),{priority:i})}press(e){return!!this._listener.fire("_keydown:"+wR(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function OR(e){return SO(e)?new Map(e):function(e){const t=new Map;for(const n in e)t.set(n,e[n]);return t}(e)}function RR(e,t){let n;function r(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];r.cancel(),n=setTimeout((()=>e(...o)),t)}return r.cancel=()=>{clearTimeout(n)},r}function LR(e,t){return!!(n=e.charAt(t-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}(e.charAt(t));var n}function NR(e,t){return!!(n=e.charAt(t))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}const BR=zR();function FR(e,t){const n=String(e).matchAll(BR);return Array.from(n).some((e=>e.index<t&&t<e.index+e[0].length))}function zR(){const e=/\p{Regional_Indicator}{2}/u.source,t="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map((e=>e.source)).join("|")+")";return new RegExp(`${e}|${t}(?:\u200d${t})*`,"ug")}const VR=function(e){return nj(e,4)};const WR=function(e){return"symbol"==typeof e||QM(e)&&"[object Symbol]"==ZM(e)};var HR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,UR=/^\w*$/;const $R=function(e,t){if(KM(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!WR(e))||(UR.test(e)||!HR.test(e)||null!=t&&e in Object(t))};function YR(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(YR.Cache||nP),n}YR.Cache=nP;const GR=YR;const qR=function(e){var t=GR(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t};var XR=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZR=/\\(\\)?/g,KR=qR((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(XR,(function(e,n,r,i){t.push(r?i.replace(ZR,"$1"):n||e)})),t}));const QR=KR;const JR=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var eL=VM?VM.prototype:void 0,tL=eL?eL.toString:void 0;const nL=function e(t){if("string"==typeof t)return t;if(KM(t))return JR(t,e)+"";if(WR(t))return tL?tL.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};const rL=function(e){return null==e?"":nL(e)};const iL=function(e,t){return KM(e)?e:$R(e,t)?[e]:QR(rL(e))};const oL=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const sL=function(e){if("string"==typeof e||WR(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};const aL=function(e,t){for(var n=0,r=(t=iL(t,e)).length;null!=e&&n<r;)e=e[sL(t[n++])];return n&&n==r?e:void 0};const lL=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};const cL=function(e,t){return t.length<2?e:aL(e,lL(t,0,-1))};const uL=function(e,t){return t=iL(t,e),null==(e=cL(e,t))||delete e[sL(oL(t))]};const dL=function(e,t){return null==e||uL(e,t)};const hL=function(e,t,n){var r=null==e?void 0:aL(e,t);return void 0===r?n:r};const fL=function(e,t,n,r){if(!NM(e))return e;for(var i=-1,o=(t=iL(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var l=sL(t[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=s){var u=a[l];void 0===(c=r?r(u,l,a):void 0)&&(c=NM(u)?u:SP(t[i+1])?[]:{})}uP(a,l,c),a=a[l]}return e};const pL=function(e,t,n){return null==e?e:fL(e,t,n)};const mL=Cj((function(e,t){dP(t,XP(t),e)}));const gL=function(){return zM.Date.now()};var vL=/\s/;const bL=function(e){for(var t=e.length;t--&&vL.test(e.charAt(t)););return t};var yL=/^\s+/;const wL=function(e){return e?e.slice(0,bL(e)+1).replace(yL,""):e};var xL=/^[-+]0x[0-9a-f]+$/i,_L=/^0b[01]+$/i,CL=/^0o[0-7]+$/i,kL=parseInt;const SL=function(e){if("number"==typeof e)return e;if(WR(e))return NaN;if(NM(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=NM(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=wL(e);var n=_L.test(e);return n||CL.test(e)?kL(e.slice(2),n?2:8):xL.test(e)?NaN:+e};var AL=Math.max,TL=Math.min;const IL=function(e,t,n){var r,i,o,s,a,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=i;return r=i=void 0,c=t,s=e.apply(o,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function m(){var e=gL();if(p(e))return g(e);a=setTimeout(m,function(e){var n=t-(e-l);return d?TL(n,o-(e-c)):n}(e))}function g(e){return a=void 0,h&&r?f(e):(r=i=void 0,s)}function v(){var e=gL(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(m,t),u?f(e):s}(l);if(d)return clearTimeout(a),a=setTimeout(m,t),f(l)}return void 0===a&&(a=setTimeout(m,t)),s}return t=SL(t)||0,NM(n)&&(u=!!n.leading,o=(d="maxWait"in n)?AL(SL(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},v.flush=function(){return void 0===a?s:g(gL())},v};const ML=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const EL=function(e){return this.__data__.has(e)};function PL(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new nP;++t<n;)this.add(e[t])}PL.prototype.add=PL.prototype.push=ML,PL.prototype.has=EL;const DL=PL;const jL=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const OL=function(e,t){return e.has(t)};const RL=function(e,t,n,r,i,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,f=2&n?new DL:void 0;for(o.set(e,t),o.set(t,e);++d<a;){var p=e[d],m=t[d];if(r)var g=s?r(m,p,d,t,e,o):r(p,m,d,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!jL(t,(function(e,t){if(!OL(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)}))){h=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h};const LL=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};const NL=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var BL=VM?VM.prototype:void 0,FL=BL?BL.valueOf:void 0;const zL=function(e,t,n,r,i,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new jD(e),new jD(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return cE(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=LL;case"[object Set]":var l=1&r;if(a||(a=NL),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=RL(a(e),a(t),r,i,o,s);return s.delete(e),u;case"[object Symbol]":if(FL)return FL.call(e)==FL.call(t)}return!1};var VL=Object.prototype.hasOwnProperty;const WL=function(e,t,n,r,i,o){var s=1&n,a=fD(e),l=a.length;if(l!=fD(t).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in t:VL.call(t,u)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=s;++c<l;){var m=e[u=a[c]],g=t[u];if(r)var v=s?r(g,m,u,t,e,o):r(m,g,u,e,t,o);if(!(void 0===v?m===g||i(m,g,n,r,o):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(e),o.delete(t),f};var HL="[object Arguments]",UL="[object Array]",$L="[object Object]",YL=Object.prototype.hasOwnProperty;const GL=function(e,t,n,r,i,o){var s=KM(e),a=KM(t),l=s?UL:ED(e),c=a?UL:ED(t),u=(l=l==HL?$L:l)==$L,d=(c=c==HL?$L:c)==$L,h=l==c;if(h&&CP(e)){if(!CP(t))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new oP),s||RP(e)?RL(e,t,n,r,i,o):zL(e,t,l,n,r,i,o);if(!(1&n)){var f=u&&YL.call(e,"__wrapped__"),p=d&&YL.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new oP),i(m,g,n,r,o)}}return!!h&&(o||(o=new oP),WL(e,t,n,r,i,o))};const qL=function e(t,n,r,i,o){return t===n||(null==t||null==n||!QM(t)&&!QM(n)?t!==t&&n!==n:GL(t,n,r,i,e,o))};const XL=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?qL(e,t,void 0,n):!!r};const ZL=function(e){return nj(e,5)};const KL=function(e,t){return qL(e,t)},QL=new WeakMap;let JL=!1;function eN(e){let{view:t,element:n,text:r,isDirectHost:i=!0,keepOnFocus:o=!1}=e;const s=t.document;function a(e){QL.get(s).set(n,{text:e,isDirectHost:i,keepOnFocus:o,hostElement:i?n:null}),t.change((e=>nN(s,e)))}QL.has(s)||(QL.set(s,new Map),s.registerPostFixer((e=>nN(s,e))),s.on("change:isComposing",(()=>{t.change((e=>nN(s,e)))}),{priority:"high"})),n.is("editableElement")&&n.on("change:placeholder",((e,t,n)=>{a(n)})),n.placeholder?a(n.placeholder):r&&a(r),r&&function(){JL||Xj("enableplaceholder-deprecated-text-option");JL=!0}()}function tN(e,t){return!!t.hasClass("ck-placeholder")&&(e.removeClass("ck-placeholder",t),!0)}function nN(e,t){const n=QL.get(e),r=[];let i=!1;for(const[o,s]of n)s.isDirectHost&&(r.push(o),rN(t,o,s)&&(i=!0));for(const[o,s]of n){if(s.isDirectHost)continue;const e=iN(o);e&&(r.includes(e)||(s.hostElement=e,rN(t,o,s)&&(i=!0)))}return i}function rN(e,t,n){const{text:r,isDirectHost:i,hostElement:o}=n;let s=!1;o.getAttribute("data-placeholder")!==r&&(e.setAttribute("data-placeholder",r,o),s=!0);return(i||1==t.childCount)&&function(e,t){if(!e.isAttached())return!1;const n=Array.from(e.getChildren()).some((e=>!e.is("uiElement")));if(n)return!1;const r=e.document,i=r.selection.anchor;return(!r.isComposing||!i||i.parent!==e)&&(!!t||!r.isFocused||!!i&&i.parent!==e)}(o,n.keepOnFocus)?function(e,t){return!t.hasClass("ck-placeholder")&&(e.addClass("ck-placeholder",t),!0)}(e,o)&&(s=!0):tN(e,o)&&(s=!0),s}function iN(e){if(e.childCount){const t=e.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}let oN=class{is(){throw new Error("is() method is abstract")}},sN=class extends(rO(oN)){document;parent;constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new qj("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getAncestors(t),r=e.getAncestors(t);let i=0;for(;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),r=kO(t,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<n[r]}}isAfter(e){return this!=e&&(this.root===e.root&&!this.isBefore(e))}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=VR(this);return delete e.parent,e}};sN.prototype.is=function(e){return"node"===e||"view:node"===e};let aN=class e extends sN{_textData;constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(t){return t instanceof e&&(this===t||this.data===t.data)}_clone(){return new e(this.document,this.data)}};aN.prototype.is=function(e){return"$text"===e||"view:$text"===e||"text"===e||"view:text"===e||"node"===e||"view:node"===e};let lN=class extends oN{textNode;data;offsetInText;constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new qj("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new qj("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;null!==n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}};lN.prototype.is=function(e){return"$textProxy"===e||"view:$textProxy"===e||"textProxy"===e||"view:textProxy"===e};class cN{_patterns=[];constructor(){this.add(...arguments)}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r of t)("string"==typeof r||r instanceof RegExp)&&(r={name:r}),this._patterns.push(r)}match(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t)for(const e of this._patterns){const t=uN(r,e);if(t)return{element:r,pattern:e,match:t}}return null}matchAll(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)for(const t of this._patterns){const n=uN(i,t);n&&e.push({element:i,pattern:t,match:n})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const e=this._patterns[0],t=e.name;return"function"==typeof e||!t||t instanceof RegExp?null:t}}function uN(e,t){if("function"==typeof t)return t(e);const n={};return t.name&&(n.name=function(e,t){if(e instanceof RegExp)return!!t.match(e);return e===t}(t.name,e.name),!n.name)||t.attributes&&(n.attributes=function(e,t){const n=new Set(t.getAttributeKeys());aE(e)?(void 0!==e.style&&Xj("matcher-pattern-deprecated-attributes-style-key",e),void 0!==e.class&&Xj("matcher-pattern-deprecated-attributes-class-key",e)):(n.delete("style"),n.delete("class"));return dN(e,n,(e=>t.getAttribute(e)))}(t.attributes,e),!n.attributes)||t.classes&&(n.classes=function(e,t){return dN(e,t.getClassNames(),(()=>{}))}(t.classes,e),!n.classes)||t.styles&&(n.styles=function(e,t){return dN(e,t.getStyleNames(!0),(e=>t.getStyle(e)))}(t.styles,e),!n.styles)?null:n}function dN(e,t,n){const r=function(e){if(Array.isArray(e))return e.map((e=>aE(e)?(void 0!==e.key&&void 0!==e.value||Xj("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]));if(aE(e))return Object.entries(e);return[[e,!0]]}(e),i=Array.from(t),o=[];if(r.forEach((e=>{let[t,r]=e;i.forEach((e=>{(function(e,t){return!0===e||e===t||e instanceof RegExp&&t.match(e)})(t,e)&&function(e,t,n){if(!0===e)return!0;const r=n(t);return e===r||e instanceof RegExp&&!!String(r).match(e)}(r,e,n)&&o.push(e)}))})),r.length&&!(o.length<r.length))return o}class hN{_styles;_styleProcessor;constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=function(e){let t=null,n=0,r=0,i=null;const o=new Map;if(""===e)return o;";"!=e.charAt(e.length-1)&&(e+=";");for(let s=0;s<e.length;s++){const a=e.charAt(s);if(null===t)switch(a){case":":i||(i=e.substr(n,s-n),r=s+1);break;case'"':case"'":t=a;break;case";":{const t=e.substr(r,s-r);i&&o.set(i.trim(),t.trim()),i=null,n=s+1;break}}else a===t&&(t=null)}return o}(e);for(const[n,r]of t)this._styleProcessor.toNormalizedForm(n,r,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find((t=>{let[n]=t;return n===e}));return Array.isArray(t)}set(e,t){if(NM(e))for(const[n,r]of Object.entries(e))this._styleProcessor.toNormalizedForm(n,r,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=pN(e);dL(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map((e=>e.join(":"))).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!NM(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find((t=>{let[n]=t;return n===e}));return Array.isArray(t)?t[1]:void 0}getStyleNames(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty)return[];if(e)return this._styleProcessor.getStyleNames(this._styles);return this.getStylesEntries().map((e=>{let[t]=e;return t}))}clear(){this._styles={}}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const n=t.splice(0,t.length-1).join("."),r=hL(this._styles,n);if(!r)return;!Object.keys(r).length&&this.remove(n)}}class fN{_normalizers;_extractors;_reducers;_consumables;constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(NM(t))mN(n,pN(e),t);else if(this._normalizers.has(e)){const r=this._normalizers.get(e),{path:i,value:o}=r(t);mN(n,i,o)}else mN(n,e,t)}getNormalized(e,t){if(!e)return kj({},t);if(void 0!==t[e])return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if("string"===typeof n)return hL(t,n);const r=n(e,t);if(r)return r}return hL(t,pN(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);if(void 0===n)return[];if(this._reducers.has(e)){return this._reducers.get(e)(n)}return[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter((t=>{const n=this.getNormalized(t,e);return n&&"object"==typeof n?Object.keys(n).length:n})),n=new Set([...t,...Object.keys(e)]);return Array.from(n)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function pN(e){return e.replace("-",".")}function mN(e,t,n){let r=n;NM(n)&&(r=kj({},hL(e,t),n)),pL(e,t,r)}let gN=class e extends sN{name;_unsafeAttributesToRender=[];_attrs;_children;_classes;_styles;_customProperties=(()=>new Map)();constructor(e,t,n,r){if(super(e),this.name=t,this._attrs=function(e){const t=OR(e);for(const[n,r]of t)null===r?t.delete(n):"string"!=typeof r&&t.set(n,String(r));return t}(n),this._children=[],r&&this._insertChild(0,r),this._classes=new Set,this._attrs.has("class")){const e=this._attrs.get("class");vN(this._classes,e),this._attrs.delete("class")}this._styles=new hN(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if("class"==e)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==e){const e=this._styles.toString();return""==e?void 0:e}return this._attrs.get(e)}hasAttribute(e){return"class"==e?this._classes.size>0:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(t){if(!(t instanceof e))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const e of this._styles.getStyleNames())if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e))return!1;return!0}hasClass(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t)if(!this._classes.has(r))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t)if(!this._styles.has(r))return!1;return!0}findAncestor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new cN(...t);let i=this.parent;for(;i&&!i.is("documentFragment");){if(r.match(i))return i;i=i.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map((e=>`${e[0]}="${e[1]}"`)).sort().join(" ");return this.name+(""==e?"":` class="${e}"`)+(t?` style="${t}"`:"")+(""==n?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=[];if(e)for(const r of this.getChildren())t.push(r._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const r=function(e,t){if("string"==typeof t)return[new aN(e,t)];SO(t)||(t=[t]);return Array.from(t).map((t=>"string"==typeof t?new aN(e,t):t instanceof lN?new aN(e,t.data):t))}(this.document,t);for(const i of r)null!==i.parent&&i._remove(),i.parent=this,i.document=this.document,this._children.splice(e,0,i),e++,n++;return n}_removeChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),"class"==e?vN(this._classes,n):"style"==e?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of TR(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of TR(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),"string"!=typeof e?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of TR(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};function vN(e,t){const n=t.split(/\s+/);e.clear(),n.forEach((t=>e.add(t)))}gN.prototype.is=function(e,t){return t?t===this.name&&("element"===e||"view:element"===e):"element"===e||"view:element"===e||"node"===e||"view:node"===e};class bN extends gN{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=yN}}function yN(){const e=[...this.getChildren()],t=e[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const n of e)if(!n.is("uiElement"))return null;return this.childCount}bN.prototype.is=function(e,t){return t?t===this.name&&("containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class wN extends(vO(bN)){constructor(e,t,n,r){super(e,t,n,r),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",(t=>t&&e.selection.editableElement==this)),this.listenTo(e.selection,"change",(()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this}))}destroy(){this.stopListening()}}wN.prototype.is=function(e,t){return t?t===this.name&&("editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};const xN=Symbol("rootName");class _N extends wN{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(xN)}set rootName(e){this._setCustomProperty(xN,e)}set _name(e){this.name=e}}_N.prototype.is=function(e,t){return t?t===this.name&&("rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};let CN=class{direction;boundaries;singleCharacters;shallow;ignoreElementEnd;_position;_boundaryStartParent;_boundaryEndParent;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.boundaries&&!e.startPosition)throw new qj("view-tree-walker-no-start-position",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new qj("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=kN._createAt(e.startPosition):this._position=kN._createAt(e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do{n=this.position,t=this.next()}while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(null===n.parent&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let r;if(n instanceof aN){if(e.isAtEnd)return this._position=kN._createAfter(n),this._next();r=n.data[e.offset]}else r=n.getChild(e.offset);if(r instanceof gN){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new kN(r,0);return this._position=e,this._formatReturnValue("elementStart",r,t,e,1)}if(r instanceof aN){if(this.singleCharacters)return e=new kN(r,0),this._position=e,this._next();let n,i=r.data.length;return r==this._boundaryEndParent?(i=this.boundaries.end.offset,n=new lN(r,0,i),e=kN._createAfter(n)):(n=new lN(r,0,r.data.length),e.offset++),this._position=e,this._formatReturnValue("text",n,t,e,i)}if("string"==typeof r){let r;if(this.singleCharacters)r=1;else{r=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset}const i=new lN(n,e.offset,r);return e.offset+=r,this._position=e,this._formatReturnValue("text",i,t,e,r)}return e=kN._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(null===n.parent&&0===e.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let r;if(n instanceof aN){if(e.isAtStart)return this._position=kN._createBefore(n),this._previous();r=n.data[e.offset-1]}else r=n.getChild(e.offset-1);if(r instanceof gN)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",r,t,e,1)):(e=new kN(r,r.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",r,t,e));if(r instanceof aN){if(this.singleCharacters)return e=new kN(r,r.data.length),this._position=e,this._previous();let n,i=r.data.length;if(r==this._boundaryStartParent){const t=this.boundaries.start.offset;n=new lN(r,t,r.data.length-t),i=n.data.length,e=kN._createBefore(n)}else n=new lN(r,0,r.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",n,t,e,i)}if("string"==typeof r){let r;if(this.singleCharacters)r=1;else{const t=n===this._boundaryStartParent?this.boundaries.start.offset:0;r=e.offset-t}e.offset-=r;const i=new lN(n,e.offset,r);return this._position=e,this._formatReturnValue("text",i,t,e,r)}return e=kN._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,r,i){return t instanceof lN&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=kN._createAfter(t.textNode):(r=kN._createAfter(t.textNode),this._position=r)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=kN._createBefore(t.textNode):(r=kN._createBefore(t.textNode),this._position=r))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:i}}}},kN=class e extends oN{parent;offset;constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof wN);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(t){const n=e._createAt(this),r=n.offset+t;return n.offset=r<0?0:r,n}getLastMatchingPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;const n=new CN(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let r=0;for(;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return"before"==this.compareWith(e)}isAfter(e){return"after"==this.compareWith(e)}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const r=kO(t,n);switch(r){case"prefix":return"before";case"extension":return"after";default:return t[r]<n[r]?"before":"after"}}getWalker(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.startPosition=this,new CN(e)}clone(){return new e(this.parent,this.offset)}static _createAt(t,n){if(t instanceof e)return new this(t.parent,t.offset);{const r=t;if("end"==n)n=r.is("$text")?r.data.length:r.childCount;else{if("before"==n)return this._createBefore(r);if("after"==n)return this._createAfter(r);if(0!==n&&!n)throw new qj("view-createpositionat-offset-required",r)}return new e(r,n)}}static _createAfter(t){if(t.is("$textProxy"))return new e(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new qj("view-position-after-root",t,{root:t});return new e(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new e(t.textNode,t.offsetInText);if(!t.parent)throw new qj("view-position-before-root",t,{root:t});return new e(t.parent,t.index)}};kN.prototype.is=function(e){return"position"===e||"view:position"===e};let SN=class e extends oN{start;end;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new CN({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(AN,{direction:"backward"}),n=this.end.getLastMatchingPosition(AN);return t.parent.is("$text")&&t.isAtStart&&(t=kN._createBefore(t.parent)),n.parent.is("$text")&&n.isAtEnd&&(n=kN._createAfter(n.parent)),new e(t,n)}getTrimmed(){let t=this.start.getLastMatchingPosition(AN);if(t.isAfter(this.end)||t.isEqual(this.end))return new e(t,t);let n=this.end.getLastMatchingPosition(AN,{direction:"backward"});const r=t.nodeAfter,i=n.nodeBefore;return r&&r.is("$text")&&(t=new kN(r,0)),i&&i.is("$text")&&(n=new kN(i,i.data.length)),new e(t,n)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&r}getDifference(t){const n=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&n.push(new e(this.start,t.start)),this.containsPosition(t.end)&&n.push(new e(t.end,this.end))):n.push(this.clone()),n}getIntersection(t){if(this.isIntersecting(t)){let n=this.start,r=this.end;return this.containsPosition(t.start)&&(n=t.start),this.containsPosition(t.end)&&(r=t.end),new e(n,r)}return null}getWalker(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new CN(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new e(this.start,this.end)}getItems(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){t.boundaries=e,t.ignoreElementEnd=!0;const n=new CN(t);for(const e of n)yield e.item}()}getPositions(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){t.boundaries=e;const n=new CN(t);yield n.position;for(const e of n)yield e.nextPosition}()}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,r){return new this(new kN(e,t),new kN(n,r))}static _createFromPositionAndShift(e,t){const n=e,r=e.getShiftedBy(t);return t>0?new this(n,r):new this(r,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(kN._createBefore(e),t)}};function AN(e){return!(!e.item.is("attributeElement")&&!e.item.is("uiElement"))}SN.prototype.is=function(e){return"range"===e||"view:range"===e};let TN=class e extends(rO(oN)){_ranges;_lastRangeBackward;_isFake;_fakeSelectionLabel;constructor(){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",arguments.length&&this.setTo(...arguments)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const r of e._ranges)if(t.isEqual(r)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=CO(this.getRanges());if(t!=CO(e.getRanges()))return!1;if(0==t)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let t=!1;for(let r of e.getRanges())if(r=r.getTrimmed(),n.start.isEqual(r.start)&&n.end.isEqual(r.end)){t=!0;break}if(!t)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let[i,o,s]=n;if("object"==typeof o&&(s=o,o=void 0),null===i)this._setRanges([]),this._setFakeOptions(s);else if(i instanceof e||i instanceof IN)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof SN)this._setRanges([i],s&&s.backward),this._setFakeOptions(s);else if(i instanceof kN)this._setRanges([new SN(i)]),this._setFakeOptions(s);else if(i instanceof sN){const e=!!s&&!!s.backward;let t;if(void 0===o)throw new qj("view-selection-setto-required-second-parameter",this);t="in"==o?SN._createIn(i):"on"==o?SN._createOn(i):new SN(kN._createAt(i,o)),this._setRanges([t],e),this._setFakeOptions(s)}else{if(!SO(i))throw new qj("view-selection-setto-not-selectable",this);this._setRanges(i,s&&s.backward),this._setFakeOptions(s)}this.fire("change")}setFocus(e,t){if(null===this.anchor)throw new qj("view-selection-setfocus-no-ranges",this);const n=kN._createAt(e,t);if("same"==n.compareWith(this.focus))return;const r=this.anchor;this._ranges.pop(),"before"==n.compareWith(r)?this._addRange(new SN(n,r),!0):this._addRange(new SN(r,n)),this.fire("change")}_setRanges(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=Array.from(e),this._ranges=[];for(const n of e)this._addRange(n);this._lastRangeBackward=!!t}_setFakeOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof SN))throw new qj("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new qj("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new SN(e.start,e.end))}};TN.prototype.is=function(e){return"selection"===e||"view:selection"===e};let IN=class extends(rO(oN)){_selection;constructor(){super(),this._selection=new TN,this._selection.delegate("change").to(this),arguments.length&&this._selection.setTo(...arguments)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(){this._selection.setTo(...arguments)}_setFocus(e,t){this._selection.setFocus(e,t)}};IN.prototype.is=function(e){return"selection"===e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e};class MN extends Wj{startRange;_eventPhase;_currentTarget;constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const EN=Symbol("bubbling contexts");function PN(e){return class extends e{fire(e){try{const i=e instanceof Wj?e:new Wj(this,e),o=RN(this);if(!o.size)return;DN(i,"capturing",this);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(jN(o,"$capture",i,...n))return i.return;const s=i.startRange||this.selection.getFirstRange(),a=s?s.getContainedElement():null,l=!!a&&Boolean(ON(o,a));let c=a||function(e){if(!e)return null;const t=e.start.parent,n=e.end.parent,r=t.getPath(),i=n.getPath();return r.length>i.length?t:n}(s);if(DN(i,"atTarget",c),!l){if(jN(o,"$text",i,...n))return i.return;DN(i,"bubbling",c)}for(;c;){if(c.is("rootElement")){if(jN(o,"$root",i,...n))return i.return}else if(c.is("element")&&jN(o,c.name,i,...n))return i.return;if(jN(o,c,i,...n))return i.return;c=c.parent,DN(i,"bubbling",c)}return DN(i,"bubbling",this),jN(o,"$document",i,...n),i.return}catch(i){qj.rethrowUnexpectedError(i,this)}}_addEventListener(e,t,n){const r=TR(n.context||"$document"),i=RN(this);for(const o of r){let r=i.get(o);r||(r=new(rO()),i.set(o,r)),this.listenTo(r,e,t,n)}}_removeEventListener(e,t){const n=RN(this);for(const r of n.values())this.stopListening(r,e,t)}}}{const e=PN(Object);["fire","_addEventListener","_removeEventListener"].forEach((t=>{PN[t]=e.prototype[t]}))}function DN(e,t,n){e instanceof MN&&(e._eventPhase=t,e._currentTarget=n)}function jN(e,t,n){const r="string"==typeof t?e.get(t):ON(e,t);if(!r)return!1;for(var i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];return r.fire(n,...o),n.stop.called}function ON(e,t){for(const[n,r]of e)if("function"==typeof n&&n(t))return r;return null}function RN(e){return e[EN]||(e[EN]=new Map),e[EN]}let LN=class extends(PN(vO())){selection;roots;stylesProcessor;_postFixers=(()=>new Set)();constructor(e){super(),this.selection=new IN,this.roots=new ER({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach((e=>e.destroy())),this.stopListening()}_callPostFixers(e){let t=!1;do{for(const n of this._postFixers)if(t=n(e),t)break}while(t)}};class NN extends gN{static DEFAULT_PRIORITY=10;_priority=10;_id=null;_clonesGroup=null;constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=BN}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new qj("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return null!==this.id||null!==e.id?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function BN(){if(FN(this))return null;let e=this.parent;for(;e&&e.is("attributeElement");){if(FN(e)>1)return null;e=e.parent}return!e||FN(e)>1?null:this.childCount}function FN(e){return Array.from(e.getChildren()).filter((e=>!e.is("uiElement"))).length}NN.prototype.is=function(e,t){return t?t===this.name&&("attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e):"attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class zN extends gN{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=VN}_insertChild(e,t){if(t&&(t instanceof sN||Array.from(t).length>0))throw new qj("view-emptyelement-cannot-add",[this,t]);return 0}}function VN(){return null}zN.prototype.is=function(e,t){return t?t===this.name&&("emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e):"emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class WN extends gN{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=UN}_insertChild(e,t){if(t&&(t instanceof sN||Array.from(t).length>0))throw new qj("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const n of this.getAttributeKeys())t.setAttribute(n,this.getAttribute(n));return t}}function HN(e){e.document.on("arrowKey",((t,n)=>function(e,t,n){if(t.keyCode==bR.arrowright){const e=t.domTarget.ownerDocument.defaultView.getSelection(),r=1==e.rangeCount&&e.getRangeAt(0).collapsed;if(r||t.shiftKey){const t=e.focusNode,i=e.focusOffset,o=n.domPositionToView(t,i);if(null===o)return;let s=!1;const a=o.getLastMatchingPosition((e=>(e.item.is("uiElement")&&(s=!0),!(!e.item.is("uiElement")&&!e.item.is("attributeElement")))));if(s){const t=n.viewPositionToDom(a);r?e.collapse(t.parent,t.offset):e.extend(t.parent,t.offset)}}}}(0,n,e.domConverter)),{priority:"low"})}function UN(){return null}WN.prototype.is=function(e,t){return t?t===this.name&&("uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e):"uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class $N extends gN{constructor(e,t,n,r){super(e,t,n,r),this.getFillerOffset=YN}_insertChild(e,t){if(t&&(t instanceof sN||Array.from(t).length>0))throw new qj("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function YN(){return null}$N.prototype.is=function(e,t){return t?t===this.name&&("rawElement"===e||"view:rawElement"===e||"element"===e||"view:element"===e):"rawElement"===e||"view:rawElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e};let GN=class extends(rO(oN)){document;_children=[];_customProperties=(()=>new Map)();constructor(e,t){super(),this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const r=function(e,t){if("string"==typeof t)return[new aN(e,t)];SO(t)||(t=[t]);return Array.from(t).map((t=>"string"==typeof t?new aN(e,t):t instanceof lN?new aN(e,t.data):t))}(this.document,t);for(const i of r)null!==i.parent&&i._remove(),i.parent=this,this._children.splice(e,0,i),e++,n++;return n}_removeChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}};GN.prototype.is=function(e){return"documentFragment"===e||"view:documentFragment"===e};class qN{document;_cloneGroups=(()=>new Map)();_slotFactory=null;constructor(e){this.document=e}setSelection(){this.document.selection._setTo(...arguments)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new GN(this.document,e)}createText(e){return new aN(this.document,e)}createAttributeElement(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new NN(this.document,e,t);return"number"===typeof n.priority&&(r._priority=n.priority),n.id&&(r._id=n.id),n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}createContainerElement(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=null;aE(n)?r=n:i=n;const o=new bN(this.document,e,t,i);return r.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),o}createEditableElement(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new wN(this.document,e,t);return n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}createEmptyElement(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new zN(this.document,e,t);return n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}createUIElement(e,t,n){const r=new WN(this.document,e,t);return n&&(r.render=n),r}createRawElement(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=new $N(this.document,e,t);return n&&(i.render=n),r.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),i}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){aE(e)&&void 0===n?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof kN?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new qj("view-writer-break-non-container-element",this.document);if(!t.parent)throw new qj("view-writer-break-root",this.document);if(e.isAtStart)return kN._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(kN._createAfter(t),n);const r=new SN(e,kN._createAt(t,"end")),i=new kN(n,0);this.move(r,i)}return kN._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&0===n.childCount){const e=n.parent,t=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new kN(e,t))}const r=n.getChild(t-1),i=n.getChild(t);if(!r||!i)return e;if(r.is("$text")&&i.is("$text"))return JN(r,i);if(r.is("attributeElement")&&i.is("attributeElement")&&r.isSimilar(i)){const e=r.childCount;return r._appendChild(i.getChildren()),i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new kN(r,e))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!t||!n||!t.is("containerElement")||!n.is("containerElement"))throw new qj("view-writer-merge-containers-invalid-position",this.document);const r=t.getChild(t.childCount-1),i=r instanceof aN?kN._createAt(r,"end"):kN._createAt(t,"end");return this.move(SN._createIn(n),kN._createAt(t,"end")),this.remove(SN._createOn(n)),i}insert(e,t){tB(t=SO(t)?[...t]:[t],this.document);const n=t.reduce(((e,t)=>{const n=e[e.length-1],r=!t.is("uiElement");return n&&n.breakAttributes==r?n.nodes.push(t):e.push({breakAttributes:r,nodes:[t]}),e}),[]);let r=null,i=e;for(const{nodes:o,breakAttributes:s}of n){const e=this._insertNodes(i,o,s);r||(r=e.start),i=e.end}return r?new SN(r,i):new SN(e)}remove(e){const t=e instanceof SN?e:SN._createOn(e);if(rB(t,this.document),t.isCollapsed)return new GN(this.document);const{start:n,end:r}=this._breakAttributesRange(t,!0),i=n.parent,o=r.offset-n.offset,s=i._removeChildren(n.offset,o);for(const l of s)this._removeFromClonedElementsGroup(l);const a=this.mergeAttributes(n);return t.start=a,t.end=a.clone(),new GN(this.document,s)}clear(e,t){rB(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const r of n){const n=r.item;let i;if(n.is("element")&&t.isSimilar(n))i=SN._createOn(n);else if(!r.nextPosition.isAfter(e.start)&&n.is("$textProxy")){const e=n.getAncestors().find((e=>e.is("element")&&t.isSimilar(e)));e&&(i=SN._createIn(e))}i&&(i.end.isAfter(e.end)&&(i.end=e.end),i.start.isBefore(e.start)&&(i.start=e.start),this.remove(i))}}move(e,t){let n;if(t.isAfter(e.end)){const r=(t=this._breakAttributes(t,!0)).parent,i=r.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=r.childCount-i}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof NN))throw new qj("view-writer-wrap-invalid-attribute",this.document);if(rB(e,this.document),e.isCollapsed){let r=e.start;r.parent.is("element")&&(n=r.parent,!Array.from(n.getChildren()).some((e=>!e.is("uiElement"))))&&(r=r.getLastMatchingPosition((e=>e.item.is("uiElement")))),r=this._wrapPosition(r,t);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(e.start)&&this.setSelection(r),new SN(r)}return this._wrapRange(e,t);var n}unwrap(e,t){if(!(t instanceof NN))throw new qj("view-writer-unwrap-invalid-attribute",this.document);if(rB(e,this.document),e.isCollapsed)return e;const{start:n,end:r}=this._breakAttributesRange(e,!0),i=n.parent,o=this._unwrapChildren(i,n.offset,r.offset,t),s=this.mergeAttributes(o.start);s.isEqual(o.start)||o.end.offset--;const a=this.mergeAttributes(o.end);return new SN(s,a)}rename(e,t){const n=new bN(this.document,e,t.getAttributes());return this.insert(kN._createAfter(t),n),this.move(SN._createIn(t),kN._createAt(n,0)),this.remove(SN._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return kN._createAt(e,t)}createPositionAfter(e){return kN._createAfter(e)}createPositionBefore(e){return kN._createBefore(e)}createRange(e,t){return new SN(e,t)}createRangeOn(e){return SN._createOn(e)}createRangeIn(e){return SN._createIn(e)}createSelection(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TN(...t)}createSlot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"children";if(!this._slotFactory)throw new qj("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let r,i;if(r=n?XN(e):e.parent.is("$text")?e.parent.parent:e.parent,!r)throw new qj("view-writer-invalid-position-container",this.document);i=n?this._breakAttributes(e,!0):e.parent.is("$text")?QN(e):e;const o=r._insertChild(i.offset,t);for(const c of t)this._addToClonedElementsGroup(c);const s=i.getShiftedBy(o),a=this.mergeAttributes(i);a.isEqual(i)||s.offset--;const l=this.mergeAttributes(s);return new SN(a,l)}_wrapChildren(e,t,n,r){let i=t;const o=[];for(;i<n;){const t=e.getChild(i),n=t.is("$text"),s=t.is("attributeElement");if(s&&this._wrapAttributeElement(r,t))o.push(new kN(e,i));else if(n||!s||ZN(r,t)){const n=r._clone();t._remove(),n._appendChild(t),e._insertChild(i,n),this._addToClonedElementsGroup(n),o.push(new kN(e,i))}else this._wrapChildren(t,0,t.childCount,r);i++}let s=0;for(const a of o){if(a.offset-=s,a.offset==t)continue;this.mergeAttributes(a).isEqual(a)||(s++,n--)}return SN._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,r){let i=t;const o=[];for(;i<n;){const t=e.getChild(i);if(t.is("attributeElement"))if(t.isSimilar(r)){const r=t.getChildren(),s=t.childCount;t._remove(),e._insertChild(i,r),this._removeFromClonedElementsGroup(t),o.push(new kN(e,i),new kN(e,i+s)),i+=s,n+=s-1}else this._unwrapAttributeElement(r,t)?(o.push(new kN(e,i),new kN(e,i+1)),i++):(this._unwrapChildren(t,0,t.childCount,r),i++);else i++}let s=0;for(const a of o){if(a.offset-=s,a.offset==t||a.offset==n)continue;this.mergeAttributes(a).isEqual(a)||(s++,n--)}return SN._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:r}=this._breakAttributesRange(e,!0),i=n.parent,o=this._wrapChildren(i,n.offset,r.offset,t),s=this.mergeAttributes(o.start);s.isEqual(o.start)||o.end.offset--;const a=this.mergeAttributes(o.end);return new SN(s,a)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return KN(e.clone());e.parent.is("$text")&&(e=QN(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const r=new SN(e,e.getShiftedBy(1));this.wrap(r,t);const i=new kN(n.parent,n.index);n._remove();const o=i.nodeBefore,s=i.nodeAfter;return o instanceof aN&&s instanceof aN?JN(o,s):KN(i)}_wrapAttributeElement(e,t){if(!iB(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if("class"!==n&&"style"!==n&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())"class"!==n&&"style"!==n&&(t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t));for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!iB(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if("class"!==n&&"style"!==n&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.start,r=e.end;if(rB(e,this.document),e.isCollapsed){const n=this._breakAttributes(e.start,t);return new SN(n,n)}const i=this._breakAttributes(r,t),o=i.parent.childCount,s=this._breakAttributes(n,t);return i.offset+=i.parent.childCount-o,new SN(s,i)}_breakAttributes(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.offset,r=e.parent;if(e.parent.is("emptyElement"))throw new qj("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new qj("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new qj("view-writer-cannot-break-raw-element",this.document);if(!t&&r.is("$text")&&nB(r.parent))return e.clone();if(nB(r))return e.clone();if(r.is("$text"))return this._breakAttributes(QN(e),t);if(n==r.childCount){const e=new kN(r.parent,r.index+1);return this._breakAttributes(e,t)}if(0===n){const e=new kN(r.parent,r.index);return this._breakAttributes(e,t)}{const e=r.index+1,i=r._clone();r.parent._insertChild(e,i),this._addToClonedElementsGroup(i);const o=r.childCount-n,s=r._removeChildren(n,o);i._appendChild(s);const a=new kN(r.parent,e);return this._breakAttributes(a,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const r of e.getChildren())this._addToClonedElementsGroup(r);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const r of e.getChildren())this._removeFromClonedElementsGroup(r);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function XN(e){let t=e.parent;for(;!nB(t);){if(!t)return;t=t.parent}return t}function ZN(e,t){return e.priority<t.priority||!(e.priority>t.priority)&&e.getIdentity()<t.getIdentity()}function KN(e){const t=e.nodeBefore;if(t&&t.is("$text"))return new kN(t,t.data.length);const n=e.nodeAfter;return n&&n.is("$text")?new kN(n,0):e}function QN(e){if(e.offset==e.parent.data.length)return new kN(e.parent.parent,e.parent.index+1);if(0===e.offset)return new kN(e.parent.parent,e.parent.index);const t=e.parent.data.slice(e.offset);return e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new aN(e.root.document,t)),new kN(e.parent.parent,e.parent.index+1)}function JN(e,t){const n=e.data.length;return e._data+=t.data,t._remove(),new kN(e,n)}const eB=[aN,NN,bN,zN,$N,WN];function tB(e,t){for(const n of e){if(!eB.some((e=>n instanceof e)))throw new qj("view-writer-insert-invalid-node-type",t);n.is("$text")||tB(n.getChildren(),t)}}function nB(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function rB(e,t){const n=XN(e.start),r=XN(e.end);if(!n||!r||n!==r)throw new qj("view-writer-invalid-range-container",t)}function iB(e,t){return null===e.id&&null===t.id}const oB=e=>e.createTextNode("\xa0"),sB=e=>{const t=e.createElement("span");return t.dataset.ckeFiller="true",t.innerText="\xa0",t},aB=e=>{const t=e.createElement("br");return t.dataset.ckeFiller="true",t},lB=7,cB="\u2060".repeat(lB);function uB(e){return"string"==typeof e?e.substr(0,lB)===cB:FO(e)&&e.data.substr(0,lB)===cB}function dB(e){return e.data.length==lB&&uB(e)}function hB(e){const t="string"==typeof e?e:e.data;return uB(e)?t.slice(lB):t}function fB(e,t){if(t.keyCode==bR.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(1==e.rangeCount&&e.getRangeAt(0).collapsed){const t=e.getRangeAt(0).startContainer,n=e.getRangeAt(0).startOffset;uB(t)&&n<=lB&&e.collapse(t,0)}}}class pB extends(vO()){domDocuments=(()=>new Set)();domConverter;markedAttributes=(()=>new Set)();markedChildren=(()=>new Set)();markedTexts=(()=>new Set)();selection;_inlineFiller=null;_fakeSelectionContainer=null;constructor(e,t){super(),this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),Mj.isBlink&&!Mj.isAndroid&&this.on("change:isSelecting",(()=>{this.isSelecting||this.render()}))}markToSync(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new qj("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!Mj.isAndroid)return;let e=null;const t=!(Mj.isBlink&&!Mj.isAndroid)||!this.isSelecting;for(const n of this.markedChildren)this._updateChildrenMappings(n);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=kN._createBefore(e.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:e});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:e});if(t)if(e){const t=this.domConverter.viewPositionToDom(e),n=t.parent.ownerDocument;uB(t.parent)?this._inlineFiller=t.parent:this._inlineFiller=mB(n,t.parent,t.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.childNodes),r=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),i=this._diffNodeLists(n,r),o=this._findUpdateActions(i,n,r,gB);if(-1!==o.indexOf("update")){const t={equal:0,insert:0,delete:0};for(const i of o)if("update"===i){const i=t.equal+t.insert,o=t.equal+t.delete,s=e.getChild(i);!s||s.is("uiElement")||s.is("rawElement")||this._updateElementMappings(s,n[o]),oR(r[i]),t.equal++}else t[i]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?kN._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&FO(t.parent)&&uB(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!uB(e))throw new qj("view-renderer-filler-was-lost",this);dB(e)?e.remove():e.data=e.data.substr(lB),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root))return!1;if(!t.is("element"))return!1;if(!function(e){if("false"==e.getAttribute("contenteditable"))return!1;const t=e.findAncestor((e=>e.hasAttribute("contenteditable")));return!t||"true"==t.getAttribute("contenteditable")}(t))return!1;const r=e.nodeBefore,i=e.nodeAfter;return!(r instanceof aN||i instanceof aN)&&(!!(n!==t.getFillerOffset()||r&&r.is("element","br"))&&(!Mj.isAndroid||!r&&!i))}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let r=this.domConverter.viewToDom(e).data;const i=t.inlineFillerPosition;i&&i.parent==e.parent&&i.offset==e.index&&(r=cB+r),this._updateTextNode(n,r)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map((e=>e.name)),r=e.getAttributeKeys();for(const i of r)this.domConverter.setDomElementAttribute(t,i,e.getAttribute(i),e);for(const i of n)e.hasAttribute(i)||this.domConverter.removeDomElementAttribute(t,i)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(Mj.isAndroid){let e=null;for(const t of Array.from(n.childNodes)){if(e&&FO(e)&&FO(t)){n.normalize();break}e=t}}const r=t.inlineFillerPosition,i=n.childNodes,o=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));r&&r.parent===e&&mB(n.ownerDocument,o,r.offset);const s=this._diffNodeLists(i,o),a=this._findUpdateActions(s,i,o,vB);let l=0;const c=new Set;for(const u of a)"delete"===u?(c.add(i[l]),oR(i[l])):"equal"!==u&&"update"!==u||l++;l=0;for(const u of a)"insert"===u?(QO(n,l,o[l]),l++):"update"===u?(this._updateTextNode(i[l],o[l].data),l++):"equal"===u&&(this._markDescendantTextToSync(this.domConverter.domToView(o[l])),l++);for(const u of c)u.parentNode||this.domConverter.unbindDomElement(u)}_diffNodeLists(e,t){return e=function(e,t){const n=Array.from(e);if(0==n.length||!t)return n;const r=n[n.length-1];r==t&&n.pop();return n}(e,this._fakeSelectionContainer),Vj(e,t,bB.bind(null,this.domConverter))}_findUpdateActions(e,t,n,r){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;let i=[],o=[],s=[];const a={equal:0,insert:0,delete:0};for(const l of e)"insert"===l?s.push(n[a.equal+a.insert]):"delete"===l?o.push(t[a.equal+a.delete]):(i=i.concat(Vj(o,s,r).map((e=>"equal"===e?"update":e))),i.push("equal"),o=[],s=[]),a[l]++;return i.concat(Vj(o,s,r).map((e=>"equal"===e?"update":e)))}_updateTextNode(e,t){const n=e.data;n!=t&&(Mj.isAndroid&&this.isComposing&&n.replace(/\u00A0/g," ")==t.replace(/\u00A0/g," ")||this._updateTextNodeInternal(e,t))}_updateTextNodeInternal(e,t){const n=Bj(e.data,t);for(const r of n)"insert"===r.type?e.insertData(r.index,r.values.join("")):e.deleteData(r.index,r.howMany)}_markDescendantTextToSync(e){if(e)if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}_updateSelection(){if(Mj.isBlink&&!Mj.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&Mj.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(e){const t=e.createElement("div");return t.className="ck-fake-selection-container",Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent="\xa0",t}(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"\xa0";const r=t.getSelection(),i=t.createRange();r.removeAllRanges(),i.selectNodeContents(n),r.addRange(i)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(n.parent,n.offset,r.parent,r.offset),Mj.isGecko&&function(e,t){let n=e.parent,r=e.offset;FO(n)&&dB(n)&&(r=KO(n)+1,n=n.parentNode);if(n.nodeType!=Node.ELEMENT_NODE||r!=n.childNodes.length-1)return;const i=n.childNodes[r];i&&"BR"==i.tagName&&t.addRange(t.getRangeAt(0))}(r,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||(n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel)}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,r=this.domConverter.mapDomToView(n);n&&r&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function mB(e,t,n){const r=t instanceof Array?t:t.childNodes,i=r[n];if(FO(i))return i.data=cB+i.data,i;{const i=e.createTextNode(cB);return Array.isArray(t)?r.splice(n,0,i):QO(t,n,i),i}}function gB(e,t){return EO(e)&&EO(t)&&!FO(e)&&!FO(t)&&!JO(e)&&!JO(t)&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}function vB(e,t){return EO(e)&&EO(t)&&FO(e)&&FO(t)}function bB(e,t,n){return t===n||(FO(t)&&FO(n)?t.data===n.data:!(!e.isBlockFiller(t)||!e.isBlockFiller(n)))}const yB=aB(Aj.document),wB=oB(Aj.document),xB=sB(Aj.document),_B="data-ck-unsafe-attribute-",CB="data-ck-unsafe-element";class kB{document;renderingMode;blockFillerMode;preElements;blockElements;inlineObjectElements;unsafeElements;_domDocument;_domToViewMapping=(()=>new WeakMap)();_viewToDomMapping=(()=>new WeakMap)();_fakeSelectionMapping=(()=>new WeakMap)();_rawContentElementMatcher=(()=>new cN)();_inlineObjectElementMatcher=(()=>new cN)();_elementsWithTemporaryCustomProperties=(()=>new Set)();constructor(e){let{blockFillerMode:t,renderingMode:n="editing"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.document=e,this.renderingMode=n,this.blockFillerMode=t||("editing"===n?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?Aj.document:Aj.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new TN(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const t of Array.from(e.children))this.unbindDomElement(t)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return"data"===this.renderingMode||!(e=e.toLowerCase()).startsWith("on")&&(("srcdoc"!==e||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===n&&("src"===e||"srcset"===e)||("source"===n&&"srcset"===e||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))))}setContentOf(e,t){if("data"===this.renderingMode)return void(e.innerHTML=t);const n=(new DOMParser).parseFromString(t,"text/html"),r=n.createDocumentFragment(),i=n.body.childNodes;for(;i.length>0;)r.appendChild(i[0]);const o=n.createTreeWalker(r,NodeFilter.SHOW_ELEMENT),s=[];let a;for(;a=o.nextNode();)s.push(a);for(const l of s){for(const t of l.getAttributeNames())this.setDomElementAttribute(l,t,l.getAttribute(t));const e=l.tagName.toLowerCase();this._shouldRenameElement(e)&&(TB(e),l.replaceWith(this._createReplacementDomElement(e,l)))}for(;e.firstChild;)e.firstChild.remove();e.append(r)}viewToDom(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.is("$text")){const t=this._processDataFromViewText(e);return this._domDocument.createTextNode(t)}{const n=e;if(this.mapViewToDom(n)){if(!n.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(n);this._elementsWithTemporaryCustomProperties.add(n)}let r;if(n.is("documentFragment"))r=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(r,n);else{if(n.is("uiElement"))return r="$comment"===n.name?this._domDocument.createComment(n.getCustomProperty("$rawContent")):n.render(this._domDocument,this),t.bind&&this.bindElements(r,n),r;this._shouldRenameElement(n.name)?(TB(n.name),r=this._createReplacementDomElement(n.name)):r=n.hasAttribute("xmlns")?this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(r,this),t.bind&&this.bindElements(r,n);for(const e of n.getAttributeKeys())this.setDomElementAttribute(r,e,n.getAttribute(e),n)}if(!1!==t.withChildren)for(const e of this.viewChildrenToDom(n,t))r instanceof HTMLTemplateElement?r.content.appendChild(e):r.appendChild(e);return r}}setDomElementAttribute(e,t,n,r){const i=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||r&&r.shouldRenderUnsafeAttribute(t);i||Xj("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),eR(t)?(e.hasAttribute(t)&&!i?e.removeAttribute(t):e.hasAttribute(_B+t)&&i&&e.removeAttribute(_B+t),e.setAttribute(i?t:_B+t,n)):Xj("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:n})}removeDomElementAttribute(e,t){t!=CB&&(e.removeAttribute(t),e.removeAttribute(_B+t))}viewChildrenToDom(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){const r=e.getFillerOffset&&e.getFillerOffset();let i=0;for(const o of e.getChildren()){r===i&&(yield t._getBlockFiller());const e=o.is("element")&&!!o.getCustomProperty("dataPipeline:transparentRendering")&&!PR(o.getAttributes());if(e&&"data"==t.renderingMode)if(o.is("rawElement")){const e=t._domDocument.createElement(o.name);o.render(e,t),yield*[...e.childNodes]}else yield*t.viewChildrenToDom(o,n);else e&&Xj("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:o}),yield t.viewToDom(o,n);i++}r===i&&(yield t._getBlockFiller())}()}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),r=this._domDocument.createRange();return r.setStart(t.parent,t.offset),r.setEnd(n.parent,n.offset),r}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let r=e.offset;return uB(n)&&(r+=lB),{parent:n,offset:r}}{let n,r,i;if(0===e.offset){if(n=this.mapViewToDom(t),!n)return null;i=n.childNodes[0]}else{const t=e.nodeBefore;if(r=t.is("$text")?this.findCorrespondingDomText(t):this.mapViewToDom(t),!r)return null;n=r.parentNode,i=r.nextSibling}if(FO(i)&&uB(i))return{parent:i,offset:lB};return{parent:n,offset:r?KO(r)+1:0}}}domToView(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],r=this._domToView(e,t,n),i=r.next().value;return i?(r.next(),this._processDomInlineNodes(null,n,t),i.is("$text")&&0==i.data.length?null:i):null}domChildrenToView(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function*(){let i=[];i=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let o=0;o<i.length;o++){const s=i[o],a=t._domToView(s,n,r),l=a.next().value;null!==l&&(t._isBlockViewElement(l)&&t._processDomInlineNodes(e,r,n),yield l,a.next())}t._processDomInlineNodes(e,r,n)}()}domSelectionToView(e){if(function(e){if(!Mj.isGecko)return!1;if(!e.rangeCount)return!1;const t=e.getRangeAt(0).startContainer;try{Object.prototype.toString.call(t)}catch(n){return!0}return!1}(e))return new TN([]);if(1===e.rangeCount){let t=e.getRangeAt(0).startContainer;FO(t)&&(t=t.parentNode);const n=this.fakeSelectionToView(t);if(n)return n}const t=this.isDomSelectionBackward(e),n=[];for(let r=0;r<e.rangeCount;r++){const t=e.getRangeAt(r),i=this.domRangeToView(t);i&&n.push(i)}return new TN(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new SN(t,n):null}domPositionToView(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,KO(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return kN._createBefore(n);if(FO(e)){if(dB(e))return this.domPositionToView(e.parentNode,KO(e));const n=this.findCorrespondingViewText(e);let r=t;return n?(uB(e)&&(r-=lB,r=r<0?0:r),new kN(n,r)):null}if(0===t){const t=this.mapDomToView(e);if(t)return new kN(t,0)}else{const n=e.childNodes[t-1];if(FO(n)&&dB(n)||n&&this.isBlockFiller(n))return this.domPositionToView(n.parentNode,KO(n));const r=FO(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(r&&r.parent)return new kN(r.parent,r.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(dB(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const e=this.mapDomToView(n);if(e){const t=e.nextSibling;return t instanceof aN?t:null}}else{const t=this.mapDomToView(e.parentNode);if(t){const e=t.getChild(0);return e instanceof aN?e:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:e,scrollY:n}=Aj.window,r=[];SB(t,(e=>{const{scrollLeft:t,scrollTop:n}=e;r.push([t,n])})),t.focus(),SB(t,(e=>{const[t,n]=r.shift();e.scrollLeft=t,e.scrollTop=n})),Aj.window.scrollTo(e,n)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(t);n&&n.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return"br"==this.blockFillerMode?e.isEqualNode(yB):!("BR"!==e.tagName||!AB(e,this.blockElements)||1!==e.parentNode.childNodes.length)||(e.isEqualNode(xB)||function(e,t){const n=e.isEqualNode(wB);return n&&AB(e,t)&&1===e.parentNode.childNodes.length}(e,this.blockElements))}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch(_ke){return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=function(e){const t=[];let n=e;for(;n&&n.nodeType!=Node.DOCUMENT_NODE;)t.unshift(n),n=n.parentNode;return t}(e);for(t.pop();t.length;){const e=t.pop(),n=this._domToViewMapping.get(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return n}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return oB(this._domDocument);case"markedNbsp":return sB(this._domDocument);case"br":return aB(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(FO(e)&&uB(e)&&t<lB)return!1;if(this.isElement(e)&&uB(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!n||!n.is("uiElement")&&!n.is("rawElement")}*_domToView(e,t,n){if(this.isBlockFiller(e))return null;const r=this.getHostViewElement(e);if(r)return r;if(JO(e)&&t.skipComments)return null;if(FO(e)){if(dB(e))return null;{const t=e.data;if(""===t)return null;const r=new aN(this.document,t);return n.push(r),r}}{let r=this.mapDomToView(e);if(r)return this._isInlineObjectElement(r)&&n.push(r),r;if(this.isDocumentFragment(e))r=new GN(this.document),t.bind&&this.bindDocumentFragments(e,r);else{r=this._createViewElement(e,t),t.bind&&this.bindElements(e,r);const i=e.attributes;if(i)for(let e=i.length,t=0;t<e;t++)r._setAttribute(i[t].name,i[t].value);if(this._isViewElementWithRawContent(r,t))return r._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(r)||n.push(r),r;if(JO(e))return r._setCustomProperty("$rawContent",e.data),r}yield r;const i=[];if(!1!==t.withChildren)for(const n of this.domChildrenToView(e,t,i))r._appendChild(n);if(this._isInlineObjectElement(r))n.push(r);else for(const e of i)n.push(e)}}_processDomInlineNodes(e,t,n){if(!t.length)return;if(e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let r=!1;for(let i=0;i<t.length;i++){const e=t[i];if(!e.is("$text")){r=!1;continue}let o,s=!1;if(this._isPreFormatted(e))o=hB(e.data);else{o=e.data.replace(/[ \n\t\r]{1,}/g," "),s=/[^\S\u00A0]/.test(o.charAt(o.length-1));const a=i>0?t[i-1]:null,l=i+1<t.length?t[i+1]:null,c=!a||a.is("element")&&"br"==a.name||r,u=!l&&!uB(e.data);!1!==n.withChildren&&(c&&(o=o.replace(/^ /,"")),u&&(o=o.replace(/ $/,""))),o=hB(o),o=o.replace(/ \u00A0/g,"  ");const d=l&&l.is("element")&&"br"!=l.name,h=l&&l.is("$text")&&" "==l.data.charAt(0);(/[ \u00A0]\u00A0$/.test(o)||!l||d||h)&&(o=o.replace(/\u00A0$/," ")),(c||a&&a.is("element")&&"br"!=a.name)&&(o=o.replace(/^\u00A0/," "))}0==o.length&&e.parent?(e._remove(),t.splice(i,1),i--):(e._data=o,r=s)}t.length=0}_processDataFromViewText(e){let t=e.data;if(this._isPreFormatted(e))return t;if(" "==t.charAt(0)){const n=this._getTouchingInlineViewNode(e,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(t="\xa0"+t.substr(1))}if(" "==t.charAt(t.length-1)){const n=this._getTouchingInlineViewNode(e,!0),r=n&&n.is("$textProxy")&&" "==n.data.charAt(0);" "!=t.charAt(t.length-2)&&n&&!r||(t=t.substr(0,t.length-1)+"\xa0")}return t.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(e){if(this._isPreFormatted(e))return!1;const t=this._processDataFromViewText(e);return" "==t.charAt(t.length-1)}_isPreFormatted(e){if(function(e,t){return e.getAncestors().some((e=>e.is("element")&&t.includes(e.name)))}(e,this.preElements))return!0;for(const t of e.getAncestors({parentFirst:!0}))if(t.is("element")&&t.hasStyle("white-space")&&"inherit"!==t.getStyle("white-space"))return["pre","pre-wrap","break-spaces"].includes(t.getStyle("white-space"));return!1}_getTouchingInlineViewNode(e,t){const n=new CN({startPosition:t?kN._createAfter(e):kN._createBefore(e),direction:t?"forward":"backward"});for(const{item:r}of n){if(r.is("$textProxy"))return r;if(!r.is("element")||!r.getCustomProperty("dataPipeline:transparentRendering")){if(r.is("element","br"))return null;if(this._isInlineObjectElement(r))return r;if(r.is("containerElement"))return null}}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&("br"==e.name||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if(JO(e))return new WN(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new gN(this.document,n)}_isViewElementWithRawContent(e,t){return!1!==t.withChildren&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(CB,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const e of t.getAttributeNames())n.setAttribute(e,t.getAttribute(e))}return n}}function SB(e,t){let n=e;for(;n;)t(n),n=n.parentElement}function AB(e,t){const n=e.parentNode;return!!n&&!!n.tagName&&t.includes(n.tagName.toLowerCase())}function TB(e){"script"===e&&Xj("domconverter-unsafe-script-element-detected"),"style"===e&&Xj("domconverter-unsafe-style-element-detected")}class IB extends(jO()){view;document;_isEnabled=!1;constructor(e){super(),this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&3===e.nodeType&&(e=e.parentNode),!(!e||1!==e.nodeType)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}class MB{view;document;domEvent;domTarget;constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,mL(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class EB extends IB{useCapture=!1;observe(e){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach((t=>{this.listenTo(e,t,((e,t)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(t.target)&&this.onDomEvent(t)}),{useCapture:this.useCapture})}))}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new MB(this.view,t,n))}}class PB extends EB{domEventType=["keydown","keyup"];onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return wR(this)}};this.fire(e.type,e,t)}}class DB extends IB{_fireSelectionChangeDoneDebounced;constructor(e){super(e),this._fireSelectionChangeDoneDebounced=IL((e=>{this.document.fire("selectionChangeDone",e)}),200)}observe(){const e=this.document;e.on("arrowKey",((t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()}),{context:"$capture"}),e.on("arrowKey",((t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)}),{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new TN(t.getRanges(),{backward:t.isBackward,fake:!1});e!=bR.arrowleft&&e!=bR.arrowup||n.setTo(n.getFirstPosition()),e!=bR.arrowright&&e!=bR.arrowdown||n.setTo(n.getLastPosition());const r={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}class jB extends IB{domConverter;_config;_domElements;_mutationObserver;constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(0===e.length)return;const t=this.domConverter,n=new Set,r=new Set;for(const o of e){const e=t.mapDomToView(o.target);e&&(e.is("uiElement")||e.is("rawElement")||"childList"!==o.type||this._isBogusBrMutation(o)||r.add(e))}for(const o of e){const e=t.mapDomToView(o.target);if((!e||!e.is("uiElement")&&!e.is("rawElement"))&&"characterData"===o.type){const e=t.findCorrespondingViewText(o.target);e&&!r.has(e.parent)?n.add(e):!e&&uB(o.target)&&r.add(t.mapDomToView(o.target.parentNode))}}const i=[];for(const o of n)i.push({type:"text",node:o});for(const o of r){const e=t.mapViewToDom(o),n=Array.from(o.getChildren()),r=Array.from(t.domChildrenToView(e,{withChildren:!1}));XL(n,r,OB)||i.push({type:"children",node:o})}i.length&&this.document.fire("mutations",{mutations:i})}_isBogusBrMutation(e){let t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function OB(e,t){if(!Array.isArray(e))return e===t||!(!e.is("$text")||!t.is("$text"))&&e.data===t.data}class RB extends EB{_renderTimeoutId=null;_isFocusChanging=!1;domEventType=["focus","blur"];constructor(e){super(e),this.useCapture=!0;const t=this.document;t.on("focus",(()=>this._handleFocus())),t.on("blur",((e,t)=>this._handleBlur(t))),t.on("beforeinput",(()=>{t.isFocused||this._handleFocus()}),{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout((()=>{this._renderTimeoutId=null,this.flush(),this.view.change((()=>{}))}),50)}_handleBlur(e){const t=this.document.selection.editableElement;null!==t&&t!==e.target||(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change((()=>{})))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class LB extends IB{mutationObserver;focusObserver;selection;domConverter;_documents;_fireSelectionChangeDoneDebounced;_clearInfiniteLoopInterval;_documentIsSelectingInactivityTimeoutDebounced;_loopbackCounter;constructor(e){super(e),this.mutationObserver=e.getObserver(jB),this.focusObserver=e.getObserver(RB),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=IL((e=>{this.document.fire("selectionChangeDone",e)}),200),this._clearInfiniteLoopInterval=setInterval((()=>this._clearInfiniteLoop()),1e3),this._documentIsSelectingInactivityTimeoutDebounced=IL((()=>this.document.isSelecting=!1),5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting&&(this._handleSelectionChange(t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",(()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()}),{priority:"highest"}),this.listenTo(e,"keydown",n,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",n,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",n,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",((e,n)=>{this.document.isComposing&&!Mj.isAndroid||(this._handleSelectionChange(t),this._documentIsSelectingInactivityTimeoutDebounced())})),this.listenTo(this.view.document,"compositionstart",(()=>{this._handleSelectionChange(t)}),{priority:"lowest"}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e){if(!this.isEnabled)return;const t=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(t.anchorNode))return;this.mutationObserver.flush();const n=this.domConverter.domSelectionToView(t);if(0!=n.rangeCount){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(n)||!this.domConverter.isDomSelectionCorrect(t))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(n))this.view.forceRender();else{const e={oldSelection:this.selection,newSelection:n,domSelection:t};this.document.fire("selectionChange",e),this._fireSelectionChangeDoneDebounced(e)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class NB extends EB{domEventType=["compositionstart","compositionupdate","compositionend"];constructor(e){super(e);const t=this.document;t.on("compositionstart",(()=>{t.isComposing=!0}),{priority:"low"}),t.on("compositionend",(()=>{t.isComposing=!1}),{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class BB{_files;_native;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._files=t.cacheFiles?FB(e):null,this._native=e}get files(){return this._files||(this._files=FB(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,n){this._native.setDragImage(e,t,n)}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}function FB(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t.length?t:n.filter((e=>"file"===e.kind)).map((e=>e.getAsFile()))}class zB extends EB{domEventType="beforeinput";onDomEvent(e){const t=e.getTargetRanges(),n=this.view,r=n.document;let i=null,o=null,s=[];if(e.dataTransfer&&(i=new BB(e.dataTransfer)),null!==e.data?o=e.data:i&&(o=i.getData("text/plain")),r.selection.isFake)s=Array.from(r.selection.getRanges());else if(t.length)s=t.map((e=>{const t=n.domConverter.domPositionToView(e.startContainer,e.startOffset),r=n.domConverter.domPositionToView(e.endContainer,e.endOffset);return t?n.createRange(t,r):r?n.createRange(r):void 0})).filter((e=>!!e));else if(Mj.isAndroid){const t=e.target.ownerDocument.defaultView.getSelection();s=Array.from(n.domConverter.domSelectionToView(t).getRanges())}if(Mj.isAndroid&&"insertCompositionText"==e.inputType&&o&&o.endsWith("\n"))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(s[0].end)]});else if("insertText"==e.inputType&&o&&o.includes("\n")){const t=o.split(/\n{1,2}/g);let n=s;for(let o=0;o<t.length;o++){const s=t[o];""!=s&&(this.fire(e.type,e,{data:s,dataTransfer:i,targetRanges:n,inputType:e.inputType,isComposing:e.isComposing}),n=[r.selection.getFirstRange()]),o+1<t.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:n}),n=[r.selection.getFirstRange()])}}else this.fire(e.type,e,{data:o,dataTransfer:i,targetRanges:s,inputType:e.inputType,isComposing:e.isComposing})}}class VB extends IB{constructor(e){super(e),this.document.on("keydown",((e,t)=>{if(this.isEnabled&&((n=t.keyCode)==bR.arrowright||n==bR.arrowleft||n==bR.arrowup||n==bR.arrowdown)){const n=new MN(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(n,t),n.stop.called&&e.stop()}var n}))}observe(){}stopObserving(){}}class WB extends IB{constructor(e){super(e);const t=this.document;t.on("keydown",((e,n)=>{if(!this.isEnabled||n.keyCode!=bR.tab||n.ctrlKey)return;const r=new MN(t,"tab",t.selection.getFirstRange());t.fire(r,n),r.stop.called&&e.stop()}))}observe(){}stopObserving(){}}class HB extends(vO()){document;domConverter;domRoots=(()=>new Map)();_renderer;_initialDomRootAttributes=(()=>new WeakMap)();_observers=(()=>new Map)();_writer;_ongoingChange=!1;_postFixersInProgress=!1;_renderingDisabled=!1;_hasChangedSinceTheLastRendering=!1;constructor(e){super(),this.document=new LN(e),this.domConverter=new kB(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new pB(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new qN(this.document),this.addObserver(jB),this.addObserver(RB),this.addObserver(LB),this.addObserver(PB),this.addObserver(DB),this.addObserver(NB),this.addObserver(VB),this.addObserver(zB),this.addObserver(WB),this.document.on("arrowKey",fB,{priority:"low"}),HN(this),this.on("render",(()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(()=>{this._hasChangedSinceTheLastRendering=!0})),this.listenTo(this.document,"change:isFocused",(()=>{this._hasChangedSinceTheLastRendering=!0})),Mj.isiOS&&this.listenTo(this.document,"blur",((e,t)=>{this.domConverter.mapDomToView(t.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})),this.listenTo(this.document,"mutations",((e,t)=>{let{mutations:n}=t;n.forEach((e=>this._renderer.markToSync(e.type,e.node)))}),{priority:"low"}),this.listenTo(this.document,"mutations",(()=>{this.forceRender()}),{priority:"lowest"})}attachDomRoot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const r={};for(const{name:o,value:s}of Array.from(e.attributes))r[o]=s,"class"===o?this._writer.addClass(s.split(" "),n):n.hasAttribute(o)||this._writer.setAttribute(o,s,n);this._initialDomRootAttributes.set(e,r);const i=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};i(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",((e,t)=>this._renderer.markToSync("children",t))),n.on("change:attributes",((e,t)=>this._renderer.markToSync("attributes",t))),n.on("change:text",((e,t)=>this._renderer.markToSync("text",t))),n.on("change:isReadOnly",(()=>this.change(i))),n.on("change",(()=>{this._hasChangedSinceTheLastRendering=!0}));for(const o of this._observers.values())o.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach((e=>{let{name:n}=e;return t.removeAttribute(n)}));const n=this._initialDomRootAttributes.get(t);for(const r in n)t.setAttribute(r,n[r]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const r of this._observers.values())r.stopObserving(t)}getDomRoot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[n,r]of this.domRoots)t.observe(r,n);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection(){let{alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:r=20}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this.document.selection.getFirstRange();if(!i)return;const o=ZL({alignToTop:e,forceScroll:t,viewportOffset:n,ancestorOffset:r});"number"===typeof n&&(n={top:n,bottom:n,left:n,right:n});const s={target:this.domConverter.viewRangeToDom(i),viewportOffset:n,ancestorOffset:r,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",s,o),function(e){let{target:t,viewportOffset:n=0,ancestorOffset:r=0,alignToTop:i,forceScroll:o}=e;const s=hR(t);let a=s,l=null;for(n=function(e){return"number"===typeof e?{top:e,bottom:e,left:e,right:e}:e}(n);a;){let e;e=fR(a==s?t:l),aR({parent:e,getRect:()=>pR(t,a),alignToTop:i,ancestorOffset:r,forceScroll:o});const c=pR(t,a);if(sR({window:a,rect:c,viewportOffset:n,alignToTop:i,forceScroll:o}),a.parent!=a){if(l=a.frameElement,a=a.parent,!l)return}else a=null}}(s)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new qj("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){qj.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(RB).flush(),this.change((()=>{}))}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return kN._createAt(e,t)}createPositionAfter(e){return kN._createAfter(e)}createPositionBefore(e){return kN._createBefore(e)}createRange(e,t){return new SN(e,t)}createRangeOn(e){return SN._createOn(e)}createRangeIn(e){return SN._createIn(e)}createSelection(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TN(...t)}_disableRendering(e){this._renderingDisabled=e,0==e&&this.change((()=>{}))}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class UB{is(){throw new Error("is() method is abstract")}}let $B=class extends UB{parent=null;_attrs;constructor(e){super(),this._attrs=OR(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new qj("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new qj("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return null!==this.parent&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getAncestors(t),r=e.getAncestors(t);let i=0;for(;n[i]==r[i]&&n[i];)i++;return 0===i?null:n[i-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),r=kO(t,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<n[r]}}isAfter(e){return this!=e&&(this.root===e.root&&!this.isBefore(e))}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce(((e,t)=>(e[t[0]]=t[1],e)),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=OR(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}};$B.prototype.is=function(e){return"node"===e||"model:node"===e};class YB{_nodes=[];constructor(e){e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce(((e,t)=>e+t.offsetSize),0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return-1==t?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce(((e,t)=>e+t.offsetSize),0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new qj("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new qj("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const n of t)if(!(n instanceof $B))throw new qj("model-nodelist-insertnodes-not-node",this);this._nodes=function(e,t,n,r){if(Math.max(t.length,e.length)>1e4)return e.slice(0,n).concat(t).concat(e.slice(n+r,e.length));{const i=Array.from(e);return i.splice(n,r,...t),i}}(this._nodes,Array.from(t),e,0)}_removeNodes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(e,t)}toJSON(){return this._nodes.map((e=>e.toJSON()))}}class GB extends $B{_data;constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new GB(this.data,this.getAttributes())}static fromJSON(e){return new GB(e.data,e.attributes)}}GB.prototype.is=function(e){return"$text"===e||"model:$text"===e||"text"===e||"model:text"===e||"node"===e||"model:node"===e};class qB extends UB{textNode;data;offsetInText;constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new qj("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new qj("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}qB.prototype.is=function(e){return"$textProxy"===e||"model:$textProxy"===e||"textProxy"===e||"model:textProxy"===e};class XB extends $B{name;_children=(()=>new YB)();constructor(e,t,n){super(t),this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).includeSelf?this:this.parent;for(;t;){if(t.name===e)return t;t=t.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Array.from(this._children).map((e=>e._clone(!0))):void 0;return new XB(this.name,this.getAttributes(),e)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(e){if("string"==typeof e)return[new GB(e)];SO(e)||(e=[e]);return Array.from(e).map((e=>"string"==typeof e?new GB(e):e instanceof qB?new GB(e.data,e.getAttributes()):e))}(t);for(const r of n)null!==r.parent&&r._remove(),r.parent=this;this._children._insertNodes(e,n)}_removeChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=this._children._removeNodes(e,t);for(const r of n)r.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(XB.fromJSON(n)):t.push(GB.fromJSON(n))}return new XB(e.name,e.attributes,t)}}XB.prototype.is=function(e,t){return t?t===this.name&&("element"===e||"model:element"===e):"element"===e||"model:element"===e||"node"===e||"model:node"===e};class ZB{direction;boundaries;singleCharacters;shallow;ignoreElementEnd;_position;_boundaryStartParent;_boundaryEndParent;_visitedParent;constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new qj("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if("forward"!=t&&"backward"!=t)throw new qj("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=QB._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,r,i;do{r=this.position,i=this._visitedParent,({done:t,value:n}=this.next())}while(!t&&e(n));t||(this._position=r,this._visitedParent=i)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const r=JB(t,n),i=r||eF(t,n,r);if(i instanceof XB){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=i;return this._position=t,KB("elementStart",i,e,t,1)}if(i instanceof GB){let r;if(this.singleCharacters)r=1;else{let e=i.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<e&&(e=this.boundaries.end.offset),r=e-t.offset}const o=t.offset-i.startOffset,s=new qB(i,o,r);return t.offset+=r,this._position=t,KB("text",s,e,t,r)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():KB("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===t.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const r=t.parent,i=JB(t,r),o=i||tF(t,r,i);if(o instanceof XB)return t.offset--,this.shallow?(this._position=t,KB("elementStart",o,e,t,1)):(t.path.push(o.maxOffset),this._position=t,this._visitedParent=o,this.ignoreElementEnd?this._previous():KB("elementEnd",o,e,t));if(o instanceof GB){let r;if(this.singleCharacters)r=1;else{let e=o.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>e&&(e=this.boundaries.start.offset),r=t.offset-e}const i=t.offset-o.startOffset,s=new qB(o,i-r,r);return t.offset-=r,this._position=t,KB("text",s,e,t,r)}return t.path.pop(),this._position=t,this._visitedParent=n.parent,KB("elementStart",n,e,t,1)}}function KB(e,t,n,r,i){return{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:r,length:i}}}class QB extends UB{root;path;stickiness;constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(super(),!e.is("element")&&!e.is("documentFragment"))throw new qj("model-position-root-invalid",e);if(!(t instanceof Array)||0===t.length)throw new qj("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new qj("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new qj("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return JB(this,this.parent)}get nodeAfter(){const e=this.parent;return eF(this,e,JB(this,e))}get nodeBefore(){const e=this.parent;return tF(this,e,JB(this,e))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=kO(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;const n=new ZB(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=kO(this.path,e.path),n="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let r=0;for(;t[r]==n[r]&&t[r];)r++;return 0===r?null:t[r-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return"after"==this.compareWith(e)}isBefore(e){return"before"==this.compareWith(e)}isEqual(e){return"same"==this.compareWith(e)}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const t=this.path[n]-e.path[n];if(t<-1||t>1)return!1;if(1===t)return nF(e,this,n);if(-1===t)return nF(this,e,n)}return this.path.length===e.path.length||(this.path.length>e.path.length?rF(this.path,t):rF(e.path,t))}hasSameParentAs(e){if(this.root!==e.root)return!1;return"same"==kO(this.getParentPath(),e.getParentPath())}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=QB._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let n;return t.containsPosition(this)||t.start.isEqual(this)?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?QB._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}_getTransformedByDeletion(e,t){const n=QB._createAt(this);if(this.root!=e.root)return n;if("same"==kO(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if("prefix"==kO(e.getParentPath(),this.getParentPath())){const r=e.path.length-1;if(e.offset<=this.path[r]){if(e.offset+t>this.path[r])return null;n.path[r]-=t}}return n}_getTransformedByInsertion(e,t){const n=QB._createAt(this);if(this.root!=e.root)return n;if("same"==kO(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=t);else if("prefix"==kO(e.getParentPath(),this.getParentPath())){const r=e.path.length-1;e.offset<=this.path[r]&&(n.path[r]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return QB._createAt(this);const r=this._getTransformedByDeletion(e,n);return null===r||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,t):r._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,r=QB._createAt(t);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[n]-e.offset,r.path=[...r.path,...this.path.slice(n+1)],r}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(e instanceof QB)return new QB(e.root,e.path,e.stickiness);{const r=e;if("end"==t)t=r.maxOffset;else{if("before"==t)return this._createBefore(r,n);if("after"==t)return this._createAfter(r,n);if(0!==t&&!t)throw new qj("model-createpositionat-offset-required",[this,e])}if(!r.is("element")&&!r.is("documentFragment"))throw new qj("model-position-parent-incorrect",[this,e]);const i=r.getPath();return i.push(t),new this(r.root,i,n)}}static _createAfter(e,t){if(!e.parent)throw new qj("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new qj("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if("$graveyard"===e.root){const n=new QB(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new qj("model-position-fromjson-no-root",t,{rootName:e.root});return new QB(t.getRoot(e.root),e.path,e.stickiness)}}function JB(e,t){const n=t.getChild(t.offsetToIndex(e.offset));return n&&n.is("$text")&&n.startOffset<e.offset?n:null}function eF(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset))}function tF(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset)-1)}function nF(e,t,n){return n+1!==e.path.length&&(!!rF(t.path,n+1)&&!!function(e,t){let n=e.parent,r=e.path.length-1,i=0;for(;r>=t;){if(e.path[r]+i!==n.maxOffset)return!1;i=1,r--,n=n.parent}return!0}(e,n+1))}function rF(e,t){for(;t<e.length;){if(0!==e[t])return!1;t++}return!0}QB.prototype.is=function(e){return"position"===e||"model:position"===e};class iF extends UB{start;end;constructor(e,t){super(),this.start=QB._createAt(e),this.end=t?QB._createAt(t):QB._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new ZB({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==kO(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&r}containsItem(e){const t=QB._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new iF(this.start,e.start)),this.containsPosition(e.end)&&t.push(new iF(e.end,this.end))):t.push(new iF(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new iF(t,n)}return null}getJoined(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.isIntersecting(e);if(n||(n=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let r=this.start,i=this.end;return e.start.isBefore(r)&&(r=e.start),e.end.isAfter(i)&&(i=e.end),new iF(r,i)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=QB._createAt(this.start);let r=n.parent;for(;n.path.length>t+1;){const t=r.maxOffset-n.offset;0!==t&&e.push(new iF(n,n.getShiftedBy(t))),n.path=n.path.slice(0,-1),n.offset++,r=r.parent}for(;n.path.length<=this.end.path.length;){const t=this.end.path[n.path.length-1],r=t-n.offset;0!==r&&e.push(new iF(n,n.getShiftedBy(r))),n.offset=t,n.path.push(0)}return e}getWalker(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new ZB(e)}getItems(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){t.boundaries=e,t.ignoreElementEnd=!0;const n=new ZB(t);for(const e of n)yield e.item}()}getPositions(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){t.boundaries=e;const n=new ZB(t);yield n.position;for(const e of n)yield e.nextPosition}()}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new iF(this.start,this.end)]}getTransformedByOperations(e){const t=[new iF(this.start,this.end)];for(const n of e)for(let e=0;e<t.length;e++){const r=t[e].getTransformedByOperation(n);t.splice(e,1,...r),e+=r.length-1}for(let n=0;n<t.length;n++){const e=t[n];for(let r=n+1;r<t.length;r++){const n=t[r];(e.containsRange(n)||n.containsRange(e)||e.isEqual(n))&&t.splice(r,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.sourcePosition,r=e.howMany,i=e.targetPosition;return this._getTransformedByMove(n,i,r,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new iF(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new iF(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=QB._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new iF(t,n)):new iF(t,n)}_getTransformedByInsertion(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this.containsPosition(e))return[new iF(this.start,e),new iF(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const n=new iF(this.start,this.end);return n.start=n.start._getTransformedByInsertion(e,t),n.end=n.end._getTransformedByInsertion(e,t),[n]}}_getTransformedByMove(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isCollapsed){const r=this.start._getTransformedByMove(e,t,n);return[new iF(r)]}const i=iF._createFromPositionAndShift(e,n),o=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!r&&(i.containsPosition(this.start)||i.containsPosition(this.end))){const r=this.start._getTransformedByMove(e,t,n),i=this.end._getTransformedByMove(e,t,n);return[new iF(r,i)]}let s;const a=this.getDifference(i);let l=null;const c=this.getIntersection(i);if(1==a.length?l=new iF(a[0].start._getTransformedByDeletion(e,n),a[0].end._getTransformedByDeletion(e,n)):2==a.length&&(l=new iF(this.start,this.end._getTransformedByDeletion(e,n))),s=l?l._getTransformedByInsertion(o,n,null!==c||r):[],c){const e=new iF(c.start._getCombined(i.start,o),c.end._getCombined(i.start,o));2==s.length?s.splice(1,0,e):s.push(e)}return s}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),r=this.end._getTransformedByDeletion(e,t);return null==n&&null==r?null:(null==n&&(n=e),null==r&&(r=e),new iF(n,r))}static _createFromPositionAndShift(e,t){const n=e,r=e.getShiftedBy(t);return t>0?new this(n,r):new this(r,n)}static _createIn(e){return new this(QB._createAt(e,0),QB._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(QB._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(0===e.length)throw new qj("range-create-from-ranges-empty-array",null);if(1==e.length)return e[0].clone();const t=e[0];e.sort(((e,t)=>e.start.isAfter(t.start)?1:-1));const n=e.indexOf(t),r=new this(t.start,t.end);if(n>0)for(let i=n-1;e[i].end.isEqual(r.start);i++)r.start=QB._createAt(e[i].start);for(let i=n+1;i<e.length&&e[i].start.isEqual(r.end);i++)r.end=QB._createAt(e[i].end);return r}static fromJSON(e,t){return new this(QB.fromJSON(e.start,t),QB.fromJSON(e.end,t))}}iF.prototype.is=function(e){return"range"===e||"model:range"===e};class oF extends(rO()){_modelToViewMapping=(()=>new WeakMap)();_viewToModelMapping=(()=>new WeakMap)();_viewToModelLengthCallbacks=(()=>new Map)();_markerNameToElements=(()=>new Map)();_elementToMarkerNames=(()=>new Map)();_deferredBindingRemovals=(()=>new Map)();_unboundMarkerNames=(()=>new Set)();constructor(){super(),this.on("modelToViewPosition",((e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new qj("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)}),{priority:"low"}),this.on("viewToModelPosition",((e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),r=this._viewToModelMapping.get(n),i=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=QB._createAt(r,i)}),{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const r of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(r);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const r=this._elementToMarkerNames.get(e)||new Set;r.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,r)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),0==n.size&&this._markerNameToElements.delete(t));const r=this._elementToMarkerNames.get(e);r&&(r.delete(t),0==r.size&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new iF(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new SN(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e){const t={modelPosition:e,mapper:this,isPhantom:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isPhantom};return this.fire("modelToViewPosition",t),t.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const r of t)if(r.is("attributeElement"))for(const e of r.getElementsWithSameId())n.add(e);else n.add(r);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e){return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e)}if(e.is("$text"))return t;let r=0;for(let i=0;i<t;i++)r+=this.getModelLength(e.getChild(i));return r}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name)){return this._viewToModelLengthCallbacks.get(e.name)(e)}if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,r=0,i=0,o=0;if(e.is("$text"))return new kN(e,t);for(;i<t;)n=e.getChild(o),r=this.getModelLength(n),i+=r,o++;return i==t?this._moveViewPositionToTextNode(new kN(e,o)):this.findPositionIn(n,t-(i-r))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof aN?new kN(t,t.data.length):n instanceof aN?new kN(n,0):e}}class sF{_consumable=(()=>new Map)();_textProxyRegistry=(()=>new Map)();add(e,t){t=aF(t),e instanceof qB&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=aF(t),e instanceof qB&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=aF(t),e instanceof qB&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(void 0===n)return null;const r=n.get(t);return void 0===r?null:r}revert(e,t){t=aF(t),e instanceof qB&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return!1===n?(this._consumable.get(e).set(t,!0),!0):!0!==n&&null}verifyAllConsumed(e){const t=[];for(const[n,r]of this._consumable)for(const[i,o]of r){const r=i.split(":")[0];o&&e==r&&t.push({event:i,item:n.name||n.description})}if(t.length)throw new qj("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const r=n.get(e.endOffset);r&&(t=r.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,r=e.parent,i=Symbol("$textProxy:"+e.data);let o,s;return o=this._textProxyRegistry.get(t),o||(o=new Map,this._textProxyRegistry.set(t,o)),s=o.get(n),s||(s=new Map,o.set(n,s)),s.set(r,i),i}}function aF(e){const t=e.split(":");return"insert"==t[0]?t[0]:"addMarker"==t[0]||"removeMarker"==t[0]?e:t.length>1?t[0]+":"+t[1]:t[0]}class lF extends(rO()){_conversionApi;_firedEventsMap;constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const r=this._createConversionApi(n,e.getRefreshedItems());for(const o of e.getMarkersToRemove())this._convertMarkerRemove(o.name,o.range,r);const i=this._reduceChanges(e.getChanges());for(const o of i)"insert"===o.type?this._convertInsert(iF._createFromPositionAndShift(o.position,o.length),r):"reinsert"===o.type?this._convertReinsert(iF._createFromPositionAndShift(o.position,o.length),r):"remove"===o.type?this._convertRemove(o.position,o.length,o.name,r):this._convertAttribute(o.range,o.attributeKey,o.attributeOldValue,o.attributeNewValue,r);r.mapper.flushDeferredBindings();for(const o of r.mapper.flushUnboundMarkerNames()){const e=t.get(o).getRange();this._convertMarkerRemove(o,e,r),this._convertMarkerAdd(o,e,r)}for(const o of e.getMarkersToAdd())this._convertMarkerAdd(o.name,o.range,r);r.consumable.verifyAllConsumed("insert")}convert(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=this._createConversionApi(n,void 0,r);this._convertInsert(e,i);for(const[o,s]of t)this._convertMarkerAdd(o,s,i);i.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const r=this._createConversionApi(n);this.fire("cleanSelection",{selection:e},r);const i=e.getFirstPosition().root;if(!r.mapper.toViewElement(i))return;const o=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(r.consumable,e,o),this.fire("selection",{selection:e},r),e.isCollapsed){for(const t of o)if(r.consumable.test(e,"addMarker:"+t.name)){const n=t.getRange();if(!cF(e.getFirstPosition(),t,r.mapper))continue;const i={item:e,markerName:t.name,markerRange:n};this.fire(`addMarker:${t.name}`,i,r)}for(const t of e.getAttributeKeys())if(r.consumable.test(e,"attribute:"+t)){const n={item:e,range:e.getFirstRange(),attributeKey:t,attributeOldValue:null,attributeNewValue:e.getAttribute(t)};this.fire(`attribute:${t}:$text`,n,r)}}}_convertInsert(e,t){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const n of Array.from(e.getWalker({shallow:!0})).map(uF))this._testAndFire("insert",n,t)}_convertRemove(e,t,n,r){this.fire(`remove:${n}`,{position:e,length:t},r)}_convertAttribute(e,t,n,r,i){this._addConsumablesForRange(i.consumable,e,`attribute:${t}`);for(const o of e){const e={item:o.item,range:iF._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:t,attributeOldValue:n,attributeNewValue:r};this._testAndFire(`attribute:${t}`,e,i)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const r of n.map(uF))this._testAndFire("insert",{...r,reconversion:!0},t)}_convertMarkerAdd(e,t,n){if("$graveyard"==t.root.rootName)return;const r=`addMarker:${e}`;if(n.consumable.add(t,r),this.fire(r,{markerName:e,markerRange:t},n),n.consumable.consume(t,r)){this._addConsumablesForRange(n.consumable,t,r);for(const i of t.getItems()){if(!n.consumable.test(i,r))continue;const o={item:i,range:iF._createOn(i),markerName:e,markerRange:t};this.fire(r,o,n)}}}_convertMarkerRemove(e,t,n){"$graveyard"!=t.root.rootName&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const t=n.item;if(null===e.test(t,"insert")){e.add(t,"insert");for(const n of t.getAttributeKeys())e.add(t,"attribute:"+n)}}return e}_addConsumablesForRange(e,t,n){for(const r of t.getItems())e.add(r,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const r of n)e.add(t,"addMarker:"+r.name);for(const r of t.getAttributeKeys())e.add(t,"attribute:"+r);return e}_testAndFire(e,t,n){const r=function(e,t){const n=t.item.is("element")?t.item.name:"$text";return`${e}:${n}`}(e,t),i=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,o=this._firedEventsMap.get(n),s=o.get(i);if(s){if(s.has(r))return;s.add(r)}else o.set(i,new Set([r]));this.fire(r,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:iF._createOn(e)};for(const r of n.item.getAttributeKeys())n.attributeKey=r,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(r),this._testAndFire(`attribute:${r}`,n,t)}_createConversionApi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={...this._conversionApi,consumable:new sF,writer:e,options:n,convertItem:e=>this._convertInsert(iF._createOn(e),r),convertChildren:e=>this._convertInsert(iF._createIn(e),r,{doNotAddConsumables:!0}),convertAttributes:e=>this._testAndFireAddAttributes(e,r),canReuseView:e=>!t.has(r.mapper.toModelElement(e))};return this._firedEventsMap.set(r,new Map),r}}function cF(e,t,n){const r=t.getRange(),i=Array.from(e.getAncestors());i.shift(),i.reverse();return!i.some((e=>{if(r.containsItem(e)){return!!n.toViewElement(e).getCustomProperty("addHighlight")}}))}function uF(e){return{item:e.item,range:iF._createFromPositionAndShift(e.previousPosition,e.length)}}class dF extends(rO(UB)){_lastRangeBackward=!1;_attrs=(()=>new Map)();_ranges=[];constructor(){super(),arguments.length&&this.setTo(...arguments)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const r of e._ranges)if(t.isEqual(r)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new iF(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new iF(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new iF(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r,i,o]=t;if("object"==typeof i&&(o=i,i=void 0),null===r)this._setRanges([]);else if(r instanceof dF)this._setRanges(r.getRanges(),r.isBackward);else if(r&&"function"==typeof r.getRanges)this._setRanges(r.getRanges(),r.isBackward);else if(r instanceof iF)this._setRanges([r],!!o&&!!o.backward);else if(r instanceof QB)this._setRanges([new iF(r)]);else if(r instanceof $B){const e=!!o&&!!o.backward;let t;if("in"==i)t=iF._createIn(r);else if("on"==i)t=iF._createOn(r);else{if(void 0===i)throw new qj("model-selection-setto-required-second-parameter",[this,r]);t=new iF(QB._createAt(r,i))}this._setRanges([t],e)}else{if(!SO(r))throw new qj("model-selection-setto-not-selectable",[this,r]);this._setRanges(r,o&&!!o.backward)}}_setRanges(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Array.from(e),r=n.some((t=>{if(!(t instanceof iF))throw new qj("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every((e=>!e.isEqual(t)))}));(n.length!==this._ranges.length||r)&&(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(null===this.anchor)throw new qj("model-selection-setfocus-no-ranges",[this,e]);const n=QB._createAt(e,t);if("same"==n.compareWith(this.focus))return;const r=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(r)?(this._pushRange(new iF(n,r)),this._lastRangeBackward=!0):(this._pushRange(new iF(r,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=pF(t.start,e);gF(n,t)&&(yield n);for(const i of t.getWalker()){const n=i.item;"elementEnd"==i.type&&fF(n,e,t)&&(yield n)}const r=pF(t.end,e);vF(r,t)&&(yield r)}}containsEntireContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.anchor.root;const t=QB._createAt(e,0),n=QB._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new iF(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new qj("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function hF(e,t){return!t.has(e)&&(t.add(e),e.root.document.model.schema.isBlock(e)&&!!e.parent)}function fF(e,t,n){return hF(e,t)&&mF(e,n)}function pF(e,t){const n=e.parent.root.document.model.schema,r=e.parent.getAncestors({parentFirst:!0,includeSelf:!0});let i=!1;const o=r.find((e=>!i&&(i=n.isLimit(e),!i&&hF(e,t))));return r.forEach((e=>t.add(e))),o}function mF(e,t){const n=function(e){const t=e.root.document.model.schema;let n=e.parent;for(;n;){if(t.isBlock(n))return n;n=n.parent}}(e);if(!n)return!0;return!t.containsRange(iF._createOn(n),!0)}function gF(e,t){return!!e&&(!(!t.isCollapsed&&!e.isEmpty)||!t.start.isTouching(QB._createAt(e,e.maxOffset))&&mF(e,t))}function vF(e,t){return!!e&&(!(!t.isCollapsed&&!e.isEmpty)||!t.end.isTouching(QB._createAt(e,0))&&mF(e,t))}dF.prototype.is=function(e){return"selection"===e||"model:selection"===e};class bF extends(rO(iF)){constructor(e,t){super(e,t),yF.call(this)}detach(){this.stopListening()}toRange(){return new iF(this.start,this.end)}static fromRange(e){return new bF(e.start,e.end)}}function yF(){this.listenTo(this.root.document.model,"applyOperation",((e,t)=>{const n=t[0];n.isDocumentOperation&&wF.call(this,n)}),{priority:"low"})}function wF(e){const t=this.getTransformedByOperation(e),n=iF._createFromRanges(t),r=!n.isEqual(this),i=function(e,t){switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return!1}(this,e);let o=null;if(r){"$graveyard"==n.root.rootName&&(o="remove"==e.type?e.sourcePosition:e.deletionPosition);const t=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",t,{deletionPosition:o})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:o})}bF.prototype.is=function(e){return"liveRange"===e||"model:liveRange"===e||"range"==e||"model:range"===e};const xF="selection:";class _F extends(rO(UB)){_selection;constructor(e){super(),this._selection=new CF(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(){this._selection.setTo(...arguments)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return xF+e}static _isStoreAttributeKey(e){return e.startsWith(xF)}}_F.prototype.is=function(e){return"selection"===e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e};class CF extends dF{markers=(()=>new ER({idProperty:"name"}))();_model;_document;_attributePriority=(()=>new Map)();_selectionRestorePosition=null;_hasChangedRange=!1;_overriddenGravityRegister=(()=>new Set)();_observedMarkers=(()=>new Set)();constructor(e){super(),this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",((e,t)=>{const n=t[0];n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))}),{priority:"lowest"}),this.on("change:range",(()=>{this._validateSelectionRanges(this.getRanges())})),this.listenTo(this._model.markers,"update",((e,t,n,r)=>{this._updateMarker(t,r)})),this.listenTo(this._document,"change",((e,t)=>{!function(e,t){const n=e.document.differ;for(const r of n.getChanges()){if("insert"!=r.type)continue;const n=r.position.parent;r.length===n.maxOffset&&e.enqueueChange(t,(e=>{const t=Array.from(n.getAttributeKeys()).filter((e=>e.startsWith(xF)));for(const r of t)e.removeAttribute(r,n)}))}}(this._model,t)}))}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(){super.setTo(...arguments),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=Uj();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new qj("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new qj("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=bF.fromRange(e);return t.on("change:range",((e,n,r)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=r.deletionPosition;const e=this._ranges.indexOf(t);this._ranges.splice(e,1),t.detach()}})),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const r of this._model.markers){const t=r.name.split(":",1)[0];if(!this._observedMarkers.has(t))continue;const n=r.getRange();for(const i of this.getRanges())n.containsRange(i,!i.isCollapsed)&&e.push(r)}const n=Array.from(this.markers);for(const r of e)this.markers.has(r)||(this.markers.add(r),t=!0);for(const r of Array.from(this.markers))e.includes(r)||(this.markers.remove(r),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let r=!1;const i=Array.from(this.markers),o=this.markers.has(e);if(t){let n=!1;for(const e of this.getRanges())if(t.containsRange(e,!e.isCollapsed)){n=!0;break}n&&!o?(this.markers.add(e),r=!0):!n&&o&&(this.markers.remove(e),r=!0)}else o&&(this.markers.remove(e),r=!0);r&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateAttributes(e){const t=OR(this._getSurroundingAttributes()),n=OR(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[i,o]of this._attributePriority)"low"==o&&(this._attrs.delete(i),this._attributePriority.delete(i));this._setAttributesTo(t);const r=[];for(const[i,o]of this.getAttributes())n.has(i)&&n.get(i)===o||r.push(i);for(const[i]of n)this.hasAttribute(i)||r.push(i);r.length>0&&this.fire("change:attribute",{attributeKeys:r,directChange:!1})}_setAttribute(e,t){const n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?"normal":"low";if("low"==n&&"normal"==this._attributePriority.get(e))return!1;return super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,n),!0)}_removeAttribute(e){const t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?"normal":"low";return("low"!=t||"normal"!=this._attributePriority.get(e))&&(this._attributePriority.set(e,t),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[n,r]of this.getAttributes())e.get(n)!==r&&this._removeAttribute(n,!1);for(const[n,r]of e){this._setAttribute(n,r,!1)&&t.add(n)}return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())if(t.startsWith(xF)){const n=t.substr(10);yield[n,e.getAttribute(t)]}}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if("$graveyard"==e.root.rootName)return null;let n=null;if(this.isCollapsed){const r=e.textNode?e.textNode:e.nodeBefore,i=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=kF(r,t)),n||(n=kF(i,t)),!this.isGravityOverridden&&!n){let e=r;for(;e&&!n;)e=e.previousSibling,n=kF(e,t)}if(!n){let e=i;for(;e&&!n;)e=e.nextSibling,n=kF(e,t)}n||(n=this.getStoredAttributes())}else{const e=this.getFirstRange();for(const r of e){if(r.item.is("element")&&t.isObject(r.item)){n=kF(r.item,t);break}if("text"==r.type){n=r.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function kF(e,t){if(!e)return null;if(e instanceof qB||e instanceof GB)return e.getAttributes();if(!t.isInline(e))return null;if(!t.isObject(e))return[];const n=[];for(const[r,i]of e.getAttributes())t.checkAttribute("$text",r)&&!1!==t.getAttributeProperties(r).copyFromObject&&n.push([r,i]);return n}class SF{_dispatchers;constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class AF extends SF{elementToElement(e){return this.add(function(e){const t=DF(e.model),n=jF(e.view,"container");t.attributes.length&&(t.children=!0);return r=>{r.on(`insert:${t.name}`,MF(n,BF(t)),{priority:e.converterPriority||"normal"}),(t.children||t.attributes.length)&&r.on("reduceChanges",NF(t),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(e){const t=DF(e.model),n=jF(e.view,"container");return t.children=!0,r=>{if(r._conversionApi.schema.checkChild(t.name,"$text"))throw new qj("conversion-element-to-structure-disallowed-text",r,{elementName:t.name});var i,o;r.on(`insert:${t.name}`,(i=n,o=BF(t),(e,t,n)=>{if(!o(t.item,n.consumable,{preflight:!0}))return;const r=new Map;n.writer._registerSlotFactory(function(e,t,n){return(r,i)=>{const o=r.createContainerElement("$slot");let s=null;if("children"===i)s=Array.from(e.getChildren());else{if("function"!=typeof i)throw new qj("conversion-slot-mode-unknown",n.dispatcher,{modeOrFilter:i});s=Array.from(e.getChildren()).filter((e=>i(e)))}return t.set(o,s),o}}(t.item,r,n));const s=i(t.item,n,t);if(n.writer._clearSlotFactory(),!s)return;!function(e,t,n){const r=Array.from(t.values()).flat(),i=new Set(r);if(i.size!=r.length)throw new qj("conversion-slot-filter-overlap",n.dispatcher,{element:e});if(i.size!=e.childCount)throw new qj("conversion-slot-filter-incomplete",n.dispatcher,{element:e})}(t.item,r,n),o(t.item,n.consumable);const a=n.mapper.toViewPosition(t.range.start);n.mapper.bindElements(t.item,s),n.writer.insert(a,s),n.convertAttributes(t.item),function(e,t,n,r){n.mapper.on("modelToViewPosition",s,{priority:"highest"});let i=null,o=null;for([i,o]of t)FF(e,o,n,r),n.writer.move(n.writer.createRangeIn(i),n.writer.createPositionBefore(i)),n.writer.remove(i);function s(e,t){const n=t.modelPosition.nodeAfter,r=o.indexOf(n);r<0||(t.viewPosition=t.mapper.findPositionIn(i,r))}n.mapper.off("modelToViewPosition",s)}(s,r,n,{reconversion:t.reconversion})}),{priority:e.converterPriority||"normal"}),r.on("reduceChanges",NF(t),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(e){e=ZL(e);let t=e.model;"string"==typeof t&&(t={key:t});let n=`attribute:${t.key}`;t.name&&(n+=":"+t.name);if(t.values)for(const i of t.values)e.view[i]=jF(e.view[i],"attribute");else e.view=jF(e.view,"attribute");const r=OF(e);return t=>{t.on(n,IF(r),{priority:e.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(e){e=ZL(e);let t=e.model;"string"==typeof t&&(t={key:t});let n=`attribute:${t.key}`;t.name&&(n+=":"+t.name);if(t.values)for(const i of t.values)e.view[i]=RF(e.view[i]);else e.view=RF(e.view);const r=OF(e);return t=>{var i;t.on(n,(i=r,(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const r=i(t.attributeOldValue,n,t),o=i(t.attributeNewValue,n,t);if(!r&&!o)return;n.consumable.consume(t.item,e.name);const s=n.mapper.toViewElement(t.item),a=n.writer;if(!s)throw new qj("conversion-attribute-to-attribute-on-text",n.dispatcher,t);if(null!==t.attributeOldValue&&r)if("class"==r.key){const e="string"==typeof r.value?r.value.split(/\s+/):r.value;for(const t of e)a.removeClass(t,s)}else if("style"==r.key)if("string"==typeof r.value){const e=new hN(a.document.stylesProcessor);e.setTo(r.value);for(const[t]of e.getStylesEntries())a.removeStyle(t,s)}else{const e=Object.keys(r.value);for(const t of e)a.removeStyle(t,s)}else a.removeAttribute(r.key,s);if(null!==t.attributeNewValue&&o)if("class"==o.key){const e="string"==typeof o.value?o.value.split(/\s+/):o.value;for(const t of e)a.addClass(t,s)}else if("style"==o.key)if("string"==typeof o.value){const e=new hN(a.document.stylesProcessor);e.setTo(o.value);for(const[t,n]of e.getStylesEntries())a.setStyle(t,n,s)}else{const e=Object.keys(o.value);for(const t of e)a.setStyle(t,o.value[t],s)}else a.setAttribute(o.key,o.value,s)}),{priority:e.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(e){const t=jF(e.view,"ui");return n=>{n.on(`addMarker:${e.model}`,EF(t),{priority:e.converterPriority||"normal"}),n.on(`removeMarker:${e.model}`,((e,t,n)=>{const r=n.mapper.markerNameToElements(t.markerName);if(r){for(const e of r)n.mapper.unbindElementFromMarkerName(e,t.markerName),n.writer.clear(n.writer.createRangeOn(e),e);n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}),{priority:e.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(e){return t=>{var n;t.on(`addMarker:${e.model}`,(n=e.view,(e,t,r)=>{if(!t.item)return;if(!(t.item instanceof dF||t.item instanceof _F)&&!t.item.is("$textProxy"))return;const i=LF(n,t,r);if(!i)return;if(!r.consumable.consume(t.item,e.name))return;const o=r.writer,s=TF(o,i),a=o.document.selection;if(t.item instanceof dF||t.item instanceof _F)o.wrap(a.getFirstRange(),s);else{const e=r.mapper.toViewRange(t.range),n=o.wrap(e,s);for(const i of n.getItems())if(i.is("attributeElement")&&i.isSimilar(s)){r.mapper.bindElementToMarker(i,t.markerName);break}}}),{priority:e.converterPriority||"normal"}),t.on(`addMarker:${e.model}`,function(e){return(t,n,r)=>{if(!n.item)return;if(!(n.item instanceof XB))return;const i=LF(e,n,r);if(!i)return;if(!r.consumable.test(n.item,t.name))return;const o=r.mapper.toViewElement(n.item);if(o&&o.getCustomProperty("addHighlight")){r.consumable.consume(n.item,t.name);for(const e of iF._createIn(n.item))r.consumable.consume(e.item,t.name);o.getCustomProperty("addHighlight")(o,i,r.writer),r.mapper.bindElementToMarker(o,n.markerName)}}}(e.view),{priority:e.converterPriority||"normal"}),t.on(`removeMarker:${e.model}`,function(e){return(t,n,r)=>{if(n.markerRange.isCollapsed)return;const i=LF(e,n,r);if(!i)return;const o=TF(r.writer,i),s=r.mapper.markerNameToElements(n.markerName);if(s){for(const e of s)if(r.mapper.unbindElementFromMarkerName(e,n.markerName),e.is("attributeElement"))r.writer.unwrap(r.writer.createRangeOn(e),o);else{e.getCustomProperty("removeHighlight")(e,i.id,r.writer)}r.writer.clearClonedElementsGroup(n.markerName),t.stop()}}}(e.view),{priority:e.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(e){e=ZL(e);const t=e.model;let n=e.view;n||(n=n=>({group:t,name:n.substr(e.model.length+1)}));return r=>{var i;r.on(`addMarker:${t}`,(i=n,(e,t,n)=>{const r=i(t.markerName,n);if(!r)return;const o=t.markerRange;n.consumable.consume(o,e.name)&&(PF(o,!1,n,t,r),PF(o,!0,n,t,r),e.stop())}),{priority:e.converterPriority||"normal"}),r.on(`removeMarker:${t}`,function(e){return(t,n,r)=>{const i=e(n.markerName,r);if(!i)return;const o=r.mapper.markerNameToElements(n.markerName);if(o){for(const e of o)r.mapper.unbindElementFromMarkerName(e,n.markerName),e.is("containerElement")?(s(`data-${i.group}-start-before`,e),s(`data-${i.group}-start-after`,e),s(`data-${i.group}-end-before`,e),s(`data-${i.group}-end-after`,e)):r.writer.clear(r.writer.createRangeOn(e),e);r.writer.clearClonedElementsGroup(n.markerName),t.stop()}function s(e,t){if(t.hasAttribute(e)){const n=new Set(t.getAttribute(e).split(","));n.delete(i.name),0==n.size?r.writer.removeAttribute(e,t):r.writer.setAttribute(e,Array.from(n).join(","),t)}}}}(n),{priority:e.converterPriority||"normal"})}}(e))}}function TF(e,t){const n=e.createAttributeElement("span",t.attributes);return t.classes&&n._addClass(t.classes),"number"===typeof t.priority&&(n._priority=t.priority),n._id=t.id,n}function IF(e){return(t,n,r)=>{if(!r.consumable.test(n.item,t.name))return;const i=e(n.attributeOldValue,r,n),o=e(n.attributeNewValue,r,n);if(!i&&!o)return;r.consumable.consume(n.item,t.name);const s=r.writer,a=s.document.selection;if(n.item instanceof dF||n.item instanceof _F)s.wrap(a.getFirstRange(),o);else{let e=r.mapper.toViewRange(n.range);null!==n.attributeOldValue&&i&&(e=s.unwrap(e,i)),null!==n.attributeNewValue&&o&&s.wrap(e,o)}}}function MF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:VF;return(n,r,i)=>{if(!t(r.item,i.consumable,{preflight:!0}))return;const o=e(r.item,i,r);if(!o)return;t(r.item,i.consumable);const s=i.mapper.toViewPosition(r.range.start);i.mapper.bindElements(r.item,o),i.writer.insert(s,o),i.convertAttributes(r.item),FF(o,r.item.getChildren(),i,{reconversion:r.reconversion})}}function EF(e){return(t,n,r)=>{n.isOpening=!0;const i=e(n,r);n.isOpening=!1;const o=e(n,r);if(!i||!o)return;const s=n.markerRange;if(s.isCollapsed&&!r.consumable.consume(s,t.name))return;for(const e of s)if(!r.consumable.consume(e.item,t.name))return;const a=r.mapper,l=r.writer;l.insert(a.toViewPosition(s.start),i),r.mapper.bindElementToMarker(i,n.markerName),s.isCollapsed||(l.insert(a.toViewPosition(s.end),o),r.mapper.bindElementToMarker(o,n.markerName)),t.stop()}}function PF(e,t,n,r,i){const o=t?e.start:e.end,s=o.nodeAfter&&o.nodeAfter.is("element")?o.nodeAfter:null,a=o.nodeBefore&&o.nodeBefore.is("element")?o.nodeBefore:null;if(s||a){let e,o;t&&s||!t&&!a?(e=s,o=!0):(e=a,o=!1);const l=n.mapper.toViewElement(e);if(l)return void function(e,t,n,r,i,o){const s=`data-${o.group}-${t?"start":"end"}-${n?"before":"after"}`,a=e.hasAttribute(s)?e.getAttribute(s).split(","):[];a.unshift(o.name),r.writer.setAttribute(s,a.join(","),e),r.mapper.bindElementToMarker(e,i.markerName)}(l,t,o,n,r,i)}!function(e,t,n,r,i){const o=`${i.group}-${t?"start":"end"}`,s=i.name?{name:i.name}:null,a=n.writer.createUIElement(o,s);n.writer.insert(e,a),n.mapper.bindElementToMarker(a,r.markerName)}(n.mapper.toViewPosition(o),t,n,r,i)}function DF(e){return"string"==typeof e&&(e={name:e}),{name:e.name,attributes:e.attributes?TR(e.attributes):[],children:!!e.children}}function jF(e,t){return"function"==typeof e?e:(n,r)=>function(e,t,n){"string"==typeof e&&(e={name:e});let r;const i=t.writer,o=Object.assign({},e.attributes);if("container"==n)r=i.createContainerElement(e.name,o);else if("attribute"==n){const t={priority:e.priority||NN.DEFAULT_PRIORITY};r=i.createAttributeElement(e.name,o,t)}else r=i.createUIElement(e.name,o);if(e.styles){const t=Object.keys(e.styles);for(const n of t)i.setStyle(n,e.styles[n],r)}if(e.classes){const t=e.classes;if("string"==typeof t)i.addClass(t,r);else for(const e of t)i.addClass(e,r)}return r}(e,r,t)}function OF(e){return e.model.values?(t,n,r)=>{const i=e.view[t];return i?i(t,n,r):null}:e.view}function RF(e){return"string"==typeof e?t=>({key:e,value:t}):"object"==typeof e?e.value?()=>e:t=>({key:e.key,value:t}):e}function LF(e,t,n){const r="function"==typeof e?e(t,n):e;return r?(r.priority||(r.priority=10),r.id||(r.id=t.markerName),r):null}function NF(e){const t=function(e){return(t,n)=>{if(!t.is("element",e.name))return!1;if("attribute"==n.type){if(e.attributes.includes(n.attributeKey))return!0}else if(e.children)return!0;return!1}}(e);return(e,n)=>{const r=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const i of n.changes){const e="attribute"==i.type?i.range.start.nodeAfter:i.position.parent;if(e&&t(e,i)){if(!n.reconvertedElements.has(e)){n.reconvertedElements.add(e);const t=QB._createBefore(e);let i=r.length;for(let e=r.length-1;e>=0;e--){const n=r[e],o=("attribute"==n.type?n.range.start:n.position).compareWith(t);if("before"==o||"remove"==n.type&&"same"==o)break;i=e}r.splice(i,0,{type:"remove",name:e.name,position:t,length:1},{type:"reinsert",name:e.name,position:t,length:1})}}else r.push(i)}n.changes=r}}function BF(e){return function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=["insert"];for(const o of e.attributes)t.hasAttribute(o)&&i.push(`attribute:${o}`);return!!i.every((e=>n.test(t,e)))&&(r.preflight||i.forEach((e=>n.consume(t,e))),!0)}}function FF(e,t,n,r){for(const i of t)zF(e.root,i,n,r)||n.convertItem(i)}function zF(e,t,n,r){const{writer:i,mapper:o}=n;if(!r.reconversion)return!1;const s=o.toViewElement(t);return!(!s||s.root==e)&&(!!n.canReuseView(s)&&(i.move(i.createRangeOn(s),o.toViewPosition(QB._createBefore(t))),!0))}function VF(e,t){let{preflight:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n?t.test(e,"insert"):t.consume(e,"insert")}function WF(e){const{schema:t,document:n}=e.model;for(const r of n.getRoots())if(r.isEmpty&&!t.checkChild(r,"$text")&&t.checkChild(r,"paragraph"))return e.insertElement("paragraph",r),!0;return!1}function HF(e,t,n){const r=n.createContext(e);return!!n.checkChild(r,"paragraph")&&!!n.checkChild(r.push("paragraph"),t)}function UF(e,t){const n=t.createElement("paragraph");return t.insert(n,e),t.createPositionAt(n,0)}class $F extends SF{elementToElement(e){return this.add(YF(e))}elementToAttribute(e){return this.add(function(e){e=ZL(e),XF(e);const t=ZF(e,!1),n=GF(e.view),r=n?`element:${n}`:"element";return n=>{n.on(r,t,{priority:e.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(e){e=ZL(e);let t=null;("string"==typeof e.view||e.view.key)&&(t=function(e){"string"==typeof e.view&&(e.view={key:e.view});const t=e.view.key,n="undefined"==typeof e.view.value?/[\s\S]*/:e.view.value;let r;if("class"==t||"style"==t){const e="class"==t?"classes":"styles";r={[e]:n}}else r={attributes:{[t]:n}};e.view.name&&(r.name=e.view.name);return e.view=r,t}(e));XF(e,t);const n=ZF(e,!0);return t=>{t.on("element",n,{priority:e.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(e){const t=function(e){return(t,n)=>{const r="string"==typeof e?e:e(t,n);return n.writer.createElement("$marker",{"data-name":r})}}(e.model);return YF({...e,model:t})}(e))}dataToMarker(e){return this.add(function(e){e=ZL(e),e.model||(e.model=t=>t?e.view+":"+t:e.view);const t={view:e.view,model:e.model},n=qF(KF(t,"start")),r=qF(KF(t,"end"));return i=>{i.on(`element:${e.view}-start`,n,{priority:e.converterPriority||"normal"}),i.on(`element:${e.view}-end`,r,{priority:e.converterPriority||"normal"});const o=$j.low,s=$j.highest,a=$j.get(e.converterPriority)/s;i.on("element",function(e){return(t,n,r)=>{const i=`data-${e.view}`;function o(t,i){for(const o of i){const i=e.model(o,r),s=r.writer.createElement("$marker",{"data-name":i});r.writer.insert(s,t),n.modelCursor.isEqual(t)?n.modelCursor=n.modelCursor.getShiftedBy(1):n.modelCursor=n.modelCursor._getTransformedByInsertion(t,1),n.modelRange=n.modelRange._getTransformedByInsertion(t,1)[0]}}(r.consumable.test(n.viewItem,{attributes:i+"-end-after"})||r.consumable.test(n.viewItem,{attributes:i+"-start-after"})||r.consumable.test(n.viewItem,{attributes:i+"-end-before"})||r.consumable.test(n.viewItem,{attributes:i+"-start-before"}))&&(n.modelRange||Object.assign(n,r.convertChildren(n.viewItem,n.modelCursor)),r.consumable.consume(n.viewItem,{attributes:i+"-end-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(i+"-end-after").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-start-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(i+"-start-after").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-end-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(i+"-end-before").split(",")),r.consumable.consume(n.viewItem,{attributes:i+"-start-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(i+"-start-before").split(",")))}}(t),{priority:o+a})}}(e))}}function YF(e){const t=qF(e=ZL(e)),n=GF(e.view),r=n?`element:${n}`:"element";return n=>{n.on(r,t,{priority:e.converterPriority||"normal"})}}function GF(e){return"string"==typeof e?e:"object"==typeof e&&"string"==typeof e.name?e.name:null}function qF(e){const t=new cN(e.view);return(n,r,i)=>{const o=t.match(r.viewItem);if(!o)return;const s=o.match;if(s.name=!0,!i.consumable.test(r.viewItem,s))return;const a=function(e,t,n){return e instanceof Function?e(t,n):n.writer.createElement(e)}(e.model,r.viewItem,i);a&&i.safeInsert(a,r.modelCursor)&&(i.consumable.consume(r.viewItem,s),i.convertChildren(r.viewItem,a),i.updateConversionResult(a,r))}}function XF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=null===t||(e=>e.getAttribute(t)),r="object"!=typeof e.model?e.model:e.model.key,i="object"!=typeof e.model||"undefined"==typeof e.model.value?n:e.model.value;e.model={key:r,value:i}}function ZF(e,t){const n=new cN(e.view);return(r,i,o)=>{if(!i.modelRange&&t)return;const s=n.match(i.viewItem);if(!s)return;if(!function(e,t){const n="function"==typeof e?e(t):e;if("object"==typeof n&&!GF(n))return!1;return!n.classes&&!n.attributes&&!n.styles}(e.view,i.viewItem)?delete s.match.name:s.match.name=!0,!o.consumable.test(i.viewItem,s.match))return;const a=e.model.key,l="function"==typeof e.model.value?e.model.value(i.viewItem,o):e.model.value;if(null===l)return;i.modelRange||Object.assign(i,o.convertChildren(i.viewItem,i.modelCursor));const c=function(e,t,n,r){let i=!1;for(const o of Array.from(e.getItems({shallow:n})))r.schema.checkAttribute(o,t.key)&&(i=!0,o.hasAttribute(t.key)||r.writer.setAttribute(t.key,t.value,o));return i}(i.modelRange,{key:a,value:l},t,o);c&&(o.consumable.test(i.viewItem,{name:!0})&&(s.match.name=!0),o.consumable.consume(i.viewItem,s.match))}}function KF(e,t){return{view:`${e.view}-${t}`,model:(t,n)=>{const r=t.getAttribute("name"),i=e.model(r,n);return n.writer.createElement("$marker",{"data-name":i})}}}function QF(e){e.document.registerPostFixer((t=>function(e,t){const n=t.document.selection,r=t.schema,i=[];let o=!1;for(const s of n.getRanges()){const e=JF(s,r);e&&!e.isEqual(s)?(i.push(e),o=!0):i.push(s)}o&&e.setSelection(function(e){const t=[...e],n=new Set;let r=1;for(;r<t.length;){const e=t[r],i=t.slice(0,r);for(const[o,s]of i.entries())if(!n.has(o))if(e.isEqual(s))n.add(o);else if(e.isIntersecting(s)){n.add(o),n.add(r);const i=e.getJoined(s);t.push(i)}r++}return t.filter(((e,t)=>!n.has(t)))}(i),{backward:n.isBackward});return!1}(t,e)))}function JF(e,t){return e.isCollapsed?function(e,t){const n=e.start,r=t.getNearestSelectionRange(n);if(!r){const e=n.getAncestors().reverse().find((e=>t.isObject(e)));return e?iF._createOn(e):null}if(!r.isCollapsed)return r;const i=r.start;if(n.isEqual(i))return null;return new iF(i)}(e,t):function(e,t){const{start:n,end:r}=e,i=t.checkChild(n,"$text"),o=t.checkChild(r,"$text"),s=t.getLimitElement(n),a=t.getLimitElement(r);if(s===a){if(i&&o)return null;if(function(e,t,n){const r=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,"$text"),i=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,"$text");return r||i}(n,r,t)){const e=n.nodeAfter&&t.isSelectable(n.nodeAfter)?null:t.getNearestSelectionRange(n,"forward"),i=r.nodeBefore&&t.isSelectable(r.nodeBefore)?null:t.getNearestSelectionRange(r,"backward"),o=e?e.start:n,s=i?i.end:r;return new iF(o,s)}}const l=s&&!s.is("rootElement"),c=a&&!a.is("rootElement");if(l||c){const e=n.nodeAfter&&r.nodeBefore&&n.nodeAfter.parent===r.nodeBefore.parent,i=l&&(!e||!tz(n.nodeAfter,t)),o=c&&(!e||!tz(r.nodeBefore,t));let u=n,d=r;return i&&(u=QB._createBefore(ez(s,t))),o&&(d=QB._createAfter(ez(a,t))),new iF(u,d)}return null}(e,t)}function ez(e,t){let n=e,r=n;for(;t.isLimit(r)&&r.parent;)n=r,r=r.parent;return n}function tz(e,t){return e&&t.isSelectable(e)}class nz extends(vO()){model;view;mapper;downcastDispatcher;constructor(e,t){super(),this.model=e,this.view=new HB(t),this.mapper=new oF,this.downcastDispatcher=new lF({mapper:this.mapper,schema:e.schema});const n=this.model.document,r=n.selection,i=this.model.markers;var o,s,a;this.listenTo(this.model,"_beforeChanges",(()=>{this.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(()=>{this.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(n,"change",(()=>{this.view.change((e=>{this.downcastDispatcher.convertChanges(n.differ,i,e),this.downcastDispatcher.convertSelection(r,i,e)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(e,t){return(n,r)=>{const i=r.newSelection,o=[];for(const e of i.getRanges())o.push(t.toModelRange(e));const s=e.createSelection(o,{backward:i.isBackward});s.isEqual(e.document.selection)||e.change((e=>{e.setSelection(s)}))}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(o=this.mapper,s=this.model.schema,a=this.view,(e,t)=>{if(!a.document.isComposing||Mj.isAndroid)for(let n=0;n<t.targetRanges.length;n++){const e=t.targetRanges[n],r=o.toModelRange(e),i=JF(r,s);i&&!i.isEqual(r)&&(t.targetRanges[n]=o.toViewRange(i))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",((e,t,n)=>{if(!n.consumable.consume(t.item,e.name))return;const r=n.writer,i=n.mapper.toViewPosition(t.range.start),o=r.createText(t.item.data);r.insert(i,o)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((e,t,n)=>{n.convertAttributes(t.item),t.reconversion||!t.item.is("element")||t.item.isEmpty||n.convertChildren(t.item)}),{priority:"lowest"}),this.downcastDispatcher.on("remove",((e,t,n)=>{const r=n.mapper.toViewPosition(t.position),i=t.position.getShiftedBy(t.length),o=n.mapper.toViewPosition(i,{isPhantom:!0}),s=n.writer.createRange(r,o),a=n.writer.remove(s.getTrimmed());for(const l of n.writer.createRangeIn(a).getItems())n.mapper.unbindViewElement(l,{defer:!0})}),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",((e,t,n)=>{const r=n.writer,i=r.document.selection;for(const o of i.getRanges())o.isCollapsed&&o.end.parent.isAttached()&&n.writer.mergeAttributes(o.start);r.setSelection(null)})),this.downcastDispatcher.on("selection",((e,t,n)=>{const r=t.selection;if(r.isCollapsed)return;if(!n.consumable.consume(r,"selection"))return;const i=[];for(const o of r.getRanges())i.push(n.mapper.toViewRange(o));n.writer.setSelection(i,{backward:r.isBackward})}),{priority:"low"}),this.downcastDispatcher.on("selection",((e,t,n)=>{const r=t.selection;if(!r.isCollapsed)return;if(!n.consumable.consume(r,"selection"))return;const i=n.writer,o=r.getFirstPosition(),s=n.mapper.toViewPosition(o),a=i.breakAttributes(s);i.setSelection(a)}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((e=>{if("$graveyard"==e.rootName)return null;const t=new _N(this.view.document,e.name);return t.rootName=e.rootName,this.mapper.bindElements(e,t),t}))}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t="string"==typeof e?e:e.name,n=this.model.markers.get(t);if(!n)throw new qj("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change((()=>{this.model.markers._refresh(n)}))}reconvertItem(e){this.model.change((()=>{this.model.document.differ._refreshItem(e)}))}}class rz{_consumables=(()=>new Map)();add(e,t){let n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new oz(e),this._consumables.set(e,n)),n.add(t))}test(e,t){const n=this._consumables.get(e);return void 0===n?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const n=this._consumables.get(e);void 0!==n&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const o of n)"style"!=o&&"class"!=o&&t.attributes.push(o);const r=e.getClassNames();for(const o of r)t.classes.push(o);const i=e.getStyleNames();for(const o of i)t.styles.push(o);return t}static createFrom(e,t){if(t||(t=new rz),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,rz.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=rz.createFrom(n,t);return t}}const iz=["attributes","classes","styles"];class oz{element;_canConsumeName;_consumables;constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of iz)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of iz)if(t in e){const n=this._test(t,e[t]);if(!0!==n)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of iz)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of iz)t in e&&this._revert(t,e[t])}_add(e,t){const n=TR(t),r=this._consumables[e];for(const i of n){if("attributes"===e&&("class"===i||"style"===i))throw new qj("viewconsumable-invalid-attribute",this);if(r.set(i,!0),"styles"===e)for(const e of this.element.document.stylesProcessor.getRelatedStyles(i))r.set(e,!0)}}_test(e,t){const n=TR(t),r=this._consumables[e];for(const i of n)if("attributes"!==e||"class"!==i&&"style"!==i){const e=r.get(i);if(void 0===e)return null;if(!e)return!1}else{const e="class"==i?"classes":"styles",t=this._test(e,[...this._consumables[e].keys()]);if(!0!==t)return t}return!0}_consume(e,t){const n=TR(t),r=this._consumables[e];for(const i of n)if("attributes"!==e||"class"!==i&&"style"!==i){if(r.set(i,!1),"styles"==e)for(const e of this.element.document.stylesProcessor.getRelatedStyles(i))r.set(e,!1)}else{const e="class"==i?"classes":"styles";this._consume(e,[...this._consumables[e].keys()])}}_revert(e,t){const n=TR(t),r=this._consumables[e];for(const i of n)if("attributes"!==e||"class"!==i&&"style"!==i){!1===r.get(i)&&r.set(i,!0)}else{const e="class"==i?"classes":"styles";this._revert(e,[...this._consumables[e].keys()])}}}class sz extends(vO()){_sourceDefinitions={};_attributeProperties={};_customChildChecks=(()=>new Map)();_customAttributeChecks=(()=>new Map)();_genericCheckSymbol=(()=>Symbol("$generic"))();_compiledDefinitions;constructor(){super(),this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",((e,t)=>{t[0]=new az(t[0])}),{priority:"highest"}),this.on("checkChild",((e,t)=>{t[0]=new az(t[0]),t[1]=this.getDefinition(t[1])}),{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new qj("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new qj("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t="string"==typeof e?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(e,t)}checkAttribute(e,t){const n=this.getDefinition(e.last);if(!n)return!1;const r=this._evaluateAttributeChecks(e,t);return void 0!==r?r:n.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof QB){const t=e.nodeBefore,n=e.nodeAfter;if(!(t instanceof XB))throw new qj("schema-check-merge-no-element-before",this);if(!(n instanceof XB))throw new qj("schema-check-merge-no-element-after",this);return this.checkMerge(t,n)}if(this.isLimit(e)||this.isLimit(t))return!1;for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e,t){const n=void 0!==t?t:this._genericCheckSymbol,r=this._customChildChecks.get(n)||[];r.push(e),this._customChildChecks.set(n,r)}addAttributeCheck(e,t){const n=void 0!==t?t:this._genericCheckSymbol,r=this._customAttributeChecks.get(n)||[];r.push(e),this._customAttributeChecks.set(n,r)}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;if(e instanceof QB)t=e.parent;else{t=(e instanceof iF?[e]:Array.from(e.getRanges())).reduce(((e,t)=>{const n=t.getCommonAncestor();return e?e.getCommonAncestor(n,{includeSelf:!0}):n}),null)}for(;!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const n=[...e.getFirstPosition().getAncestors(),new GB("",e.getAttributes())];return this.checkAttribute(n,t)}{const n=e.getRanges();for(const e of n)for(const n of e)if(this.checkAttribute(n.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(e){for(const t of e)yield*t.getMinimalFlatRanges()}(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";if("$graveyard"==e.root.rootName)return null;if(this.checkChild(e,"$text"))return new iF(e);const i=e.getAncestors().reverse().find((e=>this.isLimit(e)))||e.root;"both"!=r&&"backward"!=r||(t=new ZB({boundaries:iF._createIn(i),startPosition:e,direction:"backward"})),"both"!=r&&"forward"!=r||(n=new ZB({boundaries:iF._createIn(i),startPosition:e}));for(const o of function*(e,t){let n=!1;for(;!n;){if(n=!0,e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}if(t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}}}(t,n)){const e=o.walker==t?"elementEnd":"elementStart",n=o.value;if(n.type==e&&this.isObject(n.item))return iF._createOn(n.item);if(this.checkChild(n.nextPosition,"$text"))return new iF(n.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const r=n.model;for(const[i,o]of Object.entries(t))r.schema.checkAttribute(e,i)&&n.setAttribute(i,o,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))wz(this,n,t);else{const e=iF._createIn(n).getPositions();for(const n of e){wz(this,n.nodeBefore||n.parent,t)}}}getAttributesWithProperty(e,t,n){const r={};for(const[i,o]of e.getAttributes()){const e=this.getAttributeProperties(i);void 0!==e[t]&&(void 0!==n&&n!==e[t]||(r[i]=o))}return r}createContext(e){return new az(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const i of n)e[i]=lz(t[i],i);const r=Object.values(e);for(const i of r)cz(e,i),uz(e,i),dz(e,i),hz(e,i);for(const i of r)fz(e,i);for(const i of r)pz(e,i);for(const i of r)mz(e,i);for(const i of r)gz(e,i);for(const i of r)vz(e,i);this._compiledDefinitions=function(e){const t={};for(const n of Object.values(e))t[n.name]={name:n.name,isBlock:!!n.isBlock,isContent:!!n.isContent,isInline:!!n.isInline,isLimit:!!n.isLimit,isObject:!!n.isObject,isSelectable:!!n.isSelectable,allowIn:Array.from(n.allowIn).filter((t=>!!e[t])),allowChildren:Array.from(n.allowChildren).filter((t=>!!e[t])),allowAttributes:Array.from(n.allowAttributes)};return t}(e)}_checkContextMatch(e,t){const n=e.last;let r=this._evaluateChildChecks(e,t);if(r=void 0!==r?r:t.allowIn.includes(n.name),!r)return!1;const i=this.getDefinition(n),o=e.trimLast();return!!i&&(0==o.length||this._checkContextMatch(o,i))}_evaluateChildChecks(e,t){const n=this._customChildChecks.get(this._genericCheckSymbol)||[],r=this._customChildChecks.get(t.name)||[];for(const i of[...n,...r]){const n=i(e,t);if(void 0!==n)return n}}_evaluateAttributeChecks(e,t){const n=this._customAttributeChecks.get(this._genericCheckSymbol)||[],r=this._customAttributeChecks.get(t)||[];for(const i of[...n,...r]){const n=i(e,t);if(void 0!==n)return n}}*_getValidRangesForRange(e,t){let n=e.start,r=e.start;for(const i of e.getItems({shallow:!0}))i.is("element")&&(yield*this._getValidRangesForRange(iF._createIn(i),t)),this.checkAttribute(i,t)||(n.isEqual(r)||(yield new iF(n,r)),n=QB._createAfter(i)),r=QB._createAfter(i);n.isEqual(r)||(yield new iF(n,r))}findOptimalInsertionRange(e,t){const n=e.getSelectedElement();if(n&&this.isObject(n)&&!this.isInline(n))return"before"==t||"after"==t?new iF(QB._createAt(n,t)):iF._createOn(n);const r=PR(e.getSelectedBlocks());if(!r)return new iF(e.focus);if(r.isEmpty)return new iF(QB._createAt(r,0));const i=QB._createAfter(r);return e.focus.isTouching(i)?new iF(i):new iF(QB._createBefore(r))}}class az{_items;constructor(e){if(e instanceof az)return e;let t;t="string"==typeof e?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(yz)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new az([e]);return t._items=[...this._items,...t._items],t}trimLast(){const e=new az([]);return e._items=this._items.slice(0,-1),e}getItem(e){return this._items[e]}*getNames(){yield*this._items.map((e=>e.name))}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function lz(e,t){const n={name:t,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return function(e,t){for(const n of e){const e=Object.keys(n).filter((e=>e.startsWith("is")));for(const r of e)t[r]=!!n[r]}}(e,n),bz(e,n,"allowIn"),bz(e,n,"allowChildren"),bz(e,n,"disallowIn"),bz(e,n,"disallowChildren"),bz(e,n,"allowContentOf"),bz(e,n,"allowWhere"),bz(e,n,"allowAttributes"),bz(e,n,"disallowAttributes"),bz(e,n,"allowAttributesOf"),bz(e,n,"inheritTypesFrom"),function(e,t){for(const n of e){const e=n.inheritAllFrom;e&&(t.allowContentOf.add(e),t.allowWhere.add(e),t.allowAttributesOf.add(e),t.inheritTypesFrom.add(e))}}(e,n),n}function cz(e,t){for(const n of t.allowIn){const r=e[n];r?r.allowChildren.add(t.name):t.allowIn.delete(n)}}function uz(e,t){for(const n of t.allowChildren){const r=e[n];r?r.allowIn.add(t.name):t.allowChildren.delete(n)}}function dz(e,t){for(const n of t.disallowIn){const r=e[n];r?r.disallowChildren.add(t.name):t.disallowIn.delete(n)}}function hz(e,t){for(const n of t.disallowChildren){const r=e[n];r?r.disallowIn.add(t.name):t.disallowChildren.delete(n)}}function fz(e,t){for(const n of t.disallowChildren)t.allowChildren.delete(n);for(const n of t.disallowIn)t.allowIn.delete(n);for(const n of t.disallowAttributes)t.allowAttributes.delete(n)}function pz(e,t){for(const n of t.allowContentOf){const r=e[n];r&&(r.disallowChildren.forEach((n=>{t.allowChildren.has(n)||(t.disallowChildren.add(n),e[n].disallowIn.add(t.name))})),r.allowChildren.forEach((n=>{t.disallowChildren.has(n)||(t.allowChildren.add(n),e[n].allowIn.add(t.name))})))}}function mz(e,t){for(const n of t.allowWhere){const r=e[n];r&&(r.disallowIn.forEach((n=>{t.allowIn.has(n)||(t.disallowIn.add(n),e[n].disallowChildren.add(t.name))})),r.allowIn.forEach((n=>{t.disallowIn.has(n)||(t.allowIn.add(n),e[n].allowChildren.add(t.name))})))}}function gz(e,t){for(const n of t.allowAttributesOf){const r=e[n];if(!r)return;r.allowAttributes.forEach((e=>{t.disallowAttributes.has(e)||t.allowAttributes.add(e)}))}}function vz(e,t){for(const n of t.inheritTypesFrom){const r=e[n];if(r){const e=Object.keys(r).filter((e=>e.startsWith("is")));for(const n of e)n in t||(t[n]=r[n])}}}function bz(e,t,n){for(const r of e){let e=r[n];"string"==typeof e&&(e=[e]),Array.isArray(e)&&e.forEach((e=>t[n].add(e)))}}function yz(e){return"string"==typeof e||e.is("documentFragment")?{name:"string"==typeof e?e:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:e.is("element")?e.name:"$text",*getAttributeKeys(){yield*e.getAttributeKeys()},getAttribute:t=>e.getAttribute(t)}}function wz(e,t,n){for(const r of t.getAttributeKeys())e.checkAttribute(t,r)||n.removeAttribute(r,t)}class xz extends(rO()){conversionApi;_splitParts=(()=>new Map)();_cursorParents=(()=>new Map)();_modelCursor=null;_emptyElementsToKeep=(()=>new Set)();constructor(e){super(),this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(e,t)=>this._convertItem(e,t),convertChildren:(e,t)=>this._convertChildren(e,t),safeInsert:(e,t)=>this._safeInsert(e,t),updateConversionResult:(e,t)=>this._updateConversionResult(e,t),splitToAllowedParent:(e,t)=>this._splitToAllowedParent(e,t),getSplitParts:e=>this._getSplitParts(e),keepEmptyElement:e=>this._keepEmptyElement(e)}}convert(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["$root"];this.fire("viewCleanup",e),this._modelCursor=function(e,t){let n;for(const r of new az(e)){const e={};for(const t of r.getAttributeKeys())e[t]=r.getAttribute(t);const i=t.createElement(r.name,e);n&&t.insert(i,n),n=QB._createAt(i,0)}return n}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=rz.createFrom(e),this.conversionApi.store={};const{modelRange:r}=this._convertItem(e,this._modelCursor),i=t.createDocumentFragment();if(r){this._removeEmptyElements();for(const e of Array.from(this._modelCursor.parent.getChildren()))t.append(e,i);i.markers=function(e,t){const n=new Set,r=new Map,i=iF._createIn(e).getItems();for(const o of i)o.is("element","$marker")&&n.add(o);for(const o of n){const e=o.getAttribute("data-name"),n=t.createPositionBefore(o);r.has(e)?r.get(e).end=n.clone():r.set(e,new iF(n.clone())),t.remove(o)}return r}(i,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,i}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof iF))throw new qj("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:QB._createAt(t,0);const r=new iF(n);for(const i of Array.from(e.getChildren())){const e=this._convertItem(i,n);e.modelRange instanceof iF&&(r.end=e.modelRange.end,n=e.modelCursor)}return{modelRange:r,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return!!n&&(this.conversionApi.writer.insert(e,n.position),!0)}_updateConversionResult(e,t){const n=this._getSplitParts(e),r=this.conversionApi.writer;t.modelRange||(t.modelRange=r.createRange(r.createPositionBefore(e),r.createPositionAfter(n[n.length-1])));const i=this._cursorParents.get(e);t.modelCursor=i?r.createPositionAt(i,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:r}=this.conversionApi;let i=n.findAllowedParent(t,e);if(i){if(i===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(i)&&(i=null)}if(!i)return HF(t,e,n)?{position:UF(t,r)}:null;const o=this.conversionApi.writer.split(t,i),s=[];for(const l of o.range.getWalker())if("elementEnd"==l.type)s.push(l.item);else{const e=s.pop(),t=l.item;this._registerSplitPair(e,t)}const a=o.range.end.parent;return this._cursorParents.set(e,a),{position:o.position,cursorParent:a}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class _z{getHtml(e){const t=Aj.document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class Cz{domParser;domConverter;htmlWriter;skipComments=!0;constructor(e){this.domParser=new DOMParser,this.domConverter=new kB(e,{renderingMode:"data"}),this.htmlWriter=new _z}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode="marked"==e?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),r=t.body.childNodes;for(;r.length>0;)n.appendChild(r[0]);return n}}class kz extends(rO()){model;mapper;downcastDispatcher;upcastDispatcher;viewDocument;stylesProcessor;htmlProcessor;processor;_viewWriter;constructor(e,t){super(),this.model=e,this.mapper=new oF,this.downcastDispatcher=new lF({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",((e,t,n)=>{if(!n.consumable.consume(t.item,e.name))return;const r=n.writer,i=n.mapper.toViewPosition(t.range.start),o=r.createText(t.item.data);r.insert(i,o)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((e,t,n)=>{n.convertAttributes(t.item),t.reconversion||!t.item.is("element")||t.item.isEmpty||n.convertChildren(t.item)}),{priority:"lowest"}),this.upcastDispatcher=new xz({schema:e.schema}),this.viewDocument=new LN(t),this.stylesProcessor=t,this.htmlProcessor=new Cz(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new qN(this.viewDocument),this.upcastDispatcher.on("text",((e,t,n)=>{let{schema:r,consumable:i,writer:o}=n,s=t.modelCursor;if(!i.test(t.viewItem))return;if(!r.checkChild(s,"$text")){if(!HF(s,"$text",r))return;if(0==t.viewItem.data.trim().length)return;s=UF(s,o)}i.consume(t.viewItem);const a=o.createText(t.viewItem.data);o.insert(a,s),t.modelRange=o.createRange(s,s.getShiftedBy(a.offsetSize)),t.modelCursor=t.modelRange.end}),{priority:"lowest"}),this.upcastDispatcher.on("element",((e,t,n)=>{if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:r}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=r}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",((e,t,n)=>{if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:r}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=r}}),{priority:"lowest"}),vO().prototype.decorate.call(this,"init"),vO().prototype.decorate.call(this,"set"),vO().prototype.decorate.call(this,"get"),vO().prototype.decorate.call(this,"toView"),vO().prototype.decorate.call(this,"toModel"),this.on("init",(()=>{this.fire("ready")}),{priority:"lowest"}),this.on("ready",(()=>{this.model.enqueueChange({isUndoable:!1},WF)}),{priority:"lowest"})}get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new qj("datacontroller-get-non-existent-root",this);const r=this.model.document.getRoot(t);return r.isAttached()||Xj("datacontroller-get-detached-root",this),"empty"!==n||this.model.hasContent(r,{ignoreWhitespaces:!0})?this.stringify(r,e):""}stringify(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.toView(e,t);return this.processor.toData(n)}toView(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.viewDocument,r=this._viewWriter;this.mapper.clearBindings();const i=iF._createIn(e),o=new GN(n);this.mapper.bindElements(e,o);const s=e.is("documentFragment")?e.markers:function(e){const t=[],n=e.root.document;if(!n)return new Map;const r=iF._createIn(e);for(const i of n.model.markers){const e=i.getRange(),n=e.isCollapsed,o=e.start.isEqual(r.start)||e.end.isEqual(r.end);if(n&&o)t.push([i.name,e]);else{const n=r.getIntersection(e);n&&t.push([i.name,n])}}return t.sort(((e,t)=>{let[n,r]=e,[i,o]=t;if("after"!==r.end.compareWith(o.start))return 1;if("before"!==r.start.compareWith(o.end))return-1;switch(r.start.compareWith(o.start)){case"before":return 1;case"after":return-1;default:switch(r.end.compareWith(o.end)){case"before":return 1;case"after":return-1;default:return i.localeCompare(n)}}})),new Map(t)}(e);return this.downcastDispatcher.convert(i,s,r,t),o}init(e){if(this.model.document.version)throw new qj("datacontroller-init-document-not-empty",this);let t={};if("string"===typeof e?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new qj("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},(e=>{for(const n of Object.keys(t)){const r=this.model.document.getRoot(n);e.insert(this.parse(t[n],r),r,0)}})),Promise.resolve()}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};if("string"===typeof e?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new qj("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},(e=>{e.setSelection(null),e.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const t of Object.keys(n)){const r=this.model.document.getRoot(t);e.remove(e.createRangeIn(r)),e.insert(this.parse(n[t],r),r,0)}}))}parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";return this.model.change((n=>this.upcastDispatcher.convert(e,n,t)))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class Sz{_helpers=(()=>new Map)();_downcast;_upcast;constructor(e,t){this._downcast=TR(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=TR(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new qj("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new qj("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of Az(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of Az(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of Az(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers(e){let{name:t,dispatchers:n,isDowncast:r}=e;if(this._helpers.has(t))throw new qj("conversion-group-exists",this);const i=r?new AF(n):new $F(n);this._helpers.set(t,i)}}function*Az(e){if(e.model.values)for(const t of e.model.values){const n={key:e.model.key,value:t},r=e.view[t],i=e.upcastAlso?e.upcastAlso[t]:void 0;yield*Tz(n,r,i)}else yield*Tz(e.model,e.view,e.upcastAlso)}function*Tz(e,t,n){if(yield{model:e,view:t},n)for(const r of TR(n))yield{model:e,view:r}}class Iz{baseVersion;isDocumentOperation;batch;constructor(e){this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function Mz(e,t){const n=Dz(t),r=n.reduce(((e,t)=>e+t.offsetSize),0),i=e.parent;Oz(e);const o=e.index;return i._insertChild(o,n),jz(i,o+n.length),jz(i,o),new iF(e,e.getShiftedBy(r))}function Ez(e){if(!e.isFlat)throw new qj("operation-utils-remove-range-not-flat",this);const t=e.start.parent;Oz(e.start),Oz(e.end);const n=t._removeChildren(e.start.index,e.end.index-e.start.index);return jz(t,e.start.index),n}function Pz(e,t){if(!e.isFlat)throw new qj("operation-utils-move-range-not-flat",this);const n=Ez(e);return Mz(t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),n)}function Dz(e){const t=[];!function e(n){if("string"==typeof n)t.push(new GB(n));else if(n instanceof qB)t.push(new GB(n.data,n.getAttributes()));else if(n instanceof $B)t.push(n);else if(SO(n))for(const t of n)e(t)}(e);for(let n=1;n<t.length;n++){const e=t[n],r=t[n-1];e instanceof GB&&r instanceof GB&&Rz(e,r)&&(t.splice(n-1,2,new GB(r.data+e.data,r.getAttributes())),n--)}return t}function jz(e,t){const n=e.getChild(t-1),r=e.getChild(t);if(n&&r&&n.is("$text")&&r.is("$text")&&Rz(n,r)){const i=new GB(n.data+r.data,n.getAttributes());e._removeChildren(t-1,2),e._insertChild(t-1,i)}}function Oz(e){const t=e.textNode,n=e.parent;if(t){const r=e.offset-t.startOffset,i=t.index;n._removeChildren(i,1);const o=new GB(t.data.substr(0,r),t.getAttributes()),s=new GB(t.data.substr(r),t.getAttributes());n._insertChild(i,[o,s])}}function Rz(e,t){const n=e.getAttributes(),r=t.getAttributes();for(const i of n){if(i[1]!==t.getAttribute(i[0]))return!1;r.next()}return r.next().done}class Lz extends Iz{sourcePosition;howMany;targetPosition;constructor(e,t,n,r){super(r),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}get affectedSelectable(){return[iF._createFromPositionAndShift(this.sourcePosition,this.howMany),iF._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Lz(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Lz(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,r=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new qj("move-operation-nodes-do-not-exist",this);if(e===t&&n<r&&r<n+this.howMany)throw new qj("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==kO(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const e=this.sourcePosition.path.length-1;if(this.targetPosition.path[e]>=n&&this.targetPosition.path[e]<n+this.howMany)throw new qj("move-operation-node-into-itself",this)}}_execute(){Pz(iF._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=QB.fromJSON(e.sourcePosition,t),r=QB.fromJSON(e.targetPosition,t);return new this(n,e.howMany,r,e.baseVersion)}}class Nz extends Iz{position;nodes;shouldReceiveAttributes;constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new YB(Dz(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new YB([...this.nodes].map((e=>e._clone(!0)))),t=new Nz(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new QB(e,[0]);return new Lz(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new qj("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new YB([...e].map((e=>e._clone(!0)))),Mz(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const i of e.nodes)i.name?n.push(XB.fromJSON(i)):n.push(GB.fromJSON(i));const r=new Nz(QB.fromJSON(e.position,t),n,e.baseVersion);return r.shouldReceiveAttributes=e.shouldReceiveAttributes,r}}class Bz extends Iz{splitPosition;howMany;insertionPosition;graveyardPosition;constructor(e,t,n,r,i){super(i),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=r?r.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new QB(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new iF(this.splitPosition,e)}get affectedSelectable(){const e=[iF._createFromPositionAndShift(this.splitPosition,0),iF._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(iF._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Bz(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new QB(e,[0]);return new Fz(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new qj("split-operation-position-invalid",this);if(!e.parent)throw new qj("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new qj("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new qj("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Pz(iF._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();Mz(this.insertionPosition,t)}Pz(new iF(QB._createAt(e,this.splitPosition.offset),QB._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new QB(e.root,t,"toPrevious")}static fromJSON(e,t){const n=QB.fromJSON(e.splitPosition,t),r=QB.fromJSON(e.insertionPosition,t),i=e.graveyardPosition?QB.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,r,i,e.baseVersion)}}class Fz extends Iz{sourcePosition;howMany;targetPosition;graveyardPosition;constructor(e,t,n,r,i){super(i),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=r.clone()}get type(){return"merge"}get deletionPosition(){return new QB(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new iF(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[iF._createOn(e),iF._createFromPositionAndShift(this.targetPosition,0),iF._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Fz(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new QB(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new Bz(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new qj("merge-operation-source-position-invalid",this);if(!t.parent)throw new qj("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new qj("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Pz(iF._createIn(e),this.targetPosition),Pz(iF._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=QB.fromJSON(e.sourcePosition,t),r=QB.fromJSON(e.targetPosition,t),i=QB.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,r,i,e.baseVersion)}}class zz extends Iz{name;oldRange;newRange;affectsData;_markers;constructor(e,t,n,r,i,o){super(o),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=i,this._markers=r}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new zz(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new zz(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new zz(e.name,e.oldRange?iF.fromJSON(e.oldRange,t):null,e.newRange?iF.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}class Vz extends Iz{range;key;oldValue;newValue;constructor(e,t,n,r,i){super(i),this.range=e.clone(),this.key=t,this.oldValue=void 0===n?null:n,this.newValue=void 0===r?null:r}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Vz(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Vz(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new qj("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!KL(e.getAttribute(this.key),this.oldValue))throw new qj("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&e.hasAttribute(this.key))throw new qj("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){KL(this.oldValue,this.newValue)||function(e,t,n){Oz(e.start),Oz(e.end);for(const r of e.getItems({shallow:!0})){const e=r.is("$textProxy")?r.textNode:r;null!==n?e._setAttribute(t,n):e._removeAttribute(t),jz(e.parent,e.index)}jz(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new Vz(iF.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Wz extends Iz{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Wz(this.baseVersion)}getReversed(){return new Wz(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Hz extends Iz{position;oldName;newName;constructor(e,t,n,r){super(r),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Hz(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Hz(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof XB))throw new qj("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new qj("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new Hz(QB.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class Uz extends Iz{root;key;oldValue;newValue;constructor(e,t,n,r,i){super(i),this.root=e,this.key=t,this.oldValue=void 0===n?null:n,this.newValue=void 0===r?null:r}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Uz(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Uz(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new qj("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new qj("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new qj("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new qj("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Uz(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class $z extends Iz{rootName;elementName;isAdd;_document;constructor(e,t,n,r,i){if(super(i),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=r,!this._document.getRoot(this.rootName)){this._document.createRoot(this.elementName,this.rootName)._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new $z(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new $z(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new $z(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const Yz={};Yz[Vz.className]=Vz,Yz[Nz.className]=Nz,Yz[zz.className]=zz,Yz[Lz.className]=Lz,Yz[Wz.className]=Wz,Yz[Iz.className]=Iz,Yz[Hz.className]=Hz,Yz[Uz.className]=Uz,Yz[$z.className]=$z,Yz[Bz.className]=Bz,Yz[Fz.className]=Fz;class Gz{static fromJSON(e,t){return Yz[e.__className].fromJSON(e,t)}}const qz=new Map;function Xz(e,t,n){let r=qz.get(e);r||(r=new Map,qz.set(e,r)),r.set(t,n)}function Zz(e){return[e]}function Kz(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=function(e,t){const n=qz.get(e);return n&&n.has(t)?n.get(t):Zz}(e.constructor,t.constructor);try{return r(e=e.clone(),t,n)}catch(_ke){throw _ke}}function Qz(e,t,n){e=e.slice(),t=t.slice();const r=new Jz(n.document,n.useRelations,n.forceWeakRemove);r.setOriginalOperations(e),r.setOriginalOperations(t);const i=r.originalOperations;if(0==e.length||0==t.length)return{operationsA:e,operationsB:t,originalOperations:i};const o=new WeakMap;for(const l of e)o.set(l,0);const s={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length};let a=0;for(;a<e.length;){const n=e[a],i=o.get(n);if(i==t.length){a++;continue}const s=t[i],l=Kz(n,s,r.getContext(n,s,!0)),c=Kz(s,n,r.getContext(s,n,!1));r.updateRelation(n,s),r.setOriginalOperations(l,n),r.setOriginalOperations(c,s);for(const e of l)o.set(e,i+c.length);e.splice(a,1,...l),t.splice(i,1,...c)}if(n.padWithNoOps){const n=e.length-s.originalOperationsACount,r=t.length-s.originalOperationsBCount;tV(e,r-n),tV(t,n-r)}return eV(e,s.nextBaseVersionB),eV(t,s.nextBaseVersionA),{operationsA:e,operationsB:t,originalOperations:i}}class Jz{originalOperations;_history;_useRelations;_forceWeakRemove;_relations;constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=t?this.originalOperations.get(t):null;for(const r of e)this.originalOperations.set(r,n||r)}updateRelation(e,t){if(e instanceof Lz)t instanceof Fz?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof Lz&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof Bz){if(t instanceof Fz)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Lz)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=iF._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const r=n.end.offset-e.splitPosition.offset,i=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:r,offset:i})}}}else if(e instanceof Fz)t instanceof Fz?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof Bz?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof Lz&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof zz){const n=e.newRange;if(!n)return;if(t instanceof Lz){const r=iF._createFromPositionAndShift(t.sourcePosition,t.howMany),i=r.containsPosition(n.start)||r.start.isEqual(n.start),o=r.containsPosition(n.end)||r.end.isEqual(n.end);!i&&!o||r.containsRange(n)||this._setRelation(e,t,{side:i?"left":"right",path:i?n.start.path.slice():n.end.path.slice()})}else if(t instanceof Fz){const r=n.start.isEqual(t.targetPosition),i=n.start.isEqual(t.deletionPosition),o=n.end.isEqual(t.deletionPosition),s=n.end.isEqual(t.sourcePosition);(r||i||o||s)&&this._setRelation(e,t,{wasInLeftElement:r,wasStartBeforeMergedElement:i,wasEndBeforeMergedElement:o,wasInRightElement:s})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),r=this._history.getUndoneOperation(n);if(!r)return null;const i=this.originalOperations.get(e),o=this._relations.get(i);return o&&o.get(r)||null}_setRelation(e,t,n){const r=this.originalOperations.get(e),i=this.originalOperations.get(t);let o=this._relations.get(r);o||(o=new Map,this._relations.set(r,o)),o.set(i,n)}}function eV(e,t){for(const n of e)n.baseVersion=t++}function tV(e,t){for(let n=0;n<t;n++)e.push(new Wz(0))}function nV(e,t,n){const r=e.nodes.getNode(0).getAttribute(t);if(r==n)return null;const i=new iF(e.position,e.position.getShiftedBy(e.howMany));return new Vz(i,t,r,n,0)}function rV(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function iV(e,t){const n=[];for(let r=0;r<e.length;r++){const i=e[r],o=new Lz(i.start,i.end.offset-i.start.offset,t,0);n.push(o);for(let t=r+1;t<e.length;t++)e[t]=e[t]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];t=t._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return n}Xz(Vz,Vz,((e,t,n)=>{if(e.key===t.key&&e.range.start.hasSameParentAs(t.range.start)){const r=e.range.getDifference(t.range).map((t=>new Vz(t,e.key,e.oldValue,e.newValue,0))),i=e.range.getIntersection(t.range);return i&&n.aIsStrong&&r.push(new Vz(i,t.key,t.newValue,e.newValue,0)),0==r.length?[new Wz(0)]:r}return[e]})),Xz(Vz,Nz,((e,t)=>{if(e.range.start.hasSameParentAs(t.position)&&e.range.containsPosition(t.position)){const n=e.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map((t=>new Vz(t,e.key,e.oldValue,e.newValue,e.baseVersion)));if(t.shouldReceiveAttributes){const r=nV(t,e.key,e.oldValue);r&&n.unshift(r)}return n}return e.range=e.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[e]})),Xz(Vz,Fz,((e,t)=>{const n=[];e.range.start.hasSameParentAs(t.deletionPosition)&&(e.range.containsPosition(t.deletionPosition)||e.range.start.isEqual(t.deletionPosition))&&n.push(iF._createFromPositionAndShift(t.graveyardPosition,1));const r=e.range._getTransformedByMergeOperation(t);return r.isCollapsed||n.push(r),n.map((t=>new Vz(t,e.key,e.oldValue,e.newValue,e.baseVersion)))})),Xz(Vz,Lz,((e,t)=>{const n=function(e,t){const n=iF._createFromPositionAndShift(t.sourcePosition,t.howMany);let r=null,i=[];n.containsRange(e,!0)?r=e:e.start.hasSameParentAs(n.start)?(i=e.getDifference(n),r=e.getIntersection(n)):i=[e];const o=[];for(let s of i){s=s._getTransformedByDeletion(t.sourcePosition,t.howMany);const e=t.getMovedRangeStart(),n=s.start.hasSameParentAs(e),r=s._getTransformedByInsertion(e,t.howMany,n);o.push(...r)}r&&o.push(r._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]);return o}(e.range,t);return n.map((t=>new Vz(t,e.key,e.oldValue,e.newValue,e.baseVersion)))})),Xz(Vz,Bz,((e,t)=>{if(e.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.range.end.offset++,[e];if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){const n=e.clone();return n.range=new iF(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),e.range.end=t.splitPosition.clone(),e.range.end.stickiness="toPrevious",[e,n]}return e.range=e.range._getTransformedBySplitOperation(t),[e]})),Xz(Nz,Vz,((e,t)=>{const n=[e];if(e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)){const r=nV(e,t.key,t.newValue);r&&n.push(r)}return n})),Xz(Nz,Nz,((e,t,n)=>(e.position.isEqual(t.position)&&n.aIsStrong||(e.position=e.position._getTransformedByInsertOperation(t)),[e]))),Xz(Nz,Lz,((e,t)=>(e.position=e.position._getTransformedByMoveOperation(t),[e]))),Xz(Nz,Bz,((e,t)=>(e.position=e.position._getTransformedBySplitOperation(t),[e]))),Xz(Nz,Fz,((e,t)=>(e.position=e.position._getTransformedByMergeOperation(t),[e]))),Xz(zz,Nz,((e,t)=>(e.oldRange&&(e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]),e.newRange&&(e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]),[e]))),Xz(zz,zz,((e,t,n)=>{if(e.name==t.name){if(!n.aIsStrong)return[new Wz(0)];e.oldRange=t.newRange?t.newRange.clone():null}return[e]})),Xz(zz,Fz,((e,t)=>(e.oldRange&&(e.oldRange=e.oldRange._getTransformedByMergeOperation(t)),e.newRange&&(e.newRange=e.newRange._getTransformedByMergeOperation(t)),[e]))),Xz(zz,Lz,((e,t,n)=>{if(e.oldRange&&(e.oldRange=iF._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))),e.newRange){if(n.abRelation){const r=iF._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if("left"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.start))return e.newRange.end=r.end,e.newRange.start.path=n.abRelation.path,[e];if("right"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.end))return e.newRange.start=r.start,e.newRange.end.path=n.abRelation.path,[e]}e.newRange=iF._createFromRanges(e.newRange._getTransformedByMoveOperation(t))}return[e]})),Xz(zz,Bz,((e,t,n)=>{if(e.oldRange&&(e.oldRange=e.oldRange._getTransformedBySplitOperation(t)),e.newRange){if(n.abRelation){const r=e.newRange._getTransformedBySplitOperation(t);return e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?e.newRange.start=QB._createAt(t.insertionPosition):e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement&&(e.newRange.start=QB._createAt(t.moveTargetPosition)),e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement?e.newRange.end=QB._createAt(t.moveTargetPosition):e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?e.newRange.end=QB._createAt(t.insertionPosition):e.newRange.end=r.end,[e]}e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]})),Xz(Fz,Nz,((e,t)=>(e.sourcePosition.hasSameParentAs(t.position)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t),e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t),[e]))),Xz(Fz,Fz,((e,t,n)=>{if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(n.bWasUndone){const n=t.graveyardPosition.path.slice();return n.push(0),e.sourcePosition=new QB(t.graveyardPosition.root,n),e.howMany=0,[e]}return[new Wz(0)]}if(e.sourcePosition.isEqual(t.sourcePosition)&&!e.targetPosition.isEqual(t.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const r="$graveyard"==e.targetPosition.root.rootName,i="$graveyard"==t.targetPosition.root.rootName;if(i&&!r||!(r&&!i)&&n.aIsStrong){const n=t.targetPosition._getTransformedByMergeOperation(t),r=e.targetPosition._getTransformedByMergeOperation(t);return[new Lz(n,e.howMany,r,0)]}return[new Wz(0)]}return e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),e.graveyardPosition.isEqual(t.graveyardPosition)&&n.aIsStrong||(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),Xz(Fz,Lz,((e,t,n)=>{const r=iF._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!n.bWasUndone&&!n.forceWeakRemove&&e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition)?[new Wz(0)]:(t.sourcePosition.getShiftedBy(t.howMany).isEqual(e.sourcePosition)?e.sourcePosition.stickiness="toNone":t.targetPosition.isEqual(e.sourcePosition)&&"mergeSourceAffected"==n.abRelation?e.sourcePosition.stickiness="toNext":t.sourcePosition.isEqual(e.targetPosition)?(e.targetPosition.stickiness="toNone",e.howMany-=t.howMany):t.targetPosition.isEqual(e.targetPosition)&&"mergeTargetWasBefore"==n.abRelation?(e.targetPosition.stickiness="toPrevious",e.howMany+=t.howMany):(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition.hasSameParentAs(t.sourcePosition)&&(e.howMany-=t.howMany)),e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t),e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t),e.sourcePosition.stickiness="toPrevious",e.targetPosition.stickiness="toNext",e.graveyardPosition.isEqual(t.targetPosition)||(e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)),[e])})),Xz(Fz,Bz,((e,t,n)=>{if(t.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),e.deletionPosition.isEqual(t.graveyardPosition)&&(e.howMany=t.howMany)),e.targetPosition.isEqual(t.splitPosition)){const r=0!=t.howMany,i=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(r||i||"mergeTargetNotMoved"==n.abRelation)return e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),[e]}if(e.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return e.howMany=0,e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e];if("mergeSameElement"==n.abRelation||e.sourcePosition.offset>0)return e.sourcePosition=t.moveTargetPosition.clone(),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}return e.sourcePosition.hasSameParentAs(t.splitPosition)&&(e.howMany=t.splitPosition.offset),e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]})),Xz(Lz,Nz,((e,t)=>{const n=iF._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByInsertOperation(t,!1)[0];return e.sourcePosition=n.start,e.howMany=n.end.offset-n.start.offset,e.targetPosition.isEqual(t.position)||(e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)),[e]})),Xz(Lz,Lz,((e,t,n)=>{const r=iF._createFromPositionAndShift(e.sourcePosition,e.howMany),i=iF._createFromPositionAndShift(t.sourcePosition,t.howMany);let o,s=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),o=e.targetPosition.isEqual(t.targetPosition)&&a?e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),rV(e,t)&&rV(t,e))return[t.getReversed()];if(r.containsPosition(t.targetPosition)&&r.containsRange(i,!0))return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),iV([r],o);if(i.containsPosition(e.targetPosition)&&i.containsRange(r,!0))return r.start=r.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),r.end=r.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),iV([r],o);const l=kO(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==l||"extension"==l)return r.start=r.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),r.end=r.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),iV([r],o);"remove"!=e.type||"remove"==t.type||n.aWasUndone||n.forceWeakRemove?"remove"==e.type||"remove"!=t.type||n.bWasUndone||n.forceWeakRemove||(s=!1):s=!0;const c=[],u=r.getDifference(i);for(const h of u){h.start=h.start._getTransformedByDeletion(t.sourcePosition,t.howMany),h.end=h.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const e="same"==kO(h.start.getParentPath(),t.getMovedRangeStart().getParentPath()),n=h._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,e);c.push(...n)}const d=r.getIntersection(i);return null!==d&&s&&(d.start=d.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),d.end=d.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===c.length?c.push(d):1==c.length?i.start.isBefore(r.start)||i.start.isEqual(r.start)?c.unshift(d):c.push(d):c.splice(1,0,d)),0===c.length?[new Wz(e.baseVersion)]:iV(c,o)})),Xz(Lz,Bz,((e,t,n)=>{let r=e.targetPosition.clone();e.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(r=e.targetPosition._getTransformedBySplitOperation(t));const i=iF._createFromPositionAndShift(e.sourcePosition,e.howMany);if(i.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.howMany++,e.targetPosition=r,[e];if(i.start.hasSameParentAs(t.splitPosition)&&i.containsPosition(t.splitPosition)){let e=new iF(t.splitPosition,i.end);e=e._getTransformedBySplitOperation(t);return iV([new iF(i.start,t.splitPosition),e],r)}e.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==n.abRelation&&(r=t.moveTargetPosition),e.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==n.abRelation&&(r=e.targetPosition);const o=[i._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const r=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition);e.howMany>1&&r&&!n.aWasUndone&&o.push(iF._createFromPositionAndShift(t.insertionPosition,1))}return iV(o,r)})),Xz(Lz,Fz,((e,t,n)=>{const r=iF._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.sourcePosition))if("remove"!=e.type||n.forceWeakRemove){if(1==e.howMany)return n.bWasUndone?(e.sourcePosition=t.graveyardPosition.clone(),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]):[new Wz(0)]}else if(!n.aWasUndone){const n=[];let r=t.graveyardPosition.clone(),i=t.targetPosition._getTransformedByMergeOperation(t);e.howMany>1&&(n.push(new Lz(e.sourcePosition,e.howMany-1,e.targetPosition,0)),r=r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1),i=i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1));const o=t.deletionPosition._getCombined(e.sourcePosition,e.targetPosition),s=new Lz(r,1,o,0),a=s.getMovedRangeStart().path.slice();a.push(0);const l=new QB(s.targetPosition.root,a);i=i._getTransformedByMove(r,o,1);const c=new Lz(i,t.howMany,l,0);return n.push(s),n.push(c),n}const i=iF._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByMergeOperation(t);return e.sourcePosition=i.start,e.howMany=i.end.offset-i.start.offset,e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]})),Xz(Hz,Nz,((e,t)=>(e.position=e.position._getTransformedByInsertOperation(t),[e]))),Xz(Hz,Fz,((e,t)=>e.position.isEqual(t.deletionPosition)?(e.position=t.graveyardPosition.clone(),e.position.stickiness="toNext",[e]):(e.position=e.position._getTransformedByMergeOperation(t),[e]))),Xz(Hz,Lz,((e,t)=>(e.position=e.position._getTransformedByMoveOperation(t),[e]))),Xz(Hz,Hz,((e,t,n)=>{if(e.position.isEqual(t.position)){if(!n.aIsStrong)return[new Wz(0)];e.oldName=t.newName}return[e]})),Xz(Hz,Bz,((e,t)=>{if("same"==kO(e.position.path,t.splitPosition.getParentPath())&&!t.graveyardPosition){const t=new Hz(e.position.getShiftedBy(1),e.oldName,e.newName,0);return[e,t]}return e.position=e.position._getTransformedBySplitOperation(t),[e]})),Xz(Uz,Uz,((e,t,n)=>{if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue)return[new Wz(0)];e.oldValue=t.newValue}return[e]})),Xz($z,$z,((e,t)=>e.rootName===t.rootName&&e.isAdd===t.isAdd?[new Wz(0)]:[e])),Xz(Bz,Nz,((e,t)=>(e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t),e.insertionPosition=e.insertionPosition._getTransformedByInsertOperation(t),[e]))),Xz(Bz,Fz,((e,t,n)=>{if(!e.graveyardPosition&&!n.bWasUndone&&e.splitPosition.hasSameParentAs(t.sourcePosition)){const n=t.graveyardPosition.path.slice();n.push(0);const r=new QB(t.graveyardPosition.root,n),i=Bz.getInsertionPosition(new QB(t.graveyardPosition.root,n)),o=new Bz(r,0,i,null,0);return e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=Bz.getInsertionPosition(e.splitPosition),e.graveyardPosition=o.insertionPosition.clone(),e.graveyardPosition.stickiness="toNext",[o,e]}return e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)&&e.howMany--,e.splitPosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=Bz.getInsertionPosition(e.splitPosition),e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),Xz(Bz,Lz,((e,t,n)=>{const r=iF._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){const i=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&i){const n=e.splitPosition._getTransformedByMoveOperation(t),r=e.graveyardPosition._getTransformedByMoveOperation(t),i=r.path.slice();i.push(0);const o=new QB(r.root,i);return[new Lz(n,e.howMany,o,0)]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}const i=e.splitPosition.isEqual(t.targetPosition);if(i&&("insertAtSource"==n.baRelation||"splitBefore"==n.abRelation))return e.howMany+=t.howMany,e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),e.insertionPosition=Bz.getInsertionPosition(e.splitPosition),[e];if(i&&n.abRelation&&n.abRelation.howMany){const{howMany:t,offset:r}=n.abRelation;return e.howMany+=t,e.splitPosition=e.splitPosition.getShiftedBy(r),[e]}if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.splitPosition)){const n=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset);return e.howMany-=n,e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany),e.splitPosition=t.sourcePosition.clone(),e.insertionPosition=Bz.getInsertionPosition(e.splitPosition),[e]}return t.sourcePosition.isEqual(t.targetPosition)||(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset&&(e.howMany-=t.howMany),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany)),e.splitPosition.stickiness="toNone",e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t),e.splitPosition.stickiness="toNext",e.graveyardPosition?e.insertionPosition=e.insertionPosition._getTransformedByMoveOperation(t):e.insertionPosition=Bz.getInsertionPosition(e.splitPosition),[e]})),Xz(Bz,Bz,((e,t,n)=>{if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition)return[new Wz(0)];if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition))return[new Wz(0)];if("splitBefore"==n.abRelation)return e.howMany=0,e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t),[e]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){const r="$graveyard"==e.splitPosition.root.rootName,i="$graveyard"==t.splitPosition.root.rootName;if(i&&!r||!(r&&!i)&&n.aIsStrong){const n=[];return t.howMany&&n.push(new Lz(t.moveTargetPosition,t.howMany,t.splitPosition,0)),e.howMany&&n.push(new Lz(e.splitPosition,e.howMany,e.moveTargetPosition,0)),n}return[new Wz(0)]}if(e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)),e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.abRelation)return e.howMany++,[e];if(t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.baRelation){const n=t.insertionPosition.path.slice();n.push(0);const r=new QB(t.insertionPosition.root,n);return[e,new Lz(e.insertionPosition,1,r,0)]}return e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset&&(e.howMany-=t.howMany),e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t),e.insertionPosition=Bz.getInsertionPosition(e.splitPosition),[e]}));class oV extends(rO(QB)){constructor(e,t){if(super(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone"),!this.root.is("rootElement"))throw new qj("model-liveposition-root-not-rootelement",e);sV.call(this)}detach(){this.stopListening()}toPosition(){return new QB(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function sV(){this.listenTo(this.root.document.model,"applyOperation",((e,t)=>{const n=t[0];n.isDocumentOperation&&aV.call(this,n)}),{priority:"low"})}function aV(e){const t=this.getTransformedByOperation(e);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}oV.prototype.is=function(e){return"livePosition"===e||"model:livePosition"===e||"position"==e||"model:position"===e};class lV{operations;isUndoable;isLocal;isUndo;isTyping;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof e&&(e="transparent"===e?{isUndoable:!1}:{},Xj("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:r=!1,isTyping:i=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=r,this.isTyping=i}get type(){return Xj("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(null!==e.baseVersion)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class cV{static _statesPriority=[void 0,"refresh","rename","move"];_markerCollection;_changesInElement=(()=>new Map)();_elementsSnapshots=(()=>new Map)();_elementChildrenSnapshots=(()=>new Map)();_elementState=(()=>new Map)();_changedMarkers=(()=>new Map)();_changedRoots=(()=>new Map)();_changeCount=0;_cachedChanges=null;_cachedChangesWithGraveyard=null;_refreshedItems=(()=>new Set)();constructor(e){this._markerCollection=e}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size&&0==this._changedRoots.size}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const e of t.range.getItems({shallow:!0}))this._isInInsertedElement(e.parent)||this._markAttribute(e);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const e=this._isInInsertedElement(t.sourcePosition.parent),n=this._isInInsertedElement(t.targetPosition.parent);e||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),n||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);const r=iF._createFromPositionAndShift(t.sourcePosition,t.howMany);for(const t of r.getItems({shallow:!0}))this._setElementState(t,"move");break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const e=iF._createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getData();this.bufferMarkerChange(t.name,e,e)}this._setElementState(t.position.nodeAfter,"rename");break}case"split":{const e=t.splitPosition.parent;if(!this._isInInsertedElement(e)){this._markRemove(e,t.splitPosition.offset,t.howMany);const n=iF._createFromPositionAndShift(t.splitPosition,t.howMany);for(const e of n.getItems({shallow:!0}))this._setElementState(e,"move")}this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&(this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1),this._setElementState(t.graveyardPosition.nodeAfter,"move"));break}case"merge":{const e=t.sourcePosition.parent;this._isInInsertedElement(e.parent)||this._markRemove(e.parent,e.startOffset,1);const n=t.graveyardPosition.parent;this._markInsert(n,t.graveyardPosition.offset,1),this._setElementState(e,"move");const r=t.targetPosition.parent;if(!this._isInInsertedElement(r)){this._markInsert(r,t.targetPosition.offset,e.maxOffset);const n=iF._createFromPositionAndShift(t.sourcePosition,t.howMany);for(const e of n.getItems({shallow:!0}))this._setElementState(e,"move")}break}case"detachRoot":case"addRoot":{const e=t.affectedSelectable;if(!e._isLoaded)return;if(e.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const e=t.root.rootName;this._bufferRootAttributeChange(e,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let r=this._changedMarkers.get(e);r?r.newMarkerData=n:(r={newMarkerData:n,oldMarkerData:t},this._changedMarkers.set(e,r)),null==r.oldMarkerData.range&&null==n.range&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)null!=n.oldMarkerData.range&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)null!=n.newMarkerData.range&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map((e=>{let[t,n]=e;return{name:t,data:{oldRange:n.oldMarkerData.range,newRange:n.newMarkerData.range}}}))}hasDataChanges(){if(this.getChanges().length)return!0;if(this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,r=!e.range&&t.range,i=e.range&&t.range&&!e.range.isEqual(t.range);if(n||r||i)return!0}}return!1}getChanges(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const n of this._changesInElement.keys()){const e=this._changesInElement.get(n).sort(((e,t)=>e.offset===t.offset?e.type!=t.type?"remove"==e.type?-1:1:0:e.offset<t.offset?-1:1)),r=this._elementChildrenSnapshots.get(n),i=dV(n.getChildren()),o=hV(r.length,e);let s=0,a=0;for(const l of o)if("i"===l){const e=this._getDiffActionForNode(i[s].node,"insert"),r=this._elementsSnapshots.get(i[s].node),o=this._getInsertDiff(n,s,e,i[s],r);t.push(o),s++}else if("r"===l){const e=this._getDiffActionForNode(r[a].node,"remove"),i=this._getRemoveDiff(n,s,e,r[a]);t.push(i),a++}else if("a"===l){const e=r[a].attributes,o=i[s].attributes;let l;if("$text"==i[s].name)l=new iF(QB._createAt(n,s),QB._createAt(n,s+1));else{const e=n.offsetToIndex(s);l=new iF(QB._createAt(n,s),QB._createAt(n.getChild(e),0))}const c=this._getAttributesDiff(l,e,o);t.push(...c),s++,a++}else s++,a++}t.sort(((e,t)=>e.position.root!=t.position.root?e.position.root.rootName<t.position.root.rootName?-1:1:e.position.isEqual(t.position)?e.changeCount-t.changeCount:e.position.isBefore(t.position)?-1:1));for(let n=1,r=0;n<t.length;n++){const e=t[r],i=t[n],o="remove"==e.type&&"remove"==i.type&&"$text"==e.name&&"$text"==i.name&&e.position.isEqual(i.position),s="insert"==e.type&&"insert"==i.type&&"$text"==e.name&&"$text"==i.name&&e.position.parent==i.position.parent&&e.position.offset+e.length==i.position.offset,a="attribute"==e.type&&"attribute"==i.type&&e.position.parent==i.position.parent&&e.range.isFlat&&i.range.isFlat&&e.position.offset+e.length==i.position.offset&&e.attributeKey==i.attributeKey&&e.attributeOldValue==i.attributeOldValue&&e.attributeNewValue==i.attributeNewValue;o||s||a?(e.length++,a&&(e.range.end=e.range.end.getShiftedBy(1)),t[n]=null):r=n}t=t.filter((e=>e));for(const n of t)delete n.changeCount,"attribute"==n.type&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(fV),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map((e=>{const t={...e};return void 0!==t.state&&delete t.attributes,t}))}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e),this._setElementState(e,"refresh");const t=iF._createOn(e);for(const n of this._markerCollection.getMarkersIntersectingRange(t)){const e=n.getData();this.bufferMarkerChange(n.name,e,e)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const t of this._markerCollection)if(t.getRange().root==e){const e=t.getData();this.bufferMarkerChange(t.name,{...e,range:null},e)}}}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const n=this._changedRoots.get(e);void 0!==n.state?(delete n.state,void 0===n.attributes&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,r){const i=this._changedRoots.get(e)||{name:e},o=i.attributes||{};if(o[t]){const e=o[t];r===e.oldValue?delete o[t]:e.newValue=r}else o[t]={oldValue:n,newValue:r};0===Object.entries(o).length?(delete i.attributes,void 0===i.state&&this._changedRoots.delete(e)):(i.attributes=o,this._changedRoots.set(e,i))}_markInsert(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const r={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,r)}_markRemove(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const r={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,r),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshots(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let r=0;r<n.length;r++)n[r].howMany<1&&(n.splice(r,1),r--)}_setElementState(e,t){if(!e.is("element"))return;const n=cV._statesPriority.indexOf(this._elementState.get(e));cV._statesPriority.indexOf(t)>n&&this._elementState.set(e,t)}_getDiffActionForNode(e,t){if(!e.is("element"))return t;if(!this._elementsSnapshots.has(e))return t;const n=this._elementState.get(e);return n&&"move"!=n?n:t}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshots(e){if(this._elementChildrenSnapshots.has(e))return;const t=dV(e.getChildren());this._elementChildrenSnapshots.set(e,t);for(const n of t)this._elementsSnapshots.set(n.node,n)}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const r=e.offset+e.howMany,i=n.offset+n.howMany;if("insert"==e.type&&("insert"==n.type&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<i&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==n.type&&e.offset<n.offset&&(n.offset+=e.howMany),"attribute"==n.type))if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<i){const i=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:r,howMany:i-n.howMany,count:this._changeCount++})}if("remove"==e.type){if("insert"==n.type)if(r<=n.offset)n.offset-=e.howMany;else if(r<=i)if(e.offset<n.offset){const t=r-n.offset;n.offset=e.offset,n.howMany-=t,e.nodesToHandle-=t}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<i){const t=i-e.offset;n.howMany-=t,e.nodesToHandle-=t}if("remove"==n.type&&(r<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(r<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const t=r-n.offset;n.offset=e.offset,n.howMany-=t}else if(e.offset<i)if(r<=i){const r=n.howMany;n.howMany=e.offset-n.offset;const i=r-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:i,count:this._changeCount++})}else n.howMany-=i-e.offset}if("attribute"==e.type){if("insert"==n.type)if(e.offset<n.offset&&r>n.offset){if(r>i){const e={type:"attribute",offset:i,howMany:r-i,count:this._changeCount++};this._handleChange(e,t),t.push(e)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<i&&(r>i?(e.nodesToHandle=r-i,e.offset=i):e.nodesToHandle=0);if("remove"==n.type&&e.offset<n.offset&&r>n.offset){const i={type:"attribute",offset:n.offset,howMany:r-n.offset,count:this._changeCount++};this._handleChange(i,t),t.push(i),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}"attribute"==n.type&&(e.offset>=n.offset&&r<=i?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&r>=i&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n,r,i){const o={type:"insert",position:QB._createAt(e,t),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++,action:n};return"insert"!=n&&i&&(o.before={name:i.name,attributes:new Map(i.attributes)}),o}_getRemoveDiff(e,t,n,r){return{type:"remove",action:n,position:QB._createAt(e,t),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,n){const r=[];n=new Map(n);for(const[i,o]of t){const t=n.has(i)?n.get(i):null;t!==o&&r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:i,attributeOldValue:o,attributeNewValue:t,changeCount:this._changeCount++}),n.delete(i)}for(const[i,o]of n)r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:i,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return r}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),r=e.startOffset;if(n)for(const i of n)if("insert"==i.type&&r>=i.offset&&r<i.offset+i.howMany)return!0;return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const r=new iF(QB._createAt(e,t),QB._createAt(e,t+n));for(const i of r.getItems({shallow:!0}))i.is("element")&&(this._changesInElement.delete(i),this._removeAllNestedChanges(i,0,i.maxOffset))}}function uV(e){return{node:e,name:e.is("$text")?"$text":e.name,attributes:new Map(e.getAttributes())}}function dV(e){const t=[];for(const n of e)if(n.is("$text"))for(let e=0;e<n.data.length;++e)t.push(uV(n));else t.push(uV(n));return t}function hV(e,t){const n=[];let r=0,i=0;for(const o of t){if(o.offset>r){for(let e=0;e<o.offset-r;e++)n.push("e");i+=o.offset-r}if("insert"==o.type){for(let e=0;e<o.howMany;e++)n.push("i");r=o.offset+o.howMany}else if("remove"==o.type){for(let e=0;e<o.howMany;e++)n.push("r");r=o.offset,i+=o.howMany}else{if(o.howMany>1500)for(let e=0;e<o.howMany;e++)n.push("a");else n.push(..."a".repeat(o.howMany).split(""));r=o.offset+o.howMany,i+=o.howMany}}if(i<e)for(let o=0;o<e-i-r;o++)n.push("e");return n}function fV(e){const t="position"in e&&"$graveyard"==e.position.root.rootName,n="range"in e&&"$graveyard"==e.range.root.rootName;return!t&&!n}class pV{_operations=[];_undoPairs=(()=>new Map)();_undoneOperations=(()=>new Set)();_baseVersionToOperationIndex=(()=>new Map)();_version=0;_gaps=(()=>new Map)();get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new qj("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.version;if(!this._operations.length)return[];const n=this._operations[0];void 0===e&&(e=n.baseVersion);let r=t-1;for(const[s,a]of this._gaps)e>s&&e<a&&(e=a),r>s&&r<a&&(r=s-1);if(r<n.baseVersion||e>this.lastOperation.baseVersion)return[];let i=this._baseVersionToOperationIndex.get(e);void 0===i&&(i=0);let o=this._baseVersionToOperationIndex.get(r);return void 0===o&&(o=this._operations.length-1),this._operations.slice(i,o+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(void 0!==t)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class mV extends XB{rootName;_document;_isAttached=!0;_isLoaded=!0;constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"main";super(t),this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}mV.prototype.is=function(e,t){return t?t===this.name&&("rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e):"rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e||"node"===e||"model:node"===e};const gV="$graveyard";class vV extends(rO()){model;history;selection;roots;differ;isReadOnly;_postFixers;_hasSelectionChangedFromTheLastChangeBlock;constructor(e){super(),this.model=e,this.history=new pV,this.selection=new _F(this),this.roots=new ER({idProperty:"rootName"}),this.differ=new cV(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",gV),this.listenTo(e,"applyOperation",((e,t)=>{const n=t[0];n.isDocumentOperation&&this.differ.bufferOperation(n)}),{priority:"high"}),this.listenTo(e,"applyOperation",((e,t)=>{const n=t[0];n.isDocumentOperation&&this.history.addOperation(n)}),{priority:"low"}),this.listenTo(this.selection,"change",(()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(e.markers,"update",((e,t,n,r,i)=>{const o={...t.getData(),range:r};this.differ.bufferMarkerChange(t.name,i,o),null===n&&t.on("change",((e,n)=>{const r=t.getData();this.differ.bufferMarkerChange(t.name,{...r,range:n},r)}))})),this.registerPostFixer((e=>{let t=!1;for(const n of this.roots)n.isAttached()||n.isEmpty||(e.remove(e.createRangeIn(n)),t=!0);for(const n of this.model.markers)n.getRange().root.isAttached()||(e.removeMarker(n),t=!0);return t}))}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(gV)}createRoot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$root",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";if(this.roots.get(t))throw new qj("model-document-createroot-name-exists",this,{name:t});const n=new mV(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}getRootNames(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getRoots(e).map((e=>e.rootName))}getRoots(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.roots.filter((t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded))}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=VR(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,r=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(r)||t.createRange(r)}_validateSelectionRange(e){return bV(e.start)&&bV(e.end)}_callPostFixers(e){let t=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break}while(t)}}function bV(e){const t=e.textNode;if(t){const n=t.data,r=e.offset-t.startOffset;return!LR(n,r)&&!NR(n,r)}return!0}class yV extends(rO()){_markers=(()=>new Map)();[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof wV?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=e instanceof wV?e.name:e;if(i.includes(","))throw new qj("markercollection-incorrect-marker-name",this);const o=this._markers.get(i);if(o){const e=o.getData(),s=o.getRange();let a=!1;return s.isEqual(t)||(o._attachLiveRange(bF.fromRange(t)),a=!0),n!=o.managedUsingOperations&&(o._managedUsingOperations=n,a=!0),"boolean"===typeof r&&r!=o.affectsData&&(o._affectsData=r,a=!0),a&&this.fire(`update:${i}`,o,s,t,e),o}const s=bF.fromRange(t),a=new wV(i,s,n,r);return this._markers.set(i,a),this.fire(`update:${i}`,a,null,t,{...a.getData(),range:null}),a}_remove(e){const t=e instanceof wV?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(e){const t=e instanceof wV?e.name:e,n=this._markers.get(t);if(!n)throw new qj("markercollection-refresh-marker-not-exists",this);const r=n.getRange();this.fire(`update:${t}`,n,r,r,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)null!==t.getRange().getIntersection(e)&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class wV extends(rO(UB)){name;_managedUsingOperations;_affectsData;_liveRange;constructor(e,t,n,r){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=r}get managedUsingOperations(){if(!this._liveRange)throw new qj("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new qj("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new qj("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new qj("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new qj("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}wV.prototype.is=function(e){return"marker"===e||"model:marker"===e};class xV extends Iz{sourcePosition;howMany;constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new qj("detach-operation-on-document-node",this)}_execute(){Ez(iF._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class _V extends UB{markers=(()=>new Map)();_children=(()=>new YB)();constructor(e){super(),e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(XB.fromJSON(n)):t.push(GB.fromJSON(n));return new _V(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(e){if("string"==typeof e)return[new GB(e)];SO(e)||(e=[e]);return Array.from(e).map((e=>"string"==typeof e?new GB(e):e instanceof qB?new GB(e.data,e.getAttributes()):e))}(t);for(const r of n)null!==r.parent&&r._remove(),r.parent=this;this._children._insertNodes(e,n)}_removeChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=this._children._removeNodes(e,t);for(const r of n)r.parent=null;return n}}_V.prototype.is=function(e){return"documentFragment"===e||"model:documentFragment"===e};class CV{model;batch;constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new GB(e,t)}createElement(e,t){return new XB(e,t)}createDocumentFragment(){return new _V}cloneElement(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e._clone(t)}insert(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._assertWriterUsedCorrectly(),e instanceof GB&&""==e.data)return;const r=QB._createAt(t,n);if(e.parent){if(IV(e.root,r.root))return void this.move(iF._createOn(e),r);if(e.root.document)throw new qj("model-writer-insert-forbidden-move",this);this.remove(e)}const i=r.root.document?r.root.document.version:null,o=new Nz(r,e,i);if(e instanceof GB&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),e instanceof _V)for(const[s,a]of e.markers){const e=QB._createAt(a.root,0),t={range:new iF(a.start._getCombined(e,r),a.end._getCombined(e,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(s)?this.updateMarker(s,t):this.addMarker(s,t)}}insertText(e,t,n,r){t instanceof _V||t instanceof XB||t instanceof QB?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,r)}insertElement(e,t,n,r){t instanceof _V||t instanceof XB||t instanceof QB?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,r)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof _V||t instanceof XB?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof _V||t instanceof XB?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof iF){const r=n.getMinimalFlatRanges();for(const n of r)kV(this,e,t,n)}else SV(this,e,t,n)}setAttributes(e,t){for(const[n,r]of OR(e))this.setAttribute(n,r,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof iF){const n=t.getMinimalFlatRanges();for(const t of n)kV(this,e,null,t)}else SV(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=e=>{for(const t of e.getAttributeKeys())this.removeAttribute(t,e)};if(e instanceof iF)for(const n of e.getItems())t(n);else t(e)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof iF))throw new qj("writer-move-invalid-range",this);if(!e.isFlat)throw new qj("writer-move-range-not-flat",this);const r=QB._createAt(t,n);if(r.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!IV(e.root,r.root))throw new qj("writer-move-different-document",this);const i=e.root.document?e.root.document.version:null,o=new Lz(e.start,e.end.offset-e.start.offset,r,i);this.batch.addOperation(o),this.model.applyOperation(o)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof iF?e:iF._createOn(e)).getMinimalFlatRanges().reverse();for(const n of t)this._addOperationForAffectedMarkers("move",n),TV(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof XB))throw new qj("writer-merge-no-element-before",this);if(!(n instanceof XB))throw new qj("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(){return this.model.createSelection(...arguments)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(iF._createIn(n),QB._createAt(t,"end")),this.remove(n)}_merge(e){const t=QB._createAt(e.nodeBefore,"end"),n=QB._createAt(e.nodeAfter,0),r=e.root.document.graveyard,i=new QB(r,[0]),o=e.root.document.version,s=new Fz(n,e.nodeAfter.maxOffset,t,i,o);this.batch.addOperation(s),this.model.applyOperation(s)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof XB))throw new qj("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,r=new Hz(QB._createBefore(e),e.name,t,n);this.batch.addOperation(r),this.model.applyOperation(r)}split(e,t){this._assertWriterUsedCorrectly();let n,r,i=e.parent;if(!i.parent)throw new qj("writer-split-element-no-parent",this);if(t||(t=i.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new qj("writer-split-invalid-limit-element",this);do{const t=i.root.document?i.root.document.version:null,o=i.maxOffset-e.offset,s=Bz.getInsertionPosition(e),a=new Bz(e,o,s,null,t);this.batch.addOperation(a),this.model.applyOperation(a),n||r||(n=i,r=e.parent.nextSibling),i=(e=this.createPositionAfter(e.parent)).parent}while(i!==t);return{position:e,range:new iF(QB._createAt(n,"end"),QB._createAt(r,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new qj("writer-wrap-range-not-flat",this);const n=t instanceof XB?t:new XB(t);if(n.childCount>0)throw new qj("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new qj("writer-wrap-element-attached",this);this.insert(n,e.start);const r=new iF(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(r,QB._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new qj("writer-unwrap-element-no-parent",this);this.move(iF._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new qj("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,r=t.range,i=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new qj("writer-addmarker-marker-exists",this);if(!r)throw new qj("writer-addmarker-no-range",this);return n?(AV(this,e,null,r,i),this.model.markers.get(e)):this.model.markers._set(e,r,n,i)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n="string"==typeof e?e:e.name,r=this.model.markers.get(n);if(!r)throw new qj("writer-updatemarker-marker-not-exists",this);if(!t)return Xj("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(r);const i="boolean"==typeof t.usingOperation,o="boolean"==typeof t.affectsData,s=o?t.affectsData:r.affectsData;if(!i&&!t.range&&!o)throw new qj("writer-updatemarker-wrong-options",this);const a=r.getRange(),l=t.range?t.range:a;i&&t.usingOperation!==r.managedUsingOperations?t.usingOperation?AV(this,n,null,l,s):(AV(this,n,a,null,s),this.model.markers._set(n,l,void 0,s)):r.managedUsingOperations?AV(this,n,a,l,s):this.model.markers._set(n,l,void 0,s)}removeMarker(e){this._assertWriterUsedCorrectly();const t="string"==typeof e?e:e.name;if(!this.model.markers.has(t))throw new qj("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);if(!n.managedUsingOperations)return void this.model.markers._remove(t);AV(this,t,n.getRange(),null,n.affectsData)}addRoot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new qj("writer-addroot-root-exists",this);const r=this.model.document,i=new $z(e,t,!0,r,r.version);return this.batch.addOperation(i),this.model.applyOperation(i),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t="string"==typeof e?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new qj("writer-detachroot-no-root",this);for(const i of this.model.markers)i.getRange().root===t&&this.removeMarker(i);for(const i of t.getAttributeKeys())this.removeAttribute(i,t);this.remove(this.createRangeIn(t));const n=this.model.document,r=new $z(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(r),this.model.applyOperation(r)}setSelection(){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...arguments)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),"string"===typeof e)this._setSelectionAttribute(e,t);else for(const[n,r]of OR(e))this._setSelectionAttribute(n,r)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),"string"===typeof e)this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const r=_F._getStoreAttributeKey(e);this.setAttribute(r,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=_F._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new qj("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const r=n.getRange();let i=!1;if("move"===e){const e=t;i=e.containsPosition(r.start)||e.start.isEqual(r.start)||e.containsPosition(r.end)||e.end.isEqual(r.end)}else{const e=t,n=e.nodeBefore,o=e.nodeAfter,s=r.start.parent==n&&r.start.isAtEnd,a=r.end.parent==o&&0==r.end.offset,l=r.end.nodeAfter==o,c=r.start.nodeAfter==o;i=s||a||l||c}i&&this.updateMarker(n.name,{range:r})}}}function kV(e,t,n,r){const i=e.model,o=i.document;let s,a,l,c=r.start;for(const d of r.getWalker({shallow:!0}))l=d.item.getAttribute(t),s&&a!=l&&(a!=n&&u(),c=s),s=d.nextPosition,a=l;function u(){const r=new iF(c,s),l=r.root.document?o.version:null,u=new Vz(r,t,a,n,l);e.batch.addOperation(u),i.applyOperation(u)}s instanceof QB&&s!=c&&a!=n&&u()}function SV(e,t,n,r){const i=e.model,o=i.document,s=r.getAttribute(t);let a,l;if(s!=n){if(r.root===r){const e=r.document?o.version:null;l=new Uz(r,t,s,n,e)}else{a=new iF(QB._createBefore(r),e.createPositionAfter(r));const i=a.root.document?o.version:null;l=new Vz(a,t,s,n,i)}e.batch.addOperation(l),i.applyOperation(l)}}function AV(e,t,n,r,i){const o=e.model,s=o.document,a=new zz(t,n,r,o.markers,!!i,s.version);e.batch.addOperation(a),o.applyOperation(a)}function TV(e,t,n,r){let i;if(e.root.document){const n=r.document,o=new QB(n.graveyard,[0]);i=new Lz(e,t,o,n.version)}else i=new xV(e,t);n.addOperation(i),r.applyOperation(i)}function IV(e,t){return e===t||e instanceof mV&&t instanceof mV}function MV(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.isCollapsed)return;const r=t.getFirstRange();if("$graveyard"==r.root.rootName)return;const i=e.schema;e.change((e=>{if(!n.doNotResetEntireContent&&function(e,t){const n=e.getLimitElement(t);if(!t.containsEntireContent(n))return!1;const r=t.getFirstRange();if(r.start.parent==r.end.parent)return!1;return e.checkChild(n,"paragraph")}(i,t))return void function(e,t){const n=e.model.schema.getLimitElement(t);e.remove(e.createRangeIn(n)),jV(e,e.createPositionAt(n,0),t)}(e,t);const o={};if(!n.doNotAutoparagraph){const e=t.getSelectedElement();e&&Object.assign(o,i.getAttributesWithProperty(e,"copyOnReplace",!0))}const[s,a]=function(e){const t=e.root.document.model,n=e.start;let r=e.end;if(t.hasContent(e,{ignoreMarkers:!0})){const n=function(e){const t=e.parent,n=t.root.document.model.schema,r=t.getAncestors({parentFirst:!0,includeSelf:!0});for(const i of r){if(n.isLimit(i))return null;if(n.isBlock(i))return i}}(r);if(n&&r.isTouching(t.createPositionAt(n,0))){const n=t.createSelection(e);t.modifySelection(n,{direction:"backward"});const i=n.getLastPosition(),o=t.createRange(i,r);t.hasContent(o,{ignoreMarkers:!0})||(r=i)}}return[oV.fromPosition(n,"toPrevious"),oV.fromPosition(r,"toNext")]}(r);s.isTouching(a)||e.remove(e.createRange(s,a)),n.leaveUnmerged||(!function(e,t,n){const r=e.model;if(!DV(e.model.schema,t,n))return;const[i,o]=function(e,t){const n=e.getAncestors(),r=t.getAncestors();let i=0;for(;n[i]&&n[i]==r[i];)i++;return[n[i],r[i]]}(t,n);if(!i||!o)return;!r.hasContent(i,{ignoreMarkers:!0})&&r.hasContent(o,{ignoreMarkers:!0})?PV(e,t,n,i.parent):EV(e,t,n,i.parent)}(e,s,a),i.removeDisallowedAttributes(s.parent.getChildren(),e)),OV(e,t,s),!n.doNotAutoparagraph&&function(e,t){const n=e.checkChild(t,"$text"),r=e.checkChild(t,"paragraph");return!n&&r}(i,s)&&jV(e,s,t,o),s.detach(),a.detach()}))}function EV(e,t,n,r){const i=t.parent,o=n.parent;if(i!=r&&o!=r){for(t=e.createPositionAfter(i),(n=e.createPositionBefore(o)).isEqual(t)||e.insert(o,t),e.merge(t);n.parent.isEmpty;){const t=n.parent;n=e.createPositionBefore(t),e.remove(t)}DV(e.model.schema,t,n)&&EV(e,t,n,r)}}function PV(e,t,n,r){const i=t.parent,o=n.parent;if(i!=r&&o!=r){for(t=e.createPositionAfter(i),(n=e.createPositionBefore(o)).isEqual(t)||e.insert(i,n);t.parent.isEmpty;){const n=t.parent;t=e.createPositionBefore(n),e.remove(n)}n=e.createPositionBefore(o),function(e,t){const n=t.nodeBefore,r=t.nodeAfter;n.name!=r.name&&e.rename(n,r.name);e.clearAttributes(n),e.setAttributes(Object.fromEntries(r.getAttributes()),n),e.merge(t)}(e,n),DV(e.model.schema,t,n)&&PV(e,t,n,r)}}function DV(e,t,n){const r=t.parent,i=n.parent;return r!=i&&(!e.isLimit(r)&&!e.isLimit(i)&&function(e,t,n){const r=new iF(e,t);for(const i of r.getWalker())if(n.isLimit(i.item))return!1;return!0}(t,n,e))}function jV(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.createElement("paragraph");e.model.schema.setAllowedAttributes(i,r,e),e.insert(i,t),OV(e,n,e.createPositionAt(i,0))}function OV(e,t,n){t instanceof _F?e.setSelection(n):t.setTo(n)}function RV(e,t){const n=[];Array.from(e.getItems({direction:"backward"})).map((e=>t.createRangeOn(e))).filter((t=>(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end)))).forEach((e=>{n.push(e.start.parent),t.remove(e)})),n.forEach((e=>{let n=e;for(;n.parent&&n.isEmpty;){const e=t.createRangeOn(n);n=n.parent,t.remove(e)}}))}class LV{model;writer;position;canMergeWith;schema;_documentFragment;_documentFragmentPosition;_firstNode=null;_lastNode=null;_lastAutoParagraph=null;_filterAttributesOf=[];_affectedStart=null;_affectedEnd=null;_nodeToSelect=null;constructor(e,t,n){this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new qj("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?iF._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new iF(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){this._checkAndSplitToAllowedPosition(e)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this.schema.isObject(e)||this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=oV.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleDisallowedNode(e){e.is("element")&&this.handleNodes(e.getChildren())}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new qj("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=oV.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=oV.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof XB))return;if(!this._canMergeLeft(e))return;const t=oV._createBefore(e);t.stickiness="toNext";const n=oV.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=oV._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=oV._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof XB))return;if(!this._canMergeRight(e))return;const t=oV._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new qj("insertcontent-invalid-insertion-position",this);this.position=QB._createAt(t.nodeBefore,"end");const n=oV.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=oV._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=oV._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof XB&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof XB&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_insertAutoParagraph(){this._insertPartialFragment();const e=this.writer.createElement("paragraph");this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0)}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const e=this.position.parent;this.position=this.writer.createPositionBefore(e),e.isEmpty&&e.parent===t&&this.writer.remove(e)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const e=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=e,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,e)||this._insertAutoParagraph(),!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)||this.schema.checkChild(e,"paragraph")&&this.schema.checkChild("paragraph",t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function NV(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!e.schema.isObject(t))throw new qj("insertobject-element-not-an-object",e,{object:t});const i=n||e.document.selection;let o=i;r.findOptimalPosition&&e.schema.isBlock(t)&&(o=e.createSelection(e.schema.findOptimalInsertionRange(i,r.findOptimalPosition)));const s=PR(i.getSelectedBlocks()),a={};return s&&Object.assign(a,e.schema.getAttributesWithProperty(s,"copyOnReplace",!0)),e.change((n=>{o.isCollapsed||e.deleteContent(o,{doNotAutoparagraph:!0});let i=t;const s=o.anchor.parent;!e.schema.checkChild(s,t)&&e.schema.checkChild(s,"paragraph")&&e.schema.checkChild("paragraph",t)&&(i=n.createElement("paragraph"),n.insert(t,i)),e.schema.setAllowedAttributes(i,a,n);const l=e.insertContent(i,o);return l.isCollapsed||r.setSelection&&function(e,t,n,r){const i=e.model;if("on"==n)return void e.setSelection(t,"on");if("after"!=n)throw new qj("insertobject-invalid-place-parameter-value",i);let o=t.nextSibling;if(i.schema.isInline(t))return void e.setSelection(t,"after");const s=o&&i.schema.checkChild(o,"$text");!s&&i.schema.checkChild(t.parent,"paragraph")&&(o=e.createElement("paragraph"),i.schema.setAllowedAttributes(o,r,e),i.insertContent(o,e.createPositionAfter(t)));o&&e.setSelection(o,0)}(n,t,r.setSelection,a),l}))}const BV=' ,.?!:;"-()';function FV(e,t){const{isForward:n,walker:r,unit:i,schema:o,treatEmojiAsSingleUnit:s}=e,{type:a,item:l,nextPosition:c}=t;if("text"==a)return"word"===e.unit?function(e,t){let n=e.position.textNode;n||(n=t?e.position.nodeAfter:e.position.nodeBefore);for(;n&&n.is("$text");){const r=e.position.offset-n.startOffset;if(WV(n,r,t))n=t?e.position.nodeAfter:e.position.nodeBefore;else{if(VV(n.data,r,t))break;e.next()}}return e.position}(r,n):function(e,t,n){const r=e.position.textNode;if(r){const i=r.data;let o=e.position.offset-r.startOffset;for(;LR(i,o)||"character"==t&&NR(i,o)||n&&FR(i,o);)e.next(),o=e.position.offset-r.startOffset}return e.position}(r,i,s);if(a==(n?"elementStart":"elementEnd")){if(o.isSelectable(l))return QB._createAt(l,n?"after":"before");if(o.checkChild(c,"$text"))return c}else{if(o.isLimit(l))return void r.skip((()=>!0));if(o.checkChild(c,"$text"))return c}}function zV(e,t){const n=e.root,r=QB._createAt(n,t?"end":0);return t?new iF(e,r):new iF(r,e)}function VV(e,t,n){const r=t+(n?0:-1);return BV.includes(e.charAt(r))}function WV(e,t,n){return t===(n?e.offsetSize:0)}class HV extends(vO()){markers;document;schema;_pendingChanges;_currentWriter;constructor(){super(),this.markers=new yV,this.document=new vV(this),this.schema=new sz,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((e=>this.decorate(e))),this.on("applyOperation",((e,t)=>{t[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((()=>!0),"$marker"),QF(this),this.document.registerPostFixer(WF),this.on("insertContent",((e,t)=>{let[n,r]=t;e.return=function(e,t,n){return e.change((r=>{const i=n||e.document.selection;i.isCollapsed||e.deleteContent(i,{doNotAutoparagraph:!0});const o=new LV(e,r,i.anchor),s=[];let a;if(t.is("documentFragment")){if(t.markers.size){const e=[];for(const[n,r]of t.markers){const{start:t,end:i}=r,o=t.isEqual(i);e.push({position:t,name:n,isCollapsed:o},{position:i,name:n,isCollapsed:o})}e.sort(((e,t)=>{let{position:n}=e,{position:r}=t;return n.isBefore(r)?1:-1}));for(const{position:n,name:i,isCollapsed:o}of e){let e=null,a=null;const l=n.parent===t&&n.isAtStart,c=n.parent===t&&n.isAtEnd;l||c?o&&(a=l?"start":"end"):(e=r.createElement("$marker"),r.insert(e,n)),s.push({name:i,element:e,collapsed:a})}}a=t.getChildren()}else a=[t];o.handleNodes(a);let l=o.getSelectionRange();if(t.is("documentFragment")&&s.length){const e=l?bF.fromRange(l):null,t={};for(let n=s.length-1;n>=0;n--){const{name:e,element:i,collapsed:a}=s[n],l=!t[e];if(l&&(t[e]=[]),i){const n=r.createPositionAt(i,"before");t[e].push(n),r.remove(i)}else{const n=o.getAffectedRange();if(!n){a&&t[e].push(o.position);continue}a?t[e].push(n[a]):t[e].push(l?n.start:n.end)}}for(const[n,[i,o]]of Object.entries(t))i&&o&&i.root===o.root&&i.root.document&&!r.model.markers.has(n)&&r.addMarker(n,{usingOperation:!0,affectsData:!0,range:new iF(i,o)});e&&(l=e.toRange(),e.detach())}l&&(i instanceof _F?r.setSelection(l):i.setTo(l));const c=o.getAffectedRange()||e.createRange(i.anchor);return o.destroy(),c}))}(this,n,r)})),this.on("insertObject",((e,t)=>{let[n,r,i]=t;e.return=NV(this,n,r,i)})),this.on("canEditAt",(e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()}))}change(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new lV,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){qj.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?"function"===typeof e?(t=e,e=new lV):e instanceof lV||(e=new lV(e)):e=new lV,this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(n){qj.rethrowUnexpectedError(n,this)}}applyOperation(e){e._execute()}insertContent(e,t,n){const r=UV(t,n);for(var i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];return this.fire("insertContent",[e,r,n,...o])}insertObject(e,t,n,r){const i=UV(t,n);for(var o=arguments.length,s=new Array(o>4?o-4:0),a=4;a<o;a++)s[a-4]=arguments[a];return this.fire("insertObject",[e,i,r,r,...s])}deleteContent(e,t){MV(this,e,t)}modifySelection(e,t){!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.schema,i="backward"!=n.direction,o=n.unit?n.unit:"character",s=!!n.treatEmojiAsSingleUnit,a=t.focus,l=new ZB({boundaries:zV(a,i),singleCharacters:!0,direction:i?"forward":"backward"}),c={walker:l,schema:r,isForward:i,unit:o,treatEmojiAsSingleUnit:s};let u;for(;u=l.next();){if(u.done)return;const n=FV(c,u.value);if(n)return void(t instanceof _F?e.change((e=>{e.setSelectionFocus(n)})):t.setFocus(n))}}(this,e,t)}getSelectedContent(e){return function(e,t){return e.change((e=>{const n=e.createDocumentFragment(),r=t.getFirstRange();if(!r||r.isCollapsed)return n;const i=r.start.root,o=r.start.getCommonPath(r.end),s=i.getNodeByPath(o);let a;a=r.start.parent==r.end.parent?r:e.createRange(e.createPositionAt(s,r.start.path[o.length]),e.createPositionAt(s,r.end.path[o.length]+1));const l=a.end.offset-a.start.offset;for(const t of a.getItems({shallow:!0}))t.is("$textProxy")?e.appendText(t.data,t.getAttributes(),n):e.append(e.cloneElement(t,!0),n);if(a!=r){const t=r._getTransformedByMove(a.start,e.createPositionAt(n,0),l)[0],i=e.createRange(e.createPositionAt(n,0),t.start);RV(e.createRange(t.end,e.createPositionAt(n,"end")),e),RV(i,e)}return n}))}(this,e)}hasContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e instanceof iF?e:iF._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:r=!1,ignoreMarkers:i=!1}=t;if(!i)for(const o of this.markers.getMarkersIntersectingRange(n))if(o.affectsData)return!0;for(const o of n.getItems())if(this.schema.isContent(o)){if(!o.is("$textProxy"))return!0;if(!r)return!0;if(-1!==o.data.search(/\S/))return!0}return!1}canEditAt(e){const t=UV(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,n){return new QB(e,t,n)}createPositionAt(e,t){return QB._createAt(e,t)}createPositionAfter(e){return QB._createAfter(e)}createPositionBefore(e){return QB._createBefore(e)}createRange(e,t){return new iF(e,t)}createRangeIn(e){return iF._createIn(e)}createRangeOn(e){return iF._createOn(e)}createSelection(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dF(...t)}createBatch(e){return new lV(e)}createOperationFromJSON(e){return Gz.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new CV(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function UV(e,t){if(e)return e instanceof dF||e instanceof _F?e:e instanceof $B?t||0===t?new dF(e,t):e.is("rootElement")?new dF(e,"in"):new dF(e,"on"):new dF(e)}class $V extends EB{domEventType="click";onDomEvent(e){this.fire(e.type,e)}}class YV extends EB{domEventType=["mousedown","mouseup","mouseover","mouseout"];onDomEvent(e){this.fire(e.type,e)}}class GV{document;constructor(e){this.document=e}createDocumentFragment(e){return new GN(this.document,e)}createElement(e,t,n){return new gN(this.document,e,t,n)}createText(e){return new aN(this.document,e)}clone(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const r=n.getChildIndex(e);return this.removeChildren(r,1,n),this.insertChild(r,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new gN(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){aE(e)&&void 0===n?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return kN._createAt(e,t)}createPositionAfter(e){return kN._createAfter(e)}createPositionBefore(e){return kN._createBefore(e)}createRange(e,t){return new SN(e,t)}createRangeOn(e){return SN._createOn(e)}createRangeIn(e){return SN._createIn(e)}createSelection(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TN(...t)}}const qV=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,XV=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,ZV=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,KV=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,QV=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,JV=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,eW=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function tW(e){return e.startsWith("#")?qV.test(e):e.startsWith("rgb")?XV.test(e)||ZV.test(e):e.startsWith("hsl")?KV.test(e)||QV.test(e):eW.has(e.toLowerCase())}const nW=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function rW(e){return nW.includes(e)}const iW=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function oW(e){return iW.test(e)}const sW=/^[+-]?[0-9]*([.][0-9]+)?%$/;function aW(e){return sW.test(e)}const lW=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function cW(e){return lW.includes(e)}const uW=["center","top","bottom","left","right"];function dW(e){return uW.includes(e)}const hW=["fixed","scroll","local"];function fW(e){return hW.includes(e)}const pW=/^url\(/;function mW(e){return pW.test(e)}function gW(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===e)return{top:void 0,right:void 0,bottom:void 0,left:void 0};const t=wW(e),n=t[0],r=t[2]||n,i=t[1]||n;return{top:n,bottom:r,right:i,left:t[3]||i}}function vW(e){return t=>{const{top:n,right:r,bottom:i,left:o}=t,s=[];return[n,r,o,i].every((e=>!!e))?s.push([e,bW(t)]):(n&&s.push([e+"-top",n]),r&&s.push([e+"-right",r]),i&&s.push([e+"-bottom",i]),o&&s.push([e+"-left",o])),s}}function bW(e){let{top:t,right:n,bottom:r,left:i}=e;const o=[];return i!==n?o.push(t,n,r,i):r!==t?o.push(t,n,r):n!==t?o.push(t,n):o.push(t),o.join(" ")}function yW(e){return t=>({path:e,value:gW(t)})}function wW(e){const t=e.matchAll(JV);return Array.from(t).map((e=>e[0]))}function xW(e){e.setNormalizer("background",(e=>{const t={},n=wW(e);for(const r of n)cW(r)?(t.repeat=t.repeat||[],t.repeat.push(r)):dW(r)?(t.position=t.position||[],t.position.push(r)):fW(r)?t.attachment=r:tW(r)?t.color=r:mW(r)&&(t.image=r);return{path:"background",value:t}})),e.setNormalizer("background-color",(e=>({path:"background.color",value:e}))),e.setReducer("background",(e=>{const t=[];return t.push(["background-color",e.color]),t})),e.setStyleRelation("background",["background-color"])}function _W(e){e.setNormalizer("border",(e=>{const{color:t,style:n,width:r}=MW(e);return{path:"border",value:{color:gW(t),style:gW(n),width:gW(r)}}})),e.setNormalizer("border-top",CW("top")),e.setNormalizer("border-right",CW("right")),e.setNormalizer("border-bottom",CW("bottom")),e.setNormalizer("border-left",CW("left")),e.setNormalizer("border-color",kW("color")),e.setNormalizer("border-width",kW("width")),e.setNormalizer("border-style",kW("style")),e.setNormalizer("border-top-color",AW("color","top")),e.setNormalizer("border-top-style",AW("style","top")),e.setNormalizer("border-top-width",AW("width","top")),e.setNormalizer("border-right-color",AW("color","right")),e.setNormalizer("border-right-style",AW("style","right")),e.setNormalizer("border-right-width",AW("width","right")),e.setNormalizer("border-bottom-color",AW("color","bottom")),e.setNormalizer("border-bottom-style",AW("style","bottom")),e.setNormalizer("border-bottom-width",AW("width","bottom")),e.setNormalizer("border-left-color",AW("color","left")),e.setNormalizer("border-left-style",AW("style","left")),e.setNormalizer("border-left-width",AW("width","left")),e.setExtractor("border-top",TW("top")),e.setExtractor("border-right",TW("right")),e.setExtractor("border-bottom",TW("bottom")),e.setExtractor("border-left",TW("left")),e.setExtractor("border-top-color","border.color.top"),e.setExtractor("border-right-color","border.color.right"),e.setExtractor("border-bottom-color","border.color.bottom"),e.setExtractor("border-left-color","border.color.left"),e.setExtractor("border-top-width","border.width.top"),e.setExtractor("border-right-width","border.width.right"),e.setExtractor("border-bottom-width","border.width.bottom"),e.setExtractor("border-left-width","border.width.left"),e.setExtractor("border-top-style","border.style.top"),e.setExtractor("border-right-style","border.style.right"),e.setExtractor("border-bottom-style","border.style.bottom"),e.setExtractor("border-left-style","border.style.left"),e.setReducer("border-color",vW("border-color")),e.setReducer("border-style",vW("border-style")),e.setReducer("border-width",vW("border-width")),e.setReducer("border-top",EW("top")),e.setReducer("border-right",EW("right")),e.setReducer("border-bottom",EW("bottom")),e.setReducer("border-left",EW("left")),e.setReducer("border",function(){return t=>{const n=IW(t,"top"),r=IW(t,"right"),i=IW(t,"bottom"),o=IW(t,"left"),s=[n,r,i,o],a={width:e(s,"width"),style:e(s,"style"),color:e(s,"color")},l=PW(a,"all");if(l.length)return l;const c=Object.entries(a).reduce(((e,t)=>{let[n,r]=t;return r&&(e.push([`border-${n}`,r]),s.forEach((e=>delete e[n]))),e}),[]);return[...c,...PW(n,"top"),...PW(r,"right"),...PW(i,"bottom"),...PW(o,"left")]};function e(e,t){return e.map((e=>e[t])).reduce(((e,t)=>e==t?e:null))}}()),e.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),e.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),e.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),e.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),e.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),e.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),e.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),e.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function CW(e){return t=>{const{color:n,style:r,width:i}=MW(t),o={};return void 0!==n&&(o.color={[e]:n}),void 0!==r&&(o.style={[e]:r}),void 0!==i&&(o.width={[e]:i}),{path:"border",value:o}}}function kW(e){return t=>({path:"border",value:SW(t,e)})}function SW(e,t){return{[t]:gW(e)}}function AW(e,t){return n=>({path:"border",value:{[e]:{[t]:n}}})}function TW(e){return(t,n)=>{if(n.border)return IW(n.border,e)}}function IW(e,t){const n={};return e.width&&e.width[t]&&(n.width=e.width[t]),e.style&&e.style[t]&&(n.style=e.style[t]),e.color&&e.color[t]&&(n.color=e.color[t]),n}function MW(e){const t={},n=wW(e);for(const r of n)oW(r)||/thin|medium|thick/.test(r)?t.width=r:rW(r)?t.style=r:t.color=r;return t}function EW(e){return t=>PW(t,e)}function PW(e,t){const n=[];if(e&&e.width&&n.push("width"),e&&e.style&&n.push("style"),e&&e.color&&n.push("color"),3==n.length){const r=n.map((t=>e[t])).join(" ");return["all"==t?["border",r]:[`border-${t}`,r]]}return"all"==t?[]:n.map((n=>[`border-${t}-${n}`,e[n]]))}function DW(e){e.setNormalizer("margin",yW("margin")),e.setNormalizer("margin-top",(e=>({path:"margin.top",value:e}))),e.setNormalizer("margin-right",(e=>({path:"margin.right",value:e}))),e.setNormalizer("margin-bottom",(e=>({path:"margin.bottom",value:e}))),e.setNormalizer("margin-left",(e=>({path:"margin.left",value:e}))),e.setReducer("margin",vW("margin")),e.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function jW(e){e.setNormalizer("padding",yW("padding")),e.setNormalizer("padding-top",(e=>({path:"padding.top",value:e}))),e.setNormalizer("padding-right",(e=>({path:"padding.right",value:e}))),e.setNormalizer("padding-bottom",(e=>({path:"padding.bottom",value:e}))),e.setNormalizer("padding-left",(e=>({path:"padding.left",value:e}))),e.setReducer("padding",vW("padding")),e.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}const OW=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return NM(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),IL(e,t,{leading:r,maxWait:t,trailing:i})};class RW{crashes=[];state="initializing";_crashNumberLimit;_now=(()=>Date.now)();_minimumNonErrorTimePeriod;_boundErrorHandler;_listeners;constructor(e){if(this.crashes=[],this._crashNumberLimit="number"===typeof e.crashNumberLimit?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod="number"===typeof e.minimumNonErrorTimePeriod?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const t="error"in e?e.error:e.reason;t instanceof Error&&this._handleError(t,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter((e=>e!==t))}_fire(e){const t=this._listeners[e]||[];for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const o of t)o.apply(this,[null,...r])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&void 0!==e.context&&null!==e.context&&"ready"===this.state&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;return(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function LW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;const n=[e],r=new Set;let i=0;for(;n.length>i;){const e=n[i++];if(!r.has(e)&&NW(e)&&!t.has(e))if(r.add(e),Symbol.iterator in e)try{for(const t of e)n.push(t)}catch(o){}else for(const t in e)"defaultValue"!==t&&n.push(e[t])}return r}function NW(e){const t=Object.prototype.toString.call(e),n=typeof e;return!("number"===n||"boolean"===n||"string"===n||"symbol"===n||"function"===n||"[object Date]"===t||"[object RegExp]"===t||"[object Module]"===t||void 0===e||null===e||e._watchdogExcluded||e instanceof EventTarget||e instanceof Event)}function BW(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(e===t&&("object"===typeof(r=e)&&null!==r))return!0;var r;const i=LW(e,n),o=LW(t,n);for(const s of i)if(o.has(s))return!0;return!1}class FW extends RW{_editor=null;_lifecyclePromise=null;_throttledSave;_data;_lastDocumentVersion;_elementOrData;_initUsingData=!0;_editables={};_config;_excludedProps;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this._throttledSave=OW(this._save.bind(this),"number"===typeof t.saveInterval?t.saveInterval:5e3),e&&(this._creator=(t,n)=>e.create(t,n)),this._destructor=e=>e.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then((()=>(this.state="initializing",this._fire("stateChange"),this._destroy()))).catch((e=>{console.error("An error happened during the editor destroying.",e)})).then((()=>{const e={},t=[],n=this._config.rootsAttributes||{},r={};for(const[o,s]of Object.entries(this._data.roots))s.isLoaded?(e[o]="",r[o]=n[o]||{}):t.push(o);const i={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:r,_watchdogInitialData:this._data};return delete i.initialData,i.extraPlugins.push(zW),this._initUsingData?this.create(e,i,i.context):ij(this._elementOrData)?this.create(this._elementOrData,i,i.context):this.create(this._editables,i,i.context)})).then((()=>{this._fire("restart")}))}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._elementOrData,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._config,n=arguments.length>2?arguments[2]:void 0;return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData="string"==typeof e||Object.keys(e).length>0&&"string"==typeof Object.values(e)[0],this._config=this._cloneEditorConfiguration(t)||{},this._config.context=n,this._creator(e,this._config)))).then((e=>{this._editor=e,e.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=e.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})).finally((()=>{this._lifecyclePromise=null})),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))).finally((()=>{this._lifecyclePromise=null})),this._lifecyclePromise}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)}))}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter((e=>e.isAttached()&&"$graveyard"!=e.rootName)),{plugins:n}=e,r=n.has("CommentsRepository")&&n.get("CommentsRepository"),i=n.has("TrackChanges")&&n.get("TrackChanges"),o={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach((e=>{o.roots[e.rootName]={content:JSON.stringify(Array.from(e.getChildren())),attributes:JSON.stringify(Array.from(e.getAttributes())),isLoaded:e._isLoaded}}));for(const s of e.model.markers)s._affectsData&&(o.markers[s.name]={rangeJSON:s.getRange().toJSON(),usingOperation:s._managedUsingOperations,affectsData:s._affectsData});return r&&(o.commentThreads=JSON.stringify(r.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),i&&(o.suggestions=JSON.stringify(i.getSuggestions({toJSON:!0,skipNotAttached:!0}))),o}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(t);n&&(e[t]=n)}return e}_isErrorComingFromThisItem(e){return BW(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return rj(e,((e,t)=>ij(e)||"context"===t?e:void 0))}}class zW{editor;_data;constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",(e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},(e=>{this._restoreCollaborationData(),this._restoreEditorData(e)})),this.editor.data.fire("ready")}),{priority:999})}_createNode(e,t){if("name"in t){const n=e.createElement(t.name,t.attributes);if(t.children)for(const r of t.children)n._appendChild(this._createNode(e,r));return n}return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach((n=>{let[r,{content:i,attributes:o}]=n;const s=JSON.parse(i),a=JSON.parse(o),l=t.model.document.getRoot(r);for(const[t,c]of a)e.setAttribute(t,c,l);for(const t of s){const n=this._createNode(e,t);e.insert(n,l,"end")}})),Object.entries(this._data.markers).forEach((n=>{let[r,i]=n;const{document:o}=t.model,{rangeJSON:{start:s,end:a},...l}=i,c=o.getRoot(s.root),u=e.createPositionFromPath(c,s.path,s.stickiness),d=e.createPositionFromPath(c,a.path,a.stickiness),h=e.createRange(u,d);e.addMarker(r,{range:h,...l})}))}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach((e=>{const t=this.editor.config.get("collaboration.channelId"),n=this.editor.plugins.get("CommentsRepository");if(n.hasCommentThread(e.threadId)){n.getCommentThread(e.threadId).remove()}n.addCommentThread({channelId:t,...e})})),t.forEach((e=>{const t=this.editor.plugins.get("TrackChangesEditing");if(t.hasSuggestion(e.id)){t.getSuggestion(e.id).attributes=e.attributes}else t.addSuggestionData(e)}))}}const VW=Symbol("MainQueueId");class WW extends RW{_watchdogs=(()=>new Map)();_watchdogConfig;_context=null;_contextProps=(()=>new Set)();_actionQueues=(()=>new HW)();_contextConfig;_item;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this._watchdogConfig=t,this._creator=t=>e.create(t),this._destructor=e=>e.destroy(),this._actionQueues.onEmpty((()=>{"initializing"===this.state&&(this.state="ready",this._fire("stateChange"))}))}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._actionQueues.enqueue(VW,(()=>(this._contextConfig=e,this._create())))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=UW(e);return Promise.all(t.map((e=>this._actionQueues.enqueue(e.id,(()=>{if("destroyed"===this.state)throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let t;if(this._watchdogs.has(e.id))throw new Error(`Item with the given id is already added: '${e.id}'.`);if("editor"===e.type)return t=new FW(null,this._watchdogConfig),t.setCreator(e.creator),t._setExcludedProperties(this._contextProps),e.destructor&&t.setDestructor(e.destructor),this._watchdogs.set(e.id,t),t.on("error",((n,r)=>{let{error:i,causesRestart:o}=r;this._fire("itemError",{itemId:e.id,error:i}),o&&this._actionQueues.enqueue(e.id,(()=>new Promise((n=>{const r=()=>{t.off("restart",r),this._fire("itemRestart",{itemId:e.id}),n()};t.on("restart",r)}))))})),t.create(e.sourceElementOrData,e.config,this._context);throw new Error(`Not supported item type: '${e.type}'.`)})))))}remove(e){const t=UW(e);return Promise.all(t.map((e=>this._actionQueues.enqueue(e,(()=>{const t=this._getWatchdog(e);return this._watchdogs.delete(e),t.destroy()})))))}destroy(){return this._actionQueues.enqueue(VW,(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())))}_restart(){return this._actionQueues.enqueue(VW,(()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch((e=>{console.error("An error happened during destroying the context or items.",e)})).then((()=>this._create())).then((()=>this._fire("restart"))))))}_create(){return Promise.resolve().then((()=>(this._startErrorHandling(),this._creator(this._contextConfig)))).then((e=>(this._context=e,this._contextProps=LW(this._context),Promise.all(Array.from(this._watchdogs.values()).map((e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))))}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map((e=>e.destroy()))).then((()=>this._destructor(e)))}))}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return BW(this._context,e.context)}}class HW{_onEmptyCallbacks=[];_queues=(()=>new Map)();_activeActions=0;onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===VW;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const r=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(VW),this._queues.get(e)])).then(t),i=r.catch((()=>{}));return this._queues.set(e,i),r.finally((()=>{this._activeActions--,this._queues.get(e)===i&&0===this._activeActions&&this._onEmptyCallbacks.forEach((e=>e()))}))}}function UW(e){return Array.isArray(e)?e:[e]}class $W extends(vO()){editor;_disableStack=(()=>new Set)();constructor(e){super(),this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",YW,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",YW),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function YW(e){e.return=!1,e.stop()}class GW extends(vO()){editor;_isEnabledBasedOnSelection;_affectsData;_disableStack;constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(()=>{this.refresh()})),this.listenTo(e,"change:isReadOnly",(()=>{this.refresh()})),this.on("set:isEnabled",(t=>{if(!this.affectsData)return;const n=e.model.document.selection,r=!("$graveyard"==n.getFirstPosition().root.rootName)&&e.model.canEditAt(n);(e.isReadOnly||this._isEnabledBasedOnSelection&&!r)&&(t.return=!1,t.stop())}),{priority:"highest"}),this.on("execute",(e=>{this.isEnabled||e.stop()}),{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",qW,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",qW),this.refresh())}execute(){}destroy(){this.stopListening()}}function qW(e){e.return=!1,e.stop()}class XW extends GW{_childCommandsDefinitions=[];refresh(){}execute(){const e=this._getFirstEnabledCommand();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return!!e&&e.execute(n)}registerChildCommand(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Yj(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",(()=>this._checkEnabled())),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find((e=>{let{command:t}=e;return t.isEnabled}));return e&&e.command}}class ZW extends(rO()){_context;_plugins=(()=>new Map)();_availablePlugins;_contextPlugins;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];super(),this._context=e,this._availablePlugins=new Map;for(const r of t)r.pluginName&&this._availablePlugins.set(r.pluginName,r);this._contextPlugins=new Map;for(const[r,i]of n)this._contextPlugins.set(r,i),this._contextPlugins.set(i,r),r.pluginName&&this._availablePlugins.set(r.pluginName,r)}*[Symbol.iterator](){for(const e of this._plugins)"function"==typeof e[0]&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let t=e;throw"function"==typeof e&&(t=e.pluginName||e.name),new qj("plugincollection-plugin-not-loaded",this._context,{plugin:t})}return t}has(e){return this._plugins.has(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=this,i=this._context;!function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;t.forEach((t=>{a(t)&&(n.has(t)||(n.add(t),t.pluginName&&!r._availablePlugins.has(t.pluginName)&&r._availablePlugins.set(t.pluginName,t),t.requires&&e(t.requires,n)))}))}(e),d(e);const o=[...function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return t.map((e=>a(e)?e:r._availablePlugins.get(e))).reduce(((t,r)=>n.has(r)?t:(n.add(r),r.requires&&(d(r.requires,r),e(r.requires,n).forEach((e=>t.add(e)))),t.add(r))),new Set)}(e.filter((e=>!c(e,t))))];!function(e,t){for(const n of t){if("function"!=typeof n)throw new qj("plugincollection-replace-plugin-invalid-type",null,{pluginItem:n});const t=n.pluginName;if(!t)throw new qj("plugincollection-replace-plugin-missing-name",null,{pluginItem:n});if(n.requires&&n.requires.length)throw new qj("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:t});const i=r._availablePlugins.get(t);if(!i)throw new qj("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:t});const o=e.indexOf(i);if(-1===o){if(r._contextPlugins.has(i))return;throw new qj("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:t})}if(i.requires&&i.requires.length)throw new qj("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:t});e.splice(o,1,n),r._availablePlugins.set(t,n)}}(o,n);const s=function(e){return e.map((e=>{let t=r._contextPlugins.get(e);return t=t||new e(i),r._add(e,t),t}))}(o);return h(s,"init").then((()=>h(s,"afterInit"))).then((()=>s));function a(e){return"function"===typeof e}function l(e){return a(e)&&!!e.isContextPlugin}function c(e,t){return t.some((t=>t===e||(u(e)===t||u(t)===e)))}function u(e){return a(e)?e.pluginName||e.name:e}function d(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.map((e=>a(e)?e:r._availablePlugins.get(e)||e)).forEach((e=>{!function(e,t){if(a(e))return;if(t)throw new qj("plugincollection-soft-required",i,{missingPlugin:e,requiredBy:u(t)});throw new qj("plugincollection-plugin-not-found",i,{plugin:e})}(e,n),function(e,t){if(!l(t))return;if(l(e))return;throw new qj("plugincollection-context-required",i,{plugin:u(e),requiredBy:u(t)})}(e,n),function(e,n){if(!n)return;if(!c(e,t))return;throw new qj("plugincollection-required",i,{plugin:u(e),requiredBy:u(n)})}(e,n)}))}function h(e,t){return e.reduce(((e,n)=>n[t]?r._contextPlugins.has(n)?e:e.then(n[t].bind(n)):e),Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)"function"!=typeof t.destroy||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new qj("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}class KW{config;plugins;locale;t;editors;static defaultConfig;static builtinPlugins;_contextOwner=null;constructor(e){const{translations:t,...n}=e||{};this.config=new TO(n,this.constructor.defaultConfig);const r=this.constructor.builtinPlugins;this.config.define("plugins",r),this.plugins=new ZW(this,r);const i=this.config.get("language")||{};this.locale=new MR({uiLanguage:"string"===typeof i?i:i.ui,contentLanguage:this.config.get("language.content"),translations:t}),this.t=this.locale.t,this.editors=new ER}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if("function"!=typeof n)throw new qj("context-initplugins-constructor-only",null,{Plugin:n});if(!0!==n.isContextPlugin)throw new qj("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,(e=>e.destroy()))).then((()=>this.plugins.destroy()))}_addEditor(e,t){if(this._contextOwner)throw new qj("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise((t=>{const n=new this(e);t(n.initPlugins().then((()=>n)))}))}}class QW extends(vO()){context;constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class JW{_commands;constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e){const t=this.get(e);if(!t)throw new qj("commandcollection-command-not-found",this,{commandName:e});for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.execute(...r)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class eH extends jR{editor;constructor(e){super(),this.editor=e}set(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t){const e=t;t=(t,n)=>{this.editor.execute(e),n()}}super.set(e,t,n)}}const tH="contentEditing",nH="common";class rH{keystrokeInfos=(()=>new Map)();_editor;constructor(e){this._editor=e;const t=e.config.get("menuBar.isVisible"),n=e.locale.t;this.addKeystrokeInfoCategory({id:tH,label:n("Content editing keystrokes"),description:n("These keyboard shortcuts allow for quick access to content editing features.")});const r=[{label:n("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:n("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:n("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:n("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:n("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:n("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];t&&r.push({label:n("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:n("User interface and content navigation keystrokes"),description:n("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:r}]})}addKeystrokeInfoCategory(e){let{id:t,label:n,description:r,groups:i}=e;this.keystrokeInfos.set(t,{id:t,label:n,description:r,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:t,id:nH}),i&&i.forEach((e=>{this.addKeystrokeInfoGroup({categoryId:t,...e})}))}addKeystrokeInfoGroup(e){let{categoryId:t=tH,id:n,label:r,keystrokes:i}=e;const o=this.keystrokeInfos.get(t);if(!o)throw new qj("accessibility-unknown-keystroke-info-category",this._editor,{groupId:n,categoryId:t});o.groups.set(n,{id:n,label:r,keystrokes:i||[]})}addKeystrokeInfos(e){let{categoryId:t=tH,groupId:n=nH,keystrokes:r}=e;if(!this.keystrokeInfos.has(t))throw new qj("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:t,keystrokes:r});const i=this.keystrokeInfos.get(t);if(!i.groups.has(n))throw new qj("accessibility-unknown-keystroke-info-group",this._editor,{groupId:n,categoryId:t,keystrokes:r});i.groups.get(n).keystrokes.push(...r)}}class iH extends(vO()){accessibility;commands;config;conversion;data;editing;locale;model;plugins;keystrokes;t;static defaultConfig;static builtinPlugins;_context;_readOnlyLocks;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(super(),"sanitizeHtml"in e)throw new qj("editor-config-sanitizehtml-not-supported");const t=this.constructor,{translations:n,...r}=t.defaultConfig||{},{translations:i=n,...o}=e,s=e.language||r.language;this._context=e.context||new KW({language:s,translations:i}),this._context._addEditor(this,!e.context);const a=Array.from(t.builtinPlugins||[]);this.config=new TO(o,r),this.config.define("plugins",a),this.config.define(this._context._getEditorConfig()),this.plugins=new ZW(this,a,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new JW,this.set("state","initializing"),this.once("ready",(()=>this.state="ready"),{priority:"high"}),this.once("destroy",(()=>this.state="destroyed"),{priority:"high"}),this.model=new HV,this.on("change:isReadOnly",(()=>{this.model.document.isReadOnly=this.isReadOnly}));const l=new fN;this.data=new kz(this.model,l),this.editing=new nz(this.model,l),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Sz([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new eH(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new rH(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new qj("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if("string"!==typeof e&&"symbol"!==typeof e)throw new qj("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if("string"!==typeof e&&"symbol"!==typeof e)throw new qj("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],r=e.get("extraPlugins")||[],i=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(r),n,i)}destroy(){let e=Promise.resolve();return"initializing"==this.state&&(e=new Promise((e=>this.once("ready",e)))),e.then((()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()})).then((()=>this.plugins.destroy())).then((()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})).then((()=>this._context._removeEditor(this)))}execute(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.commands.execute(e,...n)}catch(i){qj.rethrowUnexpectedError(i,this)}}focus(){this.editing.view.focus()}static create(){throw new Error("This is an abstract method.")}static Context=(()=>KW)();static EditorWatchdog=(()=>FW)();static ContextWatchdog=(()=>WW)()}function oH(e){return class extends e{sourceElement;updateSourceElement(e){if(!this.sourceElement)throw new qj("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),n=this.sourceElement instanceof HTMLTextAreaElement;if(!t&&!n)return void XO(this.sourceElement,"");const r="string"===typeof e?e:this.data.get();XO(this.sourceElement,r)}}}function sH(e,t){if(t.ckeditorInstance)throw new qj("editor-source-element-already-used",e);t.ckeditorInstance=e,e.once("destroy",(()=>{delete t.ckeditorInstance}))}oH.updateSourceElement=oH(Object).prototype.updateSourceElement;class aH extends QW{_actions;static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new ER({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if("string"!==typeof e)throw new qj("pendingactions-add-invalid-message",this);const t=new(vO());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const lH={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeCustom:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};class cH extends(vO()){total;_reader;_data;constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=e=>{this.loaded=e.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise(((n,r)=>{t.onload=()=>{const e=t.result;this._data=e,n(e)},t.onerror=()=>{r("error")},t.onabort=()=>{r("aborted")},this._reader.readAsDataURL(e)}))}abort(){this._reader.abort()}}class uH extends $W{loaders=(()=>new ER)();_loadersMap=(()=>new Map)();_pendingAction=null;static get pluginName(){return"FileRepository"}static get requires(){return[aH]}init(){this.loaders.on("change",(()=>this._updatePendingAction())),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((e,t)=>t?e/t*100:0))}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return Xj("filerepository-no-upload-adapter"),null;const t=new dH(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then((e=>{this._loadersMap.set(e,t)})).catch((()=>{})),t.on("change:uploaded",(()=>{let e=0;for(const t of this.loaders)e+=t.uploaded;this.uploaded=e})),t.on("change:uploadTotal",(()=>{let e=0;for(const t of this.loaders)t.uploadTotal&&(e+=t.uploadTotal);this.uploadTotal=e})),t}destroyLoader(e){const t=e instanceof dH?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach(((e,n)=>{e===t&&this._loadersMap.delete(n)}))}_updatePendingAction(){const e=this.editor.plugins.get(aH);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,n=e=>`${t("Upload in progress")} ${parseInt(e)}%.`;this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}class dH extends(vO()){id;_filePromiseWrapper;_adapter;_reader;constructor(e,t){super(),this.id=Uj(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new cH,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((e,t)=>t?e/t*100:0)),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then((e=>this._filePromiseWrapper?e:null)):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new qj("filerepository-read-wrong-status",this);return this.status="reading",this.file.then((e=>this._reader.read(e))).then((e=>{if("reading"!==this.status)throw this.status;return this.status="idle",e})).catch((e=>{if("aborted"===e)throw this.status="aborted","aborted";throw this.status="error",this._reader.error?this._reader.error:e}))}upload(){if("idle"!=this.status)throw new qj("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then((()=>this._adapter.upload())).then((e=>(this.uploadResponse=e,this.status="idle",e))).catch((e=>{if("aborted"===this.status)throw"aborted";throw this.status="error",e}))}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==e?this._reader.abort():"uploading"==e&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch((()=>{})),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise(((n,r)=>{t.rejecter=r,t.isFulfilled=!1,e.then((e=>{t.isFulfilled=!0,n(e)})).catch((e=>{t.isFulfilled=!0,r(e)}))})),t}}class hH extends $W{static get requires(){return[uH]}static get pluginName(){return"SimpleUploadAdapter"}init(){const e=this.editor.config.get("simpleUpload");e&&(e.uploadUrl?this.editor.plugins.get(uH).createUploadAdapter=t=>new fH(t,e):Xj("simple-upload-adapter-missing-uploadurl"))}}class fH{loader;options;xhr;constructor(e,t){this.loader=e,this.options=t}upload(){return this.loader.file.then((e=>new Promise(((t,n)=>{this._initRequest(),this._initListeners(t,n,e),this._sendRequest(e)}))))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.options.uploadUrl,!0),e.responseType="json"}_initListeners(e,t,n){const r=this.xhr,i=this.loader,o=`Couldn't upload file: ${n.name}.`;r.addEventListener("error",(()=>t(o))),r.addEventListener("abort",(()=>t())),r.addEventListener("load",(()=>{const n=r.response;if(!n||n.error)return t(n&&n.error&&n.error.message?n.error.message:o);const i=n.url?{default:n.url}:n.urls;e({...n,urls:i})})),r.upload&&r.upload.addEventListener("progress",(e=>{e.lengthComputable&&(i.uploadTotal=e.total,i.uploaded=e.loaded)}))}_sendRequest(e){const t=this.options.headers||{},n=this.options.withCredentials||!1;for(const i of Object.keys(t))this.xhr.setRequestHeader(i,t[i]);this.xhr.withCredentials=n;const r=new FormData;r.append("upload",e),this.xhr.send(r)}}var pH=/[\\^$.*+?()[\]{}|]/g,mH=RegExp(pH.source);const gH=function(e){return(e=rL(e))&&mH.test(e)?e.replace(pH,"\\$&"):e};const vH=function(e){return function(t){return null==e?void 0:e[t]}};vH({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});var bH=/[&<>"']/g;RegExp(bH.source);var yH=n(8301);const wH=function(e){var t,n,r=[],i=1;if("string"===typeof e)if(yH[e])r=yH[e].slice(),n="rgb";else if("transparent"===e)i=0,n="rgb",r=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var o=e.slice(1);i=1,(l=o.length)<=4?(r=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],4===l&&(i=parseInt(o[3]+o[3],16)/255)):(r=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],8===l&&(i=parseInt(o[6]+o[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),n="rgb"}else if(t=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var s=t[1],a="rgb"===s;n=o=s.replace(/a$/,"");var l="cmyk"===o?4:"gray"===o?1:3;r=t[2].trim().split(/\s*[,\/]\s*|\s+/).map((function(e,t){if(/%$/.test(e))return t===l?parseFloat(e)/100:"rgb"===o?255*parseFloat(e)/100:parseFloat(e);if("h"===o[t]){if(/deg$/.test(e))return parseFloat(e);if(void 0!==xH[e])return xH[e]}return parseFloat(e)})),s===o&&r.push(1),i=a||void 0===r[l]?1:r[l],r=r.slice(0,l)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(r=e.match(/([0-9]+)/g).map((function(e){return parseFloat(e)})),n=e.match(/([a-z])/gi).join("").toLowerCase());else isNaN(e)?Array.isArray(e)||e.length?(r=[e[0],e[1],e[2]],n="rgb",i=4===e.length?e[3]:1):e instanceof Object&&(null!=e.r||null!=e.red||null!=e.R?(n="rgb",r=[e.r||e.red||e.R||0,e.g||e.green||e.G||0,e.b||e.blue||e.B||0]):(n="hsl",r=[e.h||e.hue||e.H||0,e.s||e.saturation||e.S||0,e.l||e.lightness||e.L||e.b||e.brightness]),i=e.a||e.alpha||e.opacity||1,null!=e.opacity&&(i/=100)):(n="rgb",r=[e>>>16,(65280&e)>>>8,255&e]);return{space:n,values:r,alpha:i}};var xH={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};var _H=n(568),CH=n.t(_H,2);const kH=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e>n?n:e<t?t:e},SH=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.pow(10,t);return Math.round(n*e)/n},AH=(Math.PI,e=>("#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?SH(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?SH(parseInt(e.substring(6,8),16)/255,2):1})),TH=e=>{let{h:t,s:n,v:r,a:i}=e;const o=(200-n)*r/100;return{h:SH(t),s:SH(o>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0),l:SH(o/2),a:SH(i,2)}},IH=e=>{const{h:t,s:n,l:r}=TH(e);return`hsl(${t}, ${n}%, ${r}%)`},MH=e=>{let{h:t,s:n,v:r,a:i}=e;t=t/360*6,n/=100,r/=100;const o=Math.floor(t),s=r*(1-n),a=r*(1-(t-o)*n),l=r*(1-(1-t+o)*n),c=o%6;return{r:SH(255*[r,a,s,s,l,r][c]),g:SH(255*[l,r,r,a,s,s][c]),b:SH(255*[s,s,l,r,r,a][c]),a:SH(i,2)}},EH=e=>{const t=e.toString(16);return t.length<2?"0"+t:t},PH=e=>{let{r:t,g:n,b:r,a:i}=e;const o=i<1?EH(SH(255*i)):"";return"#"+EH(t)+EH(n)+EH(r)+o},DH=e=>{let{r:t,g:n,b:r,a:i}=e;const o=Math.max(t,n,r),s=o-Math.min(t,n,r),a=s?o===t?(n-r)/s:o===n?2+(r-t)/s:4+(t-n)/s:0;return{h:SH(60*(a<0?a+6:a)),s:SH(o?s/o*100:0),v:SH(o/255*100),a:i}},jH=(e,t)=>{if(e===t)return!0;for(const n in e)if(e[n]!==t[n])return!1;return!0},OH={},RH=e=>{let t=OH[e];return t||(t=document.createElement("template"),t.innerHTML=e,OH[e]=t),t},LH=(e,t,n)=>{e.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n}))};let NH=!1;const BH=e=>"touches"in e,FH=(e,t)=>{const n=BH(t)?t.touches[0]:t,r=e.el.getBoundingClientRect();LH(e.el,"move",e.getMove({x:kH((n.pageX-(r.left+window.pageXOffset))/r.width),y:kH((n.pageY-(r.top+window.pageYOffset))/r.height)}))};class zH{constructor(e,t,n,r){const i=RH(`<div role="slider" tabindex="0" part="${t}" ${n}><div part="${t}-pointer"></div></div>`);e.appendChild(i.content.cloneNode(!0));const o=e.querySelector(`[part=${t}]`);o.addEventListener("mousedown",this),o.addEventListener("touchstart",this),o.addEventListener("keydown",this),this.el=o,this.xy=r,this.nodes=[o.firstChild,o]}set dragging(e){const t=e?document.addEventListener:document.removeEventListener;t(NH?"touchmove":"mousemove",this),t(NH?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!(e=>!(NH&&!BH(e))&&(NH||(NH=BH(e)),!0))(e)||!NH&&0!=e.button)return;this.el.focus(),FH(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),FH(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((e,t)=>{const n=t.keyCode;n>40||e.xy&&n<37||n<33||(t.preventDefault(),LH(e.el,"move",e.getMove({x:39===n?.01:37===n?-.01:34===n?.05:33===n?-.05:35===n?1:36===n?-1:0,y:40===n?.01:38===n?-.01:0},!0)))})(this,e)}}style(e){e.forEach(((e,t)=>{for(const n in e)this.nodes[t].style.setProperty(n,e[n])}))}}class VH extends zH{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update(e){let{h:t}=e;this.h=t,this.style([{left:t/360*100+"%",color:IH({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${SH(t)}`)}getMove(e,t){return{h:t?kH(this.h+360*e.x,0,360):360*e.x}}}class WH extends zH{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:100-e.v+"%",left:`${e.s}%`,color:IH(e)},{"background-color":IH({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${SH(e.s)}%, Brightness ${SH(e.v)}%`)}getMove(e,t){return{s:t?kH(this.hsva.s+100*e.x,0,100):100*e.x,v:t?kH(this.hsva.v-100*e.y,0,100):Math.round(100-100*e.y)}}}const HH=Symbol("same"),UH=Symbol("color"),$H=Symbol("hsva"),YH=Symbol("update"),GH=Symbol("parts"),qH=Symbol("css"),XH=Symbol("sliders");class ZH extends HTMLElement{static get observedAttributes(){return["color"]}get[qH](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[XH](){return[WH,VH]}get color(){return this[UH]}set color(e){if(!this[HH](e)){const t=this.colorModel.toHsva(e);this[YH](t),this[UH]=e}}constructor(){super();const e=RH(`<style>${this[qH].join("")}</style>`),t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),t.addEventListener("move",this),this[GH]=this[XH].map((e=>new e(t)))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,t,n){const r=this.colorModel.fromAttr(n);this[HH](r)||(this.color=r)}handleEvent(e){const t=this[$H],n={...t,...e.detail};let r;this[YH](n),jH(n,t)||this[HH](r=this.colorModel.fromHsva(n))||(this[UH]=r,LH(this,"color-changed",{value:r}))}[HH](e){return this.color&&this.colorModel.equal(e,this.color)}[YH](e){this[$H]=e,this[GH].forEach((t=>t.update(e)))}}const KH={defaultColor:"#000",toHsva:e=>DH(AH(e)),fromHsva:e=>{let{h:t,s:n,v:r}=e;return PH(MH({h:t,s:n,v:r,a:1}))},equal:(e,t)=>e.toLowerCase()===t.toLowerCase()||jH(AH(e),AH(t)),fromAttr:e=>e};class QH extends ZH{get colorModel(){return KH}}class JH extends ER{_parentElement;constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{idProperty:"viewUid"}),this.on("add",((e,t,n)=>{this._renderViewIntoCollectionParent(t,n)})),this.on("remove",((e,t)=>{t.element&&this._parentElement&&t.element.remove()})),this._parentElement=null}destroy(){this.map((e=>e.destroy()))}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length||!t.every((e=>"string"==typeof e)))throw new qj("ui-viewcollection-delegate-wrong-events",this);return{to:e=>{for(const n of this)for(const r of t)n.delegate(r).to(e);this.on("add",((n,r)=>{for(const i of t)r.delegate(i).to(e)})),this.on("remove",((n,r)=>{for(const i of t)r.stopDelegating(i,e)}))}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}class eU extends(rO()){ns;tag;text;attributes;children;eventListeners;_isRendered;_revertData;constructor(e){super(),Object.assign(this,uU(cU(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new qj("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const n of t.children)gU(n)?yield n:vU(n)&&(yield*e(n))}(this)}static bind(e,t){return{to:(n,r)=>new nU({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:r}),if:(n,r,i)=>new rU({observable:e,emitter:t,attribute:n,valueIfTrue:r,callback:i})}}static extend(e,t){if(e._isRendered)throw new qj("template-extend-render",[this,e]);pU(e,uU(cU(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new qj("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),iU(this.text)?this._bindToObservable({schema:this.text,updater:sU(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const r in this.attributes){const i=t.getAttribute(r),o=this.attributes[r];n&&(n.attributes[r]=i);const s=yU(o)?o[0].ns:null;if(iU(o)){const a=yU(o)?o[0].value:o;n&&wU(r)&&a.unshift(i),this._bindToObservable({schema:a,updater:aU(t,r,s),data:e})}else if("style"==r&&"string"!==typeof o[0])this._renderStyleAttribute(o[0],e);else{n&&i&&wU(r)&&o.unshift(i);const e=o.map((e=>e&&e.value||e)).reduce(((e,t)=>e.concat(t)),[]).reduce(hU,"");mU(e)||t.setAttributeNS(s,r,e)}}}_renderStyleAttribute(e,t){const n=t.node;for(const r in e){const i=e[r];iU(i)?this._bindToObservable({schema:[i],updater:lU(n,r),data:t}):n.style[r]=i}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,r=e.isApplying;let i=0;for(const o of this.children)if(bU(o)){if(!r){o.setParent(t);for(const e of o)n.appendChild(e.element)}}else if(gU(o))r||(o.isRendered||o.render(),n.appendChild(o.element));else if(EO(o))n.appendChild(o);else if(r){const t={children:[],bindings:[],attributes:{}};e.revertData.children.push(t),o._renderNode({intoFragment:!1,node:n.childNodes[i++],isApplying:!0,revertData:t})}else n.appendChild(o.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map((n=>{const[r,i]=t.split("@");return n.activateDomEventListener(r,i,e)}));e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable(e){let{schema:t,updater:n,data:r}=e;const i=r.revertData;oU(t,n,r);const o=t.filter((e=>!mU(e))).filter((e=>e.observable)).map((e=>e.activateAttributeListener(t,n,r)));i&&i.bindings.push(o)}_revertTemplateFromNode(e,t){for(const r of t.bindings)for(const e of r)e();if(t.text)return void(e.textContent=t.text);const n=e;for(const r in t.attributes){const e=t.attributes[r];null===e?n.removeAttribute(r):n.setAttribute(r,e)}for(let r=0;r<t.children.length;++r)this._revertTemplateFromNode(n.childNodes[r],t.children[r])}}class tU{attribute;observable;emitter;callback;constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const r=()=>oU(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,r),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,r)}}}class nU extends tU{eventNameOrFunction;constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const r=(e,n)=>{t&&!n.target.matches(t)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,e,r),()=>{this.emitter.stopListening(n.node,e,r)}}}class rU extends tU{valueIfTrue;constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!mU(super.getValue(e))&&(this.valueIfTrue||!0)}}function iU(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some(iU):e instanceof tU)}function oU(e,t,n){let{node:r}=n;const i=function(e,t){return e.map((e=>e instanceof tU?e.getValue(t):e))}(e,r);let o;o=1==e.length&&e[0]instanceof rU?i[0]:i.reduce(hU,""),mU(o)?t.remove():t.set(o)}function sU(e){return{set(t){e.textContent=t},remove(){e.textContent=""}}}function aU(e,t,n){return{set(r){e.setAttributeNS(n,t,r)},remove(){e.removeAttributeNS(n,t)}}}function lU(e,t){return{set(n){e.style[t]=n},remove(){e.style[t]=null}}}function cU(e){const t=rj(e,(e=>{if(e&&(e instanceof tU||vU(e)||gU(e)||bU(e)))return e}));return t}function uU(e){if("string"==typeof e?e=function(e){return{text:[e]}}(e):e.text&&function(e){e.text=TR(e.text)}(e),e.on&&(e.eventListeners=function(e){for(const t in e)dU(e,t);return e}(e.on),delete e.on),!e.text){e.attributes&&function(e){for(const t in e)e[t].value&&(e[t].value=TR(e[t].value)),dU(e,t)}(e.attributes);const t=[];if(e.children)if(bU(e.children))t.push(e.children);else for(const n of e.children)vU(n)||gU(n)||EO(n)?t.push(n):t.push(new eU(n));e.children=t}return e}function dU(e,t){e[t]=TR(e[t])}function hU(e,t){return mU(t)?e:mU(e)?t:`${e} ${t}`}function fU(e,t){for(const n in t)e[n]?e[n].push(...t[n]):e[n]=t[n]}function pU(e,t){if(t.attributes&&(e.attributes||(e.attributes={}),fU(e.attributes,t.attributes)),t.eventListeners&&(e.eventListeners||(e.eventListeners={}),fU(e.eventListeners,t.eventListeners)),t.text&&e.text.push(...t.text),t.children&&t.children.length){if(e.children.length!=t.children.length)throw new qj("ui-template-extend-children-mismatch",e);let n=0;for(const r of t.children)pU(e.children[n++],r)}}function mU(e){return!e&&0!==e}function gU(e){return e instanceof xU}function vU(e){return e instanceof eU}function bU(e){return e instanceof JH}function yU(e){return NM(e[0])&&e[0].ns}function wU(e){return"class"==e||"style"==e}class xU extends(jO(vO())){element;isRendered;locale;t;template;_viewCollections;_unboundChildren;_bindTemplate;constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new ER,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",((t,n)=>{n.locale=e,n.t=e&&e.t})),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=eU.bind(this,this)}createCollection(e){const t=new JH(e);return this._viewCollections.add(t),t}registerChild(e){SO(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){SO(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new eU(e)}extendTemplate(e){eU.extend(this.template,e)}render(){if(this.isRendered)throw new qj("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((e=>e.destroy())),this.template&&this.template._revertData&&this.template.revert(this.element)}}function _U(e){let{emitter:t,activator:n,callback:r,contextElements:i,listenerOptions:o}=e;t.listenTo(document,"mousedown",((e,t)=>{if(!n())return;const o="function"==typeof t.composedPath?t.composedPath():[],s="function"==typeof i?i():i;for(const n of s)if(n.contains(t.target)||o.includes(n))return;r()}),o)}function CU(e){return class extends e{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(){super(...arguments),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function kU(e){let{view:t}=e;t.listenTo(t.element,"submit",((e,n)=>{n.preventDefault(),t.fire("submit")}),{useCapture:!0})}function SU(e){let{keystrokeHandler:t,focusTracker:n,gridItems:r,numberOfColumns:i,uiLanguageDirection:o}=e;const s="number"===typeof i?()=>i:i;function a(e){return t=>{const i=r.find((e=>e.element===n.focusedElement)),o=r.getIndex(i),s=e(o,r);r.get(s).focus(),t.stopPropagation(),t.preventDefault()}}function l(e,t){return e===t-1?0:e+1}function c(e,t){return 0===e?t-1:e-1}t.set("arrowright",a(((e,t)=>"rtl"===o?c(e,t.length):l(e,t.length)))),t.set("arrowleft",a(((e,t)=>"rtl"===o?l(e,t.length):c(e,t.length)))),t.set("arrowup",a(((e,t)=>{let n=e-s();return n<0&&(n=e+s()*Math.floor(t.length/s()),n>t.length-1&&(n-=s())),n}))),t.set("arrowdown",a(((e,t)=>{let n=e+s();return n>t.length-1&&(n=e%s()),n})))}class AU extends xU{static presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",(e=>!e)),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(()=>{this._updateXMLContent(),this._colorFillPaths()})),this.on("change:fillColor",(()=>{this._colorFillPaths()}))}_updateXMLContent(){if(this.content){const e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");t&&(this.viewBox=t);for(const{name:n,value:r}of Array.from(e.attributes))AU.presentationalAttributeNames.includes(n)&&this.element.setAttribute(n,r);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((e=>{e.style.fill=this.fillColor}))}}class TU extends xU{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}class IU extends xU{children;labelView;iconView;keystrokeView;_focusDelayed=null;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TU;super(e);const n=this.bindTemplate,r=Uj();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${r}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new AU,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const i={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",(e=>!e)),n.if("isVisible","ck-hidden",(e=>!e)),n.to("isOn",(e=>e?"ck-on":"ck-off")),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",(e=>e||"button")),tabindex:n.to("tabindex"),"aria-checked":n.to("_ariaChecked"),"aria-pressed":n.to("_ariaPressed"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,(e=>!e)),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to((e=>{this.isEnabled?this.fire("execute"):e.preventDefault()}))}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",((e,t,n)=>!(!t||MU(n))&&String(!!e))),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",((e,t,n)=>!(!t||!MU(n))&&String(!!e))),Mj.isSafari&&(this._focusDelayed||(this._focusDelayed=RR((()=>this.focus()),0)),i.on.mousedown=n.to((()=>{this._focusDelayed()})),i.on.mouseup=n.to((()=>{this._focusDelayed.cancel()}))),this.setTemplate(i)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new xU;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(e=>_R(e)))}]}),e}_getTooltipString(e,t,n){return e?"string"==typeof e?e:(n&&(n=_R(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}function MU(e){switch(e){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}class EU extends xU{children;iconView;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e);const n=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children}),t.icon&&(this.iconView=new AU,this.iconView.content=t.icon,this.children.add(this.iconView));const r=new xU(e);r.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:n.to("label")}]}),this.children.add(r)}}class PU extends(rO()){focusables;focusTracker;keystrokeHandler;actions;constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];"string"==typeof n&&(n=[n]);for(const r of n)e.keystrokeHandler.set(r,((e,n)=>{this[t](),n()}),e.keystrokeHandlerOptions)}this.on("forwardCycle",(()=>this.focusFirst()),{priority:"low"}),this.on("backwardCycle",(()=>this.focusLast()),{priority:"low"})}get first(){return this.focusables.find(DU)||null}get last(){return this.focusables.filter(DU).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(((t,n)=>{const r=t.element===this.focusTracker.focusedElement;return r&&(e=n),r})),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}chain(e){const t=()=>null===this.current?null:this.focusables.get(this.current);this.listenTo(e,"forwardCycle",(e=>{const n=t();this.focusNext(),n!==t()&&e.stop()}),{priority:"low"}),this.listenTo(e,"backwardCycle",(e=>{const n=t();this.focusPrevious(),n!==t()&&e.stop()}),{priority:"low"})}unchain(e){this.stopListening(e)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const n=this.current;if(null===n)return this[1===e?"first":"last"];let r=this.focusables.get(n),i=(n+t+e)%t;do{const n=this.focusables.get(i);if(DU(n)){r=n;break}i=(i+t+e)%t}while(i!==n);return r}}function DU(e){return jU(e)&&tR(e.element)}function jU(e){return!(!("focus"in e)||"function"!=typeof e.focus)}function OU(e){return class extends e{_onDragBound=this._onDrag.bind(this);_onDragEndBound=this._onDragEnd.bind(this);_lastDraggingCoordinates={x:0,y:0};constructor(){super(...arguments),this.on("render",(()=>{this._attachListeners()})),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(Aj.document,"mouseup",this._onDragEndBound),this.listenTo(Aj.document,"touchend",this._onDragEndBound),this.listenTo(Aj.document,"mousemove",this._onDragBound),this.listenTo(Aj.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(Aj.document,"mouseup",this._onDragEndBound),this.stopListening(Aj.document,"touchend",this._onDragEndBound),this.stopListening(Aj.document,"mousemove",this._onDragBound),this.stopListening(Aj.document,"touchmove",this._onDragBound)}_onDragStart(e,t){if(!this._isHandleElementPressed(t))return;this._attachDragListeners();let n=0,r=0;t instanceof MouseEvent?(n=t.clientX,r=t.clientY):(n=t.touches[0].clientX,r=t.touches[0].clientY),this._lastDraggingCoordinates={x:n,y:r},this.isDragging=!0}_onDrag(e,t){if(!this.isDragging)return void this._detachDragListeners();let n=0,r=0;t instanceof MouseEvent?(n=t.clientX,r=t.clientY):(n=t.touches[0].clientX,r=t.touches[0].clientY),t.preventDefault(),this.fire("drag",{deltaX:Math.round(n-this._lastDraggingCoordinates.x),deltaY:Math.round(r-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:n,y:r}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}class RU extends xU{children;keystrokes;focusCycler;_focusTracker;_focusables;constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new jR,this._focusTracker=new DR,this._focusables=new JH,this.focusCycler=new PU({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const e=new IU(this.locale);let n;for(n in e.on("execute",(()=>t.onExecute())),t.onCreate&&t.onCreate(e),t)"onExecute"!=n&&"onCreate"!=n&&e.set(n,t[n]);this.children.add(e)}this._updateFocusCyclableItems()}focus(e){-1===e?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach((e=>{this._focusables.add(e),this._focusTracker.add(e.element)}))}}class LU extends xU{children;constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}const NU="screen-center",BU="editor-center",FU="editor-top-side",zU="editor-top-center",VU="editor-bottom-center",WU="editor-above-center",HU="editor-below-center",UU=ZO("px");class $U extends(OU(xU)){parts;headerView;closeButtonView;actionsView;static defaultOffset=15;contentView;keystrokes;focusTracker;wasMoved=!1;_getCurrentDomRoot;_getViewportOffset;_focusables;_focusCycler;constructor(e,t){let{getCurrentDomRoot:n,getViewportOffset:r}=t;super(e);const i=this.bindTemplate,o=e.t;this.set("className",""),this.set("ariaLabel",o("Editor dialog")),this.set("isModal",!1),this.set("position",NU),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=n,this._getViewportOffset=r,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new jR,this.focusTracker=new DR,this._focusables=new JH,this._focusCycler=new PU({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",i.if("isModal","ck-dialog-overlay__transparent",(e=>!e)),i.if("_isVisible","ck-hidden",(e=>!e))],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",i.to("className")],role:"dialog","aria-label":i.to("ariaLabel"),style:{top:i.to("_top",(e=>UU(e))),left:i.to("_left",(e=>UU(e))),visibility:i.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",((e,t)=>{this.fire("close",{source:"escKeyPress"}),t()})),this.on("drag",((e,t)=>{let{deltaX:n,deltaY:r}=t;this.wasMoved=!0,this.moveBy(n,r)})),this.listenTo(Aj.window,"resize",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.listenTo(Aj.document,"scroll",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.on("change:_isVisible",((e,t,n)=>{n&&(this._isTransparent=!0,setTimeout((()=>{this.updatePosition(),this._isTransparent=!1,this.focus()}),10))})),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts(e){let{icon:t,title:n,hasCloseButton:r=!0,content:i,actionButtons:o}=e;n&&(this.headerView=new EU(this.locale,{icon:t}),r&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=n,this.ariaLabel=n,this.parts.add(this.headerView,0)),i&&(i instanceof xU&&(i=[i]),this.contentView=new LU(this.locale),this.contentView.children.addMany(i),this.parts.add(this.contentView)),o&&(this.actionsView=new RU(this.locale),this.actionsView.setButtons(o),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,t){const n=this._getViewportRect(),r=this._getDialogRect();e+r.width>n.right&&(e=n.right-r.width),e<n.left&&(e=n.left),t<n.top&&(t=n.top),this._moveTo(e,t)}_moveTo(e,t){this._left=e,this._top=t}moveBy(e,t){this.moveTo(this._left+e,this._top+t)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let t,n=this.position;this._getCurrentDomRoot()?t=this._getVisibleDomRootRect(e):n=NU;const r=$U.defaultOffset,i=this._getDialogRect();switch(n){case FU:if(t){const e="ltr"===this.locale.contentLanguageDirection?t.right-i.width-r:t.left+r;this.moveTo(e,t.top+r)}else this._moveOffScreen();break;case BU:t?this.moveTo(Math.round(t.left+t.width/2-i.width/2),Math.round(t.top+t.height/2-i.height/2)):this._moveOffScreen();break;case NU:this.moveTo(Math.round((e.width-i.width)/2),Math.round((e.height-i.height)/2));break;case zU:t?this.moveTo(Math.round(t.left+t.width/2-i.width/2),t.top+r):this._moveOffScreen();break;case VU:t?this.moveTo(Math.round(t.left+t.width/2-i.width/2),t.bottom-i.height-r):this._moveOffScreen();break;case WU:t?this.moveTo(Math.round(t.left+t.width/2-i.width/2),t.top-i.height-r):this._moveOffScreen();break;case HU:t?this.moveTo(Math.round(t.left+t.width/2-i.width/2),t.bottom+r):this._moveOffScreen()}}_getVisibleDomRootRect(e){let t=new HO(this._getCurrentDomRoot()).getVisible();return t?(t=e.getIntersection(t),t||null):null}_getDialogRect(){return new HO(this.element.firstElementChild)}_getViewportRect(){return function(e){e=Object.assign({top:0,bottom:0,left:0,right:0},e);const t=new HO(Aj.window);return t.top+=e.top,t.height-=e.top,t.bottom-=e.bottom,t.height-=e.bottom,t.left+=e.left,t.right-=e.right,t.width-=e.left+e.right,t}(this._getViewportOffset())}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const t of this.contentView.children)jU(t)&&e.push(t);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach((e=>{var t;this._focusables.add(e),this.focusTracker.add(e.element),jU(t=e)&&"focusCycler"in t&&t.focusCycler instanceof PU&&this._focusCycler.chain(e.focusCycler)}))}_createCloseButton(){const e=new IU(this.locale),t=this.locale.t;return e.set({label:t("Close"),tooltip:!0,icon:lH.cancel}),e.on("execute",(()=>this.fire("close",{source:"closeButton"}))),e}}class YU extends $W{view;static _visibleDialogPlugin;_onHide;static get pluginName(){return"Dialog"}constructor(e){super(e);const t=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:t("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}_initShowHideListeners(){this.on("show",((e,t)=>{this._show(t)})),this.on("show",((e,t)=>{t.onShow&&t.onShow(this)}),{priority:"low"}),this.on("hide",(()=>{YU._visibleDialogPlugin&&YU._visibleDialogPlugin._hide()})),this.on("hide",(()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)}),{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",((t,n)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),n())}))}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",(()=>{if(!this.view)return;const t=e.document.differ.getChangedRoots();for(const e of t)e.state&&this.view.updatePosition()}))}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show(e){let{id:t,icon:n,title:r,hasCloseButton:i=!0,content:o,actionButtons:s,className:a,isModal:l,position:c,onHide:u}=e;const d=this.editor;this.view=new $U(d.locale,{getCurrentDomRoot:()=>d.editing.view.getDomRoot(d.model.document.selection.anchor.root.rootName),getViewportOffset:()=>d.ui.viewportOffset});const h=this.view;h.on("close",(()=>{this.hide()})),d.ui.view.body.add(h),d.keystrokes.listenTo(h.element),c||(c=l?NU:BU),h.set({position:c,_isVisible:!0,className:a,isModal:l}),h.setupParts({icon:n,title:r,hasCloseButton:i,content:o,actionButtons:s}),this.id=t,u&&(this._onHide=u),this.isOpen=!0,YU._visibleDialogPlugin=this}hide(){YU._visibleDialogPlugin&&YU._visibleDialogPlugin.fire(`hide:${YU._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,t=this.view;t.contentView&&t.contentView.reset(),e.ui.view.body.remove(t),e.ui.focusTracker.remove(t.element),e.keystrokes.stopListening(t.element),t.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,YU._visibleDialogPlugin=null}}class GU extends IU{_checkIconHolderView=(()=>new qU)();constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TU),this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const t=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",t.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",((e,t)=>e||t))}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",(e=>this.isToggleable&&e)),this.on("change:_hasCheck",((e,t,n)=>{const{children:r,_checkIconHolderView:i}=this;n?r.add(i,0):r.remove(i)}))}}class qU extends xU{children;_checkIconView=this._createCheckIconView();constructor(){super();const e=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",e.to("isOn",(e=>e?"ck-on":"ck-off"))]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",((e,t,n)=>{const{children:r,_checkIconView:i}=this;n&&!r.has(i)?r.add(i):!n&&r.has(i)&&r.remove(i)}))}_createCheckIconView(){const e=new AU;return e.content=lH.check,e.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),e}}class XU extends GU{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class ZU extends xU{id;constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Uj()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class KU extends xU{constructor(e,t){super(e);const n=e.t,r=new ZU;r.text=n("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":r.id,role:"document",tabindex:-1},children:[AO(document,"p",{},n("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(t.values())),r]})}focus(){this.element.focus()}_createCategories(e){return e.map((e=>{const t=[AO(document,"h3",{},e.label),...Array.from(e.groups.values()).map((e=>this._createGroup(e))).flat()];return e.description&&t.splice(1,0,AO(document,"p",{},e.description)),AO(document,"section",{},t)}))}_createGroup(e){const t=e.keystrokes.sort(((e,t)=>e.label.localeCompare(t.label))).map((e=>this._createGroupRow(e))).flat(),n=[AO(document,"dl",{},t)];return e.label&&n.unshift(AO(document,"h4",{},e.label)),n}_createGroupRow(e){const t=this.locale.t,n=AO(document,"dt"),r=AO(document,"dd"),i=function(e){if("string"===typeof e)return[[e]];if("string"===typeof e[0])return[e];return e}(e.keystroke),o=[];for(const s of i)o.push(s.map(QU).join(""));return n.innerHTML=e.label,r.innerHTML=o.join(", ")+(e.mayRequireFn&&Mj.isMac?` ${t("(may require <kbd>Fn</kbd>)")}`:""),[n,r]}}function QU(e){return _R(e).split("+").map((e=>`<kbd>${e}</kbd>`)).join("+")}var JU='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';class e$ extends $W{contentView=null;static get requires(){return[YU]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",(()=>{const e=this._createButton(IU);return e.set({tooltip:!0,withText:!1,label:t("Accessibility help")}),e})),e.ui.componentFactory.add("menuBar:accessibilityHelp",(()=>{const e=this._createButton(XU);return e.label=t("Accessibility"),e})),e.keystrokes.set("Alt+0",((e,t)=>{this._toggleDialog(),t()})),this._setupRootLabels()}_createButton(e){const t=this.editor,n=t.plugins.get("Dialog"),r=new e(t.locale);return r.set({keystroke:"Alt+0",icon:JU,isToggleable:!0}),r.on("execute",(()=>this._toggleDialog())),r.bind("isOn").to(n,"id",(e=>"accessibilityHelp"===e)),r}_setupRootLabels(){const e=this.editor,t=e.editing.view,n=e.t;function r(e,t){const r=[t.getAttribute("aria-label"),n("Press %0 for help.",[_R("Alt+0")])].filter((e=>e)).join(". ");e.setAttribute("aria-label",r,t)}e.ui.on("ready",(()=>{t.change((e=>{for(const n of t.document.roots)r(e,n)})),e.on("addRoot",((n,i)=>{const o=e.editing.view.document.getRoot(i.rootName);t.change((e=>r(e,o)))}),{priority:"low"})}))}_toggleDialog(){const e=this.editor,t=e.plugins.get("Dialog"),n=e.locale.t;this.contentView||(this.contentView=new KU(e.locale,e.accessibility.keystrokeInfos)),"accessibilityHelp"===t.id?t.hide():t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:n("Accessibility help"),icon:JU,hasCloseButton:!0,content:this.contentView})}}class t$ extends JH{locale;_bodyCollectionContainer;constructor(e){super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new eU({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=AO(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}class n$ extends IU{toggleSwitchView;constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new xU;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class r$ extends(o$(IU)){}class i$ extends(o$(GU)){}function o$(e){return class extends e{buttonView;_fileInputView;constructor(){super(...arguments),this.buttonView=this,this._fileInputView=new s$(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",(()=>{this._fileInputView.open()})),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}}class s$ extends xU{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to((()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""}))}})}open(){this.element.click()}}var a$='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class l$ extends xU{buttonView;children;constructor(e,t){super(e);const n=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),t&&this.children.addMany(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",n.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:n.if("isCollapsed","hidden"),"aria-labelledby":n.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new IU(this.locale),t=e.bindTemplate;return e.set({withText:!0,icon:a$}),e.extendTemplate({attributes:{"aria-expanded":t.to("isOn",(e=>String(e)))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",(e=>!e)),e.on("execute",(()=>{this.isCollapsed=!this.isCollapsed})),e}}function c$(e,t){const n=e.t,r={Black:n("Black"),"Dim grey":n("Dim grey"),Grey:n("Grey"),"Light grey":n("Light grey"),White:n("White"),Red:n("Red"),Orange:n("Orange"),Yellow:n("Yellow"),"Light green":n("Light green"),Green:n("Green"),Aquamarine:n("Aquamarine"),Turquoise:n("Turquoise"),"Light blue":n("Light blue"),Blue:n("Blue"),Purple:n("Purple")};return t.map((e=>{const t=r[e.label];return t&&t!=e.label&&(e.label=t),e}))}function u$(e){return e.map(d$).filter((e=>!!e))}function d$(e){return"string"===typeof e?{model:e,label:e,hasBorder:!1,view:{name:"span",styles:{color:e}}}:{model:e.color,label:e.label||e.color,hasBorder:void 0!==e.hasBorder&&e.hasBorder,view:{name:"span",styles:{color:`${e.color}`}}}}class h$ extends IU{constructor(e){super(e);const t=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',this.extendTemplate({attributes:{style:{backgroundColor:t.to("color",(e=>Mj.isMediaForcedColors?null:e))},class:["ck","ck-color-grid__tile",t.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}class f$ extends xU{columns;items;focusTracker;keystrokes;constructor(e,t){super(e);const n=t&&t.colorDefinitions?t.colorDefinitions:[];this.columns=t&&t.columns?t.columns:5;const r={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new DR,this.keystrokes=new jR,this.items.on("add",((e,t)=>{t.isOn=t.color===this.selectedColor})),n.forEach((e=>{const t=new h$;t.set({color:e.color,label:e.label,tooltip:!0,hasBorder:e.options.hasBorder}),t.on("execute",(()=>{this.fire("execute",{value:e.color,hasBorder:e.options.hasBorder,label:e.label})})),this.items.add(t)})),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:r}}),this.on("change:selectedColor",((e,t,n)=>{for(const r of this.items)r.isOn=r.color===n}))}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",((e,t)=>{this.focusTracker.add(t.element)})),this.items.on("remove",((e,t)=>{this.focusTracker.remove(t.element)})),this.keystrokes.listenTo(this.element),SU({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}function p$(e,t){if(!e)return"";const n=m$(e);if(!n)return"";if(n.space===t)return e;if(r=n,!Object.keys(CH).includes(r.space))return"";var r;const i=CH[n.space][t];if(!i)return"";return function(e,t){switch(t){case"hex":return`#${e}`;case"rgb":return`rgb( ${e[0]}, ${e[1]}, ${e[2]} )`;case"hsl":return`hsl( ${e[0]}, ${e[1]}%, ${e[2]}% )`;case"hwb":return`hwb( ${e[0]}, ${e[1]}, ${e[2]} )`;case"lab":return`lab( ${e[0]}% ${e[1]} ${e[2]} )`;case"lch":return`lch( ${e[0]}% ${e[1]} ${e[2]} )`;default:return""}}(i("hex"===n.space?n.hexValue:n.values),t)}function m$(e){if(e.startsWith("#")){const t=wH(e);return{space:"hex",values:t.values,hexValue:e,alpha:t.alpha}}const t=wH(e);return t.space?t:null}class g$ extends xU{fieldView;labelView;statusView;fieldWrapperChildren;constructor(e,t){super(e);const n=`ck-labeled-field-view-${Uj()}`,r=`ck-labeled-field-view-status-${Uj()}`;this.fieldView=t(this,n,r),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(r),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",((e,t)=>e||t));const i=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",i.to("class"),i.if("isEnabled","ck-disabled",(e=>!e)),i.if("isEmpty","ck-labeled-field-view_empty"),i.if("isFocused","ck-labeled-field-view_focused"),i.if("placeholder","ck-labeled-field-view_placeholder"),i.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new ZU(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new xU(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",(e=>!e))],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class v$ extends xU{focusTracker;constructor(e){var t;super(e),t=this,this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new DR,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const n=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",n.if("isFocused","ck-input_focused"),n.if("isEmpty","ck-input-text_empty"),n.if("hasError","ck-error")],id:n.to("id"),placeholder:n.to("placeholder"),tabindex:n.to("tabIndex"),readonly:n.to("isReadOnly"),"aria-invalid":n.if("hasError",!0),"aria-describedby":n.to("ariaDescribedById"),"aria-label":n.to("ariaLabel")},on:{input:n.to((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.fire("input",...n),t._updateIsEmpty()})),change:n.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",((e,t,n)=>{this._setDomElementValue(n),this._updateIsEmpty()}))}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||0===e?e:""}}class b$ extends v${constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class y$ extends b${constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class w$ extends b${constructor(e){let{min:t,max:n,step:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e);const i=this.bindTemplate;this.set("min",t),this.set("max",n),this.set("step",r),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:i.to("min"),max:i.to("max"),step:i.to("step")}})}}class x$ extends xU{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",(e=>`ck-dropdown__panel_${e}`)),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to((e=>{"input"!==e.target.tagName.toLocaleLowerCase()&&e.preventDefault()}))}})}focus(){if(this.children.length){const e=this.children.first;"function"===typeof e.focus?e.focus():Xj("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;"function"===typeof e.focusLast?e.focusLast():e.focus()}}}class _$ extends xU{buttonView;panelView;focusTracker;keystrokes;listView;toolbarView;menuView;constructor(e,t,n){super(e);const r=this.bindTemplate;this.buttonView=t,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new jR,this.focusTracker=new DR,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",(e=>!e))],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[t,n]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":r.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",(()=>{this.isOpen=!this.isOpen})),this.on("change:isOpen",((e,t,n)=>{if(n)if("auto"===this.panelPosition){const e=_$._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=e?e.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition})),this.keystrokes.listenTo(this.element);const e=(e,t)=>{this.isOpen&&(this.isOpen=!1,t())};this.keystrokes.set("arrowdown",((e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())})),this.keystrokes.set("arrowright",((e,t)=>{this.isOpen&&t()})),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:n,southWest:r,northEast:i,northWest:o,southMiddleEast:s,southMiddleWest:a,northMiddleEast:l,northMiddleWest:c}=_$.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[n,r,s,a,e,i,o,l,c,t]:[r,n,a,s,e,o,i,c,l,t]}static defaultPanelPositions={south:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),southMiddleEast:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/4,name:"sme"}),southMiddleWest:(e,t)=>({top:e.bottom,left:e.left-3*(t.width-e.width)/4,name:"smw"}),north:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/2,name:"n"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}),northMiddleEast:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/4,name:"nme"}),northMiddleWest:(e,t)=>({top:e.top-t.height,left:e.left-3*(t.width-e.width)/4,name:"nmw"})};static _getOptimalPosition=(()=>nR)()}class C$ extends IU{arrowView;constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(e=>String(e)))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new AU;return e.content=a$,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class k$ extends xU{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",(e=>!e))],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class S$ extends xU{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class A$ extends xU{labelView;items;children;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ZU;super(e);const n=this.bindTemplate,r=new T$(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,r]),r.set({role:"group",ariaLabelledBy:t.id}),r.focusTracker.destroy(),r.keystrokes.destroy(),this.items=r.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",n.if("isVisible","ck-hidden",(e=>!e))]},children:this.children})}focus(){if(this.items){const e=this.items.find((e=>!(e instanceof S$)));e&&e.focus()}}}class T$ extends xU{focusables;items;focusTracker;keystrokes;_focusCycler;_listItemGroupToChangeListeners=(()=>new WeakMap)();constructor(e){super(e);const t=this.bindTemplate;this.focusables=new JH,this.items=this.createCollection(),this.focusTracker=new DR,this.keystrokes=new jR,this._focusCycler=new PU({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof A$?this._registerFocusableItemsGroup(e):e instanceof k$&&this._registerFocusableListItem(e);this.items.on("change",((e,t)=>{for(const n of t.removed)n instanceof A$?this._deregisterFocusableItemsGroup(n):n instanceof k$&&this._deregisterFocusableListItem(n);for(const n of Array.from(t.added).reverse())n instanceof A$?this._registerFocusableItemsGroup(n,t.index):this._registerFocusableListItem(n,t.index)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,n)=>{for(const e of n.removed)this._deregisterFocusableListItem(e);for(const r of Array.from(n.added).reverse())this._registerFocusableListItem(r,this.items.getIndex(e)+n.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach(((e,n)=>{const r="undefined"!==typeof t?t+n:void 0;this._registerFocusableListItem(e,r)}));const n=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,n),e.items.on("change",n)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}const I$=ZO("px"),M$={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class E$ extends xU{content;_pinWhenIsVisibleCallback;_resizeObserver;constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",(e=>`ck-balloon-panel_${e}`)),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",I$),left:t.to("left",I$)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){const t=P$(e.target);if(t&&!tR(t))return!1;this.show();const n=E$.defaultPositions,r=Object.assign({},{element:this.element,positions:[n.southArrowNorth,n.southArrowNorthMiddleWest,n.southArrowNorthMiddleEast,n.southArrowNorthWest,n.southArrowNorthEast,n.northArrowSouth,n.northArrowSouthMiddleWest,n.northArrowSouthMiddleEast,n.northArrowSouthWest,n.northArrowSouthEast,n.viewportStickyNorth],limiter:Aj.document.body,fitInViewport:!0},e),i=E$._getOptimalPosition(r)||M$,o=parseInt(i.left),s=parseInt(i.top),a=i.name,l=i.config||{},{withArrow:c=!0}=l;return this.top=s,this.left=o,this.position=a,this.withArrow=c,!0}pin(e){this.unpin(),this._startPinning(e)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){if(!this.attachTo(e))return!1;let t=P$(e.target);const n=e.limiter?P$(e.limiter):Aj.document.body;if(this.listenTo(Aj.document,"scroll",((r,i)=>{const o=i.target,s=t&&o.contains(t),a=n&&o.contains(n);!s&&!a&&t&&n||this.attachTo(e)}),{useCapture:!0}),this.listenTo(Aj.window,"resize",(()=>{this.attachTo(e)})),!this._resizeObserver&&(t&&FO(t)&&(t=t.parentElement),t)){const e=()=>{tR(t)||this.unpin()};this._resizeObserver=new qO(t,e)}return!0}_stopPinning(){this.stopListening(Aj.document,"scroll"),this.stopListening(Aj.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sideOffset:t=E$.arrowSideOffset,heightOffset:n=E$.arrowHeightOffset,stickyVerticalOffset:r=E$.stickyVerticalOffset,config:i}=e;return{northWestArrowSouthWest:(e,n)=>({top:o(e,n),left:e.left-t,name:"arrow_sw",...i&&{config:i}}),northWestArrowSouthMiddleWest:(e,n)=>({top:o(e,n),left:e.left-.25*n.width-t,name:"arrow_smw",...i&&{config:i}}),northWestArrowSouth:(e,t)=>({top:o(e,t),left:e.left-t.width/2,name:"arrow_s",...i&&{config:i}}),northWestArrowSouthMiddleEast:(e,n)=>({top:o(e,n),left:e.left-.75*n.width+t,name:"arrow_sme",...i&&{config:i}}),northWestArrowSouthEast:(e,n)=>({top:o(e,n),left:e.left-n.width+t,name:"arrow_se",...i&&{config:i}}),northArrowSouthWest:(e,n)=>({top:o(e,n),left:e.left+e.width/2-t,name:"arrow_sw",...i&&{config:i}}),northArrowSouthMiddleWest:(e,n)=>({top:o(e,n),left:e.left+e.width/2-.25*n.width-t,name:"arrow_smw",...i&&{config:i}}),northArrowSouth:(e,t)=>({top:o(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s",...i&&{config:i}}),northArrowSouthMiddleEast:(e,n)=>({top:o(e,n),left:e.left+e.width/2-.75*n.width+t,name:"arrow_sme",...i&&{config:i}}),northArrowSouthEast:(e,n)=>({top:o(e,n),left:e.left+e.width/2-n.width+t,name:"arrow_se",...i&&{config:i}}),northEastArrowSouthWest:(e,n)=>({top:o(e,n),left:e.right-t,name:"arrow_sw",...i&&{config:i}}),northEastArrowSouthMiddleWest:(e,n)=>({top:o(e,n),left:e.right-.25*n.width-t,name:"arrow_smw",...i&&{config:i}}),northEastArrowSouth:(e,t)=>({top:o(e,t),left:e.right-t.width/2,name:"arrow_s",...i&&{config:i}}),northEastArrowSouthMiddleEast:(e,n)=>({top:o(e,n),left:e.right-.75*n.width+t,name:"arrow_sme",...i&&{config:i}}),northEastArrowSouthEast:(e,n)=>({top:o(e,n),left:e.right-n.width+t,name:"arrow_se",...i&&{config:i}}),southWestArrowNorthWest:e=>({top:s(e),left:e.left-t,name:"arrow_nw",...i&&{config:i}}),southWestArrowNorthMiddleWest:(e,n)=>({top:s(e),left:e.left-.25*n.width-t,name:"arrow_nmw",...i&&{config:i}}),southWestArrowNorth:(e,t)=>({top:s(e),left:e.left-t.width/2,name:"arrow_n",...i&&{config:i}}),southWestArrowNorthMiddleEast:(e,n)=>({top:s(e),left:e.left-.75*n.width+t,name:"arrow_nme",...i&&{config:i}}),southWestArrowNorthEast:(e,n)=>({top:s(e),left:e.left-n.width+t,name:"arrow_ne",...i&&{config:i}}),southArrowNorthWest:e=>({top:s(e),left:e.left+e.width/2-t,name:"arrow_nw",...i&&{config:i}}),southArrowNorthMiddleWest:(e,n)=>({top:s(e),left:e.left+e.width/2-.25*n.width-t,name:"arrow_nmw",...i&&{config:i}}),southArrowNorth:(e,t)=>({top:s(e),left:e.left+e.width/2-t.width/2,name:"arrow_n",...i&&{config:i}}),southArrowNorthMiddleEast:(e,n)=>({top:s(e),left:e.left+e.width/2-.75*n.width+t,name:"arrow_nme",...i&&{config:i}}),southArrowNorthEast:(e,n)=>({top:s(e),left:e.left+e.width/2-n.width+t,name:"arrow_ne",...i&&{config:i}}),southEastArrowNorthWest:e=>({top:s(e),left:e.right-t,name:"arrow_nw",...i&&{config:i}}),southEastArrowNorthMiddleWest:(e,n)=>({top:s(e),left:e.right-.25*n.width-t,name:"arrow_nmw",...i&&{config:i}}),southEastArrowNorth:(e,t)=>({top:s(e),left:e.right-t.width/2,name:"arrow_n",...i&&{config:i}}),southEastArrowNorthMiddleEast:(e,n)=>({top:s(e),left:e.right-.75*n.width+t,name:"arrow_nme",...i&&{config:i}}),southEastArrowNorthEast:(e,n)=>({top:s(e),left:e.right-n.width+t,name:"arrow_ne",...i&&{config:i}}),westArrowEast:(e,t)=>({top:e.top+e.height/2-t.height/2,left:e.left-t.width-n,name:"arrow_e",...i&&{config:i}}),eastArrowWest:(e,t)=>({top:e.top+e.height/2-t.height/2,left:e.right+n,name:"arrow_w",...i&&{config:i}}),viewportStickyNorth:(e,t,n,o)=>{const s=o||n;return e.getIntersection(s)?s.height-e.height>r?null:{top:s.top+r,left:e.left+e.width/2-t.width/2,name:"arrowless",config:{withArrow:!1,...i}}:null}};function o(e,t){return e.top-t.height-n}function s(e){return e.bottom+n}}static arrowSideOffset=25;static arrowHeightOffset=10;static stickyVerticalOffset=20;static _getOptimalPosition=(()=>nR)();static defaultPositions=(()=>E$.generatePositions())()}function P$(e){return ij(e)?e:zO(e)?e.commonAncestorContainer:"function"==typeof e?P$(e()):null}class D$ extends xU{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class j$ extends xU{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function O$(e){if(Array.isArray(e))return{items:e,removeItems:[]};const t={items:[],removeItems:[]};return e?{...t,...e}:t}const R$=(()=>({alignLeft:lH.alignLeft,bold:lH.bold,importExport:lH.importExport,paragraph:lH.paragraph,plus:lH.plus,text:lH.text,threeVerticalDots:lH.threeVerticalDots,pilcrow:lH.pilcrow,dragIndicator:lH.dragIndicator}))();class L$ extends xU{options;items;focusTracker;keystrokes;itemsView;children;focusables;_focusCycler;_behavior;constructor(e,t){super(e);const n=this.bindTemplate,r=this.t;this.options=t||{},this.set("ariaLabel",r("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new DR,this.keystrokes=new jR,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new N$(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const i="rtl"===e.uiLanguageDirection;this._focusCycler=new PU({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[i?"arrowright":"arrowleft","arrowup"],focusNext:[i?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var s;this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(s=this,s.bindTemplate.to((e=>{e.target===s.element&&e.preventDefault()})))}}),this._behavior=this.options.shouldGroupWhenFull?new F$(this):new B$(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",((e,t)=>{this.focusTracker.add(t.element)})),this.items.on("remove",((e,t)=>{this.focusTracker.remove(t.element)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const r=O$(e),i=n||r.removeItems;return this._cleanItemsConfiguration(r.items,t,i).map((e=>NM(e)?this._createNestedToolbarDropdown(e,t,i):"|"===e?new D$:"-"===e?new j$:t.create(e))).filter((e=>!!e))}_cleanItemsConfiguration(e,t,n){const r=e.filter(((e,r,i)=>"|"===e||-1===n.indexOf(e)&&("-"===e?!this.options.shouldGroupWhenFull||(Xj("toolbarview-line-break-ignored-when-grouping-items",i),!1):!(!NM(e)&&!t.has(e))||(Xj("toolbarview-item-unavailable",{item:e}),!1))));return this._cleanSeparatorsAndLineBreaks(r)}_cleanSeparatorsAndLineBreaks(e){const t=e=>"-"!==e&&"|"!==e,n=e.length,r=e.findIndex(t);if(-1===r)return[];const i=n-e.slice().reverse().findIndex(t);return e.slice(r,i).filter(((e,n,r)=>{if(t(e))return!0;return!(n>0&&r[n-1]===e)}))}_createNestedToolbarDropdown(e,t,n){let{label:r,icon:i,items:o,tooltip:s=!0,withText:a=!1}=e;if(o=this._cleanItemsConfiguration(o,t,n),!o.length)return null;const l=V$(this.locale);return r||Xj("toolbarview-nested-toolbar-dropdown-missing-label",e),l.class="ck-toolbar__nested-toolbar-dropdown",l.buttonView.set({label:r,tooltip:s,withText:!!a}),!1!==i?l.buttonView.icon=R$[i]||i||lH.threeVerticalDots:l.buttonView.withText=!0,W$(l,(()=>l.toolbarView._buildItemsFromConfig(o,t,n))),l}}class N$ extends xU{children;constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class B${constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using((e=>e)),e.focusables.bindTo(e.items).using((e=>jU(e)?e:null)),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class F${view;viewChildren;viewFocusables;viewItemsView;viewFocusTracker;viewLocale;ungroupedItems;groupedItems;groupedItemsDropdown;resizeObserver=null;cachedPadding=null;shouldUpdateGroupingOnNextResize=!1;viewElement;constructor(e){this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using((e=>e)),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",((e,t)=>{const n=t.index,r=Array.from(t.added);for(const i of t.removed)n>=this.ungroupedItems.length?this.groupedItems.remove(i):this.ungroupedItems.remove(i);for(let i=n;i<n+r.length;i++){const e=r[i-n];i>this.ungroupedItems.length?this.groupedItems.add(e,i-this.ungroupedItems.length):this.ungroupedItems.add(e,i)}this._updateGrouping()})),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!tR(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new HO(e.lastChild),r=new HO(e);if(!this.cachedPadding){const n=Aj.window.getComputedStyle(e),r="ltr"===t?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(n[r])}return"ltr"===t?n.right>r.right-this.cachedPadding:n.left<r.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new qO(this.viewElement,(t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)})),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",(()=>{this._updateGrouping()}))}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new D$),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=V$(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",W$(n,this.groupedItems),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:"rtl"===e.uiLanguageDirection?"se":"sw",icon:lH.threeVerticalDots}),n}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map((e=>{jU(e)&&this.viewFocusables.add(e)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class z$ extends xU{children;actionView;arrowView;keystrokes;focusTracker;constructor(e,t){super(e);const n=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new jR,this.focusTracker=new DR,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",(e=>!e)),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",((e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())})),this.keystrokes.set("arrowleft",((e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new IU;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new IU,t=e.bindTemplate;return e.icon=a$,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",(e=>String(e)))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}function V$(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C$;const n="function"==typeof t?new t(e):t,r=new x$(e),i=new _$(e,n,r);return n.bind("isEnabled").to(i),n instanceof z$?n.arrowView.bind("isOn").to(i,"isOpen"):n.bind("isOn").to(i,"isOpen"),function(e){(function(e){_U({emitter:e,activator:()=>e.isRendered&&e.isOpen,callback:()=>{e.isOpen=!1},contextElements:()=>[e.element,...e.focusTracker.elements]})})(e),function(e){e.on("execute",(t=>{t.source instanceof n$||(e.isOpen=!1)}))}(e),function(e){e.focusTracker.on("change:isFocused",((t,n,r)=>{!r&&e.isOpen&&(e.isOpen=!1)}))}(e),function(e){e.keystrokes.set("arrowdown",((t,n)=>{e.isOpen&&(e.panelView.focus(),n())})),e.keystrokes.set("arrowup",((t,n)=>{e.isOpen&&(e.panelView.focusLast(),n())}))}(e),function(e){e.on("change:isOpen",((t,n,r)=>{if(r)return;e.focusTracker.elements.some((e=>e.contains(Aj.document.activeElement)))&&e.buttonView.focus()}))}(e),function(e){e.on("change:isOpen",((t,n,r)=>{r&&e.panelView.focus()}),{priority:"low"})}(e)}(i),i}function W$(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.isOpen?H$(e,t,n):e.once("change:isOpen",(()=>H$(e,t,n)),{priority:"highest"}),n.enableActiveItemFocusOnDropdownOpen&&Y$(e,(()=>e.toolbarView.items.find((e=>e.isOn))))}function H$(e,t,n){const r=e.locale,i=r.t,o=e.toolbarView=new L$(r),s="function"==typeof t?t():t;o.ariaLabel=n.ariaLabel||i("Dropdown toolbar"),n.maxWidth&&(o.maxWidth=n.maxWidth),n.class&&(o.class=n.class),n.isCompact&&(o.isCompact=n.isCompact),n.isVertical&&(o.isVertical=!0),s instanceof JH?o.items.bindTo(s).using((e=>e)):o.items.addMany(s),e.panelView.children.add(o),o.items.delegate("execute").to(e)}function U$(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.isOpen?$$(e,t,n):e.once("change:isOpen",(()=>$$(e,t,n)),{priority:"highest"}),Y$(e,(()=>e.listView.items.find((e=>e instanceof k$&&e.children.first.isOn))))}function $$(e,t,n){const r=e.locale,i=e.listView=new T$(r),o="function"==typeof t?t():t;i.ariaLabel=n.ariaLabel,i.role=n.role,G$(e,i.items,o,r),e.panelView.children.add(i),i.items.delegate("execute").to(e)}function Y$(e,t){e.on("change:isOpen",(()=>{if(!e.isOpen)return;const n=t();n&&("function"===typeof n.focus?n.focus():Xj("ui-dropdown-focus-child-on-open-child-missing-focus",{view:n}))}),{priority:$j.low-10})}function G$(e,t,n,r){t.on("change",(()=>{const e=[...t].reduce(((e,t)=>(t instanceof k$&&t.children.first instanceof GU&&e.push(t.children.first),e)),[]),n=e.some((e=>e.isToggleable));e.forEach((e=>{e.hasCheckSpace=n}))})),t.bindTo(n).using((t=>{if("separator"===t.type)return new S$(r);if("group"===t.type){const n=new A$(r);return n.set({label:t.label}),G$(e,n.items,t.items,r),n.items.delegate("execute").to(e),n}if("button"===t.type||"switchbutton"===t.type){const e="menuitemcheckbox"===t.model.role||"menuitemradio"===t.model.role,n=new k$(r);let i;return"button"===t.type?(i=new GU(r),i.set({isToggleable:e})):i=new n$(r),i.bind(...Object.keys(t.model)).to(t.model),i.delegate("execute").to(n),n.children.add(i),n}return null}))}const q$=(e,t,n)=>{const r=new y$(e.locale);return r.set({id:t,ariaDescribedById:n}),r.bind("isReadOnly").to(e,"isEnabled",(e=>!e)),r.bind("hasError").to(e,"errorText",(e=>!!e)),r.on("input",(()=>{e.errorText=null})),e.bind("isEmpty","isFocused","placeholder").to(r),r},X$=(e,t,n)=>{const r=new w$(e.locale);return r.set({id:t,ariaDescribedById:n,inputMode:"numeric"}),r.bind("isReadOnly").to(e,"isEnabled",(e=>!e)),r.bind("hasError").to(e,"errorText",(e=>!!e)),r.on("input",(()=>{e.errorText=null})),e.bind("isEmpty","isFocused","placeholder").to(r),r},Z$=(e,t,n)=>{const r=V$(e.locale);return r.set({id:t,ariaDescribedById:n}),r.bind("isEnabled").to(e),r};class K$ extends xU{hexInputRow;_debounceColorPickerEvent;_config;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const n=this.createCollection();t.hideInput||n.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:n}),this._config=t,this._debounceColorPickerEvent=IL((e=>{this.set("color",e),this.fire("colorSelected",{color:this.color})}),150,{leading:!0}),this.on("set:color",((e,t,n)=>{e.return=p$(n,this._config.format||"hsl")})),this.on("change:color",(()=>{this._hexColor=Q$(this.color)})),this.on("change:_hexColor",(()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),Q$(this.color)!=Q$(this._hexColor)&&(this.color=this._hexColor)}))}render(){var e,t;if(super.render(),e="hex-color-picker",t=QH,void 0===customElements.get(e)&&customElements.define(e,t),this.picker=Aj.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const e=document.createElement("style");e.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(e)}this.picker.addEventListener("color-changed",(e=>{const t=e.detail.value;this._debounceColorPickerEvent(t)}))}focus(){if(!this._config.hideInput&&(Mj.isGecko||Mj.isiOS||Mj.isSafari)){this.hexInputRow.children.get(1).focus()}this.slidersView.first.focus()}_createSlidersView(){const e=[...this.picker.shadowRoot.children].filter((e=>"slider"===e.getAttribute("role"))).map((e=>new J$(e)));this.slidersView=this.createCollection(),e.forEach((e=>{this.slidersView.add(e)}))}_createInputRow(){const e=this._createColorInput();return new tY(this.locale,e)}_createColorInput(){const e=new g$(this.locale,q$),{t:t}=this.locale;return e.set({label:t("HEX"),class:"color-picker-hex-input"}),e.fieldView.bind("value").to(this,"_hexColor",(t=>e.isFocused?e.fieldView.value:t.startsWith("#")?t.substring(1):t)),e.fieldView.on("input",(()=>{const t=e.fieldView.element.value;if(t){const e=nY(t);e&&this._debounceColorPickerEvent(e)}})),e}isValid(){const{t:e}=this.locale;return!!this._config.hideInput||(this.resetValidationStatus(),!!this.hexInputRow.getParsedColor()||(this.hexInputRow.inputView.errorText=e('Please enter a valid color (e.g. "ff0000").'),!1))}resetValidationStatus(){this.hexInputRow.inputView.errorText=null}}function Q$(e){let t=function(e){if(!e)return"";const t=m$(e);return t?"hex"===t.space?t.hexValue:p$(e,"hex"):"#000"}(e);return t||(t="#000"),4===t.length&&(t="#"+[t[1],t[1],t[2],t[2],t[3],t[3]].join("")),t.toLowerCase()}class J$ extends xU{constructor(e){super(),this.element=e}focus(){this.element.focus()}}class eY extends xU{constructor(e){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class tY extends xU{children;inputView;constructor(e,t){super(e),this.inputView=t,this.children=this.createCollection([new eY,this.inputView]),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}getParsedColor(){return nY(this.inputView.fieldView.element.value)}}function nY(e){if(!e)return null;const t=e.trim().replace(/^#/,"");return[3,4,6,8].includes(t.length)&&/^(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})$/.test(t)?`#${t}`:null}class rY extends(vO(ER)){constructor(e){super(e),this.set("isEmpty",!0),this.on("change",(()=>{this.set("isEmpty",0===this.length)}))}add(e,t){return this.find((t=>t.color===e.color))?this:super.add(e,t)}hasColor(e){return!!this.find((t=>t.color===e))}}class iY extends xU{items;colorDefinitions;focusTracker;columns;documentColors;documentColorsCount;staticColorsGrid;documentColorsGrid;colorPickerButtonView;removeColorButtonView;_focusables;_documentColorsLabel;_removeButtonLabel;_colorPickerLabel;constructor(e,t){let{colors:n,columns:r,removeButtonLabel:i,documentColorsLabel:o,documentColorsCount:s,colorPickerLabel:a,focusTracker:l,focusables:c}=t;super(e);const u=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=l,this.items=this.createCollection(),this.colorDefinitions=n,this.columns=r,this.documentColors=new rY,this.documentColorsCount=s,this._focusables=c,this._removeButtonLabel=i,this._colorPickerLabel=a,this._documentColorsLabel=o,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",u.if("isVisible","ck-hidden",(e=>!e))]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(e,t){const n=e.document,r=this.documentColorsCount;this.documentColors.clear();for(const i of n.getRoots()){const n=e.createRangeIn(i);for(const e of n.getItems())if(e.is("$textProxy")&&e.hasAttribute(t)&&(this._addColorToDocumentColors(e.getAttribute(t)),this.documentColors.length>=r))return}}updateSelectedColors(){const e=this.documentColorsGrid,t=this.staticColorsGrid,n=this.selectedColor;t.selectedColor=n,e&&(e.selectedColor=n)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const e=eU.bind(this.documentColors,this.documentColors),t=new xU(this.locale);t.setTemplate({tag:"span",attributes:{class:["ck","ck-color-grid__label",e.if("isEmpty","ck-hidden")]},children:[{text:this._documentColorsLabel}]}),this.items.add(t),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new IU,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:lH.colorPalette,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",(()=>{this.fire("colorPicker:show")}))}_createRemoveColorButton(){const e=new IU;return e.set({withText:!0,icon:lH.eraser,label:this._removeButtonLabel}),e.class="ck-color-selector__remove-color",e.on("execute",(()=>{this.fire("execute",{value:null,source:"removeColorButton"})})),e.render(),e}_createStaticColorsGrid(){const e=new f$(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return e.on("execute",((e,t)=>{this.fire("execute",{value:t.value,source:"staticColorsGrid"})})),e}_createDocumentColorsGrid(){const e=eU.bind(this.documentColors,this.documentColors),t=new f$(this.locale,{columns:this.columns});return t.extendTemplate({attributes:{class:e.if("isEmpty","ck-hidden")}}),t.items.bindTo(this.documentColors).using((e=>{const t=new h$;return t.set({color:e.color,hasBorder:e.options&&e.options.hasBorder}),e.label&&t.set({label:e.label,tooltip:!0}),t.on("execute",(()=>{this.fire("execute",{value:e.color,source:"documentColorsGrid"})})),t})),this.documentColors.on("change:isEmpty",((e,n,r)=>{r&&(t.selectedColor=null)})),t}_addColorToDocumentColors(e){const t=this.colorDefinitions.find((t=>t.color===e));t?this.documentColors.add(Object.assign({},t)):this.documentColors.add({color:e,label:e,options:{hasBorder:!1}})}}class oY extends xU{items;colorPickerView;saveButtonView;cancelButtonView;actionBarView;focusTracker;keystrokes;_focusables;_colorPickerViewConfig;constructor(e,t){let{focusTracker:n,focusables:r,keystrokes:i,colorPickerViewConfig:o}=t;super(e),this.items=this.createCollection(),this.focusTracker=n,this.keystrokes=i,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=r,this._colorPickerViewConfig=o;const s=this.bindTemplate,{saveButtonView:a,cancelButtonView:l}=this._createActionButtons();this.saveButtonView=a,this.cancelButtonView=l,this.actionBarView=this._createActionBarView({saveButtonView:a,cancelButtonView:l}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",s.if("isVisible","ck-hidden",(e=>!e))]},children:this.items})}render(){super.render();const e=new K$(this.locale,{...this._colorPickerViewConfig});this.colorPickerView=e,this.colorPickerView.render(),this.selectedColor&&(e.color=this.selectedColor),this.listenTo(this,"change:selectedColor",((t,n,r)=>{e.color=r})),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}resetValidationStatus(){this.colorPickerView.resetValidationStatus()}_executeOnEnterPress(){this.keystrokes.set("enter",(e=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&this.colorPickerView.isValid()&&(this.fire("execute",{value:this.selectedColor}),e.stopPropagation(),e.preventDefault())}))}_stopPropagationOnArrowsKeys(){const e=e=>e.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}_addColorPickersElementsToFocusTracker(){for(const t of this.colorPickerView.slidersView)this.focusTracker.add(t.element),this._focusables.add(t);const e=this.colorPickerView.hexInputRow.children.get(1);e.element&&(this.focusTracker.add(e.element),this._focusables.add(e)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView(e){let{saveButtonView:t,cancelButtonView:n}=e;const r=new xU,i=this.createCollection();return i.add(t),i.add(n),r.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:i}),r}_createActionButtons(){const e=this.locale,t=e.t,n=new IU(e),r=new IU(e);return n.set({icon:lH.check,class:"ck-button-save",type:"button",withText:!1,label:t("Accept")}),r.set({icon:lH.cancel,class:"ck-button-cancel",type:"button",withText:!1,label:t("Cancel")}),n.on("execute",(()=>{this.colorPickerView.isValid()&&this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})})),r.on("execute",(()=>{this.fire("colorPicker:cancel")})),{saveButtonView:n,cancelButtonView:r}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",((e,t)=>{this.fire("execute",{value:t.color,source:"colorPicker"}),this.set("selectedColor",t.color)}))}}class sY extends xU{focusTracker;keystrokes;items;colorGridsFragmentView;colorPickerFragmentView;_focusCycler;_focusables;_colorPickerViewConfig;constructor(e,t){let{colors:n,columns:r,removeButtonLabel:i,documentColorsLabel:o,documentColorsCount:s,colorPickerLabel:a,colorPickerViewConfig:l}=t;super(e),this.items=this.createCollection(),this.focusTracker=new DR,this.keystrokes=new jR,this._focusables=new JH,this._colorPickerViewConfig=l,this._focusCycler=new PU({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new iY(e,{colors:n,columns:r,removeButtonLabel:i,documentColorsLabel:o,documentColorsCount:s,colorPickerLabel:a,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new oY(e,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:l}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",((e,t,n)=>{this.colorGridsFragmentView.set("selectedColor",n),this.colorPickerFragmentView.set("selectedColor",n)})),this.colorGridsFragmentView.on("change:selectedColor",((e,t,n)=>{this.set("selectedColor",n)})),this.colorPickerFragmentView.on("change:selectedColor",((e,t,n)=>{this.set("selectedColor",n)})),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){this.colorPickerFragmentView.colorPickerView&&!this._isColorPickerFragmentVisible&&(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this.colorPickerFragmentView.resetValidationStatus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(e,t){this.colorGridsFragmentView.updateDocumentColors(e,t)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){2!==this.items.length&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",(()=>{this.showColorPickerFragment()})),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class aY{editor;_components=(()=>new Map)();constructor(e){this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(lY(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new qj("componentfactory-item-missing",this,{name:e});return this._components.get(lY(e)).callback(this.editor.locale)}has(e){return this._components.has(lY(e))}}function lY(e){return String(e).toLowerCase()}const cY="ck-tooltip";class uY extends(jO()){tooltipTextView;balloonPanelView;static defaultBalloonPositions=(()=>E$.generatePositions({heightOffset:5,sideOffset:13}))();_currentElementWithTooltip=null;_currentTooltipPosition=null;_mutationObserver=null;_pinTooltipDebounced;_unpinTooltipDebounced;_watchdogExcluded;static _editors=(()=>new Set)();static _instance=null;constructor(e){if(super(),uY._editors.add(e),uY._instance)return uY._instance;uY._instance=this,this.tooltipTextView=new xU(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new E$(e.locale),this.balloonPanelView.class=cY,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const t=new MutationObserver((()=>{e()}));return{attach(e){t.observe(e,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){t.disconnect()}}}((()=>{this._updateTooltipPosition()})),this._pinTooltipDebounced=IL(this._pinTooltip,600),this._unpinTooltipDebounced=IL(this._unpinTooltip,400),this.listenTo(Aj.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(Aj.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Aj.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Aj.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Aj.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Aj.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;uY._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),uY._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),uY._instance=null)}static getPositioningFunctions(e){const t=uY.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onKeyDown(e,t){"Escape"===t.key&&this._currentElementWithTooltip&&(this._unpinTooltip(),t.stopPropagation())}_onEnterOrFocus(e,t){let{target:n}=t;const r=dY(n);r?r!==this._currentElementWithTooltip&&(this._unpinTooltip(),"focus"!==e.name||r.matches(":hover")?this._pinTooltipDebounced(r,hY(r)):this._pinTooltip(r,hY(r))):"focus"===e.name&&this._unpinTooltip()}_onLeaveOrBlur(e,t){let{target:n,relatedTarget:r}=t;if("mouseleave"===e.name){if(!ij(n))return;const e=this.balloonPanelView.element,t=e&&(e===r||e.contains(r)),i=!t&&n===e;if(t)return void this._unpinTooltipDebounced.cancel();if(!i&&this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;const o=dY(n),s=dY(r);(i||o&&o!==s)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(e,t){let{target:n}=t;this._currentElementWithTooltip&&(n.contains(this.balloonPanelView.element)&&n.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,t){let{text:n,position:r,cssClass:i}=t;this._unpinTooltip();const o=PR(uY._editors.values()).ui.view.body;o.has(this.balloonPanelView)||o.add(this.balloonPanelView),this.tooltipTextView.text=n,this.balloonPanelView.class=[cY,i].filter((e=>e)).join(" "),this.balloonPanelView.pin({target:e,positions:uY.getPositioningFunctions(r)}),this._mutationObserver.attach(e);for(const s of uY._editors)this.listenTo(s.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=r}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of uY._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=hY(this._currentElementWithTooltip);tR(this._currentElementWithTooltip)&&e.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:uY.getPositioningFunctions(e.position)}):this._unpinTooltip()}}function dY(e){return ij(e)?e.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function hY(e){return{text:e.dataset.ckeTooltipText,position:e.dataset.ckeTooltipPosition||"s",cssClass:e.dataset.ckeTooltipClass||""}}const fY=50,pY=350,mY="Powered by";class gY extends(jO()){editor;_balloonView;_showBalloonThrottled;_lastFocusedEditableElement;constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=OW(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(!!e.config.get("ui.poweredBy.forceVisible")||"VALID"!==function(e){function t(e){return e.length>=40&&e.length<=255?"VALID":"INVALID"}if(!e)return"INVALID";let n="";try{n=atob(e)}catch(_ke){return"INVALID"}const r=n.split("-"),i=r[0],o=r[1];if(!o)return t(e);try{atob(o)}catch(_ke){try{if(atob(i),!atob(i).length)return t(e)}catch(_ke){return t(e)}}if(i.length<40||i.length>255)return"INVALID";let s="";try{atob(i),s=atob(o)}catch(_ke){return"INVALID"}if(8!==s.length)return"INVALID";const a=Number(s.substring(0,4)),l=Number(s.substring(4,6))-1,c=Number(s.substring(6,8)),u=new Date(a,l,c);return u<Qj||isNaN(Number(u))?"INVALID":"VALID"}(e.config.get("licenseKey")))&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",((e,t,n)=>{this._updateLastFocusedEditableElement(),n?this._showBalloon():this._hideBalloon()})),e.ui.focusTracker.on("change:focusedElement",((e,t,n)=>{this._updateLastFocusedEditableElement(),n&&this._showBalloon()})),e.ui.on("update",(()=>{this._showBalloonThrottled()})))}_createBalloonView(){const e=this.editor,t=this._balloonView=new E$,n=yY(e),r=new vY(e.locale,n.label);t.content.add(r),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(e,t){const n=yY(e),r="right"===n.side?function(e,t){return bY(e,t,((e,n)=>e.left+e.width-n.width-t.horizontalOffset))}(t,n):function(e,t){return bY(e,t,(e=>e.left+t.horizontalOffset))}(t,n);return{target:t,positions:[r]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,n=e.ui.focusTracker.focusedElement;if(!t||!n)return void(this._lastFocusedEditableElement=null);const r=Array.from(e.ui.getEditableElementsNames()).map((t=>e.ui.getEditableElement(t)));r.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=r[0]}}class vY extends xU{constructor(e,t){super(e);const n=new AU,r=this.bindTemplate;n.set({content:'<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>\n',isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],n],on:{dragstart:r.to((e=>e.preventDefault()))}}]})}}function bY(e,t,n){return(r,i)=>{const o=new HO(e);if(o.width<pY||o.height<fY)return null;let s;s="inside"===t.position?o.bottom-i.height:o.bottom-i.height/2,s-=t.verticalOffset;const a=n(o,i),l=r.clone().moveTo(a,s).getIntersection(i.clone().moveTo(a,s)).getVisible();return!l||l.getArea()<i.getArea()?null:{top:s,left:a,name:`position_${t.position}-side_${t.side}`,config:{withArrow:!1}}}}function yY(e){const t=e.config.get("ui.poweredBy"),n=t&&t.position||"border";return{position:n,label:mY,verticalOffset:"inside"===n?5:0,horizontalOffset:5,side:"ltr"===e.locale.contentLanguageDirection?"right":"left",...t}}const wY={POLITE:"polite",ASSERTIVE:"assertive"};class xY{editor;view;constructor(e){this.editor=e,e.once("ready",(()=>{for(const e of Object.values(wY))this.announce("",e)}))}announce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wY.POLITE;const n=this.editor;if(!n.ui.view)return;this.view||(this.view=new _Y(n.locale),n.ui.view.body.add(this.view));const{politeness:r,isUnsafeHTML:i}="string"===typeof t?{politeness:t}:t;let o=this.view.regionViews.find((e=>e.politeness===r));o||(o=new CY(n,r),this.view.regionViews.add(o)),o.announce({announcement:e,isUnsafeHTML:i})}}class _Y extends xU{regionViews;constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class CY extends xU{politeness;_domConverter;_pruneAnnouncementsInterval;constructor(e,t){super(e.locale),this.setTemplate({tag:"div",attributes:{"aria-live":t,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",(()=>{null!==this._pruneAnnouncementsInterval&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)})),this.politeness=t,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval((()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()}),5e3)}announce(e){let{announcement:t,isUnsafeHTML:n}=e;if(!t.trim().length)return;const r=document.createElement("li");n?this._domConverter.setContentOf(r,t):r.innerText=t,this._listElement.appendChild(r)}get _listElement(){return this.element.querySelector("ul")}}class kY extends k${constructor(e,t){super(e);const n=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:n.to("mouseenter")}}),this.delegate("mouseenter").to(t)}}const SY={toggleMenusAndFocusItemsOnHover(e){e.on("menu:mouseenter",(t=>{if(e.isFocusBorderEnabled||e.isOpen){if(e.isOpen)for(const n of e.menus){const e=t.path[0],r=e instanceof kY&&e.children.first===n;n.isOpen=(t.path.includes(n)||r)&&n.isEnabled}t.source.focus()}}))},focusCycleMenusOnArrows(e){const t="rtl"===e.locale.uiLanguageDirection;function n(t,n){const r=e.children.getIndex(t),i=t.isOpen,o=e.children.length,s=e.children.get((r+o+n)%o);t.isOpen=!1,i&&(s.isOpen=!0),s.buttonView.focus()}e.on("menu:arrowright",(e=>{n(e.source,t?-1:1)})),e.on("menu:arrowleft",(e=>{n(e.source,t?1:-1)}))},closeMenusWhenTheBarCloses(e){e.on("change:isOpen",(()=>{e.isOpen||e.menus.forEach((e=>{e.isOpen=!1}))}))},closeMenuWhenAnotherOnTheSameLevelOpens(e){e.on("menu:change:isOpen",((t,n,r)=>{r&&e.menus.filter((e=>t.source.parentMenuView===e.parentMenuView&&t.source!==e&&e.isOpen)).forEach((e=>{e.isOpen=!1}))}))},closeOnClickOutside(e){_U({emitter:e,activator:()=>e.isOpen,callback:()=>e.close(),contextElements:()=>e.children.map((e=>e.element))})},enableFocusHighlightOnInteraction(e){let t=!1;e.on("change:isOpen",((n,r,i)=>{i||(t||(e.isFocusBorderEnabled=!1),t=!1)})),e.listenTo(e.element,"keydown",(()=>{t=!0}),{useCapture:!0}),e.listenTo(e.element,"keyup",(()=>{t=!1}),{useCapture:!0}),e.listenTo(e.element,"focus",(()=>{t&&(e.isFocusBorderEnabled=!0)}),{useCapture:!0})}},AY={openAndFocusPanelOnArrowDownKey(e){e.keystrokes.set("arrowdown",((t,n)=>{e.focusTracker.focusedElement===e.buttonView.element&&(e.isOpen||(e.isOpen=!0),e.panelView.focus(),n())}))},openOnArrowRightKey(e){const t="rtl"===e.locale.uiLanguageDirection?"arrowleft":"arrowright";e.keystrokes.set(t,((t,n)=>{e.focusTracker.focusedElement===e.buttonView.element&&e.isEnabled&&(e.isOpen||(e.isOpen=!0),e.panelView.focus(),n())}))},openOnButtonClick(e){e.buttonView.on("execute",(()=>{e.isOpen=!0}))},toggleOnButtonClick(e){e.buttonView.on("execute",(()=>{e.isOpen=!e.isOpen}))},openAndFocusOnEnterKeyPress(e){e.keystrokes.set("enter",((t,n)=>{e.focusTracker.focusedElement===e.buttonView.element&&(e.isOpen=!0,e.panelView.focus(),n())}))},closeOnArrowLeftKey(e){const t="rtl"===e.locale.uiLanguageDirection?"arrowright":"arrowleft";e.keystrokes.set(t,((t,n)=>{e.isOpen&&(e.isOpen=!1,e.focus(),n())}))},closeOnEscKey(e){e.keystrokes.set("esc",((t,n)=>{e.isOpen&&(e.isOpen=!1,e.focus(),n())}))},closeOnParentClose(e){e.parentMenuView.on("change:isOpen",((t,n,r)=>{r||t.source!==e.parentMenuView||(e.isOpen=!1)}))}},TY={southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}),eastSouth:e=>({top:e.top,left:e.right-5,name:"es"}),eastNorth:(e,t)=>({top:e.top-t.height,left:e.right-5,name:"en"}),westSouth:(e,t)=>({top:e.top,left:e.left-t.width+5,name:"ws"}),westNorth:(e,t)=>({top:e.top-t.height,left:e.left-t.width+5,name:"wn"})},IY=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment","menuBar:insertMergeField"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function MY(e){let{normalizedConfig:t,locale:n,componentFactory:r,extraItems:i}=e;const o=ZL(t);return EY(t,o,i),function(e,t){const n=t.removeItems,r=[];t.items=t.items.filter((e=>{let{menuId:t}=e;return!n.includes(t)||(r.push(t),!1)})),OY(t.items,(e=>{e.groups=e.groups.filter((e=>{let{groupId:t}=e;return!n.includes(t)||(r.push(t),!1)}));for(const t of e.groups)t.items=t.items.filter((e=>{const t=BY(e);return!n.includes(t)||(r.push(t),!1)}))}));for(const i of n)r.includes(i)||Xj("menu-bar-item-could-not-be-removed",{menuBarConfig:e,itemName:i})}(t,o),EY(t,o,o.addItems),function(e,t,n){OY(t.items,(r=>{for(const i of r.groups)i.items=i.items.filter((i=>{const o="string"===typeof i&&!n.has(i);return o&&!t.isUsingDefaultConfig&&Xj("menu-bar-item-unavailable",{menuBarConfig:e,parentMenuConfig:ZL(r),componentName:i}),!o}))}))}(t,o,r),DY(t,o),function(e,t){const n=t.t,r={File:n({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:n({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:n({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:n({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:n({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:n({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:n({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:n({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:n({string:"Font",id:"MENU_BAR_MENU_FONT"})};OY(e.items,(e=>{e.label in r&&(e.label=r[e.label])}))}(o,n),o}function EY(e,t,n){const r=[];if(0!=n.length){for(const e of n){const n=LY(e.position),o=NY(e.position);if("object"===typeof(i=e)&&"menu"in i)if(o){const i=t.items.findIndex((e=>e.menuId===o));if(-1!=i)"before"===n?(t.items.splice(i,0,e.menu),r.push(e)):"after"===n&&(t.items.splice(i+1,0,e.menu),r.push(e));else{PY(t,e.menu,o,n)&&r.push(e)}}else"start"===n?(t.items.unshift(e.menu),r.push(e)):"end"===n&&(t.items.push(e.menu),r.push(e));else if(RY(e))OY(t.items,(t=>{if(t.menuId===o)"start"===n?(t.groups.unshift(e.group),r.push(e)):"end"===n&&(t.groups.push(e.group),r.push(e));else{const i=t.groups.findIndex((e=>e.groupId===o));-1!==i&&("before"===n?(t.groups.splice(i,0,e.group),r.push(e)):"after"===n&&(t.groups.splice(i+1,0,e.group),r.push(e)))}}));else{PY(t,e.item,o,n)&&r.push(e)}}var i;for(const t of n)r.includes(t)||Xj("menu-bar-item-could-not-be-added",{menuBarConfig:e,addedItemConfig:t})}}function PY(e,t,n,r){let i=!1;return OY(e.items,(e=>{for(const{groupId:o,items:s}of e.groups){if(i)return;if(o===n)"start"===r?(s.unshift(t),i=!0):"end"===r&&(s.push(t),i=!0);else{const e=s.findIndex((e=>BY(e)===n));-1!==e&&("before"===r?(s.splice(e,0,t),i=!0):"after"===r&&(s.splice(e+1,0,t),i=!0))}}})),i}function DY(e,t){const n=t.isUsingDefaultConfig;let r=!1;t.items=t.items.filter((t=>!!t.groups.length||(jY(e,t,n),!1))),t.items.length?(OY(t.items,(t=>{t.groups=t.groups.filter((e=>!!e.items.length||(r=!0,!1)));for(const i of t.groups)i.items=i.items.filter((t=>!(FY(t)&&!t.groups.length)||(jY(e,t,n),r=!0,!1)))})),r&&DY(e,t)):jY(e,e,n)}function jY(e,t,n){n||Xj("menu-bar-menu-empty",{menuBarConfig:e,emptyMenuConfig:t})}function OY(e,t){if(Array.isArray(e))for(const r of e)n(r);function n(e){t(e);for(const t of e.groups)for(const e of t.items)FY(e)&&n(e)}}function RY(e){return"object"===typeof e&&"group"in e}function LY(e){return e.startsWith("start")?"start":e.startsWith("end")?"end":e.startsWith("after")?"after":"before"}function NY(e){const t=e.match(/^[^:]+:(.+)/);return t?t[1]:null}function BY(e){return"string"===typeof e?e:e.menuId}function FY(e){return"object"===typeof e&&"menuId"in e}class zY extends(vO()){editor;componentFactory;focusTracker;tooltipManager;poweredBy;ariaLiveAnnouncer;isReady=!1;_editableElementsMap=(()=>new Map)();_focusableToolbarDefinitions=[];_extraMenuBarElements=[];_lastFocusedForeignElement=null;constructor(e){super();const t=e.editing.view;this.editor=e,this.componentFactory=new aY(e),this.focusTracker=new DR,this.tooltipManager=new uY(e),this.poweredBy=new gY(e),this.ariaLiveAnnouncer=new xY(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",(()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0})),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const n=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?n():this.once("ready",n)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",(()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)})),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}extendMenuBar(e){this._extraMenuBarElements.push(e)}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_initMenuBar(e){const t=e.element;this.focusTracker.add(t),this.editor.keystrokes.listenTo(t);const n=function(e){let t;return t="items"in e&&e.items?{items:e.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...e}:{items:ZL(IY),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...e},t}(this.editor.config.get("menuBar")||{});e.fillFromConfig(n,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",((e,n)=>{t.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),n())})),this.editor.keystrokes.set("Alt+F9",((n,r)=>{t.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),e.isFocusBorderEnabled=!0,e.focus(),r())}))}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const e=this.editor;let t;e.keystrokes.set("Alt+F10",((e,n)=>{this._saveLastFocusedForeignElement();const r=this._getCurrentFocusedToolbarDefinition();r&&t||(t=this._getFocusableCandidateToolbarDefinitions());for(let i=0;i<t.length;i++){const e=t.shift();if(t.push(e),e!==r&&this._focusFocusableCandidateToolbar(e)){r&&r.options.afterBlur&&r.options.afterBlur();break}}n()})),e.keystrokes.set("Esc",((t,n)=>{const r=this._getCurrentFocusedToolbarDefinition();r&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):e.editing.view.focus(),r.options.afterBlur&&r.options.afterBlur(),n())}))}_saveLastFocusedForeignElement(){const e=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(e)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(e)&&(this._lastFocusedForeignElement=e)}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:r}=t;(tR(n.element)||r.beforeFocus)&&e.push(t)}return e.sort(((e,t)=>VY(e)-VY(t))),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;return n&&n(),!!tR(t.element)&&(t.focus(),!0)}_handleScrollToTheSelection(e,t){const n={top:0,bottom:0,left:0,right:0,...this.viewportOffset};t.viewportOffset.top+=n.top,t.viewportOffset.bottom+=n.bottom,t.viewportOffset.left+=n.left,t.viewportOffset.right+=n.right}_bindBodyCollectionWithFocusTracker(){const e=this.view.body;for(const t of e)this.focusTracker.add(t.element);e.on("add",((e,t)=>{this.focusTracker.add(t.element)})),e.on("remove",((e,t)=>{this.focusTracker.remove(t.element)}))}}function VY(e){const{toolbarView:t,options:n}=e;let r=10;return tR(t.element)&&r--,n.isContextual&&r--,r}class WY extends xU{body;menuBarView;constructor(e){super(e),this.body=new t$(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class HY extends xU{name=null;_editingView;_editableElement;_hasExternalElement;constructor(e,t,n){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(()=>this._updateIsFocusedClasses())),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function t(t){e.change((n=>{const r=e.document.getRoot(t.name);n.addClass(t.isFocused?"ck-focused":"ck-blurred",r),n.removeClass(t.isFocused?"ck-blurred":"ck-focused",r)}))}e.isRenderingInProgress?function n(r){e.once("change:isRenderingInProgress",((e,i,o)=>{o?n(r):t(r)}))}(this):t(this)}}class UY extends HY{_options;constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(e,t,n),this._options=r,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const e=this._editingView;e.change((t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this.getEditableAriaLabel(),n)}))}getEditableAriaLabel(){const e=this.locale.t,t=this._options.label,n=this._editableElement,r=this.name;if("string"==typeof t)return t;if("object"===typeof t)return t[r];if("function"===typeof t)return t(this);if(n){const e=n.getAttribute("aria-label");if(e)return e}return e("Rich Text Editor. Editing area: %0",r)}}class $Y extends QW{static get pluginName(){return"Notification"}init(){this.on("show:warning",((e,t)=>{window.alert(t.message)}),{priority:"lowest"})}showSuccess(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class YY extends(vO()){constructor(e,t){super(),t&&mL(this,t),e&&this.set(e)}}const GY=ZO("px");class qY extends $W{positionLimiter;visibleStack;_viewToStack=(()=>new Map)();_idToStack=(()=>new Map)();_view=null;_rotatorView=null;_fakePanelsView=null;static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this.positionLimiter=()=>{const e=this.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new qj("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new qj("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new qj("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new E$(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find((t=>t[1]===e))[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new XY(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",((e,t)=>!t&&e>1)),e.on("change:isNavigationVisible",(()=>this.updatePosition()),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",((e,n)=>{if(n<2)return"";const r=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[r,n])})),e.buttonNextView.on("execute",(()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()})),e.buttonPrevView.on("execute",(()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()})),e}_createFakePanelsView(){const e=new ZY(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",((e,t)=>!t&&e>=2?Math.min(e-1,2):0)),e.listenTo(this.view,"change:top",(()=>e.updatePosition())),e.listenTo(this.view,"change:left",(()=>e.updatePosition())),this.editor.ui.view.body.add(e),e}_showView(e){let{view:t,balloonClassName:n="",withArrow:r=!0,singleViewMode:i=!1}=e;this.view.class=n,this.view.withArrow=r,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),i&&(this._singleViewMode=!0)}}class XY extends xU{focusTracker;buttonPrevView;buttonNextView;content;constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new DR,this.buttonPrevView=this._createButtonView(t("Previous"),lH.previousArrow),this.buttonNextView=this._createButtonView(t("Next"),lH.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",(e=>e?"":"ck-hidden"))]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new IU(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class ZY extends xU{content;_balloonPanelView;constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",(e=>e?"":"ck-hidden"))],style:{top:n.to("top",GY),left:n.to("left",GY),width:n.to("width",GY),height:n.to("height",GY)}},children:this.content}),this.on("change:numberOfPanels",((e,t,n,r)=>{n>r?this._addPanels(n-r):this._removePanels(r-n),this.updatePosition()}))}_addPanels(e){for(;e--;){const e=new xU;e.setTemplate({tag:"div"}),this.content.add(e),this.registerChild(e)}}_removePanels(e){for(;e--;){const e=this.content.last;this.content.remove(e),this.deregisterChild(e),e.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:r}=new HO(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:r})}}}class KY extends g${iconView;resetButtonView;_viewConfig;constructor(e,t){const n=e.t,r=Object.assign({},{showResetButton:!0,showIcon:!0,creator:q$},t);super(e,r.creator),this.label=t.label,this._viewConfig=r,this._viewConfig.showIcon&&(this.iconView=new AU,this.iconView.content=lH.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new IU(e),this.resetButtonView.set({label:n("Clear"),icon:lH.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",(()=>{this.reset(),this.focus(),this.fire("reset")})),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",(e=>!e)),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class QY extends xU{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",(e=>!e))],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class JY extends xU{focusTracker;children;_focusCycler;constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new DR,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new PU({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class eG extends xU{focusTracker;keystrokes;resultsView;filteredView;infoView;queryView;focusCycler;_config;constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new DR,this.keystrokes=new jR,this.resultsView=new JY(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new QY,this._enableDefaultInfoViewBehavior(),this.on("render",(()=>{this.search("")}))),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new PU({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",((e,t)=>{let{resultsCount:n,totalItemsCount:r}=t;this.resultsCount=n,this.totalItemsCount=r})),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=e=>e.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search(""),this.filteredView.element.scrollTo(0,0)}search(e){const t=e?new RegExp(gH(e),"ig"):null,n=this.filteredView.filter(t);this.fire("search",{query:e,...n})}_createSearchTextQueryView(){const e=new KY(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",(()=>{this.search(e.fieldView.element.value)})),e.on("reset",(()=>this.reset())),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;function n(e,t){let{query:n,resultsCount:r,totalItemsCount:i}=t;return"function"===typeof e?e(n,r,i):e}this.on("search",((r,i)=>{if(i.resultsCount)t.set({isVisible:!1});else{const r=this._config.infoView&&this._config.infoView.text;let o,s;i.totalItemsCount?r&&r.notFound?(r.notFound.primary,r.notFound.secondary):(e("No results found"),""):r&&r.noSearchableItems?(r.noSearchableItems.primary,r.noSearchableItems.secondary):(e("No searchable items"),""),t.set({primaryText:n(o,i),secondaryText:n(s,i),isVisible:!0})}}))}}const tG=ZO("px");class nG extends $W{toolbarView;focusTracker;_balloonConfig;_resizeObserver=null;_balloon;_fireSelectionChangeDebounced;static get pluginName(){return"BalloonToolbar"}static get requires(){return[qY]}constructor(e){super(e),this._balloonConfig=O$(e.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new DR,this._trackFocusableEditableElements(),this.focusTracker.add(this.toolbarView.element),e.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this.show(!0),afterBlur:()=>this.hide(),isContextual:!0}),this._balloon=e.plugins.get(qY),this._fireSelectionChangeDebounced=IL((()=>this.fire("_selectionChangeDebounced")),200),this.decorate("show")}init(){const e=this.editor,t=e.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",((e,t,n)=>{const r=this._balloon.visibleView===this.toolbarView;!n&&r?this.hide():n&&this.show()})),this.listenTo(t,"change:range",((e,n)=>{(n.directChange||t.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()})),this.listenTo(this,"_selectionChangeDebounced",(()=>{this.editor.editing.view.document.isFocused&&this.show()})),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(e,"ready",(()=>{const t=e.ui.view.editable.element;this._resizeObserver=new qO(t,(e=>{this.toolbarView.maxWidth=tG(.9*e.contentRect.width)}))})),this.listenTo(this.toolbarView,"groupedItemsUpdate",(()=>{this._updatePosition()})),e.ui.once("ready",(()=>{this.toolbarView.fillFromConfig(this._balloonConfig,this.editor.ui.componentFactory)}))}_createToolbarView(){const e=this.editor.locale.t,t=!this._balloonConfig.shouldNotGroupWhenFull,n=new L$(this.editor.locale,{shouldGroupWhenFull:t,isFloating:!0});return n.ariaLabel=e("Editor contextual toolbar"),n.render(),n}show(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.editor,n=t.model.document.selection,r=t.model.schema;this._balloon.hasView(this.toolbarView)||n.isCollapsed&&!e||function(e,t){if(1===e.rangeCount)return!1;return[...e.getRanges()].every((e=>{const n=e.getContainedElement();return n&&t.isSelectable(n)}))}(n,r)||Array.from(this.toolbarView.items).every((e=>void 0!==e.isEnabled&&!e.isEnabled))||(this.listenTo(this.editor.ui,"update",(()=>{this._updatePosition()})),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_trackFocusableEditableElements(){const{editor:e,focusTracker:t}=this,{editing:n}=e;n.view.addObserver(class extends IB{observe(e){t.add(e)}stopObserving(e){t.remove(e)}})}_getBalloonPositionData(){const e=this.editor.editing.view,t=e.document,n=t.selection,r=t.selection.isBackward;return{target:()=>{const t=r?n.getFirstRange():n.getLastRange(),i=HO.getDomRangeRects(e.domConverter.viewRangeToDom(t));return r?i[0]:(i.length>1&&0===i[i.length-1].width&&i.pop(),i[i.length-1])},positions:this._getBalloonPositions(r)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getBalloonPositions(e){const t=Mj.isSafari&&Mj.isiOS?E$.generatePositions({heightOffset:Math.max(E$.arrowHeightOffset,Math.round(20/Aj.window.visualViewport.scale))}):E$.defaultPositions;return e?[t.northWestArrowSouth,t.northWestArrowSouthWest,t.northWestArrowSouthEast,t.northWestArrowSouthMiddleEast,t.northWestArrowSouthMiddleWest,t.southWestArrowNorth,t.southWestArrowNorthWest,t.southWestArrowNorthEast,t.southWestArrowNorthMiddleWest,t.southWestArrowNorthMiddleEast]:[t.southEastArrowNorth,t.southEastArrowNorthEast,t.southEastArrowNorthWest,t.southEastArrowNorthMiddleEast,t.southEastArrowNorthMiddleWest,t.northEastArrowSouth,t.northEastArrowSouthEast,t.northEastArrowSouthWest,t.northEastArrowSouthMiddleEast,t.northEastArrowSouthMiddleWest]}}const rG=ZO("px");class iG extends IU{constructor(e){super(e);const t=this.bindTemplate;this.isVisible=!1,this.isToggleable=!0,this.set("top",0),this.set("left",0),this.extendTemplate({attributes:{class:"ck-block-toolbar-button",style:{top:t.to("top",(e=>rG(e))),left:t.to("left",(e=>rG(e)))}}})}}const oG=ZO("px");class sG extends $W{toolbarView;panelView;buttonView;_resizeObserver=null;_blockToolbarConfig;static get pluginName(){return"BlockToolbar"}constructor(e){super(e),this._blockToolbarConfig=O$(this.editor.config.get("blockToolbar")),this.toolbarView=this._createToolbarView(),this.panelView=this._createPanelView(),this.buttonView=this._createButtonView(),_U({emitter:this.panelView,contextElements:[this.panelView.element,this.buttonView.element],activator:()=>this.panelView.isVisible,callback:()=>this._hidePanel()})}init(){const e=this.editor,t=e.t,n=t("Click to edit block"),r=t("Drag to move"),i=t("Edit block"),o=e.plugins.has("DragDropBlockToolbar"),s=o?`${n}\n${r}`:i;this.buttonView.label=s,o&&(this.buttonView.element.dataset.ckeTooltipClass="ck-tooltip_multi-line"),this.listenTo(e.model.document.selection,"change:range",((e,t)=>{t.directChange&&this._hidePanel()})),this.listenTo(e.ui,"update",(()=>this._updateButton())),this.listenTo(e,"change:isReadOnly",(()=>this._updateButton()),{priority:"low"}),this.listenTo(e.ui.focusTracker,"change:isFocused",(()=>this._updateButton())),this.listenTo(this.buttonView,"change:isVisible",((e,t,n)=>{n?this.buttonView.listenTo(window,"resize",(()=>this._updateButton())):(this.buttonView.stopListening(window,"resize"),this._hidePanel())})),this._repositionButtonOnScroll(),e.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this._showPanel(),afterBlur:()=>this._hidePanel()}),e.ui.once("ready",(()=>{this.toolbarView.fillFromConfig(this._blockToolbarConfig,this.editor.ui.componentFactory);for(const e of this.toolbarView.items)e.on("execute",(()=>this._hidePanel(!0)),{priority:"high"})}))}destroy(){super.destroy(),this.panelView.destroy(),this.buttonView.destroy(),this.toolbarView.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_createToolbarView(){const e=this.editor.locale.t,t=!this._blockToolbarConfig.shouldNotGroupWhenFull,n=new L$(this.editor.locale,{shouldGroupWhenFull:t,isFloating:!0});return n.ariaLabel=e("Editor block content toolbar"),n}_createPanelView(){const e=this.editor,t=new E$(e.locale);return t.content.add(this.toolbarView),t.class="ck-toolbar-container",e.ui.view.body.add(t),this.toolbarView.keystrokes.set("Esc",((e,t)=>{this._hidePanel(!0),t()})),t}_createButtonView(){const e=this.editor,t=e.t,n=new iG(e.locale),r=this._blockToolbarConfig.icon,i=R$[r]||r||R$.dragIndicator;return n.set({label:t("Edit block"),icon:i,withText:!1}),n.bind("isOn").to(this.panelView,"isVisible"),n.bind("tooltip").to(this.panelView,"isVisible",(e=>!e)),this.listenTo(n,"execute",(()=>{this.panelView.isVisible?this._hidePanel(!0):this._showPanel()})),this.listenTo(n,"change:isEnabled",((e,t,n)=>{!n&&this.panelView.isVisible&&this._hidePanel(!1)})),e.ui.view.body.add(n),n}_updateButton(){const e=this.editor,t=e.model,n=e.editing.view;if(!e.ui.focusTracker.isFocused)return void this._hideButton();if(!e.model.canEditAt(e.model.document.selection))return void this._hideButton();const r=Array.from(t.document.selection.getSelectedBlocks())[0];if(!r||Array.from(this.toolbarView.items).every((e=>!e.isEnabled)))return void this._hideButton();const i=n.domConverter.mapViewToDom(e.editing.mapper.toViewElement(r));this.buttonView.isVisible=!0,this._setupToolbarResize(),this._attachButtonToElement(i),this.panelView.isVisible&&this._showPanel()}_hideButton(){this.buttonView.isVisible=!1}_showPanel(){if(!this.buttonView.isVisible)return;const e=this.panelView.isVisible;this.panelView.show();const t=this._getSelectedEditableElement();this.toolbarView.maxWidth=this._getToolbarMaxWidth(t),this.panelView.pin({target:this.buttonView.element,limiter:t}),e||this.toolbarView.items.get(0).focus()}_getSelectedEditableElement(){const e=this.editor.model.document.selection.getFirstRange().root.rootName;return this.editor.ui.getEditableElement(e)}_hidePanel(e){this.panelView.isVisible=!1,e&&this.editor.editing.view.focus()}_repositionButtonOnScroll(){const{buttonView:e}=this;let t=!1;const n=()=>{t||(t=!0,Aj.window.requestAnimationFrame((()=>{this._updateButton(),t=!1})))};e.on("change:isVisible",((t,r,i)=>{i?e.listenTo(Aj.document,"scroll",n,{useCapture:!0,usePassive:!0}):e.stopListening(Aj.document,"scroll",n)}))}_attachButtonToElement(e){const t=this.buttonView.element,n=this._getSelectedEditableElement(),r=window.getComputedStyle(e),i=new HO(n),o=parseInt(r.paddingTop,10),s=parseInt(r.lineHeight,10)||1.2*parseInt(r.fontSize,10),a=new HO(t),l=new HO(e);let c;c="ltr"===this.editor.locale.uiLanguageDirection?i.left-a.width:i.right;const u=l.top+o+(s-a.height)/2;a.moveTo(c,u);const d=a.toAbsoluteRect();this.buttonView.top=d.top,this.buttonView.left=d.left,this._clipButtonToViewport(this.buttonView,n)}_clipButtonToViewport(e,t){const n=new HO(e.element),r=new HO(t).getVisible(),i=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.element.style.clipPath=n.length?`polygon(${n.join(",")})`:""},o=t=>{e.isEnabled=!t,e.element.style.pointerEvents=t?"none":""};if(r&&r.bottom<n.bottom){const e=Math.min(n.height,n.bottom-r.bottom);o(e>=n.height),i("0 0","100% 0",`100% calc(100% - ${oG(e)})`,`0 calc(100% - ${oG(e)}`)}else if(r&&r.top>n.top){const e=Math.min(n.height,r.top-n.top);o(e>=n.height),i(`0 ${oG(e)}`,`100% ${oG(e)}`,"100% 100%","0 100%")}else o(!1),i()}_setupToolbarResize(){const e=this._getSelectedEditableElement();this._blockToolbarConfig.shouldNotGroupWhenFull||(this._resizeObserver&&this._resizeObserver.element!==e&&(this._resizeObserver.destroy(),this._resizeObserver=null),this._resizeObserver||(this._resizeObserver=new qO(e,(()=>{this.toolbarView.maxWidth=this._getToolbarMaxWidth(e)}))))}_getToolbarMaxWidth(e){const t=new HO(e),n=new HO(this.buttonView.element),r="rtl"===this.editor.locale.uiLanguageDirection?n.left-t.right+n.width:t.left-n.left;return oG(t.width+r)}}class aG extends GU{arrowView;constructor(e){super(e);const t=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(e=>String(e))),"data-cke-tooltip-disabled":t.to("isOn")},on:{mouseenter:t.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new AU;return e.content=a$,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}class lG extends xU{children;constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",t.to("position",(e=>`ck-menu-bar__menu__panel_position_${e}`)),t.if("isVisible","ck-hidden",(e=>!e))],tabindex:"-1"},children:this.children,on:{selectstart:t.to((e=>{"input"!==e.target.tagName.toLocaleLowerCase()&&e.preventDefault()}))}})}focus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.children.length&&(1===e?this.children.first.focus():this.children.last.focus())}}class cG extends xU{buttonView;panelView;focusTracker;keystrokes;constructor(e){super(e);const t=this.bindTemplate;this.buttonView=new aG(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new lG(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new jR,this.focusTracker=new DR,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",t.to("class"),t.if("isEnabled","ck-disabled",(e=>!e)),t.if("parentMenuView","ck-menu-bar__menu_top-level",(e=>!e))]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),AY.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(AY.openOnButtonClick(this),AY.openOnArrowRightKey(this),AY.closeOnArrowLeftKey(this),AY.openAndFocusOnEnterKeyPress(this),AY.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),AY.openAndFocusPanelOnArrowDownKey(this),AY.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",((e,t)=>{this.fire("arrowright"),t()})),this.keystrokes.set("arrowleft",((e,t)=>{this.fire("arrowleft"),t()}))}_repositionPanelOnOpen(){this.on("change:isOpen",((e,t,n)=>{if(!n)return;const r=cG._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=r?r.name:this._panelPositions[0].name}))}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:t,northEast:n,northWest:r,westSouth:i,eastSouth:o,westNorth:s,eastNorth:a}=TY;return"ltr"===this.locale.uiLanguageDirection?this.parentMenuView?[o,a,i,s]:[e,t,n,r]:this.parentMenuView?[i,s,o,a]:[t,e,r,n]}static _getOptimalPosition=(()=>nR)()}class uG extends T${constructor(e){super(e),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const e=Array.from(this.items).some((e=>{const t=dG(e);return t&&t.isToggleable}));this.items.forEach((t=>{const n=dG(t);n&&(n.hasCheckSpace=e)}))}}function dG(e){return e instanceof k$?e.children.map((e=>function(e){return"object"===typeof e&&"buttonView"in e&&e.buttonView instanceof IU}(e)?e.buttonView:e)).find((e=>e instanceof GU)):null}class hG extends i${constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}const fG=["mouseenter","arrowleft","arrowright","change:isOpen"];class pG extends xU{children;menus=[];constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",n.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":t("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=MY({normalizedConfig:e,locale:this.locale,componentFactory:t,extraItems:n}).items.map((e=>this._createMenu({componentFactory:t,menuDefinition:e})));this.children.addMany(r)}render(){super.render(),SY.toggleMenusAndFocusItemsOnHover(this),SY.closeMenusWhenTheBarCloses(this),SY.closeMenuWhenAnotherOnTheSameLevelOpens(this),SY.focusCycleMenusOnArrows(this),SY.closeOnClickOutside(this),SY.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t?(e.delegate(...fG).to(t),e.parentMenuView=t):e.delegate(...fG).to(this,(e=>"menu:"+e)),e._attachBehaviors(),this.menus.push(e)}_createMenu(e){let{componentFactory:t,menuDefinition:n,parentMenuView:r}=e;const i=this.locale,o=new cG(i);return this.registerMenu(o,r),o.buttonView.set({label:n.label}),o.once("change:isOpen",(()=>{const e=new uG(i);e.ariaLabel=n.label,o.panelView.children.add(e),e.items.addMany(this._createMenuItems({menuDefinition:n,parentMenuView:o,componentFactory:t}))})),o}_createMenuItems(e){let{menuDefinition:t,parentMenuView:n,componentFactory:r}=e;const i=this.locale,o=[];for(const s of t.groups){for(const e of s.items){const t=new kY(i,n);if(NM(e))t.children.add(this._createMenu({componentFactory:r,menuDefinition:e,parentMenuView:n}));else{const i=this._createMenuItemContentFromFactory({componentName:e,componentFactory:r,parentMenuView:n});if(!i)continue;t.children.add(i)}o.push(t)}s!==t.groups[t.groups.length-1]&&o.push(new S$(i))}return o}_createMenuItemContentFromFactory(e){let{componentName:t,parentMenuView:n,componentFactory:r}=e;const i=r.create(t);return i instanceof cG||i instanceof XU||i instanceof hG?(this._registerMenuTree(i,n),i.on("execute",(()=>{this.close()})),i):(Xj("menu-bar-component-unsupported",{componentName:t,componentView:i}),null)}_registerMenuTree(e,t){if(!(e instanceof cG))return void e.delegate("mouseenter").to(t);this.registerMenu(e,t);const n=e.panelView.children.filter((e=>e instanceof uG))[0];if(!n)return void e.delegate("mouseenter").to(t);const r=n.items.filter((e=>e instanceof k$));for(const i of r)this._registerMenuTree(i.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",((t,n,r)=>{clearTimeout(e),r?this.isOpen=!0:e=setTimeout((()=>{this.isOpen=Array.from(this.children).some((e=>e.isOpen))}),0)}))}}const mG=["left","right","center","justify"];function gG(e){return mG.includes(e)}function vG(e,t){return"rtl"==t.contentLanguageDirection?"right"===e:"left"===e}function bG(e){const t=e.map((e=>{let t;return t="string"==typeof e?{name:e}:e,t})).filter((e=>{const t=mG.includes(e.name);return t||Xj("alignment-config-name-not-recognized",{option:e}),t})),n=t.filter((e=>Boolean(e.className))).length;if(n&&n<t.length)throw new qj("alignment-config-classnames-are-missing",{configuredOptions:e});return t.forEach(((t,n,r)=>{const i=r.slice(n+1);if(i.some((e=>e.name==t.name)))throw new qj("alignment-config-name-already-defined",{option:t,configuredOptions:e});if(t.className){if(i.some((e=>e.className==t.className)))throw new qj("alignment-config-classname-already-defined",{option:t,configuredOptions:e})}})),t}const yG="alignment";class wG extends GW{refresh(){const e=this.editor.locale,t=PR(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=Boolean(t)&&this._canBeAligned(t),this.isEnabled&&t.hasAttribute("alignment")?this.value=t.getAttribute("alignment"):this.value="rtl"===e.contentLanguageDirection?"right":"left"}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor,n=t.locale,r=t.model,i=r.document,o=e.value;r.change((e=>{const t=Array.from(i.selection.getSelectedBlocks()).filter((e=>this._canBeAligned(e))),r=t[0].getAttribute("alignment");vG(o,n)||r===o||!o?function(e,t){for(const n of e)t.removeAttribute(yG,n)}(t,e):function(e,t,n){for(const r of e)t.setAttribute(yG,n,r)}(t,e,o)}))}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,yG)}}class xG extends $W{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:mG.map((e=>({name:e})))})}init(){const e=this.editor,t=e.locale,n=e.model.schema,r=bG(e.config.get("alignment.options")).filter((e=>gG(e.name)&&!vG(e.name,t))),i=r.some((e=>!!e.className));n.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),i?e.conversion.attributeToAttribute(function(e){const t={};for(const r of e)t[r.name]={key:"class",value:r.className};const n={model:{key:"alignment",values:e.map((e=>e.name))},view:t};return n}(r)):e.conversion.for("downcast").attributeToAttribute(function(e){const t={};for(const{name:r}of e)t[r]={key:"style",value:{"text-align":r}};const n={model:{key:"alignment",values:e.map((e=>e.name))},view:t};return n}(r));const o=function(e){const t=[];for(const{name:n}of e)t.push({view:{key:"style",value:{"text-align":n}},model:{key:"alignment",value:n}});return t}(r);for(const a of o)e.conversion.for("upcast").attributeToAttribute(a);const s=function(e){const t=[];for(const{name:n}of e)t.push({view:{key:"align",value:n},model:{key:"alignment",value:n}});return t}(r);for(const a of s)e.conversion.for("upcast").attributeToAttribute(a);e.commands.add("alignment",new wG(e))}}const _G=(()=>new Map([["left",lH.alignLeft],["right",lH.alignRight],["center",lH.alignCenter],["justify",lH.alignJustify]]))();class CG extends $W{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=bG(this.editor.config.get("alignment.options"));e.map((e=>e.name)).filter(gG).forEach((e=>this._addButton(e))),this._addToolbarDropdown(e),this._addMenuBarMenu(e)}_addButton(e){this.editor.ui.componentFactory.add(`alignment:${e}`,(t=>this._createButton(t,e)))}_createButton(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.editor,i=r.commands.get("alignment"),o=new IU(e);return o.set({label:this.localizedOptionTitles[t],icon:_G.get(t),tooltip:!0,isToggleable:!0,...n}),o.bind("isEnabled").to(i),o.bind("isOn").to(i,"value",(e=>e===t)),this.listenTo(o,"execute",(()=>{r.execute("alignment",{value:t}),r.editing.view.focus()})),o}_addToolbarDropdown(e){const t=this.editor;t.ui.componentFactory.add("alignment",(n=>{const r=V$(n),i="rtl"===n.uiLanguageDirection?"w":"e",o=n.t;W$(r,(()=>e.map((e=>this._createButton(n,e.name,{tooltipPosition:i})))),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:o("Text alignment toolbar")}),r.buttonView.set({label:o("Text alignment"),tooltip:!0}),r.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const s="rtl"===n.contentLanguageDirection?_G.get("right"):_G.get("left"),a=t.commands.get("alignment");return r.buttonView.bind("icon").to(a,"value",(e=>_G.get(e)||s)),r.bind("isEnabled").to(a,"isEnabled"),this.listenTo(r,"execute",(()=>{t.editing.view.focus()})),r}))}_addMenuBarMenu(e){const t=this.editor;t.ui.componentFactory.add("menuBar:alignment",(n=>{const r=t.commands.get("alignment"),i=n.t,o=new cG(n),s=new uG(n);o.bind("isEnabled").to(r),s.set({ariaLabel:i("Text alignment"),role:"menu"}),o.buttonView.set({label:i("Text alignment")});for(const a of e){const e=new kY(n,o),i=new XU(n);i.delegate("execute").to(o),i.set({label:this.localizedOptionTitles[a.name],icon:_G.get(a.name),role:"menuitemcheckbox",isToggleable:!0}),i.on("execute",(()=>{t.execute("alignment",{value:a.name}),t.editing.view.focus()})),i.bind("isOn").to(r,"value",(e=>e===a.name)),i.bind("isEnabled").to(r,"isEnabled"),e.children.add(i),s.items.add(e)}return o.panelView.children.add(s),o}))}}class kG extends $W{static get requires(){return[xG,CG]}static get pluginName(){return"Alignment"}}class SG{model;limit;_isLocked;_size;_batch=null;_changeCallback;_selectionChangeCallback;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(e,t)=>{t.isLocal&&t.isUndoable&&t!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isLocked&&!e||(this._batch=null,this._size=0)}}class AG extends GW{_buffer;constructor(e,t){super(e),this._buffer=new SG(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document,r=e.text||"",i=r.length;let o=n.selection;if(e.selection?o=e.selection:e.range&&(o=t.createSelection(e.range)),!t.canEditAt(o))return;const s=e.resultRange;t.enqueueChange(this._buffer.batch,(e=>{this._buffer.lock();const a=Array.from(n.selection.getAttributes());t.deleteContent(o),r&&t.insertContent(e.createText(r,a),o),s?e.setSelection(s):o.is("documentSelection")||e.setSelection(o),this._buffer.unlock(),this._buffer.input(i)}))}}const TG=["insertText","insertReplacementText"],IG=[...TG,"insertCompositionText"];class MG extends IB{focusObserver;constructor(e){super(e),this.focusObserver=e.getObserver(RB);const t=Mj.isAndroid?IG:TG,n=e.document;n.on("beforeinput",((r,i)=>{if(!this.isEnabled)return;const{data:o,targetRanges:s,inputType:a,domEvent:l}=i;if(!t.includes(a))return;this.focusObserver.flush();const c=new Wj(n,"insertText");n.fire(c,new MB(e,l,{text:o,selection:e.createSelection(s)})),c.stop.called&&r.stop()})),Mj.isAndroid||n.on("compositionend",((t,r)=>{let{data:i,domEvent:o}=r;this.isEnabled&&i&&n.fire("insertText",new MB(e,o,{text:i}))}),{priority:"lowest"})}observe(){}stopObserving(){}}class EG extends $W{_compositionQueue;static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,n=e.editing.view,r=e.editing.mapper,i=t.document.selection;this._compositionQueue=new PG(e),n.addObserver(MG);const o=new AG(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",o),e.commands.add("input",o),this.listenTo(n.document,"insertText",((o,s)=>{n.document.isComposing||s.preventDefault(),Mj.isAndroid&&n.document.isComposing&&this._compositionQueue.flush("next beforeinput");const{text:a,selection:l}=s;let c;c=l?Array.from(l.getRanges()).map((e=>r.toModelRange(e))):Array.from(i.getRanges());let u=a;if(Mj.isAndroid){const e=Array.from(c[0].getItems()).reduce(((e,t)=>e+(t.is("$textProxy")?t.data:"")),"");if(e&&(e.length<=u.length?u.startsWith(e)&&(u=u.substring(e.length),c[0].start=c[0].start.getShiftedBy(e.length)):e.startsWith(u)&&(c[0].start=c[0].start.getShiftedBy(u.length),u="")),0==u.length&&c[0].isCollapsed)return}const d={text:u,selection:t.createSelection(c)};Mj.isAndroid&&n.document.isComposing?this._compositionQueue.push(d):(e.execute("insertText",d),n.scrollToTheSelection())})),Mj.isAndroid?this.listenTo(n.document,"keydown",((e,r)=>{!i.isCollapsed&&229==r.keyCode&&n.document.isComposing&&DG(t,o)})):this.listenTo(n.document,"compositionstart",(()=>{i.isCollapsed||DG(t,o)})),Mj.isAndroid?(this.listenTo(n.document,"mutations",((e,t)=>{let{mutations:i}=t;if(n.document.isComposing)for(const{node:n}of i){const e=jG(n,r),t=r.toModelElement(e);if(this._compositionQueue.isComposedElement(t))return void this._compositionQueue.flush("mutations")}})),this.listenTo(n.document,"compositionend",(()=>{this._compositionQueue.flush("composition end")})),this.listenTo(n.document,"compositionend",(()=>{const e=[];for(const t of this._compositionQueue.flushComposedElements()){const n=r.toViewElement(t);n&&e.push({type:"children",node:n})}e.length&&n.document.fire("mutations",{mutations:e})}),{priority:"lowest"})):this.listenTo(n.document,"compositionend",(()=>{n.document.fire("mutations",{mutations:[]})}),{priority:"lowest"})}destroy(){super.destroy(),this._compositionQueue.destroy()}}class PG{editor;flushDebounced=(()=>IL((()=>this.flush("timeout")),50))();_queue=[];_compositionElements=(()=>new Set)();constructor(e){this.editor=e}destroy(){for(this.flushDebounced.cancel(),this._compositionElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(e){const t={text:e.text};if(e.selection){t.selectionRanges=[];for(const n of e.selection.getRanges())t.selectionRanges.push(bF.fromRange(n)),this._compositionElements.add(n.start.parent)}this._queue.push(t),this.flushDebounced()}shift(){const e=this._queue.shift(),t={text:e.text};if(e.selectionRanges){const n=e.selectionRanges.map((e=>function(e){const t=e.toRange();if(e.detach(),"$graveyard"==t.root.rootName)return null;return t}(e))).filter((e=>!!e));n.length&&(t.selection=this.editor.model.createSelection(n))}return t}flush(e){const t=this.editor,n=t.model,r=t.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const i=t.commands.get("insertText").buffer;n.enqueueChange(i.batch,(()=>{for(i.lock();this._queue.length;){const e=this.shift();t.execute("insertText",e)}i.unlock()})),r.scrollToTheSelection()}isComposedElement(e){return this._compositionElements.has(e)}flushComposedElements(){const e=Array.from(this._compositionElements);return this._compositionElements.clear(),e}}function DG(e,t){if(!t.isEnabled)return;const n=t.buffer;n.lock(),e.enqueueChange(n.batch,(()=>{e.deleteContent(e.document.selection)})),n.unlock()}function jG(e,t){let n=e.is("$text")?e.parent:e;for(;!t.toModelElement(n);)n=n.parent;return n}class OG extends GW{direction;_buffer;constructor(e,t){super(e),this.direction=t,this._buffer=new SG(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,(r=>{this._buffer.lock();const i=r.createSelection(e.selection||n.selection);if(!t.canEditAt(i))return;const o=e.sequence||1,s=i.isCollapsed;if(i.isCollapsed&&t.modifySelection(i,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(o))return void this._replaceEntireContentWithParagraph(r);if(this._shouldReplaceFirstBlockWithParagraph(i,o))return void this.editor.execute("paragraph",{selection:i});if(i.isCollapsed)return;let a=0;i.getFirstRange().getMinimalFlatRanges().forEach((e=>{a+=CO(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),t.deleteContent(i,{doNotResetEntireContent:s,direction:this.direction}),this._buffer.input(a),r.setSelection(i),this._buffer.unlock()}))}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,n=t.document.selection,r=t.schema.getLimitElement(n);if(!(n.isCollapsed&&n.containsEntireContent(r)))return!1;if(!t.schema.checkChild(r,"paragraph"))return!1;const i=r.getChild(0);return!i||!i.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,n=t.document.selection,r=t.schema.getLimitElement(n),i=e.createElement("paragraph");e.remove(e.createRangeIn(r)),e.insert(i,r),e.setSelection(i,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||"backward"!=this.direction)return!1;if(!e.isCollapsed)return!1;const r=e.getFirstPosition(),i=n.schema.getLimitElement(r),o=i.getChild(0);return r.parent==o&&(!!e.containsEntireContent(o)&&(!!n.schema.checkChild(i,"paragraph")&&"paragraph"!=o.name))}}const RG="word",LG="selection",NG="backward",BG="forward",FG={deleteContent:{unit:LG,direction:NG},deleteContentBackward:{unit:"codePoint",direction:NG},deleteWordBackward:{unit:RG,direction:NG},deleteHardLineBackward:{unit:LG,direction:NG},deleteSoftLineBackward:{unit:LG,direction:NG},deleteContentForward:{unit:"character",direction:BG},deleteWordForward:{unit:RG,direction:BG},deleteHardLineForward:{unit:LG,direction:BG},deleteSoftLineForward:{unit:LG,direction:BG}};class zG extends IB{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",(()=>{n++})),t.on("keyup",(()=>{n=0})),t.on("beforeinput",((r,i)=>{if(!this.isEnabled)return;const{targetRanges:o,domEvent:s,inputType:a}=i,l=FG[a];if(!l)return;const c={direction:l.direction,unit:l.unit,sequence:n};c.unit==LG&&(c.selectionToRemove=e.createSelection(o[0])),"deleteContentBackward"===a&&(Mj.isAndroid&&(c.sequence=1),function(e){if(1!=e.length||e[0].isCollapsed)return!1;const t=e[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let n=0;for(const{nextPosition:r,item:i}of t){if(r.parent.is("$text")){const e=r.parent.data,t=r.offset;if(LR(e,t)||NR(e,t)||FR(e,t))continue;n++}else(i.is("containerElement")||i.is("emptyElement"))&&n++;if(n>1)return!0}return!1}(o)&&(c.unit=LG,c.selectionToRemove=e.createSelection(o)));const u=new MN(t,"delete",o[0]);t.fire(u,new MB(e,s,c)),u.stop.called&&r.stop()})),Mj.isBlink&&function(e){const t=e.view,n=t.document;let r=null,i=!1;function o(e){return e==bR.backspace||e==bR.delete}function s(e){return e==bR.backspace?NG:BG}n.on("keydown",((e,t)=>{let{keyCode:n}=t;r=n,i=!1})),n.on("keyup",((a,l)=>{let{keyCode:c,domEvent:u}=l;const d=n.selection,h=e.isEnabled&&c==r&&o(c)&&!d.isCollapsed&&!i;if(r=null,h){const e=d.getFirstRange(),r=new MN(n,"delete",e),i={unit:LG,direction:s(c),selectionToRemove:d};n.fire(r,new MB(t,u,i))}})),n.on("beforeinput",((e,t)=>{let{inputType:n}=t;const a=FG[n];o(r)&&a&&a.direction==s(r)&&(i=!0)}),{priority:"high"}),n.on("beforeinput",((e,t)=>{let{inputType:n,data:i}=t;r==bR.delete&&"insertText"==n&&"\x7f"==i&&e.stop()}),{priority:"high"})}(this)}observe(){}stopObserving(){}}class VG extends $W{_undoOnBackspace;static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document,r=e.model.document;t.addObserver(zG),this._undoOnBackspace=!1;const i=new OG(e,"forward");e.commands.add("deleteForward",i),e.commands.add("forwardDelete",i),e.commands.add("delete",new OG(e,"backward")),this.listenTo(n,"delete",((r,i)=>{n.isComposing||i.preventDefault();const{direction:o,sequence:s,selectionToRemove:a,unit:l}=i,c="forward"===o?"deleteForward":"delete",u={sequence:s};if("selection"==l){const t=Array.from(a.getRanges()).map((t=>e.editing.mapper.toModelRange(t)));u.selection=e.model.createSelection(t)}else u.unit=l;e.execute(c,u),t.scrollToTheSelection()}),{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",((t,n)=>{this._undoOnBackspace&&"backward"==n.direction&&1==n.sequence&&"codePoint"==n.unit&&(this._undoOnBackspace=!1,e.execute("undo"),n.preventDefault(),t.stop())}),{context:"$capture"}),this.listenTo(r,"change",(()=>{this._undoOnBackspace=!1})))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class WG extends $W{static get requires(){return[EG,VG]}static get pluginName(){return"Typing"}}function HG(e,t){let n=e.start;return{text:Array.from(e.getWalker({ignoreElementEnd:!1})).reduce(((e,r)=>{let{item:i}=r;return i.is("$text")||i.is("$textProxy")?e+i.data:(n=t.createPositionAfter(i),"")}),""),range:t.createRange(n,e.end)}}class UG extends(vO()){model;testCallback;_hasMatch;constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",(()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))})),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",((t,n)=>{let{directChange:r}=n;r&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))})),this.listenTo(e,"change:data",((e,t)=>{!t.isUndo&&t.isLocal&&this._evaluateTextBeforeSelection("data",{batch:t})}))}_evaluateTextBeforeSelection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.model,r=n.document.selection,i=n.createRange(n.createPositionAt(r.focus.parent,0),r.focus),{text:o,range:s}=HG(i,n),a=this.testCallback(o);if(!a&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!a,a){const n=Object.assign(t,{text:o,range:s});"object"==typeof a&&Object.assign(n,a),this.fire(`matched:${e}`,n)}}}class $G extends $W{attributes;_overrideUid;_isNextGravityRestorationSkipped=!1;static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,n=e.editing.view,r=e.locale,i=t.document.selection;this.listenTo(n.document,"arrowKey",((e,t)=>{if(!i.isCollapsed)return;if(t.shiftKey||t.altKey||t.ctrlKey)return;const n=t.keyCode==bR.arrowright,o=t.keyCode==bR.arrowleft;if(!n&&!o)return;const s=r.contentLanguageDirection;let a=!1;a="ltr"===s&&n||"rtl"===s&&o?this._handleForwardMovement(t):this._handleBackwardMovement(t),!0===a&&e.stop()}),{context:"$text",priority:"highest"}),this.listenTo(i,"change:range",((e,t)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!t.directChange&&KG(i.getFirstPosition(),this.attributes)||this._restoreGravity())})),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,n=this.editor.model,r=n.document.selection,i=r.getFirstPosition();return!this._isGravityOverridden&&((!i.isAtStart||!YG(r,t))&&(!!KG(i,t)&&(XG(e),YG(r,t)&&KG(i,t,!0)?qG(n,t):this._overrideGravity(),!0)))}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,r=n.document.selection,i=r.getFirstPosition();return this._isGravityOverridden?(XG(e),this._restoreGravity(),KG(i,t,!0)?qG(n,t):GG(n,t,i),!0):i.isAtStart?!!YG(r,t)&&(XG(e),GG(n,t,i),!0):!YG(r,t)&&KG(i,t,!0)?(XG(e),GG(n,t,i),!0):!!ZG(i,t)&&(i.isAtEnd&&!YG(r,t)&&KG(i,t)?(XG(e),GG(n,t,i),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,r=e.editing.view.document;e.editing.view.addObserver(YV);let i=!1;this.listenTo(r,"mousedown",(()=>{i=!0})),this.listenTo(r,"selectionChange",(()=>{const e=this.attributes;if(!i)return;if(i=!1,!n.isCollapsed)return;if(!YG(n,e))return;const r=n.getFirstPosition();KG(r,e)&&(r.isAtStart||KG(r,e,!0)?qG(t,e):this._isGravityOverridden||this._overrideGravity())}))}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection,n=this.attributes;this.listenTo(e,"insertContent",(()=>{const r=t.getFirstPosition();YG(t,n)&&KG(r,n)&&qG(e,n)}),{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,r=e.editing.view;let i=!1,o=!1;this.listenTo(r.document,"delete",((e,t)=>{i="backward"===t.direction}),{priority:"high"}),this.listenTo(t,"deleteContent",(()=>{if(!i)return;const e=n.getFirstPosition();o=YG(n,this.attributes)&&!ZG(e,this.attributes)}),{priority:"high"}),this.listenTo(t,"deleteContent",(()=>{i&&(i=!1,o||e.model.enqueueChange((()=>{const e=n.getFirstPosition();YG(n,this.attributes)&&KG(e,this.attributes)&&(e.isAtStart||KG(e,this.attributes,!0)?qG(t,this.attributes):this._isGravityOverridden||this._overrideGravity())})))}),{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change((e=>e.overrideSelectionGravity()))}_restoreGravity(){this.editor.model.change((e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null}))}}function YG(e,t){for(const n of t)if(e.hasAttribute(n))return!0;return!1}function GG(e,t,n){const r=n.nodeBefore;e.change((n=>{if(r){const t=[],i=e.schema.isObject(r)&&e.schema.isInline(r);for(const[n,o]of r.getAttributes())!e.schema.checkAttribute("$text",n)||i&&!1===e.schema.getAttributeProperties(n).copyFromObject||t.push([n,o]);n.setSelectionAttribute(t)}else n.removeSelectionAttribute(t)}))}function qG(e,t){e.change((e=>{e.removeSelectionAttribute(t)}))}function XG(e){e.preventDefault()}function ZG(e,t){return KG(e.getShiftedBy(-1),t)}function KG(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{nodeBefore:r,nodeAfter:i}=e;for(const o of t){const e=r?r.getAttribute(o):void 0,t=i?i.getAttribute(o):void 0;if((!n||void 0!==e&&void 0!==t)&&t!==e)return!0}return!1}const QG={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xbd",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xbc",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xbe",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:oq('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:oq("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:oq("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:oq('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:oq('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:oq("'"),to:[null,"\u201a",null,"\u2019"]}},JG={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},eq=["symbols","mathematical","typography","quotes"];class tq extends $W{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(e){super(e),e.config.define("typing",{transformations:{include:eq}})}init(){const e=this.editor.model.document.selection;e.on("change:range",(()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")})),this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor,t=e.model,n=e.plugins.get("Delete"),r=function(e){const t=e.extra||[],n=e.remove||[],r=e=>!n.includes(e),i=e.include.concat(t).filter(r);return function(e){const t=new Set;for(const n of e)if("string"==typeof n&&JG[n])for(const e of JG[n])t.add(e);else t.add(n);return Array.from(t)}(i).filter(r).map((e=>"string"==typeof e&&QG[e]?QG[e]:e)).filter((e=>"object"===typeof e)).map((e=>({from:nq(e.from),to:rq(e.to)})))}(e.config.get("typing.transformations")),i=new UG(e.model,(e=>{for(const t of r){if(t.from.test(e))return{normalizedTransformation:t}}}));i.on("matched:data",((e,r)=>{if(!r.batch.isTyping)return;const{from:i,to:o}=r.normalizedTransformation,s=i.exec(r.text),a=o(s.slice(1)),l=r.range;let c=s.index;t.enqueueChange((e=>{for(let n=1;n<s.length;n++){const r=s[n],i=a[n-1];if(null==i){c+=r.length;continue}const o=l.start.getShiftedBy(c),u=t.createRange(o,o.getShiftedBy(r.length)),d=iq(o);t.insertContent(e.createText(i,d),u),c+=i.length}t.enqueueChange((()=>{n.requestUndoOnBackspace()}))}))})),i.bind("isEnabled").to(this)}}function nq(e){return"string"==typeof e?new RegExp(`(${gH(e)})$`):e}function rq(e){return"string"==typeof e?()=>[e]:e instanceof Array?()=>e:e}function iq(e){return(e.textNode?e.textNode:e.nodeAfter).getAttributes()}function oq(e){return new RegExp(`(^|\\s)(${e})([^${e}]*)(${e})$`)}function sq(e,t,n,r){return r.createRange(aq(e,t,n,!0,r),aq(e,t,n,!1,r))}function aq(e,t,n,r,i){let o=e.textNode||(r?e.nodeBefore:e.nodeAfter),s=null;for(;o&&o.getAttribute(t)==n;)s=o,o=r?o.previousSibling:o.nextSibling;return s?i.createPositionAt(s,r?"before":"after"):e}function lq(e,t,n,r){const i=e.editing.view,o=new Set;i.document.registerPostFixer((i=>{const s=e.model.document.selection;let a=!1;if(s.hasAttribute(t)){const l=sq(s.getFirstPosition(),t,s.getAttribute(t),e.model),c=e.editing.mapper.toViewRange(l);for(const e of c.getItems())e.is("element",n)&&!e.hasClass(r)&&(i.addClass(r,e),o.add(e),a=!0)}return a})),e.conversion.for("editingDowncast").add((e=>{function t(){i.change((e=>{for(const t of o.values())e.removeClass(r,t),o.delete(t)}))}e.on("insert",t,{priority:"highest"}),e.on("remove",t,{priority:"highest"}),e.on("attribute",t,{priority:"highest"}),e.on("selection",t,{priority:"highest"})}))}function cq(e,t,n,r){let i,o=null;"function"==typeof r?i=r:(o=e.commands.get(r),i=()=>{e.execute(r)}),e.model.document.on("change:data",((s,a)=>{if(o&&!o.isEnabled||!t.isEnabled)return;const l=PR(e.model.document.selection.getRanges());if(!l.isCollapsed)return;if(a.isUndo||!a.isLocal)return;const c=Array.from(e.model.document.differ.getChanges()),u=c[0];if(1!=c.length||"insert"!==u.type||"$text"!=u.name||1!=u.length)return;const d=u.position.parent;if(d.is("element","codeBlock"))return;if(d.is("element","listItem")&&"function"!==typeof r&&!["numberedList","bulletedList","todoList"].includes(r))return;if(o&&!0===o.value)return;const h=d.getChild(0),f=e.model.createRangeOn(h);if(!f.containsRange(l)&&!l.end.isEqual(f.end))return;const p=n.exec(h.data.substr(0,l.end.offset));p&&e.model.enqueueChange((t=>{const n=t.createPositionAt(d,0),r=t.createPositionAt(d,p[0].length),o=new bF(n,r);if(!1!==i({match:p})){t.remove(o);const n=e.model.document.selection.getFirstRange(),r=t.createRangeIn(d);!d.isEmpty||r.isEqual(n)||r.containsRange(n,!0)||t.remove(d)}o.detach(),e.model.enqueueChange((()=>{e.plugins.get("Delete").requestUndoOnBackspace()}))}))}))}function uq(e,t,n,r){let i,o;n instanceof RegExp?i=n:o=n,o=o||(e=>{let t;const n=[],r=[];for(;null!==(t=i.exec(e))&&!(t&&t.length<4);){let{index:e,1:i,2:o,3:s}=t;const a=i+o+s;e+=t[0].length-a.length;const l=[e,e+i.length],c=[e+i.length+o.length,e+i.length+o.length+s.length];n.push(l),n.push(c),r.push([e+i.length,e+i.length+o.length])}return{remove:n,format:r}}),e.model.document.on("change:data",((n,i)=>{if(i.isUndo||!i.isLocal||!t.isEnabled)return;const s=e.model,a=s.document.selection;if(!a.isCollapsed)return;const l=Array.from(s.document.differ.getChanges()),c=l[0];if(1!=l.length||"insert"!==c.type||"$text"!=c.name||1!=c.length)return;const u=a.focus,d=u.parent,{text:h,range:f}=function(e,t){let n=e.start;const r=Array.from(e.getItems()).reduce(((e,r)=>!r.is("$text")&&!r.is("$textProxy")||r.getAttribute("code")?(n=t.createPositionAfter(r),""):e+r.data),"");return{text:r,range:t.createRange(n,e.end)}}(s.createRange(s.createPositionAt(d,0),u),s),p=o(h),m=dq(f.start,p.format,s),g=dq(f.start,p.remove,s);m.length&&g.length&&s.enqueueChange((t=>{if(!1!==r(t,m)){for(const e of g.reverse())t.remove(e);s.enqueueChange((()=>{e.plugins.get("Delete").requestUndoOnBackspace()}))}}))}))}function dq(e,t,n){return t.filter((e=>void 0!==e[0]&&void 0!==e[1])).map((t=>n.createRange(e.getShiftedBy(t[0]),e.getShiftedBy(t[1]))))}class hq extends $W{static get requires(){return[VG]}static get pluginName(){return"Autoformat"}afterInit(){const e=this.editor,t=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&cq(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&cq(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&cq(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&cq(this.editor,this,/^\[\s?x\s?\]\s$/,(()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")}))}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const e=fq(this.editor,"bold");uq(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),uq(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(e.get("italic")){const e=fq(this.editor,"italic");uq(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),uq(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(e.get("code")){const e=fq(this.editor,"code");uq(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(e.get("strikethrough")){const e=fq(this.editor,"strikethrough");uq(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter((e=>e.match(/^heading[1-6]$/))).forEach((t=>{const n=t[7],r=new RegExp(`^(#{${n}})\\s$`);cq(this.editor,this,r,(()=>{if(!e.isEnabled||e.value===t)return!1;this.editor.execute("heading",{value:t})}))}))}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&cq(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,t=e.model.document.selection;e.commands.get("codeBlock")&&cq(e,this,/^```$/,(()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})}))}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&cq(this.editor,this,/^---$/,"horizontalLine")}}function fq(e,t){return(n,r)=>{if(!e.commands.get(t).isEnabled)return!1;const i=e.model.schema.getValidRanges(r,t);for(const e of i)n.setAttribute(t,!0,e);n.removeSelectionAttribute(t)}}class pq extends $W{adapter;_debouncedSave;_lastDocumentVersion;_savePromise;_domEmitter;_config;_pendingActions;_makeImmediateSave;_action=null;static get pluginName(){return"Autosave"}static get requires(){return[aH]}constructor(e){super(e);const t=e.config.get("autosave")||{},n=t.waitingTime||1e3;this.set("state","synchronized"),this._debouncedSave=IL(this._save.bind(this),n),this._lastDocumentVersion=e.model.document.version,this._savePromise=null,this._domEmitter=new(jO()),this._config=t,this._pendingActions=e.plugins.get(aH),this._makeImmediateSave=!1}init(){const e=this.editor,t=e.model.document;this.listenTo(e,"ready",(()=>{this.listenTo(t,"change:data",((e,t)=>{this._saveCallbacks.length&&t.isLocal&&("synchronized"===this.state&&(this.state="waiting",this._setPendingAction()),"waiting"===this.state&&this._debouncedSave())}))})),this.listenTo(e,"destroy",(()=>this._flush()),{priority:"highest"}),this._domEmitter.listenTo(window,"beforeunload",((e,t)=>{this._pendingActions.hasAny&&(t.returnValue=this._pendingActions.first.message)}))}destroy(){this._domEmitter.stopListening(),super.destroy()}save(){return this._debouncedSave.cancel(),this._save()}_flush(){this._debouncedSave.flush()}_save(){return this._savePromise?(this._makeImmediateSave=this.editor.model.document.version>this._lastDocumentVersion,this._savePromise):(this._setPendingAction(),this.state="saving",this._lastDocumentVersion=this.editor.model.document.version,this._savePromise=Promise.resolve().then((()=>Promise.all(this._saveCallbacks.map((e=>e(this.editor)))))).finally((()=>{this._savePromise=null})).then((()=>{if(this._makeImmediateSave)return this._makeImmediateSave=!1,this._save();this.editor.model.document.version>this._lastDocumentVersion?(this.state="waiting",this._debouncedSave()):(this.state="synchronized",this._pendingActions.remove(this._action),this._action=null)})).catch((e=>{throw this.state="error",this.state="saving",this._debouncedSave(),e})),this._savePromise)}_setPendingAction(){const e=this.editor.t;this._action||(this._action=this._pendingActions.add(e("Saving changes")))}get _saveCallbacks(){const e=[];return this.adapter&&this.adapter.save&&e.push(this.adapter.save),this._config.save&&e.push(this._config.save),e}}class mq extends GW{attributeKey;constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document.selection,r=void 0===e.forceValue?!this.value:e.forceValue;t.change((e=>{if(n.isCollapsed)r?e.setSelectionAttribute(this.attributeKey,!0):e.removeSelectionAttribute(this.attributeKey);else{const i=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const t of i)r?e.setAttribute(this.attributeKey,r,t):e.removeAttribute(this.attributeKey,t)}}))}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const r of n.getRanges())for(const e of r.getItems())if(t.checkAttribute(e,this.attributeKey))return e.hasAttribute(this.attributeKey);return!1}}const gq="bold";class vq extends $W{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:gq}),e.model.schema.setAttributeProperties(gq,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:gq,view:"strong",upcastAlso:["b",e=>{const t=e.getStyle("font-weight");return t&&("bold"==t||Number(t)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(gq,new mq(e,gq)),e.keystrokes.set("CTRL+B",gq),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Bold text"),keystroke:"CTRL+B"}]})}}function bq(e){let{editor:t,commandName:n,plugin:r,icon:i,label:o,keystroke:s}=e;return e=>{const a=t.commands.get(n),l=new e(t.locale);return l.set({label:o,icon:i,keystroke:s,isToggleable:!0}),l.bind("isEnabled").to(a,"isEnabled"),l.bind("isOn").to(a,"value"),l instanceof XU?l.set({role:"menuitemcheckbox"}):l.set({tooltip:!0}),r.listenTo(l,"execute",(()=>{t.execute(n),t.editing.view.focus()})),l}}const yq="bold";class wq extends $W{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.locale.t,n=bq({editor:e,commandName:yq,plugin:this,icon:lH.bold,label:t("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(yq,(()=>n(IU))),e.ui.componentFactory.add("menuBar:"+yq,(()=>n(XU)))}}class xq extends $W{static get requires(){return[vq,wq]}static get pluginName(){return"Bold"}}const _q="code";class Cq extends $W{static get pluginName(){return"CodeEditing"}static get requires(){return[$G]}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:_q}),e.model.schema.setAttributeProperties(_q,{isFormatting:!0,copyOnEnter:!1}),e.conversion.attributeToElement({model:_q,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),e.commands.add(_q,new mq(e,_q)),e.plugins.get($G).registerAttribute(_q),lq(e,_q,"code","ck-code_selected"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Move out of an inline code style"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}}const kq="code";class Sq extends $W{static get pluginName(){return"CodeUI"}init(){const e=this.editor,t=e.locale.t,n=bq({editor:e,commandName:kq,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',label:t("Code")});e.ui.componentFactory.add(kq,(()=>n(IU))),e.ui.componentFactory.add("menuBar:"+kq,(()=>n(XU)))}}class Aq extends $W{static get requires(){return[Cq,Sq]}static get pluginName(){return"Code"}}const Tq="italic";class Iq extends $W{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Tq}),e.model.schema.setAttributeProperties(Tq,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Tq,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Tq,new mq(e,Tq)),e.keystrokes.set("CTRL+I",Tq),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Italic text"),keystroke:"CTRL+I"}]})}}const Mq="italic";class Eq extends $W{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.locale.t,n=bq({editor:e,commandName:Mq,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:t("Italic")});e.ui.componentFactory.add(Mq,(()=>n(IU))),e.ui.componentFactory.add("menuBar:"+Mq,(()=>n(XU)))}}class Pq extends $W{static get requires(){return[Iq,Eq]}static get pluginName(){return"Italic"}}const Dq="strikethrough";class jq extends $W{static get pluginName(){return"StrikethroughEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Dq}),e.model.schema.setAttributeProperties(Dq,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Dq,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),e.commands.add(Dq,new mq(e,Dq)),e.keystrokes.set("CTRL+SHIFT+X","strikethrough"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Strikethrough text"),keystroke:"CTRL+SHIFT+X"}]})}}const Oq="strikethrough";class Rq extends $W{static get pluginName(){return"StrikethroughUI"}init(){const e=this.editor,t=e.locale.t,n=bq({editor:e,commandName:Oq,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",label:t("Strikethrough")});e.ui.componentFactory.add(Oq,(()=>n(IU))),e.ui.componentFactory.add("menuBar:"+Oq,(()=>n(XU)))}}class Lq extends $W{static get requires(){return[jq,Rq]}static get pluginName(){return"Strikethrough"}}const Nq="underline";class Bq extends $W{static get pluginName(){return"UnderlineEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Nq}),e.model.schema.setAttributeProperties(Nq,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Nq,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),e.commands.add(Nq,new mq(e,Nq)),e.keystrokes.set("CTRL+U","underline"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Underline text"),keystroke:"CTRL+U"}]})}}const Fq="underline";class zq extends $W{static get pluginName(){return"UnderlineUI"}init(){const e=this.editor,t=e.locale.t,n=bq({editor:e,commandName:Fq,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',label:t("Underline"),keystroke:"CTRL+U"});e.ui.componentFactory.add(Fq,(()=>n(IU))),e.ui.componentFactory.add("menuBar:"+Fq,(()=>n(XU)))}}class Vq extends $W{static get requires(){return[Bq,zq]}static get pluginName(){return"Underline"}}function*Wq(e,t){for(const n of t)n&&e.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}class Hq extends GW{execute(){this.editor.model.change((e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})}))}enterBlock(e){const t=this.editor.model,n=t.document.selection,r=t.schema,i=n.isCollapsed,o=n.getFirstRange(),s=o.start.parent,a=o.end.parent;if(r.isLimit(s)||r.isLimit(a))return i||s!=a||t.deleteContent(n),!1;if(i){const t=Wq(e.model.schema,n.getAttributes());return Uq(e,o.start),e.setSelectionAttribute(t),!0}{const r=!(o.start.isAtStart&&o.end.isAtEnd),i=s==a;if(t.deleteContent(n,{leaveUnmerged:r}),r){if(i)return Uq(e,n.focus),!0;e.setSelection(a,0)}}return!1}}function Uq(e,t){e.split(t),e.setSelection(t.parent.nextSibling,0)}const $q={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class Yq extends IB{constructor(e){super(e);const t=this.document;let n=!1;t.on("keydown",((e,t)=>{n=t.shiftKey})),t.on("beforeinput",((r,i)=>{if(!this.isEnabled)return;let o=i.inputType;Mj.isSafari&&n&&"insertParagraph"==o&&(o="insertLineBreak");const s=i.domEvent,a=$q[o];if(!a)return;const l=new MN(t,"enter",i.targetRanges[0]);t.fire(l,new MB(e,s,{isSoft:a.isSoft})),l.stop.called&&r.stop()}))}observe(){}stopObserving(){}}class Gq extends $W{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document,r=this.editor.t;t.addObserver(Yq),e.commands.add("enter",new Hq(e)),this.listenTo(n,"enter",((r,i)=>{n.isComposing||i.preventDefault(),i.isSoft||(e.execute("enter"),t.scrollToTheSelection())}),{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class qq extends GW{execute(){const e=this.editor.model,t=e.document;e.change((n=>{!function(e,t,n){const r=n.isCollapsed,i=n.getFirstRange(),o=i.start.parent,s=i.end.parent,a=o==s;if(r){const r=Wq(e.schema,n.getAttributes());Xq(e,t,i.end),t.removeSelectionAttribute(n.getAttributeKeys()),t.setSelectionAttribute(r)}else{const r=!(i.start.isAtStart&&i.end.isAtEnd);e.deleteContent(n,{leaveUnmerged:r}),a?Xq(e,t,n.focus):r&&t.setSelection(s,0)}}(e,n,t.selection),this.fire("afterExecute",{writer:n})}))}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(e,t){if(t.rangeCount>1)return!1;const n=t.anchor;if(!n||!e.checkChild(n,"softBreak"))return!1;const r=t.getFirstRange(),i=r.start.parent,o=r.end.parent;if((Zq(i,e)||Zq(o,e))&&i!==o)return!1;return!0}(e.schema,t.selection)}}function Xq(e,t,n){const r=t.createElement("softBreak");e.insertContent(r,n),t.setSelection(r,"after")}function Zq(e,t){return!e.is("rootElement")&&(t.isLimit(e)||Zq(e.parent,t))}class Kq extends $W{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,r=e.editing.view,i=r.document,o=this.editor.t;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(e,t)=>{let{writer:n}=t;return n.createEmptyElement("br")}}),r.addObserver(Yq),e.commands.add("shiftEnter",new qq(e)),this.listenTo(i,"enter",((t,n)=>{i.isComposing||n.preventDefault(),n.isSoft&&(e.execute("shiftEnter"),r.scrollToTheSelection())}),{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class Qq extends GW{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.schema,r=t.document.selection,i=Array.from(r.getSelectedBlocks()),o=void 0===e.forceValue?!this.value:e.forceValue;t.change((e=>{if(o){const t=i.filter((e=>Jq(e)||tX(n,e)));this._applyQuote(e,t)}else this._removeQuote(e,i.filter(Jq))}))}_getValue(){const e=PR(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!Jq(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=PR(e.getSelectedBlocks());return!!n&&tX(t,n)}_removeQuote(e,t){eX(e,t).reverse().forEach((t=>{if(t.start.isAtStart&&t.end.isAtEnd)return void e.unwrap(t.start.parent);if(t.start.isAtStart){const n=e.createPositionBefore(t.start.parent);return void e.move(t,n)}t.end.isAtEnd||e.split(t.end);const n=e.createPositionAfter(t.end.parent);e.move(t,n)}))}_applyQuote(e,t){const n=[];eX(e,t).reverse().forEach((t=>{let r=Jq(t.start);r||(r=e.createElement("blockQuote"),e.wrap(t,r)),n.push(r)})),n.reverse().reduce(((t,n)=>t.nextSibling==n?(e.merge(e.createPositionAfter(t)),t):n))}}function Jq(e){return"blockQuote"==e.parent.name?e.parent:null}function eX(e,t){let n,r=0;const i=[];for(;r<t.length;){const o=t[r],s=t[r+1];n||(n=e.createPositionBefore(o)),s&&o.nextSibling==s||(i.push(e.createRange(n,e.createPositionAfter(o))),n=null),r++}return i}function tX(e,t){const n=e.checkChild(t.parent,"blockQuote"),r=e.checkChild(["$root","blockQuote"],t);return n&&r}class nX extends $W{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Gq,VG]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new Qq(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer((n=>{const r=e.model.document.differ.getChanges();for(const e of r)if("insert"==e.type){const r=e.position.nodeAfter;if(!r)continue;if(r.is("element","blockQuote")&&r.isEmpty)return n.remove(r),!0;if(r.is("element","blockQuote")&&!t.checkChild(e.position,r))return n.unwrap(r),!0;if(r.is("element")){const e=n.createRangeIn(r);for(const r of e.getItems())if(r.is("element","blockQuote")&&!t.checkChild(n.createPositionBefore(r),r))return n.unwrap(r),!0}}else if("remove"==e.type){const t=e.position.parent;if(t.is("element","blockQuote")&&t.isEmpty)return n.remove(t),!0}return!1}));const n=this.editor.editing.view.document,r=e.model.document.selection,i=e.commands.get("blockQuote");this.listenTo(n,"enter",((t,n)=>{if(!r.isCollapsed||!i.value)return;r.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),n.preventDefault(),t.stop())}),{context:"blockquote"}),this.listenTo(n,"delete",((t,n)=>{if("backward"!=n.direction||!r.isCollapsed||!i.value)return;const o=r.getLastPosition().parent;o.isEmpty&&!o.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),n.preventDefault(),t.stop())}),{context:"blockquote"})}}class rX extends $W{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor;e.ui.componentFactory.add("blockQuote",(()=>{const e=this._createButton(IU);return e.set({tooltip:!0}),e})),e.ui.componentFactory.add("menuBar:blockQuote",(()=>{const e=this._createButton(XU);return e.set({role:"menuitemcheckbox"}),e}))}_createButton(e){const t=this.editor,n=t.locale,r=t.commands.get("blockQuote"),i=new e(t.locale),o=n.t;return i.set({label:o("Block quote"),icon:lH.quote,isToggleable:!0}),i.bind("isEnabled").to(r,"isEnabled"),i.bind("isOn").to(r,"value"),this.listenTo(i,"execute",(()=>{t.execute("blockQuote"),t.editing.view.focus()})),i}}class iX extends $W{static get requires(){return[nX,rX]}static get pluginName(){return"BlockQuote"}}Error;const oX=function(e,t){return e&&sj(e,t,UP)};const sX=function(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var l=(a=n[i])[0],c=e[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var d=new oP;if(r)var h=r(c,u,l,e,t,d);if(!(void 0===h?qL(u,c,3,r,d):h))return!1}}return!0};const aX=function(e){return e===e&&!NM(e)};const lX=function(e){for(var t=UP(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,aX(i)]}return t};const cX=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};const uX=function(e){var t=lX(e);return 1==t.length&&t[0][2]?cX(t[0][0],t[0][1]):function(n){return n===e||sX(n,e,t)}};const dX=function(e,t){return null!=e&&t in Object(e)};const hX=function(e,t,n){for(var r=-1,i=(t=iL(t,e)).length,o=!1;++r<i;){var s=sL(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&AP(i)&&SP(s,i)&&(KM(e)||bP(e))};const fX=function(e,t){return null!=e&&hX(e,t,dX)};const pX=function(e,t){return $R(e)&&aX(t)?cX(sL(e),t):function(n){var r=hL(n,e);return void 0===r&&r===t?fX(n,e):qL(t,r,3)}};const mX=function(e){return function(t){return null==t?void 0:t[e]}};const gX=function(e){return function(t){return aL(t,e)}};const vX=function(e){return $R(e)?mX(sL(e)):gX(e)};const bX=function(e){return"function"==typeof e?e:null==e?hj:"object"==typeof e?KM(e)?pX(e[0],e[1]):uX(e):vX(e)};const yX=function(e,t){var n={};return t=bX(t,3),oX(e,(function(e,r,i){lP(n,r,t(e,r,i))})),n};class wX extends(rO()){_stack=[];add(e,t){const n=this._stack,r=n[0];this._insertDescriptor(e);const i=n[0];r===i||xX(r,i)||this.fire("change:top",{oldDescriptor:r,newDescriptor:i,writer:t})}remove(e,t){const n=this._stack,r=n[0];this._removeDescriptor(e);const i=n[0];r===i||xX(r,i)||this.fire("change:top",{oldDescriptor:r,newDescriptor:i,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex((t=>t.id===e.id));if(xX(e,t[n]))return;n>-1&&t.splice(n,1);let r=0;for(;t[r]&&_X(t[r],e);)r++;t.splice(r,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex((t=>t.id===e));n>-1&&t.splice(n,1)}}function xX(e,t){return e&&t&&e.priority==t.priority&&CX(e.classes)==CX(t.classes)}function _X(e,t){return e.priority>t.priority||!(e.priority<t.priority)&&CX(e.classes)>CX(t.classes)}function CX(e){return Array.isArray(e)?e.sort().join(","):e}var kX='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';const SX="ck-widget",AX="ck-widget_selected";function TX(e){return!!e.is("element")&&!!e.getCustomProperty("widget")}function IX(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.is("containerElement"))throw new qj("widget-to-widget-wrong-element-type",null,{element:e});return t.setAttribute("contenteditable","false",e),t.addClass(SX,e),t.setCustomProperty("widget",!0,e),e.getFillerOffset=OX,t.setCustomProperty("widgetLabel",[],e),n.label&&function(e,t){const n=e.getCustomProperty("widgetLabel");n.push(t)}(e,n.label),n.hasSelectionHandle&&function(e,t){const n=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(e){const t=this.toDomElement(e),n=new AU;return n.set("content",kX),n.render(),t.appendChild(n.element),t}));t.insert(t.createPositionAt(e,0),n),t.addClass(["ck-widget_with-selection-handle"],e)}(e,t),PX(e,t),e}function MX(e,t,n){if(t.classes&&n.addClass(TR(t.classes),e),t.attributes)for(const r in t.attributes)n.setAttribute(r,t.attributes[r],e)}function EX(e,t,n){if(t.classes&&n.removeClass(TR(t.classes),e),t.attributes)for(const r in t.attributes)n.removeAttribute(r,e)}function PX(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:MX,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:EX;const i=new wX;i.on("change:top",((t,i)=>{i.oldDescriptor&&r(e,i.oldDescriptor,i.writer),i.newDescriptor&&n(e,i.newDescriptor,i.writer)}));t.setCustomProperty("addHighlight",((e,t,n)=>i.add(t,n)),e),t.setCustomProperty("removeHighlight",((e,t,n)=>i.remove(t,n)),e)}function DX(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],e),t.setAttribute("role","textbox",e),t.setAttribute("tabindex","-1",e),n.label&&t.setAttribute("aria-label",n.label,e),t.setAttribute("contenteditable",e.isReadOnly?"false":"true",e),e.on("change:isReadOnly",((n,r,i)=>{t.setAttribute("contenteditable",i?"false":"true",e)})),e.on("change:isFocused",((n,r,i)=>{i?t.addClass("ck-editor__nested-editable_focused",e):t.removeClass("ck-editor__nested-editable_focused",e)})),PX(e,t),e}function jX(e,t){const n=e.getSelectedElement();if(n){const r=BX(e);if(r)return t.createRange(t.createPositionAt(n,r))}return t.schema.findOptimalInsertionRange(e)}function OX(){return null}function RX(e){const t=e=>{const{width:t,paddingLeft:n,paddingRight:r}=e.ownerDocument.defaultView.getComputedStyle(e);return parseFloat(t)-(parseFloat(n)||0)-(parseFloat(r)||0)},n=e.parentElement;if(!n)return 0;let r=t(n);let i=0,o=n;for(;isNaN(r);){if(o=o.parentElement,++i>5)return 0;r=t(o)}return r}const LX="widget-type-around";function NX(e,t,n){return!!e&&TX(e)&&!n.isInline(t)}function BX(e){return e.getAttribute(LX)}const FX=["before","after"],zX=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,VX="ck-widget__type-around_disabled";class WX extends $W{_currentFakeCaretModelElement=null;static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Gq,VG]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",((n,r,i)=>{t.change((e=>{for(const n of t.document.roots)i?e.removeClass(VX,n):e.addClass(VX,n)})),i||e.model.change((e=>{e.removeSelectionAttribute(LX)}))})),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,r=n.editing.view,i=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:i}),r.focus(),r.scrollToTheSelection()}_listenToIfEnabled(e,t,n,r){var i=this;this.listenTo(e,t,(function(){i.isEnabled&&n(...arguments)}),r)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=BX(e);if(!t)return!1;const n=e.getSelectedElement();return this._insertParagraph(n,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,n=e.locale.t,r={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",((e,i,o)=>{const s=o.mapper.toViewElement(i.item);if(s&&NX(s,i.item,t)){!function(e,t,n){const r=e.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(e){const n=this.toDomElement(e);return function(e,t){for(const n of FX){const r=new eU({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${n}`],title:t[n],"aria-hidden":"true"},children:[e.ownerDocument.importNode(zX,!0)]});e.appendChild(r.render())}}(n,t),function(e){const t=new eU({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});e.appendChild(t.render())}(n),n}));e.insert(e.createPositionAt(n,"end"),r)}(o.writer,r,s);s.getCustomProperty("widgetLabel").push((()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))}}),{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,n=t.document.selection,r=t.schema,i=e.editing.view;function o(e){return`ck-widget_type-around_show-fake-caret_${e}`}this._listenToIfEnabled(i.document,"arrowKey",((e,t)=>{this._handleArrowKeyPress(e,t)}),{context:[TX,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",((t,n)=>{n.directChange&&e.model.change((e=>{e.removeSelectionAttribute(LX)}))})),this._listenToIfEnabled(t.document,"change:data",(()=>{const t=n.getSelectedElement();if(t){if(NX(e.editing.mapper.toViewElement(t),t,r))return}e.model.change((e=>{e.removeSelectionAttribute(LX)}))})),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",((e,t,n)=>{const i=n.writer;if(this._currentFakeCaretModelElement){const e=n.mapper.toViewElement(this._currentFakeCaretModelElement);e&&(i.removeClass(FX.map(o),e),this._currentFakeCaretModelElement=null)}const s=t.selection.getSelectedElement();if(!s)return;const a=n.mapper.toViewElement(s);if(!NX(a,s,r))return;const l=BX(t.selection);l&&(i.addClass(o(l),a),this._currentFakeCaretModelElement=s)})),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",((t,n,r)=>{r||e.model.change((e=>{e.removeSelectionAttribute(LX)}))}))}_handleArrowKeyPress(e,t){const n=this.editor,r=n.model,i=r.document.selection,o=r.schema,s=n.editing.view,a=function(e,t){const n=CR(e,t);return"down"===n||"right"===n}(t.keyCode,n.locale.contentLanguageDirection),l=s.document.selection.getSelectedElement();let c;NX(l,n.editing.mapper.toModelElement(l),o)?c=this._handleArrowKeyPressOnSelectedWidget(a):i.isCollapsed?c=this._handleArrowKeyPressWhenSelectionNextToAWidget(a):t.shiftKey||(c=this._handleArrowKeyPressWhenNonCollapsedSelection(a)),c&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,n=BX(t.document.selection);return t.change((t=>{if(!n)return t.setSelectionAttribute(LX,e?"after":"before"),!0;if(!(n===(e?"after":"before")))return t.removeSelectionAttribute(LX),!0;return!1}))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,n=t.model,r=n.schema,i=t.plugins.get("Widget"),o=i._getObjectElementNextToSelection(e);return!!NX(t.editing.mapper.toViewElement(o),o,r)&&(n.change((t=>{i._setSelectionOverElement(o),t.setSelectionAttribute(LX,e?"before":"after")})),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,n=t.model,r=n.schema,i=t.editing.mapper,o=n.document.selection,s=e?o.getLastPosition().nodeBefore:o.getFirstPosition().nodeAfter;return!!NX(i.toViewElement(s),s,r)&&(n.change((t=>{t.setSelection(s,"on"),t.setSelectionAttribute(LX,e?"after":"before")})),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",((n,r)=>{const i=r.domTarget.closest(".ck-widget__type-around__button");if(!i)return;const o=function(e){return e.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(i),s=function(e,t){const n=e.closest(".ck-widget");return t.mapDomToView(n)}(i,t.domConverter),a=e.editing.mapper.toModelElement(s);this._insertParagraph(a,o),r.preventDefault(),n.stop()}))}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,n=e.editing.view;this._listenToIfEnabled(n.document,"enter",((n,r)=>{if("atTarget"!=n.eventPhase)return;const i=t.getSelectedElement(),o=e.editing.mapper.toViewElement(i),s=e.model.schema;let a;this._insertParagraphAccordingToFakeCaretPosition()?a=!0:NX(o,i,s)&&(this._insertParagraph(i,r.isSoft?"before":"after"),a=!0),a&&(r.preventDefault(),n.stop())}),{context:TX})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",((t,n)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(n.selection=e.selection)}),{priority:"high"}),Mj.isAndroid?this._listenToIfEnabled(e,"keydown",((e,t)=>{229==t.keyCode&&this._insertParagraphAccordingToFakeCaretPosition()})):this._listenToIfEnabled(e,"compositionstart",(()=>{this._insertParagraphAccordingToFakeCaretPosition()}),{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,n=e.model,r=n.schema;this._listenToIfEnabled(t.document,"delete",((t,i)=>{if("atTarget"!=t.eventPhase)return;const o=BX(n.document.selection);if(!o)return;const s=i.direction,a=n.document.selection.getSelectedElement(),l="forward"==s;if("before"===o===l)e.execute("delete",{selection:n.createSelection(a,"on")});else{const t=r.getNearestSelectionRange(n.createPositionAt(a,o),s);if(t)if(t.isCollapsed){const i=n.createSelection(t.start);if(n.modifySelection(i,{direction:s}),i.focus.isEqual(t.start)){const e=function(e,t){let n=t;for(const r of t.getAncestors({parentFirst:!0})){if(r.childCount>1||e.isLimit(r))break;n=r}return n}(r,t.start.parent);n.deleteContent(n.createSelection(e,"on"),{doNotAutoparagraph:!0})}else n.change((n=>{n.setSelection(t),e.execute(l?"deleteForward":"delete")}))}else n.change((n=>{n.setSelection(t),e.execute(l?"deleteForward":"delete")}))}i.preventDefault(),t.stop()}),{context:TX})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",((e,r)=>{let[i,o]=r;if(o&&!o.is("documentSelection"))return;const s=BX(n);return s?(e.stop(),t.change((e=>{const r=n.getSelectedElement(),o=t.createPositionAt(r,s),a=e.createSelection(o),l=t.insertContent(i,a);return e.setSelection(a),l}))):void 0}),{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",((e,n)=>{const[,r,i={}]=n;if(r&&!r.is("documentSelection"))return;const o=BX(t);o&&(i.findOptimalPosition=o,n[3]=i)}),{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",((e,n)=>{let[r]=n;if(r&&!r.is("documentSelection"))return;BX(t)&&e.stop()}),{priority:"high"})}}function HX(e){const t=e.model;return(n,r)=>{const i=r.keyCode==bR.arrowup,o=r.keyCode==bR.arrowdown,s=r.shiftKey,a=t.document.selection;if(!i&&!o)return;const l=o;if(s&&function(e,t){return!e.isCollapsed&&e.isBackward==t}(a,l))return;const c=function(e,t,n){const r=e.model;if(n){const e=t.isCollapsed?t.focus:t.getLastPosition(),n=UX(r,e,"forward");if(!n)return null;const i=r.createRange(e,n),o=$X(r.schema,i,"backward");return o?r.createRange(e,o):null}{const e=t.isCollapsed?t.focus:t.getFirstPosition(),n=UX(r,e,"backward");if(!n)return null;const i=r.createRange(n,e),o=$X(r.schema,i,"forward");return o?r.createRange(o,e):null}}(e,a,l);if(c){if(c.isCollapsed){if(a.isCollapsed)return;if(s)return}(c.isCollapsed||function(e,t,n){const r=e.model,i=e.view.domConverter;if(n){const e=r.createSelection(t.start);r.modifySelection(e),e.focus.isAtEnd||t.start.isEqual(e.focus)||(t=r.createRange(e.focus,t.end))}const o=e.mapper.toViewRange(t),s=i.viewRangeToDom(o),a=HO.getDomRangeRects(s);let l;for(const c of a)if(void 0!==l){if(Math.round(c.top)>=l)return!1;l=Math.max(l,Math.round(c.bottom))}else l=Math.round(c.bottom);return!0}(e,c,l))&&(t.change((e=>{const n=l?c.end:c.start;if(s){const r=t.createSelection(a.anchor);r.setFocus(n),e.setSelection(r)}else e.setSelection(n)})),n.stop(),r.preventDefault(),r.stopPropagation())}}}function UX(e,t,n){const r=e.schema,i=e.createRangeIn(t.root),o="forward"==n?"elementStart":"elementEnd";for(const{previousPosition:s,item:a,type:l}of i.getWalker({startPosition:t,direction:n})){if(r.isLimit(a)&&!r.isInline(a))return s;if(l==o&&r.isBlock(a))return null}return null}function $X(e,t,n){const r="backward"==n?t.end:t.start;if(e.checkChild(r,"$text"))return r;for(const{nextPosition:i}of t.getWalker({direction:n}))if(e.checkChild(i,"$text"))return i;return null}class YX extends $W{_previouslySelected=(()=>new Set)();static get pluginName(){return"Widget"}static get requires(){return[WX,VG]}init(){var e=this;const t=this.editor,n=t.editing.view,r=n.document,i=t.t;this.editor.editing.downcastDispatcher.on("selection",((e,n,r)=>{const i=r.writer,o=n.selection;if(o.isCollapsed)return;const s=o.getSelectedElement();if(!s)return;const a=t.editing.mapper.toViewElement(s);var l;TX(a)&&(r.consumable.consume(o,"selection")&&i.setSelection(i.createRangeOn(a),{fake:!0,label:(l=a,l.getCustomProperty("widgetLabel").reduce(((e,t)=>"function"===typeof t?e?e+". "+t():t():e?e+". "+t:t),""))}))})),this.editor.editing.downcastDispatcher.on("selection",((e,t,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const r=n.writer,i=r.document.selection;let o=null;for(const s of i.getRanges())for(const e of s){const t=e.item;TX(t)&&!GX(t,o)&&(r.addClass(AX,t),this._previouslySelected.add(t),o=t)}}),{priority:"low"}),n.addObserver(YV),this.listenTo(r,"mousedown",(function(){return e._onMousedown(...arguments)})),this.listenTo(r,"arrowKey",(function(){e._handleSelectionChangeOnArrowKeyPress(...arguments)}),{context:[TX,"$text"]}),this.listenTo(r,"arrowKey",(function(){e._preventDefaultOnArrowKeyPress(...arguments)}),{context:"$root"}),this.listenTo(r,"arrowKey",HX(this.editor.editing),{context:"$text"}),this.listenTo(r,"delete",((e,t)=>{this._handleDelete("forward"==t.direction)&&(t.preventDefault(),e.stop())}),{context:"$root"}),this.listenTo(r,"tab",((e,t)=>{"atTarget"==e.eventPhase&&(t.shiftKey||this._selectFirstNestedEditable()&&(t.preventDefault(),e.stop()))}),{context:TX,priority:"low"}),this.listenTo(r,"tab",((e,t)=>{t.shiftKey&&this._selectAncestorWidget()&&(t.preventDefault(),e.stop())}),{priority:"low"}),this.listenTo(r,"keydown",((e,t)=>{t.keystroke==bR.esc&&this._selectAncestorWidget()&&(t.preventDefault(),e.stop())}),{priority:"low"}),t.accessibility.addKeystrokeInfoGroup({id:"widget",label:i("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:i("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:i("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:i("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:i("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:i("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){const n=this.editor,r=n.editing.view,i=r.document;let o=t.target;if(!o)return;if(t.domEvent.detail>=3)return void(this._selectBlockContent(o)&&t.preventDefault());if(!TX(o)){const e=function(e){let t=e;for(;t;){if(t.is("editableElement")||TX(t))return t;t=t.parent}return null}(o);if(!e)return;if(TX(e))o=e;else{const e=function(e,t){const n=BO(t.domEvent);let r=null;r=n?e.domConverter.domRangeToView(n):e.createRange(e.createPositionAt(t.target,0));if(!r)return null;const i=r.start;if(!i.parent)return null;let o=i.parent;i.parent.is("editableElement")&&(i.isAtEnd&&i.nodeBefore?o=i.nodeBefore:i.isAtStart&&i.nodeAfter&&(o=i.nodeAfter));if(o.is("$text"))return o.parent;return o}(r,t);if(!e||!TX(e))return;o=e}}Mj.isAndroid&&t.preventDefault(),i.isFocused||r.focus();const s=n.editing.mapper.toModelElement(o);this._setSelectionOverElement(s)}_selectBlockContent(e){const t=this.editor,n=t.model,r=t.editing.mapper,i=n.schema,o=r.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),s=function(e,t){for(const n of e.getAncestors({includeSelf:!0,parentFirst:!0})){if(t.checkChild(n,"$text"))return n;if(t.isLimit(n)&&!t.isObject(n))break}return null}(r.toModelElement(o),n.schema);return!!s&&(n.change((e=>{const t=i.isLimit(s)?null:function(e,t){const n=new ZB({startPosition:e});for(const{item:r}of n){if(t.isLimit(r)||!r.is("element"))return null;if(t.checkChild(r,"$text"))return r}return null}(e.createPositionAfter(s),i),n=e.createPositionAt(s,0),r=t?e.createPositionAt(t,0):e.createPositionAt(s,"end");e.setSelection(e.createRange(n,r))})),!0)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode,r=this.editor.model,i=r.schema,o=r.document.selection,s=o.getSelectedElement(),a=CR(n,this.editor.locale.contentLanguageDirection),l="down"==a||"right"==a,c="up"==a||"down"==a;if(s&&i.isObject(s)){const n=l?o.getLastPosition():o.getFirstPosition(),s=i.getNearestSelectionRange(n,l?"forward":"backward");return void(s&&(r.change((e=>{e.setSelection(s)})),t.preventDefault(),e.stop()))}if(!o.isCollapsed&&!t.shiftKey){const n=o.getFirstPosition(),s=o.getLastPosition(),a=n.nodeAfter,c=s.nodeBefore;return void((a&&i.isObject(a)||c&&i.isObject(c))&&(r.change((e=>{e.setSelection(l?s:n)})),t.preventDefault(),e.stop()))}if(!o.isCollapsed)return;const u=this._getObjectElementNextToSelection(l);if(u&&i.isObject(u)){if(i.isInline(u)&&c)return;this._setSelectionOverElement(u),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model,r=n.schema,i=n.document.selection.getSelectedElement();i&&r.isObject(i)&&(t.preventDefault(),e.stop())}_handleDelete(e){const t=this.editor.model.document.selection;if(!this.editor.model.canEditAt(t))return;if(!t.isCollapsed)return;const n=this._getObjectElementNextToSelection(e);return n?(this.editor.model.change((e=>{let r=t.anchor.parent;for(;r.isEmpty;){const t=r;r=t.parent,e.remove(t)}this._setSelectionOverElement(n)})),!0):void 0}_setSelectionOverElement(e){this.editor.model.change((t=>{t.setSelection(t.createRangeOn(e))}))}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,r=t.document.selection,i=t.createSelection(r);if(t.modifySelection(i,{direction:e?"forward":"backward"}),i.isEqual(r))return null;const o=e?i.focus.nodeBefore:i.focus.nodeAfter;return o&&n.isObject(o)?o:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(AX,t);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,t=this.editor.editing.view.document;for(const n of t.selection.getFirstRange().getItems())if(n.is("editableElement")){const t=e.editing.mapper.toModelElement(n);if(!t)continue;const r=e.model.createPositionAt(t,0),i=e.model.schema.getNearestSelectionRange(r,"forward");return e.model.change((e=>{e.setSelection(i)})),!0}return!1}_selectAncestorWidget(){const e=this.editor,t=e.editing.mapper,n=e.editing.view.document.selection.getFirstPosition().parent,r=(n.is("$text")?n.parent:n).findAncestor(TX);if(!r)return!1;const i=t.toModelElement(r);return!!i&&(e.model.change((e=>{e.setSelection(i,"on")})),!0)}}function GX(e,t){return!!t&&Array.from(e.getAncestors()).includes(t)}class qX extends $W{_toolbarDefinitions=(()=>new Map)();_balloon;static get requires(){return[qY]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",(t=>{(function(e){const t=e.getSelectedElement();return!(!t||!TX(t))})(e.editing.view.document.selection)&&t.stop()}),{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(()=>{this._updateToolbarsVisibility()})),this.listenTo(e.ui,"update",(()=>{this._updateToolbarsVisibility()})),this.listenTo(e.ui.focusTracker,"change:isFocused",(()=>{this._updateToolbarsVisibility()}),{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,t){let{ariaLabel:n,items:r,getRelatedElement:i,balloonClassName:o="ck-toolbar-container"}=t;if(!r.length)return void Xj("widget-toolbar-no-items",{toolbarId:e});const s=this.editor,a=s.t,l=new L$(s.locale);if(l.ariaLabel=n||a("Widget toolbar"),this._toolbarDefinitions.has(e))throw new qj("widget-toolbar-duplicated",this,{toolbarId:e});const c={view:l,getRelatedElement:i,balloonClassName:o,itemsConfig:r,initialized:!1};s.ui.addToolbar(l,{isContextual:!0,beforeFocus:()=>{const e=i(s.editing.view.document.selection);e&&this._showToolbar(c,e)},afterBlur:()=>{this._hideToolbar(c)}}),this._toolbarDefinitions.set(e,c)}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const r of this._toolbarDefinitions.values()){const i=r.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&i)if(this.editor.ui.focusTracker.isFocused){const o=i.getAncestors().length;o>e&&(e=o,t=i,n=r)}else this._isToolbarVisible(r)&&this._hideToolbar(r);else this._isToolbarInBalloon(r)&&this._hideToolbar(r)}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?XX(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:ZX(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(()=>{for(const e of this._toolbarDefinitions.values())if(this._isToolbarVisible(e)){const t=e.getRelatedElement(this.editor.editing.view.document.selection);XX(this.editor,t)}})))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function XX(e,t){const n=e.plugins.get("ContextualBalloon"),r=ZX(e,t);n.updatePosition(r)}function ZX(e,t){const n=e.editing.view,r=E$.defaultPositions;return{target:n.domConverter.mapViewToDom(t),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,r.viewportStickyNorth]}}class KX extends(vO()){_referenceCoordinates;_options;_originalWidth;_originalHeight;_originalWidthPercents;_aspectRatio;constructor(e){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(e,t,n){const r=new HO(t);this.activeHandlePosition=function(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const n of t)if(e.classList.contains(QX(n)))return n}(e),this._referenceCoordinates=function(e,t){const n=new HO(e),r=t.split("-"),i={x:"right"==r[1]?n.right:n.left,y:"bottom"==r[0]?n.bottom:n.top};return i.x+=e.ownerDocument.defaultView.scrollX,i.y+=e.ownerDocument.defaultView.scrollY,i}(t,function(e){const t=e.split("-"),n={top:"bottom",bottom:"top",left:"right",right:"left"};return`${n[t[0]]}-${n[t[1]]}`}(this.activeHandlePosition)),this._originalWidth=r.width,this._originalHeight=r.height,this._aspectRatio=r.width/r.height;const i=n.style.width;i&&i.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(i):this._originalWidthPercents=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new HO(e);const n=RX(e);return n?t.width/n*100:0}(n,r)}update(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}function QX(e){return`ck-widget__resizer__handle-${e}`}class JX extends xU{constructor(){super();const e=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("_viewPosition",(e=>e?`ck-orientation-${e}`:""))],style:{display:e.if("_isVisible","none",(e=>!e))}},children:[{text:e.to("_label")}]})}_bindToState(e,t){this.bind("_isVisible").to(t,"proposedWidth",t,"proposedHeight",((e,t)=>null!==e&&null!==t)),this.bind("_label").to(t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",t,"proposedWidthPercents",((t,n,r)=>"px"===e.unit?`${t}\xd7${n}`:`${r}%`)),this.bind("_viewPosition").to(t,"activeHandlePosition",t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",((e,t,n)=>t<50||n<50?"above-center":e))}_dismiss(){this.unbind(),this._isVisible=!1}}class eZ extends(vO()){_state;_sizeView;_options;_viewResizerWrapper=null;_initialViewWidth;constructor(e){super(),this._options=e,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",((e,t)=>e&&t)),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",(e=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),e.stop())}),{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change((e=>{e.removeClass("ck-hidden",this._viewResizerWrapper)}))}hide(){this._options.editor.editing.view.change((e=>{e.addClass("ck-hidden",this._viewResizerWrapper)}))}attach(){const e=this,t=this._options.viewElement;this._options.editor.editing.view.change((n=>{const r=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},(function(t){const n=this.toDomElement(t);return e._appendHandles(n),e._appendSizeUI(n),n}));n.insert(n.createPositionAt(t,"end"),r),n.addClass("ck-widget_with-resizer",t),this._viewResizerWrapper=r,this.isVisible||this.hide()})),this.on("change:isVisible",(()=>{this.isVisible?(this.show(),this.redraw()):this.hide()}))}begin(e){this._state=new KX(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const t=this._proposeNewSize(e);this._options.editor.editing.view.change((e=>{const n=this._options.unit||"%",r=("%"===n?t.widthPercents:t.width)+n;e.setStyle("width",r,this._options.viewElement)}));const n=this._getHandleHost(),r=new HO(n),i=Math.round(r.width),o=Math.round(r.height),s=new HO(n);t.width=Math.round(s.width),t.height=Math.round(s.height),this.redraw(r),this.state.update({...t,handleHostWidth:i,handleHostHeight:o})}commit(){const e=this._options.unit||"%",t=("%"===e?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change((()=>{this._cleanup(),this._options.onCommit(t)}))}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const t=this._domResizerWrapper;if(!((n=t)&&n.ownerDocument&&n.ownerDocument.contains(n)))return;var n;const r=t.parentElement,i=this._getHandleHost(),o=this._viewResizerWrapper,s=[o.getStyle("width"),o.getStyle("height"),o.getStyle("left"),o.getStyle("top")];let a;if(r.isSameNode(i)){const t=e||new HO(i);a=[t.width+"px",t.height+"px",void 0,void 0]}else a=[i.offsetWidth+"px",i.offsetHeight+"px",i.offsetLeft+"px",i.offsetTop+"px"];"same"!==kO(s,a)&&this._options.editor.editing.view.change((e=>{e.setStyle({width:a[0],height:a[1],left:a[2],top:a[3]},o)}))}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss();this._options.editor.editing.view.change((e=>{e.setStyle("width",this._initialViewWidth,this._options.viewElement)}))}_proposeNewSize(e){const t=this.state,n={x:(r=e).pageX,y:r.pageY};var r;const i=!this._options.isCentered||this._options.isCentered(this),o={x:t._referenceCoordinates.x-(n.x+t.originalWidth),y:n.y-t.originalHeight-t._referenceCoordinates.y};i&&t.activeHandlePosition.endsWith("-right")&&(o.x=n.x-(t._referenceCoordinates.x+t.originalWidth)),i&&(o.x*=2);let s=Math.abs(t.originalWidth+o.x),a=Math.abs(t.originalHeight+o.y);return"width"==(s/t.aspectRatio>a?"width":"height")?a=s/t.aspectRatio:s=a*t.aspectRatio,{width:Math.round(s),height:Math.round(a),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*s*100)/100,100)}}_getResizeHost(){const e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}_getHandleHost(){const e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const r of t)e.appendChild(new eU({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(n=r,`ck-widget__resizer__handle-${n}`)}}).render());var n}_appendSizeUI(e){this._sizeView=new JX,this._sizeView.render(),e.appendChild(this._sizeView.element)}}class tZ extends $W{_resizers=(()=>new Map)();_observer;_redrawSelectedResizerThrottled;static get pluginName(){return"WidgetResize"}init(){const e=this.editor.editing,t=Aj.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),e.view.addObserver(YV),this._observer=new(jO()),this.listenTo(e.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(t,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(t,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=OW((()=>this.redrawSelectedResizer()),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",(()=>{for(const[e,t]of this._resizers)e.isAttached()||(this._resizers.delete(e),t.destroy())}),{priority:"lowest"}),this._observer.listenTo(Aj.window,"resize",this._redrawSelectedResizerThrottled);const n=this.editor.editing.view.document.selection;n.on("change",(()=>{const e=n.getSelectedElement(),t=this.getResizerByViewElement(e)||null;t?this.select(t):this.deselect()}))}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const e of this._resizers.values())e.destroy();this._redrawSelectedResizerThrottled.cancel()}select(e){this.deselect(),this.selectedResizer=e,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(e){const t=new eZ(e),n=this.editor.plugins;if(t.attach(),n.has("WidgetToolbarRepository")){const e=n.get("WidgetToolbarRepository");t.on("begin",(()=>{e.forceDisabled("resize")}),{priority:"lowest"}),t.on("cancel",(()=>{e.clearForceDisabled("resize")}),{priority:"highest"}),t.on("commit",(()=>{e.clearForceDisabled("resize")}),{priority:"highest"})}this._resizers.set(e.viewElement,t);const r=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(r)==t&&this.select(t),t}getResizerByViewElement(e){return this._resizers.get(e)}_getResizerByHandle(e){for(const t of this._resizers.values())if(t.containsHandle(e))return t}_mouseDownListener(e,t){const n=t.domTarget;eZ.isResizeHandle(n)&&(this._activeResizer=this._getResizerByHandle(n)||null,this._activeResizer&&(this._activeResizer.begin(n),e.stop(),t.preventDefault()))}_mouseMoveListener(e,t){this._activeResizer&&this._activeResizer.updateSize(t)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}class nZ extends EB{domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];constructor(e){super(e);const t=this.document;function n(e){return(n,r)=>{r.preventDefault();const i=r.dropRange?[r.dropRange]:null,o=new Wj(t,e);t.fire(o,{dataTransfer:r.dataTransfer,method:n.name,targetRanges:i,target:r.target,domEvent:r.domEvent}),o.stop.called&&r.stopPropagation()}}this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",n("dragging"),{priority:"low"})}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,n="drop"==e.type||"paste"==e.type,r={dataTransfer:new BB(t,{cacheFiles:n})};if("drop"==e.type||"dragover"==e.type){const t=BO(e);r.dropRange=t&&this.view.domConverter.domRangeToView(t)}this.fire(e.type,e,r)}}const rZ=["figcaption","li"],iZ=["ol","ul"];function oZ(e){if(e.is("$text")||e.is("$textProxy"))return e.data;if(e.is("element","img")&&e.hasAttribute("alt"))return e.getAttribute("alt");if(e.is("element","br"))return"\n";let t="",n=null;for(const r of e.getChildren())t+=sZ(r,n)+oZ(r),n=r;return t}function sZ(e,t){return t?e.is("element","li")&&!e.isEmpty&&e.getChild(0).is("containerElement")||iZ.includes(e.name)&&iZ.includes(t.name)?"\n\n":e.is("containerElement")||t.is("containerElement")?rZ.includes(e.name)||rZ.includes(t.name)?"\n":e.is("element")&&e.getCustomProperty("dataPipeline:transparentRendering")||t.is("element")&&t.getCustomProperty("dataPipeline:transparentRendering")?"":"\n\n":"":""}class aZ extends $W{_markersToCopy=(()=>new Map)();static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,t){this._markersToCopy.set(e,t)}_copySelectedFragmentWithMarkers(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e.model.getSelectedContent(e.model.document.selection);return this.editor.model.change((r=>{const i=r.model.document.selection;r.setSelection(t);const o=this._insertFakeMarkersIntoSelection(r,r.model.document.selection,e),s=n(r),a=this._removeFakeMarkersInsideElement(r,s);for(const[e,t]of Object.entries(o)){a[e]||=r.createRangeIn(s);for(const e of t)r.remove(e)}s.markers.clear();for(const[e,t]of Object.entries(a))s.markers.set(e,t);return r.setSelection(i),s}))}_pasteMarkersIntoTransformedElement(e,t){const n=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change((e=>{const r=this._insertFakeMarkersElements(e,n),i=t(e),o=this._removeFakeMarkersInsideElement(e,i);for(const t of Object.values(r).flat())e.remove(t);for(const[t,n]of Object.entries(o))e.model.markers.has(t)||e.addMarker(t,{usingOperation:!0,affectsData:!0,range:n});return i}))}_pasteFragmentWithMarkers(e){const t=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const n of t)e.markers.set(n.name,n.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0};const r=this._markersToCopy.get(e);this._markersToCopy.set(e,n),t(),r?this._markersToCopy.set(e,r):this._markersToCopy.delete(e)}_isMarkerCopyable(e,t){const n=this._getMarkerClipboardConfig(e);if(!n)return!1;if(!t)return!0;const{allowedActions:r}=n;return"all"===r||r.includes(t)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[t]=e.split(":");return this._markersToCopy.get(t)||null}_insertFakeMarkersIntoSelection(e,t,n){const r=this._getCopyableMarkersFromSelection(e,t,n);return this._insertFakeMarkersElements(e,r)}_getCopyableMarkersFromSelection(e,t,n){const r=Array.from(t.getRanges()),i=new Set(r.flatMap((t=>Array.from(e.model.markers.getMarkersIntersectingRange(t)))));return Array.from(i).filter((e=>{if(!this._isMarkerCopyable(e.name,n))return!1;const{copyPartiallySelected:t}=this._getMarkerClipboardConfig(e.name);if(!t){const t=e.getRange();return r.some((e=>e.containsRange(t,!0)))}return!0})).map((e=>({name:"dragstart"===n?this._getUniqueMarkerName(e.name):e.name,range:e.getRange()})))}_getPasteMarkersFromRangeMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{model:n}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap((e=>{let[r,i]=e;if(!this._hasMarkerConfiguration(r))return[{name:r,range:i}];if(this._isMarkerCopyable(r,t)){const e=this._getMarkerClipboardConfig(r),t=n.markers.has(r)&&"$graveyard"===n.markers.get(r).getRange().root.rootName;return(e.duplicateOnPaste||t)&&(r=this._getUniqueMarkerName(r)),[{name:r,range:i}]}return[]}))}_insertFakeMarkersElements(e,t){const n={},r=t.flatMap((e=>{const{start:t,end:n}=e.range;return[{position:t,marker:e,type:"start"},{position:n,marker:e,type:"end"}]})).sort(((e,t)=>{let{position:n}=e,{position:r}=t;return n.isBefore(r)?1:-1}));for(const{position:i,marker:o,type:s}of r){const t=e.createElement("$marker",{"data-name":o.name,"data-type":s});n[o.name]||(n[o.name]=[]),n[o.name].push(t),e.insert(t,i)}return n}_removeFakeMarkersInsideElement(e,t){const n=this._getAllFakeMarkersFromElement(e,t).reduce(((t,n)=>{const r=n.markerElement&&e.createPositionBefore(n.markerElement);let i=t[n.name],o=!1;if(i&&i.start&&i.end){this._getMarkerClipboardConfig(n.name).duplicateOnPaste?t[this._getUniqueMarkerName(n.name)]=t[n.name]:o=!0,i=null}return o||(t[n.name]={...i,[n.type]:r}),n.markerElement&&e.remove(n.markerElement),t}),{});return yX(n,(n=>new iF(n.start||e.createPositionFromPath(t,[0]),n.end||e.createPositionAt(t,"end"))))}_getAllFakeMarkersFromElement(e,t){const n=Array.from(e.createRangeIn(t)).flatMap((e=>{let{item:t}=e;if(!t.is("element","$marker"))return[];const n=t.getAttribute("data-name"),r=t.getAttribute("data-type");return[{markerElement:t,name:n,type:r}]})),r=[],i=[];for(const o of n){if("end"===o.type){n.some((e=>e.name===o.name&&"start"===e.type))||r.push({markerElement:null,name:o.name,type:"start"})}if("start"===o.type){n.some((e=>e.name===o.name&&"end"===e.type))||i.unshift({markerElement:null,name:o.name,type:"end"})}}return[...r,...n,...i]}_getUniqueMarkerName(e){const t=e.split(":"),n=Uj().substring(1,6);return 3===t.length?`${t.slice(0,2).join(":")}:${n}`:`${t.join(":")}:${n}`}}class lZ extends $W{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[aZ]}init(){this.editor.editing.view.addObserver(nZ),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,n){const r=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:"cut"===n},(()=>{const i=r._copySelectedFragmentWithMarkers(n,t);this.fire("outputTransformation",{dataTransfer:e,content:i,method:n})}))}_setupPasteDrop(){const e=this.editor,t=e.model,n=e.editing.view,r=n.document,i=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(r,"clipboardInput",((t,n)=>{"paste"!=n.method||e.model.canEditAt(e.model.document.selection)||t.stop()}),{priority:"highest"}),this.listenTo(r,"clipboardInput",((e,t)=>{const r=t.dataTransfer;let i;if(t.content)i=t.content;else{let e="";r.getData("text/html")?e=function(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((e,t)=>1==t.length?" ":t)).replace(/<!--[\s\S]*?-->/g,"")}(r.getData("text/html")):r.getData("text/plain")&&(((o=(o=r.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||o.includes("<br>"))&&(o=`<p>${o}</p>`),e=o),i=this.editor.data.htmlProcessor.toView(e)}var o;const s=new Wj(this,"inputTransformation");this.fire(s,{content:i,dataTransfer:r,targetRanges:t.targetRanges,method:t.method}),s.stop.called&&e.stop(),n.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",((e,n)=>{if(n.content.isEmpty)return;const r=this.editor.data.toModel(n.content,"$clipboardHolder");0!=r.childCount&&(e.stop(),t.change((()=>{this.fire("contentInsertion",{content:r,method:n.method,dataTransfer:n.dataTransfer,targetRanges:n.targetRanges})})))}),{priority:"low"}),this.listenTo(this,"contentInsertion",((e,t)=>{t.resultRange=i._pasteFragmentWithMarkers(t.content)}),{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,n=e.editing.view.document,r=(e,n)=>{const r=n.dataTransfer;n.preventDefault(),this._fireOutputTransformationEvent(r,t.selection,e.name)};this.listenTo(n,"copy",r,{priority:"low"}),this.listenTo(n,"cut",((t,n)=>{e.model.canEditAt(e.model.document.selection)?r(t,n):n.preventDefault()}),{priority:"low"}),this.listenTo(this,"outputTransformation",((t,r)=>{const i=e.data.toView(r.content);n.fire("clipboardOutput",{dataTransfer:r.dataTransfer,content:i,method:r.method})}),{priority:"low"}),this.listenTo(n,"clipboardOutput",((n,r)=>{r.content.isEmpty||(r.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(r.content)),r.dataTransfer.setData("text/plain",oZ(r.content))),"cut"==r.method&&e.model.deleteContent(t.selection)}),{priority:"low"})}}const cZ=ZO("px");class uZ extends xU{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",(e=>!e))],style:{left:e.to("left",(e=>cZ(e))),top:e.to("top",(e=>cZ(e))),width:e.to("width",(e=>cZ(e)))}}})}}class dZ extends $W{removeDropMarkerDelayed=(()=>RR((()=>this.removeDropMarker()),40))();_updateDropMarkerThrottled=(()=>OW((e=>this._updateDropMarker(e)),40))();_reconvertMarkerThrottled=(()=>OW((()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")}),0))();_dropTargetLineView=(()=>new uZ)();_domEmitter=(()=>new(jO()))();_scrollables=(()=>new Map)();static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,n,r,i,o){this.removeDropMarkerDelayed.cancel();const s=hZ(this.editor,e,t,n,r,i,o);if(s)return o&&o.containsRange(s)?this.removeDropMarker():void this._updateDropMarkerThrottled(s)}getFinalDropRange(e,t,n,r,i,o){const s=hZ(this.editor,e,t,n,r,i,o);return this.removeDropMarker(),s}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change((e=>{e.removeMarker("drop-target")}))}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,n)=>{let{writer:r}=n;if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(r);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,n=t.model.markers;t.model.change((t=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||t.updateMarker("drop-target",{range:e}):t.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})}))}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},(function(e){const t=this.toDomElement(e);return t.append("\u2060",e.createElement("span"),"\u2060"),t}))}_updateDropTargetLine(e){const t=this.editor.editing,n=e.start.nodeBefore,r=e.start.nodeAfter,i=e.start.parent,o=n?t.mapper.toViewElement(n):null,s=o?t.view.domConverter.mapViewToDom(o):null,a=r?t.mapper.toViewElement(r):null,l=a?t.view.domConverter.mapViewToDom(a):null,c=t.mapper.toViewElement(i);if(!c)return;const u=t.view.domConverter.mapViewToDom(c),d=this._getScrollableRect(c),{scrollX:h,scrollY:f}=Aj.window,p=s?new HO(s):null,m=l?new HO(l):null,g=new HO(u).excludeScrollbarsAndBorders(),v=p?p.bottom:g.top,b=m?m.top:g.bottom,y=Aj.window.getComputedStyle(u),w=v<=b?(v+b)/2:b;if(d.top<w&&w<d.bottom){const e=g.left+parseFloat(y.paddingLeft),t=g.right-parseFloat(y.paddingRight),n=Math.max(e+h,d.left),r=Math.min(t+h,d.right);this._dropTargetLineView.set({isVisible:!0,left:n,top:w+f,width:r-n})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let n;if(this._scrollables.has(t))n=this._scrollables.get(t).domElement;else{n=function(e){let t=e;do{t=t.parentElement;const e=Aj.window.getComputedStyle(t).overflowY;if("auto"==e||"scroll"==e)break}while("BODY"!=t.tagName);return t}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const r=new qO(n,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:n,resizeObserver:r})}return new HO(n).excludeScrollbarsAndBorders()}}function hZ(e,t,n,r,i,o,s){const a=e.model,l=e.editing.mapper;let c=gZ(e,t);for(;c;){if(!o)if(a.schema.checkChild(c,"$text")){if(n){const t=n[0].start,o=l.toModelPosition(t);if(!s||Array.from(s.getItems()).every((e=>a.schema.checkChild(o,e)))){if(a.schema.checkChild(o,"$text"))return a.createRange(o);if(t)return pZ(e,gZ(e,t.parent),r,i)}}}else if(a.schema.isInline(c))return pZ(e,c,r,i);if(a.schema.isBlock(c))return pZ(e,c,r,i);if(a.schema.checkChild(c,"$block")){const t=Array.from(c.getChildren()).filter((t=>t.is("element")&&!fZ(e,t)));let n=0,o=t.length;if(0==o)return a.createRange(a.createPositionAt(c,"end"));for(;n<o-1;){const s=Math.floor((n+o)/2);"before"==mZ(e,t[s],r,i)?o=s:n=s}return pZ(e,t[n],r,i)}c=c.parent}return null}function fZ(e,t){const n=e.editing.mapper,r=e.editing.view.domConverter,i=n.toViewElement(t);if(!i)return!0;const o=r.mapViewToDom(i);return"none"!=Aj.window.getComputedStyle(o).float}function pZ(e,t,n,r){const i=e.model;return i.createRange(i.createPositionAt(t,mZ(e,t,n,r)))}function mZ(e,t,n,r){const i=e.editing.mapper,o=e.editing.view.domConverter,s=i.toViewElement(t),a=o.mapViewToDom(s),l=new HO(a);return e.model.schema.isInline(t)?n<(l.left+l.right)/2?"before":"after":r<(l.top+l.bottom)/2?"before":"after"}function gZ(e,t){const n=e.editing.mapper,r=e.editing.view,i=n.toModelElement(t);if(i)return i;const o=r.createPositionBefore(t),s=n.findMappedViewAncestor(o);return n.toModelElement(s)}class vZ extends $W{_isBlockDragging=!1;_domEmitter=(()=>new(jO()))();static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",((e,t,n)=>{n?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")})),Mj.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const t=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(t,"dragstart",((e,t)=>this._handleBlockDragStart(t))),this._domEmitter.listenTo(Aj.document,"dragover",((e,t)=>this._handleBlockDragging(t))),this._domEmitter.listenTo(Aj.document,"drop",((e,t)=>this._handleBlockDragging(t))),this._domEmitter.listenTo(Aj.document,"dragend",(()=>this._handleBlockDragEnd()),{useCapture:!0}),this.isEnabled&&t.setAttribute("draggable","true"),this.on("change:isEnabled",((e,n,r)=>{t.setAttribute("draggable",r?"true":"false")}))}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,n=t.document.selection,r=this.editor.editing.view,i=Array.from(n.getSelectedBlocks()),o=t.createRange(t.createPositionBefore(i[0]),t.createPositionAfter(i[i.length-1]));t.change((e=>e.setSelection(o))),this._isBlockDragging=!0,r.focus(),r.getObserver(nZ).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+("ltr"==this.editor.locale.contentLanguageDirection?100:-100),n=e.clientY,r=document.elementFromPoint(t,n),i=this.editor.editing.view;r&&r.closest(".ck-editor__editable")&&i.getObserver(nZ).onDomEvent({...e,type:e.type,dataTransfer:e.dataTransfer,target:r,clientX:t,clientY:n,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}class bZ extends $W{_draggedRange;_draggingUid;_draggableElement;_clearDraggableAttributesDelayed=(()=>RR((()=>this._clearDraggableAttributes()),40))();_blockMode=!1;_domEmitter=(()=>new(jO()))();_previewContainer;static get pluginName(){return"DragDrop"}static get requires(){return[lZ,YX,dZ,vZ]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(nZ),t.addObserver(YV),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",((e,t,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})),this.on("change:isEnabled",((e,t,n)=>{n||this._finalizeDragging(!1)})),Mj.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,n=e.editing.view,r=n.document,i=e.plugins.get(dZ);this.listenTo(r,"dragstart",((e,n)=>{if(n.target&&n.target.is("editableElement"))return void n.preventDefault();if(this._prepareDraggedRange(n.target),!this._draggedRange)return void n.preventDefault();this._draggingUid=Uj(),n.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",n.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const r=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(n.dataTransfer,r,"dragstart");const{dataTransfer:i,domTarget:o,domEvent:s}=n,{clientX:a}=s;this._updatePreview({dataTransfer:i,domTarget:o,clientX:a}),n.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")}),{priority:"low"}),this.listenTo(r,"dragend",((e,t)=>{this._finalizeDragging(!t.dataTransfer.isCanceled&&"move"==t.dataTransfer.dropEffect)}),{priority:"low"}),this._domEmitter.listenTo(Aj.document,"dragend",(()=>{this._blockMode=!1}),{useCapture:!0}),this.listenTo(r,"dragenter",(()=>{this.isEnabled&&n.focus()})),this.listenTo(r,"dragleave",(()=>{i.removeDropMarkerDelayed()})),this.listenTo(r,"dragging",((e,t)=>{if(!this.isEnabled)return void(t.dataTransfer.dropEffect="none");const{clientX:n,clientY:r}=t.domEvent;i.updateDropMarker(t.target,t.targetRanges,n,r,this._blockMode,this._draggedRange),this._draggedRange||(t.dataTransfer.dropEffect="copy"),Mj.isGecko||("copy"==t.dataTransfer.effectAllowed?t.dataTransfer.dropEffect="copy":["all","copyMove"].includes(t.dataTransfer.effectAllowed)&&(t.dataTransfer.dropEffect="move")),e.stop()}),{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get(dZ);this.listenTo(t,"clipboardInput",((t,r)=>{if("drop"!=r.method)return;const{clientX:i,clientY:o}=r.domEvent,s=n.getFinalDropRange(r.target,r.targetRanges,i,o,this._blockMode,this._draggedRange);if(!s)return this._finalizeDragging(!1),void t.stop();this._draggedRange&&this._draggingUid!=r.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="");if("move"==yZ(r.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(s,!0))return this._finalizeDragging(!1),void t.stop();r.targetRanges=[e.editing.mapper.toViewRange(s)]}),{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(lZ);e.on("contentInsertion",((e,t)=>{if(!this.isEnabled||"drop"!==t.method)return;const n=t.targetRanges.map((e=>this.editor.editing.mapper.toModelRange(e)));this.editor.model.change((e=>e.setSelection(n)))}),{priority:"high"}),e.on("contentInsertion",((e,t)=>{if(!this.isEnabled||"drop"!==t.method)return;const n="move"==yZ(t.dataTransfer),r=!t.resultRange||!t.resultRange.isCollapsed;this._finalizeDragging(r&&n)}),{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,n=t.document;this.listenTo(n,"mousedown",((r,i)=>{if(Mj.isAndroid||!i)return;this._clearDraggableAttributesDelayed.cancel();let o=wZ(i.target);if(Mj.isBlink&&!e.isReadOnly&&!o&&!n.selection.isCollapsed){const e=n.selection.getSelectedElement();e&&TX(e)||(o=n.selection.editableElement)}o&&(t.change((e=>{e.setAttribute("draggable","true",o)})),this._draggableElement=e.editing.mapper.toModelElement(o))})),this.listenTo(n,"mouseup",(()=>{Mj.isAndroid||this._clearDraggableAttributesDelayed()}))}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change((t=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null}))}_finalizeDragging(e){const t=this.editor,n=t.model;if(t.plugins.get(dZ).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")){t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop")}this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&n.change((e=>{const t=n.createSelection(this._draggedRange);n.deleteContent(t,{doNotAutoparagraph:!0});const r=t.getFirstPosition().parent;r.isEmpty&&!n.schema.checkChild(r,"$text")&&n.schema.checkChild(r,"paragraph")&&e.insertElement("paragraph",r,0)})),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,n=t.model,r=n.document.selection,i=e?wZ(e):null;if(i){const e=t.editing.mapper.toModelElement(i);if(this._draggedRange=bF.fromRange(n.createRangeOn(e)),this._blockMode=n.schema.isBlock(e),t.plugins.has("WidgetToolbarRepository")){t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}return}if(r.isCollapsed&&!r.getFirstPosition().parent.isEmpty)return;const o=Array.from(r.getSelectedBlocks()),s=r.getFirstRange();if(0==o.length)return void(this._draggedRange=bF.fromRange(s));const a=xZ(n,o);if(o.length>1)this._draggedRange=bF.fromRange(a),this._blockMode=!0;else if(1==o.length){const e=s.start.isTouching(a.start)&&s.end.isTouching(a.end);this._draggedRange=bF.fromRange(e?a:s),this._blockMode=e}n.change((e=>e.setSelection(this._draggedRange.toRange())))}_updatePreview(e){let{dataTransfer:t,domTarget:n,clientX:r}=e;const i=this.editor.editing.view,o=i.document.selection.editableElement,s=i.domConverter.mapViewToDom(o),a=Aj.window.getComputedStyle(s);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=AO(Aj.document,"div",{style:"position: fixed; left: -999999px;"}),Aj.document.body.appendChild(this._previewContainer));const l=new HO(s);if(s.contains(n))return;const c=parseFloat(a.paddingLeft),u=AO(Aj.document,"div");u.className="ck ck-content",u.style.width=a.width,u.style.paddingLeft=`${l.left-r+c}px`,Mj.isiOS&&(u.style.backgroundColor="white"),u.innerHTML=t.getData("text/html"),t.setDragImage(u,0,0),this._previewContainer.appendChild(u)}}function yZ(e){return Mj.isGecko?e.dropEffect:["all","copyMove"].includes(e.effectAllowed)?"move":"copy"}function wZ(e){if(e.is("editableElement"))return null;if(e.hasClass("ck-widget__selection-handle"))return e.findAncestor(TX);if(TX(e))return e;const t=e.findAncestor((e=>TX(e)||e.is("editableElement")));return TX(t)?t:null}function xZ(e,t){const n=t[0],r=t[t.length-1],i=n.getCommonAncestor(r),o=e.createPositionBefore(n),s=e.createPositionAfter(r);if(i&&i.is("element")&&!e.schema.isLimit(i)){const t=e.createRangeOn(i),n=o.isTouching(t.start),r=s.isTouching(t.end);if(n&&r)return xZ(e,[i])}return e.createRange(o,s)}class _Z extends $W{static get pluginName(){return"PastePlainText"}static get requires(){return[lZ]}init(){const e=this.editor,t=e.model,n=e.editing.view,r=t.document.selection;n.addObserver(nZ),e.plugins.get(lZ).on("contentInsertion",((e,n)=>{(function(e,t){let n=t.createRangeIn(e);if(1==e.childCount){const r=e.getChild(0);r.is("element")&&t.schema.isBlock(r)&&!t.schema.isObject(r)&&!t.schema.isLimit(r)&&(n=t.createRangeIn(r))}for(const r of n.getItems()){if(!t.schema.isInline(r))return!1;if(Array.from(r.getAttributeKeys()).find((e=>t.schema.getAttributeProperties(e).isFormatting)))return!1}return!0})(n.content,t)&&t.change((e=>{const i=Array.from(r.getAttributes()).filter((e=>{let[n]=e;return t.schema.getAttributeProperties(n).isFormatting}));r.isCollapsed||t.deleteContent(r,{doNotAutoparagraph:!0}),i.push(...r.getAttributes());const o=e.createRangeIn(n.content);for(const n of o.getItems())for(const r of i)t.schema.checkAttribute(n,r[0])&&e.setAttribute(r[0],r[1],n)}))}))}}class CZ extends $W{static get pluginName(){return"Clipboard"}static get requires(){return[aZ,lZ,bZ,_Z]}init(){const e=this.editor,t=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Copy selected content"),keystroke:"CTRL+C"},{label:t("Paste content"),keystroke:"CTRL+V"},{label:t("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}const kZ={autoRefresh:!0},SZ=36e5;class AZ extends(vO()){_refresh;_options;_tokenRefreshTimeout;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(super(),!e)throw new qj("token-missing-token-url",this);t.initValue&&this._validateTokenValue(t.initValue),this.set("value",t.initValue),this._refresh="function"===typeof e?e:()=>{return t=e,new Promise(((e,n)=>{const r=new XMLHttpRequest;r.open("GET",t),r.addEventListener("load",(()=>{const t=r.status,i=r.response;return t<200||t>299?n(new qj("token-cannot-download-new-token",null)):e(i)})),r.addEventListener("error",(()=>n(new Error("Network Error")))),r.addEventListener("abort",(()=>n(new Error("Abort")))),r.send()}));var t},this._options={...kZ,...t}}init(){return new Promise(((e,t)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(t)}))}refreshToken(){const e=this._options.autoRefresh;return this._refresh().then((t=>(this._validateTokenValue(t),this.set("value",t),e&&this._registerRefreshTokenTimeout(),this))).catch((t=>{throw Xj("token-refresh-failed",{autoRefresh:e}),e&&this._registerRefreshTokenTimeout(5e3),t}))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const t="string"===typeof e,n=!/^".*"$/.test(e),r=t&&3===e.split(".").length;if(!n||!r)throw new qj("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(e){const t=e||this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout((()=>{this.refreshToken()}),t)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:t}=JSON.parse(atob(e));if(!t)return SZ;return Math.floor((1e3*t-Date.now())/2)}catch(e){return SZ}}static create(e){return new AZ(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).init()}}const TZ=/^data:(\S*?);base64,/;class IZ extends(rO()){file;xhr;_token;_apiAddress;constructor(e,t,n){if(super(),!e)throw new qj("fileuploader-missing-file",null);if(!t)throw new qj("fileuploader-missing-token",null);if(!n)throw new qj("fileuploader-missing-api-address",null);this.file=function(e){if("string"!==typeof e)return!1;const t=e.match(TZ);return!(!t||!t.length)}(e)?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512;try{const n=e.match(TZ)[1],r=atob(e.replace(TZ,"")),i=[];for(let e=0;e<r.length;e+=t){const n=r.slice(e,e+t),o=new Array(n.length);for(let e=0;e<n.length;e++)o[e]=n.charCodeAt(e);i.push(new Uint8Array(o))}return new Blob(i,{type:n})}catch(n){throw new qj("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=t,this._apiAddress=n}onProgress(e){return this.on("progress",((t,n)=>e(n))),this}onError(e){return this.once("error",((t,n)=>e(n))),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,t=e=>()=>this.fire("error",e);e.addEventListener("error",t("Network Error")),e.addEventListener("abort",t("Abort")),e.upload&&e.upload.addEventListener("progress",(e=>{e.lengthComputable&&this.fire("progress",{total:e.total,uploaded:e.loaded})})),e.addEventListener("load",(()=>{const t=e.status,n=e.response;if(t<200||t>299)return this.fire("error",n.message||n.error)}))}_sendRequest(){const e=new FormData,t=this.xhr;return e.append("file",this.file),new Promise(((n,r)=>{t.addEventListener("load",(()=>{const e=t.status,i=t.response;return e<200||e>299?i.message?r(new qj("fileuploader-uploading-data-failed",this,{message:i.message})):r(i.error):n(i)})),t.addEventListener("error",(()=>r(new Error("Network Error")))),t.addEventListener("abort",(()=>r(new Error("Abort")))),t.send(e)}))}}class MZ{_token;_apiAddress;constructor(e,t){if(!e)throw new qj("uploadgateway-missing-token",null);if(!t)throw new qj("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}upload(e){return new IZ(e,this._token,this._apiAddress)}}class EZ extends QW{static get pluginName(){return"CloudServicesCore"}createToken(e,t){return new AZ(e,t)}createUploadGateway(e,t){return new MZ(e,t)}}class PZ extends QW{tokenUrl;uploadUrl;webSocketUrl;bundleVersion;token=null;_tokens=(()=>new Map)();static get pluginName(){return"CloudServices"}static get requires(){return[EZ]}async init(){const e=this.context.config.get("cloudServices")||{};for(const[n,r]of Object.entries(e))this[n]=r;if(!this.tokenUrl)return void(this.token=null);const t=this.context.plugins.get("CloudServicesCore");this.token=await t.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)}async registerTokenUrl(e){if(this._tokens.has(e))return this.getTokenFor(e);const t=this.context.plugins.get("CloudServicesCore"),n=await t.createToken(e).init();return this._tokens.set(e,n),n}getTokenFor(e){const t=this._tokens.get(e);if(!t)throw new qj("cloudservices-token-not-registered",this);return t}destroy(){super.destroy();for(const e of this._tokens.values())e.destroy()}}function DZ(e){const t=e.t,n=e.config.get("codeBlock.languages");for(const r of n)"Plain text"===r.label&&(r.label=t("Plain text")),void 0===r.class&&(r.class=`language-${r.language}`);return n}function jZ(e,t,n){const r={};for(const i of e)if("class"===t){r[i[t].split(" ").shift()]=i[n]}else r[i[t]]=i[n];return r}function OZ(e){return e.data.match(/^(\s*)/)[0]}function RZ(e){const t=e.document.selection,n=[];if(t.isCollapsed)return[t.anchor];const r=t.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:i}of r){let t=i.is("$textProxy")?i.textNode:i;const r=t.parent;if(!r.is("element","codeBlock")||t.is("element","softBreak"))continue;for(;t.previousSibling&&!t.previousSibling.is("element","softBreak");)t=t.previousSibling;const o=t.is("$text")?t.startOffset+OZ(t).length:t.startOffset,s=e.createPositionAt(r,o);n.every((e=>!e.isEqual(s)))&&n.push(s)}return n}function LZ(e){const t=PR(e.getSelectedBlocks());return!!t&&t.is("element","codeBlock")}function NZ(e,t){return!t.is("rootElement")&&!e.isLimit(t)&&e.checkChild(t.parent,"codeBlock")}function BZ(e,t,n,r){const i=jZ(t,"language","label"),o=n.getAttribute("language");if(o in i){const t=i[o];return e("enter"===r?"Entering %0 code snippet":"Leaving %0 code snippet",t)}return e("enter"===r?"Entering code snippet":"Leaving code snippet")}function FZ(e,t){for(e.textNode&&(e=t.createPositionBefore(e.textNode));e.nodeBefore&&!e.nodeBefore.is("element","softBreak");)e=t.createPositionBefore(e.nodeBefore);const n=e.nodeAfter;return n&&n.is("$text")?n:null}class zZ extends GW{_lastLanguage;constructor(e){super(e),this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor,n=t.model,r=n.document.selection,i=DZ(t)[0],o=Array.from(r.getSelectedBlocks()),s=void 0==e.forceValue?!this.value:e.forceValue,a=function(e,t,n){if(e.language)return e.language;if(e.usePreviousLanguageChoice&&t)return t;return n}(e,this._lastLanguage,i.language);n.change((e=>{s?this._applyCodeBlock(e,o,a):this._removeCodeBlock(e,o)}))}_getValue(){const e=PR(this.editor.model.document.selection.getSelectedBlocks());return!!!(!e||!e.is("element","codeBlock"))&&e.getAttribute("language")}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=PR(e.getSelectedBlocks());return!!n&&NZ(t,n)}_applyCodeBlock(e,t,n){this._lastLanguage=n;const r=this.editor.model.schema,i=t.filter((e=>NZ(r,e)));for(const o of i)e.rename(o,"codeBlock"),e.setAttribute("language",n,o),r.removeDisallowedAttributes([o],e),Array.from(o.getChildren()).filter((e=>!r.checkChild(o,e))).forEach((t=>e.remove(t)));i.reverse().forEach(((t,n)=>{const r=i[n+1];t.previousSibling===r&&(e.appendElement("softBreak",r),e.merge(e.createPositionBefore(t)))}))}_removeCodeBlock(e,t){const n=t.filter((e=>e.is("element","codeBlock")));for(const r of n){const t=e.createRangeOn(r);for(const n of Array.from(t.getItems()).reverse())if(n.is("element","softBreak")&&n.parent.is("element","codeBlock")){const{position:t}=e.split(e.createPositionBefore(n)),r=t.nodeAfter;e.rename(r,"paragraph"),e.removeAttribute("language",r),e.remove(n)}e.rename(r,"paragraph"),e.removeAttribute("language",r)}}}class VZ extends GW{_indentSequence;constructor(e){super(e),this._indentSequence=e.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model;e.change((t=>{const n=RZ(e);for(const r of n){const n=t.createText(this._indentSequence);e.insertContent(n,r)}}))}_checkEnabled(){return!!this._indentSequence&&LZ(this.editor.model.document.selection)}}class WZ extends GW{_indentSequence;constructor(e){super(e),this._indentSequence=e.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model;e.change((()=>{const t=RZ(e);for(const n of t){const t=HZ(e,n,this._indentSequence);t&&e.deleteContent(e.createSelection(t))}}))}_checkEnabled(){if(!this._indentSequence)return!1;const e=this.editor.model;return!!LZ(e.document.selection)&&RZ(e).some((t=>HZ(e,t,this._indentSequence)))}}function HZ(e,t,n){const r=FZ(t,e);if(!r)return null;const i=OZ(r),o=i.lastIndexOf(n);if(o+n.length!==i.length)return null;if(-1===o)return null;const{parent:s,startOffset:a}=r;return e.createRange(e.createPositionAt(s,a+o),e.createPositionAt(s,a+o+n.length))}function UZ(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=jZ(t,"language","class"),i=jZ(t,"language","label");return(t,o,s)=>{const{writer:a,mapper:l,consumable:c}=s;if(!c.consume(o.item,"insert"))return;const u=o.item.getAttribute("language"),d=l.toViewPosition(e.createPositionBefore(o.item)),h={};n&&(h["data-language"]=i[u],h.spellcheck="false");const f=r[u]?{class:r[u]}:void 0,p=a.createContainerElement("code",f),m=a.createContainerElement("pre",h,p);a.insert(d,m),l.bindElements(o.item,p)}}const $Z="paragraph";class YZ extends $W{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[Kq]}constructor(e){super(e),e.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"\t"})}init(){const e=this.editor,t=e.model.schema,n=e.model,r=e.editing.view,i=DZ(e);e.commands.add("codeBlock",new zZ(e)),e.commands.add("indentCodeBlock",new VZ(e)),e.commands.add("outdentCodeBlock",new WZ(e)),this.listenTo(r.document,"tab",((t,n)=>{const r=n.shiftKey?"outdentCodeBlock":"indentCodeBlock";e.commands.get(r).isEnabled&&(e.execute(r),n.stopPropagation(),n.preventDefault(),t.stop())}),{context:"pre"}),t.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",disallowChildren:"$inlineObject",allowAttributes:["language"],allowAttributesOf:"$listItem",isBlock:!0}),t.addAttributeCheck(((e,n)=>{const r=e.getItem(e.length-2);if(t.getAttributeProperties(n).isFormatting&&r&&"codeBlock"==r.name)return!1})),e.editing.downcastDispatcher.on("insert:codeBlock",UZ(n,i,!0)),e.data.downcastDispatcher.on("insert:codeBlock",UZ(n,i)),e.data.downcastDispatcher.on("insert:softBreak",function(e){return(t,n,r)=>{if("codeBlock"!==n.item.parent.name)return;const{writer:i,mapper:o,consumable:s}=r;if(!s.consume(n.item,"insert"))return;const a=o.toViewPosition(e.createPositionBefore(n.item));i.insert(a,i.createText("\n"))}}(n),{priority:"high"}),e.data.upcastDispatcher.on("element:code",function(e,t){const n=jZ(t,"class","language"),r=t[0].language;return(e,t,i)=>{const o=t.viewItem,s=o.parent;if(!s||!s.is("element","pre"))return;if(t.modelCursor.findAncestor("codeBlock"))return;const{consumable:a,writer:l}=i;if(!a.test(o,{name:!0}))return;const c=l.createElement("codeBlock"),u=[...o.getClassNames()];u.length||u.push("");for(const r of u){const e=n[r];if(e){l.setAttribute("language",e,c);break}}c.hasAttribute("language")||l.setAttribute("language",r,c),i.convertChildren(o,c),i.safeInsert(c,t.modelCursor)&&(a.consume(o,{name:!0}),i.updateConversionResult(c,t))}}(0,i)),e.data.upcastDispatcher.on("text",((e,t,n)=>{let{consumable:r,writer:i}=n,o=t.modelCursor;if(!r.test(t.viewItem))return;if(!o.findAncestor("codeBlock"))return;r.consume(t.viewItem);const s=t.viewItem.data.split("\n").map((e=>i.createText(e))),a=s[s.length-1];for(const l of s)if(i.insert(l,o),o=o.getShiftedBy(l.offsetSize),l!==a){const e=i.createElement("softBreak");i.insert(e,o),o=i.createPositionAfter(e)}t.modelRange=i.createRange(t.modelCursor,o),t.modelCursor=o})),e.data.upcastDispatcher.on("element:pre",((e,t,n)=>{let{consumable:r}=n;const i=t.viewItem;if(i.findAncestor("pre"))return;const o=Array.from(i.getChildren()),s=o.find((e=>e.is("element","code")));if(s)for(const a of o)a!==s&&a.is("$text")&&r.consume(a,{name:!0})}),{priority:"high"}),this.listenTo(e.editing.view.document,"clipboardInput",((t,r)=>{let i=n.createRange(n.document.selection.anchor);if(r.targetRanges&&(i=e.editing.mapper.toModelRange(r.targetRanges[0])),!i.start.parent.is("element","codeBlock"))return;const o=r.dataTransfer.getData("text/plain"),s=new GV(e.editing.view.document);r.content=function(e,t){const n=e.createDocumentFragment(),r=t.split("\n"),i=r.reduce(((t,n,i)=>(t.push(n),i<r.length-1&&t.push(e.createElement("br")),t)),[]);return e.appendChild(i,n),n}(s,o)})),e.plugins.has("ClipboardPipeline")&&e.plugins.get(lZ).on("contentInsertion",((n,r)=>{const i=e.model,o=i.document.selection;o.anchor.parent.is("element","codeBlock")&&i.change((e=>{const n=e.createRangeIn(r.content);for(const r of[...n.getItems()])r.is("node")&&!t.checkChild(o.anchor,r)&&e.remove(r)}))})),this.listenTo(n,"getSelectedContent",((e,r)=>{let[i]=r;const o=i.anchor;!i.isCollapsed&&o.parent.is("element","codeBlock")&&o.hasSameParentAs(i.focus)&&n.change((n=>{const r=e.return;if(o.parent.is("element")&&(r.childCount>1||i.containsEntireContent(o.parent))){const t=n.createElement("codeBlock",o.parent.getAttributes());n.append(r,t);const i=n.createDocumentFragment();return n.append(t,i),void(e.return=i)}const s=r.getChild(0);t.checkAttribute(s,"code")&&n.setAttribute("code",!0,s)}))}))}afterInit(){const e=this.editor,t=e.commands,n=t.get("indent"),r=t.get("outdent");n&&n.registerChildCommand(t.get("indentCodeBlock"),{priority:"highest"}),r&&r.registerChildCommand(t.get("outdentCodeBlock")),this.listenTo(e.editing.view.document,"enter",((t,n)=>{e.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(function(e,t){const n=e.model,r=n.document,i=e.editing.view,o=r.selection.getLastPosition(),s=o.nodeAfter;if(t||!r.selection.isCollapsed||!o.isAtStart)return!1;if(!qZ(s))return!1;return e.model.change((t=>{e.execute("enter");const n=r.selection.anchor.parent.previousSibling;t.rename(n,$Z),t.setSelection(n,"in"),e.model.schema.removeDisallowedAttributes([n],t),t.remove(s)})),i.scrollToTheSelection(),!0}(e,n.isSoft)||function(e,t){const n=e.model,r=n.document,i=e.editing.view,o=r.selection.getLastPosition(),s=o.nodeBefore;let a;if(t||!r.selection.isCollapsed||!o.isAtEnd||!s||!s.previousSibling)return!1;if(qZ(s)&&qZ(s.previousSibling))a=n.createRange(n.createPositionBefore(s.previousSibling),n.createPositionAfter(s));else if(GZ(s)&&qZ(s.previousSibling)&&qZ(s.previousSibling.previousSibling))a=n.createRange(n.createPositionBefore(s.previousSibling.previousSibling),n.createPositionAfter(s));else{if(!(GZ(s)&&qZ(s.previousSibling)&&GZ(s.previousSibling.previousSibling)&&s.previousSibling.previousSibling&&qZ(s.previousSibling.previousSibling.previousSibling)))return!1;a=n.createRange(n.createPositionBefore(s.previousSibling.previousSibling.previousSibling),n.createPositionAfter(s))}return e.model.change((t=>{t.remove(a),e.execute("enter");const n=r.selection.anchor.parent;t.rename(n,$Z),e.model.schema.removeDisallowedAttributes([n],t)})),i.scrollToTheSelection(),!0}(e,n.isSoft)||function(e){const t=e.model,n=t.document;let r;const i=FZ(n.selection.getLastPosition(),t);i&&i.is("$text")&&(r=OZ(i));e.model.change((t=>{e.execute("shiftEnter"),r&&t.insertText(r,n.selection.anchor)}))}(e),n.preventDefault(),t.stop())}),{context:"pre"}),this._initAriaAnnouncements()}_initAriaAnnouncements(){const{model:e,ui:t,t:n}=this.editor,r=DZ(this.editor);let i=null;e.document.selection.on("change:range",(()=>{const o=e.document.selection.focus.parent;t&&i!==o&&o.is("element")&&(i&&i.is("element","codeBlock")&&t.ariaLiveAnnouncer.announce(BZ(n,r,i,"leave")),o.is("element","codeBlock")&&t.ariaLiveAnnouncer.announce(BZ(n,r,o,"enter")),i=o)}))}}function GZ(e){return e&&e.is("$text")&&!e.data.match(/\S/)}function qZ(e){return e&&e.is("element","softBreak")}class XZ extends $W{static get pluginName(){return"CodeBlockUI"}init(){const e=this.editor,t=e.t,n=e.ui.componentFactory,r=DZ(e),i=this._getLanguageListItemDefinitions(r),o=e.commands.get("codeBlock");n.add("codeBlock",(n=>{const r=V$(n,z$),s=r.buttonView,a=t("Insert code block");return s.set({label:a,tooltip:!0,icon:lH.codeBlock,isToggleable:!0}),s.bind("isOn").to(o,"value",(e=>!!e)),s.on("execute",(()=>{e.execute("codeBlock",{usePreviousLanguageChoice:!0}),e.editing.view.focus()})),r.on("execute",(t=>{e.execute("codeBlock",{language:t.source._codeBlockLanguage,forceValue:!0}),e.editing.view.focus()})),r.class="ck-code-block-dropdown",r.bind("isEnabled").to(o),U$(r,i,{role:"menu",ariaLabel:a}),r})),n.add("menuBar:codeBlock",(n=>{const r=new cG(n);r.buttonView.set({role:"menuitem",label:t("Code block"),icon:lH.codeBlock}),r.bind("isEnabled").to(o);const s=new uG(n);s.set({ariaLabel:t("Insert code block")});for(const t of i){const i=new kY(n,r),a=new XU(n);a.bind(...Object.keys(t.model)).to(t.model),a.set({isToggleable:!0,role:"menuitemcheckbox"}),a.delegate("execute").to(r),a.on("execute",(()=>{e.execute("codeBlock",{language:t.model._codeBlockLanguage,forceValue:o.value!=t.model._codeBlockLanguage}),e.editing.view.focus()})),i.children.add(a),s.items.add(i)}return r.panelView.children.add(s),r}))}_getLanguageListItemDefinitions(e){const t=this.editor.commands.get("codeBlock"),n=new ER;for(const r of e){const e={type:"button",model:new YY({_codeBlockLanguage:r.language,label:r.label,role:"menuitemradio",withText:!0})};e.model.bind("isOn").to(t,"value",(t=>t===e.model._codeBlockLanguage)),n.add(e)}return n}}class ZZ extends $W{static get requires(){return[YZ,XZ]}static get pluginName(){return"CodeBlock"}}class KZ extends zY{view;constructor(e,t){super(e),this.view=t}init(){const e=this.editor,t=this.view,n=e.editing.view,r=t.editable,i=n.document.getRoot();r.name=i.rootName,t.render();const o=r.element;this.setEditableElement(r.name,o),t.editable.bind("isFocused").to(this.focusTracker),n.attachDomRoot(o),this._initPlaceholder(),this._initToolbar(),this._initMenuBar(this.view.menuBarView),this.fire("ready")}destroy(){super.destroy();const e=this.view;this.editor.editing.view.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.editor,t=this.view;t.toolbar.fillFromConfig(e.config.get("toolbar"),this.componentFactory),this.addToolbar(t.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),r=e.config.get("placeholder");if(r){const e="string"===typeof r?r:r[n.rootName];e&&(n.placeholder=e)}eN({view:t,element:n,isDirectHost:!1,keepOnFocus:!0})}}class QZ extends WY{toolbar;editable;menuBarView;constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e),this.toolbar=new L$(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.menuBarView=new pG(e),this.editable=new UY(e,t,n.editableElement,{label:n.label}),this.toolbar.extendTemplate({attributes:{class:["ck-reset_all","ck-rounded-corners"],dir:e.uiLanguageDirection}}),this.menuBarView.extendTemplate({attributes:{class:["ck-reset_all","ck-rounded-corners"],dir:e.uiLanguageDirection}})}render(){super.render(),this.registerChild([this.menuBarView,this.toolbar,this.editable])}}class JZ extends(oH(iH)){ui;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!eK(e)&&void 0!==t.initialData)throw new qj("editor-create-initial-data",null);super(t),void 0===this.config.get("initialData")&&this.config.set("initialData",function(e){return eK(e)?LO(e):e}(e)),eK(e)&&(this.sourceElement=e,sH(this,e)),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),r=new QZ(this.locale,this.editing.view,{editableElement:this.sourceElement,shouldToolbarGroupWhenFull:n,label:this.config.get("label")});this.ui=new KZ(this,r)}destroy(){const e=this.getData();return this.ui.destroy(),super.destroy().then((()=>{this.sourceElement&&this.updateSourceElement(e)}))}static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((n=>{if(eK(e)&&"TEXTAREA"===e.tagName)throw new qj("editor-wrong-element",null);const r=new this(e,t);n(r.initPlugins().then((()=>r.ui.init())).then((()=>r.data.init(r.config.get("initialData")))).then((()=>r.fire("ready"))).then((()=>r)))}))}}function eK(e){return ij(e)}class tK extends GW{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!nK(e.schema,n))do{if(n=n.parent,!n)return}while(!nK(e.schema,n));e.change((e=>{e.setSelection(n,"in")}))}}function nK(e,t){return e.isLimit(t)&&(e.checkChild(t,"$text")||e.checkChild(t,"paragraph"))}const rK=xR("Ctrl+A");class iK extends $W{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,t=e.t,n=e.editing.view.document;e.commands.add("selectAll",new tK(e)),this.listenTo(n,"keydown",((t,n)=>{wR(n)===rK&&(e.execute("selectAll"),n.preventDefault())})),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Select all"),keystroke:"CTRL+A"}]})}}class oK extends $W{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",(()=>{const e=this._createButton(IU);return e.set({tooltip:!0}),e})),e.ui.componentFactory.add("menuBar:selectAll",(()=>this._createButton(XU)))}_createButton(e){const t=this.editor,n=t.locale,r=t.commands.get("selectAll"),i=new e(t.locale),o=n.t;return i.set({label:o("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),i.bind("isEnabled").to(r,"isEnabled"),this.listenTo(i,"execute",(()=>{t.execute("selectAll"),t.editing.view.focus()})),i}}class sK extends $W{static get requires(){return[iK,oK]}static get pluginName(){return"SelectAll"}}class aK extends GW{_stack=[];_createdBatches=(()=>new WeakSet)();constructor(e){super(e),this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",((e,t)=>{t[1]={...t[1]};const n=t[1];n.batchType||(n.batchType={isUndoable:!1})}),{priority:"high"}),this.listenTo(e.data,"set",((e,t)=>{t[1].batchType.isUndoable||this.clearStack()}))}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const r=this.editor.model,i=r.document,o=[],s=e.map((e=>e.getTransformedByOperations(n))),a=s.flat();for(const l of s){const e=l.filter((e=>e.root!=i.graveyard)).filter((e=>!cK(e,a)));e.length&&(lK(e),o.push(e[0]))}o.length&&r.change((e=>{e.setSelection(o,{backward:t})}))}_undo(e,t){const n=this.editor.model,r=n.document;this._createdBatches.add(t);const i=e.operations.slice().filter((e=>e.isDocumentOperation));i.reverse();for(const o of i){const e=o.baseVersion+1,i=Array.from(r.history.getOperations(e)),s=Qz([o.getReversed()],i,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let a of s){const e=a.affectedSelectable;e&&!n.canEditAt(e)&&(a=new Wz(a.baseVersion)),t.addOperation(a),n.applyOperation(a),r.history.setOperationAsUndone(o,a)}}}}function lK(e){e.sort(((e,t)=>e.start.isBefore(t.start)?-1:1));for(let t=1;t<e.length;t++){const n=e[t-1].getJoined(e[t],!0);n&&(t--,e.splice(t,2,n))}}function cK(e,t){return t.some((t=>t!==e&&t.containsRange(e,!0)))}class uK extends aK{execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?this._stack.findIndex((t=>t.batch==e)):this._stack.length-1,n=this._stack.splice(t,1)[0],r=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(r,(()=>{this._undo(n.batch,r);const e=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,e)})),this.fire("revert",n.batch,r),this.refresh()}}class dK extends aK{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,(()=>{const n=e.batch.operations[e.batch.operations.length-1].baseVersion+1,r=this.editor.model.document.history.getOperations(n);this._restoreSelection(e.selection.ranges,e.selection.isBackward,r),this._undo(e.batch,t)})),this.refresh()}}class hK extends $W{_undoCommand;_redoCommand;_batchRegistry=(()=>new WeakSet)();static get pluginName(){return"UndoEditing"}init(){const e=this.editor,t=e.t;this._undoCommand=new uK(e),this._redoCommand=new dK(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",((e,t)=>{const n=t[0];if(!n.isDocumentOperation)return;const r=n.batch,i=this._redoCommand.createdBatches.has(r),o=this._undoCommand.createdBatches.has(r);this._batchRegistry.has(r)||(this._batchRegistry.add(r),r.isUndoable&&(i?this._undoCommand.addBatch(r):o||(this._undoCommand.addBatch(r),this._redoCommand.clearStack())))}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",((e,t,n)=>{this._redoCommand.addBatch(n)})),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class fK extends $W{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,n=e.t,r="ltr"==t.uiLanguageDirection?lH.undo:lH.redo,i="ltr"==t.uiLanguageDirection?lH.redo:lH.undo;this._addButtonsToFactory("undo",n("Undo"),"CTRL+Z",r),this._addButtonsToFactory("redo",n("Redo"),"CTRL+Y",i)}_addButtonsToFactory(e,t,n,r){const i=this.editor;i.ui.componentFactory.add(e,(()=>{const i=this._createButton(IU,e,t,n,r);return i.set({tooltip:!0}),i})),i.ui.componentFactory.add("menuBar:"+e,(()=>this._createButton(XU,e,t,n,r)))}_createButton(e,t,n,r,i){const o=this.editor,s=o.locale,a=o.commands.get(t),l=new e(s);return l.set({label:n,icon:i,keystroke:r}),l.bind("isEnabled").to(a,"isEnabled"),this.listenTo(l,"execute",(()=>{o.execute(t),o.editing.view.focus()})),l}}class pK extends $W{static get requires(){return[hK,fK]}static get pluginName(){return"Undo"}}class mK extends $W{static get requires(){return[e$,CZ,Gq,sK,Kq,WG,pK]}static get pluginName(){return"Essentials"}}class gK extends GW{attributeKey;constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.getAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document.selection,r=e.value,i=e.batch,o=e=>{if(n.isCollapsed)r?e.setSelectionAttribute(this.attributeKey,r):e.removeSelectionAttribute(this.attributeKey);else{const i=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const t of i)r?e.setAttribute(this.attributeKey,r,t):e.removeAttribute(this.attributeKey,t)}};i?t.enqueueChange(i,(e=>{o(e)})):t.change((e=>{o(e)}))}}const vK="fontSize",bK="fontFamily",yK="fontColor",wK="fontBackgroundColor";function xK(e,t){const n={model:{key:e,values:[]},view:{},upcastAlso:{}};for(const r of t)n.model.values.push(r.model),n.view[r.model]=r.view,r.upcastAlso&&(n.upcastAlso[r.model]=r.upcastAlso);return n}function _K(e){return t=>function(e){return e.replace(/\s/g,"")}(t.getStyle(e))}function CK(e){return(t,n)=>{let{writer:r}=n;return r.createAttributeElement("span",{style:`${e}:${t}`},{priority:7})}}class kK extends gK{constructor(e){super(e,bK)}}function SK(e){return e.map(AK).filter((e=>void 0!==e))}function AK(e){return"object"===typeof e?e:"default"===e?{title:"Default",model:void 0}:"string"===typeof e?function(e){const t=e.replace(/"|'/g,"").split(","),n=t[0],r=t.map(TK).join(", ");return{title:n,model:r,view:{name:"span",styles:{"font-family":r},priority:7}}}(e):void 0}function TK(e){return(e=e.trim()).indexOf(" ")>0&&(e=`'${e}'`),e}class IK extends $W{static get pluginName(){return"FontFamilyEditing"}constructor(e){super(e),e.config.define(bK,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:bK}),e.model.schema.setAttributeProperties(bK,{isFormatting:!0,copyOnEnter:!0});const t=SK(e.config.get("fontFamily.options")).filter((e=>e.model)),n=xK(bK,t);e.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):e.conversion.attributeToElement(n),e.commands.add(bK,new kK(e))}_prepareAnyValueConverters(){const e=this.editor;e.conversion.for("downcast").attributeToElement({model:bK,view:(e,t)=>{let{writer:n}=t;return n.createAttributeElement("span",{style:"font-family:"+e},{priority:7})}}),e.conversion.for("upcast").elementToAttribute({model:{key:bK,value:e=>e.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:bK,value:e=>e.getAttribute("face")}})}}var MK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>';class EK extends $W{static get pluginName(){return"FontFamilyUI"}init(){const e=this.editor,t=e.t,n=this._getLocalizedOptions(),r=e.commands.get(bK),i=t("Font Family"),o=function(e,t){const n=new ER;for(const r of e){const e={type:"button",model:new YY({commandName:bK,commandParam:r.model,label:r.title,role:"menuitemradio",withText:!0})};e.model.bind("isOn").to(t,"value",(e=>e===r.model||!(!e||!r.model)&&e.split(",")[0].replace(/'/g,"").toLowerCase()===r.model.toLowerCase())),r.view&&"string"!==typeof r.view&&r.view.styles&&e.model.set("labelStyle",`font-family: ${r.view.styles["font-family"]}`),n.add(e)}return n}(n,r);e.ui.componentFactory.add(bK,(t=>{const n=V$(t);return U$(n,o,{role:"menu",ariaLabel:i}),n.buttonView.set({label:i,icon:MK,tooltip:!0}),n.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),n.bind("isEnabled").to(r),this.listenTo(n,"execute",(t=>{e.execute(t.source.commandName,{value:t.source.commandParam}),e.editing.view.focus()})),n})),e.ui.componentFactory.add(`menuBar:${bK}`,(t=>{const n=new cG(t);n.buttonView.set({label:i,icon:MK}),n.bind("isEnabled").to(r);const s=new uG(t);for(const r of o){const i=new kY(t,n),o=new XU(t);o.set({role:"menuitemradio",isToggleable:!0}),o.bind(...Object.keys(r.model)).to(r.model),o.delegate("execute").to(n),o.on("execute",(()=>{e.execute(r.model.commandName,{value:r.model.commandParam}),e.editing.view.focus()})),i.children.add(o),s.items.add(i)}return n.panelView.children.add(s),n}))}_getLocalizedOptions(){const e=this.editor,t=e.t;return SK(e.config.get(bK).options).map((e=>("Default"===e.title&&(e.title=t("Default")),e)))}}class PK extends $W{static get requires(){return[IK,EK]}static get pluginName(){return"FontFamily"}}class DK extends gK{constructor(e){super(e,vK)}}function jK(e){return e.map((e=>function(e){"number"===typeof e&&(e=String(e));if("object"===typeof e&&(t=e,t.title&&t.model&&t.view))return RK(e);var t;const n=function(e){return"string"===typeof e?OK[e]:OK[e.model]}(e);if(n)return RK(n);if("default"===e)return{model:void 0,title:"Default"};if(function(e){let t;if("object"===typeof e){if(!e.model)throw new qj("font-size-invalid-definition",null,e);t=parseFloat(e.model)}else t=parseFloat(e);return isNaN(t)}(e))return;return function(e){"string"===typeof e&&(e={title:e,model:`${parseFloat(e)}px`});return e.view={name:"span",styles:{"font-size":e.model}},RK(e)}(e)}(e))).filter((e=>void 0!==e))}const OK={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function RK(e){return e.view&&"string"!==typeof e.view&&!e.view.priority&&(e.view.priority=7),e}const LK=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class NK extends $W{static get pluginName(){return"FontSizeEditing"}constructor(e){super(e),e.config.define(vK,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:vK}),e.model.schema.setAttributeProperties(vK,{isFormatting:!0,copyOnEnter:!0});const t=e.config.get("fontSize.supportAllValues"),n=jK(this.editor.config.get("fontSize.options")).filter((e=>e.model)),r=xK(vK,n);t?(this._prepareAnyValueConverters(r),this._prepareCompatibilityConverter()):e.conversion.attributeToElement(r),e.commands.add(vK,new DK(e))}_prepareAnyValueConverters(e){const t=this.editor,n=e.model.values.filter((e=>!oW(String(e))&&!aW(String(e))));if(n.length)throw new qj("font-size-invalid-use-of-named-presets",null,{presets:n});t.conversion.for("downcast").attributeToElement({model:vK,view:(e,t)=>{let{writer:n}=t;if(e)return n.createAttributeElement("span",{style:"font-size:"+e},{priority:7})}}),t.conversion.for("upcast").elementToAttribute({model:{key:vK,value:e=>e.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:vK,value:e=>{const t=e.getAttribute("size"),n="-"===t[0]||"+"===t[0];let r=parseInt(t,10);n&&(r=3+r);const i=LK.length-1,o=Math.min(Math.max(r,0),i);return LK[o]}}})}}var BK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>';class FK extends $W{static get pluginName(){return"FontSizeUI"}init(){const e=this.editor,t=e.t,n=this._getLocalizedOptions(),r=e.commands.get(vK),i=t("Font Size"),o=function(e,t){const n=new ER;for(const r of e){const e={type:"button",model:new YY({commandName:vK,commandParam:r.model,label:r.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};r.view&&"string"!==typeof r.view&&(r.view.styles&&e.model.set("labelStyle",`font-size:${r.view.styles["font-size"]}`),r.view.classes&&e.model.set("class",`${e.model.class} ${r.view.classes}`)),e.model.bind("isOn").to(t,"value",(e=>e===r.model)),n.add(e)}return n}(n,r);e.ui.componentFactory.add(vK,(t=>{const n=V$(t);return U$(n,o,{role:"menu",ariaLabel:i}),n.buttonView.set({label:i,icon:BK,tooltip:!0}),n.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),n.bind("isEnabled").to(r),this.listenTo(n,"execute",(t=>{e.execute(t.source.commandName,{value:t.source.commandParam}),e.editing.view.focus()})),n})),e.ui.componentFactory.add(`menuBar:${vK}`,(t=>{const n=new cG(t);n.buttonView.set({label:i,icon:BK}),n.bind("isEnabled").to(r);const s=new uG(t);for(const r of o){const i=new kY(t,n),o=new XU(t);o.set({role:"menuitemradio",isToggleable:!0}),o.bind(...Object.keys(r.model)).to(r.model),o.delegate("execute").to(n),o.on("execute",(()=>{e.execute(r.model.commandName,{value:r.model.commandParam}),e.editing.view.focus()})),i.children.add(o),s.items.add(i)}return n.panelView.children.add(s),n}))}_getLocalizedOptions(){const e=this.editor,t=e.t,n={Default:t("Default"),Tiny:t("Tiny"),Small:t("Small"),Big:t("Big"),Huge:t("Huge")};return jK(e.config.get(vK).options).map((e=>{const t=n[e.title];return t&&t!=e.title&&(e=Object.assign({},e,{title:t})),e}))}}class zK extends $W{static get requires(){return[NK,FK]}static get pluginName(){return"FontSize"}normalizeSizeOptions(e){return jK(e)}}class VK extends gK{constructor(e){super(e,yK)}}class WK extends $W{static get pluginName(){return"FontColorEditing"}constructor(e){super(e),e.config.define(yK,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:yK,value:_K("color")}}),e.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:yK,value:e=>e.getAttribute("color")}}),e.conversion.for("downcast").attributeToElement({model:yK,view:CK("color")}),e.commands.add(yK,new VK(e)),e.model.schema.extend("$text",{allowAttributes:yK}),e.model.schema.setAttributeProperties(yK,{isFormatting:!0,copyOnEnter:!0})}}class HK extends $W{commandName;componentName;icon;dropdownLabel;columns;constructor(e,t){let{commandName:n,componentName:r,icon:i,dropdownLabel:o}=t;super(e),this.commandName=n,this.componentName=r,this.icon=i,this.dropdownLabel=o,this.columns=e.config.get(`${this.componentName}.columns`)}init(){const e=this.editor,t=e.locale,n=t.t,r=e.commands.get(this.commandName),i=e.config.get(this.componentName),o=c$(t,u$(i.colors)),s=i.documentColors,a=!1!==i.colorPicker;e.ui.componentFactory.add(this.componentName,(t=>{const l=V$(t);let c=!1;const u=function(e){let{dropdownView:t,colors:n,columns:r,removeButtonLabel:i,colorPickerLabel:o,documentColorsLabel:s,documentColorsCount:a,colorPickerViewConfig:l}=e;const c=t.locale,u=new sY(c,{colors:n,columns:r,removeButtonLabel:i,colorPickerLabel:o,documentColorsLabel:s,documentColorsCount:a,colorPickerViewConfig:l});return t.colorSelectorView=u,t.panelView.children.add(u),u}({dropdownView:l,colors:o.map((e=>({label:e.label,color:e.model,options:{hasBorder:e.hasBorder}}))),columns:this.columns,removeButtonLabel:n("Remove color"),colorPickerLabel:n("Color picker"),documentColorsLabel:0!==s?n("Document colors"):"",documentColorsCount:void 0===s?this.columns:s,colorPickerViewConfig:!!a&&(i.colorPicker||{})});return u.bind("selectedColor").to(r,"value"),l.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),l.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),l.bind("isEnabled").to(r),u.on("execute",((t,n)=>{l.isOpen&&e.execute(this.commandName,{value:n.value,batch:this._undoStepBatch}),"colorPicker"!==n.source&&e.editing.view.focus(),"colorPickerSaveButton"===n.source&&(l.isOpen=!1)})),u.on("colorPicker:show",(()=>{this._undoStepBatch=e.model.createBatch()})),u.on("colorPicker:cancel",(()=>{this._undoStepBatch.operations.length&&(l.isOpen=!1,e.execute("undo",this._undoStepBatch)),e.editing.view.focus()})),l.on("change:isOpen",((t,n,r)=>{c||(c=!0,l.colorSelectorView.appendUI()),r&&(0!==s&&u.updateDocumentColors(e.model,this.componentName),u.updateSelectedColors(),u.showColorGridsFragment())})),Y$(l,(()=>l.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find((e=>e.isOn)))),l})),e.ui.componentFactory.add(`menuBar:${this.componentName}`,(t=>{const i=new cG(t);i.buttonView.set({label:this.dropdownLabel,icon:this.icon}),i.bind("isEnabled").to(r);let a=!1;const l=new sY(t,{colors:o.map((e=>({label:e.label,color:e.model,options:{hasBorder:e.hasBorder}}))),columns:this.columns,removeButtonLabel:n("Remove color"),colorPickerLabel:n("Color picker"),documentColorsLabel:0!==s?n("Document colors"):"",documentColorsCount:void 0===s?this.columns:s,colorPickerViewConfig:!1});return l.bind("selectedColor").to(r,"value"),l.delegate("execute").to(i),l.on("execute",((t,n)=>{e.execute(this.commandName,{value:n.value,batch:this._undoStepBatch}),e.editing.view.focus()})),i.on("change:isOpen",((t,n,r)=>{a||(a=!0,l.appendUI()),r&&(0!==s&&l.updateDocumentColors(e.model,this.componentName),l.updateSelectedColors(),l.showColorGridsFragment())})),i.panelView.children.add(l),i}))}}class UK extends HK{constructor(e){const t=e.locale.t;super(e,{commandName:yK,componentName:yK,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',dropdownLabel:t("Font Color")})}static get pluginName(){return"FontColorUI"}}class $K extends $W{static get requires(){return[WK,UK]}static get pluginName(){return"FontColor"}}class YK extends gK{constructor(e){super(e,wK)}}class GK extends $W{static get pluginName(){return"FontBackgroundColorEditing"}constructor(e){super(e),e.config.define(wK,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.data.addStyleProcessorRules(xW),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:wK,value:_K("background-color")}}),e.conversion.for("downcast").attributeToElement({model:wK,view:CK("background-color")}),e.commands.add(wK,new YK(e)),e.model.schema.extend("$text",{allowAttributes:wK}),e.model.schema.setAttributeProperties(wK,{isFormatting:!0,copyOnEnter:!0})}}class qK extends HK{constructor(e){const t=e.locale.t;super(e,{commandName:wK,componentName:wK,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:t("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class XK extends $W{static get requires(){return[GK,qK]}static get pluginName(){return"FontBackgroundColor"}}class ZK extends GW{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=PR(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&KK(t,e.schema)}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document,r=e.selection||n.selection;t.canEditAt(r)&&t.change((e=>{const n=r.getSelectedBlocks();for(const r of n)!r.is("element","paragraph")&&KK(r,t.schema)&&e.rename(r,"paragraph")}))}}function KK(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}class QK extends GW{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,n=e.attributes;let r=e.position;t.canEditAt(r)&&t.change((e=>{if(r=this._findPositionToInsertParagraph(r,e),!r)return;const i=e.createElement("paragraph");n&&t.schema.setAllowedAttributes(i,n,e),t.insertContent(i,r),e.setSelection(i,"in")}))}_findPositionToInsertParagraph(e,t){const n=this.editor.model;if(n.schema.checkChild(e,"paragraph"))return e;const r=n.schema.findAllowedParent(e,"paragraph");if(!r)return null;const i=e.parent,o=n.schema.checkChild(i,"$text");return i.isEmpty||o&&e.isAtEnd?n.createPositionAfter(i):!i.isEmpty&&o&&e.isAtStart?n.createPositionBefore(i):t.split(e,r).position}}class JK extends $W{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new ZK(e)),e.commands.add("insertParagraph",new QK(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(e,t)=>{let{writer:n}=t;return JK.paragraphLikeElements.has(e.name)?e.isEmpty?null:n.createElement("paragraph"):null},view:/.+/,converterPriority:"low"})}static paragraphLikeElements=(()=>new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]))()}class eQ extends GW{modelElements;constructor(e,t){super(e),this.modelElements=t}refresh(){const e=PR(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some((t=>tQ(e,t,this.editor.model.schema)))}execute(e){const t=this.editor.model,n=t.document,r=e.value;t.change((e=>{const i=Array.from(n.selection.getSelectedBlocks()).filter((e=>tQ(e,r,t.schema)));for(const t of i)t.is("element",r)||e.rename(t,r)}))}}function tQ(e,t,n){return n.checkChild(e.parent,t)&&!n.isObject(e)}const nQ="paragraph";class rQ extends $W{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[JK]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const r of t)"paragraph"!==r.model&&(e.model.schema.register(r.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(r),n.push(r.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new eQ(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",((t,r)=>{const i=e.model.document.selection.getFirstPosition().parent;n.some((e=>i.is("element",e.model)))&&!i.is("element",nQ)&&0===i.childCount&&r.writer.rename(i,nQ)}))}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:$j.low+1})}}function iQ(e){const t=e.t,n={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return e.config.get("heading.options").map((e=>{const t=n[e.title];return t&&t!=e.title&&(e.title=t),e}))}class oQ extends $W{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,n=iQ(e),r=t("Choose heading"),i=t("Heading");e.ui.componentFactory.add("heading",(t=>{const o={},s=new ER,a=e.commands.get("heading"),l=e.commands.get("paragraph"),c=[a];for(const e of n){const t={type:"button",model:new YY({label:e.title,class:e.class,role:"menuitemradio",withText:!0})};"paragraph"===e.model?(t.model.bind("isOn").to(l,"value"),t.model.set("commandName","paragraph"),c.push(l)):(t.model.bind("isOn").to(a,"value",(t=>t===e.model)),t.model.set({commandName:"heading",commandValue:e.model})),s.add(t),o[e.model]=e.title}const u=V$(t);return U$(u,s,{ariaLabel:i,role:"menu"}),u.buttonView.set({ariaLabel:i,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:i}),u.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),u.bind("isEnabled").toMany(c,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((e=>e))})),u.buttonView.bind("label").to(a,"value",l,"value",((e,t)=>{const n=t?"paragraph":e;return"boolean"===typeof n?r:o[n]?o[n]:r})),u.buttonView.bind("ariaLabel").to(a,"value",l,"value",((e,t)=>{const n=t?"paragraph":e;return"boolean"===typeof n?i:o[n]?`${o[n]}, ${i}`:i})),this.listenTo(u,"execute",(t=>{const{commandName:n,commandValue:r}=t.source;e.execute(n,r?{value:r}:void 0),e.editing.view.focus()})),u})),e.ui.componentFactory.add("menuBar:heading",(r=>{const i=new cG(r),o=e.commands.get("heading"),s=e.commands.get("paragraph"),a=[o],l=new uG(r);i.set({class:"ck-heading-dropdown"}),l.set({ariaLabel:t("Heading"),role:"menu"}),i.buttonView.set({label:t("Heading")}),i.panelView.children.add(l);for(const t of n){const n=new kY(r,i),c=new XU(r);n.children.add(c),l.items.add(n),c.set({isToggleable:!0,label:t.title,role:"menuitemradio",class:t.class}),c.delegate("execute").to(i),c.on("execute",(()=>{const n="paragraph"===t.model?"paragraph":"heading";e.execute(n,{value:t.model}),e.editing.view.focus()})),"paragraph"===t.model?(c.bind("isOn").to(s,"value"),a.push(s)):c.bind("isOn").to(o,"value",(e=>e===t.model))}return i.bind("isEnabled").toMany(a,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((e=>e))})),i}))}}class sQ extends $W{static get requires(){return[rQ,oQ]}static get pluginName(){return"Heading"}}new Set(["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"]);class aQ extends GW{refresh(){const e=this.editor.model,t=e.schema,n=e.document.selection;this.isEnabled=function(e,t,n){const r=function(e,t){const n=jX(e,t),r=n.start.parent;if(r.isEmpty&&!r.is("element","$root"))return r.parent;return r}(e,n);return t.checkChild(r,"horizontalLine")}(n,t,e)}execute(){const e=this.editor.model;e.change((t=>{const n=t.createElement("horizontalLine");e.insertObject(n,null,null,{setSelection:"after"})}))}}class lQ extends $W{static get pluginName(){return"HorizontalLineEditing"}init(){const e=this.editor,t=e.model.schema,n=e.t,r=e.conversion;t.register("horizontalLine",{inheritAllFrom:"$blockObject"}),r.for("dataDowncast").elementToElement({model:"horizontalLine",view:(e,t)=>{let{writer:n}=t;return n.createEmptyElement("hr")}}),r.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(e,t)=>{let{writer:r}=t;const i=n("Horizontal line"),o=r.createContainerElement("div",null,r.createEmptyElement("hr"));return r.addClass("ck-horizontal-line",o),r.setCustomProperty("hr",!0,o),function(e,t,n){return t.setCustomProperty("horizontalLine",!0,e),IX(e,t,{label:n})}(o,r,i)}}),r.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),e.commands.add("horizontalLine",new aQ(e))}}class cQ extends $W{static get pluginName(){return"HorizontalLineUI"}init(){const e=this.editor;e.ui.componentFactory.add("horizontalLine",(()=>{const e=this._createButton(IU);return e.set({tooltip:!0}),e})),e.ui.componentFactory.add("menuBar:horizontalLine",(()=>this._createButton(XU)))}_createButton(e){const t=this.editor,n=t.locale,r=t.commands.get("horizontalLine"),i=new e(t.locale),o=n.t;return i.set({label:o("Horizontal line"),icon:lH.horizontalLine}),i.bind("isEnabled").to(r,"isEnabled"),this.listenTo(i,"execute",(()=>{t.execute("horizontalLine"),t.editing.view.focus()})),i}}class uQ extends $W{static get requires(){return[lQ,cQ,YX]}static get pluginName(){return"HorizontalLine"}}const dQ=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n};const hQ=vH({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});var fQ=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,pQ=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const mQ=function(e){return(e=rL(e))&&e.replace(fQ,hQ).replace(pQ,"")};var gQ=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;const vQ=function(e){return e.match(gQ)||[]};var bQ=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;const yQ=function(e){return bQ.test(e)};var wQ="\\ud800-\\udfff",xQ="\\u2700-\\u27bf",_Q="a-z\\xdf-\\xf6\\xf8-\\xff",CQ="A-Z\\xc0-\\xd6\\xd8-\\xde",kQ="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",SQ="["+kQ+"]",AQ="\\d+",TQ="["+xQ+"]",IQ="["+_Q+"]",MQ="[^"+wQ+kQ+AQ+xQ+_Q+CQ+"]",EQ="(?:\\ud83c[\\udde6-\\uddff]){2}",PQ="[\\ud800-\\udbff][\\udc00-\\udfff]",DQ="["+CQ+"]",jQ="(?:"+IQ+"|"+MQ+")",OQ="(?:"+DQ+"|"+MQ+")",RQ="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",LQ="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",NQ="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",BQ="[\\ufe0e\\ufe0f]?",FQ=BQ+NQ+("(?:\\u200d(?:"+["[^"+wQ+"]",EQ,PQ].join("|")+")"+BQ+NQ+")*"),zQ="(?:"+[TQ,EQ,PQ].join("|")+")"+FQ,VQ=RegExp([DQ+"?"+IQ+"+"+RQ+"(?="+[SQ,DQ,"$"].join("|")+")",OQ+"+"+LQ+"(?="+[SQ,DQ+jQ,"$"].join("|")+")",DQ+"?"+jQ+"+"+RQ,DQ+"+"+LQ,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",AQ,zQ].join("|"),"g");const WQ=function(e){return e.match(VQ)||[]};const HQ=function(e,t,n){return e=rL(e),void 0===(t=n?void 0:t)?yQ(e)?WQ(e):vQ(e):e.match(t)||[]};var UQ=RegExp("['\u2019]","g");const $Q=function(e){return function(t){return dQ(HQ(mQ(t).replace(UQ,"")),e,"")}};const YQ=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:lL(e,t,n)};var GQ=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const qQ=function(e){return GQ.test(e)};const XQ=function(e){return e.split("")};var ZQ="\\ud800-\\udfff",KQ="["+ZQ+"]",QQ="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",JQ="\\ud83c[\\udffb-\\udfff]",eJ="[^"+ZQ+"]",tJ="(?:\\ud83c[\\udde6-\\uddff]){2}",nJ="[\\ud800-\\udbff][\\udc00-\\udfff]",rJ="(?:"+QQ+"|"+JQ+")"+"?",iJ="[\\ufe0e\\ufe0f]?",oJ=iJ+rJ+("(?:\\u200d(?:"+[eJ,tJ,nJ].join("|")+")"+iJ+rJ+")*"),sJ="(?:"+[eJ+QQ+"?",QQ,tJ,nJ,KQ].join("|")+")",aJ=RegExp(JQ+"(?="+JQ+")|"+sJ+oJ,"g");const lJ=function(e){return e.match(aJ)||[]};const cJ=function(e){return qQ(e)?lJ(e):XQ(e)};const uJ=function(e){return function(t){t=rL(t);var n=qQ(t)?cJ(t):void 0,r=n?n[0]:t.charAt(0),i=n?YQ(n,1).join(""):t.slice(1);return r[e]()+i}}("toUpperCase");$Q((function(e,t,n){return e+(n?" ":"")+uJ(t)}));Cj((function(e,t,n,r){dj(e,t,n,r)}));const dJ=function(e,t){return function(n,r){if(null==n)return n;if(!HP(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}(oX);const hJ=function(e,t){var n=-1,r=HP(e)?Array(e.length):[];return dJ(e,(function(e,i,o){r[++n]=t(e,i,o)})),r};const fJ=function(e,t){return(KM(e)?JR:hJ)(e,bX(t,3))};function pJ(e){return e.createContainerElement("figure",{class:"image"},[e.createEmptyElement("img"),e.createSlot("children")])}function mJ(e,t){const n=e.plugins.get("ImageUtils"),r=e.plugins.has("ImageInlineEditing")&&e.plugins.has("ImageBlockEditing");return e=>{if(!n.isInlineImageView(e))return null;if(!r)return i(e);return("block"==e.getStyle("display")||e.findAncestor(n.isBlockImageView)?"imageBlock":"imageInline")!==t?null:i(e)};function i(e){const t={name:!0};return e.hasAttribute("src")&&(t.attributes=["src"]),t}}function gJ(e,t){const n=PR(t.getSelectedBlocks());return!n||e.isObject(n)||n.isEmpty&&"listItem"!=n.name?"imageBlock":"imageInline"}function vJ(e){return e&&e.endsWith("px")?parseInt(e):null}function bJ(e){const t=vJ(e.getStyle("width")),n=vJ(e.getStyle("height"));return!(!t||!n)}const yJ=/^(image|image-inline)$/;class wJ extends $W{_domEmitter=(()=>new(jO()))();static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=this.editor,o=i.model,s=o.document.selection,a=xJ(i,t||s,n);e={...Object.fromEntries(s.getAttributes()),...e};for(const l in e)o.schema.checkAttribute(a,l)||delete e[l];return o.change((n=>{const{setImageSizes:i=!0}=r,s=n.createElement(a,e);return o.insertObject(s,t,null,{setSelection:"on",findOptimalPosition:t||"imageInline"==a?void 0:"auto"}),s.parent?(i&&this.setImageNaturalSizeAttributes(s),s):null}))}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change((n=>{const r=new Aj.window.Image;this._domEmitter.listenTo(r,"load",(()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(n.batch,(t=>{t.setAttribute("width",r.naturalWidth,e),t.setAttribute("height",r.naturalHeight,e)})),this._domEmitter.stopListening(r,"load")})),r.src=t})))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const n=e.getSelectedElement();if(n&&this.isImageWidget(n))return n;let r=t.parent;for(;r;){if(r.is("element")&&this.isImageWidget(r))return r;r=r.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:yJ})}isImageAllowed(){const e=this.editor.model.document.selection;return function(e,t){const n=xJ(e,t,null);if("imageBlock"==n){const n=function(e,t){const n=jX(e,t),r=n.start.parent;if(r.isEmpty&&!r.is("element","$root"))return r.parent;return r}(t,e.model);if(e.model.schema.checkChild(n,"imageBlock"))return!0}else if(e.model.schema.checkChild(t.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(e){return[...e.focus.getAncestors()].every((e=>!e.is("element","imageBlock")))}(e)}toImageWidget(e,t,n){t.setCustomProperty("image",!0,e);return IX(e,t,{label:()=>{const t=this.findViewImgElement(e).getAttribute("alt");return t?`${t} ${n}`:n}})}isImageWidget(e){return!!e.getCustomProperty("image")&&TX(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:n}of t.createRangeIn(e))if(this.isInlineImageView(n))return n}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function xJ(e,t,n){const r=e.model.schema,i=e.config.get("image.insert.type");return e.plugins.has("ImageBlockEditing")?e.plugins.has("ImageInlineEditing")?n||("inline"===i?"imageInline":"auto"!==i?"imageBlock":t.is("selection")?gJ(r,t):r.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const _J=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class CJ extends $W{static get requires(){return[CZ,wJ,pK,VG]}static get pluginName(){return"AutoImage"}_timeoutId;_positionToInsert;constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document,n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",(()=>{const e=t.selection.getFirstRange(),n=oV.fromPosition(e.start);n.stickiness="toPrevious";const r=oV.fromPosition(e.end);r.stickiness="toNext",t.once("change:data",(()=>{this._embedImageBetweenPositions(n,r),n.detach(),r.detach()}),{priority:"high"})})),e.commands.get("undo").on("execute",(()=>{this._timeoutId&&(Aj.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)}),{priority:"high"})}_embedImageBetweenPositions(e,t){const n=this.editor,r=new bF(e,t),i=r.getWalker({ignoreElementEnd:!0}),o=Object.fromEntries(n.model.document.selection.getAttributes()),s=this.editor.plugins.get("ImageUtils");let a="";for(const l of i)l.item.is("$textProxy")&&(a+=l.item.data);a=a.trim(),a.match(_J)?(this._positionToInsert=oV.fromPosition(e),this._timeoutId=setTimeout((()=>{if(!n.commands.get("insertImage").isEnabled)return void r.detach();n.model.change((e=>{let t;this._timeoutId=null,e.remove(r),r.detach(),"$graveyard"!==this._positionToInsert.root.rootName&&(t=this._positionToInsert.toPosition()),s.insertImage({...o,src:a},t),this._positionToInsert.detach(),this._positionToInsert=null}));n.plugins.get("Delete").requestUndoOnBackspace()}),100)):r.detach()}}class kJ extends GW{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,n=t.plugins.get("ImageUtils"),r=t.model,i=n.getClosestSelectedImageElement(r.document.selection);r.change((t=>{t.setAttribute("alt",e.newValue,i)}))}}class SJ extends $W{static get requires(){return[wJ]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new kJ(this.editor))}}class AJ extends xU{focusTracker;keystrokes;labeledInput;saveButtonView;cancelButtonView;_focusables;_focusCycler;constructor(e){super(e);const t=this.locale.t;this.focusTracker=new DR,this.keystrokes=new jR,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),lH.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),lH.cancel,"ck-button-cancel","cancel"),this._focusables=new JH,this._focusCycler=new PU({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),kU({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((e=>{this._focusables.add(e),this.focusTracker.add(e.element)}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,n,r){const i=new IU(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}_createLabeledInputView(){const e=this.locale.t,t=new g$(this.locale,q$);return t.label=e("Text alternative"),t}}function TJ(e){const t=e.editing.view,n=E$.defaultPositions,r=e.plugins.get("ImageUtils");return{target:t.domConverter.mapViewToDom(r.getClosestSelectedImageWidget(t.document.selection)),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}class IJ extends $W{_balloon;_form;static get requires(){return[qY]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",(n=>{const r=e.commands.get("imageTextAlternative"),i=new IU(n);return i.set({label:t("Change image text alternative"),icon:lH.textAlternative,tooltip:!0}),i.bind("isEnabled").to(r,"isEnabled"),i.bind("isOn").to(r,"value",(e=>!!e)),this.listenTo(i,"execute",(()=>{this._showForm()})),i}))}_createForm(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(CU(AJ))(e.locale),this._form.render(),this.listenTo(this._form,"submit",(()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)})),this.listenTo(this._form,"cancel",(()=>{this._hideForm(!0)})),this._form.keystrokes.set("Esc",((e,t)=>{this._hideForm(!0),t()})),this.listenTo(e.ui,"update",(()=>{n.getClosestSelectedImageWidget(t.selection)?this._isVisible&&function(e){const t=e.plugins.get("ContextualBalloon");if(e.plugins.get("ImageUtils").getClosestSelectedImageWidget(e.editing.view.document.selection)){const n=TJ(e);t.updatePosition(n)}}(e):this._hideForm(!0)})),_U({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:TJ(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class MJ extends $W{static get requires(){return[SJ,IJ]}static get pluginName(){return"ImageTextAlternative"}}function EJ(e,t){const n=(t,n,r)=>{if(!r.consumable.consume(n.item,t.name))return;const i=r.writer,o=r.mapper.toViewElement(n.item),s=e.findViewImgElement(o);null===n.attributeNewValue?(i.removeAttribute("srcset",s),i.removeAttribute("sizes",s)):n.attributeNewValue&&(i.setAttribute("srcset",n.attributeNewValue,s),i.setAttribute("sizes","100vw",s))};return e=>{e.on(`attribute:srcset:${t}`,n)}}function PJ(e,t,n){const r=(t,n,r)=>{if(!r.consumable.consume(n.item,t.name))return;const i=r.writer,o=r.mapper.toViewElement(n.item),s=e.findViewImgElement(o);i.setAttribute(n.attributeKey,n.attributeNewValue||"",s)};return e=>{e.on(`attribute:${n}:${t}`,r)}}class DJ extends IB{observe(e){this.listenTo(e,"load",((e,t)=>{const n=t.target;this.checkShouldIgnoreEventFromTarget(n)||"IMG"==n.tagName&&this._fireEvents(t)}),{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class jJ extends GW{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||"block"===t&&Xj("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||"inline"===t&&Xj("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=TR(e.source),n=this.editor.model.document.selection,r=this.editor.plugins.get("ImageUtils"),i=Object.fromEntries(n.getAttributes());t.forEach(((e,t)=>{const o=n.getSelectedElement();if("string"===typeof e&&(e={src:e}),t&&o&&r.isImage(o)){const t=this.editor.model.createPositionAfter(o);r.insertImage({...e,...i},t)}else r.insertImage({...e,...i})}))}}class OJ extends GW{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(t),this.value=this.isEnabled?t.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement(),n=this.editor.plugins.get("ImageUtils");this.editor.model.change((r=>{r.setAttribute("src",e.source,t),this.cleanupImage(r,t),n.setImageNaturalSizeAttributes(t)}))}cleanupImage(e,t){e.removeAttribute("srcset",t),e.removeAttribute("sizes",t),e.removeAttribute("sources",t),e.removeAttribute("width",t),e.removeAttribute("height",t),e.removeAttribute("alt",t)}}class RJ extends $W{static get requires(){return[wJ]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(DJ),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const n=new jJ(e),r=new OJ(e);e.commands.add("insertImage",n),e.commands.add("replaceImageSource",r),e.commands.add("imageInsert",n)}}class LJ extends $W{static get requires(){return[wJ]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,n=t.plugins.get("ImageUtils"),r="imageBlock"===e?"figure":"img";function i(t,r,i,o){t.on(`attribute:${r}:${e}`,((t,r,s)=>{if(!s.consumable.consume(r.item,t.name))return;const a=s.writer,l=s.mapper.toViewElement(r.item),c=n.findViewImgElement(l);if(null!==r.attributeNewValue?a.setAttribute(i,r.attributeNewValue,c):a.removeAttribute(i,c),r.item.hasAttribute("sources"))return;const u=r.item.hasAttribute("resizedWidth");if("imageInline"===e&&!u&&!o)return;const d=r.item.getAttribute("width"),h=r.item.getAttribute("height");d&&h&&a.setStyle("aspect-ratio",`${d}/${h}`,c)}))}t.conversion.for("upcast").attributeToAttribute({view:{name:r,styles:{width:/.+/}},model:{key:"width",value:e=>bJ(e)?vJ(e.getStyle("width")):null}}).attributeToAttribute({view:{name:r,key:"width"},model:"width"}).attributeToAttribute({view:{name:r,styles:{height:/.+/}},model:{key:"height",value:e=>bJ(e)?vJ(e.getStyle("height")):null}}).attributeToAttribute({view:{name:r,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add((e=>{i(e,"width","width",!0),i(e,"height","height",!0)})),t.conversion.for("dataDowncast").add((e=>{i(e,"width","width",!1),i(e,"height","height",!1)}))}}class NJ extends GW{_modelElementName;constructor(e,t){super(e),this._modelElementName=t}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=e.getClosestSelectedImageElement(this.editor.model.document.selection);"imageBlock"===this._modelElementName?this.isEnabled=e.isInlineImage(t):this.isEnabled=e.isBlockImage(t)}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor,n=this.editor.model,r=t.plugins.get("ImageUtils"),i=r.getClosestSelectedImageElement(n.document.selection),o=Object.fromEntries(i.getAttributes());return o.src||o.uploadId?n.change((t=>{const{setImageSizes:s=!0}=e,a=Array.from(n.markers).filter((e=>e.getRange().containsItem(i))),l=r.insertImage(o,n.createSelection(i,"on"),this._modelElementName,{setImageSizes:s});if(!l)return null;const c=t.createRangeOn(l);for(const e of a){const n=e.getRange(),r="$graveyard"!=n.root.rootName?n.getJoined(c,!0):c;t.updateMarker(e,{range:r})}return{oldElement:i,newElement:l}})):null}}class BJ extends $W{static get requires(){return[wJ]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,t=e.conversion,n=e.plugins.get("ImageUtils");t.for("editingDowncast").add((e=>{e.on("attribute:placeholder",((e,t,r)=>{if(!r.consumable.test(t.item,e.name))return;if(!t.item.is("element","imageBlock")&&!t.item.is("element","imageInline"))return;r.consumable.consume(t.item,e.name);const i=r.writer,o=r.mapper.toViewElement(t.item),s=n.findViewImgElement(o);t.attributeNewValue?(i.addClass("image_placeholder",s),i.setStyle("background-image",`url(${t.attributeNewValue})`,s),i.setCustomProperty("editingPipeline:doNotReuseOnce",!0,s)):(i.removeClass("image_placeholder",s),i.removeStyle("background-image",s))}))}))}_setupLoadListener(){const e=this.editor,t=e.model,n=e.editing,r=n.view,i=e.plugins.get("ImageUtils");r.addObserver(DJ),this.listenTo(r.document,"imageLoaded",((e,o)=>{const s=r.domConverter.mapDomToView(o.target);if(!s)return;const a=i.getImageWidgetFromImageView(s);if(!a)return;const l=n.mapper.toModelElement(a);l&&l.hasAttribute("placeholder")&&t.enqueueChange({isUndoable:!1},(e=>{e.removeAttribute("placeholder",l)}))}))}}class FJ extends $W{static get requires(){return[RJ,LJ,wJ,BJ,lZ]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new NJ(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,r=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(e,t)=>{let{writer:n}=t;return pJ(n)}}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(e,n)=>{let{writer:i}=n;return r.toImageWidget(pJ(i),i,t("image widget"))}}),n.for("downcast").add(PJ(r,"imageBlock","src")).add(PJ(r,"imageBlock","alt")).add(EJ(r,"imageBlock")),n.for("upcast").elementToElement({view:mJ(e,"imageBlock"),model:(e,t)=>{let{writer:n}=t;return n.createElement("imageBlock",e.hasAttribute("src")?{src:e.getAttribute("src")}:void 0)}}).add(function(e){const t=(t,n,r)=>{if(!r.consumable.test(n.viewItem,{name:!0,classes:"image"}))return;const i=e.findViewImgElement(n.viewItem);if(!i||!r.consumable.test(i,{name:!0}))return;r.consumable.consume(n.viewItem,{name:!0,classes:"image"});const o=PR(r.convertItem(i,n.modelCursor).modelRange.getItems());o?(r.convertChildren(n.viewItem,o),r.updateConversionResult(o,n)):r.consumable.revert(n.viewItem,{name:!0,classes:"image"})};return e=>{e.on("element:figure",t)}}(r))}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,r=e.plugins.get("ImageUtils"),i=e.plugins.get("ClipboardPipeline");this.listenTo(i,"inputTransformation",((i,o)=>{const s=Array.from(o.content.getChildren());let a;if(!s.every(r.isInlineImageView))return;a=o.targetRanges?e.editing.mapper.toModelRange(o.targetRanges[0]):t.document.selection.getFirstRange();const l=t.createSelection(a);if("imageBlock"===gJ(t.schema,l)){const e=new GV(n.document),t=s.map((t=>e.createElement("figure",{class:"image"},t)));o.content=e.createDocumentFragment(t)}})),this.listenTo(i,"contentInsertion",((e,n)=>{"paste"===n.method&&t.change((e=>{const t=e.createRangeIn(n.content);for(const n of t.getItems())n.is("element","imageBlock")&&r.setImageNaturalSizeAttributes(n)}))}))}}class zJ extends xU{focusTracker;keystrokes;_focusables;_focusCycler;children;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];super(e),this.focusTracker=new DR,this.keystrokes=new jR,this._focusables=new JH,this.children=this.createCollection(),this._focusCycler=new PU({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const n of t)this.children.add(n),this._focusables.add(n),n instanceof l$&&this._focusables.addMany(n.children);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),kU({view:this});for(const t of this._focusables)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element);const e=e=>e.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class VJ extends $W{static get pluginName(){return"ImageInsertUI"}static get requires(){return[wJ]}dropdownView;_integrations=(()=>new Map)();constructor(e){super(e),e.config.define("image.insert.integrations",["upload","assetManager","url"])}init(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",(()=>{this.isImageSelected=n.isImage(t.getSelectedElement())}));const r=e=>this._createToolbarComponent(e);e.ui.componentFactory.add("insertImage",r),e.ui.componentFactory.add("imageInsert",r),e.ui.componentFactory.add("menuBar:insertImage",(e=>this._createMenuBarComponent(e)))}registerIntegration(e){let{name:t,observable:n,buttonViewCreator:r,formViewCreator:i,menuBarButtonViewCreator:o,requiresForm:s=!1}=e;this._integrations.has(t)&&Xj("image-insert-integration-exists",{name:t}),this._integrations.set(t,{observable:n,buttonViewCreator:r,menuBarButtonViewCreator:o,formViewCreator:i,requiresForm:s})}_createToolbarComponent(e){const t=this.editor,n=e.t,r=this._prepareIntegrations();if(!r.length)return null;let i;const o=r[0];if(1==r.length){if(!o.requiresForm)return o.buttonViewCreator(!0);i=o.buttonViewCreator(!0)}else{const t=o.buttonViewCreator(!1);i=new z$(e,t),i.tooltip=!0,i.bind("label").to(this,"isImageSelected",(e=>n(e?"Replace image":"Insert image")))}const s=this.dropdownView=V$(e,i),a=r.map((e=>{let{observable:t}=e;return"function"==typeof t?t():t}));return s.bind("isEnabled").toMany(a,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((e=>e))})),s.once("change:isOpen",(()=>{const e=r.map((e=>{let{formViewCreator:t}=e;return t(1==r.length)})),n=new zJ(t.locale,e);s.panelView.children.add(n)})),s}_createMenuBarComponent(e){const t=e.t,n=this._prepareIntegrations();if(!n.length)return null;let r;const i=n[0];if(1==n.length)r=i.menuBarButtonViewCreator(!0);else{r=new cG(e);const i=new uG(e);r.panelView.children.add(i),r.buttonView.set({icon:lH.image,label:t("Image")});for(const t of n){const n=new kY(e,r),o=t.menuBarButtonViewCreator(!1);n.children.add(o),i.items.add(n)}}return r}_prepareIntegrations(){const e=this.editor.config.get("image.insert.integrations"),t=[];if(!e.length)return Xj("image-insert-integrations-not-specified"),t;for(const n of e)this._integrations.has(n)?t.push(this._integrations.get(n)):["upload","assetManager","url"].includes(n)||Xj("image-insert-unknown-integration",{item:n});return t.length||Xj("image-insert-integrations-not-registered"),t}}class WJ extends $W{static get requires(){return[FJ,YX,MJ,VJ]}static get pluginName(){return"ImageBlock"}}class HJ extends $W{static get requires(){return[RJ,LJ,wJ,BJ,lZ]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor;e.model.schema.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"],disallowIn:["caption"]}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new NJ(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,r=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(e,t)=>{let{writer:n}=t;return n.createEmptyElement("img")}}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(e,n)=>{let{writer:i}=n;return r.toImageWidget(function(e){return e.createContainerElement("span",{class:"image-inline"},e.createEmptyElement("img"))}(i),i,t("image widget"))}}),n.for("downcast").add(PJ(r,"imageInline","src")).add(PJ(r,"imageInline","alt")).add(EJ(r,"imageInline")),n.for("upcast").elementToElement({view:mJ(e,"imageInline"),model:(e,t)=>{let{writer:n}=t;return n.createElement("imageInline",e.hasAttribute("src")?{src:e.getAttribute("src")}:void 0)}})}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,r=e.plugins.get("ImageUtils"),i=e.plugins.get("ClipboardPipeline");this.listenTo(i,"inputTransformation",((i,o)=>{const s=Array.from(o.content.getChildren());let a;if(!s.every(r.isBlockImageView))return;a=o.targetRanges?e.editing.mapper.toModelRange(o.targetRanges[0]):t.document.selection.getFirstRange();const l=t.createSelection(a);if("imageInline"===gJ(t.schema,l)){const e=new GV(n.document),t=s.map((t=>1===t.childCount?(Array.from(t.getAttributes()).forEach((n=>e.setAttribute(...n,r.findViewImgElement(t)))),t.getChild(0)):t));o.content=e.createDocumentFragment(t)}})),this.listenTo(i,"contentInsertion",((e,n)=>{"paste"===n.method&&t.change((e=>{const t=e.createRangeIn(n.content);for(const n of t.getItems())n.is("element","imageInline")&&r.setImageNaturalSizeAttributes(n)}))}))}}class UJ extends $W{static get requires(){return[HJ,YX,MJ,VJ]}static get pluginName(){return"ImageInline"}}class $J extends $W{static get requires(){return[WJ,UJ]}static get pluginName(){return"Image"}}class YJ extends $W{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[wJ]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),n=e.getFirstPosition().findAncestor("caption");return n&&t.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return"figcaption"==e.name&&t.isBlockImageView(e.parent)?{name:!0}:null}}class GJ extends GW{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),n=e.plugins.get("ImageUtils");if(!e.plugins.has(FJ))return this.isEnabled=!1,void(this.value=!1);const r=e.model.document.selection,i=r.getSelectedElement();if(!i){const e=t.getCaptionFromModelSelection(r);return this.isEnabled=!!e,void(this.value=!!e)}this.isEnabled=n.isImage(i),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(i):this.value=!1}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{focusCaptionOnShow:t}=e;this.editor.model.change((e=>{this.value?this._hideImageCaption(e):this._showImageCaption(e,t)}))}_showImageCaption(e,t){const n=this.editor.model.document.selection,r=this.editor.plugins.get("ImageCaptionEditing"),i=this.editor.plugins.get("ImageUtils");let o=n.getSelectedElement();const s=r._getSavedCaption(o);i.isInlineImage(o)&&(this.editor.execute("imageTypeBlock"),o=n.getSelectedElement());const a=s||e.createElement("caption");e.append(a,o),t&&e.setSelection(a,"in")}_hideImageCaption(e){const t=this.editor,n=t.model.document.selection,r=t.plugins.get("ImageCaptionEditing"),i=t.plugins.get("ImageCaptionUtils");let o,s=n.getSelectedElement();s?o=i.getCaptionFromImageModelElement(s):(o=i.getCaptionFromModelSelection(n),s=o.parent),r._saveCaption(s,o),e.setSelection(s,"on"),e.remove(o)}}class qJ extends $W{static get requires(){return[wJ,YJ]}static get pluginName(){return"ImageCaptionEditing"}_savedCaptionsMap;constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new GJ(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils"),i=e.t;e.conversion.for("upcast").elementToElement({view:e=>r.matchImageCaptionViewElement(e),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(e,t)=>{let{writer:r}=t;return n.isBlockImage(e.parent)?r.createContainerElement("figcaption"):null}}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(e,r)=>{let{writer:o}=r;if(!n.isBlockImage(e.parent))return null;const s=o.createEditableElement("figcaption");o.setCustomProperty("imageCaption",!0,s),s.placeholder=i("Enter image caption"),eN({view:t,element:s,keepOnFocus:!0});const a=e.parent.getAttribute("alt");return DX(s,o,{label:a?i("Caption for image: %0",[a]):i("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.plugins.get("ImageCaptionUtils"),r=e.commands.get("imageTypeInline"),i=e.commands.get("imageTypeBlock"),o=e=>{if(!e.return)return;const{oldElement:r,newElement:i}=e.return;if(!r)return;if(t.isBlockImage(r)){const e=n.getCaptionFromImageModelElement(r);if(e)return void this._saveCaption(i,e)}const o=this._getSavedCaption(r);o&&this._saveCaption(i,o)};r&&this.listenTo(r,"execute",o,{priority:"low"}),i&&this.listenTo(i,"execute",o,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?XB.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,n=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",(()=>{const i=t.document.differ.getChanges();for(const t of i){if("alt"!==t.attributeKey)continue;const i=t.range.start.nodeAfter;if(n.isBlockImage(i)){const t=r.getCaptionFromImageModelElement(i);if(!t)return;e.editing.reconvertItem(t)}}}))}}class XJ extends $W{static get requires(){return[YJ]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageCaptionUtils"),r=e.t;e.ui.componentFactory.add("toggleImageCaption",(i=>{const o=e.commands.get("toggleImageCaption"),s=new IU(i);return s.set({icon:lH.caption,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(o,"value","isEnabled"),s.bind("label").to(o,"value",(e=>r(e?"Toggle caption off":"Toggle caption on"))),this.listenTo(s,"execute",(()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const r=n.getCaptionFromModelSelection(e.model.document.selection);if(r){const n=e.editing.mapper.toViewElement(r);t.scrollToTheSelection(),t.change((e=>{e.addClass("image__caption_highlighted",n)}))}e.editing.view.focus()})),s}))}}class ZJ extends $W{static get requires(){return[qJ,XJ]}static get pluginName(){return"ImageCaption"}}function KJ(e){const t=e.map((e=>e.replace("+","\\+")));return new RegExp(`^image\\/(${t.join("|")})$`)}function QJ(e){return new Promise(((t,n)=>{const r=e.getAttribute("src");fetch(r).then((e=>e.blob())).then((e=>{const n=JJ(e,r),i=n.replace("image/",""),o=new File([e],`image.${i}`,{type:n});t(o)})).catch((e=>e&&"TypeError"===e.name?function(e){return function(e){return new Promise(((t,n)=>{const r=Aj.document.createElement("img");r.addEventListener("load",(()=>{const e=Aj.document.createElement("canvas");e.width=r.width,e.height=r.height;e.getContext("2d").drawImage(r,0,0),e.toBlob((e=>e?t(e):n()))})),r.addEventListener("error",(()=>n())),r.src=e}))}(e).then((t=>{const n=JJ(t,e),r=n.replace("image/","");return new File([t],`image.${r}`,{type:n})}))}(r).then(t).catch(n):n(e)))}))}function JJ(e,t){return e.type?e.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class e0 extends $W{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor;e.ui.componentFactory.add("uploadImage",(()=>this._createToolbarButton())),e.ui.componentFactory.add("imageUpload",(()=>this._createToolbarButton())),e.ui.componentFactory.add("menuBar:uploadImage",(()=>this._createMenuBarButton("standalone"))),e.plugins.has("ImageInsertUI")&&e.plugins.get("ImageInsertUI").registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:e=>this._createMenuBarButton(e?"insertOnly":"insertNested")})}_createButton(e){const t=this.editor,n=t.locale,r=t.commands.get("uploadImage"),i=t.config.get("image.upload.types"),o=KJ(i),s=new e(t.locale),a=n.t;return s.set({acceptedType:i.map((e=>`image/${e}`)).join(","),allowMultipleFiles:!0,label:a("Upload from computer"),icon:lH.imageUpload}),s.bind("isEnabled").to(r),s.on("done",((e,n)=>{const r=Array.from(n).filter((e=>o.test(e.type)));r.length&&(t.execute("uploadImage",{file:r}),t.editing.view.focus())})),s}_createToolbarButton(){const e=this.editor.locale.t,t=this.editor.plugins.get("ImageInsertUI"),n=this.editor.commands.get("uploadImage"),r=this._createButton(r$);return r.tooltip=!0,r.bind("label").to(t,"isImageSelected",n,"isAccessAllowed",((t,n)=>e(n?t?"Replace image from computer":"Upload image from computer":"You have no image upload permissions."))),r}_createDropdownButton(){const e=this.editor.locale.t,t=this.editor.plugins.get("ImageInsertUI"),n=this._createButton(r$);return n.withText=!0,n.bind("label").to(t,"isImageSelected",(t=>e(t?"Replace from computer":"Upload from computer"))),n.on("execute",(()=>{t.dropdownView.isOpen=!1})),n}_createMenuBarButton(e){const t=this.editor.locale.t,n=this._createButton(hG);switch(n.withText=!0,e){case"standalone":n.label=t("Image from computer");break;case"insertOnly":n.label=t("Image");break;case"insertNested":n.label=t("From computer")}return n}}class t0 extends $W{static get pluginName(){return"ImageUploadProgress"}placeholder;constructor(e){super(e),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}uploadStatusChange=(e,t,n)=>{const r=this.editor,i=t.item,o=i.getAttribute("uploadId");if(!n.consumable.consume(t.item,e.name))return;const s=r.plugins.get("ImageUtils"),a=r.plugins.get(uH),l=o?t.attributeNewValue:null,c=this.placeholder,u=r.editing.mapper.toViewElement(i),d=n.writer;if("reading"==l)return n0(u,d),void r0(s,c,u,d);if("uploading"==l){const e=a.loaders.get(o);return n0(u,d),void(e?(i0(u,d),function(e,t,n,r){const i=function(e){const t=e.createUIElement("div",{class:"ck-progress-bar"});return e.setCustomProperty("progressBar",!0,t),t}(t);t.insert(t.createPositionAt(e,"end"),i),n.on("change:uploadedPercent",((e,t,n)=>{r.change((e=>{e.setStyle("width",n+"%",i)}))}))}(u,d,e,r.editing.view),function(e,t,n,r){if(r.data){const i=e.findViewImgElement(t);n.setAttribute("src",r.data,i)}}(s,u,d,e)):r0(s,c,u,d))}"complete"==l&&a.loaders.get(o)&&function(e,t,n){const r=t.createUIElement("div",{class:"ck-image-upload-complete-icon"});t.insert(t.createPositionAt(e,"end"),r),setTimeout((()=>{n.change((e=>e.remove(e.createRangeOn(r))))}),3e3)}(u,d,r.editing.view),function(e,t){s0(e,t,"progressBar")}(u,d),i0(u,d),function(e,t){t.removeClass("ck-appear",e)}(u,d)}}function n0(e,t){e.hasClass("ck-appear")||t.addClass("ck-appear",e)}function r0(e,t,n,r){n.hasClass("ck-image-upload-placeholder")||r.addClass("ck-image-upload-placeholder",n);const i=e.findViewImgElement(n);i.getAttribute("src")!==t&&r.setAttribute("src",t,i),o0(n,"placeholder")||r.insert(r.createPositionAfter(i),function(e){const t=e.createUIElement("div",{class:"ck-upload-placeholder-loader"});return e.setCustomProperty("placeholder",!0,t),t}(r))}function i0(e,t){e.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",e),s0(e,t,"placeholder")}function o0(e,t){for(const n of e.getChildren())if(n.getCustomProperty(t))return n}function s0(e,t,n){const r=o0(e,n);r&&t.remove(t.createRangeOn(r))}class a0 extends GW{constructor(e){super(e),this.set("isAccessAllowed",!0)}refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(n)}execute(e){const t=TR(e.file),n=this.editor.model.document.selection,r=this.editor.plugins.get("ImageUtils"),i=Object.fromEntries(n.getAttributes());t.forEach(((e,t)=>{const o=n.getSelectedElement();if(t&&o&&r.isImage(o)){const t=this.editor.model.createPositionAfter(o);this._uploadImage(e,i,t)}else this._uploadImage(e,i)}))}_uploadImage(e,t,n){const r=this.editor,i=r.plugins.get(uH).createLoader(e),o=r.plugins.get("ImageUtils");i&&o.insertImage({...t,uploadId:i.id},n)}}class l0 extends $W{static get requires(){return[uH,$Y,lZ,wJ]}static get pluginName(){return"ImageUploadEditing"}_uploadImageElements;constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,t=e.model.document,n=e.conversion,r=e.plugins.get(uH),i=e.plugins.get("ImageUtils"),o=e.plugins.get("ClipboardPipeline"),s=KJ(e.config.get("image.upload.types")),a=new a0(e);e.commands.add("uploadImage",a),e.commands.add("imageUpload",a),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",((t,n)=>{if(r=n.dataTransfer,Array.from(r.types).includes("text/html")&&""!==r.getData("text/html"))return;var r;const i=Array.from(n.dataTransfer.files).filter((e=>!!e&&s.test(e.type)));if(!i.length)return;t.stop(),e.model.change((t=>{n.targetRanges&&t.setSelection(n.targetRanges.map((t=>e.editing.mapper.toModelRange(t)))),e.execute("uploadImage",{file:i})}));if(!e.commands.get("uploadImage").isAccessAllowed){const t=e.plugins.get("Notification"),n=e.locale.t;t.showWarning(n("You have no image upload permissions."),{namespace:"image"})}})),this.listenTo(o,"inputTransformation",((t,n)=>{const o=Array.from(e.editing.view.createRangeIn(n.content)).map((e=>e.item)).filter((e=>function(e,t){return!(!e.isInlineImageView(t)||!t.getAttribute("src"))&&(!!t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!t.getAttribute("src").match(/^blob:/g))}(i,e)&&!e.getAttribute("uploadProcessed"))).map((e=>({promise:QJ(e),imageElement:e})));if(!o.length)return;const s=new GV(e.editing.view.document);for(const e of o){s.setAttribute("uploadProcessed",!0,e.imageElement);const t=r.createLoader(e.promise);t&&(s.setAttribute("src","",e.imageElement),s.setAttribute("uploadId",t.id,e.imageElement))}})),e.editing.view.document.on("dragover",((e,t)=>{t.preventDefault()})),t.on("change",(()=>{const n=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),i=new Set;for(const t of n)if("insert"==t.type&&"$text"!=t.name){const n=t.position.nodeAfter,o="$graveyard"==t.position.root.rootName;for(const t of c0(e,n)){const e=t.getAttribute("uploadId");if(!e)continue;const n=r.loaders.get(e);n&&(o?i.has(e)||n.abort():(i.add(e),this._uploadImageElements.set(e,t),"idle"==n.status&&this._readAndUpload(n)))}}})),this.on("uploadComplete",((e,t)=>{let{imageElement:n,data:r}=t;const o=r.urls?r.urls:r;this.editor.model.change((e=>{e.setAttribute("src",o.default,n),this._parseAndSetSrcsetAttributeOnImage(o,n,e),i.setImageNaturalSizeAttributes(n)}))}),{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,n=t.model,r=t.locale.t,i=t.plugins.get(uH),o=t.plugins.get($Y),s=t.plugins.get("ImageUtils"),a=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},(t=>{t.setAttribute("uploadStatus","reading",a.get(e.id))})),e.read().then((()=>{const i=e.upload(),o=a.get(e.id);if(Mj.isSafari){const e=t.editing.mapper.toViewElement(o),n=s.findViewImgElement(e);t.editing.view.once("render",(()=>{if(!n.parent)return;const e=t.editing.view.domConverter.mapViewToDom(n.parent);if(!e)return;const r=e.style.display;e.style.display="none",e._ckHack=e.offsetHeight,e.style.display=r}))}return t.ui&&t.ui.ariaLiveAnnouncer.announce(r("Uploading image")),n.enqueueChange({isUndoable:!1},(e=>{e.setAttribute("uploadStatus","uploading",o)})),i})).then((i=>{n.enqueueChange({isUndoable:!1},(n=>{const o=a.get(e.id);n.setAttribute("uploadStatus","complete",o),t.ui&&t.ui.ariaLiveAnnouncer.announce(r("Image upload complete")),this.fire("uploadComplete",{data:i,imageElement:o})})),l()})).catch((i=>{if(t.ui&&t.ui.ariaLiveAnnouncer.announce(r("Error during image upload")),"error"!==e.status&&"aborted"!==e.status)throw i;"error"==e.status&&i&&o.showWarning(i,{title:r("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},(t=>{t.remove(a.get(e.id))})),l()}));function l(){n.enqueueChange({isUndoable:!1},(t=>{const n=a.get(e.id);t.removeAttribute("uploadId",n),t.removeAttribute("uploadStatus",n),a.delete(e.id)})),i.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,n){let r=0;const i=Object.keys(e).filter((e=>{const t=parseInt(e,10);if(!isNaN(t))return r=Math.max(r,t),!0})).map((t=>`${e[t]} ${t}w`)).join(", ");if(""!=i){const e={srcset:i};t.hasAttribute("width")||t.hasAttribute("height")||(e.width=r),n.setAttributes(e,t)}}}function c0(e,t){const n=e.plugins.get("ImageUtils");return Array.from(e.model.createRangeOn(t)).filter((e=>n.isImage(e.item))).map((e=>e.item))}class u0 extends $W{static get pluginName(){return"ImageUpload"}static get requires(){return[l0,e0,t0]}}class d0 extends xU{urlInputView;keystrokes;constructor(e){super(e),this.set("imageURLInputValue",""),this.set("isImageSelected",!1),this.set("isEnabled",!0),this.keystrokes=new jR,this.urlInputView=this._createUrlInputView(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-image-insert-url"]},children:[this.urlInputView,{tag:"div",attributes:{class:["ck","ck-image-insert-url__action-row"]}}]})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}_createUrlInputView(){const e=this.locale,t=e.t,n=new g$(e,q$);return n.bind("label").to(this,"isImageSelected",(e=>t(e?"Update image URL":"Insert image via URL"))),n.bind("isEnabled").to(this),n.fieldView.inputMode="url",n.fieldView.placeholder="https://example.com/image.png",n.fieldView.bind("value").to(this,"imageURLInputValue",(e=>e||"")),n.fieldView.on("input",(()=>{this.imageURLInputValue=n.fieldView.element.value.trim()})),n}focus(){this.urlInputView.focus()}}class h0 extends $W{_imageInsertUI;_formView;static get pluginName(){return"ImageInsertViaUrlUI"}static get requires(){return[VJ,YU]}init(){this.editor.ui.componentFactory.add("insertImageViaUrl",(()=>this._createToolbarButton())),this.editor.ui.componentFactory.add("menuBar:insertImageViaUrl",(()=>this._createMenuBarButton("standalone")))}afterInit(){this._imageInsertUI=this.editor.plugins.get("ImageInsertUI"),this._imageInsertUI.registerIntegration({name:"url",observable:()=>this.editor.commands.get("insertImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:e=>this._createMenuBarButton(e?"insertOnly":"insertNested")})}_createInsertUrlButton(e){const t=new e(this.editor.locale);return t.icon=lH.imageUrl,t.on("execute",(()=>{this._showModal()})),t}_createToolbarButton(){const e=this.editor.locale.t,t=this._createInsertUrlButton(IU);return t.tooltip=!0,t.bind("label").to(this._imageInsertUI,"isImageSelected",(t=>e(t?"Update image URL":"Insert image via URL"))),t}_createDropdownButton(){const e=this.editor.locale.t,t=this._createInsertUrlButton(IU);return t.withText=!0,t.bind("label").to(this._imageInsertUI,"isImageSelected",(t=>e(t?"Update image URL":"Insert via URL"))),t}_createMenuBarButton(e){const t=this.editor.locale.t,n=this._createInsertUrlButton(XU);switch(n.withText=!0,e){case"standalone":n.label=t("Image via URL");break;case"insertOnly":n.label=t("Image");break;case"insertNested":n.label=t("Via URL")}return n}_createInsertUrlView(){const e=this.editor,t=e.locale,n=e.commands.get("replaceImageSource"),r=e.commands.get("insertImage"),i=new d0(t);return i.bind("isImageSelected").to(this._imageInsertUI),i.bind("isEnabled").toMany([r,n],"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((e=>e))})),i}_showModal(){const e=this.editor,t=e.locale.t,n=e.plugins.get("Dialog");this._formView||(this._formView=this._createInsertUrlView(),this._formView.on("submit",(()=>this._handleSave())));const r=e.commands.get("replaceImageSource");this._formView.imageURLInputValue=r.value||"",n.show({id:"insertImageViaUrl",title:this._imageInsertUI.isImageSelected?t("Update image URL"):t("Insert image via URL"),isModal:!0,content:this._formView,actionButtons:[{label:t("Cancel"),withText:!0,onExecute:()=>n.hide()},{label:t("Accept"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSave()}]})}_handleSave(){this.editor.commands.get("replaceImageSource").isEnabled?this.editor.execute("replaceImageSource",{source:this._formView.imageURLInputValue}):this.editor.execute("insertImage",{source:this._formView.imageURLInputValue}),this.editor.plugins.get("Dialog").hide()}}class f0 extends $W{static get pluginName(){return"ImageInsertViaUrl"}static get requires(){return[h0,VJ]}}class p0 extends $W{static get pluginName(){return"ImageInsert"}static get requires(){return[u0,f0,VJ]}}class m0 extends GW{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils").getClosestSelectedImageElement(e.model.document.selection);this.isEnabled=!!t,t&&t.hasAttribute("resizedWidth")?this.value={width:t.getAttribute("resizedWidth"),height:null}:this.value=null}execute(e){const t=this.editor,n=t.model,r=t.plugins.get("ImageUtils"),i=r.getClosestSelectedImageElement(n.document.selection);this.value={width:e.width,height:null},i&&n.change((t=>{t.setAttribute("resizedWidth",e.width,i),t.removeAttribute("resizedHeight",i),r.setImageNaturalSizeAttributes(i)}))}}class g0 extends $W{static get requires(){return[wJ]}static get pluginName(){return"ImageResizeEditing"}constructor(e){super(e),e.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:custom",value:"custom",icon:"custom"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const e=this.editor,t=new m0(e);this._registerConverters("imageBlock"),this._registerConverters("imageInline"),e.commands.add("resizeImage",t),e.commands.add("imageResize",t)}afterInit(){this._registerSchema()}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(e){const t=this.editor,n=t.plugins.get("ImageUtils");t.conversion.for("downcast").add((t=>t.on(`attribute:resizedWidth:${e}`,((e,t,n)=>{if(!n.consumable.consume(t.item,e.name))return;const r=n.writer,i=n.mapper.toViewElement(t.item);null!==t.attributeNewValue?(r.setStyle("width",t.attributeNewValue,i),r.addClass("image_resized",i)):(r.removeStyle("width",i),r.removeClass("image_resized",i))})))),t.conversion.for("dataDowncast").attributeToAttribute({model:{name:e,key:"resizedHeight"},view:e=>({key:"style",value:{height:e}})}),t.conversion.for("editingDowncast").add((t=>t.on(`attribute:resizedHeight:${e}`,((t,r,i)=>{if(!i.consumable.consume(r.item,t.name))return;const o=i.writer,s=i.mapper.toViewElement(r.item),a="imageInline"===e?n.findViewImgElement(s):s;null!==r.attributeNewValue?o.setStyle("height",r.attributeNewValue,a):o.removeStyle("height",a)})))),t.conversion.for("upcast").attributeToAttribute({view:{name:"imageBlock"===e?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:e=>bJ(e)?null:e.getStyle("width")}}),t.conversion.for("upcast").attributeToAttribute({view:{name:"imageBlock"===e?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:e=>bJ(e)?null:e.getStyle("height")}})}}const v0=(()=>({small:lH.objectSizeSmall,medium:lH.objectSizeMedium,large:lH.objectSizeLarge,custom:lH.objectSizeCustom,original:lH.objectSizeFull}))();class b0 extends $W{static get requires(){return[g0]}static get pluginName(){return"ImageResizeButtons"}_resizeUnit;constructor(e){super(e),this._resizeUnit=e.config.get("image.resizeUnit")}init(){const e=this.editor,t=e.config.get("image.resizeOptions"),n=e.commands.get("resizeImage");this.bind("isEnabled").to(n);for(const r of t)this._registerImageResizeButton(r);this._registerImageResizeDropdown(t)}_registerImageResizeButton(e){const t=this.editor,{name:n,value:r,icon:i}=e;t.ui.componentFactory.add(n,(n=>{const o=new IU(n),s=t.commands.get("resizeImage"),a=this._getOptionLabelValue(e,!0);if(!v0[i])throw new qj("imageresizebuttons-missing-icon",t,e);if(o.set({label:a,icon:v0[i],tooltip:a,isToggleable:!0}),o.bind("isEnabled").to(this),t.plugins.has("ImageCustomResizeUI")&&y0(e)){const e=t.plugins.get("ImageCustomResizeUI");this.listenTo(o,"execute",(()=>{e._showForm(this._resizeUnit)}))}else{const e=r?r+this._resizeUnit:null;o.bind("isOn").to(s,"value",w0(e)),this.listenTo(o,"execute",(()=>{t.execute("resizeImage",{width:e})}))}return o}))}_registerImageResizeDropdown(e){const t=this.editor,n=t.t,r=e.find((e=>!e.value)),i=i=>{const o=t.commands.get("resizeImage"),s=V$(i,C$),a=s.buttonView,l=n("Resize image");return a.set({tooltip:l,commandValue:r.value,icon:v0.medium,isToggleable:!0,label:this._getOptionLabelValue(r),withText:!0,class:"ck-resize-image-button",ariaLabel:l,ariaLabelledBy:void 0}),a.bind("label").to(o,"value",(e=>e&&e.width?e.width:this._getOptionLabelValue(r))),s.bind("isEnabled").to(this),U$(s,(()=>this._getResizeDropdownListItemDefinitions(e,o)),{ariaLabel:n("Image resize list"),role:"menu"}),this.listenTo(s,"execute",(e=>{"onClick"in e.source?e.source.onClick():(t.execute(e.source.commandName,{width:e.source.commandValue}),t.editing.view.focus())})),s};t.ui.componentFactory.add("resizeImage",i),t.ui.componentFactory.add("imageResize",i)}_getOptionLabelValue(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.editor.t;return e.label?e.label:t?y0(e)?n("Custom image size"):e.value?n("Resize image to %0",e.value+this._resizeUnit):n("Resize image to the original size"):y0(e)?n("Custom"):e.value?e.value+this._resizeUnit:n("Original")}_getResizeDropdownListItemDefinitions(e,t){const{editor:n}=this,r=new ER,i=e.map((e=>y0(e)?{...e,valueWithUnits:"custom"}:e.value?{...e,valueWithUnits:`${e.value}${this._resizeUnit}`}:{...e,valueWithUnits:null}));for(const o of i){let e=null;if(n.plugins.has("ImageCustomResizeUI")&&y0(o)){const r=n.plugins.get("ImageCustomResizeUI");e={type:"button",model:new YY({label:this._getOptionLabelValue(o),role:"menuitemradio",withText:!0,icon:null,onClick:()=>{r._showForm(this._resizeUnit)}})};const s=fJ(i,"valueWithUnits");e.model.bind("isOn").to(t,"value",x0(s))}else e={type:"button",model:new YY({commandName:"resizeImage",commandValue:o.valueWithUnits,label:this._getOptionLabelValue(o),role:"menuitemradio",withText:!0,icon:null})},e.model.bind("isOn").to(t,"value",w0(o.valueWithUnits));e.model.bind("isEnabled").to(t,"isEnabled"),r.add(e)}return r}}function y0(e){return"custom"===e.value}function w0(e){return t=>null===e&&t===e||null!==t&&t.width===e}function x0(e){return t=>!e.some((e=>w0(e)(t)))}const _0="image_resized";class C0 extends $W{static get requires(){return[tZ,wJ]}static get pluginName(){return"ImageResizeHandles"}init(){const e=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(e),this._setupResizerCreator()}_setupResizerCreator(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils");t.addObserver(DJ),this.listenTo(t.document,"imageLoaded",((r,i)=>{if(!i.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const o=e.editing.view.domConverter,s=o.domToView(i.target),a=n.getImageWidgetFromImageView(s);let l=this.editor.plugins.get(tZ).getResizerByViewElement(a);if(l)return void l.redraw();const c=e.editing.mapper,u=c.toModelElement(a);l=e.plugins.get(tZ).attachTo({unit:e.config.get("image.resizeUnit"),modelElement:u,viewElement:a,editor:e,getHandleHost:e=>e.querySelector("img"),getResizeHost:()=>o.mapViewToDom(c.toViewElement(u)),isCentered:()=>"alignCenter"==u.getAttribute("imageStyle"),onCommit(n){t.change((e=>{e.removeClass(_0,a)})),e.execute("resizeImage",{width:n})}}),l.on("updateSize",(()=>{a.hasClass(_0)||t.change((e=>{e.addClass(_0,a)}));const e="imageInline"===u.name?s:a;e.getStyle("height")&&t.change((t=>{t.removeStyle("height",e)}))})),l.bind("isEnabled").to(this)}))}}function k0(e){if(!e)return null;const[,t,n]=e.trim().match(/([.,\d]+)(%|px)$/)||[],r=Number.parseFloat(t);return Number.isNaN(r)?null:{value:r,unit:n}}function S0(e,t,n){return"px"===n?{value:t.value,unit:"px"}:{value:t.value/e*100,unit:"%"}}function A0(e){const{editing:t}=e,n=e.plugins.get("ImageUtils").getClosestSelectedImageElement(e.model.document.selection);if(!n)return null;const r=t.mapper.toViewElement(n);return{model:n,view:r,dom:t.view.domConverter.mapViewToDom(r)}}class T0 extends xU{focusTracker;keystrokes;unit;labeledInput;saveButtonView;cancelButtonView;_focusables;_focusCycler;_validators;constructor(e,t,n){super(e);const r=this.locale.t;this.focusTracker=new DR,this.keystrokes=new jR,this.unit=t,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(r("Save"),lH.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),lH.cancel,"ck-button-cancel","cancel"),this._focusables=new JH,this._validators=n,this._focusCycler=new PU({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-custom-resize-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),kU({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((e=>{this._focusables.add(e),this.focusTracker.add(e.element)}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,n,r){const i=new IU(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}_createLabeledInputView(){const e=this.locale.t,t=new g$(this.locale,X$);return t.label=e("Resize image (in %0)",this.unit),t.fieldView.set({step:.1}),t}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.labeledInput.errorText=t,!1}return!0}resetFormStatus(){this.labeledInput.errorText=null}get rawSize(){const{element:e}=this.labeledInput.fieldView;return e?e.value:null}get parsedSize(){const{rawSize:e}=this;if(null===e)return null;const t=Number.parseFloat(e);return Number.isNaN(t)?null:t}get sizeWithUnits(){const{parsedSize:e,unit:t}=this;return null===e?null:`${e}${t}`}}class I0 extends $W{_balloon;_form;static get requires(){return[qY]}static get pluginName(){return"ImageCustomResizeUI"}destroy(){super.destroy(),this._form&&this._form.destroy()}_createForm(e){const t=this.editor;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(CU(T0))(t.locale,e,function(e){const t=e.t;return[e=>""===e.rawSize.trim()?t("The value must not be empty."):null===e.parsedSize?t("The value should be a plain number."):void 0]}(t)),this._form.render(),this.listenTo(this._form,"submit",(()=>{this._form.isValid()&&(t.execute("resizeImage",{width:this._form.sizeWithUnits}),this._hideForm(!0))})),this.listenTo(this._form.labeledInput,"change:errorText",(()=>{t.ui.update()})),this.listenTo(this._form,"cancel",(()=>{this._hideForm(!0)})),this._form.keystrokes.set("Esc",((e,t)=>{this._hideForm(!0),t()})),_U({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(e){if(this._isVisible)return;this._form||this._createForm(e);const t=this.editor,n=this._form.labeledInput;this._form.disableCssTransitions(),this._form.resetFormStatus(),this._isInBalloon||this._balloon.add({view:this._form,position:TJ(t)});const r=function(e,t){const n=A0(e);if(!n)return null;const r=k0(n.model.getAttribute("resizedWidth")||null);return r?r.unit===t?r:S0(RX(n.dom),{unit:"px",value:new HO(n.dom).width},t):null}(t,e),i=r?r.value.toFixed(1):"",o=function(e,t){const n=A0(e);if(!n)return null;const r=RX(n.dom),i=k0(window.getComputedStyle(n.dom).minWidth)||{value:1,unit:"px"};return{unit:t,lower:Math.max(.1,S0(r,i,t).value),upper:"px"===t?r:100}}(t,e);n.fieldView.value=n.fieldView.element.value=i,o&&Object.assign(n.fieldView,{min:o.lower.toFixed(1),max:Math.ceil(o.upper).toFixed(1)}),this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class M0 extends $W{static get requires(){return[g0,C0,I0,b0]}static get pluginName(){return"ImageResize"}}class E0 extends GW{_defaultStyles;_styles;constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map((e=>{if(e.isDefault)for(const t of e.modelElements)this._defaultStyles[t]=e.name;return[e.name,e]})))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor,n=t.model,r=t.plugins.get("ImageUtils");n.change((t=>{const i=e.value,{setImageSizes:o=!0}=e;let s=r.getClosestSelectedImageElement(n.document.selection);i&&this.shouldConvertImageType(i,s)&&(this.editor.execute(r.isBlockImage(s)?"imageTypeInline":"imageTypeBlock",{setImageSizes:o}),s=r.getClosestSelectedImageElement(n.document.selection)),!i||this._styles.get(i).isDefault?t.removeAttribute("imageStyle",s):t.setAttribute("imageStyle",i,s),o&&r.setImageNaturalSizeAttributes(s)}))}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}const P0={get inline(){return{name:"inline",title:"In line",icon:lH.objectInline,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:lH.objectLeft,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:lH.objectBlockLeft,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:lH.objectCenter,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:lH.objectRight,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:lH.objectBlockRight,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:lH.objectCenter,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:lH.objectRight,modelElements:["imageBlock"],className:"image-style-side"}}},D0=(()=>({full:lH.objectFullWidth,left:lH.objectBlockLeft,right:lH.objectBlockRight,center:lH.objectCenter,inlineLeft:lH.objectLeft,inlineRight:lH.objectRight,inline:lH.objectInline}))(),j0=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function O0(e){Xj("image-style-configuration-definition-invalid",e)}var R0={normalizeStyles:function(e){const t=(e.configuredStyles.options||[]).map((e=>function(e){e="string"===typeof e?P0[e]?{...P0[e]}:{name:e}:function(e,t){const n={...t};for(const r in e)Object.prototype.hasOwnProperty.call(t,r)||(n[r]=e[r]);return n}(P0[e.name],e);"string"===typeof e.icon&&(e.icon=D0[e.icon]||e.icon);return e}(e))).filter((t=>function(e,t){let{isBlockPluginLoaded:n,isInlinePluginLoaded:r}=t;const{modelElements:i,name:o}=e;if(!(i&&i.length&&o))return O0({style:e}),!1;{const t=[n?"imageBlock":null,r?"imageInline":null];if(!i.some((e=>t.includes(e))))return Xj("image-style-missing-dependency",{style:e,missingPlugins:i.map((e=>"imageBlock"===e?"ImageBlockEditing":"ImageInlineEditing"))}),!1}return!0}(t,e)));return t},getDefaultStylesConfiguration:function(e,t){return e&&t?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:e?{options:["block","side"]}:t?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(e){return e.has("ImageBlockEditing")&&e.has("ImageInlineEditing")?[...j0]:[]},warnInvalidStyle:O0,DEFAULT_OPTIONS:P0,DEFAULT_ICONS:D0,DEFAULT_DROPDOWN_DEFINITIONS:j0};function L0(e,t){for(const n of t)if(n.name===e)return n}class N0 extends $W{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[wJ]}normalizedStyles;init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=R0,n=this.editor,r=n.plugins.has("ImageBlockEditing"),i=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",t(r,i)),this.normalizedStyles=e({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:r,isInlinePluginLoaded:i}),this._setupConversion(r,i),this._setupPostFixer(),n.commands.add("imageStyle",new E0(n,this.normalizedStyles))}_setupConversion(e,t){const n=this.editor,r=n.model.schema,i=function(e){return(t,n,r)=>{if(!r.consumable.consume(n.item,t.name))return;const i=L0(n.attributeNewValue,e),o=L0(n.attributeOldValue,e),s=r.mapper.toViewElement(n.item),a=r.writer;o&&a.removeClass(o.className,s),i&&a.addClass(i.className,s)}}(this.normalizedStyles),o=function(e){const t={imageInline:e.filter((e=>!e.isDefault&&e.modelElements.includes("imageInline"))),imageBlock:e.filter((e=>!e.isDefault&&e.modelElements.includes("imageBlock")))};return(e,n,r)=>{if(!n.modelRange)return;const i=n.viewItem,o=PR(n.modelRange.getItems());if(o&&r.schema.checkAttribute(o,"imageStyle"))for(const s of t[o.name])r.consumable.consume(i,{classes:s.className})&&r.writer.setAttribute("imageStyle",s.name,o)}}(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",i),n.data.downcastDispatcher.on("attribute:imageStyle",i),e&&(r.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",o,{priority:"low"})),t&&(r.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",o,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,n=e.plugins.get(wJ),r=new Map(this.normalizedStyles.map((e=>[e.name,e])));t.registerPostFixer((e=>{let i=!1;for(const o of t.differ.getChanges())if("insert"==o.type||"attribute"==o.type&&"imageStyle"==o.attributeKey){let t="insert"==o.type?o.position.nodeAfter:o.range.start.nodeAfter;if(t&&t.is("element","paragraph")&&t.childCount>0&&(t=t.getChild(0)),!n.isImage(t))continue;const s=t.getAttribute("imageStyle");if(!s)continue;const a=r.get(s);a&&a.modelElements.includes(t.name)||(e.removeAttribute("imageStyle",t),i=!0)}return i}))}}class B0 extends $W{static get requires(){return[N0]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],n=F0(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const i of n)this._createButton(i);const r=F0([...t.filter(NM),...R0.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const i of r)this._createDropdown(i,n)}_createDropdown(e,t){const n=this.editor.ui.componentFactory;n.add(e.name,(r=>{let i;const{defaultItem:o,items:s,title:a}=e,l=s.filter((e=>t.find((t=>{let{name:n}=t;return z0(n)===e})))).map((e=>{const t=n.create(e);return e===o&&(i=t),t}));s.length!==l.length&&R0.warnInvalidStyle({dropdown:e});const c=V$(r,z$),u=c.buttonView,d=u.arrowView;return W$(c,l,{enableActiveItemFocusOnDropdownOpen:!0}),u.set({label:V0(a,i.label),class:null,tooltip:!0}),d.unbind("label"),d.set({label:a}),u.bind("icon").toMany(l,"isOn",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.findIndex(hj);return r<0?i.icon:l[r].icon})),u.bind("label").toMany(l,"isOn",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.findIndex(hj);return V0(a,r<0?i.label:l[r].label)})),u.bind("isOn").toMany(l,"isOn",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(hj)})),u.bind("class").toMany(l,"isOn",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(hj)?"ck-splitbutton_flatten":void 0})),u.on("execute",(()=>{l.some((e=>{let{isOn:t}=e;return t}))?c.isOpen=!c.isOpen:i.fire("execute")})),c.bind("isEnabled").toMany(l,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(hj)})),this.listenTo(c,"execute",(()=>{this.editor.editing.view.focus()})),c}))}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(z0(t),(n=>{const r=this.editor.commands.get("imageStyle"),i=new IU(n);return i.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),i.bind("isEnabled").to(r,"isEnabled"),i.bind("isOn").to(r,"value",(e=>e===t)),i.on("execute",this._executeCommand.bind(this,t)),i}))}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function F0(e,t){for(const n of e)t[n.title]&&(n.title=t[n.title]);return e}function z0(e){return`imageStyle:${e}`}function V0(e,t){return(e?e+": ":"")+t}class W0 extends $W{static get requires(){return[N0,B0]}static get pluginName(){return"ImageStyle"}}class H0 extends $W{static get requires(){return[qX,wJ]}static get pluginName(){return"ImageToolbar"}afterInit(){const e=this.editor,t=e.t,n=e.plugins.get(qX),r=e.plugins.get("ImageUtils");n.register("image",{ariaLabel:t("Image toolbar"),items:U0(e.config.get("image.toolbar")||[]),getRelatedElement:e=>r.getClosestSelectedImageWidget(e)})}}function U0(e){return e.map((e=>NM(e)?e.name:e))}class $0 extends $W{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new XW(e)),e.commands.add("outdent",new XW(e))}}class Y0 extends $W{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,n=e.t,r="ltr"==t.uiLanguageDirection?lH.indent:lH.outdent,i="ltr"==t.uiLanguageDirection?lH.outdent:lH.indent;this._defineButton("indent",n("Increase indent"),r),this._defineButton("outdent",n("Decrease indent"),i)}_defineButton(e,t,n){const r=this.editor;r.ui.componentFactory.add(e,(()=>{const r=this._createButton(IU,e,t,n);return r.set({tooltip:!0}),r})),r.ui.componentFactory.add("menuBar:"+e,(()=>this._createButton(XU,e,t,n)))}_createButton(e,t,n,r){const i=this.editor,o=i.commands.get(t),s=new e(i.locale);return s.set({label:n,icon:r}),s.bind("isEnabled").to(o,"isEnabled"),this.listenTo(s,"execute",(()=>{i.execute(t),i.editing.view.focus()})),s}}class G0 extends $W{static get pluginName(){return"Indent"}static get requires(){return[$0,Y0]}}class q0 extends GW{_indentBehavior;constructor(e,t){super(e),this._indentBehavior=t}refresh(){const e=PR(this.editor.model.document.selection.getSelectedBlocks());e&&this._isIndentationChangeAllowed(e)?this.isEnabled=this._indentBehavior.checkEnabled(e.getAttribute("blockIndent")):this.isEnabled=!1}execute(){const e=this.editor.model,t=this._getBlocksToChange();e.change((e=>{for(const n of t){const t=n.getAttribute("blockIndent"),r=this._indentBehavior.getNextIndent(t);r?e.setAttribute("blockIndent",r,n):e.removeAttribute("blockIndent",n)}}))}_getBlocksToChange(){const e=this.editor.model.document.selection;return Array.from(e.getSelectedBlocks()).filter((e=>this._isIndentationChangeAllowed(e)))}_isIndentationChangeAllowed(e){const t=this.editor;if(!t.model.schema.checkAttribute(e,"blockIndent"))return!1;if(!t.plugins.has("ListUtils"))return!0;if(!this._indentBehavior.isForward)return!0;return!t.plugins.get("ListUtils").isListItemBlock(e)}}class X0{isForward;offset;unit;constructor(e){this.isForward="forward"===e.direction,this.offset=e.offset,this.unit=e.unit}checkEnabled(e){const t=parseFloat(e||"0");return this.isForward||t>0}getNextIndent(e){const t=parseFloat(e||"0");if(!(!e||e.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const n=t+(this.isForward?this.offset:-this.offset);return n>0?n+this.unit:void 0}}class Z0{isForward;classes;constructor(e){this.isForward="forward"===e.direction,this.classes=e.classes}checkEnabled(e){const t=this.classes.indexOf(e);return this.isForward?t<this.classes.length-1:t>=0}getNextIndent(e){const t=this.classes.indexOf(e),n=this.isForward?1:-1;return this.classes[t+n]}}const K0=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class Q0 extends $W{constructor(e){super(e),e.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const e=this.editor,t=e.config.get("indentBlock");t.classes&&t.classes.length?(this._setupConversionUsingClasses(t.classes),e.commands.add("indentBlock",new q0(e,new Z0({direction:"forward",classes:t.classes}))),e.commands.add("outdentBlock",new q0(e,new Z0({direction:"backward",classes:t.classes})))):(e.data.addStyleProcessorRules(DW),this._setupConversionUsingOffset(),e.commands.add("indentBlock",new q0(e,new X0({direction:"forward",offset:t.offset,unit:t.unit}))),e.commands.add("outdentBlock",new q0(e,new X0({direction:"backward",offset:t.offset,unit:t.unit}))))}afterInit(){const e=this.editor,t=e.model.schema,n=e.commands.get("indent"),r=e.commands.get("outdent"),i=e.config.get("heading.options");(i&&i.map((e=>e.model))||K0).forEach((e=>{t.isRegistered(e)&&t.extend(e,{allowAttributes:"blockIndent"})})),t.setAttributeProperties("blockIndent",{isFormatting:!0}),n.registerChildCommand(e.commands.get("indentBlock")),r.registerChildCommand(e.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const e=this.editor.conversion,t="rtl"===this.editor.locale.contentLanguageDirection?"margin-right":"margin-left";e.for("upcast").attributeToAttribute({view:{styles:{[t]:/[\s\S]+/}},model:{key:"blockIndent",value:e=>{if(!e.is("element","li"))return e.getStyle(t)}}}),e.for("downcast").attributeToAttribute({model:"blockIndent",view:e=>({key:"style",value:{[t]:e}})})}_setupConversionUsingClasses(e){const t={model:{key:"blockIndent",values:[]},view:{}};for(const n of e)t.model.values.push(n),t.view[n]={key:"class",value:[n]};this.editor.conversion.attributeToAttribute(t)}}class J0{_definitions=(()=>new Set)();get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach((e=>this._definitions.add(e))):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",((e,t,n)=>{if(!n.consumable.test(t.item,"attribute:linkHref"))return;if(!t.item.is("selection")&&!n.schema.isInline(t.item))return;const r=n.writer,i=r.document.selection;for(const o of this._definitions){const e=r.createAttributeElement("a",o.attributes,{priority:5});o.classes&&r.addClass(o.classes,e);for(const t in o.styles)r.setStyle(t,o.styles[t],e);r.setCustomProperty("link",!0,e),o.callback(t.attributeNewValue)?t.item.is("selection")?r.wrap(i.getFirstRange(),e):r.wrap(n.mapper.toViewRange(t.range),e):r.unwrap(n.mapper.toViewRange(t.range),e)}}),{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",((e,t,n)=>{let{writer:r,mapper:i}=n;const o=i.toViewElement(t.item),s=Array.from(o.getChildren()).find((e=>e.is("element","a")));for(const a of this._definitions){const e=OR(a.attributes);if(a.callback(t.attributeNewValue)){for(const[t,n]of e)"class"===t?r.addClass(n,s):r.setAttribute(t,n,s);a.classes&&r.addClass(a.classes,s);for(const e in a.styles)r.setStyle(e,a.styles[e],s)}else{for(const[t,n]of e)"class"===t?r.removeClass(n,s):r.removeAttribute(t,s);a.classes&&r.removeClass(a.classes,s);for(const e in a.styles)r.removeStyle(e,s)}}}))}}}const e1=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,t1=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,n1=/^((\w+:(\/{2,})?)|(\W))/i,r1=["https?","ftps?","mailto"],i1="Ctrl+K";function o1(e,t){let{writer:n}=t;const r=n.createAttributeElement("a",{href:e},{priority:5});return n.setCustomProperty("link",!0,r),r}function s1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r1;const n=String(e),r=t.join("|");return function(e,t){const n=e.replace(e1,"");return!!n.match(t)}(n,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",r)}`,"i"))?n:"#"}function a1(e,t){return!!e&&t.checkAttribute(e.name,"linkHref")}function l1(e,t){const n=function(e){return t1.test(e)}(e)?"mailto:":t,r=!!n&&!c1(e);return e&&r?n+e:e}function c1(e){return n1.test(e)}function u1(e){window.open(e,"_blank","noopener")}class d1 extends GW{manualDecorators=(()=>new ER)();automaticDecorators=(()=>new J0)();restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement()||PR(t.getSelectedBlocks());a1(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const r of this.manualDecorators)r.value=this._getDecoratorStateFromModel(r.id)}execute(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.editor.model,r=n.document.selection,i=[],o=[];for(const s in t)t[s]?i.push(s):o.push(s);n.change((t=>{if(r.isCollapsed){const s=r.getFirstPosition();if(r.hasAttribute("linkHref")){const a=h1(r);let l=sq(s,"linkHref",r.getAttribute("linkHref"),n);r.getAttribute("linkHref")===a&&(l=this._updateLinkContent(n,t,l,e)),t.setAttribute("linkHref",e,l),i.forEach((e=>{t.setAttribute(e,!0,l)})),o.forEach((e=>{t.removeAttribute(e,l)})),t.setSelection(t.createPositionAfter(l.end.nodeBefore))}else if(""!==e){const o=OR(r.getAttributes());o.set("linkHref",e),i.forEach((e=>{o.set(e,!0)}));const{end:a}=n.insertContent(t.createText(e,o),s);t.setSelection(a)}["linkHref",...i,...o].forEach((e=>{t.removeSelectionAttribute(e)}))}else{const s=n.schema.getValidRanges(r.getRanges(),"linkHref"),a=[];for(const e of r.getSelectedBlocks())n.schema.checkAttribute(e,"linkHref")&&a.push(t.createRangeOn(e));const l=a.slice();for(const e of s)this._isRangeToUpdate(e,a)&&l.push(e);for(const c of l){let s=c;if(1===l.length){const i=h1(r);r.getAttribute("linkHref")===i&&(s=this._updateLinkContent(n,t,c,e),t.setSelection(t.createSelection(s)))}t.setAttribute("linkHref",e,s),i.forEach((e=>{t.setAttribute(e,!0,s)})),o.forEach((e=>{t.removeAttribute(e,s)}))}}}))}_getDecoratorStateFromModel(e){const t=this.editor.model,n=t.document.selection,r=n.getSelectedElement();return a1(r,t.schema)?r.getAttribute(e):n.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t)if(n.containsRange(e))return!1;return!0}_updateLinkContent(e,t,n,r){const i=t.createText(r,{linkHref:r});return e.insertContent(i,n)}}function h1(e){if(e.isCollapsed){const t=e.getFirstPosition();return t.textNode&&t.textNode.data}{const t=Array.from(e.getFirstRange().getItems());if(t.length>1)return null;const n=t[0];return n.is("$text")||n.is("$textProxy")?n.data:null}}class f1 extends GW{refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement();a1(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,r=e.commands.get("link");t.change((e=>{const i=n.isCollapsed?[sq(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:t.schema.getValidRanges(n.getRanges(),"linkHref");for(const t of i)if(e.removeAttribute("linkHref",t),r)for(const n of r.manualDecorators)e.removeAttribute(n.id,t)}))}}class p1 extends(vO()){id;defaultValue;label;attributes;classes;styles;constructor(e){let{id:t,label:n,attributes:r,classes:i,styles:o,defaultValue:s}=e;super(),this.id=t,this.set("value",void 0),this.defaultValue=s,this.label=n,this.attributes=r,this.classes=i,this.styles=o}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}const m1="automatic",g1=/^(https?:)?\/\//;class v1 extends $W{static get pluginName(){return"LinkEditing"}static get requires(){return[$G,EG,lZ]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,t=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:o1}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(e,n)=>o1(s1(e,t),n)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:e=>e.getAttribute("href")}}),e.commands.add("link",new d1(e)),e.commands.add("unlink",new f1(e));const n=function(e,t){const n={"Open in a new tab":e("Open in a new tab"),Downloadable:e("Downloadable")};return t.forEach((e=>("label"in e&&n[e.label]&&(e.label=n[e.label]),e))),t}(e.t,function(e){const t=[];if(e)for(const[n,r]of Object.entries(e)){const e=Object.assign({},r,{id:`link${uJ(n)}`});t.push(e)}return t}(e.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter((e=>e.mode===m1))),this._enableManualDecorators(n.filter((e=>"manual"===e.mode)));e.plugins.get($G).registerAttribute("linkHref"),lq(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,n=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:m1,callback:e=>!!e&&g1.test(e),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,n=t.commands.get("link").manualDecorators;e.forEach((e=>{t.model.schema.extend("$text",{allowAttributes:e.id});const r=new p1(e);n.add(r),t.conversion.for("downcast").attributeToElement({model:r.id,view:(e,t,n)=>{let{writer:i,schema:o}=t,{item:s}=n;if((s.is("selection")||o.isInline(s))&&e){const e=i.createAttributeElement("a",r.attributes,{priority:5});r.classes&&i.addClass(r.classes,e);for(const t in r.styles)i.setStyle(t,r.styles[t],e);return i.setCustomProperty("link",!0,e),e}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...r._createPattern()},model:{key:r.id}})}))}_enableLinkOpen(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",((e,t)=>{if(!(Mj.isMac?t.domEvent.metaKey:t.domEvent.ctrlKey))return;let n=t.domTarget;if("a"!=n.tagName.toLowerCase()&&(n=n.closest("a")),!n)return;const r=n.getAttribute("href");r&&(e.stop(),t.preventDefault(),u1(r))}),{context:"$capture"}),this.listenTo(t,"keydown",((t,n)=>{const r=e.commands.get("link").value;!!r&&n.keyCode===bR.enter&&n.altKey&&(t.stop(),u1(r))}))}_enableSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection;this.listenTo(t,"change:attribute",((n,r)=>{let{attributeKeys:i}=r;i.includes("linkHref")&&!t.hasAttribute("linkHref")&&e.change((t=>{var n;!function(e,t){e.removeSelectionAttribute("linkHref");for(const n of t)e.removeSelectionAttribute(n)}(t,(n=e.schema,n.getDefinition("$text").allowAttributes.filter((e=>e.startsWith("link")))))}))}))}_enableClipboardIntegration(){const e=this.editor,t=e.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",((e,r)=>{t.change((e=>{const t=e.createRangeIn(r.content);for(const r of t.getItems())if(r.hasAttribute("linkHref")){const t=l1(r.getAttribute("linkHref"),n);e.setAttribute("linkHref",t,r)}}))}))}}class b1 extends xU{focusTracker=(()=>new DR)();keystrokes=(()=>new jR)();urlInputView;saveButtonView;cancelButtonView;_manualDecoratorSwitches;children;_validators;_focusables=(()=>new JH)();_focusCycler;constructor(e,t,n){super(e);const r=e.t;this._validators=n,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(r("Save"),lH.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),lH.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new PU({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const i=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&i.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:i,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce(((e,t)=>(e[t.name]=t.isOn,e)),{})}render(){super.render(),kU({view:this});[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach((e=>{this._focusables.add(e),this.focusTracker.add(e.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,t=new g$(this.locale,q$);return t.fieldView.inputMode="url",t.label=e("Link URL"),t}_createButton(e,t,n,r){const i=new IU(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),r&&i.delegate("execute").to(this,r),i}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const r=new n$(this.locale);r.set({name:n.id,label:n.label,withText:!0}),r.bind("isOn").toMany([n,e],"value",((e,t)=>void 0===t&&void 0===e?!!n.defaultValue:!!e)),r.on("execute",(()=>{n.set("value",!r.isOn)})),t.add(r)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const e=new xU;e.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((e=>({tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}}))),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(e)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}class y1 extends xU{focusTracker=(()=>new DR)();keystrokes=(()=>new jR)();previewButtonView;unlinkButtonView;editButtonView;_focusables=(()=>new JH)();_focusCycler;_linkConfig;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e);const n=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(n("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(n("Edit link"),lH.pencil,"edit"),this.set("href",void 0),this._linkConfig=t,this._focusCycler=new PU({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render();[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach((e=>{this._focusables.add(e),this.focusTracker.add(e.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const r=new IU(this.locale);return r.set({label:e,icon:t,tooltip:!0}),r.delegate("execute").to(this,n),r}_createPreviewButton(){const e=new IU(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",(e=>e&&s1(e,this._linkConfig.allowedProtocols))),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",(e=>e||n("This link has no URL"))),e.bind("isEnabled").to(this,"href",(e=>!!e)),e.template.tag="a",e.template.eventListeners={},e}}var w1='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';const x1="link-ui";class _1 extends $W{actionsView=null;formView=null;_balloon;static get requires(){return[qY]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,t=this.editor.t;e.editing.view.addObserver($V),this._balloon=e.plugins.get(qY),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:x1,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:x1,view:(e,t)=>{let{writer:n}=t;if(!e.markerRange.isCollapsed)return null;const r=n.createUIElement("span");return n.addClass(["ck-fake-link-selection","ck-fake-link-selection_collapsed"],r),r}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Create link"),keystroke:i1},{label:t("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new y1(e.locale,e.config.get("link")),n=e.commands.get("link"),r=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(r),this.listenTo(t,"edit",(()=>{this._addFormView()})),this.listenTo(t,"unlink",(()=>{e.execute("unlink"),this._hideUI()})),t.keystrokes.set("Esc",((e,t)=>{this._hideUI(),t()})),t.keystrokes.set(i1,((e,t)=>{this._addFormView(),t()})),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=e.config.get("link.defaultProtocol"),r=new(CU(b1))(e.locale,t,function(e){const t=e.t,n=e.config.get("link.allowCreatingEmptyLinks");return[e=>{if(!n&&!e.url.length)return t("Link URL must not be empty.")}]}(e));return r.urlInputView.fieldView.bind("value").to(t,"value"),r.urlInputView.bind("isEnabled").to(t,"isEnabled"),r.saveButtonView.bind("isEnabled").to(t,"isEnabled"),this.listenTo(r,"submit",(()=>{if(r.isValid()){const{value:t}=r.urlInputView.fieldView.element,i=l1(t,n);e.execute("link",i,r.getDecoratorSwitchesState()),this._closeFormView()}})),this.listenTo(r.urlInputView,"change:errorText",(()=>{e.ui.update()})),this.listenTo(r,"cancel",(()=>{this._closeFormView()})),r.keystrokes.set("Esc",((e,t)=>{this._closeFormView(),t()})),r}_createToolbarLinkButton(){const e=this.editor;e.ui.componentFactory.add("link",(()=>{const e=this._createButton(IU);return e.set({tooltip:!0}),e})),e.ui.componentFactory.add("menuBar:link",(()=>{const e=this._createButton(XU);return e.set({role:"menuitemcheckbox"}),e}))}_createButton(e){const t=this.editor,n=t.locale,r=t.commands.get("link"),i=new e(t.locale),o=n.t;return i.set({label:o("Link"),icon:w1,keystroke:i1,isToggleable:!0}),i.bind("isEnabled").to(r,"isEnabled"),i.bind("isOn").to(r,"value",(e=>!!e)),this.listenTo(i,"execute",(()=>this._showUI(!0))),i}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(()=>{this._getSelectedLinkElement()&&this._showUI()})),e.keystrokes.set(i1,((t,n)=>{n(),e.commands.get("link").isEnabled&&this._showUI(!0)}))}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",((e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())}),{priority:"high"}),this.editor.keystrokes.set("Esc",((e,t)=>{this._isUIVisible&&(this._hideUI(),t())})),_U({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),r=o();const i=()=>{const e=this._getSelectedLinkElement(),t=o();n&&!e||!n&&t!==r?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=e,r=t};function o(){return t.selection.focus.getAncestors().reverse().find((e=>e.is("element")))}this.listenTo(e.ui,"update",i),this.listenTo(this._balloon,"change:visibleView",i)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,n=e.document;let r;if(t.markers.has(x1)){const t=Array.from(this.editor.editing.mapper.markerNameToElements(x1)),n=e.createRange(e.createPositionBefore(t[0]),e.createPositionAfter(t[t.length-1]));r=e.domConverter.viewRangeToDom(n)}else r=()=>{const t=this._getSelectedLinkElement();return t?e.domConverter.mapViewToDom(t):e.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:r}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,n=t.getSelectedElement();if(t.isCollapsed||n&&TX(n))return C1(t.getFirstPosition());{const n=t.getFirstRange().getTrimmed(),r=C1(n.start),i=C1(n.end);return r&&r==i&&e.createRangeIn(r).getTrimmed().isEqual(n)?r:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change((t=>{const n=e.document.selection.getFirstRange();if(e.markers.has(x1))t.updateMarker(x1,{range:n});else if(n.start.isAtEnd){const r=n.start.getLastMatchingPosition((t=>{let{item:n}=t;return!e.schema.isContent(n)}),{boundaries:n});t.addMarker(x1,{usingOperation:!1,affectsData:!1,range:t.createRange(r,n.end)})}else t.addMarker(x1,{usingOperation:!1,affectsData:!1,range:n})}))}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(x1)&&e.change((e=>{e.removeMarker(x1)}))}}function C1(e){return e.getAncestors().find((e=>{return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t}))||null}const k1=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class S1 extends $W{static get requires(){return[VG,v1]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",(()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")})),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,t){return t.textNode&&t.textNode.hasAttribute("linkHref")?sq(t,"linkHref",t.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,t){const n=this.editor.model,r=n.document.selection,i=r.getFirstPosition(),o=r.getLastPosition();let s=t.getJoined(this._expandLinkRange(n,i)||t);s&&(s=s.getJoined(this._expandLinkRange(n,o)||t)),s&&(s.start.isBefore(i)||s.end.isAfter(o))&&e.setSelection(s)}_enablePasteLinking(){const e=this.editor,t=e.model,n=t.document.selection,r=e.plugins.get("ClipboardPipeline"),i=e.commands.get("link");r.on("inputTransformation",((e,r)=>{if(!this.isEnabled||!i.isEnabled||n.isCollapsed||"paste"!==r.method)return;if(n.rangeCount>1)return;const o=n.getFirstRange(),s=r.dataTransfer.getData("text/plain");if(!s)return;const a=s.match(k1);a&&a[2]===s&&(t.change((e=>{this._selectEntireLinks(e,o),i.execute(s)})),e.stop())}),{priority:"high"})}_enableTypingHandling(){const e=this.editor,t=new UG(e.model,(e=>{if(!function(e){return e.length>4&&" "===e[e.length-1]&&" "!==e[e.length-2]}(e))return;const t=A1(e.substr(0,e.length-1));return t?{url:t}:void 0}));t.on("matched:data",((t,n)=>{const{batch:r,range:i,url:o}=n;if(!r.isTyping)return;const s=i.end.getShiftedBy(-1),a=s.getShiftedBy(-o.length),l=e.model.createRange(a,s);this._applyAutoLink(o,l)})),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("enter");n&&n.on("execute",(()=>{const e=t.document.selection.getFirstPosition();if(!e.parent.previousSibling)return;const n=t.createRangeIn(e.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(n)}))}_enableShiftEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("shiftEnter");n&&n.on("execute",(()=>{const e=t.document.selection.getFirstPosition(),n=t.createRange(t.createPositionAt(e.parent,0),e.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(n)}))}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:n,range:r}=HG(e,t),i=A1(n);if(i){const e=t.createRange(r.end.getShiftedBy(-i.length),r.end);this._applyAutoLink(i,e)}}_applyAutoLink(e,t){const n=this.editor.model,r=l1(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(e,t){return t.schema.checkAttributeInSelection(t.createSelection(e),"linkHref")}(t,n)&&c1(r)&&!function(e){const t=e.start.nodeAfter;return!!t&&t.hasAttribute("linkHref")}(t)&&this._persistAutoLink(r,t)}_persistAutoLink(e,t){const n=this.editor.model,r=this.editor.plugins.get("Delete");n.enqueueChange((i=>{i.setAttribute("linkHref",e,t),n.enqueueChange((()=>{r.requestUndoOnBackspace()}))}))}}function A1(e){const t=k1.exec(e);return t?t[2]:null}class T1 extends $W{static get requires(){return[v1,_1,S1]}static get pluginName(){return"Link"}}class I1 extends $W{static get requires(){return["ImageEditing","ImageUtils",v1]}static get pluginName(){return"LinkImageEditing"}afterInit(){const e=this.editor,t=e.model.schema;e.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["linkHref"]}),e.conversion.for("upcast").add(function(e){const t=e.plugins.has("ImageInlineEditing"),n=e.plugins.get("ImageUtils");return e=>{e.on("element:a",((e,r,i)=>{const o=r.viewItem,s=n.findViewImgElement(o);if(!s)return;const a=s.findAncestor((e=>n.isBlockImageView(e)));if(t&&!a)return;const l={attributes:["href"]};if(!i.consumable.consume(o,l))return;const c=o.getAttribute("href");if(!c)return;let u=r.modelCursor.parent;if(!u.is("element","imageBlock")){const e=i.convertItem(s,r.modelCursor);r.modelRange=e.modelRange,r.modelCursor=e.modelCursor,u=r.modelCursor.nodeBefore}u&&u.is("element","imageBlock")&&i.writer.setAttribute("linkHref",c,u)}),{priority:"high"})}}(e)),e.conversion.for("downcast").add(function(e){const t=e.plugins.get("ImageUtils");return e=>{e.on("attribute:linkHref:imageBlock",((e,n,r)=>{if(!r.consumable.consume(n.item,e.name))return;const i=r.mapper.toViewElement(n.item),o=r.writer,s=Array.from(i.getChildren()).find((e=>e.is("element","a"))),a=t.findViewImgElement(i),l=a.parent.is("element","picture")?a.parent:a;if(s)n.attributeNewValue?o.setAttribute("href",n.attributeNewValue,s):(o.move(o.createRangeOn(l),o.createPositionAt(i,0)),o.remove(s));else{const e=o.createContainerElement("a",{href:n.attributeNewValue});o.insert(o.createPositionAt(i,0),e),o.move(o.createRangeOn(l),o.createPositionAt(e,0))}}),{priority:"high"})}}(e)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const e=this.editor,t=e.commands.get("link").automaticDecorators;t.length&&e.conversion.for("downcast").add(t.getDispatcherForLinkedImage())}_enableManualDecorators(){const e=this.editor,t=e.commands.get("link");for(const n of t.manualDecorators)e.plugins.has("ImageBlockEditing")&&e.model.schema.extend("imageBlock",{allowAttributes:n.id}),e.plugins.has("ImageInlineEditing")&&e.model.schema.extend("imageInline",{allowAttributes:n.id}),e.conversion.for("downcast").add(M1(n)),e.conversion.for("upcast").add(E1(e,n))}}function M1(e){return t=>{t.on(`attribute:${e.id}:imageBlock`,((t,n,r)=>{const i=r.mapper.toViewElement(n.item),o=Array.from(i.getChildren()).find((e=>e.is("element","a")));if(o){for(const[t,n]of OR(e.attributes))r.writer.setAttribute(t,n,o);e.classes&&r.writer.addClass(e.classes,o);for(const t in e.styles)r.writer.setStyle(t,e.styles[t],o)}}))}}function E1(e,t){const n=e.plugins.has("ImageInlineEditing"),r=e.plugins.get("ImageUtils");return e=>{e.on("element:a",((e,i,o)=>{const s=i.viewItem,a=r.findViewImgElement(s);if(!a)return;const l=a.findAncestor((e=>r.isBlockImageView(e)));if(n&&!l)return;const c=new cN(t._createPattern()).match(s);if(!c)return;if(!o.consumable.consume(s,c.match))return;const u=i.modelCursor.nodeBefore||i.modelCursor.parent;o.writer.setAttribute(t.id,!0,u)}),{priority:"high"})}}class P1 extends $W{static get requires(){return[v1,_1,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",((t,n)=>{this._isSelectedLinkedImage(e.model.document.selection)&&(n.preventDefault(),t.stop())}),{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("linkImage",(n=>{const r=new IU(n),i=e.plugins.get("LinkUI"),o=e.commands.get("link");return r.set({isEnabled:!0,label:t("Link image"),icon:w1,keystroke:i1,tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(o,"isEnabled"),r.bind("isOn").to(o,"value",(e=>!!e)),this.listenTo(r,"execute",(()=>{this._isSelectedLinkedImage(e.model.document.selection)?i._addActionsView():i._showUI(!0)})),r}))}_isSelectedLinkedImage(e){const t=e.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(t)&&t.hasAttribute("linkHref")}}class D1 extends $W{static get requires(){return[I1,P1]}static get pluginName(){return"LinkImage"}}class j1{_startElement;_referenceIndent;_isForward;_includeSelf;_sameAttributes;_sameIndent;_lowerIndent;_higherIndent;constructor(e,t){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward="forward"==t.direction,this._includeSelf=!!t.includeSelf,this._sameAttributes=TR(t.sameAttributes||[]),this._sameIndent=!!t.sameIndent,this._lowerIndent=!!t.lowerIndent,this._higherIndent=!!t.higherIndent}static first(e,t){return PR(new this(e,t)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:t}of O1(this._getStartNode(),this._isForward?"forward":"backward")){const n=t.getAttribute("listIndent");if(n<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=n}else if(n>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(t);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some((e=>t.getAttribute(e)!==this._startElement.getAttribute(e))))break}e.length&&(yield*e,e.length=0),yield t}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function O1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"forward";return function*(){const n="forward"==t,r=[];let i=null;for(;N1(e);){let t=null;if(i){const n=e.getAttribute("listIndent"),o=i.getAttribute("listIndent");n>o?r[o]=i:n<o?(t=r[n],r.length=n):t=i}yield{node:e,previous:i,previousNodeInList:t},i=e,e=n?e.nextSibling:e.previousSibling}}()}class R1{_listHead;constructor(e){this._listHead=e}[Symbol.iterator](){return O1(this._listHead,"forward")}}class L1{static next(){return Uj()}}function N1(e){return!!e&&e.is("element")&&e.hasAttribute("listItemId")}function B1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[...F1(e,{...t,direction:"backward"}),...F1(e,{...t,direction:"forward"})]}function F1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="forward"==t.direction,r=Array.from(new j1(e,{...t,includeSelf:n,sameIndent:!0,sameAttributes:"listItemId"}));return n?r:r.reverse()}function z1(e,t){const n=new j1(e,{sameIndent:!0,sameAttributes:"listType",...t}),r=new j1(e,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...t});return[...Array.from(n).reverse(),...r]}function V1(e){return!j1.first(e,{sameIndent:!0,sameAttributes:"listItemId"})}function W1(e){return!j1.first(e,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function H1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=TR(e);const n=!1!==t.withNested,r=new Set;for(const i of e)for(const e of B1(i,{higherIndent:n}))r.add(e);return Z1(r)}function U1(e){e=TR(e);const t=new Set;for(const n of e)for(const e of z1(n))t.add(e);return Z1(t)}function $1(e,t){const n=F1(e,{direction:"forward"}),r=L1.next();for(const i of n)t.setAttribute("listItemId",r,i);return n}function Y1(e,t,n){const r={};for(const[o,s]of t.getAttributes())o.startsWith("list")&&(r[o]=s);const i=F1(e,{direction:"forward"});for(const o of i)n.setAttributes(r,o);return i}function G1(e,t){let{expand:n,indentBy:r=1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=TR(e);const i=n?H1(e):e;for(const o of i){const e=o.getAttribute("listIndent")+r;e<0?q1(o,t):t.setAttribute("listIndent",e,o)}return i}function q1(e,t){e=TR(e);for(const n of e)n.is("element","listItem")&&t.rename(n,"paragraph");for(const n of e)for(const e of n.getAttributeKeys())e.startsWith("list")&&t.removeAttribute(e,n);return e}function X1(e){if(!e.length)return!1;const t=e[0].getAttribute("listItemId");return!!t&&!e.some((e=>e.getAttribute("listItemId")!=t))}function Z1(e){return Array.from(e).filter((e=>"$graveyard"!==e.root.rootName)).sort(((e,t)=>e.index-t.index))}function K1(e){const t=e.document.selection.getSelectedElement();return t&&e.schema.isObject(t)&&e.schema.isBlock(t)?t:null}function Q1(e,t){return t.checkChild(e.parent,"listItem")&&t.checkChild(e,"$text")&&!t.isObject(e)}function J1(e){return"numbered"==e||"customNumbered"==e}function e2(e,t,n){return F1(t,{direction:"forward"}).pop().index>e.index?Y1(e,t,n):[]}class t2 extends GW{_direction;constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=n2(e.document.selection);e.change((e=>{const n=[];X1(t)&&!V1(t[0])?("forward"==this._direction&&n.push(...G1(t,e)),n.push(...$1(t[0],e))):"forward"==this._direction?n.push(...G1(t,e,{expand:!0})):n.push(...function(e,t){const n=H1(e=TR(e)),r=new Set,i=Math.min(...n.map((e=>e.getAttribute("listIndent")))),o=new Map;for(const s of n)o.set(s,j1.first(s,{lowerIndent:!0}));for(const s of n){if(r.has(s))continue;r.add(s);const e=s.getAttribute("listIndent")-1;if(e<0)q1(s,t);else{if(s.getAttribute("listIndent")==i){const e=e2(s,o.get(s),t);for(const t of e)r.add(t);if(e.length)continue}t.setAttribute("listIndent",e,s)}}return Z1(r)}(t,e));for(const t of n){if(!t.hasAttribute("listType"))continue;const n=j1.first(t,{sameIndent:!0});n&&e.setAttribute("listType",n.getAttribute("listType"),t)}this._fireAfterExecute(n)}))}_fireAfterExecute(e){this.fire("afterExecute",Z1(new Set(e)))}_checkEnabled(){let e=n2(this.editor.model.document.selection),t=e[0];if(!t)return!1;if("backward"==this._direction)return!0;if(X1(e)&&!V1(e[0]))return!0;e=H1(e),t=e[0];const n=j1.first(t,{sameIndent:!0});return!!n&&n.getAttribute("listType")==t.getAttribute("listType")}}function n2(e){const t=Array.from(e.getSelectedBlocks()),n=t.findIndex((e=>!N1(e)));return-1!=n&&(t.length=n),t}class r2 extends GW{type;_listWalkerOptions;constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e),this.type=t,this._listWalkerOptions=n.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document,r=K1(t),i=Array.from(n.selection.getSelectedBlocks()).filter((e=>t.schema.checkAttribute(e,"listType")||Q1(e,t.schema))),o=void 0!==e.forceValue?!e.forceValue:this.value;t.change((s=>{if(o){const e=i[i.length-1],t=F1(e,{direction:"forward"}),n=[];t.length>1&&n.push(...$1(t[1],s)),n.push(...q1(i,s)),n.push(...function(e,t){const n=[];let r=Number.POSITIVE_INFINITY;for(const{node:i}of O1(e.nextSibling,"forward")){const e=i.getAttribute("listIndent");if(0==e)break;e<r&&(r=e);const o=e-r;t.setAttribute("listIndent",o,i),n.push(i)}return n}(e,s)),this._fireAfterExecute(n)}else if((r||n.selection.isCollapsed)&&N1(i[0])){const t=z1(r||i[0],this._listWalkerOptions);for(const n of t)s.setAttributes({...e.additionalAttributes,listType:this.type},n);this._fireAfterExecute(t)}else{const n=[];for(const r of i)if(r.hasAttribute("listType"))for(const t of H1(r,{withNested:!1}))t.getAttribute("listType")!=this.type&&(s.setAttributes({...e.additionalAttributes,listType:this.type},t),n.push(t));else!r.is("element","listItem")&&Q1(r,t.schema)&&s.rename(r,"listItem"),s.setAttributes({...e.additionalAttributes,listIndent:0,listItemId:L1.next(),listType:this.type},r),n.push(r);this._fireAfterExecute(n)}}))}_fireAfterExecute(e){this.fire("afterExecute",Z1(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,t=Array.from(e.getSelectedBlocks());if(!t.length)return!1;for(const n of t)if(n.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,t=e.schema,n=e.document.selection,r=Array.from(n.getSelectedBlocks());if(!r.length)return!1;if(this.value)return!0;for(const i of r)if(t.checkAttribute(i,"listType")||Q1(i,t))return!0;return!1}}class i2 extends GW{_direction;constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){let{shouldMergeOnBlocksContentLevel:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document.selection,r=[];t.change((i=>{const{firstElement:o,lastElement:s}=this._getMergeSubjectElements(n,e),a=o.getAttribute("listIndent")||0,l=s.getAttribute("listIndent"),c=s.getAttribute("listItemId");if(a!=l){const e=(u=s,Array.from(new j1(u,{direction:"forward",higherIndent:!0})));r.push(...G1([s,...e],i,{indentBy:a-l,expand:a<l}))}var u;if(e){let e=n;n.isCollapsed&&(e=i.createSelection(i.createRange(i.createPositionAt(o,"end"),i.createPositionAt(s,0)))),t.deleteContent(e,{doNotResetEntireContent:n.isCollapsed});const a=e.getLastPosition().parent,l=a.nextSibling;r.push(a),l&&l!==s&&l.getAttribute("listItemId")==c&&r.push(...Y1(l,a,i))}else r.push(...Y1(s,o,i));this._fireAfterExecute(r)}))}_fireAfterExecute(e){this.fire("afterExecute",Z1(new Set(e)))}_checkEnabled(){const e=this.editor.model,t=e.document.selection,n=K1(e);if(t.isCollapsed||n){const e=n||t.getFirstPosition().parent;if(!N1(e))return!1;const r="backward"==this._direction?e.previousSibling:e.nextSibling;if(!r)return!1;if(X1([e,r]))return!1}else{const e=t.getLastPosition(),n=t.getFirstPosition();if(e.parent===n.parent)return!1;if(!N1(e.parent))return!1}return!0}_getMergeSubjectElements(e,t){const n=K1(this.editor.model);let r,i;if(e.isCollapsed||n){const o=n||e.getFirstPosition().parent,s=V1(o);"backward"==this._direction?(i=o,r=s&&!t?j1.first(o,{sameIndent:!0,lowerIndent:!0}):o.previousSibling):(r=o,i=o.nextSibling)}else r=e.getFirstPosition().parent,i=e.getLastPosition().parent;return{firstElement:r,lastElement:i}}}class o2 extends GW{_direction;constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change((e=>{const t=$1(this._getStartBlock(),e);this._fireAfterExecute(t)}))}_fireAfterExecute(e){this.fire("afterExecute",Z1(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,t=this._getStartBlock();return e.isCollapsed&&N1(t)&&!V1(t)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return"before"==this._direction?e:e.nextSibling}}class s2 extends $W{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(e){return U1(e)}isFirstBlockOfListItem(e){return V1(e)}isListItemBlock(e){return N1(e)}expandListBlocksToCompleteItems(e){return H1(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}isNumberedListType(e){return J1(e)}}function a2(e){return e.is("element","ol")||e.is("element","ul")}function l2(e){return e.is("element","li")}function c2(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h2(n,t);return e.createAttributeElement(d2(n),null,{priority:2*t/100-100,id:r})}function u2(e,t,n){return e.createAttributeElement("li",null,{priority:(2*t+1)/100-100,id:n})}function d2(e){return"numbered"==e||"customNumbered"==e?"ol":"ul"}function h2(e,t){return`list-${e}-${t}`}function f2(e,t){const n=e.nodeBefore;if(N1(n)){let e=n;for(const{node:n}of O1(e,"backward"))if(e=n,t.has(e))return;t.set(n,e)}else{const n=e.nodeAfter;N1(n)&&t.set(n,n)}}function p2(){return(e,t,n)=>{const{writer:r,schema:i}=n;if(!t.modelRange)return;const o=Array.from(t.modelRange.getItems({shallow:!0})).filter((e=>i.checkAttribute(e,"listItemId")));if(!o.length)return;const s=L1.next(),a=function(e){let t=0,n=e.parent;for(;n;){if(l2(n))t++;else{const e=n.previousSibling;e&&l2(e)&&t++}n=n.parent}return t}(t.viewItem);let l=t.viewItem.parent&&t.viewItem.parent.is("element","ol")?"numbered":"bulleted";const c=o[0].getAttribute("listType");c&&(l=c);const u={listItemId:s,listIndent:a,listType:l};for(const d of o)d.hasAttribute("listItemId")||r.setAttributes(u,d);o.length>1&&o[1].getAttribute("listItemId")!=u.listItemId&&n.keepEmptyElement(o[0])}}function m2(e,t,n){let{dataPipeline:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=function(e){return(t,n)=>{const r=[];for(const i of e)t.hasAttribute(i)&&r.push(`attribute:${i}`);return!!r.every((e=>!1!==n.test(t,e)))&&(r.forEach((e=>n.consume(t,e))),!0)}}(e);return(o,s,a)=>{const{writer:l,mapper:c,consumable:u}=a,d=s.item;if(!e.includes(s.attributeKey))return;if(!i(d,u))return;const h=function(e,t,n){const r=n.createRangeOn(e),i=t.toViewRange(r).getTrimmed();return i.end.nodeBefore}(d,c,n);v2(h,l,c),function(e,t){let n=e.parent;for(;n.is("attributeElement")&&["ul","ol","li"].includes(n.name);){const r=n.parent;t.unwrap(t.createRangeOn(e),n),n=r}}(h,l);const f=function(e,t,n,r,i){let{dataPipeline:o}=i,s=r.createRangeOn(t);if(!V1(e))return s;for(const a of n){if("itemMarker"!=a.scope)continue;const n=a.createElement(r,e,{dataPipeline:o});if(!n)continue;if(r.setCustomProperty("listItemMarker",!0,n),a.canInjectMarkerIntoElement&&a.canInjectMarkerIntoElement(e)?r.insert(r.createPositionAt(t,0),n):(r.insert(s.start,n),s=r.createRange(r.createPositionBefore(n),r.createPositionAfter(t))),!a.createWrapperElement||!a.canWrapElement)continue;const i=a.createWrapperElement(r,e,{dataPipeline:o});r.setCustomProperty("listItemWrapper",!0,i),a.canWrapElement(e)?s=r.wrap(s,i):(s=r.wrap(r.createRangeOn(n),i),s=r.createRange(s.start,r.createPositionAfter(t)))}return s}(d,h,t,l,{dataPipeline:r});!function(e,t,n,r){if(!e.hasAttribute("listIndent"))return;const i=e.getAttribute("listIndent");let o=e;for(let s=i;s>=0;s--){const e=u2(r,s,o.getAttribute("listItemId")),i=c2(r,s,o.getAttribute("listType"));for(const t of n)"list"!=t.scope&&"item"!=t.scope||!o.hasAttribute(t.attributeName)||t.setAttributeOnDowncast(r,o.getAttribute(t.attributeName),"list"==t.scope?i:e);if(t=r.wrap(t,e),t=r.wrap(t,i),0==s)break;if(o=j1.first(o,{lowerIndent:!0}),!o)break}}(d,f,t,l)}}function g2(e){let{dataPipeline:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n,r)=>{let{writer:i}=r;if(!b2(n,e))return null;if(!t)return i.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const o=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,o),o}}function v2(e,t,n){for(;e.parent.is("attributeElement")&&e.parent.getCustomProperty("listItemWrapper");)t.unwrap(t.createRangeOn(e),e.parent);const r=[];i(t.createPositionBefore(e).getWalker({direction:"backward"})),i(t.createRangeIn(e).getWalker());for(const o of r)t.remove(o);function i(e){for(const{item:t}of e){if(t.is("element")&&n.toModelElement(t))break;t.is("element")&&t.getCustomProperty("listItemMarker")&&r.push(t)}}}function b2(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B1(e);if(!N1(e))return!1;for(const r of e.getAttributeKeys())if(!r.startsWith("selection:")&&!t.includes(r))return!1;return n.length<2}const y2=["listType","listIndent","listItemId"];class w2 extends $W{_downcastStrategies=[];static get pluginName(){return"ListEditing"}static get requires(){return[Gq,VG,s2,lZ]}constructor(e){super(e),e.config.define("list.multiBlock",!0)}init(){const e=this.editor,t=e.model,n=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new qj("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});t.schema.register("$listItem",{allowAttributes:y2}),n?(t.schema.extend("$container",{allowAttributesOf:"$listItem"}),t.schema.extend("$block",{allowAttributesOf:"$listItem"}),t.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):t.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const r of y2)t.schema.setAttributeProperties(r,{copyOnReplace:!0});e.commands.add("numberedList",new r2(e,"numbered")),e.commands.add("bulletedList",new r2(e,"bulleted")),e.commands.add("customNumberedList",new r2(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new r2(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new t2(e,"forward")),e.commands.add("outdentList",new t2(e,"backward")),e.commands.add("splitListItemBefore",new o2(e,"before")),e.commands.add("splitListItemAfter",new o2(e,"after")),n&&(e.commands.add("mergeListItemBackward",new i2(e,"backward")),e.commands.add("mergeListItemForward",new i2(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList"),{priority:"high"}),n&&n.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...y2,...this._downcastStrategies.map((e=>e.attributeName))]}_setupDeleteIntegration(){const e=this.editor,t=e.commands.get("mergeListItemBackward"),n=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",((r,i)=>{const o=e.model.document.selection;K1(e.model)||e.model.change((()=>{const s=o.getFirstPosition();if(o.isCollapsed&&"backward"==i.direction){if(!s.isAtStart)return;const n=s.parent;if(!N1(n))return;if(j1.first(n,{sameAttributes:"listType",sameIndent:!0})||0!==n.getAttribute("listIndent")){if(!t||!t.isEnabled)return;t.execute({shouldMergeOnBlocksContentLevel:x2(e.model,"backward")})}else W1(n)||e.execute("splitListItemAfter"),e.execute("outdentList");i.preventDefault(),r.stop()}else{if(o.isCollapsed&&!o.getLastPosition().isAtEnd)return;if(!n||!n.isEnabled)return;n.execute({shouldMergeOnBlocksContentLevel:x2(e.model,"forward")}),i.preventDefault(),r.stop()}}))}),{context:"li"})}_setupEnterIntegration(){const e=this.editor,t=e.model,n=e.commands,r=n.get("enter");this.listenTo(e.editing.view.document,"enter",((n,r)=>{const i=t.document,o=i.selection.getFirstPosition().parent;if(i.selection.isCollapsed&&N1(o)&&o.isEmpty&&!r.isSoft){const t=V1(o),i=W1(o);t&&i?(e.execute("outdentList"),r.preventDefault(),n.stop()):t&&!i?(e.execute("splitListItemAfter"),r.preventDefault(),n.stop()):i&&(e.execute("splitListItemBefore"),r.preventDefault(),n.stop())}}),{context:"li"}),this.listenTo(r,"afterExecute",(()=>{const t=n.get("splitListItemBefore");if(t.refresh(),!t.isEnabled)return;2===B1(e.model.document.selection.getLastPosition().parent).length&&t.execute()}))}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",((t,n)=>{const r=n.shiftKey?"outdentList":"indentList";this.editor.commands.get(r).isEnabled&&(e.execute(r),n.stopPropagation(),n.preventDefault(),t.stop())}),{context:"li"})}_setupConversion(){const e=this.editor,t=e.model,n=this.getListAttributeNames(),r=e.config.get("list.multiBlock"),i=r?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(e,t)=>{let{writer:n}=t;return n.createElement(i,{listType:""})}}).elementToElement({view:"p",model:(e,t)=>{let{writer:n}=t;return e.parent&&e.parent.is("element","li")?n.createElement(i,{listType:""}):null},converterPriority:"high"}).add((e=>{e.on("element:li",p2())})),r||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:i,view:g2(n),converterPriority:"high"}).add((e=>{var r;e.on("attribute",m2(n,this._downcastStrategies,t)),e.on("remove",(r=t.schema,(e,t,n)=>{const{writer:i,mapper:o}=n,s=e.name.split(":")[1];if(!r.checkAttribute(s,"listItemId"))return;const a=o.toViewPosition(t.position),l=t.position.getShiftedBy(t.length),c=o.toViewPosition(l,{isPhantom:!0}),u=i.createRange(a,c).getTrimmed().end.nodeBefore;u&&v2(u,i,o)}))})),e.conversion.for("dataDowncast").elementToElement({model:i,view:g2(n,{dataPipeline:!0}),converterPriority:"high"}).add((e=>{e.on("attribute",m2(n,this._downcastStrategies,t,{dataPipeline:!0}))}));const o=(s=this._downcastStrategies,a=e.editing.view,(e,t)=>{if(t.modelPosition.offset>0)return;const n=t.modelPosition.parent;if(!N1(n))return;if(!s.some((e=>"itemMarker"==e.scope&&e.canInjectMarkerIntoElement&&e.canInjectMarkerIntoElement(n))))return;const r=t.mapper.toViewElement(n),i=a.createRangeIn(r),o=i.getWalker();let l=i.start;for(const{item:s}of o){if(s.is("element")&&t.mapper.toModelElement(s)||s.is("$textProxy"))break;s.is("element")&&s.getCustomProperty("listItemMarker")&&(l=a.createPositionAfter(s),o.skip((e=>{let{previousPosition:t}=e;return!t.isEqual(l)})))}t.viewPosition=l});var s,a;e.editing.mapper.on("modelToViewPosition",o),e.data.mapper.on("modelToViewPosition",o),this.listenTo(t.document,"change:data",function(e,t,n,r){return()=>{const r=e.document.differ.getChanges(),s=[],a=new Map,l=new Set;for(const e of r)if("insert"==e.type&&"$text"!=e.name)f2(e.position,a),e.attributes.has("listItemId")?l.add(e.position.nodeAfter):f2(e.position.getShiftedBy(e.length),a);else if("remove"==e.type&&e.attributes.has("listItemId"))f2(e.position,a);else if("attribute"==e.type){const t=e.range.start.nodeAfter;n.includes(e.attributeKey)?(f2(e.range.start,a),null===e.attributeNewValue?(f2(e.range.start.getShiftedBy(1),a),o(t)&&s.push(t)):l.add(t)):N1(t)&&o(t)&&s.push(t)}for(const e of a.values())s.push(...i(e,l));for(const e of new Set(s))t.reconvertItem(e)};function i(e,t){const r=[],i=new Set,a=[];for(const{node:l,previous:c}of O1(e,"forward")){if(i.has(l))continue;const e=l.getAttribute("listIndent");c&&e<c.getAttribute("listIndent")&&(a.length=e+1),a[e]=Object.fromEntries(Array.from(l.getAttributes()).filter((e=>{let[t]=e;return n.includes(t)})));const u=F1(l,{direction:"forward"});for(const n of u)i.add(n),(o(n,u)||s(n,a,t))&&r.push(n)}return r}function o(e,i){const o=t.mapper.toViewElement(e);if(!o)return!1;if(r.fire("checkElement",{modelElement:e,viewElement:o}))return!0;if(!e.is("element","paragraph")&&!e.is("element","listItem"))return!1;const s=b2(e,n,i);return!(!s||!o.is("element","p"))||!(s||!o.is("element","span"))}function s(e,n,i){if(i.has(e))return!1;const o=t.mapper.toViewElement(e);let s=n.length-1;for(let t=o.parent;!t.is("editableElement");t=t.parent){const e=l2(t),i=a2(t);if(!i&&!e)continue;const o="checkAttributes:"+(e?"item":"list");if(r.fire(o,{viewElement:t,modelAttributes:n[s]}))break;if(i&&(s--,s<0))return!1}return!0}}(t,e.editing,n,this),{priority:"high"}),this.on("checkAttributes:item",((e,t)=>{let{viewElement:n,modelAttributes:r}=t;n.id!=r.listItemId&&(e.return=!0,e.stop())})),this.on("checkAttributes:list",((e,t)=>{let{viewElement:n,modelAttributes:r}=t;n.name==d2(r.listType)&&n.id==h2(r.listType,r.listIndent)||(e.return=!0,e.stop())}))}_setupModelPostFixing(){const e=this.editor.model,t=this.getListAttributeNames();e.document.registerPostFixer((n=>function(e,t,n,r){const i=e.document.differ.getChanges(),o=new Map,s=r.editor.config.get("list.multiBlock");let a=!1;for(const c of i){if("insert"==c.type&&"$text"!=c.name){const r=c.position.nodeAfter;if(!e.schema.checkAttribute(r,"listItemId"))for(const e of Array.from(r.getAttributeKeys()))n.includes(e)&&(t.removeAttribute(e,r),a=!0);f2(c.position,o),c.attributes.has("listItemId")||f2(c.position.getShiftedBy(c.length),o);for(const{item:t,previousPosition:n}of e.createRangeIn(r))N1(t)&&f2(n,o)}else"remove"==c.type?f2(c.position,o):"attribute"==c.type&&n.includes(c.attributeKey)&&(f2(c.range.start,o),null===c.attributeNewValue&&f2(c.range.start.getShiftedBy(1),o));if(!s&&"attribute"==c.type&&y2.includes(c.attributeKey)){const e=c.range.start.nodeAfter;null===c.attributeNewValue&&e&&e.is("element","listItem")?(t.rename(e,"paragraph"),a=!0):null===c.attributeOldValue&&e&&e.is("element")&&"listItem"!=e.name&&(t.rename(e,"listItem"),a=!0)}}const l=new Set;for(const c of o.values())a=r.fire("postFixer",{listNodes:new R1(c),listHead:c,writer:t,seenIds:l})||a;return a}(e,n,t,this))),this.on("postFixer",((e,t)=>{let{listNodes:n,writer:r}=t;e.return=function(e,t){let n=0,r=-1,i=null,o=!1;for(const{node:s}of e){const e=s.getAttribute("listIndent");if(e>n){let a;null===i?(i=e-n,a=n):(i>e&&(i=e),a=e-i),a>r+1&&(a=r+1),t.setAttribute("listIndent",a,s),o=!0,r=a}else i=null,n=e+1,r=e}return o}(n,r)||e.return}),{priority:"high"}),this.on("postFixer",((e,t)=>{let{listNodes:n,writer:r,seenIds:i}=t;e.return=function(e,t,n){const r=new Set;let i=!1;for(const{node:o}of e){if(r.has(o))continue;let e=o.getAttribute("listType"),s=o.getAttribute("listItemId");if(t.has(s)&&(s=L1.next()),t.add(s),o.is("element","listItem"))o.getAttribute("listItemId")!=s&&(n.setAttribute("listItemId",s,o),i=!0);else for(const t of F1(o,{direction:"forward"}))r.add(t),t.getAttribute("listType")!=e&&(s=L1.next(),e=t.getAttribute("listType")),t.getAttribute("listItemId")!=s&&(n.setAttribute("listItemId",s,t),i=!0)}return i}(n,i,r)||e.return}),{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,t=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(e){return(t,n)=>{let[r,i]=n;const o=r.is("documentFragment")?Array.from(r.getChildren()):[r];if(!o.length)return;const s=(i?e.createSelection(i):e.document.selection).getFirstPosition();let a;if(N1(s.parent))a=s.parent;else{if(!N1(s.nodeBefore))return;a=s.nodeBefore}e.change((e=>{const t=a.getAttribute("listType"),n=a.getAttribute("listIndent"),r=o[0].getAttribute("listIndent")||0,i=Math.max(n-r,0);for(const s of o){const n=N1(s);a.is("element","listItem")&&s.is("element","paragraph")&&e.rename(s,"listItem"),e.setAttributes({listIndent:(n?s.getAttribute("listIndent"):0)+i,listItemId:n?s.getAttribute("listItemId"):L1.next(),listType:t},s)}}))}}(e),{priority:"high"}),this.listenTo(t,"outputTransformation",((t,n)=>{e.change((e=>{const t=Array.from(n.content.getChildren()),r=t[t.length-1];if(t.length>1&&r.is("element")&&r.isEmpty){t.slice(0,-1).every(N1)&&e.remove(r)}if("copy"==n.method||"cut"==n.method){const t=Array.from(n.content.getChildren());X1(t)&&q1(t,e)}}))}))}_setupAccessibilityIntegration(){const e=this.editor,t=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:t("Keystrokes that can be used in a list"),keystrokes:[{label:t("Increase list item indent"),keystroke:"Tab"},{label:t("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function x2(e,t){const n=e.document.selection;if(!n.isCollapsed)return!K1(e);if("forward"===t)return!0;const r=n.getFirstPosition().parent,i=r.previousSibling;return!e.schema.isObject(i)&&(!!i.isEmpty||X1([r,i]))}function _2(e,t,n,r){e.ui.componentFactory.add(t,(()=>{const i=C2(IU,e,t,n,r);return i.set({tooltip:!0,isToggleable:!0}),i})),e.ui.componentFactory.add(`menuBar:${t}`,(()=>{const i=C2(XU,e,t,n,r);return i.set({role:"menuitemcheckbox",isToggleable:!0}),i}))}function C2(e,t,n,r,i){const o=t.commands.get(n),s=new e(t.locale);return s.set({label:r,icon:i}),s.bind("isOn","isEnabled").to(o,"value","isEnabled"),s.on("execute",(()=>{t.execute(n),t.editing.view.focus()})),s}class k2 extends $W{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||_2(this.editor,"numberedList",e("Numbered List"),lH.numberedList),this.editor.ui.componentFactory.has("bulletedList")||_2(this.editor,"bulletedList",e("Bulleted List"),lH.bulletedList)}}class S2 extends $W{static get requires(){return[w2,k2]}static get pluginName(){return"List"}}class A2 extends GW{refresh(){const e=this._getValue();this.value=e,this.isEnabled=null!=e}execute(){let{startIndex:e=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document;let r=Array.from(n.selection.getSelectedBlocks()).filter((e=>N1(e)&&J1(e.getAttribute("listType"))));r=U1(r),t.change((t=>{for(const n of r)t.setAttribute("listStart",e>=0?e:1,n)}))}_getValue(){const e=PR(this.editor.model.document.selection.getSelectedBlocks());return e&&N1(e)&&J1(e.getAttribute("listType"))?e.getAttribute("listStart"):null}}const T2={},I2={},M2={},E2=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:n,typeAttribute:Ske,listType:Ake}of E2)T2[n]=Ake,I2[n]=Ske,Ske&&(M2[Ske]=n);function P2(){return E2.map((e=>e.listStyle))}function D2(e){return T2[e]||null}function j2(e){return M2[e]||null}function O2(e){return I2[e]||null}class R2 extends GW{defaultType;_supportedTypes;constructor(e,t,n){super(e),this.defaultType=t,this._supportedTypes=n}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document;t.change((t=>{this._tryToConvertItemsToList(e);let r=Array.from(n.selection.getSelectedBlocks()).filter((e=>e.hasAttribute("listType")));if(r.length){r=U1(r);for(const n of r)t.setAttribute("listStyle",e.type||this.defaultType,n)}}))}isStyleTypeSupported(e){return!this._supportedTypes||this._supportedTypes.includes(e)}_getValue(){const e=PR(this.editor.model.document.selection.getSelectedBlocks());return N1(e)?e.getAttribute("listStyle"):null}_checkEnabled(){const e=this.editor,t=e.commands.get("numberedList"),n=e.commands.get("bulletedList");return t.isEnabled||n.isEnabled}_tryToConvertItemsToList(e){if(!e.type)return;const t=D2(e.type);if(!t)return;const n=this.editor,r=`${t}List`;n.commands.get(r).value||n.execute(r)}}class L2 extends GW{refresh(){const e=this._getValue();this.value=e,this.isEnabled=null!=e}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document;let r=Array.from(n.selection.getSelectedBlocks()).filter((e=>N1(e)&&"numbered"==e.getAttribute("listType")));r=U1(r),t.change((t=>{for(const n of r)t.setAttribute("listReversed",!!e.reversed,n)}))}_getValue(){const e=PR(this.editor.model.document.selection.getSelectedBlocks());return N1(e)&&"numbered"==e.getAttribute("listType")?e.getAttribute("listReversed"):null}}function N2(e){return(t,n,r)=>{const{writer:i,schema:o,consumable:s}=r;if(!1===s.test(n.viewItem,e.viewConsumables))return;n.modelRange||Object.assign(n,r.convertChildren(n.viewItem,n.modelCursor));let a=!1;for(const l of n.modelRange.getItems({shallow:!0}))o.checkAttribute(l,e.attributeName)&&e.appliesToListItem(l)&&(l.hasAttribute(e.attributeName)||(i.setAttribute(e.attributeName,e.getAttributeOnUpcast(n.viewItem),l),a=!0));a&&s.consume(n.viewItem,e.viewConsumables)}}class B2 extends $W{static get pluginName(){return"ListPropertiesUtils"}getAllSupportedStyleTypes(){return P2()}getListTypeFromListStyleType(e){return D2(e)}getListStyleTypeFromTypeAttribute(e){return j2(e)}getTypeAttributeFromListStyleType(e){return O2(e)}}function F2(e){const{startIndex:t,reversed:n,styles:r}=e;return{styles:z2(r),startIndex:t||!1,reversed:n||!1}}function z2(e){const t={listTypes:["bulleted","numbered"],useAttribute:!1};return!0===e||(e?Array.isArray(e)||"string"==typeof e?t.listTypes=TR(e):(t.listTypes=e.listTypes?TR(e.listTypes):t.listTypes,t.useAttribute=!!e.useAttribute):t.listTypes=[]),t}const V2="default";class W2 extends $W{static get requires(){return[w2,B2]}static get pluginName(){return"ListPropertiesEditing"}constructor(e){super(e),e.config.define("list.properties",{styles:!0,startIndex:!1,reversed:!1})}init(){const e=this.editor,t=e.model,n=e.plugins.get(w2),r=function(e){const t=[],n=F2(e);if(e.styles){const e=n.styles.useAttribute;t.push({attributeName:"listStyle",defaultValue:V2,viewConsumables:{styles:"list-style-type"},addCommand(t){let n=P2();e&&(n=n.filter((e=>!!O2(e)))),t.commands.add("listStyle",new R2(t,V2,n))},appliesToListItem:e=>"numbered"==e.getAttribute("listType")||"bulleted"==e.getAttribute("listType"),hasValidAttribute(e){if(!this.appliesToListItem(e))return!e.hasAttribute("listStyle");if(!e.hasAttribute("listStyle"))return!1;const t=e.getAttribute("listStyle");return t==V2||D2(t)==e.getAttribute("listType")},setAttributeOnDowncast(t,n,r){if(n&&n!==V2){if(!e)return void t.setStyle("list-style-type",n,r);{const e=O2(n);if(e)return void t.setAttribute("type",e,r)}}t.removeStyle("list-style-type",r),t.removeAttribute("type",r)},getAttributeOnUpcast(e){const t=e.getStyle("list-style-type");if(t)return t;const n=e.getAttribute("type");return n?j2(n):V2}})}e.reversed&&t.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(e){e.commands.add("listReversed",new L2(e))},appliesToListItem:e=>"numbered"==e.getAttribute("listType"),hasValidAttribute(e){return this.appliesToListItem(e)==e.hasAttribute("listReversed")},setAttributeOnDowncast(e,t,n){t?e.setAttribute("reversed","reversed",n):e.removeAttribute("reversed",n)},getAttributeOnUpcast:e=>e.hasAttribute("reversed")});e.startIndex&&t.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(e){e.commands.add("listStart",new A2(e))},appliesToListItem:e=>J1(e.getAttribute("listType")),hasValidAttribute(e){return this.appliesToListItem(e)==e.hasAttribute("listStart")},setAttributeOnDowncast(e,t,n){0==t||t>1?e.setAttribute("start",t,n):e.removeAttribute("start",n)},getAttributeOnUpcast(e){const t=e.getAttribute("start");return t>=0?t:1}});return t}(e.config.get("list.properties"));for(const i of r)i.addCommand(e),t.schema.extend("$listItem",{allowAttributes:i.attributeName}),n.registerDowncastStrategy({scope:"list",attributeName:i.attributeName,setAttributeOnDowncast(e,t,n){i.setAttributeOnDowncast(e,t,n)}});e.conversion.for("upcast").add((e=>{for(const t of r)e.on("element:ol",N2(t)),e.on("element:ul",N2(t))})),n.on("checkAttributes:list",((e,t)=>{let{viewElement:n,modelAttributes:i}=t;for(const o of r)o.getAttributeOnUpcast(n)!=i[o.attributeName]&&(e.return=!0,e.stop())})),this.listenTo(e.commands.get("indentList"),"afterExecute",((e,n)=>{t.change((e=>{for(const t of n)for(const n of r)n.appliesToListItem(t)&&e.setAttribute(n.attributeName,n.defaultValue,t)}))})),n.on("postFixer",((e,t)=>{let{listNodes:n,writer:i}=t;for(const{node:o}of n)for(const t of r)t.hasValidAttribute(o)||(t.appliesToListItem(o)?i.setAttribute(t.attributeName,t.defaultValue,o):i.removeAttribute(t.attributeName,o),e.return=!0)})),n.on("postFixer",((e,t)=>{let{listNodes:n,writer:i}=t;for(const{node:o,previousNodeInList:s}of n)if(s&&s.getAttribute("listType")==o.getAttribute("listType"))for(const t of r){const{attributeName:n}=t;if(!t.appliesToListItem(o))continue;const r=s.getAttribute(n);o.getAttribute(n)!=r&&(i.setAttribute(n,r,o),e.return=!0)}}))}}class H2 extends xU{children;stylesView=null;additionalPropertiesCollapsibleView=null;startIndexFieldView=null;reversedSwitchButtonView=null;focusTracker=(()=>new DR)();keystrokes=(()=>new jR)();focusables=(()=>new JH)();focusCycler;constructor(e,t){let{enabledProperties:n,styleButtonViews:r,styleGridAriaLabel:i}=t;super(e);const o=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new PU({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),r&&r.length?(this.stylesView=this._createStylesView(r,i),this.children.add(this.stylesView)):o.push("ck-list-properties_without-styles"),(n.startIndex||n.reversed)&&(this._addNumberedListPropertyViews(n),o.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:o},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const e of this.stylesView.children)this.stylesView.focusTracker.add(e.element);SU({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>Aj.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const e=e=>e.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(e,t){const n=new xU(this.locale);return n.children=n.createCollection(),n.children.addMany(e),n.setTemplate({tag:"div",attributes:{"aria-label":t,class:["ck","ck-list-styles-list"]},children:n.children}),n.children.delegate("execute").to(this),n.focus=function(){this.children.first.focus()},n.focusTracker=new DR,n.keystrokes=new jR,n.render(),n.keystrokes.listenTo(n.element),n}_addNumberedListPropertyViews(e){const t=this.locale.t,n=[];e.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),n.push(this.startIndexFieldView)),e.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),n.push(this.reversedSwitchButtonView)),this.stylesView?(this.additionalPropertiesCollapsibleView=new l$(this.locale,n),this.additionalPropertiesCollapsibleView.set({label:t("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(n,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((e=>e))})),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",((e,t,n)=>{n||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)})),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(n)}_createStartIndexField(){const e=this.locale.t,t=new g$(this.locale,X$);return t.set({label:e("Start at"),class:"ck-numbered-list-properties__start-index"}),t.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),t.fieldView.on("input",(()=>{const n=t.fieldView.element,r=n.valueAsNumber;Number.isNaN(r)?t.errorText=e("Invalid start index value."):n.checkValidity()?this.fire("listStart",{startIndex:r}):t.errorText=e("Start index must be greater than 0.")})),t}_createReversedSwitchButton(){const e=this.locale.t,t=new n$(this.locale);return t.set({withText:!0,label:e("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),t.delegate("execute").to(this,"listReversed"),t}}class U2 extends $W{static get pluginName(){return"ListPropertiesUI"}init(){const e=this.editor,t=e.locale.t,n=e.config.get("list.properties"),r=F2(n),i=r.styles.listTypes;if(i.includes("bulleted")){const n=[{label:t("Toggle the disc list style"),tooltip:t("Disc"),type:"disc",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>'},{label:t("Toggle the circle list style"),tooltip:t("Circle"),type:"circle",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>'},{label:t("Toggle the square list style"),tooltip:t("Square"),type:"square",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>'}],i=t("Bulleted List"),o=t("Bulleted list styles toolbar"),s="bulletedList";e.ui.componentFactory.add(s,$2({editor:e,normalizedConfig:r,parentCommandName:s,buttonLabel:i,buttonIcon:lH.bulletedList,styleGridAriaLabel:o,styleDefinitions:n})),e.ui.componentFactory.add(`menuBar:${s}`,G2({editor:e,normalizedConfig:r,parentCommandName:s,buttonLabel:i,styleGridAriaLabel:o,styleDefinitions:n}))}if(i.includes("numbered")||n.startIndex||n.reversed){const n=[{label:t("Toggle the decimal list style"),tooltip:t("Decimal"),type:"decimal",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>'},{label:t("Toggle the decimal with leading zero list style"),tooltip:t("Decimal with leading zero"),type:"decimal-leading-zero",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>'},{label:t("Toggle the lower\u2013roman list style"),tooltip:t("Lower\u2013roman"),type:"lower-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:t("Toggle the upper\u2013roman list style"),tooltip:t("Upper-roman"),type:"upper-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:t("Toggle the lower\u2013latin list style"),tooltip:t("Lower-latin"),type:"lower-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>'},{label:t("Toggle the upper\u2013latin list style"),tooltip:t("Upper-latin"),type:"upper-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>'}],o=t("Numbered List"),s=t("Numbered list styles toolbar"),a="numberedList";e.ui.componentFactory.add(a,$2({editor:e,normalizedConfig:r,parentCommandName:a,buttonLabel:o,buttonIcon:lH.numberedList,styleGridAriaLabel:s,styleDefinitions:n})),i.includes("numbered")&&e.ui.componentFactory.add(`menuBar:${a}`,G2({editor:e,normalizedConfig:r,parentCommandName:a,buttonLabel:o,styleGridAriaLabel:s,styleDefinitions:n}))}}}function $2(e){let{editor:t,normalizedConfig:n,parentCommandName:r,buttonLabel:i,buttonIcon:o,styleGridAriaLabel:s,styleDefinitions:a}=e;const l=t.commands.get(r);return e=>{const c=V$(e,z$),u=c.buttonView;return c.bind("isEnabled").to(l),c.class="ck-list-styles-dropdown",u.on("execute",(()=>{t.execute(r),t.editing.view.focus()})),u.set({label:i,icon:o,tooltip:!0,isToggleable:!0}),u.bind("isOn").to(l,"value",(e=>!!e)),c.once("change:isOpen",(()=>{const e=function(e){let{editor:t,normalizedConfig:n,dropdownView:r,parentCommandName:i,styleDefinitions:o,styleGridAriaLabel:s}=e;const a=t.locale,l={...n,..."numberedList"!=i?{startIndex:!1,reversed:!1}:null},c=i.replace("List","");let u=null;if(n.styles.listTypes.includes(c)){const e=t.commands.get("listStyle"),n=Y2({editor:t,parentCommandName:i,listStyleCommand:e}),r=q2(e);u=o.filter(r).map(n)}const d=new H2(a,{styleGridAriaLabel:s,enabledProperties:l,styleButtonViews:u});n.styles.listTypes.includes(c)&&Y$(r,(()=>d.stylesView.children.find((e=>e.isOn))));if(l.startIndex){const e=t.commands.get("listStart");d.startIndexFieldView.bind("isEnabled").to(e),d.startIndexFieldView.fieldView.bind("value").to(e),d.on("listStart",((e,n)=>t.execute("listStart",n)))}if(l.reversed){const e=t.commands.get("listReversed");d.reversedSwitchButtonView.bind("isEnabled").to(e),d.reversedSwitchButtonView.bind("isOn").to(e,"value",(e=>!!e)),d.on("listReversed",(()=>{const n=e.value;t.execute("listReversed",{reversed:!n})}))}return d.delegate("execute").to(r),d}({editor:t,normalizedConfig:n,dropdownView:c,parentCommandName:r,styleGridAriaLabel:s,styleDefinitions:a});c.panelView.children.add(e)})),c.on("execute",(()=>{t.editing.view.focus()})),c}}function Y2(e){let{editor:t,listStyleCommand:n,parentCommandName:r}=e;const i=t.locale,o=t.commands.get(r);return e=>{let{label:s,type:a,icon:l,tooltip:c}=e;const u=new IU(i);return u.set({label:s,icon:l,tooltip:c}),n.on("change:value",(()=>{u.isOn=n.value===a})),u.on("execute",(()=>{o.value?n.value===a?t.execute(r):n.value!==a&&t.execute("listStyle",{type:a}):t.model.change((()=>{t.execute("listStyle",{type:a})}))})),u}}function G2(e){let{editor:t,normalizedConfig:n,parentCommandName:r,buttonLabel:i,styleGridAriaLabel:o,styleDefinitions:s}=e;return e=>{const a=new cG(e),l=t.commands.get(r),c=t.commands.get("listStyle"),u=q2(c),d=Y2({editor:t,parentCommandName:r,listStyleCommand:c}),h=s.filter(u).map(d),f=new H2(e,{styleGridAriaLabel:o,enabledProperties:{...n,startIndex:!1,reversed:!1},styleButtonViews:h});return f.delegate("execute").to(a),a.buttonView.set({label:i,icon:lH[r]}),a.panelView.children.add(f),a.bind("isEnabled").to(l,"isEnabled"),a.on("execute",(()=>{t.editing.view.focus()})),a}}function q2(e){return"function"==typeof e.isStyleTypeSupported?t=>e.isStyleTypeSupported(t.type):()=>!0}class X2 extends $W{static get requires(){return[W2,U2]}static get pluginName(){return"ListProperties"}}class Z2 extends GW{constructor(e){super(e),this.on("execute",(()=>{this.refresh()}),{priority:"highest"})}refresh(){const e=this._getSelectedItems();this.value=this._getValue(e),this.isEnabled=!!e.length}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.editor.model.change((t=>{const n=this._getSelectedItems(),r=void 0===e.forceValue?!this._getValue(n):e.forceValue;for(const e of n)r?t.setAttribute("todoListChecked",!0,e):t.removeAttribute("todoListChecked",e)}))}_getValue(e){return e.every((e=>e.getAttribute("todoListChecked")))}_getSelectedItems(){const e=this.editor.model,t=e.schema,n=e.document.selection.getFirstRange(),r=n.start.parent,i=[];t.checkAttribute(r,"todoListChecked")&&i.push(...B1(r));for(const o of n.getItems({shallow:!0}))t.checkAttribute(o,"todoListChecked")&&!i.includes(o)&&i.push(...B1(o));return i}}class K2 extends EB{domEventType=["change"];onDomEvent(e){if(e.target){const t=this.view.domConverter.mapDomToView(e.target);t&&t.is("element","input")&&"checkbox"==t.getAttribute("type")&&t.findAncestor({classes:"todo-list__label"})&&this.fire("todoCheckboxChange",e)}}}const Q2=xR("Ctrl+Enter");class J2 extends $W{static get pluginName(){return"TodoListEditing"}static get requires(){return[w2]}init(){const e=this.editor,t=e.model,n=e.editing,r=e.plugins.get(w2),i=e.config.get("list.multiBlock")?"paragraph":"listItem";e.commands.add("todoList",new r2(e,"todo")),e.commands.add("checkTodoList",new Z2(e)),n.view.addObserver(K2),t.schema.extend("$listItem",{allowAttributes:"todoListChecked"}),t.schema.addAttributeCheck((e=>{const t=e.last;if(!t.getAttribute("listItemId")||"todo"!=t.getAttribute("listType"))return!1}),"todoListChecked"),e.conversion.for("upcast").add((e=>{e.on("element:input",((e,t,n)=>{const r=t.modelCursor,i=r.parent,o=t.viewItem;if(!n.consumable.test(o,{name:!0}))return;if("checkbox"!=o.getAttribute("type")||!r.isAtStart||!i.hasAttribute("listType"))return;n.consumable.consume(o,{name:!0});const s=n.writer;s.setAttribute("listType","todo",i),t.viewItem.hasAttribute("checked")&&s.setAttribute("todoListChecked",!0,i),t.modelRange=s.createRange(r)})),e.on("element:li",((e,t,n)=>{const{writer:r,schema:i}=n;if(!t.modelRange)return;const o=Array.from(t.modelRange.getItems({shallow:!0})).filter((e=>"todo"===e.getAttribute("listType")&&i.checkAttribute(e,"listItemId"))).reduce(((e,t)=>{const n=t.getAttribute("listItemId");return e.has(n)||e.set(n,B1(t)),e}),new Map);for(const[,s]of o.entries())if(s.some((e=>e.getAttribute("todoListChecked"))))for(const e of s)r.setAttribute("todoListChecked",!0,e)}),{priority:"low"}),e.on("element:label",e5({name:"label",classes:"todo-list__label"})),e.on("element:label",e5({name:"label",classes:["todo-list__label","todo-list__label_without-description"]})),e.on("element:span",e5({name:"span",classes:"todo-list__label__description"})),e.on("element:ul",function(e){const t=new cN(e);return(e,n,r)=>{const i=t.match(n.viewItem);if(!i)return;const o=i.match;o.name=!1,r.consumable.consume(n.viewItem,o)}}({name:"ul",classes:"todo-list"}))})),e.conversion.for("downcast").elementToElement({model:i,view:(e,t)=>{let{writer:n}=t;if(t5(e,r.getListAttributeNames()))return n.createContainerElement("span",{class:"todo-list__label__description"})},converterPriority:"highest"}),r.registerDowncastStrategy({scope:"list",attributeName:"listType",setAttributeOnDowncast(e,t,n){"todo"==t?e.addClass("todo-list",n):e.removeClass("todo-list",n)}}),r.registerDowncastStrategy({scope:"itemMarker",attributeName:"todoListChecked",createElement(e,t,n){let{dataPipeline:r}=n;if("todo"!=t.getAttribute("listType"))return null;const i=e.createUIElement("input",{type:"checkbox",...t.getAttribute("todoListChecked")?{checked:"checked"}:null,...r?{disabled:"disabled"}:{tabindex:"-1"}});if(r)return i;const o=e.createContainerElement("span",{contenteditable:"false"},i);return o.getFillerOffset=()=>null,o},canWrapElement:e=>t5(e,r.getListAttributeNames()),createWrapperElement(e,t,n){let{dataPipeline:i}=n;const o=["todo-list__label"];return t5(t,r.getListAttributeNames())||o.push("todo-list__label_without-description"),e.createAttributeElement(i?"label":"span",{class:o.join(" ")})}}),r.on("checkElement",((e,t)=>{let{modelElement:n,viewElement:i}=t;const o=t5(n,r.getListAttributeNames());i.hasClass("todo-list__label__description")!=o&&(e.return=!0,e.stop())})),r.on("checkElement",((t,n)=>{let{modelElement:r,viewElement:i}=n;const o="todo"==r.getAttribute("listType")&&V1(r);let s=!1;const a=e.editing.view.createPositionBefore(i).getWalker({direction:"backward"});for(const{item:l}of a){if(l.is("element")&&e.editing.mapper.toModelElement(l))break;l.is("element","input")&&"checkbox"==l.getAttribute("type")&&(s=!0)}s!=o&&(t.return=!0,t.stop())})),r.on("postFixer",((e,t)=>{let{listNodes:n,writer:r}=t;for(const{node:i,previousNodeInList:o}of n){if(!o)continue;if(o.getAttribute("listItemId")!=i.getAttribute("listItemId"))continue;const t=o.hasAttribute("todoListChecked"),n=i.hasAttribute("todoListChecked");n&&!t?(r.removeAttribute("todoListChecked",i),e.return=!0):!n&&t&&(r.setAttribute("todoListChecked",!0,i),e.return=!0)}})),t.document.registerPostFixer((e=>{const n=t.document.differ.getChanges();let r=!1;for(const t of n)if("attribute"==t.type&&"listType"==t.attributeKey){const n=t.range.start.nodeAfter;"todo"==t.attributeOldValue&&n.hasAttribute("todoListChecked")&&(e.removeAttribute("todoListChecked",n),r=!0)}else if("insert"==t.type&&"$text"!=t.name)for(const{item:n}of e.createRangeOn(t.position.nodeAfter))n.is("element")&&"todo"!=n.getAttribute("listType")&&n.hasAttribute("todoListChecked")&&(e.removeAttribute("todoListChecked",n),r=!0);return r})),this.listenTo(n.view.document,"keydown",((t,n)=>{wR(n)===Q2&&(e.execute("checkTodoList"),t.stop())}),{priority:"high"}),this.listenTo(n.view.document,"todoCheckboxChange",((e,t)=>{const r=t.target;if(!r||!r.is("element","input"))return;const i=n.view.createPositionAfter(r),o=n.mapper.toModelPosition(i).parent;o&&N1(o)&&"todo"==o.getAttribute("listType")&&this._handleCheckmarkChange(o)})),this.listenTo(n.view.document,"arrowKey",function(e,t){return(n,r)=>{const i=CR(r.keyCode,t.contentLanguageDirection),o=e.schema,s=e.document.selection;if(!s.isCollapsed)return;const a=s.getFirstPosition(),l=a.parent;if("right"==i&&a.isAtEnd){const t=o.getNearestSelectionRange(e.createPositionAfter(l),"forward");if(!t)return;const i=t.start.parent;i&&N1(i)&&"todo"==i.getAttribute("listType")&&(e.change((e=>e.setSelection(t))),r.preventDefault(),r.stopPropagation(),n.stop())}else if("left"==i&&a.isAtStart&&N1(l)&&"todo"==l.getAttribute("listType")){const t=o.getNearestSelectionRange(e.createPositionBefore(l),"backward");if(!t)return;e.change((e=>e.setSelection(t))),r.preventDefault(),r.stopPropagation(),n.stop()}}}(t,e.locale),{context:"$text"}),this.listenTo(n.mapper,"viewToModelPosition",((e,n)=>{const r=n.viewPosition.parent,i=r.is("attributeElement","li")&&0==n.viewPosition.offset,o=n5(r)&&n.viewPosition.offset<=1,s=r.is("element","span")&&"false"==r.getAttribute("contenteditable")&&n5(r.parent);if(!i&&!o&&!s)return;const a=n.modelPosition.nodeAfter;a&&"todo"==a.getAttribute("listType")&&(n.modelPosition=t.createPositionAt(a,0))}),{priority:"low"}),this._initAriaAnnouncements()}_handleCheckmarkChange(e){const t=this.editor,n=t.model,r=Array.from(n.document.selection.getRanges());n.change((n=>{n.setSelection(e,"end"),t.execute("checkTodoList"),n.setSelection(r)}))}_initAriaAnnouncements(){const{model:e,ui:t,t:n}=this.editor;let r=null;t&&e.document.selection.on("change:range",(()=>{const i=e.document.selection.focus.parent,o=r5(r),s=r5(i);o&&!s?t.ariaLiveAnnouncer.announce(n("Leaving a to-do list")):!o&&s&&t.ariaLiveAnnouncer.announce(n("Entering a to-do list")),r=i}))}}function e5(e){const t=new cN(e);return(e,n,r)=>{const i=t.match(n.viewItem);i&&r.consumable.consume(n.viewItem,i.match)&&Object.assign(n,r.convertChildren(n.viewItem,n.modelCursor))}}function t5(e,t){return(e.is("element","paragraph")||e.is("element","listItem"))&&"todo"==e.getAttribute("listType")&&V1(e)&&function(e,t){for(const n of e.getAttributeKeys())if(!n.startsWith("selection:")&&!t.includes(n))return!1;return!0}(e,t)}function n5(e){return!!e&&e.is("attributeElement")&&e.hasClass("todo-list__label")}function r5(e){return!!e&&(!(!e.is("element","paragraph")&&!e.is("element","listItem"))&&"todo"==e.getAttribute("listType"))}class i5 extends $W{static get pluginName(){return"TodoListUI"}init(){const e=this.editor.t;_2(this.editor,"todoList",e("To-do List"),lH.todoList)}}class o5 extends $W{static get requires(){return[J2,i5]}static get pluginName(){return"TodoList"}}function s5(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let a5={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const l5=/[&<>"']/,c5=/[&<>"']/g,u5=/[<>"']|&(?!#?\w+;)/,d5=/[<>"']|&(?!#?\w+;)/g,h5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},f5=e=>h5[e];function p5(e,t){if(t){if(l5.test(e))return e.replace(c5,f5)}else if(u5.test(e))return e.replace(d5,f5);return e}const m5=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function g5(e){return e.replace(m5,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const v5=/(^|[^\[])\^/g;function b5(e,t){e=e.source||e,t=t||"";const n={replace:(t,r)=>(r=(r=r.source||r).replace(v5,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}const y5=/[^\w:]/g,w5=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function x5(e,t,n){if(e){let e;try{e=decodeURIComponent(g5(n)).replace(y5,"").toLowerCase()}catch(_ke){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!w5.test(n)&&(n=function(e,t){_5[" "+e]||(C5.test(e)?_5[" "+e]=e+"/":_5[" "+e]=M5(e,"/",!0));e=_5[" "+e];const n=-1===e.indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(k5,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(S5,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(_ke){return null}return n}const _5={},C5=/^[^:]+:\/*[^/]*$/,k5=/^([^:]+:)[\s\S]*$/,S5=/^([^:]+:\/*[^/]*)[\s\S]*$/;const A5={exec:function(){}};function T5(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function I5(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function M5(e,t,n){const r=e.length;if(0===r)return"";let i=0;for(;i<r;){const o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.substr(0,r-i)}function E5(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function P5(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function D5(e,t,n,r){const i=t.href,o=t.title?p5(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:i,title:o,text:s,tokens:r.inlineTokens(s,[])};return r.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:o,text:p5(s)}}class j5{constructor(e){this.options=e||a5}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:M5(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=M5(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}const n={type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,i,o,s,a,l,c,u,d,h,f,p=t[1].trim();const m=p.length>1,g={type:"list",raw:"",ordered:m,start:m?+p.slice(0,-1):"",loose:!1,items:[]};p=m?`\\d{1,9}\\${p.slice(-1)}`:`\\${p}`,this.options.pedantic&&(p=m?p:"[*+-]");const v=new RegExp(`^( {0,3}${p})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(f=!1,t=v.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0],u=e.split("\n",1)[0],this.options.pedantic?(o=2,h=c.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,h=c.slice(o),o+=t[1].length),a=!1,!c&&/^ *$/.test(u)&&(n+=u+"\n",e=e.substring(u.length+1),f=!0),!f){const t=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(d=e.split("\n",1)[0],c=d,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!t.test(c));){if(c.search(/[^ ]/)>=o||!c.trim())h+="\n"+c.slice(o);else{if(a)break;h+="\n"+c}a||c.trim()||(a=!0),n+=d+"\n",e=e.substring(d.length+1)}}g.loose||(l?g.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(h),r&&(i="[ ] "!==r[0],h=h.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:h}),g.raw+=n}g.items[g.items.length-1].raw=n.trimRight(),g.items[g.items.length-1].text=h.trimRight(),g.raw=g.raw.trimRight();const b=g.items.length;for(s=0;s<b;s++){this.lexer.state.top=!1,g.items[s].tokens=this.lexer.blockTokens(g.items[s].text,[]);const e=g.items[s].tokens.filter((e=>"space"===e.type)),t=e.every((e=>{const t=e.raw.split("");let n=0;for(const r of t)if("\n"===r&&(n+=1),n>1)return!0;return!1}));!g.loose&&e.length&&t&&(g.loose=!0,g.items[s].loose=!0)}return g}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};return this.options.sanitize&&(e.type="paragraph",e.text=this.options.sanitizer?this.options.sanitizer(t[0]):p5(t[0]),e.tokens=[],this.lexer.inline(e.text,e.tokens)),e}}def(e){const t=this.rules.block.def.exec(e);if(t){t[3]&&(t[3]=t[3].substring(1,t[3].length-1));return{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:I5(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r,i,o,s=e.align.length;for(n=0;n<s;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(s=e.rows.length,n=0;n<s;n++)e.rows[n]=I5(e.rows[n],e.header.length).map((e=>({text:e})));for(s=e.header.length,r=0;r<s;r++)e.header[r].tokens=[],this.lexer.inlineTokens(e.header[r].text,e.header[r].tokens);for(s=e.rows.length,r=0;r<s;r++)for(o=e.rows[r],i=0;i<o.length;i++)o[i].tokens=[],this.lexer.inlineTokens(o[i].text,o[i].tokens);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const e={type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e={type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}text(e){const t=this.rules.block.text.exec(e);if(t){const e={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:p5(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):p5(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=M5(e.slice(0,-1),"\\");if((e.length-t.length)%2===0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,i=0;for(;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),D5(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return D5(n,e,n[0],this.lexer)}}emStrong(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.rules.inline.emStrong.lDelim.exec(e);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;const i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){const n=r[0].length-1;let i,o,s=n,a=0;const l="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=l.exec(t));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=i.length,r[3]||r[4]){s+=o;continue}if((r[5]||r[6])&&n%3&&!((n+o)%3)){a+=o;continue}if(s-=o,s>0)continue;if(o=Math.min(o,o+s+a),Math.min(n,o)%2){const t=e.slice(1,n+r.index+o);return{type:"em",raw:e.slice(0,n+r.index+o+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}const t=e.slice(2,n+r.index+o-1);return{type:"strong",raw:e.slice(0,n+r.index+o+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=p5(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=p5(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=p5(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=p5(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=p5(n[0]),r="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):p5(n[0]):n[0]:p5(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const O5={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:A5,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};O5.def=b5(O5.def).replace("label",O5._label).replace("title",O5._title).getRegex(),O5.bullet=/(?:[*+-]|\d{1,9}[.)])/,O5.listItemStart=b5(/^( *)(bull) */).replace("bull",O5.bullet).getRegex(),O5.list=b5(O5.list).replace(/bull/g,O5.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+O5.def.source+")").getRegex(),O5._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",O5._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,O5.html=b5(O5.html,"i").replace("comment",O5._comment).replace("tag",O5._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),O5.paragraph=b5(O5._paragraph).replace("hr",O5.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O5._tag).getRegex(),O5.blockquote=b5(O5.blockquote).replace("paragraph",O5.paragraph).getRegex(),O5.normal=T5({},O5),O5.gfm=T5({},O5.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),O5.gfm.table=b5(O5.gfm.table).replace("hr",O5.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O5._tag).getRegex(),O5.gfm.paragraph=b5(O5._paragraph).replace("hr",O5.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",O5.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O5._tag).getRegex(),O5.pedantic=T5({},O5.normal,{html:b5("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",O5._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:A5,paragraph:b5(O5.normal._paragraph).replace("hr",O5.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",O5.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const R5={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:A5,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:A5,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function L5(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function N5(e){let t,n,r="";const i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}R5._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",R5.punctuation=b5(R5.punctuation).replace(/punctuation/g,R5._punctuation).getRegex(),R5.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,R5.escapedEmSt=/\\\*|\\_/g,R5._comment=b5(O5._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),R5.emStrong.lDelim=b5(R5.emStrong.lDelim).replace(/punct/g,R5._punctuation).getRegex(),R5.emStrong.rDelimAst=b5(R5.emStrong.rDelimAst,"g").replace(/punct/g,R5._punctuation).getRegex(),R5.emStrong.rDelimUnd=b5(R5.emStrong.rDelimUnd,"g").replace(/punct/g,R5._punctuation).getRegex(),R5._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,R5._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,R5._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,R5.autolink=b5(R5.autolink).replace("scheme",R5._scheme).replace("email",R5._email).getRegex(),R5._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,R5.tag=b5(R5.tag).replace("comment",R5._comment).replace("attribute",R5._attribute).getRegex(),R5._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,R5._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,R5._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,R5.link=b5(R5.link).replace("label",R5._label).replace("href",R5._href).replace("title",R5._title).getRegex(),R5.reflink=b5(R5.reflink).replace("label",R5._label).replace("ref",O5._label).getRegex(),R5.nolink=b5(R5.nolink).replace("ref",O5._label).getRegex(),R5.reflinkSearch=b5(R5.reflinkSearch,"g").replace("reflink",R5.reflink).replace("nolink",R5.nolink).getRegex(),R5.normal=T5({},R5),R5.pedantic=T5({},R5.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:b5(/^!?\[(label)\]\((.*?)\)/).replace("label",R5._label).getRegex(),reflink:b5(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",R5._label).getRegex()}),R5.gfm=T5({},R5.normal,{escape:b5(R5.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),R5.gfm.url=b5(R5.gfm.url,"i").replace("email",R5.gfm._extended_email).getRegex(),R5.breaks=T5({},R5.gfm,{br:b5(R5.br).replace("{2,}","*").getRegex(),text:b5(R5.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class B5{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||a5,this.options.tokenizer=this.options.tokenizer||new j5,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:O5.normal,inline:R5.normal};this.options.pedantic?(t.block=O5.pedantic,t.inline=R5.pedantic):this.options.gfm&&(t.block=O5.gfm,this.options.breaks?t.inline=R5.breaks:t.inline=R5.gfm),this.tokenizer.rules=t}static get rules(){return{block:O5,inline:R5}}static lex(e,t){return new B5(t).lex(e)}static lexInline(e,t){return new B5(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e){let t,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((n=>!!(t=n.call({lexer:this},e,o))&&(e=e.substring(t.raw.length),o.push(t),!0)))))if(t=this.tokenizer.space(e))e=e.substring(t.raw.length),1===t.raw.length&&o.length>0?o[o.length-1].raw+="\n":o.push(t);else if(t=this.tokenizer.code(e))e=e.substring(t.raw.length),n=o[o.length-1],!n||"paragraph"!==n.type&&"text"!==n.type?o.push(t):(n.raw+="\n"+t.raw,n.text+="\n"+t.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(t=this.tokenizer.fences(e))e=e.substring(t.raw.length),o.push(t);else if(t=this.tokenizer.heading(e))e=e.substring(t.raw.length),o.push(t);else if(t=this.tokenizer.hr(e))e=e.substring(t.raw.length),o.push(t);else if(t=this.tokenizer.blockquote(e))e=e.substring(t.raw.length),o.push(t);else if(t=this.tokenizer.list(e))e=e.substring(t.raw.length),o.push(t);else if(t=this.tokenizer.html(e))e=e.substring(t.raw.length),o.push(t);else if(t=this.tokenizer.def(e))e=e.substring(t.raw.length),n=o[o.length-1],!n||"paragraph"!==n.type&&"text"!==n.type?this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title}):(n.raw+="\n"+t.raw,n.text+="\n"+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(t=this.tokenizer.table(e))e=e.substring(t.raw.length),o.push(t);else if(t=this.tokenizer.lheading(e))e=e.substring(t.raw.length),o.push(t);else{if(r=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startBlock.forEach((function(e){i=e.call({lexer:this},n),"number"===typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(this.state.top&&(t=this.tokenizer.paragraph(r)))n=o[o.length-1],i&&"paragraph"===n.type?(n.raw+="\n"+t.raw,n.text+="\n"+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):o.push(t),i=r.length!==e.length,e=e.substring(t.raw.length);else if(t=this.tokenizer.text(e))e=e.substring(t.raw.length),n=o[o.length-1],n&&"text"===n.type?(n.raw+="\n"+t.raw,n.text+="\n"+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):o.push(t);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,o}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e){let t,n,r,i,o,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,i.index)+"["+P5("a",i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,i.index)+"["+P5("a",i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,i.index)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(o||(s=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((n=>!!(t=n.call({lexer:this},e,a))&&(e=e.substring(t.raw.length),a.push(t),!0)))))if(t=this.tokenizer.escape(e))e=e.substring(t.raw.length),a.push(t);else if(t=this.tokenizer.tag(e))e=e.substring(t.raw.length),n=a[a.length-1],n&&"text"===t.type&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):a.push(t);else if(t=this.tokenizer.link(e))e=e.substring(t.raw.length),a.push(t);else if(t=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(t.raw.length),n=a[a.length-1],n&&"text"===t.type&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):a.push(t);else if(t=this.tokenizer.emStrong(e,l,s))e=e.substring(t.raw.length),a.push(t);else if(t=this.tokenizer.codespan(e))e=e.substring(t.raw.length),a.push(t);else if(t=this.tokenizer.br(e))e=e.substring(t.raw.length),a.push(t);else if(t=this.tokenizer.del(e))e=e.substring(t.raw.length),a.push(t);else if(t=this.tokenizer.autolink(e,N5))e=e.substring(t.raw.length),a.push(t);else if(this.state.inLink||!(t=this.tokenizer.url(e,N5))){if(r=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startInline.forEach((function(e){i=e.call({lexer:this},n),"number"===typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(t=this.tokenizer.inlineText(r,L5))e=e.substring(t.raw.length),"_"!==t.raw.slice(-1)&&(s=t.raw.slice(-1)),o=!0,n=a[a.length-1],n&&"text"===n.type?(n.raw+=t.raw,n.text+=t.text):a.push(t);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(t.raw.length),a.push(t);return a}}class F5{constructor(e){this.options=e||a5}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+p5(r,!0)+'">'+(n?e:p5(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:p5(e,!0))+"</code></pre>\n"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,n){if(null===(e=x5(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+p5(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(null===(e=x5(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}}class z5{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class V5{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class W5{constructor(e){this.options=e||a5,this.options.renderer=this.options.renderer||new F5,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new z5,this.slugger=new V5}static parse(e,t){return new W5(t).parse(e)}static parseInline(e,t){return new W5(t).parseInline(e)}parse(e){let t,n,r,i,o,s,a,l,c,u,d,h,f,p,m,g,v,b,y,w=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],x="";const _=e.length;for(t=0;t<_;t++)if(u=e[t],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]&&(y=this.options.extensions.renderers[u.type].call({parser:this},u),!1!==y||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)))x+=y||"";else switch(u.type){case"space":continue;case"hr":x+=this.renderer.hr();continue;case"heading":x+=this.renderer.heading(this.parseInline(u.tokens),u.depth,g5(this.parseInline(u.tokens,this.textRenderer)),this.slugger);continue;case"code":x+=this.renderer.code(u.text,u.lang,u.escaped);continue;case"table":for(l="",a="",i=u.header.length,n=0;n<i;n++)a+=this.renderer.tablecell(this.parseInline(u.header[n].tokens),{header:!0,align:u.align[n]});for(l+=this.renderer.tablerow(a),c="",i=u.rows.length,n=0;n<i;n++){for(s=u.rows[n],a="",o=s.length,r=0;r<o;r++)a+=this.renderer.tablecell(this.parseInline(s[r].tokens),{header:!1,align:u.align[r]});c+=this.renderer.tablerow(a)}x+=this.renderer.table(l,c);continue;case"blockquote":c=this.parse(u.tokens),x+=this.renderer.blockquote(c);continue;case"list":for(d=u.ordered,h=u.start,f=u.loose,i=u.items.length,c="",n=0;n<i;n++)m=u.items[n],g=m.checked,v=m.task,p="",m.task&&(b=this.renderer.checkbox(g),f?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=b+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=b+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:b}):p+=b),p+=this.parse(m.tokens,f),c+=this.renderer.listitem(p,v,g);x+=this.renderer.list(c,d,h);continue;case"html":x+=this.renderer.html(u.text);continue;case"paragraph":x+=this.renderer.paragraph(this.parseInline(u.tokens));continue;case"text":for(c=u.tokens?this.parseInline(u.tokens):u.text;t+1<_&&"text"===e[t+1].type;)u=e[++t],c+="\n"+(u.tokens?this.parseInline(u.tokens):u.text);x+=w?this.renderer.paragraph(c):c;continue;default:{const e='Token with "'+u.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return x}parseInline(e,t){t=t||this.renderer;let n,r,i,o="";const s=e.length;for(n=0;n<s;n++)if(r=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]&&(i=this.options.extensions.renderers[r.type].call({parser:this},r),!1!==i||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)))o+=i||"";else switch(r.type){case"escape":case"text":o+=t.text(r.text);break;case"html":o+=t.html(r.text);break;case"link":o+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":o+=t.image(r.href,r.title,r.text);break;case"strong":o+=t.strong(this.parseInline(r.tokens,t));break;case"em":o+=t.em(this.parseInline(r.tokens,t));break;case"codespan":o+=t.codespan(r.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(r.tokens,t));break;default:{const e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return o}}function H5(e,t,n){if("undefined"===typeof e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!==typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"===typeof t&&(n=t,t=null),E5(t=T5({},H5.defaults,t||{})),n){const r=t.highlight;let i;try{i=B5.lex(e,t)}catch(_ke){return n(_ke)}const o=function(e){let o;if(!e)try{t.walkTokens&&H5.walkTokens(i,t.walkTokens),o=W5.parse(i,t)}catch(_ke){e=_ke}return t.highlight=r,e?n(e):n(null,o)};if(!r||r.length<3)return o();if(delete t.highlight,!i.length)return o();let s=0;return H5.walkTokens(i,(function(e){"code"===e.type&&(s++,setTimeout((()=>{r(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),s--,0===s&&o()}))}),0))})),void(0===s&&o())}try{const n=B5.lex(e,t);return t.walkTokens&&H5.walkTokens(n,t.walkTokens),W5.parse(n,t)}catch(_ke){if(_ke.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+p5(_ke.message+"",!0)+"</pre>";throw _ke}}H5.options=H5.setOptions=function(e){var t;return T5(H5.defaults,e),t=H5.defaults,a5=t,H5},H5.getDefaults=s5,H5.defaults=a5,H5.use=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=T5({},...t),i=H5.defaults.extensions||{renderers:{},childTokens:{}};let o;t.forEach((e=>{if(e.extensions&&(o=!0,e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const t=i.renderers?i.renderers[e.name]:null;i.renderers[e.name]=t?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];let o=e.renderer.apply(this,r);return!1===o&&(o=t.apply(this,r)),o}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");i[e.level]?i[e.level].unshift(e.tokenizer):i[e.level]=[e.tokenizer],e.start&&("block"===e.level?i.startBlock?i.startBlock.push(e.start):i.startBlock=[e.start]:"inline"===e.level&&(i.startInline?i.startInline.push(e.start):i.startInline=[e.start]))}e.childTokens&&(i.childTokens[e.name]=e.childTokens)}))),e.renderer){const t=H5.defaults.renderer||new F5;for(const n in e.renderer){const r=t[n];t[n]=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];let a=e.renderer[n].apply(t,o);return!1===a&&(a=r.apply(t,o)),a}}r.renderer=t}if(e.tokenizer){const t=H5.defaults.tokenizer||new j5;for(const n in e.tokenizer){const r=t[n];t[n]=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];let a=e.tokenizer[n].apply(t,o);return!1===a&&(a=r.apply(t,o)),a}}r.tokenizer=t}if(e.walkTokens){const t=H5.defaults.walkTokens;r.walkTokens=function(n){e.walkTokens.call(this,n),t&&t.call(this,n)}}o&&(r.extensions=i),H5.setOptions(r)}))},H5.walkTokens=function(e,t){for(const n of e)switch(t.call(H5,n),n.type){case"table":for(const e of n.header)H5.walkTokens(e.tokens,t);for(const e of n.rows)for(const n of e)H5.walkTokens(n.tokens,t);break;case"list":H5.walkTokens(n.items,t);break;default:H5.defaults.extensions&&H5.defaults.extensions.childTokens&&H5.defaults.extensions.childTokens[n.type]?H5.defaults.extensions.childTokens[n.type].forEach((function(e){H5.walkTokens(n[e],t)})):n.tokens&&H5.walkTokens(n.tokens,t)}},H5.parseInline=function(e,t){if("undefined"===typeof e||null===e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");E5(t=T5({},H5.defaults,t||{}));try{const n=B5.lexInline(e,t);return t.walkTokens&&H5.walkTokens(n,t.walkTokens),W5.parseInline(n,t)}catch(_ke){if(_ke.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+p5(_ke.message+"",!0)+"</pre>";throw _ke}},H5.Parser=W5,H5.parser=W5.parse,H5.Renderer=F5,H5.TextRenderer=z5,H5.Lexer=B5,H5.lexer=B5.lex,H5.Tokenizer=j5,H5.Slugger=V5,H5.parse=H5;H5.options,H5.setOptions,H5.use,H5.walkTokens,H5.parseInline,W5.parse,B5.lex;function U5(e,t){return Array(t+1).join(e)}var $5=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function Y5(e){return Z5(e,$5)}var G5=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function q5(e){return Z5(e,G5)}var X5=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function Z5(e,t){return t.indexOf(e.nodeName)>=0}function K5(e,t){return e.getElementsByTagName&&t.some((function(t){return e.getElementsByTagName(t).length}))}var Q5={};function J5(e){return e?e.replace(/(\n+\s*)+/g,"\n"):""}function e4(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function t4(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(n4(i,t,n))return i}}function n4(e,t,n){var r=e.filter;if("string"===typeof r){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else{if("function"!==typeof r)throw new TypeError("`filter` needs to be a string, array, or function");if(r.call(e,t,n))return!0}}function r4(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function i4(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}Q5.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},Q5.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}},Q5.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));return"setext"===n.headingStyle&&r<3?"\n\n"+e+"\n"+U5(1===r?"=":"-",e.length)+"\n\n":"\n\n"+U5("#",r)+" "+e+"\n\n"}},Q5.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},Q5.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return"LI"===n.nodeName&&n.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},Q5.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var r=n.bulletListMarker+"   ",i=t.parentNode;if("OL"===i.nodeName){var o=i.getAttribute("start"),s=Array.prototype.indexOf.call(i.children,t);r=(o?Number(o)+s:s+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},Q5.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},Q5.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){for(var r,i=((t.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],o=t.firstChild.textContent,s=n.fence.charAt(0),a=3,l=new RegExp("^"+s+"{3,}","gm");r=l.exec(o);)r[0].length>=a&&(a=r[0].length+1);var c=U5(s,a);return"\n\n"+c+i+"\n"+o.replace(/\n$/,"")+"\n"+c+"\n\n"}},Q5.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}},Q5.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var r=J5(t.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+e+"]("+n+r+")"}},Q5.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,n){var r,i,o=t.getAttribute("href"),s=J5(t.getAttribute("title"));switch(s&&(s=' "'+s+'"'),n.linkReferenceStyle){case"collapsed":r="["+e+"][]",i="["+e+"]: "+o+s;break;case"shortcut":r="["+e+"]",i="["+e+"]: "+o+s;break;default:var a=this.references.length+1;r="["+e+"]["+a+"]",i="["+a+"]: "+o+s}return this.references.push(i),r},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},Q5.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},Q5.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},Q5.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];-1!==r.indexOf(n);)n+="`";return n+t+e+t+n}},Q5.image={filter:"img",replacement:function(e,t){var n=J5(t.getAttribute("alt")),r=t.getAttribute("src")||"",i=J5(t.getAttribute("title"));return r?"!["+n+"]("+r+(i?' "'+i+'"':"")+")":""}},e4.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:(t=t4(this.array,e,this.options))||(t=t4(this._keep,e,this.options))||(t=t4(this._remove,e,this.options))?t:this.defaultRule;var t},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var o4="undefined"!==typeof window?window:{};var s4,a4=function(){var e=o4.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(_ke){}return t}()?o4.DOMParser:function(){var e=function(){};return!function(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(_ke){o4.ActiveXObject&&(e=!0)}return e}()?e.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t}:e.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t},e}();function l4(e,t){var n;"string"===typeof e?n=(s4=s4||new a4).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):n=e.cloneNode(!0);return function(e){var t=e.element,n=e.isBlock,r=e.isVoid,i=e.isPre||function(e){return"PRE"===e.nodeName};if(t.firstChild&&!i(t)){for(var o=null,s=!1,a=null,l=i4(a,t,i);l!==t;){if(3===l.nodeType||4===l.nodeType){var c=l.data.replace(/[ \r\n\t]+/g," ");if(o&&!/ $/.test(o.data)||s||" "!==c[0]||(c=c.substr(1)),!c){l=r4(l);continue}l.data=c,o=l}else{if(1!==l.nodeType){l=r4(l);continue}n(l)||"BR"===l.nodeName?(o&&(o.data=o.data.replace(/ $/,"")),o=null,s=!1):r(l)||i(l)?(o=null,s=!0):o&&(s=!1)}var u=i4(a,l,i);a=l,l=u}o&&(o.data=o.data.replace(/ $/,""),o.data||r4(o))}}({element:n,isBlock:Y5,isVoid:q5,isPre:t.preformattedCode?c4:null}),n}function c4(e){return"PRE"===e.nodeName||"CODE"===e.nodeName}function u4(e,t){return e.isBlock=Y5(e),e.isCode="CODE"===e.nodeName||e.parentNode.isCode,e.isBlank=function(e){return!q5(e)&&!function(e){return Z5(e,X5)}(e)&&/^\s*$/i.test(e.textContent)&&!function(e){return K5(e,G5)}(e)&&!function(e){return K5(e,X5)}(e)}(e),e.flankingWhitespace=function(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=function(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}(e.textContent);n.leadingAscii&&d4("left",e,t)&&(n.leading=n.leadingNonAscii);n.trailingAscii&&d4("right",e,t)&&(n.trailing=n.trailingNonAscii);return{leading:n.leading,trailing:n.trailing}}(e,t),e}function d4(e,t,n){var r,i,o;return"left"===e?(r=t.previousSibling,i=/ $/):(r=t.nextSibling,i=/^ /),r&&(3===r.nodeType?o=i.test(r.nodeValue):n.preformattedCode&&"CODE"===r.nodeName?o=!1:1!==r.nodeType||Y5(r)||(o=i.test(r.textContent))),o}var h4=Array.prototype.reduce,f4=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function p4(e){if(!(this instanceof p4))return new p4(e);var t={rules:Q5,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}};this.options=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}({},t,e),this.rules=new e4(this.options)}function m4(e){var t=this;return h4.call(e.childNodes,(function(e,n){var r="";return 3===(n=new u4(n,t.options)).nodeType?r=n.isCode?n.nodeValue:t.escape(n.nodeValue):1===n.nodeType&&(r=v4.call(t,n)),b4(e,r)}),"")}function g4(e){var t=this;return this.rules.forEach((function(n){"function"===typeof n.append&&(e=b4(e,n.append(t.options)))})),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function v4(e){var t=this.rules.forNode(e),n=m4.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function b4(e,t){var n=function(e){for(var t=e.length;t>0&&"\n"===e[t-1];)t--;return e.substring(0,t)}(e),r=t.replace(/^\n*/,""),i=Math.max(e.length-n.length,t.length-r.length);return n+"\n\n".substring(0,i)+r}p4.prototype={turndown:function(e){if(!function(e){return null!=e&&("string"===typeof e||e.nodeType&&(1===e.nodeType||9===e.nodeType||11===e.nodeType))}(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(""===e)return"";var t=m4.call(this,new l4(e,this.options));return g4.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else{if("function"!==typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(this)}return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return f4.reduce((function(e,t){return e.replace(t[0],t[1])}),e)}};const y4=p4;var w4=/highlight-(?:text|source)-([a-z0-9]+)/;function x4(e){e.addRule("highlightedCodeBlock",{filter:function(e){var t=e.firstChild;return"DIV"===e.nodeName&&w4.test(e.className)&&t&&"PRE"===t.nodeName},replacement:function(e,t,n){var r=((t.className||"").match(w4)||[null,""])[1];return"\n\n"+n.fence+r+"\n"+t.firstChild.textContent+"\n"+n.fence+"\n\n"}})}function _4(e){e.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(e){return"~"+e+"~"}})}var C4=Array.prototype.indexOf,k4=Array.prototype.every,S4={};function A4(e){var t=e.parentNode;return"THEAD"===t.nodeName||t.firstChild===e&&("TABLE"===t.nodeName||function(e){var t=e.previousSibling;return"TBODY"===e.nodeName&&(!t||"THEAD"===t.nodeName&&/^\s*$/i.test(t.textContent))}(t))&&k4.call(e.childNodes,(function(e){return"TH"===e.nodeName}))}function T4(e,t){var n=" ";return 0===C4.call(t.parentNode.childNodes,t)&&(n="| "),n+e+" |"}function I4(e){for(var t in e.keep((function(e){return"TABLE"===e.nodeName&&!A4(e.rows[0])})),S4)e.addRule(t,S4[t])}function M4(e){e.addRule("taskListItems",{filter:function(e){return"checkbox"===e.type&&"LI"===e.parentNode.nodeName},replacement:function(e,t){return(t.checked?"[x]":"[ ]")+" "}})}function E4(e){e.use([x4,_4,I4,M4])}S4.tableCell={filter:["th","td"],replacement:function(e,t){return T4(e,t)}},S4.tableRow={filter:"tr",replacement:function(e,t){var n="",r={left:":--",right:"--:",center:":-:"};if(A4(t))for(var i=0;i<t.childNodes.length;i++){var o="---",s=(t.childNodes[i].getAttribute("align")||"").toLowerCase();s&&(o=r[s]||o),n+=T4(o,t.childNodes[i])}return"\n"+e+(n?"\n"+n:"")}},S4.table={filter:function(e){return"TABLE"===e.nodeName&&A4(e.rows[0])},replacement:function(e){return"\n\n"+(e=e.replace("\n\n","\n"))+"\n\n"}},S4.tableSection={filter:["thead","tbody","tfoot"],replacement:function(e){return e}};class P4{_parser;_options={gfm:!0,breaks:!0,tables:!0,xhtml:!0,headerIds:!1};constructor(){H5.use({tokenizer:{autolink:()=>null,url:()=>null},renderer:{checkbox(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.getPrototypeOf(this).checkbox.call(this,...t).trimRight()},code(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.getPrototypeOf(this).code.call(this,...t).replace("\n</code>","</code>")}}}),this._parser=H5}parse(e){return this._parser.parse(e,this._options)}}const D4=new RegExp(/\b(?:(?:https?|ftp):\/\/|www\.)/.source+/(?![-_])(?:[-_a-z0-9\u00a1-\uffff]{1,63}\.)+(?:[a-z\u00a1-\uffff]{2,63})/.source+/(?:[^\s<>]*)/.source,"gi");class j4 extends y4{escape(e){const t=super.escape;function n(e){return e=(e=t(e)).replace(/</g,"\\<")}let r="",i=0;for(const o of this._matchAutolink(e)){const t=o.index;t>i&&(r+=n(e.substring(i,t)));const s=o[0];r+=s,i=t+s.length}return i<e.length&&(r+=n(e.substring(i,e.length))),r}*_matchAutolink(e){for(const t of e.matchAll(D4)){const e=t[0],n=this._autolinkFindEnd(e);yield Object.assign([e.substring(0,n)],{index:t.index})}}_autolinkFindEnd(e){let t=e.length;for(;t>0;){const n=e[t-1];if("?!.,:*_~'\"".includes(n))t--;else{if(")"!=n)break;{let n=0;for(let r=0;r<t;r++)"("==e[r]?n++:")"==e[r]&&n--;if(!(n<0))break;t--}}}return t}}class O4{_parser;constructor(){this._parser=this._createParser()}parse(e){return this._parser.turndown(e)}keep(e){this._parser.keep(e)}_createParser(){const e=new j4({codeBlockStyle:"fenced",hr:"---",headingStyle:"atx"});return e.use([E4,this._todoList]),e}_todoList(e){e.addRule("taskListItems",{filter:e=>"checkbox"===e.type&&("LI"===e.parentNode.nodeName||"LI"===e.parentNode.parentNode.nodeName),replacement:(e,t)=>(t.checked?"[x]":"[ ]")+" "})}}class R4{_htmlDP;_markdown2html;_html2markdown;constructor(e){this._htmlDP=new Cz(e),this._markdown2html=new P4,this._html2markdown=new O4}keepHtml(e){this._html2markdown.keep([e])}toView(e){const t=this._markdown2html.parse(e);return this._htmlDP.toView(t)}toData(e){const t=this._htmlDP.toData(e);return this._html2markdown.parse(t)}registerRawContentMatcher(e){this._htmlDP.registerRawContentMatcher(e)}useFillerType(){}}class L4 extends $W{constructor(e){super(e),e.data.processor=new R4(e.data.viewDocument)}static get pluginName(){return"Markdown"}}const N4=["SPAN","BR","PRE","CODE"];class B4 extends $W{_gfmDataProcessor;constructor(e){super(e),this._gfmDataProcessor=new R4(e.data.viewDocument)}static get pluginName(){return"PasteFromMarkdownExperimental"}static get requires(){return[lZ]}init(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get("ClipboardPipeline");let r=!1;this.listenTo(t,"keydown",((e,t)=>{r=t.shiftKey})),this.listenTo(n,"inputTransformation",((e,t)=>{if(r)return;const n=t.dataTransfer.getData("text/html");if(!n){const e=t.dataTransfer.getData("text/plain");return void(t.content=this._gfmDataProcessor.toView(e))}const i=this._parseMarkdownFromHtml(n);i&&(t.content=this._gfmDataProcessor.toView(i))}))}_parseMarkdownFromHtml(e){const t=this._removeOsSpecificTags(e);if(!this._containsOnlyAllowedFirstLevelTags(t))return null;const n=this._removeFirstLevelWrapperTagsAndBrs(t);return this._containsAnyRemainingHtmlTags(n)?null:this._replaceHtmlReservedEntitiesWithCharacters(n)}_removeOsSpecificTags(e){return e.replace(/^<meta\b[^>]*>/,"").trim().replace(/^<html>/,"").replace(/<\/html>$/,"").trim().replace(/^<body>/,"").replace(/<\/body>$/,"").trim().replace(/^<!--StartFragment-->/,"").replace(/<!--EndFragment-->$/,"").trim()}_containsOnlyAllowedFirstLevelTags(e){const t=new DOMParser,{body:n}=t.parseFromString(e,"text/html");return Array.from(n.children).map((e=>e.tagName)).every((e=>N4.includes(e)))}_removeFirstLevelWrapperTagsAndBrs(e){const t=new DOMParser,{body:n}=t.parseFromString(e,"text/html"),r=n.querySelectorAll("br");for(const o of r)o.replaceWith("\n");const i=n.querySelectorAll(":scope > *");for(const o of i){const e=o.cloneNode(!0);o.replaceWith(...e.childNodes)}return n.innerHTML}_containsAnyRemainingHtmlTags(e){return e.includes("<")}_replaceHtmlReservedEntitiesWithCharacters(e){return e.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&nbsp;/g," ")}}function F4(e,t){const n=(n,r,i)=>{if(!i.consumable.consume(r.item,n.name))return;const o=r.attributeNewValue,s=i.writer,a=i.mapper.toViewElement(r.item),l=[...a.getChildren()].find((e=>e.getCustomProperty("media-content")));s.remove(l);const c=e.getMediaViewElement(s,o,t);s.insert(s.createPositionAt(a,0),c)};return e=>{e.on("attribute:url:media",n)}}function z4(e,t,n,r){return e.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(e,n,r),e.createSlot()])}function V4(e){const t=e.getSelectedElement();return t&&t.is("element","media")?t:null}function W4(e,t,n,r){e.change((i=>{const o=i.createElement("media",{url:t});e.insertObject(o,n,null,{setSelection:"on",findOptimalPosition:r?"auto":void 0})}))}class H4 extends GW{refresh(){const e=this.editor.model,t=e.document.selection,n=V4(t);this.value=n?n.getAttribute("url"):void 0,this.isEnabled=function(e){const t=e.getSelectedElement();return!!t&&"media"===t.name}(t)||function(e,t){const n=jX(e,t);let r=n.start.parent;r.isEmpty&&!t.schema.isLimit(r)&&(r=r.parent);return t.schema.checkChild(r,"media")}(t,e)}execute(e){const t=this.editor.model,n=t.document.selection,r=V4(n);r?t.change((t=>{t.setAttribute("url",e,r)})):W4(t,e,n,!0)}}class U4{locale;providerDefinitions;constructor(e,t){const n=t.providers,r=t.extraProviders||[],i=new Set(t.removeProviders),o=n.concat(r).filter((e=>{const t=e.name;return t?!i.has(t):(Xj("media-embed-no-provider-name",{provider:e}),!1)}));this.locale=e,this.providerDefinitions=o}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,n){return this._getMedia(t).getViewElement(e,n)}_getMedia(e){if(!e)return new $4(this.locale);e=e.trim();for(const t of this.providerDefinitions){const n=t.html,r=TR(t.url);for(const t of r){const r=this._getUrlMatches(e,t);if(r)return new $4(this.locale,e,r,n)}}return null}_getUrlMatches(e,t){let n=e.match(t);if(n)return n;let r=e.replace(/^https?:\/\//,"");return n=r.match(t),n||(r=r.replace(/^www\./,""),n=r.match(t),n||null)}}class $4{url;_locale;_match;_previewRenderer;constructor(e,t,n,r){this.url=this._getValidUrl(t),this._locale=e,this._match=n,this._previewRenderer=r}getViewElement(e,t){const n={};let r;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),t.renderForEditingView&&(n.class="ck-media__wrapper");const i=this._getPreviewHtml(t);r=e.createRawElement("div",n,((e,t)=>{t.setContentOf(e,i)}))}else this.url&&(n.url=this.url),r=e.createEmptyElement(t.elementName,n);return e.setCustomProperty("media-content",!0,r),r}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new AU,t=this._locale.t;e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42";return new eU({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}class Y4 extends $W{static get pluginName(){return"MediaEmbedEditing"}registry;constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:e=>{const t=e[1],n=e[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${t}${n?`?start=${n}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:[/^instagram\.com\/p\/(\w+)/,/^instagram\.com\/reel\/(\w+)/]},{name:"twitter",url:[/^twitter\.com/,/^x\.com/]},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new U4(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,t=e.model.schema,n=e.t,r=e.conversion,i=e.config.get("mediaEmbed.previewsInData"),o=e.config.get("mediaEmbed.elementName"),s=this.registry;e.commands.add("mediaEmbed",new H4(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),r.for("dataDowncast").elementToStructure({model:"media",view:(e,t)=>{let{writer:n}=t;const r=e.getAttribute("url");return z4(n,s,r,{elementName:o,renderMediaPreview:!!r&&i})}}),r.for("dataDowncast").add(F4(s,{elementName:o,renderMediaPreview:i})),r.for("editingDowncast").elementToStructure({model:"media",view:(e,t)=>{let{writer:r}=t;const i=e.getAttribute("url");return function(e,t,n){return t.setCustomProperty("media",!0,e),IX(e,t,{label:n})}(z4(r,s,i,{elementName:o,renderForEditingView:!0}),r,n("media widget"))}}),r.for("editingDowncast").add(F4(s,{elementName:o,renderForEditingView:!0})),r.for("upcast").elementToElement({view:e=>["oembed",o].includes(e.name)&&e.getAttribute("url")?{name:!0}:null,model:(e,t)=>{let{writer:n}=t;const r=e.getAttribute("url");return s.hasMedia(r)?n.createElement("media",{url:r}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(e,t)=>{let{writer:n}=t;const r=e.getAttribute("data-oembed-url");return s.hasMedia(r)?n.createElement("media",{url:r}):null}}).add((e=>{e.on("element:figure",((e,t,n)=>{if(!n.consumable.consume(t.viewItem,{name:!0,classes:"media"}))return;const{modelRange:r,modelCursor:i}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=r,t.modelCursor=i;PR(r.getItems())||n.consumable.revert(t.viewItem,{name:!0,classes:"media"})}))}))}}const G4=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class q4 extends $W{static get requires(){return[CZ,VG,pK]}static get pluginName(){return"AutoMediaEmbed"}_timeoutId;_positionToInsert;constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,t=e.model.document,n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",(()=>{const e=t.selection.getFirstRange(),n=oV.fromPosition(e.start);n.stickiness="toPrevious";const r=oV.fromPosition(e.end);r.stickiness="toNext",t.once("change:data",(()=>{this._embedMediaBetweenPositions(n,r),n.detach(),r.detach()}),{priority:"high"})}));e.commands.get("undo").on("execute",(()=>{this._timeoutId&&(Aj.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)}),{priority:"high"})}_embedMediaBetweenPositions(e,t){const n=this.editor,r=n.plugins.get(Y4).registry,i=new bF(e,t),o=i.getWalker({ignoreElementEnd:!0});let s="";for(const a of o)a.item.is("$textProxy")&&(s+=a.item.data);if(s=s.trim(),!s.match(G4))return void i.detach();if(!r.hasMedia(s))return void i.detach();n.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=oV.fromPosition(e),this._timeoutId=Aj.window.setTimeout((()=>{n.model.change((e=>{this._timeoutId=null,e.remove(i),i.detach();let t=null;"$graveyard"!==this._positionToInsert.root.rootName&&(t=this._positionToInsert),W4(n.model,s,t,!1),this._positionToInsert.detach(),this._positionToInsert=null})),n.plugins.get(VG).requestUndoOnBackspace()}),100)):i.detach()}}class X4 extends xU{focusTracker;keystrokes;urlInputView;_validators;_urlInputViewInfoDefault;_urlInputViewInfoTip;constructor(e,t){super(t),this.focusTracker=new DR,this.keystrokes=new jR,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView]})}render(){super.render(),kU({view:this}),this.focusTracker.add(this.urlInputView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.urlInputView.focus()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new g$(this.locale,q$),n=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,n.inputMode="url",n.on("input",(()=>{t.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()})),t}}class Z4 extends $W{static get requires(){return[Y4,YU]}static get pluginName(){return"MediaEmbedUI"}_formView;init(){const e=this.editor;e.ui.componentFactory.add("mediaEmbed",(()=>{const e=this.editor.locale.t,t=this._createDialogButton(IU);return t.tooltip=!0,t.label=e("Insert media"),t})),e.ui.componentFactory.add("menuBar:mediaEmbed",(()=>{const e=this.editor.locale.t,t=this._createDialogButton(XU);return t.label=e("Media"),t}))}_createDialogButton(e){const t=this.editor,n=new e(t.locale),r=t.commands.get("mediaEmbed"),i=this.editor.plugins.get("Dialog");return n.icon='<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',n.bind("isEnabled").to(r,"isEnabled"),n.on("execute",(()=>{"mediaEmbed"===i.id?i.hide():this._showDialog()})),n}_showDialog(){const e=this.editor,t=e.plugins.get("Dialog"),n=e.commands.get("mediaEmbed"),r=e.locale.t;if(!this._formView){const t=e.plugins.get(Y4).registry;this._formView=new(CU(X4))(function(e,t){return[t=>{if(!t.url.length)return e("The URL must not be empty.")},n=>{if(!t.hasMedia(n.url))return e("This media URL is not supported.")}]}(e.t,t),e.locale),this._formView.on("submit",(()=>this._handleSubmitForm()))}t.show({id:"mediaEmbed",title:r("Insert media"),content:this._formView,isModal:!0,onShow:()=>{this._formView.url=n.value||"",this._formView.resetFormStatus(),this._formView.urlInputView.fieldView.select()},actionButtons:[{label:r("Cancel"),withText:!0,onExecute:()=>t.hide()},{label:r("Accept"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSubmitForm()}]})}_handleSubmitForm(){const e=this.editor,t=e.plugins.get("Dialog");this._formView.isValid()&&(e.execute("mediaEmbed",this._formView.url),t.hide(),e.editing.view.focus())}}class K4 extends $W{static get requires(){return[Y4,Z4,q4,YX]}static get pluginName(){return"MediaEmbed"}}bR.arrowup,bR.arrowdown,bR.esc,bR.enter,bR.tab;function Q4(e){return void 0!==e&&e.endsWith("px")}function J4(e){return e.toFixed(2).replace(/\.?0+$/,"")+"px"}function e3(e,t,n){if(!e.childCount)return;const r=new GV(e.document),i=function(e,t){const n=t.createRangeIn(e),r=[],i=new Set;for(const o of n.getItems()){if(!o.is("element")||!o.name.match(/^(p|h\d+|li|div)$/))continue;let e=l3(o);if(void 0===e||0!=parseFloat(e)||Array.from(o.getClassNames()).find((e=>e.startsWith("MsoList")))||(e=void 0),o.hasStyle("mso-list")||void 0!==e&&i.has(e)){const t=s3(o);r.push({element:o,id:t.id,order:t.order,indent:t.indent,marginLeft:e}),void 0!==e&&i.add(e)}else i.clear()}return r}(e,r);if(!i.length)return;const o={},s=[];for(const a of i)if(void 0!==a.indent){t3(a)||(s.length=0);const e=`${a.id}:${a.indent}`,i=Math.min(a.indent-1,s.length);if(i<s.length&&s[i].id!==a.id&&(s.length=i),i<s.length-1)s.length=i+1;else{const l=r3(a,t);if(i>s.length-1||s[i].listElement.name!=l.type){0==i&&"ol"==l.type&&void 0!==a.id&&o[e]&&(l.startIndex=o[e]);const t=o3(l,r,n);if(Q4(a.marginLeft)&&(0==i||Q4(s[i-1].marginLeft))){let e=a.marginLeft;i>0&&(e=J4(parseFloat(e)-parseFloat(s[i-1].marginLeft))),r.setStyle("padding-left",e,t)}if(0==s.length){const e=a.element.parent,n=e.getChildIndex(a.element)+1;r.insertChild(n,t,e)}else{const e=s[i-1].listItemElements;r.appendChild(t,e[e.length-1])}s[i]={...a,listElement:t,listItemElements:[]},0==i&&void 0!==a.id&&(o[e]=l.startIndex||1)}}const l="li"==a.element.name?a.element:r.createElement("li");r.appendChild(l,s[i].listElement),s[i].listItemElements.push(l),0==i&&void 0!==a.id&&o[e]++,a.element!=l&&r.appendChild(a.element,l),a3(a.element,r),r.removeStyle("text-indent",a.element),r.removeStyle("margin-left",a.element)}else{const e=s.find((e=>e.marginLeft==a.marginLeft));if(e){const t=e.listItemElements;r.appendChild(a.element,t[t.length-1]),r.removeStyle("margin-left",a.element)}else s.length=0}}function t3(e){const t=e.element.previousSibling;return n3(t||e.element.parent)}function n3(e){return e.is("element","ol")||e.is("element","ul")}function r3(e,t){const n=new RegExp(`@list l${e.id}:level${e.indent}\\s*({[^}]*)`,"gi"),r=/mso-level-number-format:([^;]{0,100});/gi,i=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,o=new RegExp(`@list\\s+l${e.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),s=new RegExp(`@list l${e.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),a=o.exec(t),l=s.exec(t),c=a&&!l,u=n.exec(t);let d="decimal",h="ol",f=null;if(u&&u[1]){const t=r.exec(u[1]);if(t&&t[1]&&(d=t[1].trim(),h="bullet"!==d&&"image"!==d?"ol":"ul"),"bullet"===d){const t=function(e){if("li"==e.name&&"ul"==e.parent.name&&e.parent.hasAttribute("type"))return e.parent.getAttribute("type");const t=function(e){if(e.getChild(0).is("$text"))return null;for(const t of e.getChildren()){if(!t.is("element","span"))continue;const e=t.getChild(0);if(e)return e.is("$text")?e:e.getChild(0)}return null}(e);if(!t)return null;const n=t._data;if("o"===n)return"circle";if("\xb7"===n)return"disc";if("\xa7"===n)return"square";return null}(e.element);t&&(d=t)}else{const e=i.exec(u[1]);e&&e[1]&&(f=parseInt(e[1]))}c&&(h="ol")}return{type:h,startIndex:f,style:i3(d),isLegalStyleList:c}}function i3(e){if(e.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(e){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return e;default:return null}}function o3(e,t,n){const r=t.createElement(e.type);return e.style&&t.setStyle("list-style-type",e.style,r),e.startIndex&&e.startIndex>1&&t.setAttribute("start",e.startIndex,r),e.isLegalStyleList&&n&&t.addClass("legal-list",r),r}function s3(e){const t=e.getStyle("mso-list");if(void 0===t)return{};const n=t.match(/(^|\s{1,100})l(\d+)/i),r=t.match(/\s{0,100}lfo(\d+)/i),i=t.match(/\s{0,100}level(\d+)/i);return n&&r&&i?{id:n[2],order:r[1],indent:parseInt(i[1])}:{indent:1}}function a3(e,t){const n=new cN({name:"span",styles:{"mso-list":"Ignore"}}),r=t.createRangeIn(e);for(const i of r)"elementStart"===i.type&&n.match(i.item)&&t.remove(i.item)}function l3(e){const t=e.getStyle("margin-left");return void 0===t||t.endsWith("px")?t:function(e){const t=parseFloat(e);return e.endsWith("pt")?J4(96*t/72):e.endsWith("pc")?J4(12*t*96/72):e.endsWith("in")?J4(96*t):e.endsWith("cm")?J4(96*t/2.54):e.endsWith("mm")?J4(t/10*96/2.54):e}(t)}function c3(e,t){if(!e.childCount)return;const n=new GV(e.document),r=function(e,t){const n=t.createRangeIn(e),r=new cN({name:/v:(.+)/}),i=[];for(const o of n){if("elementStart"!=o.type)continue;const e=o.item,t=e.previousSibling,n=t&&t.is("element")?t.name:null,s=["Chart"],a=r.match(e),l=e.getAttribute("o:gfxdata"),c="v:shapetype"===n,u=l&&s.some((t=>e.getAttribute("id").includes(t)));a&&l&&!c&&!u&&i.push(o.item.getAttribute("id"))}return i}(e,n);!function(e,t,n){const r=n.createRangeIn(t),i=new cN({name:"img"}),o=[];for(const s of r)if(s.item.is("element")&&i.match(s.item)){const t=s.item,n=t.getAttribute("v:shapes")?t.getAttribute("v:shapes").split(" "):[];n.length&&n.every((t=>e.indexOf(t)>-1))?o.push(t):t.getAttribute("src")||o.push(t)}for(const s of o)n.remove(s)}(r,e,n),function(e,t,n){const r=n.createRangeIn(t),i=[];for(const a of r)if("elementStart"==a.type&&a.item.is("element","v:shape")){const t=a.item.getAttribute("id");if(e.includes(t))continue;o(a.item.parent.getChildren(),t)||i.push(a.item)}for(const a of i){const e={src:s(a)};a.hasAttribute("alt")&&(e.alt=a.getAttribute("alt"));const t=n.createElement("img",e);n.insertChild(a.index+1,t,a.parent)}function o(e,t){for(const n of e)if(n.is("element")){if("img"==n.name&&n.getAttribute("v:shapes")==t)return!0;if(o(n.getChildren(),t))return!0}return!1}function s(e){for(const t of e.getChildren())if(t.is("element")&&t.getAttribute("src"))return t.getAttribute("src")}}(r,e,n),function(e,t){const n=t.createRangeIn(e),r=new cN({name:/v:(.+)/}),i=[];for(const o of n)"elementStart"==o.type&&r.match(o.item)&&i.push(o.item);for(const o of i)t.remove(o)}(e,n);const i=function(e,t){const n=t.createRangeIn(e),r=new cN({name:"img"}),i=[];for(const o of n)o.item.is("element")&&r.match(o.item)&&o.item.getAttribute("src").startsWith("file://")&&i.push(o.item);return i}(e,n);i.length&&function(e,t,n){if(e.length===t.length)for(let r=0;r<e.length;r++){const i=`data:${t[r].type};base64,${u3(t[r].hex)}`;n.setAttribute("src",i,e[r])}}(i,function(e){if(!e)return[];const t=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g"),r=e.match(n),i=[];if(r)for(const o of r){let e=!1;o.includes("\\pngblip")?e="image/png":o.includes("\\jpegblip")&&(e="image/jpeg"),e&&i.push({hex:o.replace(t,"").replace(/[^\da-fA-F]/g,""),type:e})}return i}(t),n)}function u3(e){return btoa(e.match(/\w{2}/g).map((e=>String.fromCharCode(parseInt(e,16)))).join(""))}const d3=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,h3=/xmlns:o="urn:schemas-microsoft-com/i;class f3{document;hasMultiLevelListPlugin;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.document=e,this.hasMultiLevelListPlugin=t}isActive(e){return d3.test(e)||h3.test(e)}execute(e){const{body:t,stylesString:n}=e._parsedData;e3(t,n,this.hasMultiLevelListPlugin),c3(t,e.dataTransfer.getData("text/rtf")),function(e){const t=[],n=new GV(e.document);for(const{item:r}of n.createRangeIn(e))if(r.is("element")){for(const e of r.getClassNames())/\bmso/gi.exec(e)&&n.removeClass(e,r);for(const e of r.getStyleNames())/\bmso/gi.exec(e)&&n.removeStyle(e,r);(r.is("element","w:sdt")||r.is("element","w:sdtpr")&&r.isEmpty||r.is("element","o:p")&&r.isEmpty)&&t.push(r)}for(const r of t){const e=r.parent,t=e.getChildIndex(r);n.insertChild(t,r.getChildren(),e),n.remove(r)}}(t),e.content=t}}function p3(e,t,n,r){let{blockElements:i,inlineObjectElements:o}=r,s=n.createPositionAt(e,"forward"==t?"after":"before");return s=s.getLastMatchingPosition((e=>{let{item:t}=e;return t.is("element")&&!i.includes(t.name)&&!o.includes(t.name)}),{direction:t}),"forward"==t?s.nodeAfter:s.nodeBefore}function m3(e,t){return!!e&&e.is("element")&&t.includes(e.name)}const g3=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class v3{document;constructor(e){this.document=e}isActive(e){return g3.test(e)}execute(e){const t=new GV(this.document),{body:n}=e._parsedData;!function(e,t){for(const n of e.getChildren())if(n.is("element","b")&&"normal"===n.getStyle("font-weight")){const r=e.getChildIndex(n);t.remove(n),t.insertChild(r,n.getChildren(),e)}}(n,t),function(e,t){for(const n of t.createRangeIn(e)){const e=n.item;if(e.is("element","li")){const n=e.getChild(0);n&&n.is("element","p")&&t.unwrapElement(n)}}}(n,t),function(e,t){const n=new LN(t.document.stylesProcessor),r=new kB(n,{renderingMode:"data"}),i=r.blockElements,o=r.inlineObjectElements,s=[];for(const a of t.createRangeIn(e)){const e=a.item;if(e.is("element","br")){const n=p3(e,"forward",t,{blockElements:i,inlineObjectElements:o}),r=p3(e,"backward",t,{blockElements:i,inlineObjectElements:o}),a=m3(n,i);(m3(r,i)||a)&&s.push(e)}}for(const a of s)a.hasClass("Apple-interchange-newline")?t.remove(a):t.replace(a,t.createElement("p"))}(n,t),e.content=n}}const b3=/<google-sheets-html-origin/i;class y3{document;constructor(e){this.document=e}isActive(e){return b3.test(e)}execute(e){const t=new GV(this.document),{body:n}=e._parsedData;!function(e,t){for(const n of e.getChildren())if(n.is("element","google-sheets-html-origin")){const r=e.getChildIndex(n);t.remove(n),t.insertChild(r,n.getChildren(),e)}}(n,t),function(e,t){for(const n of e.getChildren())n.is("element","table")&&n.hasAttribute("xmlns")&&t.removeAttribute("xmlns",n)}(n,t),function(e,t){for(const n of e.getChildren())n.is("element","table")&&"0px"===n.getStyle("width")&&t.removeStyle("width",n)}(n,t),function(e,t){for(const n of Array.from(e.getChildren()))n.is("element","style")&&t.remove(n)}(n,t),e.content=n}}function w3(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((e,t)=>1===t.length?" ":Array(t.length+1).join("\xa0 ").substr(0,t.length)))}function x3(e,t){const n=new DOMParser,r=function(e){return w3(w3(e)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(e){const t="</body>",n="</html>",r=e.indexOf(t);if(r<0)return e;const i=e.indexOf(n,r+t.length);return e.substring(0,r+t.length)+(i>=0?e.substring(i):"")}(e=(e=e.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),i=n.parseFromString(r,"text/html");!function(e){e.querySelectorAll("span[style*=spacerun]").forEach((e=>{const t=e,n=t.innerText.length||0;t.innerText=Array(n+1).join("\xa0 ").substr(0,n)}))}(i);const o=i.body.innerHTML,s=function(e,t){const n=new LN(t),r=new kB(n,{renderingMode:"data"}),i=e.createDocumentFragment(),o=e.body.childNodes;for(;o.length>0;)i.appendChild(o[0]);return r.domToView(i,{skipComments:!0})}(i,t),a=function(e){const t=[],n=[],r=Array.from(e.getElementsByTagName("style"));for(const i of r)i.sheet&&i.sheet.cssRules&&i.sheet.cssRules.length&&(t.push(i.sheet),n.push(i.innerHTML));return{styles:t,stylesString:n.join(" ")}}(i);return{body:s,bodyString:o,styles:a.styles,stylesString:a.stylesString}}class _3 extends $W{static get pluginName(){return"PasteFromOffice"}static get requires(){return[lZ]}init(){const e=this.editor,t=e.plugins.get("ClipboardPipeline"),n=e.editing.view.document,r=[],i=this.editor.plugins.has("MultiLevelList");r.push(new f3(n,i)),r.push(new v3(n)),r.push(new y3(n)),t.on("inputTransformation",((t,i)=>{if(i._isTransformedWithPasteFromOffice)return;if(e.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const o=i.dataTransfer.getData("text/html"),s=r.find((e=>e.isActive(o)));s&&(i._parsedData||(i._parsedData=x3(o,n.stylesProcessor)),s.execute(i),i._isTransformedWithPasteFromOffice=!0)}),{priority:"high"})}}class C3 extends xU{tiles;focusTracker;keystrokes;constructor(e){super(e),this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new DR,this.keystrokes=new jR,SU({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>Aj.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(e,t){const n=new IU(this.locale);return n.set({label:e,withText:!0,class:"ck-character-grid__tile"}),n.extendTemplate({attributes:{title:t},on:{mouseover:n.bindTemplate.to("mouseover"),focus:n.bindTemplate.to("focus")}}),n.on("mouseover",(()=>{this.fire("tileHover",{name:t,character:e})})),n.on("focus",(()=>{this.fire("tileFocus",{name:t,character:e})})),n.on("execute",(()=>{this.fire("execute",{name:t,character:e})})),n}render(){super.render();for(const e of this.tiles)this.focusTracker.add(e.element);this.tiles.on("change",((e,t)=>{let{added:n,removed:r}=t;if(n.length>0)for(const i of n)this.focusTracker.add(i.element);if(r.length>0)for(const i of r)this.focusTracker.remove(i.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.first.focus()}}class k3 extends xU{constructor(e){super(e);const t=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",S3),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:t.to("name",(e=>e||"\u200b"))}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:t.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function S3(e){if(null===e)return"";return"U+"+("0000"+e.codePointAt(0).toString(16)).slice(-4)}class A3 extends xU{items;focusTracker;keystrokes;_focusCycler;categoriesView;gridView;infoView;constructor(e,t,n,r){super(e),this.categoriesView=t,this.gridView=n,this.infoView=r,this.items=this.createCollection(),this.focusTracker=new DR,this.keystrokes=new jR,this._focusCycler=new PU({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[this.categoriesView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.categoriesView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.categoriesView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class T3 extends xU{_groupNames;_dropdownView;constructor(e,t){super(e),this.set("currentGroupName",Array.from(t.entries())[0][0]),this._groupNames=t,this._dropdownView=new g$(e,Z$),this.setTemplate({tag:"div",attributes:{class:["ck","ck-character-categories"]},children:[this._dropdownView]})}render(){super.render(),this._setupDropdown()}focus(){this._dropdownView.focus()}_setupDropdown(){const e=new ER;for(const[n,r]of this._groupNames){const t={type:"button",model:new YY({name:n,label:r,role:"menuitemradio",withText:!0})};t.model.bind("isOn").to(this,"currentGroupName",(e=>e===n)),e.add(t)}const t=(0,this.locale.t)("Category");this._dropdownView.set({label:t,isEmpty:!1}),this._dropdownView.fieldView.panelPosition="rtl"===this.locale.uiLanguageDirection?"se":"sw",this._dropdownView.fieldView.buttonView.set({withText:!0,tooltip:t,ariaLabel:t,ariaLabelledBy:void 0,isOn:!1}),this._dropdownView.fieldView.buttonView.bind("label").to(this,"currentGroupName",(e=>this._groupNames.get(e))),this._dropdownView.fieldView.on("execute",(e=>{let{source:t}=e;this.currentGroupName=t.name})),U$(this._dropdownView.fieldView,e,{ariaLabel:t,role:"menu"})}}const I3="All";class M3 extends $W{_characters;_groups;_allSpecialCharactersGroupLabel;static get requires(){return[WG,YU]}static get pluginName(){return"SpecialCharacters"}constructor(e){super(e);const t=e.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=t("All")}init(){const e=this.editor;e.ui.componentFactory.add("specialCharacters",(()=>{const e=this._createDialogButton(IU);return e.set({tooltip:!0}),e})),e.ui.componentFactory.add("menuBar:specialCharacters",(()=>this._createDialogButton(XU)))}addItems(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{label:e};if(e===I3)throw new qj("special-character-invalid-group-name",null);const r=this._getGroup(e,n.label);for(const i of t)r.items.add(i.title),this._characters.set(i.title,i.character)}getGroups(){const e=Array.from(this._groups.keys()),t=this.editor.config.get("specialCharacters.order")||[],n=t.find((t=>!e.includes(t)));if(n)throw new qj("special-character-invalid-order-group-name",null,{invalidGroup:n});return new Set([...t,...e])}getCharactersForGroup(e){if(e===I3)return new Set(this._characters.keys());const t=this._groups.get(e);return t?t.items:void 0}getCharacter(e){return this._characters.get(e)}_getGroup(e,t){return this._groups.has(e)||this._groups.set(e,{items:new Set,label:t}),this._groups.get(e)}_updateGrid(e,t){t.tiles.clear();const n=this.getCharactersForGroup(e);for(const r of n){const e=this.getCharacter(r);t.tiles.add(t.createTile(e,r))}}_createDropdownPanelContent(e){const t=Array.from(this.getGroups()).map((e=>[e,this._groups.get(e).label])),n=new Map([[I3,this._allSpecialCharactersGroupLabel],...t]),r=new T3(e,n),i=new C3(e),o=new k3(e);return i.on("tileHover",((e,t)=>{o.set(t)})),i.on("tileFocus",((e,t)=>{o.set(t)})),r.on("change:currentGroupName",((e,t,n)=>{this._updateGrid(n,i)})),this._updateGrid(r.currentGroupName,i),{categoriesView:r,gridView:i,infoView:o}}_createDialogButton(e){const t=this.editor,n=t.locale,r=new e(t.locale),i=t.commands.get("insertText"),o=n.t,s=this.editor.plugins.get("Dialog");return r.set({label:o("Special characters"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>',isToggleable:!0}),r.bind("isOn").to(s,"id",(e=>"specialCharacters"===e)),r.bind("isEnabled").to(i,"isEnabled"),r.on("execute",(()=>{"specialCharacters"!==s.id?this._showDialog():s.hide()})),r}_showDialog(){const e=this.editor,t=e.plugins.get("Dialog"),n=e.locale,r=n.t,{categoriesView:i,gridView:o,infoView:s}=this._createDropdownPanelContent(n),a=new A3(n,i,o,s);o.on("execute",((t,n)=>{e.execute("insertText",{text:n.character})})),t.show({id:"specialCharacters",title:r("Special characters"),className:"ck-special-characters",content:a,position:FU})}}class E3 extends $W{static get pluginName(){return"SpecialCharactersArrows"}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Arrows",[{title:t("leftwards simple arrow"),character:"\u2190"},{title:t("rightwards simple arrow"),character:"\u2192"},{title:t("upwards simple arrow"),character:"\u2191"},{title:t("downwards simple arrow"),character:"\u2193"},{title:t("leftwards double arrow"),character:"\u21d0"},{title:t("rightwards double arrow"),character:"\u21d2"},{title:t("upwards double arrow"),character:"\u21d1"},{title:t("downwards double arrow"),character:"\u21d3"},{title:t("leftwards dashed arrow"),character:"\u21e0"},{title:t("rightwards dashed arrow"),character:"\u21e2"},{title:t("upwards dashed arrow"),character:"\u21e1"},{title:t("downwards dashed arrow"),character:"\u21e3"},{title:t("leftwards arrow to bar"),character:"\u21e4"},{title:t("rightwards arrow to bar"),character:"\u21e5"},{title:t("upwards arrow to bar"),character:"\u2912"},{title:t("downwards arrow to bar"),character:"\u2913"},{title:t("up down arrow with base"),character:"\u21a8"},{title:t("back with leftwards arrow above"),character:"\ud83d\udd19"},{title:t("end with leftwards arrow above"),character:"\ud83d\udd1a"},{title:t("on with exclamation mark with left right arrow above"),character:"\ud83d\udd1b"},{title:t("soon with rightwards arrow above"),character:"\ud83d\udd1c"},{title:t("top with upwards arrow above"),character:"\ud83d\udd1d"}],{label:t("Arrows")})}}class P3 extends $W{static get pluginName(){return"SpecialCharactersText"}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Text",[{character:"\u2039",title:t("Single left-pointing angle quotation mark")},{character:"\u203a",title:t("Single right-pointing angle quotation mark")},{character:"\xab",title:t("Left-pointing double angle quotation mark")},{character:"\xbb",title:t("Right-pointing double angle quotation mark")},{character:"\u2018",title:t("Left single quotation mark")},{character:"\u2019",title:t("Right single quotation mark")},{character:"\u201c",title:t("Left double quotation mark")},{character:"\u201d",title:t("Right double quotation mark")},{character:"\u201a",title:t("Single low-9 quotation mark")},{character:"\u201e",title:t("Double low-9 quotation mark")},{character:"\xa1",title:t("Inverted exclamation mark")},{character:"\xbf",title:t("Inverted question mark")},{character:"\u2025",title:t("Two dot leader")},{character:"\u2026",title:t("Horizontal ellipsis")},{character:"\u2021",title:t("Double dagger")},{character:"\u2030",title:t("Per mille sign")},{character:"\u2031",title:t("Per ten thousand sign")},{character:"\u203c",title:t("Double exclamation mark")},{character:"\u2048",title:t("Question exclamation mark")},{character:"\u2049",title:t("Exclamation question mark")},{character:"\u2047",title:t("Double question mark")},{character:"\xa9",title:t("Copyright sign")},{character:"\xae",title:t("Registered sign")},{character:"\u2122",title:t("Trade mark sign")},{character:"\xa7",title:t("Section sign")},{character:"\xb6",title:t("Paragraph sign")},{character:"\u204b",title:t("Reversed paragraph sign")}],{label:t("Text")})}}class D3 extends $W{static get pluginName(){return"SpecialCharactersMathematical"}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:t("Less-than sign")},{character:">",title:t("Greater-than sign")},{character:"\u2264",title:t("Less-than or equal to")},{character:"\u2265",title:t("Greater-than or equal to")},{character:"\u2013",title:t("En dash")},{character:"\u2014",title:t("Em dash")},{character:"\xaf",title:t("Macron")},{character:"\u203e",title:t("Overline")},{character:"\xb0",title:t("Degree sign")},{character:"\u2212",title:t("Minus sign")},{character:"\xb1",title:t("Plus-minus sign")},{character:"\xf7",title:t("Division sign")},{character:"\u2044",title:t("Fraction slash")},{character:"\xd7",title:t("Multiplication sign")},{character:"\u0192",title:t("Latin small letter f with hook")},{character:"\u222b",title:t("Integral")},{character:"\u2211",title:t("N-ary summation")},{character:"\u221e",title:t("Infinity")},{character:"\u221a",title:t("Square root")},{character:"\u223c",title:t("Tilde operator")},{character:"\u2245",title:t("Approximately equal to")},{character:"\u2248",title:t("Almost equal to")},{character:"\u2260",title:t("Not equal to")},{character:"\u2261",title:t("Identical to")},{character:"\u2208",title:t("Element of")},{character:"\u2209",title:t("Not an element of")},{character:"\u220b",title:t("Contains as member")},{character:"\u220f",title:t("N-ary product")},{character:"\u2227",title:t("Logical and")},{character:"\u2228",title:t("Logical or")},{character:"\xac",title:t("Not sign")},{character:"\u2229",title:t("Intersection")},{character:"\u222a",title:t("Union")},{character:"\u2202",title:t("Partial differential")},{character:"\u2200",title:t("For all")},{character:"\u2203",title:t("There exists")},{character:"\u2205",title:t("Empty set")},{character:"\u2207",title:t("Nabla")},{character:"\u2217",title:t("Asterisk operator")},{character:"\u221d",title:t("Proportional to")},{character:"\u2220",title:t("Angle")},{character:"\xbc",title:t("Vulgar fraction one quarter")},{character:"\xbd",title:t("Vulgar fraction one half")},{character:"\xbe",title:t("Vulgar fraction three quarters")}],{label:t("Mathematical")})}}class j3 extends $W{static get pluginName(){return"SpecialCharactersLatin"}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Latin",[{character:"\u0100",title:t("Latin capital letter a with macron")},{character:"\u0101",title:t("Latin small letter a with macron")},{character:"\u0102",title:t("Latin capital letter a with breve")},{character:"\u0103",title:t("Latin small letter a with breve")},{character:"\u0104",title:t("Latin capital letter a with ogonek")},{character:"\u0105",title:t("Latin small letter a with ogonek")},{character:"\u0106",title:t("Latin capital letter c with acute")},{character:"\u0107",title:t("Latin small letter c with acute")},{character:"\u0108",title:t("Latin capital letter c with circumflex")},{character:"\u0109",title:t("Latin small letter c with circumflex")},{character:"\u010a",title:t("Latin capital letter c with dot above")},{character:"\u010b",title:t("Latin small letter c with dot above")},{character:"\u010c",title:t("Latin capital letter c with caron")},{character:"\u010d",title:t("Latin small letter c with caron")},{character:"\u010e",title:t("Latin capital letter d with caron")},{character:"\u010f",title:t("Latin small letter d with caron")},{character:"\u0110",title:t("Latin capital letter d with stroke")},{character:"\u0111",title:t("Latin small letter d with stroke")},{character:"\u0112",title:t("Latin capital letter e with macron")},{character:"\u0113",title:t("Latin small letter e with macron")},{character:"\u0114",title:t("Latin capital letter e with breve")},{character:"\u0115",title:t("Latin small letter e with breve")},{character:"\u0116",title:t("Latin capital letter e with dot above")},{character:"\u0117",title:t("Latin small letter e with dot above")},{character:"\u0118",title:t("Latin capital letter e with ogonek")},{character:"\u0119",title:t("Latin small letter e with ogonek")},{character:"\u011a",title:t("Latin capital letter e with caron")},{character:"\u011b",title:t("Latin small letter e with caron")},{character:"\u011c",title:t("Latin capital letter g with circumflex")},{character:"\u011d",title:t("Latin small letter g with circumflex")},{character:"\u011e",title:t("Latin capital letter g with breve")},{character:"\u011f",title:t("Latin small letter g with breve")},{character:"\u0120",title:t("Latin capital letter g with dot above")},{character:"\u0121",title:t("Latin small letter g with dot above")},{character:"\u0122",title:t("Latin capital letter g with cedilla")},{character:"\u0123",title:t("Latin small letter g with cedilla")},{character:"\u0124",title:t("Latin capital letter h with circumflex")},{character:"\u0125",title:t("Latin small letter h with circumflex")},{character:"\u0126",title:t("Latin capital letter h with stroke")},{character:"\u0127",title:t("Latin small letter h with stroke")},{character:"\u0128",title:t("Latin capital letter i with tilde")},{character:"\u0129",title:t("Latin small letter i with tilde")},{character:"\u012a",title:t("Latin capital letter i with macron")},{character:"\u012b",title:t("Latin small letter i with macron")},{character:"\u012c",title:t("Latin capital letter i with breve")},{character:"\u012d",title:t("Latin small letter i with breve")},{character:"\u012e",title:t("Latin capital letter i with ogonek")},{character:"\u012f",title:t("Latin small letter i with ogonek")},{character:"\u0130",title:t("Latin capital letter i with dot above")},{character:"\u0131",title:t("Latin small letter dotless i")},{character:"\u0132",title:t("Latin capital ligature ij")},{character:"\u0133",title:t("Latin small ligature ij")},{character:"\u0134",title:t("Latin capital letter j with circumflex")},{character:"\u0135",title:t("Latin small letter j with circumflex")},{character:"\u0136",title:t("Latin capital letter k with cedilla")},{character:"\u0137",title:t("Latin small letter k with cedilla")},{character:"\u0138",title:t("Latin small letter kra")},{character:"\u0139",title:t("Latin capital letter l with acute")},{character:"\u013a",title:t("Latin small letter l with acute")},{character:"\u013b",title:t("Latin capital letter l with cedilla")},{character:"\u013c",title:t("Latin small letter l with cedilla")},{character:"\u013d",title:t("Latin capital letter l with caron")},{character:"\u013e",title:t("Latin small letter l with caron")},{character:"\u013f",title:t("Latin capital letter l with middle dot")},{character:"\u0140",title:t("Latin small letter l with middle dot")},{character:"\u0141",title:t("Latin capital letter l with stroke")},{character:"\u0142",title:t("Latin small letter l with stroke")},{character:"\u0143",title:t("Latin capital letter n with acute")},{character:"\u0144",title:t("Latin small letter n with acute")},{character:"\u0145",title:t("Latin capital letter n with cedilla")},{character:"\u0146",title:t("Latin small letter n with cedilla")},{character:"\u0147",title:t("Latin capital letter n with caron")},{character:"\u0148",title:t("Latin small letter n with caron")},{character:"\u0149",title:t("Latin small letter n preceded by apostrophe")},{character:"\u014a",title:t("Latin capital letter eng")},{character:"\u014b",title:t("Latin small letter eng")},{character:"\u014c",title:t("Latin capital letter o with macron")},{character:"\u014d",title:t("Latin small letter o with macron")},{character:"\u014e",title:t("Latin capital letter o with breve")},{character:"\u014f",title:t("Latin small letter o with breve")},{character:"\u0150",title:t("Latin capital letter o with double acute")},{character:"\u0151",title:t("Latin small letter o with double acute")},{character:"\u0152",title:t("Latin capital ligature oe")},{character:"\u0153",title:t("Latin small ligature oe")},{character:"\u0154",title:t("Latin capital letter r with acute")},{character:"\u0155",title:t("Latin small letter r with acute")},{character:"\u0156",title:t("Latin capital letter r with cedilla")},{character:"\u0157",title:t("Latin small letter r with cedilla")},{character:"\u0158",title:t("Latin capital letter r with caron")},{character:"\u0159",title:t("Latin small letter r with caron")},{character:"\u015a",title:t("Latin capital letter s with acute")},{character:"\u015b",title:t("Latin small letter s with acute")},{character:"\u015c",title:t("Latin capital letter s with circumflex")},{character:"\u015d",title:t("Latin small letter s with circumflex")},{character:"\u015e",title:t("Latin capital letter s with cedilla")},{character:"\u015f",title:t("Latin small letter s with cedilla")},{character:"\u0160",title:t("Latin capital letter s with caron")},{character:"\u0161",title:t("Latin small letter s with caron")},{character:"\u0162",title:t("Latin capital letter t with cedilla")},{character:"\u0163",title:t("Latin small letter t with cedilla")},{character:"\u0164",title:t("Latin capital letter t with caron")},{character:"\u0165",title:t("Latin small letter t with caron")},{character:"\u0166",title:t("Latin capital letter t with stroke")},{character:"\u0167",title:t("Latin small letter t with stroke")},{character:"\u0168",title:t("Latin capital letter u with tilde")},{character:"\u0169",title:t("Latin small letter u with tilde")},{character:"\u016a",title:t("Latin capital letter u with macron")},{character:"\u016b",title:t("Latin small letter u with macron")},{character:"\u016c",title:t("Latin capital letter u with breve")},{character:"\u016d",title:t("Latin small letter u with breve")},{character:"\u016e",title:t("Latin capital letter u with ring above")},{character:"\u016f",title:t("Latin small letter u with ring above")},{character:"\u0170",title:t("Latin capital letter u with double acute")},{character:"\u0171",title:t("Latin small letter u with double acute")},{character:"\u0172",title:t("Latin capital letter u with ogonek")},{character:"\u0173",title:t("Latin small letter u with ogonek")},{character:"\u0174",title:t("Latin capital letter w with circumflex")},{character:"\u0175",title:t("Latin small letter w with circumflex")},{character:"\u0176",title:t("Latin capital letter y with circumflex")},{character:"\u0177",title:t("Latin small letter y with circumflex")},{character:"\u0178",title:t("Latin capital letter y with diaeresis")},{character:"\u0179",title:t("Latin capital letter z with acute")},{character:"\u017a",title:t("Latin small letter z with acute")},{character:"\u017b",title:t("Latin capital letter z with dot above")},{character:"\u017c",title:t("Latin small letter z with dot above")},{character:"\u017d",title:t("Latin capital letter z with caron")},{character:"\u017e",title:t("Latin small letter z with caron")},{character:"\u017f",title:t("Latin small letter long s")}],{label:t("Latin")})}}class O3 extends $W{static get pluginName(){return"SpecialCharactersCurrency"}init(){const e=this.editor,t=e.t;e.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:t("Dollar sign")},{character:"\u20ac",title:t("Euro sign")},{character:"\xa5",title:t("Yen sign")},{character:"\xa3",title:t("Pound sign")},{character:"\xa2",title:t("Cent sign")},{character:"\u20a0",title:t("Euro-currency sign")},{character:"\u20a1",title:t("Colon sign")},{character:"\u20a2",title:t("Cruzeiro sign")},{character:"\u20a3",title:t("French franc sign")},{character:"\u20a4",title:t("Lira sign")},{character:"\xa4",title:t("Currency sign")},{character:"\u20bf",title:t("Bitcoin sign")},{character:"\u20a5",title:t("Mill sign")},{character:"\u20a6",title:t("Naira sign")},{character:"\u20a7",title:t("Peseta sign")},{character:"\u20a8",title:t("Rupee sign")},{character:"\u20a9",title:t("Won sign")},{character:"\u20aa",title:t("New sheqel sign")},{character:"\u20ab",title:t("Dong sign")},{character:"\u20ad",title:t("Kip sign")},{character:"\u20ae",title:t("Tugrik sign")},{character:"\u20af",title:t("Drachma sign")},{character:"\u20b0",title:t("German penny sign")},{character:"\u20b1",title:t("Peso sign")},{character:"\u20b2",title:t("Guarani sign")},{character:"\u20b3",title:t("Austral sign")},{character:"\u20b4",title:t("Hryvnia sign")},{character:"\u20b5",title:t("Cedi sign")},{character:"\u20b6",title:t("Livre tournois sign")},{character:"\u20b7",title:t("Spesmilo sign")},{character:"\u20b8",title:t("Tenge sign")},{character:"\u20b9",title:t("Indian rupee sign")},{character:"\u20ba",title:t("Turkish lira sign")},{character:"\u20bb",title:t("Nordic mark sign")},{character:"\u20bc",title:t("Manat sign")},{character:"\u20bd",title:t("Ruble sign")}],{label:t("Currency")})}}class R3 extends $W{static get pluginName(){return"SpecialCharactersEssentials"}static get requires(){return[O3,P3,D3,E3,j3]}}function L3(e,t){const{modelAttribute:n,styleName:r,viewElement:i,defaultValue:o,reduceBoxSides:s=!1,shouldUpcast:a=()=>!0}=t;e.for("upcast").attributeToAttribute({view:{name:i,styles:{[r]:/[\s\S]+/}},model:{key:n,value:e=>{if(!a(e))return;const t=e.getNormalizedStyle(r),n=s?z3(t):t;return o!==n?n:void 0}}})}function N3(e,t,n,r){e.for("upcast").add((e=>e.on("element:"+t,((e,t,i)=>{if(!t.modelRange)return;const o=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter((e=>t.viewItem.hasStyle(e)));if(!o.length)return;const s={styles:o};if(!i.consumable.test(t.viewItem,s))return;const a=[...t.modelRange.getItems({shallow:!0})].pop();i.consumable.consume(t.viewItem,s);const l={style:t.viewItem.getNormalizedStyle("border-style"),color:t.viewItem.getNormalizedStyle("border-color"),width:t.viewItem.getNormalizedStyle("border-width")},c={style:z3(l.style),color:z3(l.color),width:z3(l.width)};c.style!==r.style&&i.writer.setAttribute(n.style,c.style,a),c.color!==r.color&&i.writer.setAttribute(n.color,c.color,a),c.width!==r.width&&i.writer.setAttribute(n.width,c.width,a)}))))}function B3(e,t){const{modelElement:n,modelAttribute:r,styleName:i}=t;e.for("downcast").attributeToAttribute({model:{name:n,key:r},view:e=>({key:"style",value:{[i]:e}})})}function F3(e,t){const{modelAttribute:n,styleName:r}=t;e.for("downcast").add((e=>e.on(`attribute:${n}:table`,((e,t,n)=>{const{item:i,attributeNewValue:o}=t,{mapper:s,writer:a}=n;if(!n.consumable.consume(t.item,e.name))return;const l=[...s.toViewElement(i).getChildren()].find((e=>e.is("element","table")));o?a.setStyle(r,o,l):a.removeStyle(r,l)}))))}function z3(e){if(!e)return;const t=["top","right","bottom","left"];if(!t.every((t=>e[t])))return e;const n=e.top;return t.every((t=>e[t]===n))?n:e}function V3(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;void 0!==t&&null!==t&&void 0!==i&&null!==i&&t>i?r.setAttribute(e,t,n):r.removeAttribute(e,n)}function W3(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.createElement("tableCell",n);return e.insertElement("paragraph",r),e.insert(r,t),r}function H3(e,t){const n=t.parent.parent,r=parseInt(n.getAttribute("headingColumns")||"0"),{column:i}=e.getCellLocation(t);return!!r&&i<r}function U3(e,t,n){const{modelAttribute:r}=n;e.extend("tableCell",{allowAttributes:[r]}),L3(t,{viewElement:/^(td|th)$/,...n}),B3(t,{modelElement:"tableCell",...n})}function $3(e){const t=e.getSelectedElement();return t&&t.is("element","table")?t:e.getFirstPosition().findAncestor("table")}function Y3(){return e=>{e.on("element:table",((e,t,n)=>{const r=t.viewItem;if(!n.consumable.test(r,{name:!0}))return;const{rows:i,headingRows:o,headingColumns:s}=function(e){let t,n=0;const r=[],i=[];let o;for(const s of Array.from(e.getChildren())){if("tbody"!==s.name&&"thead"!==s.name&&"tfoot"!==s.name)continue;"thead"!==s.name||o||(o=s);const e=Array.from(s.getChildren()).filter((e=>e.is("element","tr")));for(const a of e)if(o&&s===o||"tbody"===s.name&&Array.from(a.getChildren()).length&&Array.from(a.getChildren()).every((e=>e.is("element","th"))))n++,r.push(a);else{i.push(a);const e=q3(a);(!t||e<t)&&(t=e)}}return{headingRows:n,headingColumns:t||0,rows:[...r,...i]}}(r),a={};s&&(a.headingColumns=s),o&&(a.headingRows=o);const l=n.writer.createElement("table",a);if(n.safeInsert(l,t.modelCursor)){if(n.consumable.consume(r,{name:!0}),i.forEach((e=>n.convertItem(e,n.writer.createPositionAt(l,"end")))),n.convertChildren(r,n.writer.createPositionAt(l,"end")),l.isEmpty){const e=n.writer.createElement("tableRow");n.writer.insert(e,n.writer.createPositionAt(l,"end")),W3(n.writer,n.writer.createPositionAt(e,"end"))}n.updateConversionResult(l,t)}}))}}function G3(e){return t=>{t.on(`element:${e}`,((e,t,n)=>{let{writer:r}=n;if(!t.modelRange)return;const i=t.modelRange.start.nodeAfter,o=r.createPositionAt(i,0);if(t.viewItem.isEmpty)return void r.insertElement("paragraph",o);const s=Array.from(i.getChildren());if(s.every((e=>e.is("element","$marker")))){const e=r.createElement("paragraph");r.insert(e,r.createPositionAt(i,0));for(const t of s)r.move(r.createRangeOn(t),r.createPositionAt(e,"end"))}}),{priority:"low"})}}function q3(e){let t=0,n=0;const r=Array.from(e.getChildren()).filter((e=>"th"===e.name||"td"===e.name));for(;n<r.length&&"th"===r[n].name;){const e=r[n];t+=parseInt(e.getAttribute("colspan")||"1"),n++}return t}class X3{_table;_startRow;_endRow;_startColumn;_endColumn;_includeAllSlots;_skipRows;_row;_rowIndex;_column;_cellIndex;_spannedCells;_nextCellAtColumn;_jumpedToStartRow=!1;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._table=e,this._startRow=void 0!==t.row?t.row:t.startRow||0,this._endRow=void 0!==t.row?t.row:t.endRow,this._startColumn=void 0!==t.column?t.column:t.startColumn||0,this._endColumn=void 0!==t.column?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{const n=e.getChild(this._cellIndex);if(!n)return this._advanceToNextRow();const r=parseInt(n.getAttribute("colspan")||"1"),i=parseInt(n.getAttribute("rowspan")||"1");(r>1||i>1)&&this._recordSpans(n,i,r),this._shouldSkipSlot()||(t=this._formatOutValue(n)),this._nextCellAtColumn=this._column+r}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._column;return{done:!1,value:new Z3(this,e,t,n)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,n=this._column<this._startColumn,r=void 0!==this._endColumn&&this._column>this._endColumn;return e||t||n||r}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,n){const r={cell:e,row:this._row,column:this._column};for(let i=this._row;i<this._row+t;i++)for(let e=this._column;e<this._column+n;e++)i==this._row&&e==this._column||this._markSpannedCell(i,e,r)}_markSpannedCell(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map);this._spannedCells.get(e).set(t,n)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let t=this._startRow;!this._jumpedToStartRow;t--)e===this._getRowLength(t)&&(this._row=t,this._rowIndex=t,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce(((e,t)=>e+parseInt(t.getAttribute("colspan")||"1")),0)}}class Z3{cell;row;column;cellAnchorRow;cellAnchorColumn;_cellIndex;_rowIndex;_table;constructor(e,t,n,r){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=n,this.cellAnchorColumn=r,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function K3(e,t){return(n,r)=>{let{writer:i}=r;const o=n.getAttribute("headingRows")||0,s=i.createContainerElement("table",null,[]),a=i.createContainerElement("figure",{class:"table"},s);o>0&&i.insert(i.createPositionAt(s,"end"),i.createContainerElement("thead",null,i.createSlot((e=>e.is("element","tableRow")&&e.index<o)))),o<e.getRows(n)&&i.insert(i.createPositionAt(s,"end"),i.createContainerElement("tbody",null,i.createSlot((e=>e.is("element","tableRow")&&e.index>=o))));for(const{positionOffset:e,filter:l}of t.additionalSlots)i.insert(i.createPositionAt(s,e),i.createSlot(l));return i.insert(i.createPositionAt(s,"after"),i.createSlot((e=>!e.is("element","tableRow")&&!t.additionalSlots.some((t=>{let{filter:n}=t;return n(e)}))))),t.asWidget?function(e,t){return t.setCustomProperty("table",!0,e),IX(e,t,{hasSelectionHandle:!0})}(a,i):a}}function Q3(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t,n)=>{let{writer:r}=n;const i=t.parent,o=i.parent,s=o.getChildIndex(i),a=new X3(o,{row:s}),l=o.getAttribute("headingRows")||0,c=o.getAttribute("headingColumns")||0;let u=null;for(const d of a)if(d.cell==t){const t=d.row<l||d.column<c?"th":"td";u=e.asWidget?DX(r.createEditableElement(t),r):r.createContainerElement(t);break}return u}}function J3(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t,n)=>{let{writer:r}=n;if(!t.parent.is("element","tableCell"))return null;if(!e6(t))return null;if(e.asWidget)return r.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const e=r.createContainerElement("p");return r.setCustomProperty("dataPipeline:transparentRendering",!0,e),e}}}function e6(e){return 1==e.parent.childCount&&!!e.getAttributeKeys().next().done}class t6 extends GW{refresh(){const e=this.editor.model,t=e.document.selection,n=e.schema;this.isEnabled=function(e,t){const n=e.getFirstPosition().parent,r=n===n.root?n:n.parent;return t.checkChild(r,"table")}(t,n)}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor,n=t.model,r=t.plugins.get("TableUtils"),i=t.config.get("table.defaultHeadings.rows"),o=t.config.get("table.defaultHeadings.columns");void 0===e.headingRows&&i&&(e.headingRows=i),void 0===e.headingColumns&&o&&(e.headingColumns=o),n.change((t=>{const i=r.createTable(t,e);n.insertObject(i,null,null,{findOptimalPosition:"auto"}),t.setSelection(t.createPositionAt(i.getNodeByPath([0,0,0]),0))}))}}class n6 extends GW{order;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),r="above"===this.order,i=n.getSelectionAffectedTableCells(t),o=n.getRowIndexes(i),s=r?o.first:o.last,a=i[0].findAncestor("table");n.insertRows(a,{at:r?s:s+1,copyStructureFromAbove:!r})}}class r6 extends GW{order;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),r="left"===this.order,i=n.getSelectionAffectedTableCells(t),o=n.getColumnIndexes(i),s=r?o.first:o.last,a=i[0].findAncestor("table");n.insertColumns(a,{columns:1,at:r?s:s+1})}}class i6 extends GW{direction;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.direction=t.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===e.length}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function o6(e,t,n){const{startRow:r,startColumn:i,endRow:o,endColumn:s}=t,a=n.createElement("table"),l=o-r+1;for(let u=0;u<l;u++)n.insertElement("tableRow",a,"end");const c=[...new X3(e,{startRow:r,endRow:o,startColumn:i,endColumn:s,includeAllSlots:!0})];for(const{row:u,column:d,cell:h,isAnchor:f,cellAnchorRow:p,cellAnchorColumn:m}of c){const e=u-r,t=a.getChild(e);if(f){const e=n.cloneElement(h);n.append(e,t),u6(e,u,d,o,s,n)}else(p<r||m<i)&&W3(n,n.createPositionAt(t,"end"))}return function(e,t,n,r,i){const o=parseInt(t.getAttribute("headingRows")||"0");if(o>0){V3("headingRows",o-n,e,i,0)}const s=parseInt(t.getAttribute("headingColumns")||"0");if(s>0){V3("headingColumns",s-r,e,i,0)}}(a,e,r,i,n),a}function s6(e,t){const n=[],r=new X3(e,{startRow:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,endRow:t-1});for(const i of r){const{row:e,cellHeight:r}=i;e<t&&t<=e+r-1&&n.push(i)}return n}function a6(e,t,n){const r=e.parent,i=r.parent,o=r.index,s=t-o,a={},l=parseInt(e.getAttribute("rowspan"))-s;l>1&&(a.rowspan=l);const c=parseInt(e.getAttribute("colspan")||"1");c>1&&(a.colspan=c);const u=o+s,d=[...new X3(i,{startRow:o,endRow:u,includeAllSlots:!0})];let h,f=null;for(const p of d){const{row:t,column:r,cell:i}=p;i===e&&void 0===h&&(h=r),void 0!==h&&h===r&&t===u&&(f=W3(n,p.getPositionBefore(),a))}return V3("rowspan",s,e,n),f}function l6(e,t){const n=[],r=new X3(e);for(const i of r){const{column:e,cellWidth:r}=i;e<t&&t<=e+r-1&&n.push(i)}return n}function c6(e,t,n,r){const i=n-t,o={},s=parseInt(e.getAttribute("colspan"))-i;s>1&&(o.colspan=s);const a=parseInt(e.getAttribute("rowspan")||"1");a>1&&(o.rowspan=a);const l=W3(r,r.createPositionAfter(e),o);return V3("colspan",i,e,r),l}function u6(e,t,n,r,i,o){const s=parseInt(e.getAttribute("colspan")||"1"),a=parseInt(e.getAttribute("rowspan")||"1");if(n+s-1>i){V3("colspan",i-n+1,e,o,1)}if(t+a-1>r){V3("rowspan",r-t+1,e,o,1)}}function d6(e,t){const n=t.getColumns(e),r=new Array(n).fill(0);for(const{column:o}of new X3(e))r[o]++;const i=r.reduce(((e,t,n)=>t?e:[...e,n]),[]);if(i.length>0){const n=i[i.length-1];return t.removeColumns(e,{at:n}),!0}return!1}function h6(e,t){const n=[],r=t.getRows(e);for(let i=0;i<r;i++){e.getChild(i).isEmpty&&n.push(i)}if(n.length>0){const r=n[n.length-1];return t.removeRows(e,{at:r}),!0}return!1}function f6(e,t){d6(e,t)||h6(e,t)}function p6(e,t){const n=Array.from(new X3(e,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(n.every((e=>{let{cellHeight:t}=e;return 1===t})))return t.lastRow;const r=n[0].cellHeight-1;return t.lastRow+r}function m6(e,t){const n=Array.from(new X3(e,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(n.every((e=>{let{cellWidth:t}=e;return 1===t})))return t.lastColumn;const r=n[0].cellWidth-1;return t.lastColumn+r}class g6 extends GW{direction;isHorizontal;constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,n=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],r=this.value,i=this.direction;e.change((e=>{const t="right"==i||"down"==i,o=t?n:r,s=t?r:n,a=s.parent;!function(e,t,n){v6(e)||(v6(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end")));n.remove(e)}(s,o,e);const l=this.isHorizontal?"colspan":"rowspan",c=parseInt(n.getAttribute(l)||"1"),u=parseInt(r.getAttribute(l)||"1");e.setAttribute(l,c+u,o),e.setSelection(e.createRangeIn(o));const d=this.editor.plugins.get("TableUtils");f6(a.findAncestor("table"),d)}))}_getMergeableCell(){const e=this.editor.model.document,t=this.editor.plugins.get("TableUtils"),n=t.getTableCellsContainingSelection(e.selection)[0];if(!n)return;const r=this.isHorizontal?function(e,t,n){const r=e.parent,i=r.parent,o="right"==t?e.nextSibling:e.previousSibling,s=(i.getAttribute("headingColumns")||0)>0;if(!o)return;const a="right"==t?e:o,l="right"==t?o:e,{column:c}=n.getCellLocation(a),{column:u}=n.getCellLocation(l),d=parseInt(a.getAttribute("colspan")||"1"),h=H3(n,a),f=H3(n,l);if(s&&h!=f)return;return c+d===u?o:void 0}(n,this.direction,t):function(e,t,n){const r=e.parent,i=r.parent,o=i.getChildIndex(r);if("down"==t&&o===n.getRows(i)-1||"up"==t&&0===o)return null;const s=parseInt(e.getAttribute("rowspan")||"1"),a=i.getAttribute("headingRows")||0,l="down"==t&&o+s===a,c="up"==t&&o===a;if(a&&(l||c))return null;const u=parseInt(e.getAttribute("rowspan")||"1"),d="down"==t?o+u:o,h=[...new X3(i,{endRow:d})],f=h.find((t=>t.cell===e)),p=f.column,m=h.find((e=>{let{row:n,cellHeight:r,column:i}=e;return i===p&&("down"==t?n===d:d===n+r)}));return m&&m.cell?m.cell:null}(n,this.direction,t);if(!r)return;const i=this.isHorizontal?"rowspan":"colspan",o=parseInt(n.getAttribute(i)||"1");return parseInt(r.getAttribute(i)||"1")===o?r:void 0}}function v6(e){const t=e.getChild(0);return 1==e.childCount&&t.is("element","paragraph")&&t.isEmpty}class b6 extends GW{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const r=n.findAncestor("table"),i=e.getRows(r)-1,o=e.getRowIndexes(t),s=0===o.first&&o.last===i;this.isEnabled=!s}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),r=t.getRowIndexes(n),i=n[0],o=i.findAncestor("table"),s=t.getCellLocation(i).column;e.change((e=>{const n=r.last-r.first+1;t.removeRows(o,{at:r.first,rows:n});const i=function(e,t,n,r){const i=e.getChild(Math.min(t,r-1));let o=i.getChild(0),s=0;for(const a of i.getChildren()){if(s>n)return o;o=a,s+=parseInt(a.getAttribute("colspan")||"1")}return o}(o,r.first,s,t.getRows(o));e.setSelection(e.createPositionAt(i,0))}))}}class y6 extends GW{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const r=n.findAncestor("table"),i=e.getColumns(r),{first:o,last:s}=e.getColumnIndexes(t);this.isEnabled=s-o<i-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,n]=function(e,t){const n=t.getSelectionAffectedTableCells(e),r=n[0],i=n.pop(),o=[r,i];return r.isBefore(i)?o:o.reverse()}(this.editor.model.document.selection,e),r=t.parent.parent,i=[...new X3(r)],o={first:i.find((e=>e.cell===t)).column,last:i.find((e=>e.cell===n)).column},s=function(e,t,n,r){const i=parseInt(n.getAttribute("colspan")||"1");return i>1?n:t.previousSibling||n.nextSibling?n.nextSibling||t.previousSibling:r.first?e.reverse().find((e=>{let{column:t}=e;return t<r.first})).cell:e.reverse().find((e=>{let{column:t}=e;return t>r.last})).cell}(i,t,n,o);this.editor.model.change((t=>{const n=o.last-o.first+1;e.removeColumns(r,{at:o.first,columns:n}),t.setSelection(t.createPositionAt(s,0))}))}}class w6 extends GW{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),r=n.length>0;this.isEnabled=r,this.value=r&&n.every((e=>this._isInHeading(e,e.parent.parent)))}execute(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),r=n[0].findAncestor("table"),{first:i,last:o}=e.getRowIndexes(n),s=this.value?i:o+1,a=r.getAttribute("headingRows")||0;t.change((e=>{if(s){const t=s6(r,s,s>a?a:0);for(const{cell:n}of t)a6(n,s,e)}V3("headingRows",s,r,e,0)}))}_isInHeading(e,t){const n=parseInt(t.getAttribute("headingRows")||"0");return!!n&&e.parent.index<n}}class x6 extends GW{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),r=n.length>0;this.isEnabled=r,this.value=r&&n.every((e=>H3(t,e)))}execute(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),r=n[0].findAncestor("table"),{first:i,last:o}=e.getColumnIndexes(n),s=this.value?i:o+1;t.change((e=>{if(s){const t=l6(r,s);for(const{cell:n,column:r}of t)c6(n,r,s,e)}V3("headingColumns",s,r,e,0)}))}}const _6=5,C6=2;function k6(e,t){return 4e3/S6(e,t)}function S6(e,t){const n=A6(e,"tbody",t)||A6(e,"thead",t);return T6(t.editing.view.domConverter.mapViewToDom(n))}function A6(e,t,n){return[...[...n.editing.mapper.toViewElement(e).getChildren()].find((e=>e.is("element","table"))).getChildren()].find((e=>e.is("element",t)))}function T6(e){const t=Aj.window.getComputedStyle(e);return"border-box"===t.boxSizing?parseFloat(t.width)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth):parseFloat(t.width)}function I6(e){const t=Math.pow(10,C6),n="number"===typeof e?e:parseFloat(e);return Math.round(n*t)/t}function M6(e,t){return Array(e).fill(t)}function E6(e){return e.map((e=>"number"===typeof e?e:parseFloat(e))).filter((e=>!Number.isNaN(e))).reduce(((e,t)=>e+t),0)}function P6(e){let t=function(e){const t=e.filter((e=>"auto"===e)).length;if(0===t)return e.map((e=>I6(e)));const n=E6(e),r=Math.max((100-n)/t,_6);return e.map((e=>"auto"===e?r:e)).map((e=>I6(e)))}(e.map((e=>"auto"===e?e:parseFloat(e.replace("%","")))));const n=E6(t);return 100!==n&&(t=t.map((e=>I6(100*e/n))).map(((e,t,n)=>{if(!(t===n.length-1))return e;return I6(e+100-E6(n))}))),t.map((e=>e+"%"))}function D6(e){const t=Aj.window.getComputedStyle(e);return"border-box"===t.boxSizing?parseInt(t.width):parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)+parseFloat(t.borderWidth)}function j6(e,t,n,r){for(let i=0;i<Math.max(n.length,e.length);i++){const o=e[i],s=n[i];s?o?r.setAttribute("columnWidth",s,o):r.appendElement("tableColumn",{columnWidth:s},t):r.remove(o)}}function O6(e){if(e.is("element","tableColumnGroup"))return e;const t=e.getChildren();return Array.from(t).find((e=>e.is("element","tableColumnGroup")))}function R6(e){const t=O6(e);return t?Array.from(t.getChildren()):[]}class L6 extends $W{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,n=t.parent,r=n.getChildIndex(t),i=new X3(n,{row:r});for(const{cell:o,row:s,column:a}of i)if(o===e)return{row:s,column:a}}createTable(e,t){const n=e.createElement("table"),r=t.rows||2,i=t.columns||2;return N6(e,n,0,r,i),t.headingRows&&V3("headingRows",Math.min(t.headingRows,r),n,e,0),t.headingColumns&&V3("headingColumns",Math.min(t.headingColumns,i),n,e,0),n}insertRows(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.editor.model,r=t.at||0,i=t.rows||1,o=void 0!==t.copyStructureFromAbove,s=t.copyStructureFromAbove?r-1:r,a=this.getRows(e),l=this.getColumns(e);if(r>a)throw new qj("tableutils-insertrows-insert-out-of-range",this,{options:t});n.change((t=>{const n=e.getAttribute("headingRows")||0;if(n>r&&V3("headingRows",n+i,e,t,0),!o&&(0===r||r===a))return void N6(t,e,r,i,l);const c=o?Math.max(r,s):r,u=new X3(e,{endRow:c}),d=new Array(l).fill(1);for(const{row:e,column:a,cellHeight:l,cellWidth:h,cell:f}of u){const n=e+l-1,c=e<=s&&s<=n;e<r&&r<=n?(t.setAttribute("rowspan",l+i,f),d[a]=-h):o&&c&&(d[a]=h)}for(let o=0;o<i;o++){const n=t.createElement("tableRow");t.insert(n,e,r);for(let e=0;e<d.length;e++){const r=d[e],i=t.createPositionAt(n,"end");r>0&&W3(t,i,r>1?{colspan:r}:void 0),e+=Math.abs(r)-1}}}))}insertColumns(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.editor.model,r=t.at||0,i=t.columns||1;n.change((t=>{const n=e.getAttribute("headingColumns");r<n&&t.setAttribute("headingColumns",n+i,e);const o=this.getColumns(e);if(0===r||o===r){for(const n of e.getChildren())n.is("element","tableRow")&&B6(i,t,t.createPositionAt(n,r?"end":0));return}const s=new X3(e,{column:r,includeAllSlots:!0});for(const e of s){const{row:n,cell:o,cellAnchorColumn:a,cellAnchorRow:l,cellWidth:c,cellHeight:u}=e;if(a<r){t.setAttribute("colspan",c+i,o);const e=l+u-1;for(let t=n;t<=e;t++)s.skipRow(t)}else B6(i,t,e.getPositionBefore())}}))}removeRows(e,t){const n=this.editor.model,r=t.rows||1,i=this.getRows(e),o=t.at,s=o+r-1;if(s>i-1)throw new qj("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});n.change((t=>{const n={first:o,last:s},{cellsToMove:r,cellsToTrim:i}=function(e,t){let{first:n,last:r}=t;const i=new Map,o=[];for(const{row:s,column:a,cellHeight:l,cell:c}of new X3(e,{endRow:r})){const e=s+l-1;if(s>=n&&s<=r&&e>r){const e=l-(r-s+1);i.set(a,{cell:c,rowspan:e})}if(s<n&&e>=n){let t;t=e>=r?r-n+1:e-n+1,o.push({cell:c,rowspan:l-t})}}return{cellsToMove:i,cellsToTrim:o}}(e,n);if(r.size){!function(e,t,n,r){const i=new X3(e,{includeAllSlots:!0,row:t}),o=[...i],s=e.getChild(t);let a;for(const{column:l,cell:c,isAnchor:u}of o)if(n.has(l)){const{cell:e,rowspan:t}=n.get(l),i=a?r.createPositionAfter(a):r.createPositionAt(s,0);r.move(r.createRangeOn(e),i),V3("rowspan",t,e,r),a=e}else u&&(a=c)}(e,s+1,r,t)}for(let a=s;a>=o;a--)t.remove(e.getChild(a));for(const{rowspan:e,cell:o}of i)V3("rowspan",e,o,t);!function(e,t,n){let{first:r,last:i}=t;const o=e.getAttribute("headingRows")||0;if(r<o){V3("headingRows",i<o?o-(i-r+1):r,e,n,0)}}(e,n,t),d6(e,this)||h6(e,this)}))}removeColumns(e,t){const n=this.editor.model,r=t.at,i=t.columns||1,o=t.at+i-1;n.change((t=>{!function(e,t,n){const r=e.getAttribute("headingColumns")||0;if(r&&t.first<r){const i=Math.min(r-1,t.last)-t.first+1;n.setAttribute("headingColumns",r-i,e)}}(e,{first:r,last:o},t);const n=R6(e);for(let i=o;i>=r;i--){for(const{cell:n,column:r,cellWidth:o}of[...new X3(e)])r<=i&&o>1&&r+o>i?V3("colspan",o-1,n,t):r===i&&t.remove(n);if(n[i]){const e=0===i?n[1]:n[i-1],r=parseFloat(n[i].getAttribute("columnWidth")),o=parseFloat(e.getAttribute("columnWidth"));t.remove(n[i]),t.setAttribute("columnWidth",r+o+"%",e)}}h6(e,this)||d6(e,this)}))}splitCellVertically(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=this.editor.model,r=e.parent.parent,i=parseInt(e.getAttribute("rowspan")||"1"),o=parseInt(e.getAttribute("colspan")||"1");n.change((n=>{if(o>1){const{newCellsSpan:r,updatedSpan:s}=F6(o,t);V3("colspan",s,e,n);const a={};r>1&&(a.colspan=r),i>1&&(a.rowspan=i);B6(o>t?t-1:o-1,n,n.createPositionAfter(e),a)}if(o<t){const s=t-o,a=[...new X3(r)],{column:l}=a.find((t=>{let{cell:n}=t;return n===e})),c=a.filter((t=>{let{cell:n,cellWidth:r,column:i}=t;return n!==e&&i===l||i<l&&i+r>l}));for(const{cell:e,cellWidth:t}of c)n.setAttribute("colspan",t+s,e);const u={};i>1&&(u.rowspan=i),B6(s,n,n.createPositionAfter(e),u);const d=r.getAttribute("headingColumns")||0;d>l&&V3("headingColumns",d+s,r,n)}}))}splitCellHorizontally(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=this.editor.model,r=e.parent,i=r.parent,o=i.getChildIndex(r),s=parseInt(e.getAttribute("rowspan")||"1"),a=parseInt(e.getAttribute("colspan")||"1");n.change((n=>{if(s>1){const r=[...new X3(i,{startRow:o,endRow:o+s-1,includeAllSlots:!0})],{newCellsSpan:l,updatedSpan:c}=F6(s,t);V3("rowspan",c,e,n);const{column:u}=r.find((t=>{let{cell:n}=t;return n===e})),d={};l>1&&(d.rowspan=l),a>1&&(d.colspan=a);let h=0;for(const e of r){const{column:t,row:r}=e,i=t===u;h>=l&&i&&(h=0),r>=o+c&&i&&(h||B6(1,n,e.getPositionBefore(),d),h++)}}if(s<t){const r=t-s,l=[...new X3(i,{startRow:0,endRow:o})];for(const{cell:t,cellHeight:i,row:s}of l)if(t!==e&&s+i>o){const e=i+r;n.setAttribute("rowspan",e,t)}const c={};a>1&&(c.colspan=a),N6(n,i,o+1,r,1,c);const u=i.getAttribute("headingRows")||0;u>o&&V3("headingRows",u+r,i,n)}}))}getColumns(e){return[...e.getChild(0).getChildren()].filter((e=>e.is("element","tableCell"))).reduce(((e,t)=>e+parseInt(t.getAttribute("colspan")||"1")),0)}getRows(e){return Array.from(e.getChildren()).reduce(((e,t)=>t.is("element","tableRow")?e+1:e),0)}createTableWalker(e){return new X3(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}getSelectedTableCells(e){const t=[];for(const n of this.sortRanges(e.getRanges())){const e=n.getContainedElement();e&&e.is("element","tableCell")&&t.push(e)}return t}getTableCellsContainingSelection(e){const t=[];for(const n of e.getRanges()){const e=n.start.findAncestor("tableCell");e&&t.push(e)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map((e=>e.parent.index));return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),n=[...new X3(t)].filter((t=>e.includes(t.cell))).map((e=>e.column));return this._getFirstLastIndexesObject(n)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,n=new Set;let r=0;for(const o of e){const{row:e,column:i}=this.getCellLocation(o),s=parseInt(o.getAttribute("rowspan"))||1,a=parseInt(o.getAttribute("colspan"))||1;t.add(e),n.add(i),s>1&&t.add(e+s-1),a>1&&n.add(i+a-1),r+=s*a}const i=function(e,t){const n=Array.from(e.values()),r=Array.from(t.values()),i=Math.max(...n),o=Math.min(...n),s=Math.max(...r),a=Math.min(...r);return(i-o+1)*(s-a+1)}(t,n);return i==r}sortRanges(e){return Array.from(e).sort(z6)}_getFirstLastIndexesObject(e){const t=e.sort(((e,t)=>e-t));return{first:t[0],last:t[t.length-1]}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),n=this.getRowIndexes(e),r=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(n,r))return!1;const i=this.getColumnIndexes(e),o=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(i,o)}_areIndexesInSameSection(e,t){let{first:n,last:r}=e;return n<t===r<t}}function N6(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};for(let s=0;s<r;s++){const r=e.createElement("tableRow");e.insert(r,t,n),B6(i,e,e.createPositionAt(r,"end"),o)}}function B6(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};for(let i=0;i<e;i++)W3(t,n,r)}function F6(e,t){if(e<t)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(e/t);return{newCellsSpan:n,updatedSpan:e-n*t+n}}function z6(e,t){const n=e.start,r=t.start;return n.isBefore(r)?-1:1}class V6 extends GW{refresh(){const e=this.editor.plugins.get(L6),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(L6);e.change((n=>{const r=t.getSelectedTableCells(e.document.selection),i=r.shift(),{mergeWidth:o,mergeHeight:s}=function(e,t,n){let r=0,i=0;for(const c of t){const{row:e,column:t}=n.getCellLocation(c);r=U6(c,t,r,"colspan"),i=U6(c,e,i,"rowspan")}const{row:o,column:s}=n.getCellLocation(e),a=r-s,l=i-o;return{mergeWidth:a,mergeHeight:l}}(i,r,t);V3("colspan",o,i,n),V3("rowspan",s,i,n);for(const e of r)W6(e,i,n);f6(i.findAncestor("table"),t),n.setSelection(i,"in")}))}}function W6(e,t,n){H6(e)||(H6(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))),n.remove(e)}function H6(e){const t=e.getChild(0);return 1==e.childCount&&t.is("element","paragraph")&&t.isEmpty}function U6(e,t,n,r){const i=parseInt(e.getAttribute(r)||"1");return Math.max(n,t+i)}class $6 extends GW{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),r=t.getRowIndexes(n),i=n[0].findAncestor("table"),o=[];for(let s=r.first;s<=r.last;s++)for(const t of i.getChild(s).getChildren())o.push(e.createRangeOn(t));e.change((e=>{e.setSelection(o)}))}}class Y6 extends GW{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),r=n[0],i=n.pop(),o=r.findAncestor("table"),s=e.getCellLocation(r),a=e.getCellLocation(i),l=Math.min(s.column,a.column),c=Math.max(s.column,a.column),u=[];for(const d of new X3(o,{startColumn:l,endColumn:c}))u.push(t.createRangeOn(d.cell));t.change((e=>{e.setSelection(u)}))}}function G6(e){e.document.registerPostFixer((t=>function(e,t){const n=t.document.differ.getChanges();let r=!1;const i=new Set;for(const o of n){let t=null;"insert"==o.type&&"table"==o.name&&(t=o.position.nodeAfter),"insert"!=o.type&&"remove"!=o.type||"tableRow"!=o.name&&"tableCell"!=o.name||(t=o.position.findAncestor("table")),Z6(o)&&(t=o.range.start.findAncestor("table")),t&&!i.has(t)&&(r=q6(t,e)||r,r=X6(t,e)||r,i.add(t))}return r}(t,e)))}function q6(e,t){let n=!1;const r=function(e){const t=parseInt(e.getAttribute("headingRows")||"0"),n=Array.from(e.getChildren()).reduce(((e,t)=>t.is("element","tableRow")?e+1:e),0),r=[];for(const{row:i,cell:o,cellHeight:s}of new X3(e)){if(s<2)continue;const e=i<t?t:n;if(i+s>e){const t=e-i;r.push({cell:o,rowspan:t})}}return r}(e);if(r.length){n=!0;for(const e of r)V3("rowspan",e.rowspan,e.cell,t,1)}return n}function X6(e,t){let n=!1;const r=function(e){const t=new Array(e.childCount).fill(0);for(const{rowIndex:n}of new X3(e,{includeAllSlots:!0}))t[n]++;return t}(e),i=[];for(const[a,l]of r.entries())!l&&e.getChild(a).is("element","tableRow")&&i.push(a);if(i.length){n=!0;for(const n of i.reverse())t.remove(e.getChild(n)),r.splice(n,1)}const o=r.filter(((t,n)=>e.getChild(n).is("element","tableRow"))),s=o[0];if(!o.every((e=>e===s))){const r=o.reduce(((e,t)=>t>e?t:e),0);for(const[i,s]of o.entries()){const o=r-s;if(o){for(let n=0;n<o;n++)W3(t,t.createPositionAt(e.getChild(i),"end"));n=!0}}}return n}function Z6(e){if("attribute"!==e.type)return!1;const t=e.attributeKey;return"headingRows"===t||"colspan"===t||"rowspan"===t}function K6(e){e.document.registerPostFixer((t=>function(e,t){const n=t.document.differ.getChanges();let r=!1;for(const i of n)"insert"==i.type&&"table"==i.name&&(r=Q6(i.position.nodeAfter,e)||r),"insert"==i.type&&"tableRow"==i.name&&(r=J6(i.position.nodeAfter,e)||r),"insert"==i.type&&"tableCell"==i.name&&(r=e7(i.position.nodeAfter,e)||r),"remove"!=i.type&&"insert"!=i.type||!t7(i)||(r=e7(i.position.parent,e)||r);return r}(t,e)))}function Q6(e,t){let n=!1;for(const r of e.getChildren())r.is("element","tableRow")&&(n=J6(r,t)||n);return n}function J6(e,t){let n=!1;for(const r of e.getChildren())n=e7(r,t)||n;return n}function e7(e,t){if(0==e.childCount)return t.insertElement("paragraph",e),!0;const n=Array.from(e.getChildren()).filter((e=>e.is("$text")));for(const r of n)t.wrap(t.createRangeOn(r),"paragraph");return!!n.length}function t7(e){return!!e.position.parent.is("element","tableCell")&&("insert"==e.type&&"$text"==e.name||"remove"==e.type)}function n7(e,t){if(!e.is("element","paragraph"))return!1;const n=t.toViewElement(e);return!!n&&e6(e)!==n.is("element","span")}class r7 extends $W{_additionalSlots;static get pluginName(){return"TableEditing"}static get requires(){return[L6]}constructor(e){super(e),this._additionalSlots=[]}init(){const e=this.editor,t=e.model,n=t.schema,r=e.conversion,i=e.plugins.get(L6);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),r.for("upcast").add((e=>{e.on("element:figure",((e,t,n)=>{if(!n.consumable.test(t.viewItem,{name:!0,classes:"table"}))return;const r=function(e){for(const t of e.getChildren())if(t.is("element","table"))return t}(t.viewItem);if(!r||!n.consumable.test(r,{name:!0}))return;n.consumable.consume(t.viewItem,{name:!0,classes:"table"});const i=PR(n.convertItem(r,t.modelCursor).modelRange.getItems());i?(n.convertChildren(t.viewItem,n.writer.createPositionAt(i,"end")),n.updateConversionResult(i,t)):n.consumable.revert(t.viewItem,{name:!0,classes:"table"})}))})),r.for("upcast").add(Y3()),r.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:K3(i,{asWidget:!0,additionalSlots:this._additionalSlots})}),r.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:K3(i,{additionalSlots:this._additionalSlots})}),r.for("upcast").elementToElement({model:"tableRow",view:"tr"}),r.for("upcast").add((e=>{e.on("element:tr",((e,t)=>{t.viewItem.isEmpty&&0==t.modelCursor.index&&e.stop()}),{priority:"high"})})),r.for("downcast").elementToElement({model:"tableRow",view:(e,t)=>{let{writer:n}=t;return e.isEmpty?n.createEmptyElement("tr"):n.createContainerElement("tr")}}),r.for("upcast").elementToElement({model:"tableCell",view:"td"}),r.for("upcast").elementToElement({model:"tableCell",view:"th"}),r.for("upcast").add(G3("td")),r.for("upcast").add(G3("th")),r.for("editingDowncast").elementToElement({model:"tableCell",view:Q3({asWidget:!0})}),r.for("dataDowncast").elementToElement({model:"tableCell",view:Q3()}),r.for("editingDowncast").elementToElement({model:"paragraph",view:J3({asWidget:!0}),converterPriority:"high"}),r.for("dataDowncast").elementToElement({model:"paragraph",view:J3(),converterPriority:"high"}),r.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),r.for("upcast").attributeToAttribute({model:{key:"colspan",value:i7("colspan")},view:"colspan"}),r.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),r.for("upcast").attributeToAttribute({model:{key:"rowspan",value:i7("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new t6(e)),e.commands.add("insertTableRowAbove",new n6(e,{order:"above"})),e.commands.add("insertTableRowBelow",new n6(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new r6(e,{order:"left"})),e.commands.add("insertTableColumnRight",new r6(e,{order:"right"})),e.commands.add("removeTableRow",new b6(e)),e.commands.add("removeTableColumn",new y6(e)),e.commands.add("splitTableCellVertically",new i6(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new i6(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new V6(e)),e.commands.add("mergeTableCellRight",new g6(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new g6(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new g6(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new g6(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new x6(e)),e.commands.add("setTableRowHeader",new w6(e)),e.commands.add("selectTableRow",new $6(e)),e.commands.add("selectTableColumn",new Y6(e)),G6(t),K6(t),this.listenTo(t.document,"change:data",(()=>{!function(e,t){const n=e.document.differ;for(const r of n.getChanges()){let e,n=!1;if("attribute"==r.type){const t=r.range.start.nodeAfter;if(!t||!t.is("element","table"))continue;if("headingRows"!=r.attributeKey&&"headingColumns"!=r.attributeKey)continue;e=t,n="headingRows"==r.attributeKey}else"tableRow"!=r.name&&"tableCell"!=r.name||(e=r.position.findAncestor("table"),n="tableRow"==r.name);if(!e)continue;const i=e.getAttribute("headingRows")||0,o=e.getAttribute("headingColumns")||0,s=new X3(e);for(const r of s){const e=r.row<i||r.column<o?"th":"td",s=t.mapper.toViewElement(r.cell);s&&s.is("element")&&s.name!=e&&t.reconvertItem(n?r.cell.parent:r.cell)}}}(t,e.editing),function(e,t){const n=e.document.differ,r=new Set;for(const i of n.getChanges()){const e="attribute"==i.type?i.range.start.parent:i.position.parent;e.is("element","tableCell")&&r.add(e)}for(const i of r.values()){const e=Array.from(i.getChildren()).filter((e=>n7(e,t.mapper)));for(const n of e)t.reconvertItem(n)}}(t,e.editing)}))}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function i7(e){return t=>{const n=parseInt(t.getAttribute(e));return Number.isNaN(n)||n<=0?null:n}}class o7 extends xU{items;keystrokes;focusTracker;constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new jR,this.focusTracker=new DR,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",((e,t)=>`${t} \xd7 ${e}`)),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to((e=>{e.preventDefault()})),click:t.to((()=>{this.fire("execute")}))}}),this.on("boxover",((e,t)=>{const{row:n,column:r}=t.target.dataset;this.items.get(10*(parseInt(n,10)-1)+(parseInt(r,10)-1)).focus()})),this.focusTracker.on("change:focusedElement",((e,t,n)=>{if(!n)return;const{row:r,column:i}=n.dataset;this.set({rows:parseInt(r),columns:parseInt(i)})})),this.on("change:columns",(()=>this._highlightGridBoxes())),this.on("change:rows",(()=>this._highlightGridBoxes()))}render(){super.render(),SU({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map(((n,r)=>{const i=Math.floor(r/10)<e&&r%10<t;n.set("isOn",i)}))}_createGridButton(e,t,n,r){const i=new IU(e);return i.set({label:r,class:"ck-insert-table-dropdown-grid-box"}),i.extendTemplate({attributes:{"data-row":t,"data-column":n}}),i}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const n=Math.floor(t/10),r=t%10,i=`${n+1} \xd7 ${r+1}`;e.push(this._createGridButton(this.locale,n+1,r+1,i))}return this.createCollection(e)}}class s7 extends $W{static get pluginName(){return"TableUI"}init(){const e=this.editor,t=this.editor.t,n="ltr"===e.locale.contentLanguageDirection;e.ui.componentFactory.add("insertTable",(n=>{const r=e.commands.get("insertTable"),i=V$(n);let o;return i.bind("isEnabled").to(r),i.buttonView.set({icon:lH.table,label:t("Insert table"),tooltip:!0}),i.on("change:isOpen",(()=>{o||(o=new o7(n),i.panelView.children.add(o),o.delegate("execute").to(i),i.on("execute",(()=>{e.execute("insertTable",{rows:o.rows,columns:o.columns}),e.editing.view.focus()})))})),i})),e.ui.componentFactory.add("menuBar:insertTable",(n=>{const r=e.commands.get("insertTable"),i=new cG(n),o=new o7(n);return o.delegate("execute").to(i),i.on("change:isOpen",((e,t,n)=>{n||o.reset()})),o.on("execute",(()=>{e.execute("insertTable",{rows:o.rows,columns:o.columns}),e.editing.view.focus()})),i.buttonView.set({label:t("Table"),icon:lH.table}),i.panelView.children.add(o),i.bind("isEnabled").to(r),i})),e.ui.componentFactory.add("tableColumn",(e=>{const r=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',r,e)})),e.ui.componentFactory.add("tableRow",(e=>{const n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',n,e)})),e.ui.componentFactory.add("mergeTableCells",(e=>{const r=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',r,e)}))}_prepareDropdown(e,t,n,r){const i=this.editor,o=V$(r),s=this._fillDropdownWithListOptions(o,n);return o.buttonView.set({label:e,icon:t,tooltip:!0}),o.bind("isEnabled").toMany(s,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((e=>e))})),this.listenTo(o,"execute",(e=>{i.execute(e.source.commandName),e.source instanceof n$||i.editing.view.focus()})),o}_prepareMergeSplitButtonDropdown(e,t,n,r){const i=this.editor,o=V$(r,z$),s="mergeTableCells",a=i.commands.get(s),l=this._fillDropdownWithListOptions(o,n);return o.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),o.bind("isEnabled").toMany([a,...l],"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((e=>e))})),this.listenTo(o.buttonView,"execute",(()=>{i.execute(s),i.editing.view.focus()})),this.listenTo(o,"execute",(e=>{i.execute(e.source.commandName),i.editing.view.focus()})),o}_fillDropdownWithListOptions(e,t){const n=this.editor,r=[],i=new ER;for(const o of t)a7(o,n,r,i);return U$(e,i),r}}function a7(e,t,n,r){if("button"===e.type||"switchbutton"===e.type){const r=e.model=new YY(e.model),{commandName:i,bindIsOn:o}=e.model,s=t.commands.get(i);n.push(s),r.set({commandName:i}),r.bind("isEnabled").to(s),o&&r.bind("isOn").to(s,"value"),r.set({withText:!0})}r.add(e)}class l7 extends $W{static get pluginName(){return"TableSelection"}static get requires(){return[L6,L6]}init(){const e=this.editor,t=e.model,n=e.editing.view;this.listenTo(t,"deleteContent",((e,t)=>this._handleDeleteContent(e,t)),{priority:"high"}),this.listenTo(n.document,"insertText",((e,t)=>this._handleInsertTextEvent(e,t)),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(L6),t=this.editor.model.document.selection,n=e.getSelectedTableCells(t);return 0==n.length?null:n}getSelectionAsFragment(){const e=this.editor.plugins.get(L6),t=this.getSelectedTableCells();return t?this.editor.model.change((n=>{const r=n.createDocumentFragment(),{first:i,last:o}=e.getColumnIndexes(t),{first:s,last:a}=e.getRowIndexes(t),l=t[0].findAncestor("table");let c=a,u=o;if(e.isSelectionRectangular(t)){const e={firstColumn:i,lastColumn:o,firstRow:s,lastRow:a};c=p6(l,e),u=m6(l,e)}const d=o6(l,{startRow:s,startColumn:i,endRow:c,endColumn:u},n);return n.insert(d,r,0),r})):null}setCellSelection(e,t){const n=this._getCellsToSelect(e,t);this.editor.model.change((e=>{e.setSelection(n.cells.map((t=>e.createRangeOn(t))),{backward:n.backward})}))}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=PR(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add((e=>e.on("selection",((e,n,r)=>{const i=r.writer;!function(e){for(const n of t)e.removeClass("ck-editor__editable_selected",n);t.clear()}(i);const o=this.getSelectedTableCells();if(!o)return;for(const a of o){const e=r.mapper.toViewElement(a);i.addClass("ck-editor__editable_selected",e),t.add(e)}const s=r.mapper.toViewElement(o[o.length-1]);i.setSelection(s,0)}),{priority:"lowest"})))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",(()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change((n=>{const r=n.createPositionAt(t[0],0),i=e.model.schema.getNearestSelectionRange(r);n.setSelection(i)}))}}))}_handleDeleteContent(e,t){const n=this.editor.plugins.get(L6),r=t[0],i=t[1],o=this.editor.model,s=!i||"backward"==i.direction,a=n.getSelectedTableCells(r);a.length&&(e.stop(),o.change((e=>{const t=a[s?a.length-1:0];o.change((e=>{for(const t of a)o.deleteContent(e.createSelection(t,"in"))}));const n=o.schema.getNearestSelectionRange(e.createPositionAt(t,0));r.is("documentSelection")?e.setSelection(n):r.setTo(n)})))}_handleInsertTextEvent(e,t){const n=this.editor,r=this.getSelectedTableCells();if(!r)return;const i=n.editing.view,o=n.editing.mapper,s=r.map((e=>i.createRangeOn(o.toViewElement(e))));t.selection=i.createSelection(s)}_getCellsToSelect(e,t){const n=this.editor.plugins.get("TableUtils"),r=n.getCellLocation(e),i=n.getCellLocation(t),o=Math.min(r.row,i.row),s=Math.max(r.row,i.row),a=Math.min(r.column,i.column),l=Math.max(r.column,i.column),c=new Array(s-o+1).fill(null).map((()=>[])),u={startRow:o,endRow:s,startColumn:a,endColumn:l};for(const{row:f,cell:p}of new X3(e.findAncestor("table"),u))c[f-o].push(p);const d=i.row<r.row,h=i.column<r.column;return d&&c.reverse(),h&&c.forEach((e=>e.reverse())),{cells:c.flat(),backward:d||h}}}class c7 extends $W{static get pluginName(){return"TableClipboard"}static get requires(){return[aZ,lZ,l7,L6]}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",((e,t)=>this._onCopyCut(e,t))),this.listenTo(t,"cut",((e,t)=>this._onCopyCut(e,t))),this.listenTo(e.model,"insertContent",((e,t)=>{let[n,r]=t;return this._onInsertContent(e,n,r)}),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const n=this.editor.editing.view,r=this.editor.plugins.get(l7),i=this.editor.plugins.get(aZ);r.getSelectedTableCells()&&("cut"!=e.name||this.editor.model.canEditAt(this.editor.model.document.selection))&&(t.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:"cut"===e.name},(()=>{const o=i._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,(()=>r.getSelectionAsFragment()));n.document.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:this.editor.data.toView(o),method:e.name})})))}_onInsertContent(e,t,n){if(n&&!n.is("documentSelection"))return;const r=this.editor.model,i=this.editor.plugins.get(L6),o=this.editor.plugins.get(aZ),s=this.getTableIfOnlyTableInContent(t,r);if(!s)return;const a=i.getSelectionAffectedTableCells(r.document.selection);a.length?(e.stop(),t.is("documentFragment")?o._pasteMarkersIntoTransformedElement(t.markers,(e=>this._replaceSelectedCells(s,a,e))):this.editor.model.change((e=>{this._replaceSelectedCells(s,a,e)}))):f6(s,i)}_replaceSelectedCells(e,t,n){const r=this.editor.plugins.get(L6),i={width:r.getColumns(e),height:r.getRows(e)},o=function(e,t,n,r){const i=e[0].findAncestor("table"),o=r.getColumnIndexes(e),s=r.getRowIndexes(e),a={firstColumn:o.first,lastColumn:o.last,firstRow:s.first,lastRow:s.last},l=1===e.length;l&&(a.lastRow+=t.height-1,a.lastColumn+=t.width-1,function(e,t,n,r){const i=r.getColumns(e),o=r.getRows(e);n>i&&r.insertColumns(e,{at:i,columns:n-i});t>o&&r.insertRows(e,{at:o,rows:t-o})}(i,a.lastRow+1,a.lastColumn+1,r));l||!r.isSelectionRectangular(e)?function(e,t,n){const{firstRow:r,lastRow:i,firstColumn:o,lastColumn:s}=t,a={first:r,last:i},l={first:o,last:s};d7(e,o,a,n),d7(e,s+1,a,n),u7(e,r,l,n),u7(e,i+1,l,n,r)}(i,a,n):(a.lastRow=p6(i,a),a.lastColumn=m6(i,a));return a}(t,i,n,r),s=o.lastRow-o.firstRow+1,a=o.lastColumn-o.firstColumn+1;e=o6(e,{startRow:0,startColumn:0,endRow:Math.min(s,i.height)-1,endColumn:Math.min(a,i.width)-1},n);const l=t[0].findAncestor("table"),c=this._replaceSelectedCellsWithPasted(e,i,l,o,n);if(this.editor.plugins.get("TableSelection").isEnabled){const e=r.sortRanges(c.map((e=>n.createRangeOn(e))));n.setSelection(e)}else n.setSelection(c[0],0);return l}_replaceSelectedCellsWithPasted(e,t,n,r,i){const{width:o,height:s}=t,a=function(e,t,n){const r=new Array(n).fill(null).map((()=>new Array(t).fill(null)));for(const{column:i,row:o,cell:s}of new X3(e))r[o][i]=s;return r}(e,o,s),l=[...new X3(n,{startRow:r.firstRow,endRow:r.lastRow,startColumn:r.firstColumn,endColumn:r.lastColumn,includeAllSlots:!0})],c=[];let u;for(const m of l){const{row:e,column:t}=m;t===r.firstColumn&&(u=m.getPositionBefore());const n=e-r.firstRow,l=t-r.firstColumn,d=a[n%s][l%o],h=d?i.cloneElement(d):null,f=this._replaceTableSlotCell(m,h,u,i);f&&(u6(f,e,t,r.lastRow,r.lastColumn,i),c.push(f),u=i.createPositionAfter(f))}const d=parseInt(n.getAttribute("headingRows")||"0"),h=parseInt(n.getAttribute("headingColumns")||"0"),f=r.firstRow<d&&d<=r.lastRow,p=r.firstColumn<h&&h<=r.lastColumn;if(f){const e=u7(n,d,{first:r.firstColumn,last:r.lastColumn},i,r.firstRow);c.push(...e)}if(p){const e=d7(n,h,{first:r.firstRow,last:r.lastRow},i);c.push(...e)}return c}_replaceTableSlotCell(e,t,n,r){const{cell:i,isAnchor:o}=e;return o&&r.remove(i),t?(r.insert(t,n),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(1==e.childCount&&e.getChild(0).is("element","table"))return e.getChild(0);const n=t.createRangeIn(e);for(const r of n.getItems())if(r.is("element","table")){const e=t.createRange(n.start,t.createPositionBefore(r));if(t.hasContent(e,{ignoreWhitespaces:!0}))return null;const i=t.createRange(t.createPositionAfter(r),n.end);return t.hasContent(i,{ignoreWhitespaces:!0})?null:r}return null}}function u7(e,t,n,r){if(t<1)return;return s6(e,t,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0).filter((e=>{let{column:t,cellWidth:r}=e;return h7(t,r,n)})).map((e=>{let{cell:n}=e;return a6(n,t,r)}))}function d7(e,t,n,r){if(t<1)return;return l6(e,t).filter((e=>{let{row:t,cellHeight:r}=e;return h7(t,r,n)})).map((e=>{let{cell:n,column:i}=e;return c6(n,i,t,r)}))}function h7(e,t,n){const r=e+t-1,{first:i,last:o}=n;return e>=i&&e<=o||e<i&&r>=i}class f7 extends $W{static get pluginName(){return"TableKeyboard"}static get requires(){return[l7,L6]}init(){var e=this;const t=this.editor,n=t.editing.view.document,r=t.t;this.listenTo(n,"arrowKey",(function(){return e._onArrowKey(...arguments)}),{context:"table"}),this.listenTo(n,"tab",(function(){return e._handleTabOnSelectedTable(...arguments)}),{context:"figure"}),this.listenTo(n,"tab",(function(){return e._handleTab(...arguments)}),{context:["th","td"]}),t.accessibility.addKeystrokeInfoGroup({id:"table",label:r("Keystrokes that can be used in a table cell"),keystrokes:[{label:r("Move the selection to the next cell"),keystroke:"Tab"},{label:r("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:r("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:r("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,t){const n=this.editor,r=n.model.document.selection.getSelectedElement();r&&r.is("element","table")&&(t.preventDefault(),t.stopPropagation(),e.stop(),n.model.change((e=>{e.setSelection(e.createRangeIn(r.getChild(0).getChild(0)))})))}_handleTab(e,t){const n=this.editor,r=this.editor.plugins.get(L6),i=this.editor.plugins.get("TableSelection"),o=n.model.document.selection,s=!t.shiftKey;let a=r.getTableCellsContainingSelection(o)[0];if(a||(a=i.getFocusCell()),!a)return;t.preventDefault(),t.stopPropagation(),e.stop();const l=a.parent,c=l.parent,u=c.getChildIndex(l),d=l.getChildIndex(a),h=0===d;if(!s&&h&&0===u)return void n.model.change((e=>{e.setSelection(e.createRangeOn(c))}));const f=d===l.childCount-1,p=u===r.getRows(c)-1;if(s&&p&&f&&(n.execute("insertTableRowBelow"),u===r.getRows(c)-1))return void n.model.change((e=>{e.setSelection(e.createRangeOn(c))}));let m;if(s&&f){const e=c.getChild(u+1);m=e.getChild(0)}else if(!s&&h){const e=c.getChild(u-1);m=e.getChild(e.childCount-1)}else m=l.getChild(d+(s?1:-1));n.model.change((e=>{e.setSelection(e.createRangeIn(m))}))}_onArrowKey(e,t){const n=this.editor,r=CR(t.keyCode,n.locale.contentLanguageDirection);this._handleArrowKeys(r,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const n=this.editor.plugins.get(L6),r=this.editor.plugins.get("TableSelection"),i=this.editor.model,o=i.document.selection,s=["right","down"].includes(e),a=n.getSelectedTableCells(o);if(a.length){let n;return n=t?r.getFocusCell():s?a[a.length-1]:a[0],this._navigateFromCellInDirection(n,e,t),!0}const l=o.focus.findAncestor("tableCell");if(!l)return!1;if(!o.isCollapsed)if(t){if(o.isBackward==s&&!o.containsEntireContent(l))return!1}else{const e=o.getSelectedElement();if(!e||!i.schema.isObject(e))return!1}return!!this._isSelectionAtCellEdge(o,l,s)&&(this._navigateFromCellInDirection(l,e,t),!0)}_isSelectionAtCellEdge(e,t,n){const r=this.editor.model,i=this.editor.model.schema,o=n?e.getLastPosition():e.getFirstPosition();if(!i.getLimitElement(o).is("element","tableCell")){return r.createPositionAt(t,n?"end":0).isTouching(o)}const s=r.createSelection(o);return r.modifySelection(s,{direction:n?"forward":"backward"}),o.isEqual(s.focus)}_navigateFromCellInDirection(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this.editor.model,i=e.findAncestor("table"),o=[...new X3(i,{includeAllSlots:!0})],{row:s,column:a}=o[o.length-1],l=o.find((t=>{let{cell:n}=t;return n==e}));let{row:c,column:u}=l;switch(t){case"left":u--;break;case"up":c--;break;case"right":u+=l.cellWidth;break;case"down":c+=l.cellHeight}if(c<0||c>s||u<0&&c<=0||u>a&&c>=s)return void r.change((e=>{e.setSelection(e.createRangeOn(i))}));u<0?(u=n?0:a,c--):u>a&&(u=n?a:0,c++);const d=o.find((e=>e.row==c&&e.column==u)).cell,h=["right","down"].includes(t),f=this.editor.plugins.get("TableSelection");if(n&&f.isEnabled){const t=f.getAnchorCell()||e;f.setCellSelection(t,d)}else{const e=r.createPositionAt(d,h?0:"end");r.change((t=>{t.setSelection(e)}))}}}class p7 extends EB{domEventType=["mousemove","mouseleave"];onDomEvent(e){this.fire(e.type,e)}}class m7 extends $W{static get pluginName(){return"TableMouse"}static get requires(){return[l7,L6]}init(){this.editor.editing.view.addObserver(p7),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(L6);let n=!1;const r=e.plugins.get(l7);this.listenTo(e.editing.view.document,"mousedown",((i,o)=>{const s=e.model.document.selection;if(!this.isEnabled||!r.isEnabled)return;if(!o.domEvent.shiftKey)return;const a=r.getAnchorCell()||t.getTableCellsContainingSelection(s)[0];if(!a)return;const l=this._getModelTableCellFromDomEvent(o);l&&g7(a,l)&&(n=!0,r.setCellSelection(a,l),o.preventDefault())})),this.listenTo(e.editing.view.document,"mouseup",(()=>{n=!1})),this.listenTo(e.editing.view.document,"selectionChange",(e=>{n&&e.stop()}),{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,n,r=!1,i=!1;const o=e.plugins.get(l7);this.listenTo(e.editing.view.document,"mousedown",((e,n)=>{this.isEnabled&&o.isEnabled&&(n.domEvent.shiftKey||n.domEvent.ctrlKey||n.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(n)))})),this.listenTo(e.editing.view.document,"mousemove",((e,s)=>{if(!s.domEvent.buttons)return;if(!t)return;const a=this._getModelTableCellFromDomEvent(s);a&&g7(t,a)&&(n=a,r||n==t||(r=!0)),r&&(i=!0,o.setCellSelection(t,n),s.preventDefault())})),this.listenTo(e.editing.view.document,"mouseup",(()=>{r=!1,i=!1,t=null,n=null})),this.listenTo(e.editing.view.document,"selectionChange",(e=>{i&&e.stop()}),{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,n=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function g7(e,t){return e.parent.parent==t.parent.parent}class v7 extends $W{static get requires(){return[r7,s7,l7,m7,f7,c7,YX]}static get pluginName(){return"Table"}}function b7(e){const t=y7(e);return t||w7(e)}function y7(e){const t=e.getSelectedElement();return t&&x7(t)?t:null}function w7(e){const t=e.getFirstPosition();if(!t)return null;let n=t.parent;for(;n;){if(n.is("element")&&x7(n))return n;n=n.parent}return null}function x7(e){return!!e.getCustomProperty("table")&&TX(e)}class _7 extends $W{static get requires(){return[qX]}static get pluginName(){return"TableToolbar"}afterInit(){const e=this.editor,t=e.t,n=e.plugins.get(qX),r=e.config.get("table.contentToolbar"),i=e.config.get("table.tableToolbar");r&&n.register("tableContent",{ariaLabel:t("Table toolbar"),items:r,getRelatedElement:w7}),i&&n.register("table",{ariaLabel:t("Table toolbar"),items:i,getRelatedElement:y7})}}class C7 extends xU{options;focusTracker;focusCycler;_focusables;dropdownView;inputView;keystrokes;_stillTyping;constructor(e,t){super(e),this.set("value",""),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.options=t,this.focusTracker=new DR,this._focusables=new JH,this.dropdownView=this._createDropdownView(),this.inputView=this._createInputTextView(),this.keystrokes=new jR,this._stillTyping=!1,this.focusCycler=new PU({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color"]},children:[this.dropdownView,this.inputView]}),this.on("change:value",((e,t,n)=>this._setInputValue(n)))}render(){super.render(),[this.inputView,this.dropdownView.buttonView].forEach((e=>{this.focusTracker.add(e.element),this._focusables.add(e)})),this.keystrokes.listenTo(this.element)}focus(e){-1===e?this.focusCycler.focusLast():this.focusCycler.focusFirst()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createDropdownView(){const e=this.locale,t=e.t,n=this.bindTemplate,r=this._createColorSelector(e),i=V$(e),o=new xU;return o.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:n.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",n.if("value","ck-hidden",(e=>""!=e))]}}]}),i.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),i.buttonView.children.add(o),i.buttonView.label=t("Color picker"),i.buttonView.tooltip=!0,i.panelPosition="rtl"===e.uiLanguageDirection?"se":"sw",i.panelView.children.add(r),i.bind("isEnabled").to(this,"isReadOnly",(e=>!e)),i.on("change:isOpen",((e,t,n)=>{n&&(r.updateSelectedColors(),r.showColorGridsFragment())})),i}_createInputTextView(){const e=this.locale,t=new y$(e);return t.extendTemplate({on:{blur:t.bindTemplate.to("blur")}}),t.value=this.value,t.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(t),t.on("input",(()=>{const e=t.element.value,n=this.options.colorDefinitions.find((t=>e===t.label));this._stillTyping=!0,this.value=n&&n.color||e})),t.on("blur",(()=>{this._stillTyping=!1,this._setInputValue(t.element.value)})),t.delegate("input").to(this),t}_createColorSelector(e){const t=e.t,n=this.options.defaultColorValue||"",r=t(n?"Restore default":"Remove color"),i=new sY(e,{colors:this.options.colorDefinitions,columns:this.options.columns,removeButtonLabel:r,colorPickerLabel:t("Color picker"),colorPickerViewConfig:!1!==this.options.colorPickerConfig&&{...this.options.colorPickerConfig,hideInput:!0}});i.appendUI(),i.on("execute",((e,t)=>{"colorPickerSaveButton"!==t.source?(this.value=t.value||n,this.fire("input"),"colorPicker"!==t.source&&(this.dropdownView.isOpen=!1)):this.dropdownView.isOpen=!1}));let o=this.value;return i.on("colorPicker:cancel",(()=>{this.value=o,this.fire("input"),this.dropdownView.isOpen=!1})),i.colorGridsFragmentView.colorPickerButtonView.on("execute",(()=>{o=this.value})),i.bind("selectedColor").to(this,"value"),i}_setInputValue(e){if(!this._stillTyping){const t=k7(e),n=this.options.colorDefinitions.find((e=>t===k7(e.color)));this.inputView.value=n?n.label:e||""}}}function k7(e){return e.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}const S7=e=>""===e;function A7(e){return{none:e("None"),solid:e("Solid"),dotted:e("Dotted"),dashed:e("Dashed"),double:e("Double"),groove:e("Groove"),ridge:e("Ridge"),inset:e("Inset"),outset:e("Outset")}}function T7(e){return e('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function I7(e){return e('The value is invalid. Try "10px" or "2em" or simply "2".')}function M7(e){return e=e.trim().toLowerCase(),S7(e)||tW(e)}function E7(e){return e=e.trim(),S7(e)||L7(e)||oW(e)||aW(e)}function P7(e){return e=e.trim(),S7(e)||L7(e)||oW(e)}function D7(e,t){const n=new ER,r=A7(e.t);for(const i in r){const o={type:"button",model:new YY({_borderStyleValue:i,label:r[i],role:"menuitemradio",withText:!0})};"none"===i?o.model.bind("isOn").to(e,"borderStyle",(e=>"none"===t?!e:e===i)):o.model.bind("isOn").to(e,"borderStyle",(e=>e===i)),n.add(o)}return n}function j7(e){const{view:t,icons:n,toolbar:r,labels:i,propertyName:o,nameToValue:s,defaultValue:a}=e;for(const l in i){const e=new IU(t.locale);e.set({label:i[l],icon:n[l],tooltip:i[l]});const c=s?s(l):l;e.bind("isOn").to(t,o,(e=>{let t=e;return""===e&&a&&(t=a),c===t})),e.on("execute",(()=>{t[o]=c})),r.items.add(e)}}const O7=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function R7(e){return(t,n,r)=>{const i=new C7(t.locale,{colorDefinitions:(o=e.colorConfig,o.map((e=>({color:e.model,label:e.label,options:{hasBorder:e.hasBorder}})))),columns:e.columns,defaultColorValue:e.defaultColorValue,colorPickerConfig:e.colorPickerConfig});var o;return i.inputView.set({id:n,ariaDescribedById:r}),i.bind("isReadOnly").to(t,"isEnabled",(e=>!e)),i.bind("hasError").to(t,"errorText",(e=>!!e)),i.on("input",(()=>{t.errorText=null})),t.bind("isEmpty","isFocused").to(i),i}}function L7(e){const t=parseFloat(e);return!Number.isNaN(t)&&e===String(t)}class N7 extends xU{children;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e);const n=this.bindTemplate;this.set("class",t.class||null),this.children=this.createCollection(),t.children&&t.children.forEach((e=>this.children.add(e))),this.set("_role",null),this.set("_ariaLabelledBy",null),t.labelView&&this.set({_role:"group",_ariaLabelledBy:t.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",n.to("class")],role:n.to("_role"),"aria-labelledby":n.to("_ariaLabelledBy")},children:this.children})}}class B7 extends xU{options;focusTracker;keystrokes;children;borderStyleDropdown;borderWidthInput;borderColorInput;backgroundInput;paddingInput;widthInput;heightInput;horizontalAlignmentToolbar;verticalAlignmentToolbar;saveButtonView;cancelButtonView;_focusables;_focusCycler;constructor(e,t){super(e),this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),this.options=t;const{borderStyleDropdown:n,borderWidthInput:r,borderColorInput:i,borderRowLabel:o}=this._createBorderFields(),{backgroundRowLabel:s,backgroundInput:a}=this._createBackgroundFields(),{widthInput:l,operatorLabel:c,heightInput:u,dimensionsLabel:d}=this._createDimensionFields(),{horizontalAlignmentToolbar:h,verticalAlignmentToolbar:f,alignmentLabel:p}=this._createAlignmentFields();this.focusTracker=new DR,this.keystrokes=new jR,this.children=this.createCollection(),this.borderStyleDropdown=n,this.borderWidthInput=r,this.borderColorInput=i,this.backgroundInput=a,this.paddingInput=this._createPaddingField(),this.widthInput=l,this.heightInput=u,this.horizontalAlignmentToolbar=h,this.verticalAlignmentToolbar=f;const{saveButtonView:m,cancelButtonView:g}=this._createActionButtons();this.saveButtonView=m,this.cancelButtonView=g,this._focusables=new JH,this._focusCycler=new PU({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new EU(e,{label:this.t("Cell properties")})),this.children.add(new N7(e,{labelView:o,children:[o,n,i,r],class:"ck-table-form__border-row"})),this.children.add(new N7(e,{labelView:s,children:[s,a],class:"ck-table-form__background-row"})),this.children.add(new N7(e,{children:[new N7(e,{labelView:d,children:[d,l,c,u],class:"ck-table-form__dimensions-row"}),new N7(e,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new N7(e,{labelView:p,children:[p,h,f],class:"ck-table-cell-properties-form__alignment-row"})),this.children.add(new N7(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),kU({view:this}),[this.borderColorInput,this.backgroundInput].forEach((e=>{this._focusCycler.chain(e.fieldView.focusCycler)})),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach((e=>{this._focusables.add(e),this.focusTracker.add(e.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableCellProperties,t={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},n=R7({colorConfig:this.options.borderColors,columns:5,defaultColorValue:t.color,colorPickerConfig:this.options.colorPickerConfig}),r=this.locale,i=this.t,o=i("Style"),s=new ZU(r);s.text=i("Border");const a=A7(i),l=new g$(r,Z$);l.set({label:o,class:"ck-table-form__border-style"}),l.fieldView.buttonView.set({ariaLabel:o,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:o}),l.fieldView.buttonView.bind("label").to(this,"borderStyle",(e=>a[e||"none"])),l.fieldView.on("execute",(e=>{this.borderStyle=e.source._borderStyleValue})),l.bind("isEmpty").to(this,"borderStyle",(e=>!e)),U$(l.fieldView,D7(this,t.style),{role:"menu",ariaLabel:o});const c=new g$(r,q$);c.set({label:i("Width"),class:"ck-table-form__border-width"}),c.fieldView.bind("value").to(this,"borderWidth"),c.bind("isEnabled").to(this,"borderStyle",F7),c.fieldView.on("input",(()=>{this.borderWidth=c.fieldView.element.value}));const u=new g$(r,n);return u.set({label:i("Color"),class:"ck-table-form__border-color"}),u.fieldView.bind("value").to(this,"borderColor"),u.bind("isEnabled").to(this,"borderStyle",F7),u.fieldView.on("input",(()=>{this.borderColor=u.fieldView.value})),this.on("change:borderStyle",((e,n,r,i)=>{F7(r)||(this.borderColor="",this.borderWidth=""),F7(i)||(this.borderColor=t.color,this.borderWidth=t.width)})),{borderRowLabel:s,borderStyleDropdown:l,borderColorInput:u,borderWidthInput:c}}_createBackgroundFields(){const e=this.locale,t=this.t,n=new ZU(e);n.text=t("Background");const r=R7({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),i=new g$(e,r);return i.set({label:t("Color"),class:"ck-table-cell-properties-form__background"}),i.fieldView.bind("value").to(this,"backgroundColor"),i.fieldView.on("input",(()=>{this.backgroundColor=i.fieldView.value})),{backgroundRowLabel:n,backgroundInput:i}}_createDimensionFields(){const e=this.locale,t=this.t,n=new ZU(e);n.text=t("Dimensions");const r=new g$(e,q$);r.set({label:t("Width"),class:"ck-table-form__dimensions-row__width"}),r.fieldView.bind("value").to(this,"width"),r.fieldView.on("input",(()=>{this.width=r.fieldView.element.value}));const i=new xU(e);i.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xd7"}]});const o=new g$(e,q$);return o.set({label:t("Height"),class:"ck-table-form__dimensions-row__height"}),o.fieldView.bind("value").to(this,"height"),o.fieldView.on("input",(()=>{this.height=o.fieldView.element.value})),{dimensionsLabel:n,widthInput:r,operatorLabel:i,heightInput:o}}_createPaddingField(){const e=this.locale,t=this.t,n=new g$(e,q$);return n.set({label:t("Padding"),class:"ck-table-cell-properties-form__padding"}),n.fieldView.bind("value").to(this,"padding"),n.fieldView.on("input",(()=>{this.padding=n.fieldView.element.value})),n}_createAlignmentFields(){const e=this.locale,t=this.t,n=new ZU(e),r={left:lH.alignLeft,center:lH.alignCenter,right:lH.alignRight,justify:lH.alignJustify,top:lH.alignTop,middle:lH.alignMiddle,bottom:lH.alignBottom};n.text=t("Table cell text alignment");const i=new L$(e),o="rtl"===e.contentLanguageDirection;i.set({isCompact:!0,ariaLabel:t("Horizontal text alignment toolbar")}),j7({view:this,icons:r,toolbar:i,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:e=>{if(o){if("left"===e)return"right";if("right"===e)return"left"}return e},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});const s=new L$(e);return s.set({isCompact:!0,ariaLabel:t("Vertical text alignment toolbar")}),j7({view:this,icons:r,toolbar:s,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:i,verticalAlignmentToolbar:s,alignmentLabel:n}}_createActionButtons(){const e=this.locale,t=this.t,n=new IU(e),r=new IU(e),i=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return n.set({label:t("Save"),icon:lH.check,class:"ck-button-save",type:"submit",withText:!0}),n.bind("isEnabled").toMany(i,"errorText",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((e=>!e))})),r.set({label:t("Cancel"),icon:lH.cancel,class:"ck-button-cancel",withText:!0}),r.delegate("execute").to(this,"cancel"),{saveButtonView:n,cancelButtonView:r}}get _horizontalAlignmentLabels(){const e=this.locale,t=this.t,n=t("Align cell text to the left"),r=t("Align cell text to the center"),i=t("Align cell text to the right"),o=t("Justify cell text");return"rtl"===e.uiLanguageDirection?{right:i,center:r,left:n,justify:o}:{left:n,center:r,right:i,justify:o}}get _verticalAlignmentLabels(){const e=this.t;return{top:e("Align cell text to the top"),middle:e("Align cell text to the middle"),bottom:e("Align cell text to the bottom")}}}function F7(e){return"none"!==e}const z7=(()=>[E$.defaultPositions.northArrowSouth,E$.defaultPositions.northArrowSouthWest,E$.defaultPositions.northArrowSouthEast,E$.defaultPositions.southArrowNorth,E$.defaultPositions.southArrowNorthWest,E$.defaultPositions.southArrowNorthEast,E$.defaultPositions.viewportStickyNorth])();function V7(e,t){const n=e.plugins.get("ContextualBalloon"),r=e.editing.view.document.selection;let i;"cell"===t?w7(r)&&(i=H7(e)):b7(r)&&(i=W7(e)),i&&n.updatePosition(i)}function W7(e){const t=$3(e.model.document.selection),n=e.editing.mapper.toViewElement(t);return{target:e.editing.view.domConverter.mapViewToDom(n),positions:z7}}function H7(e){const t=e.editing.mapper,n=e.editing.view.domConverter,r=e.model.document.selection;if(r.rangeCount>1)return{target:()=>function(e,t){const n=t.editing.mapper,r=t.editing.view.domConverter,i=Array.from(e).map((e=>{const t=U7(e.start),i=n.toViewElement(t);return new HO(r.mapViewToDom(i))}));return HO.getBoundingRect(i)}(r.getRanges(),e),positions:z7};const i=U7(r.getFirstPosition()),o=t.toViewElement(i);return{target:n.mapViewToDom(o),positions:z7}}function U7(e){return e.nodeAfter&&e.nodeAfter.is("element","tableCell")?e.nodeAfter:e.findAncestor("tableCell")}function $7(e){if(!e||!NM(e))return e;const{top:t,right:n,bottom:r,left:i}=e;return t==n&&n==r&&r==i?t:void 0}function Y7(e,t){const n=parseFloat(e);return Number.isNaN(n)||String(n)!==String(e)?e:`${n}${t}`}function G7(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",...e};return t.includeAlignmentProperty&&!n.alignment&&(n.alignment="center"),t.includePaddingProperty&&!n.padding&&(n.padding=""),t.includeVerticalAlignmentProperty&&!n.verticalAlignment&&(n.verticalAlignment="middle"),t.includeHorizontalAlignmentProperty&&!n.horizontalAlignment&&(n.horizontalAlignment=t.isRightToLeftContent?"right":"left"),n}function q7(e,t){return G7({borderStyle:"double",borderColor:"hsl(0, 0%, 70%)",borderWidth:"1px",...e},t)}function X7(e,t){return G7({borderStyle:"solid",borderColor:"hsl(0, 0%, 75%)",borderWidth:"1px",...e},t)}const Z7={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",height:"tableCellHeight",width:"tableCellWidth",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"};class K7 extends $W{_defaultTableCellProperties;_balloon;view;_undoStepBatch;_isReady;static get requires(){return[qY]}static get pluginName(){return"TableCellPropertiesUI"}constructor(e){super(e),e.config.define("table.tableCellProperties",{borderColors:O7,backgroundColors:O7})}init(){const e=this.editor,t=e.t;this._defaultTableCellProperties=X7(e.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:"rtl"===e.locale.contentLanguageDirection}),this._balloon=e.plugins.get(qY),this.view=null,this._isReady=!1,e.ui.componentFactory.add("tableCellProperties",(n=>{const r=new IU(n);r.set({label:t("Cell properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>',tooltip:!0}),this.listenTo(r,"execute",(()=>this._showView()));const i=Object.values(Z7).map((t=>e.commands.get(t)));return r.bind("isEnabled").toMany(i,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((e=>e))})),r}))}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const e=this.editor,t=e.config.get("table.tableCellProperties"),n=u$(t.borderColors),r=c$(e.locale,n),i=u$(t.backgroundColors),o=c$(e.locale,i),s=!1!==t.colorPicker,a=new B7(e.locale,{borderColors:r,backgroundColors:o,defaultTableCellProperties:this._defaultTableCellProperties,colorPickerConfig:!!s&&(t.colorPicker||{})}),l=e.t;a.render(),this.listenTo(a,"submit",(()=>{this._hideView()})),this.listenTo(a,"cancel",(()=>{this._undoStepBatch.operations.length&&e.execute("undo",this._undoStepBatch),this._hideView()})),a.keystrokes.set("Esc",((e,t)=>{this._hideView(),t()})),_U({emitter:a,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const c=T7(l),u=I7(l);return a.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle")),a.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:a.borderColorInput,commandName:"tableCellBorderColor",errorText:c,validator:M7})),a.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:a.borderWidthInput,commandName:"tableCellBorderWidth",errorText:u,validator:P7})),a.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:a.paddingInput,commandName:"tableCellPadding",errorText:u,validator:E7})),a.on("change:width",this._getValidatedPropertyChangeCallback({viewField:a.widthInput,commandName:"tableCellWidth",errorText:u,validator:E7})),a.on("change:height",this._getValidatedPropertyChangeCallback({viewField:a.heightInput,commandName:"tableCellHeight",errorText:u,validator:E7})),a.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:a.backgroundInput,commandName:"tableCellBackgroundColor",errorText:c,validator:M7})),a.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment")),a.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment")),a}_fillViewFormFromCommandValues(){const e=this.editor.commands,t=e.get("tableCellBorderStyle");Object.entries(Z7).map((t=>{let[n,r]=t;const i=this._defaultTableCellProperties[n]||"";return[n,e.get(r).value||i]})).forEach((e=>{let[n,r]=e;("borderColor"!==n&&"borderWidth"!==n||"none"!==t.value)&&this.view.set(n,r)})),this._isReady=!0}_showView(){const e=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(e.ui,"update",(()=>{this._updateView()})),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:H7(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){const e=this.editor;this.stopListening(e.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const e=this.editor;w7(e.editing.view.document.selection)?this._isViewVisible&&V7(e,"cell"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(e){return(t,n,r)=>{this._isReady&&this.editor.execute(e,{value:r,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:t,viewField:n,validator:r,errorText:i}=e,o=IL((()=>{n.errorText=i}),500);return(e,i,s)=>{o.cancel(),this._isReady&&(r(s)?(this.editor.execute(t,{value:s,batch:this._undoStepBatch}),n.errorText=null):o())}}}class Q7 extends GW{attributeName;_defaultValue;constructor(e,t,n){super(e),this.attributeName=t,this._defaultValue=n}refresh(){const e=this.editor,t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e.model.document.selection);this.isEnabled=!!t.length,this.value=this._getSingleValue(t)}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{value:t,batch:n}=e,r=this.editor.model,i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(r.document.selection),o=this._getValueToSet(t);r.enqueueChange(n,(e=>{o?i.forEach((t=>e.setAttribute(this.attributeName,o,t))):i.forEach((t=>e.removeAttribute(this.attributeName,t)))}))}_getAttribute(e){if(!e)return;const t=e.getAttribute(this.attributeName);return t!==this._defaultValue?t:void 0}_getValueToSet(e){if(e!==this._defaultValue)return e}_getSingleValue(e){const t=this._getAttribute(e[0]);return e.every((e=>this._getAttribute(e)===t))?t:void 0}}class J7 extends Q7{constructor(e,t){super(e,"tableCellWidth",t)}_getValueToSet(e){if((e=Y7(e,"px"))!==this._defaultValue)return e}}class e8 extends $W{static get pluginName(){return"TableCellWidthEditing"}static get requires(){return[r7]}init(){const e=this.editor,t=X7(e.config.get("table.tableCellProperties.defaultProperties"));U3(e.model.schema,e.conversion,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:t.width}),e.commands.add("tableCellWidth",new J7(e,t.width))}}class t8 extends Q7{constructor(e,t){super(e,"tableCellPadding",t)}_getAttribute(e){if(!e)return;const t=$7(e.getAttribute(this.attributeName));return t!==this._defaultValue?t:void 0}_getValueToSet(e){const t=Y7(e,"px");if(t!==this._defaultValue)return t}}class n8 extends Q7{constructor(e,t){super(e,"tableCellHeight",t)}_getValueToSet(e){const t=Y7(e,"px");if(t!==this._defaultValue)return t}}class r8 extends Q7{constructor(e,t){super(e,"tableCellBackgroundColor",t)}}class i8 extends Q7{constructor(e,t){super(e,"tableCellVerticalAlignment",t)}}class o8 extends Q7{constructor(e,t){super(e,"tableCellHorizontalAlignment",t)}}class s8 extends Q7{constructor(e,t){super(e,"tableCellBorderStyle",t)}_getAttribute(e){if(!e)return;const t=$7(e.getAttribute(this.attributeName));return t!==this._defaultValue?t:void 0}}class a8 extends Q7{constructor(e,t){super(e,"tableCellBorderColor",t)}_getAttribute(e){if(!e)return;const t=$7(e.getAttribute(this.attributeName));return t!==this._defaultValue?t:void 0}}class l8 extends Q7{constructor(e,t){super(e,"tableCellBorderWidth",t)}_getAttribute(e){if(!e)return;const t=$7(e.getAttribute(this.attributeName));return t!==this._defaultValue?t:void 0}_getValueToSet(e){const t=Y7(e,"px");if(t!==this._defaultValue)return t}}const c8=/^(top|middle|bottom)$/,u8=/^(left|center|right|justify)$/;class d8 extends $W{static get pluginName(){return"TableCellPropertiesEditing"}static get requires(){return[r7,e8]}init(){const e=this.editor,t=e.model.schema,n=e.conversion;e.config.define("table.tableCellProperties.defaultProperties",{});const r=X7(e.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:"rtl"===e.locale.contentLanguageDirection});e.data.addStyleProcessorRules(_W),function(e,t,n){const r={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};e.extend("tableCell",{allowAttributes:Object.values(r)}),N3(t,"td",r,n),N3(t,"th",r,n),B3(t,{modelElement:"tableCell",modelAttribute:r.style,styleName:"border-style"}),B3(t,{modelElement:"tableCell",modelAttribute:r.color,styleName:"border-color"}),B3(t,{modelElement:"tableCell",modelAttribute:r.width,styleName:"border-width"})}(t,n,{color:r.borderColor,style:r.borderStyle,width:r.borderWidth}),e.commands.add("tableCellBorderStyle",new s8(e,r.borderStyle)),e.commands.add("tableCellBorderColor",new a8(e,r.borderColor)),e.commands.add("tableCellBorderWidth",new l8(e,r.borderWidth)),U3(t,n,{modelAttribute:"tableCellHeight",styleName:"height",defaultValue:r.height}),e.commands.add("tableCellHeight",new n8(e,r.height)),e.data.addStyleProcessorRules(jW),U3(t,n,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:r.padding}),e.commands.add("tableCellPadding",new t8(e,r.padding)),e.data.addStyleProcessorRules(xW),U3(t,n,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",defaultValue:r.backgroundColor}),e.commands.add("tableCellBackgroundColor",new r8(e,r.backgroundColor)),function(e,t,n){e.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),t.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:e=>({key:"style",value:{"text-align":e}})}),t.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":u8}},model:{key:"tableCellHorizontalAlignment",value:e=>{const t=e.getStyle("text-align");return t===n?null:t}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:u8}},model:{key:"tableCellHorizontalAlignment",value:e=>{const t=e.getAttribute("align");return t===n?null:t}}})}(t,n,r.horizontalAlignment),e.commands.add("tableCellHorizontalAlignment",new o8(e,r.horizontalAlignment)),function(e,t,n){e.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),t.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:e=>({key:"style",value:{"vertical-align":e}})}),t.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":c8}},model:{key:"tableCellVerticalAlignment",value:e=>{const t=e.getStyle("vertical-align");return t===n?null:t}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:c8}},model:{key:"tableCellVerticalAlignment",value:e=>{const t=e.getAttribute("valign");return t===n?null:t}}})}(t,n,r.verticalAlignment),e.commands.add("tableCellVerticalAlignment",new i8(e,r.verticalAlignment))}}class h8 extends $W{static get pluginName(){return"TableCellProperties"}static get requires(){return[d8,K7]}}class f8 extends GW{attributeName;_defaultValue;constructor(e,t,n){super(e),this.attributeName=t,this._defaultValue=n}refresh(){const e=$3(this.editor.model.document.selection);this.isEnabled=!!e,this.value=this._getValue(e)}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document.selection,{value:r,batch:i}=e,o=$3(n),s=this._getValueToSet(r);t.enqueueChange(i,(e=>{s?e.setAttribute(this.attributeName,s,o):e.removeAttribute(this.attributeName,o)}))}_getValue(e){if(!e)return;const t=e.getAttribute(this.attributeName);return t!==this._defaultValue?t:void 0}_getValueToSet(e){if(e!==this._defaultValue)return e}}class p8 extends f8{constructor(e,t){super(e,"tableBackgroundColor",t)}}class m8 extends f8{constructor(e,t){super(e,"tableBorderColor",t)}_getValue(e){if(!e)return;const t=$7(e.getAttribute(this.attributeName));return t!==this._defaultValue?t:void 0}}class g8 extends f8{constructor(e,t){super(e,"tableBorderStyle",t)}_getValue(e){if(!e)return;const t=$7(e.getAttribute(this.attributeName));return t!==this._defaultValue?t:void 0}}class v8 extends f8{constructor(e,t){super(e,"tableBorderWidth",t)}_getValue(e){if(!e)return;const t=$7(e.getAttribute(this.attributeName));return t!==this._defaultValue?t:void 0}_getValueToSet(e){const t=Y7(e,"px");if(t!==this._defaultValue)return t}}class b8 extends f8{constructor(e,t){super(e,"tableWidth",t)}_getValueToSet(e){if((e=Y7(e,"px"))!==this._defaultValue)return e}}class y8 extends f8{constructor(e,t){super(e,"tableHeight",t)}_getValueToSet(e){if((e=Y7(e,"px"))!==this._defaultValue)return e}}class w8 extends f8{constructor(e,t){super(e,"tableAlignment",t)}}const x8=/^(left|center|right)$/,_8=/^(left|none|right)$/;class C8 extends $W{static get pluginName(){return"TablePropertiesEditing"}static get requires(){return[r7]}init(){const e=this.editor,t=e.model.schema,n=e.conversion;e.config.define("table.tableProperties.defaultProperties",{});const r=q7(e.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0});e.data.addStyleProcessorRules(_W),function(e,t,n){const r={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};e.extend("table",{allowAttributes:Object.values(r)}),N3(t,"table",r,n),F3(t,{modelAttribute:r.color,styleName:"border-color"}),F3(t,{modelAttribute:r.style,styleName:"border-style"}),F3(t,{modelAttribute:r.width,styleName:"border-width"})}(t,n,{color:r.borderColor,style:r.borderStyle,width:r.borderWidth}),e.commands.add("tableBorderColor",new m8(e,r.borderColor)),e.commands.add("tableBorderStyle",new g8(e,r.borderStyle)),e.commands.add("tableBorderWidth",new v8(e,r.borderWidth)),function(e,t,n){e.extend("table",{allowAttributes:["tableAlignment"]}),t.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment"},view:e=>({key:"style",value:{float:"center"===e?"none":e}}),converterPriority:"high"}),t.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:_8}},model:{key:"tableAlignment",value:e=>{let t=e.getStyle("float");return"none"===t&&(t="center"),t===n?null:t}}}).attributeToAttribute({view:{attributes:{align:x8}},model:{name:"table",key:"tableAlignment",value:e=>{const t=e.getAttribute("align");return t===n?null:t}}})}(t,n,r.alignment),e.commands.add("tableAlignment",new w8(e,r.alignment)),k8(t,n,{modelAttribute:"tableWidth",styleName:"width",defaultValue:r.width}),e.commands.add("tableWidth",new b8(e,r.width)),k8(t,n,{modelAttribute:"tableHeight",styleName:"height",defaultValue:r.height}),e.commands.add("tableHeight",new y8(e,r.height)),e.data.addStyleProcessorRules(xW),function(e,t,n){const{modelAttribute:r}=n;e.extend("table",{allowAttributes:[r]}),L3(t,{viewElement:"table",...n}),F3(t,n)}(t,n,{modelAttribute:"tableBackgroundColor",styleName:"background-color",defaultValue:r.backgroundColor}),e.commands.add("tableBackgroundColor",new p8(e,r.backgroundColor))}}function k8(e,t,n){const{modelAttribute:r}=n;e.extend("table",{allowAttributes:[r]}),L3(t,{viewElement:/^(table|figure)$/,shouldUpcast:e=>!("table"==e.name&&"figure"==e.parent.name),...n}),B3(t,{modelElement:"table",...n})}class S8 extends xU{options;focusTracker;keystrokes;children;borderStyleDropdown;borderWidthInput;borderColorInput;backgroundInput;widthInput;heightInput;alignmentToolbar;saveButtonView;cancelButtonView;_focusables;_focusCycler;constructor(e,t){super(e),this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=t;const{borderStyleDropdown:n,borderWidthInput:r,borderColorInput:i,borderRowLabel:o}=this._createBorderFields(),{backgroundRowLabel:s,backgroundInput:a}=this._createBackgroundFields(),{widthInput:l,operatorLabel:c,heightInput:u,dimensionsLabel:d}=this._createDimensionFields(),{alignmentToolbar:h,alignmentLabel:f}=this._createAlignmentFields();this.focusTracker=new DR,this.keystrokes=new jR,this.children=this.createCollection(),this.borderStyleDropdown=n,this.borderWidthInput=r,this.borderColorInput=i,this.backgroundInput=a,this.widthInput=l,this.heightInput=u,this.alignmentToolbar=h;const{saveButtonView:p,cancelButtonView:m}=this._createActionButtons();this.saveButtonView=p,this.cancelButtonView=m,this._focusables=new JH,this._focusCycler=new PU({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new EU(e,{label:this.t("Table properties")})),this.children.add(new N7(e,{labelView:o,children:[o,n,i,r],class:"ck-table-form__border-row"})),this.children.add(new N7(e,{labelView:s,children:[s,a],class:"ck-table-form__background-row"})),this.children.add(new N7(e,{children:[new N7(e,{labelView:d,children:[d,l,c,u],class:"ck-table-form__dimensions-row"}),new N7(e,{labelView:f,children:[f,h],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new N7(e,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),kU({view:this}),[this.borderColorInput,this.backgroundInput].forEach((e=>{this._focusCycler.chain(e.fieldView.focusCycler)})),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach((e=>{this._focusables.add(e),this.focusTracker.add(e.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const e=this.options.defaultTableProperties,t={style:e.borderStyle,width:e.borderWidth,color:e.borderColor},n=R7({colorConfig:this.options.borderColors,columns:5,defaultColorValue:t.color,colorPickerConfig:this.options.colorPickerConfig}),r=this.locale,i=this.t,o=i("Style"),s=new ZU(r);s.text=i("Border");const a=A7(i),l=new g$(r,Z$);l.set({label:o,class:"ck-table-form__border-style"}),l.fieldView.buttonView.set({ariaLabel:o,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:o}),l.fieldView.buttonView.bind("label").to(this,"borderStyle",(e=>a[e||"none"])),l.fieldView.on("execute",(e=>{this.borderStyle=e.source._borderStyleValue})),l.bind("isEmpty").to(this,"borderStyle",(e=>!e)),U$(l.fieldView,D7(this,t.style),{role:"menu",ariaLabel:o});const c=new g$(r,q$);c.set({label:i("Width"),class:"ck-table-form__border-width"}),c.fieldView.bind("value").to(this,"borderWidth"),c.bind("isEnabled").to(this,"borderStyle",A8),c.fieldView.on("input",(()=>{this.borderWidth=c.fieldView.element.value}));const u=new g$(r,n);return u.set({label:i("Color"),class:"ck-table-form__border-color"}),u.fieldView.bind("value").to(this,"borderColor"),u.bind("isEnabled").to(this,"borderStyle",A8),u.fieldView.on("input",(()=>{this.borderColor=u.fieldView.value})),this.on("change:borderStyle",((e,n,r,i)=>{A8(r)||(this.borderColor="",this.borderWidth=""),A8(i)||(this.borderColor=t.color,this.borderWidth=t.width)})),{borderRowLabel:s,borderStyleDropdown:l,borderColorInput:u,borderWidthInput:c}}_createBackgroundFields(){const e=this.locale,t=this.t,n=new ZU(e);n.text=t("Background");const r=R7({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),i=new g$(e,r);return i.set({label:t("Color"),class:"ck-table-properties-form__background"}),i.fieldView.bind("value").to(this,"backgroundColor"),i.fieldView.on("input",(()=>{this.backgroundColor=i.fieldView.value})),{backgroundRowLabel:n,backgroundInput:i}}_createDimensionFields(){const e=this.locale,t=this.t,n=new ZU(e);n.text=t("Dimensions");const r=new g$(e,q$);r.set({label:t("Width"),class:"ck-table-form__dimensions-row__width"}),r.fieldView.bind("value").to(this,"width"),r.fieldView.on("input",(()=>{this.width=r.fieldView.element.value}));const i=new xU(e);i.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xd7"}]});const o=new g$(e,q$);return o.set({label:t("Height"),class:"ck-table-form__dimensions-row__height"}),o.fieldView.bind("value").to(this,"height"),o.fieldView.on("input",(()=>{this.height=o.fieldView.element.value})),{dimensionsLabel:n,widthInput:r,operatorLabel:i,heightInput:o}}_createAlignmentFields(){const e=this.locale,t=this.t,n=new ZU(e);n.text=t("Alignment");const r=new L$(e);return r.set({isCompact:!0,ariaLabel:t("Table alignment toolbar")}),j7({view:this,icons:{left:lH.objectLeft,center:lH.objectCenter,right:lH.objectRight},toolbar:r,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:n,alignmentToolbar:r}}_createActionButtons(){const e=this.locale,t=this.t,n=new IU(e),r=new IU(e),i=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return n.set({label:t("Save"),icon:lH.check,class:"ck-button-save",type:"submit",withText:!0}),n.bind("isEnabled").toMany(i,"errorText",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((e=>!e))})),r.set({label:t("Cancel"),icon:lH.cancel,class:"ck-button-cancel",withText:!0}),r.delegate("execute").to(this,"cancel"),{saveButtonView:n,cancelButtonView:r}}get _alignmentLabels(){const e=this.locale,t=this.t,n=t("Align table to the left"),r=t("Center table"),i=t("Align table to the right");return"rtl"===e.uiLanguageDirection?{right:i,center:r,left:n}:{left:n,center:r,right:i}}}function A8(e){return"none"!==e}const T8={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class I8 extends $W{_defaultTableProperties;_balloon;view=null;_undoStepBatch;_isReady;static get requires(){return[qY]}static get pluginName(){return"TablePropertiesUI"}constructor(e){super(e),e.config.define("table.tableProperties",{borderColors:O7,backgroundColors:O7})}init(){const e=this.editor,t=e.t;this._defaultTableProperties=q7(e.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._balloon=e.plugins.get(qY),e.ui.componentFactory.add("tableProperties",(n=>{const r=new IU(n);r.set({label:t("Table properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>',tooltip:!0}),this.listenTo(r,"execute",(()=>this._showView()));const i=Object.values(T8).map((t=>e.commands.get(t)));return r.bind("isEnabled").toMany(i,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((e=>e))})),r}))}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const e=this.editor,t=e.config.get("table.tableProperties"),n=u$(t.borderColors),r=c$(e.locale,n),i=u$(t.backgroundColors),o=c$(e.locale,i),s=!1!==t.colorPicker,a=new S8(e.locale,{borderColors:r,backgroundColors:o,defaultTableProperties:this._defaultTableProperties,colorPickerConfig:!!s&&(t.colorPicker||{})}),l=e.t;a.render(),this.listenTo(a,"submit",(()=>{this._hideView()})),this.listenTo(a,"cancel",(()=>{this._undoStepBatch.operations.length&&e.execute("undo",this._undoStepBatch),this._hideView()})),a.keystrokes.set("Esc",((e,t)=>{this._hideView(),t()})),_U({emitter:a,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const c=T7(l),u=I7(l);return a.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")),a.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:a.borderColorInput,commandName:"tableBorderColor",errorText:c,validator:M7})),a.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:a.borderWidthInput,commandName:"tableBorderWidth",errorText:u,validator:P7})),a.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:a.backgroundInput,commandName:"tableBackgroundColor",errorText:c,validator:M7})),a.on("change:width",this._getValidatedPropertyChangeCallback({viewField:a.widthInput,commandName:"tableWidth",errorText:u,validator:E7})),a.on("change:height",this._getValidatedPropertyChangeCallback({viewField:a.heightInput,commandName:"tableHeight",errorText:u,validator:E7})),a.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")),a}_fillViewFormFromCommandValues(){const e=this.editor.commands,t=e.get("tableBorderStyle");Object.entries(T8).map((t=>{let[n,r]=t;const i=n,o=this._defaultTableProperties[i]||"";return[i,e.get(r).value||o]})).forEach((e=>{let[n,r]=e;("borderColor"!==n&&"borderWidth"!==n||"none"!==t.value)&&this.view.set(n,r)})),this._isReady=!0}_showView(){const e=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(e.ui,"update",(()=>{this._updateView()})),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:W7(e)}),this._undoStepBatch=e.model.createBatch(),this.view.focus()}_hideView(){const e=this.editor;this.stopListening(e.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const e=this.editor;b7(e.editing.view.document.selection)?this._isViewVisible&&V7(e,"table"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(e){return(t,n,r)=>{this._isReady&&this.editor.execute(e,{value:r,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(e){const{commandName:t,viewField:n,validator:r,errorText:i}=e,o=IL((()=>{n.errorText=i}),500);return(e,i,s)=>{o.cancel(),this._isReady&&(r(s)?(this.editor.execute(t,{value:s,batch:this._undoStepBatch}),n.errorText=null):o())}}}class M8 extends $W{static get pluginName(){return"TableProperties"}static get requires(){return[C8,I8]}}function E8(e){e.document.registerPostFixer((t=>function(e,t){const n=t.document.differ.getChanges();let r=!1;for(const i of n){if("insert"!=i.type)continue;const t=i.position.parent;if(t.is("element","table")||"table"==i.name){const n="table"==i.name?i.position.nodeAfter:t,o=Array.from(n.getChildren()).filter((e=>e.is("element","caption"))),s=o.shift();if(!s)continue;for(const t of o)e.move(e.createRangeIn(t),s,"end"),e.remove(t);s.nextSibling&&(e.move(e.createRangeOn(s),n,"end"),r=!0),r=!!o.length||r}}return r}(t,e)))}function P8(e){return!!e&&e.is("element","table")}function D8(e){for(const t of e.getChildren())if(t.is("element","caption"))return t;return null}function j8(e){const t=e.parent;return"figcaption"==e.name&&t&&t.is("element","figure")&&t.hasClass("table")||"caption"==e.name&&t&&t.is("element","table")?{name:!0}:null}class O8 extends GW{refresh(){const e=$3(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?this.value=!!D8(e):this.value=!1}execute(){let{focusCaptionOnShow:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.editor.model.change((t=>{this.value?this._hideTableCaption(t):this._showTableCaption(t,e)}))}_showTableCaption(e,t){const n=this.editor.model,r=$3(n.document.selection),i=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(r)||e.createElement("caption");n.insertContent(i,r,"end"),t&&e.setSelection(i,"in")}_hideTableCaption(e){const t=this.editor.model,n=$3(t.document.selection),r=this.editor.plugins.get("TableCaptionEditing"),i=D8(n);r._saveCaption(n,i),t.deleteContent(e.createSelection(i,"on"))}}class R8 extends $W{_savedCaptionsMap;static get pluginName(){return"TableCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema,n=e.editing.view,r=e.t;t.isRegistered("caption")?t.extend("caption",{allowIn:"table"}):t.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleTableCaption",new O8(this.editor)),e.conversion.for("upcast").elementToElement({view:j8,model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(e,t)=>{let{writer:n}=t;return P8(e.parent)?n.createContainerElement("figcaption"):null}}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(e,t)=>{let{writer:i}=t;if(!P8(e.parent))return null;const o=i.createEditableElement("figcaption");return i.setCustomProperty("tableCaption",!0,o),o.placeholder=r("Enter table caption"),eN({view:n,element:o,keepOnFocus:!0}),DX(o,i)}}),E8(e.model)}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?XB.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}}class L8 extends $W{static get pluginName(){return"TableCaptionUI"}init(){const e=this.editor,t=e.editing.view,n=e.t;e.ui.componentFactory.add("toggleTableCaption",(r=>{const i=e.commands.get("toggleTableCaption"),o=new IU(r);return o.set({icon:lH.caption,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),o.bind("label").to(i,"value",(e=>n(e?"Toggle caption off":"Toggle caption on"))),this.listenTo(o,"execute",(()=>{if(e.execute("toggleTableCaption",{focusCaptionOnShow:!0}),i.value){const n=function(e){const t=$3(e);return t?D8(t):null}(e.model.document.selection),r=e.editing.mapper.toViewElement(n);if(!r)return;t.scrollToTheSelection(),t.change((e=>{e.addClass("table__caption_highlighted",r)}))}e.editing.view.focus()})),o}))}}class N8 extends $W{static get pluginName(){return"TableCaption"}static get requires(){return[R8,L8]}}class B8 extends GW{refresh(){this.isEnabled=!0}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{model:t,plugins:n}=this.editor;let{table:r=t.document.selection.getSelectedElement(),columnWidths:i,tableWidth:o}=e;i&&(i=Array.isArray(i)?i:i.split(",")),t.change((e=>{o?e.setAttribute("tableWidth",o,r):e.removeAttribute("tableWidth",r);const t=n.get("TableColumnResizeEditing").getColumnGroupElement(r);if(!i&&!t)return;if(!i)return e.remove(t);const s=P6(i);if(t)Array.from(t.getChildren()).forEach(((t,n)=>e.setAttribute("columnWidth",s[n],t)));else{const t=e.createElement("tableColumnGroup");s.forEach((n=>e.appendElement("tableColumn",{columnWidth:n},t))),e.append(t,r)}}))}}function F8(e){return t=>t.on("element:colgroup",((t,n,r)=>{const i=n.modelCursor.findAncestor("table"),o=O6(i);if(!o)return;const s=R6(o),a=e.getColumns(i);let l=(c=o,u=r.writer,R6(c).reduce(((e,t)=>{const n=t.getAttribute("columnWidth"),r=t.getAttribute("colSpan");if(!r)return e.push(n),e;for(let i=0;i<r;i++)e.push(n);return u.removeAttribute("colSpan",t),e}),[]));var c,u;l=Array.from({length:a},((e,t)=>l[t]||"auto")),(l.length!=s.length||l.includes("auto"))&&j6(s,o,P6(l),r.writer)}),{priority:"low"})}class z8 extends $W{_isResizingActive;_resizingData;_domEmitter;_tableUtilsPlugin;static get requires(){return[r7,L6]}static get pluginName(){return"TableColumnResizeEditing"}constructor(e){super(e),this._isResizingActive=!1,this.set("_isResizingAllowed",!0),this._resizingData=null,this._domEmitter=new(jO()),this._tableUtilsPlugin=e.plugins.get("TableUtils"),this.on("change:_isResizingAllowed",((t,n,r)=>{const i=r?"removeClass":"addClass";e.editing.view.change((t=>{for(const n of e.editing.view.document.roots)t[i]("ck-column-resize_disabled",e.editing.view.document.getRoot(n.rootName))}))}))}init(){this._extendSchema(),this._registerPostFixer(),this._registerConverters(),this._registerResizingListeners(),this._registerResizerInserter();const e=this.editor,t=e.plugins.get("TableColumnResize");e.plugins.get("TableEditing").registerAdditionalSlot({filter:e=>e.is("element","tableColumnGroup"),positionOffset:0});const n=new B8(e);e.commands.add("resizeTableWidth",n),e.commands.add("resizeColumnWidths",n),this.bind("_isResizingAllowed").to(e,"isReadOnly",t,"isEnabled",n,"isEnabled",((e,t,n)=>!e&&t&&n))}destroy(){this._domEmitter.stopListening(),super.destroy()}getColumnGroupElement(e){return O6(e)}getTableColumnElements(e){return R6(e)}getTableColumnsWidths(e){return function(e){return R6(e).map((e=>e.getAttribute("columnWidth")))}(e)}_extendSchema(){this.editor.model.schema.extend("table",{allowAttributes:["tableWidth"]}),this.editor.model.schema.register("tableColumnGroup",{allowIn:"table",isLimit:!0}),this.editor.model.schema.register("tableColumn",{allowIn:"tableColumnGroup",allowAttributes:["columnWidth","colSpan"],isLimit:!0})}_registerPostFixer(){const e=this.editor.model;function t(e,t,n){const r=n._tableUtilsPlugin.getColumns(t);if(0===r-e.length)return e;const i=e.map((e=>Number(e.replace("%","")))),o=function(e,t){const n=new Set;for(const r of e.getChanges())if("insert"==r.type&&r.position.nodeAfter&&"tableCell"==r.position.nodeAfter.name&&r.position.nodeAfter.getAncestors().includes(t))n.add(r.position.nodeAfter);else if("remove"==r.type){const e=r.position.nodeBefore||r.position.nodeAfter;"tableCell"==e.name&&e.getAncestors().includes(t)&&n.add(e)}return n}(n.editor.model.document.differ,t);for(const s of o){const e=r-i.length;if(0===e)continue;const o=e>0,a=n._tableUtilsPlugin.getCellLocation(s).column;if(o){const r=M6(e,k6(t,n.editor));i.splice(a,0,...r)}else{const t=i.splice(a,Math.abs(e));i[a]+=E6(t)}}return i.map((e=>e+"%"))}e.document.registerPostFixer((n=>{let r=!1;for(const i of function(e){const t=new Set;for(const n of e.document.differ.getChanges()){let r=null;switch(n.type){case"insert":r=["table","tableRow","tableCell"].includes(n.name)?n.position:null;break;case"remove":r=["tableRow","tableCell"].includes(n.name)?n.position:null;break;case"attribute":n.range.start.nodeAfter&&(r=["table","tableRow","tableCell"].includes(n.range.start.nodeAfter.name)?n.range.start:null)}if(!r)continue;const i=r.nodeAfter&&r.nodeAfter.is("element","table")?r.nodeAfter:r.findAncestor("table");for(const n of e.createRangeOn(i).getItems())n.is("element","table")&&O6(n)&&t.add(n)}return t}(e)){const e=this.getColumnGroupElement(i),o=this.getTableColumnElements(e),s=this.getTableColumnsWidths(e);let a=P6(s);a=t(a,i,this),KL(s,a)||(j6(o,e,a,n),r=!0)}return r}))}_registerConverters(){const e=this.editor.conversion;e.for("upcast").attributeToAttribute({view:{name:"figure",key:"style",value:{width:/[\s\S]+/}},model:{name:"table",key:"tableWidth",value:e=>e.getStyle("width")}}),e.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:e=>({name:"figure",key:"style",value:{width:e}})}),e.elementToElement({model:"tableColumnGroup",view:"colgroup"}),e.elementToElement({model:"tableColumn",view:"col"}),e.for("downcast").add((e=>e.on("insert:table",((e,t,n)=>{const r=n.writer,i=t.item,o=n.mapper.toViewElement(i),s=o.is("element","table")?o:Array.from(o.getChildren()).find((e=>e.is("element","table")));O6(i)?r.addClass("ck-table-resized",s):r.removeClass("ck-table-resized",s)}),{priority:"low"}))),e.for("upcast").add(F8(this._tableUtilsPlugin)),e.for("upcast").attributeToAttribute({view:{name:"col",styles:{width:/.*/}},model:{key:"columnWidth",value:e=>{const t=e.getStyle("width");return t&&(t.endsWith("%")||t.endsWith("pt"))?t:"auto"}}}),e.for("upcast").attributeToAttribute({view:{name:"col",key:"span"},model:"colSpan"}),e.for("downcast").attributeToAttribute({model:{name:"tableColumn",key:"columnWidth"},view:e=>({key:"style",value:{width:e}})})}_registerResizingListeners(){const e=this.editor.editing.view;e.addObserver(p7),e.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),this._domEmitter.listenTo(Aj.window.document,"mousemove",OW(this._onMouseMoveHandler.bind(this),50)),this._domEmitter.listenTo(Aj.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_onMouseDownHandler(e,t){const n=t.target;if(!n.hasClass("ck-table-column-resizer"))return;if(!this._isResizingAllowed)return;const r=this.editor,i=r.editing.mapper.toModelElement(n.findAncestor("figure"));if(!r.model.canEditAt(i))return;t.preventDefault(),e.stop();const o=function(e,t,n){const r=Array(t.getColumns(e)),i=new X3(e);for(const o of i){const e=n.editing.mapper.toViewElement(o.cell),t=D6(n.editing.view.domConverter.mapViewToDom(e));(!r[o.column]||t<r[o.column])&&(r[o.column]=I6(t))}return r}(i,this._tableUtilsPlugin,r),s=n.findAncestor("table"),a=r.editing.view;Array.from(s.getChildren()).find((e=>e.is("element","colgroup")))||a.change((e=>{!function(e,t,n){const r=e.createContainerElement("colgroup");for(let i=0;i<t.length;i++){const n=e.createEmptyElement("col"),o=`${I6(t[i]/E6(t)*100)}%`;e.setStyle("width",o,n),e.insert(e.createPositionAt(r,"end"),n)}e.insert(e.createPositionAt(n,0),r)}(e,o,s)})),this._isResizingActive=!0,this._resizingData=this._getResizingData(t,o),a.change((e=>function(e,t,n){const r=n.widths.viewFigureWidth/n.widths.viewFigureParentWidth;e.addClass("ck-table-resized",t),e.addClass("ck-table-column-resizer__active",n.elements.viewResizer),e.setStyle("width",`${I6(100*r)}%`,t.findAncestor("figure"))}(e,s,this._resizingData)))}_onMouseMoveHandler(e,t){if(!this._isResizingActive)return;if(!this._isResizingAllowed)return void this._onMouseUpHandler();const{columnPosition:n,flags:{isRightEdge:r,isTableCentered:i,isLtrContent:o},elements:{viewFigure:s,viewLeftColumn:a,viewRightColumn:l},widths:{viewFigureParentWidth:c,tableWidth:u,leftColumnWidth:d,rightColumnWidth:h}}=this._resizingData,f=40-d,p=r?c-u:h-40,m=(o?1:-1)*(r&&i?2:1),g=function(e,t,n){return I6(e<=t?t:e>=n?n:e)}((t.clientX-n)*m,Math.min(f,0),Math.max(p,0));0!==g&&this.editor.editing.view.change((e=>{const t=I6(100*(d+g)/u);if(e.setStyle("width",`${t}%`,a),r){const t=I6(100*(u+g)/c);e.setStyle("width",`${t}%`,s)}else{const t=I6(100*(h-g)/u);e.setStyle("width",`${t}%`,l)}}))}_onMouseUpHandler(){if(!this._isResizingActive)return;const{viewResizer:e,modelTable:t,viewFigure:n,viewColgroup:r}=this._resizingData.elements,i=this.editor,o=i.editing.view,s=this.getColumnGroupElement(t),a=Array.from(r.getChildren()).filter((e=>e.is("view:element"))),l=s?this.getTableColumnsWidths(s):null,c=a.map((e=>e.getStyle("width"))),u=!KL(l,c),d=t.getAttribute("tableWidth"),h=n.getStyle("width"),f=d!==h;(u||f)&&(this._isResizingAllowed?i.execute("resizeTableWidth",{table:t,tableWidth:`${I6(h)}%`,columnWidths:c}):o.change((e=>{if(l)for(const t of a)e.setStyle("width",l.shift(),t);else e.remove(r);f&&(d?e.setStyle("width",d,n):e.removeStyle("width",n)),l||d||e.removeClass("ck-table-resized",[...n.getChildren()].find((e=>"table"===e.name)))}))),o.change((t=>{t.removeClass("ck-table-column-resizer__active",e)})),this._isResizingActive=!1,this._resizingData=null}_getResizingData(e,t){const n=this.editor,r=e.domEvent.clientX,i=e.target,o=i.findAncestor("td")||i.findAncestor("th"),s=n.editing.mapper.toModelElement(o),a=s.findAncestor("table"),l=function(e,t){const n=t.getCellLocation(e).column;return{leftEdge:n,rightEdge:n+(e.getAttribute("colspan")||1)-1}}(s,this._tableUtilsPlugin).rightEdge,c=l===this._tableUtilsPlugin.getColumns(a)-1,u=!a.hasAttribute("tableAlignment"),d="rtl"!==n.locale.contentLanguageDirection,h=o.findAncestor("table"),f=h.findAncestor("figure"),p=[...h.getChildren()].find((e=>e.is("element","colgroup"))),m=p.getChild(l),g=c?void 0:p.getChild(l+1);return{columnPosition:r,flags:{isRightEdge:c,isTableCentered:u,isLtrContent:d},elements:{viewResizer:i,modelTable:a,viewFigure:f,viewColgroup:p,viewLeftColumn:m,viewRightColumn:g},widths:{viewFigureParentWidth:T6(n.editing.view.domConverter.mapViewToDom(f.parent)),viewFigureWidth:T6(n.editing.view.domConverter.mapViewToDom(f)),tableWidth:S6(a,n),leftColumnWidth:t[l],rightColumnWidth:c?void 0:t[l+1]}}}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add((e=>{e.on("insert:tableCell",((e,t,n)=>{const r=t.item,i=n.mapper.toViewElement(r),o=n.writer;o.insert(o.createPositionAt(i,"end"),o.createUIElement("div",{class:"ck-table-column-resizer"}))}),{priority:"lowest"})}))}}class V8 extends $W{static get requires(){return[z8,e8]}static get pluginName(){return"TableColumnResize"}}const W8={ko:{dictionary:{"Words: %0":"\ub2e8\uc5b4 \uc218: %0","Characters: %0":"\ubb38\uc790 \uc218: %0","Widget toolbar":"\uc704\uc82f \ud234\ubc14","Insert paragraph before block":"\ube14\ub85d \uc55e\uc5d0 \ub2e8\ub77d \uc0bd\uc785","Insert paragraph after block":"\ube14\ub85d \ub4a4\uc5d0 \ub2e8\ub77d \uc0bd\uc785","Press Enter to type after or press Shift + Enter to type before the widget":"\uc5d4\ud130\ub97c \ub20c\ub7ec\uc11c \uc704\uc82f \ub4a4\uc5d0 \uc785\ub825\ud558\uac70\ub098 \uc2dc\ud504\ud2b8 + \uc5d4\ud130\ub97c \ub20c\ub7ec\uc11c \uc704\uc82f \uc55e\uc5d0 \uc785\ub825\ud558\uc138\uc694","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"\uc704\uc82f\uc774 \uc120\ud0dd\ub418\uc5c8\uc744 \ub54c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ud0a4 \uc785\ub825(\uc608: \uc774\ubbf8\uc9c0, \ud45c \ub4f1)","Insert a new paragraph directly after a widget":"\uc704\uc82f \ubc14\ub85c \ub4a4\uc5d0 \uc0c8 \ub2e8\ub77d \uc0bd\uc785","Insert a new paragraph directly before a widget":"\uc704\uc82f \ubc14\ub85c \uc55e\uc5d0 \uc0c8 \ub2e8\ub77d \uc0bd\uc785","Move the caret to allow typing directly before a widget":"\uc704\uc82f \ubc14\ub85c \uc55e\uc5d0 \uc785\ub825\ud560 \uc218 \uc788\ub3c4\ub85d \uc0bd\uc785 \uae30\ud638 \uc774\ub3d9","Move the caret to allow typing directly after a widget":"\uc704\uc82f \ubc14\ub85c \ub4a4\uc5d0 \uc785\ub825\ud560 \uc218 \uc788\ub3c4\ub85d \uc0bd\uc785 \uae30\ud638 \uc774\ub3d9","Move focus from an editable area back to the parent widget":"\ud3ec\ucee4\uc2a4\ub97c \ud3b8\uc9d1 \uac00\ub2a5 \uc601\uc5ed\uc5d0\uc11c \ubd80\ubaa8\uc704\uc82f\uc73c\ub85c \uc62e\uae30\uae30","Upload in progress":"\uc5c5\ub85c\ub4dc \uc9c4\ud589 \uc911",Undo:"\uc2e4\ud589 \ucde8\uc18c",Redo:"\ub2e4\uc2dc \uc2e4\ud589","Rich Text Editor":"\uc11c\uc2dd \uc788\ub294 \ud14d\uc2a4\ud2b8 \ud3b8\uc9d1\uae30","Edit block":"\ud3b8\uc9d1 \uc601\uc5ed","Click to edit block":"\ud074\ub9ad\ud558\uc5ec \ube14\ub85d \ud3b8\uc9d1","Drag to move":"\ub4dc\ub798\uadf8\ud558\uc5ec \uc774\ub3d9",Next:"\ub2e4\uc74c",Previous:"\uc774\uc804","Editor toolbar":"\ud3b8\uc9d1\uae30 \ud234\ubc14","Dropdown toolbar":"\ub4dc\ub86d\ub2e4\uc6b4 \ud234\ubc14","Dropdown menu":"\ub4dc\ub86d\ub2e4\uc6b4 \uba54\ub274",Black:"\uac80\uc740\uc0c9","Dim grey":"\uc9c4\ud55c \ud68c\uc0c9",Grey:"\ud68c\uc0c9","Light grey":"\ubc1d\uc740 \ud68c\uc0c9",White:"\ud770\uc0c9",Red:"\ube68\uac04\uc0c9",Orange:"\uc8fc\ud669\uc0c9",Yellow:"\ub178\ub791\uc0c9","Light green":"\uc5f0\ud55c \ucd08\ub85d\uc0c9",Green:"\ucd08\ub85d\uc0c9",Aquamarine:"\uc5f0\ud55c \uccad\ub85d\uc0c9",Turquoise:"\uccad\ub85d\uc0c9","Light blue":"\uc5f0\ud55c \ud30c\ub791\uc0c9",Blue:"\ud30c\ub791\uc0c9",Purple:"\ubcf4\ub77c\uc0c9","Editor block content toolbar":"\ud3b8\uc9d1\uae30 \uc601\uc5ed \ub0b4\uc6a9 \ud234\ubc14","Editor contextual toolbar":"\ud3b8\uc9d1\uae30 \ubb38\ub9e5 \ud234\ubc14",HEX:"HEX","No results found":"\uacb0\uacfc \ucc3e\uc744 \uc218 \uc5c6\uc74c","No searchable items":"\uac80\uc0c9 \uac00\ub2a5\ud55c \ud56d\ubaa9 \uc5c6\uc74c","Editor dialog":"\ud3b8\uc9d1\uae30 \ub300\ud654\uc0c1\uc790",Close:"\ub2eb\uae30","Help Contents. To close this dialog press ESC.":"\ub3c4\uc6c0\ub9d0 \ub0b4\uc6a9\uc785\ub2c8\ub2e4. \uc774 \ub300\ud654 \uc0c1\uc790\ub97c \ub2eb\uc73c\ub824\uba74 ESC \ud0a4\ub97c \ub204\ub974\uc138\uc694.","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"\ud3b8\uc9d1\uae30\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ud0a4\ubcf4\ub4dc \ub2e8\ucd95\ud0a4 \ubaa9\ub85d\uc744 \uc544\ub798\uc5d0\uc11c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","(may require <kbd>Fn</kbd>)":"(<kbd>Fn</kbd> \ud0a4\uac00 \ud544\uc694\ud560 \uc218 \uc788\uc74c)",Accessibility:"\uc811\uadfc\uc131","Accessibility help":"\uc811\uadfc\uc131 \ub3c4\uc6c0\ub9d0","Press %0 for help.":"\ub3c4\uc6c0\ub9d0\uc744 \ubcf4\ub824\uba74 %0 \ud0a4\ub97c \ub204\ub974\uc138\uc694.","Move focus in and out of an active dialog window":"\ud65c\uc131\ud654\ub41c \ub300\ud654 \ucc3d \uc548\ud30e\uc73c\ub85c \ud3ec\ucee4\uc2a4 \uc774\ub3d9",MENU_BAR_MENU_FILE:"\ud30c\uc77c",MENU_BAR_MENU_EDIT:"\uc218\uc815",MENU_BAR_MENU_VIEW:"\ubcf4\uae30",MENU_BAR_MENU_INSERT:"\uc0bd\uc785",MENU_BAR_MENU_FORMAT:"\uc11c\uc2dd",MENU_BAR_MENU_TOOLS:"\ub3c4\uad6c",MENU_BAR_MENU_HELP:"\ub3c4\uc6c0\ub9d0",MENU_BAR_MENU_TEXT:"\ud14d\uc2a4\ud2b8",MENU_BAR_MENU_FONT:"\uae00\uaf34","Editor menu bar":"\ud3b8\uc9d1\uae30 \uba54\ub274 \ud45c\uc2dc\uc904",'Please enter a valid color (e.g. "ff0000").':'\uc720\ud6a8\ud55c \uc0c9\uc0c1\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694(\uc608\ub97c \ub4e4\uc5b4, "ff0000").',"Insert table":"\ud14c\uc774\ube14 \uc0bd\uc785","Header column":"\ud5e4\ub354 \uc5f4","Insert column left":"\uc67c\ucabd\uc5d0 \uc5f4 \uc0bd\uc785","Insert column right":"\uc624\ub978\ucabd\uc5d0 \uc5f4 \uc0bd\uc785","Delete column":"\uc5f4 \uc0ad\uc81c","Select column":"\uc5f4 \uc120\ud0dd",Column:"\uc5f4","Header row":"\ud5e4\ub354 \ud589","Insert row below":"\uc544\ub798\uc5d0 \ud589 \uc0bd\uc785","Insert row above":"\uc704\uc5d0 \ud589 \uc0bd\uc785","Delete row":"\ud589 \uc0ad\uc81c","Select row":"\ud589 \uc120\ud0dd",Row:"\ud589","Merge cell up":"\uc704 \uc140\uacfc \ubcd1\ud569","Merge cell right":"\uc624\ub978\ucabd \uc140\uacfc \ubcd1\ud569","Merge cell down":"\uc544\ub798 \uc140\uacfc \ubcd1\ud569","Merge cell left":"\uc67c\ucabd \uc140\uacfc \ubcd1\ud569","Split cell vertically":"\uc138\ub85c\ub85c \uc140 \ubd84\ud560","Split cell horizontally":"\uac00\ub85c\ub85c \uc140 \ubd84\ud560","Merge cells":"\uc140 \ubcd1\ud569","Table toolbar":"\ud45c \ub3c4\uad6c \ubaa8\uc74c","Table properties":"\ud45c \uc18d\uc131","Cell properties":"\uc140 \uc18d\uc131",Border:"\ud14c\ub450\ub9ac",Style:"\uc2a4\ud0c0\uc77c",Width:"\uac00\ub85c",Height:"\uc138\ub85c",Color:"\uc0c9",Background:"\ubc30\uacbd\uc0c9",Padding:"\uc5ec\ubc31",Dimensions:"\ud06c\uae30","Table cell text alignment":"\ud45c \uc140 \ud14d\uc2a4\ud2b8 \uc815\ub82c",Alignment:"\uc815\ub82c","Horizontal text alignment toolbar":"\uac00\ub85c \ud14d\uc2a4\ud2b8 \uc815\ub82c \ub3c4\uad6c \ubaa8\uc74c","Vertical text alignment toolbar":"\uc138\ub85c \ud14d\uc2a4\ud2b8 \uc815\ub82c \ub3c4\uad6c \ubaa8\uc74c","Table alignment toolbar":"\ud45c \uc815\ub82c \ub3c4\uad6c \ubaa8\uc74c",None:"\uc120 \uc5c6\uc74c",Solid:"\uc2e4\uc120",Dotted:"\uc810\uc120",Dashed:"\ud30c\uc120",Double:"\uc774\uc911\uc120",Groove:"\uc74c\uac01\uc120",Ridge:"\uc591\uac01\uc120",Inset:"\uce21\uba74 \uc74c\uac01\uc120",Outset:"\uce21\uba74 \uc591\uac01\uc120","Align cell text to the left":"\uc140 \ud14d\uc2a4\ud2b8\ub97c \uc67c\ucabd\uc73c\ub85c \uc815\ub82c","Align cell text to the center":"\uc140 \ud14d\uc2a4\ud2b8\ub97c \uac00\ub85c \uac00\uc6b4\ub370\ub85c \uc815\ub82c","Align cell text to the right":"\uc140 \ud14d\uc2a4\ud2b8\ub97c \uc624\ub978\ucabd\uc73c\ub85c \uc815\ub82c","Justify cell text":"\uc140 \ud14d\uc2a4\ud2b8\ub97c \uc591\ucabd\uc73c\ub85c \uc815\ub82c","Align cell text to the top":"\uc140 \ud14d\uc2a4\ud2b8\ub97c \uc704\ub85c \uc815\ub82c","Align cell text to the middle":"\uc140 \ud14d\uc2a4\ud2b8\ub97c \uc138\ub85c \uac00\uc6b4\ub370\ub85c \uc815\ub82c","Align cell text to the bottom":"\uc140 \ud14d\uc2a4\ud2b8\ub97c \uc544\ub798\ub85c \uc815\ub82c","Align table to the left":"\ud14c\uc774\ube14\uc744 \uc67c\ucabd\uc73c\ub85c \uc815\ub82c","Center table":"\ud14c\uc774\ube14\uc744 \uac00\uc6b4\ub370\ub85c \uc815\ub82c","Align table to the right":"\ud14c\uc774\ube14\uc744 \uc624\ub978\ucabd\uc73c\ub85c \uc815\ub82c",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc0c9\uc785\ub2c8\ub2e4. "#FF0000"\uc774\ub098 "rgb(255,0,0)", \ub610\ub294 "red"\ub97c \uc785\ub825\ud574 \ubcf4\uc138\uc694.','The value is invalid. Try "10px" or "2em" or simply "2".':'\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uac12\uc785\ub2c8\ub2e4. "10px"\ub098 "2em" \ub610\ub294 \uadf8\ub0e5 "2"\ub97c \uc785\ub825\ud574 \ubcf4\uc138\uc694.',"Color picker":"\uc0c9\uc0c1 \uc120\ud0dd\uae30","Enter table caption":"\ud14c\uc774\ube14 \ucea1\uc158 \uc785\ub825","Keystrokes that can be used in a table cell":"\ud45c \uc140\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ud0a4 \uc785\ub825","Move the selection to the next cell":"\uc120\ud0dd \ud56d\ubaa9\uc744 \ub2e4\uc74c \uc140\ub85c \uc774\ub3d9","Move the selection to the previous cell":"\uc120\ud0dd \ud56d\ubaa9\uc744 \uc774\uc804 \uc140\ub85c \uc774\ub3d9","Insert a new table row (when in the last cell of a table)":"\uc0c8 \ud45c \ud589 \uc0bd\uc785(\ud45c\uc758 \ub9c8\uc9c0\ub9c9 \uc140\uc5d0 \uc788\uc744 \ub54c)","Navigate through the table":"\ud45c \ud0d0\uc0c9",Table:"\ud45c",Styles:"\uc2a4\ud0c0\uc77c","Multiple styles":"\ub2e4\uc911 \uc2a4\ud0c0\uc77c","Block styles":"\ube14\ub85d \uc2a4\ud0c0\uc77c","Text styles":"\ud14d\uc2a4\ud2b8 \uc2a4\ud0c0\uc77c","Special characters":"\ud2b9\uc218 \ubb38\uc790",Category:"\uce74\ud14c\uace0\ub9ac",All:"\uc804\uccb4",Arrows:"\ud654\uc0b4\ud45c",Currency:"\ud1b5\ud654",Latin:"\ub77c\ud2f4",Mathematical:"\uc218\uc2dd",Text:"\ud14d\uc2a4\ud2b8","leftwards simple arrow":"\uc67c\ucabd \ub2e8\uc21c \ud654\uc0b4\ud45c","rightwards simple arrow":"\uc624\ub978\ucabd \ub2e8\uc21c \ud654\uc0b4\ud45c","upwards simple arrow":"\uc704\ucabd \ub2e8\uc21c \ud654\uc0b4\ud45c","downwards simple arrow":"\uc544\ub798\ucabd \ub2e8\uc21c \ud654\uc0b4\ud45c","leftwards double arrow":"\uc67c\ucabd \uacb9\ud654\uc0b4\ud45c","rightwards double arrow":"\uc624\ub978\ucabd \uacb9\ud654\uc0b4\ud45c","upwards double arrow":"\uc704\ucabd \uacb9\ud654\uc0b4\ud45c","downwards double arrow":"\uc544\ub798\ucabd \uacb9\ud654\uc0b4\ud45c","leftwards dashed arrow":"\uc67c\ucabd \ub300\uc2dc \ud654\uc0b4\ud45c","rightwards dashed arrow":"\uc624\ub978\ucabd \ub300\uc2dc \ud654\uc0b4\ud45c","upwards dashed arrow":"\uc704\ucabd \ub300\uc2dc \ud654\uc0b4\ud45c","downwards dashed arrow":"\uc544\ub798\ucabd \ub300\uc2dc \ud654\uc0b4\ud45c","leftwards arrow to bar":"\uc67c\ucabd \ubc14\ub97c \ud5a5\ud55c \ud654\uc0b4\ud45c","rightwards arrow to bar":"\uc624\ub978\ucabd \ubc14\ub97c \ud5a5\ud55c \ud654\uc0b4\ud45c","upwards arrow to bar":"\uc704\ucabd \ubc14\ub97c \ud5a5\ud55c \ud654\uc0b4\ud45c","downwards arrow to bar":"\uc544\ub798\ucabd \ubc14\ub97c \ud5a5\ud55c \ud654\uc0b4\ud45c","up down arrow with base":"\ubc1b\uce68\uc774 \uc788\ub294 \uc704\uc544\ub798 \ud654\uc0b4\ud45c","back with leftwards arrow above":"BACK \uc704 \uc67c\ucabd \ud654\uc0b4\ud45c","end with leftwards arrow above":"END \uc704 \uc67c\ucabd \ud654\uc0b4\ud45c","on with exclamation mark with left right arrow above":"ON! \uc704 \uc67c\ucabd \uc624\ub978\ucabd \ud654\uc0b4\ud45c","soon with rightwards arrow above":"SOON \uc704 \uc624\ub978\ucabd \ud654\uc0b4\ud45c","top with upwards arrow above":"TOP \uc704 \uc704\ucabd \ud654\uc0b4\ud45c","Dollar sign":"\ub2ec\ub7ec \uae30\ud638","Euro sign":"\uc720\ub85c \uae30\ud638","Yen sign":"\uc5d4 \uae30\ud638","Pound sign":"\ud30c\uc6b4\ub4dc \uae30\ud638","Cent sign":"\uc13c\ud2b8 \uae30\ud638","Euro-currency sign":"\uc720\ub85c\ud654 \uae30\ud638","Colon sign":"\ucf5c\ub860 \uae30\ud638","Cruzeiro sign":"\ud06c\ub8e8\uc81c\uc774\ub8e8 \uae30\ud638","French franc sign":"\ud504\ub791\uc2a4 \ud504\ub791 \uae30\ud638","Lira sign":"\ub9ac\ub77c \uae30\ud638","Currency sign":"\ud1b5\ud654 \uae30\ud638","Bitcoin sign":"\ube44\ud2b8\ucf54\uc778 \uae30\ud638","Mill sign":"\ubc00 \uae30\ud638","Naira sign":"\ub098\uc774\ub77c \uae30\ud638","Peseta sign":"\ud398\uc138\ud0c0 \uae30\ud638","Rupee sign":"\ub8e8\ud53c \uae30\ud638","Won sign":"\uc6d0 \uae30\ud638","New sheqel sign":"\ub274 \uc138\ucf08 \uae30\ud638","Dong sign":"\ub3d9 \uae30\ud638","Kip sign":"\ud0b5 \uae30\ud638","Tugrik sign":"\ud22c\uadf8\ub9ac\ud06c \uae30\ud638","Drachma sign":"\ub4dc\ub77c\ud06c\ub9c8 \uae30\ud638","German penny sign":"\ub3c5\uc77c \ud398\ub2c8 \uae30\ud638","Peso sign":"\ud398\uc18c \uae30\ud638","Guarani sign":"\uacfc\ub77c\ub2c8 \uae30\ud638","Austral sign":"\uc624\uc2a4\ud2b8\ub784 \uae30\ud638","Hryvnia sign":"\ud750\ub9ac\ube0c\ub0d0 \uae30\ud638","Cedi sign":"\uc138\ub514 \uae30\ud638","Livre tournois sign":"\ub9ac\ube0c\ub974 \ud2b8\ub974\ub204\uc544 \uae30\ud638","Spesmilo sign":"\uc2a4\ud398\uc2a4\ubc00\ub85c \uae30\ud638","Tenge sign":"\ud161\uac8c \uae30\ud638","Indian rupee sign":"\uc778\ub3c4 \ub8e8\ud53c \uae30\ud638","Turkish lira sign":"\ud130\ud0a4 \ub9ac\ub77c \uae30\ud638","Nordic mark sign":"\ub178\ub974\ub515 \ub9c8\ud06c \uae30\ud638","Manat sign":"\ub9c8\ub098\ud2b8 \uae30\ud638","Ruble sign":"\ub8e8\ube14 \uae30\ud638","Latin capital letter a with macron":"\uc7a5\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 A","Latin small letter a with macron":"\uc7a5\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 a","Latin capital letter a with breve":"\ubc18\ub2ec\uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 A","Latin small letter a with breve":"\ubc18\ub2ec\uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 a","Latin capital letter a with ogonek":"\uaf2c\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 A","Latin small letter a with ogonek":"\uaf2c\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 a","Latin capital letter c with acute":"\uc591\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 C","Latin small letter c with acute":"\uc591\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 c","Latin capital letter c with circumflex":"\uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 C","Latin small letter c with circumflex":"\uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 c","Latin capital letter c with dot above":"\uc704\uc5d0 \uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 C","Latin small letter c with dot above":"\uc704\uc5d0 \uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 c","Latin capital letter c with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 C","Latin small letter c with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 c","Latin capital letter d with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 D","Latin small letter d with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 d","Latin capital letter d with stroke":"\ud68d \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 D","Latin small letter d with stroke":"\ud68d \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 d","Latin capital letter e with macron":"\uc7a5\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 E","Latin small letter e with macron":"\uc7a5\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 e","Latin capital letter e with breve":"\ubc18\ub2ec\uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 E","Latin small letter e with breve":"\ubc18\ub2ec\uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 e","Latin capital letter e with dot above":"\uc704\uc5d0 \uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 E","Latin small letter e with dot above":"\uc704\uc5d0 \uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 e","Latin capital letter e with ogonek":"\uaf2c\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 E","Latin small letter e with ogonek":"\uaf2c\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 e","Latin capital letter e with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 E","Latin small letter e with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 e","Latin capital letter g with circumflex":"\uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 G","Latin small letter g with circumflex":"\uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 g","Latin capital letter g with breve":"\ubc18\ub2ec\uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 G","Latin small letter g with breve":"\ubc18\ub2ec\uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 g","Latin capital letter g with dot above":"\uc704\uc5d0 \uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 G","Latin small letter g with dot above":"\uc704\uc5d0 \uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 g","Latin capital letter g with cedilla":"\uac08\uace0\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 G","Latin small letter g with cedilla":"\uac08\uace0\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 g","Latin capital letter h with circumflex":"\uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 H","Latin small letter h with circumflex":"\uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 h","Latin capital letter h with stroke":"\ud68d \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 H","Latin small letter h with stroke":"\ud68d \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 h","Latin capital letter i with tilde":"\ubb3c\uacb0 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 I","Latin small letter i with tilde":"\ubb3c\uacb0 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 i","Latin capital letter i with macron":"\uc7a5\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 I","Latin small letter i with macron":"\uc7a5\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 i","Latin capital letter i with breve":"\ubc18\ub2ec\uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 I","Latin small letter i with breve":"\ubc18\ub2ec\uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 i","Latin capital letter i with ogonek":"\uaf2c\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 I","Latin small letter i with ogonek":"\uaf2c\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 i","Latin capital letter i with dot above":"\uc704\uc5d0 \uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 I","Latin small letter dotless i":"\ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 \uc810 \uc5c6\ub294 i","Latin capital ligature ij":"\ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 \ud569\uc790 IJ","Latin small ligature ij":"\ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 \ud569\uc790 ij","Latin capital letter j with circumflex":"\uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 J","Latin small letter j with circumflex":"\uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 j","Latin capital letter k with cedilla":"\uac08\uace0\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 K","Latin small letter k with cedilla":"\uac08\uace0\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 k","Latin small letter kra":"\ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 \ud06c\ub77c","Latin capital letter l with acute":"\uc591\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 I","Latin small letter l with acute":"\uc591\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 i","Latin capital letter l with cedilla":"\uac08\uace0\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 I","Latin small letter l with cedilla":"\uac08\uace0\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 i","Latin capital letter l with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 I","Latin small letter l with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 i","Latin capital letter l with middle dot":"\uc911\uac04\uc5d0 \uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 I","Latin small letter l with middle dot":"\uc911\uac04\uc5d0 \uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 i","Latin capital letter l with stroke":"\ud68d \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 I","Latin small letter l with stroke":"\ud68d \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 i","Latin capital letter n with acute":"\uc591\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 N","Latin small letter n with acute":"\uc591\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 n","Latin capital letter n with cedilla":"\uac08\uace0\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 N","Latin small letter n with cedilla":"\uac08\uace0\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 n","Latin capital letter n with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 N","Latin small letter n with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 n","Latin small letter n preceded by apostrophe":"\uc544\ud3ec\uc2a4\ud2b8\ub85c\ud53c \ub2e4\uc74c\uc5d0 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 n","Latin capital letter eng":"\ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 \uc5e5","Latin small letter eng":"\ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 \uc5e5","Latin capital letter o with macron":"\uc7a5\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 O","Latin small letter o with macron":"\uc7a5\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 o","Latin capital letter o with breve":"\ubc18\ub2ec\uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 O","Latin small letter o with breve":"\ubc18\ub2ec\uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 o","Latin capital letter o with double acute":"\uc774\uc911 \uc591\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 O","Latin small letter o with double acute":"\uc774\uc911 \uc591\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 o","Latin capital ligature oe":"\ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 \ud569\uc790 OE","Latin small ligature oe":"\ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 \ud569\uc790 oe","Latin capital letter r with acute":"\uc591\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 R","Latin small letter r with acute":"\uc591\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 r","Latin capital letter r with cedilla":"\uac08\uace0\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 R","Latin small letter r with cedilla":"\uac08\uace0\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 r","Latin capital letter r with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 R","Latin small letter r with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 r","Latin capital letter s with acute":"\uc591\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 S","Latin small letter s with acute":"\uc591\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 s","Latin capital letter s with circumflex":"\uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 S","Latin small letter s with circumflex":"\uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 s","Latin capital letter s with cedilla":"\uac08\uace0\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 S","Latin small letter s with cedilla":"\uac08\uace0\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 s","Latin capital letter s with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 S","Latin small letter s with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 s","Latin capital letter t with cedilla":"\uac08\uace0\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 T","Latin small letter t with cedilla":"\uac08\uace0\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 t","Latin capital letter t with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 T","Latin small letter t with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 t","Latin capital letter t with stroke":"\ud68d \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 T","Latin small letter t with stroke":"\ud68d \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 t","Latin capital letter u with tilde":"\ubb3c\uacb0 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 U","Latin small letter u with tilde":"\ubb3c\uacb0 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 u","Latin capital letter u with macron":"\uc7a5\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 U","Latin small letter u with macron":"\uc7a5\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 u","Latin capital letter u with breve":"\ubc18\ub2ec\uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 U","Latin small letter u with breve":"\ubc18\ub2ec\uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 u","Latin capital letter u with ring above":"\uc704\uc5d0 \uace0\ub9ac\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 U","Latin small letter u with ring above":"\uc704\uc5d0 \uace0\ub9ac\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 u","Latin capital letter u with double acute":"\uc774\uc911 \uc591\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 U","Latin small letter u with double acute":"\uc774\uc911 \uc591\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 u","Latin capital letter u with ogonek":"\uaf2c\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 U","Latin small letter u with ogonek":"\uaf2c\ub9ac \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 u","Latin capital letter w with circumflex":"\uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 W","Latin small letter w with circumflex":"\uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 w","Latin capital letter y with circumflex":"\uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 Y","Latin small letter y with circumflex":"\uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 y","Latin capital letter y with diaeresis":"\ubd84\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 Y","Latin capital letter z with acute":"\uc591\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 Z","Latin small letter z with acute":"\uc591\uc74c \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 z","Latin capital letter z with dot above":"\uc704\uc5d0 \uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 Z","Latin small letter z with dot above":"\uc704\uc5d0 \uc810 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 z","Latin capital letter z with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \ub300\ubb38\uc790 Z","Latin small letter z with caron":"\ubc18\ub300 \uace1\uc808 \ubd80\ud638\uac00 \uc788\ub294 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 z","Latin small letter long s":"\ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 \uae34 s","Less-than sign":"\ub354 \uc791\uc74c \uae30\ud638","Greater-than sign":"\ub354 \ud07c \uae30\ud638","Less-than or equal to":"\ub354 \uc791\uac70\ub098 \uac19\uc74c","Greater-than or equal to":"\ub354 \ud06c\uac70\ub098 \uac19\uc74c","En dash":"\uc5d4 \ub300\uc2dc","Em dash":"\uc5e0 \ub300\uc2dc",Macron:"\uc7a5\uc74c \ubd80\ud638",Overline:"\uc717\uc904","Degree sign":"\ub3c4 \uae30\ud638","Minus sign":"\ube7c\uae30 \uae30\ud638","Plus-minus sign":"\ub354\ud558\uae30 \ube7c\uae30 \uae30\ud638","Division sign":"\ub098\ub204\uae30 \uae30\ud638","Fraction slash":"\ubd84\uc218 \uc2ac\ub798\uc2dc","Multiplication sign":"\uacf1\ud558\uae30 \uae30\ud638","Latin small letter f with hook":"\ubc11\uc774 \uad6c\ubd80\ub7ec\uc9c4 \ub77c\ud2f4\uc5b4 \uc18c\ubb38\uc790 f",Integral:"\uc801\ubd84","N-ary summation":"\ub204\uacc4\ud569",Infinity:"\ubb34\ud55c\ub300","Square root":"\uc81c\uacf1\uadfc","Tilde operator":"\ubb3c\uacb0\ud45c \uc5f0\uc0b0\uc790","Approximately equal to":"\ub300\ub7b5 \uac19\uc74c","Almost equal to":"\uac70\uc758 \uac19\uc74c","Not equal to":"\uac19\uc9c0 \uc54a\uc74c","Identical to":"\ud569\ub3d9","Element of":"\uc6d0\uc18c","Not an element of":"\uc6d0\uc18c\uac00 \uc544\ub2d8","Contains as member":"\uc6d0\uc18c\ub85c \ud3ec\ud568","N-ary product":"\uc911\ubcf5\uc21c\uc5f4","Logical and":"\ub17c\ub9ac\uacf1","Logical or":"\ub17c\ub9ac\ud569","Not sign":"\ubd80\uc815 \uae30\ud638",Intersection:"\uad50\uc9d1\ud569",Union:"\ud569\uc9d1\ud569","Partial differential":"\ud3b8\ubbf8\ubd84","For all":"\uc804\uce6d","There exists":"\uc874\uc7ac","Empty set":"\uacf5\uc9d1\ud569",Nabla:"\ub098\ube14\ub77c","Asterisk operator":"\ubcc4\ud45c \uc5f0\uc0b0\uc790","Proportional to":"\ube44\ub840",Angle:"\uac01","Vulgar fraction one quarter":"4\ubd84\uc758 1","Vulgar fraction one half":"2\ubd84\uc758 1","Vulgar fraction three quarters":"4\ubd84\uc758 3","Single left-pointing angle quotation mark":"\uc67c\ucabd \ud651\ud654\uc0b4\uad04\ud638","Single right-pointing angle quotation mark":"\uc624\ub978\ucabd \ud651\ud654\uc0b4\uad04\ud638","Left-pointing double angle quotation mark":"\uc67c\ucabd \uacb9\ud654\uc0b4\uad04\ud638","Right-pointing double angle quotation mark":"\uc624\ub978\ucabd \uacb9\ud654\uc0b4\uad04\ud638","Left single quotation mark":"\uc67c\ucabd \uc791\uc740\ub530\uc634\ud45c","Right single quotation mark":"\uc624\ub978\ucabd \uc791\uc740\ub530\uc634\ud45c","Left double quotation mark":"\uc67c\ucabd \ud070\ub530\uc634\ud45c","Right double quotation mark":"\uc624\ub978\ucabd \ud070\ub530\uc634\ud45c","Single low-9 quotation mark":"\ub0ae\uc740 \ud651\ub530\uc634\ud45c","Double low-9 quotation mark":"\ub0ae\uc740 \uacb9\ub530\uc634\ud45c","Inverted exclamation mark":"\uc5ed\ub290\ub08c\ud45c","Inverted question mark":"\uc5ed\ubb3c\uc74c\ud45c","Two dot leader":"\ub450 \uc810 \uc904\uc784\ud45c","Horizontal ellipsis":"\uc138 \uc810 \uc904\uc784\ud45c","Double dagger":"\uacb9\uce7c\ud45c","Per mille sign":"\ud37c \ub9c8\uc77c \uae30\ud638","Per ten thousand sign":"\ub9cc\ubd84\uc728 \uae30\ud638","Double exclamation mark":"\uacb9\ub290\ub08c\ud45c","Question exclamation mark":"\ubb3c\uc74c\ud45c \ub290\ub08c\ud45c","Exclamation question mark":"\ub290\ub08c\ud45c \ubb3c\uc74c\ud45c","Double question mark":"\uacb9\ubb3c\uc74c\ud45c","Copyright sign":"\uc800\uc791\uad8c \uae30\ud638","Registered sign":"\ub4f1\ub85d \uc0c1\ud45c \uae30\ud638","Trade mark sign":"\uc0c1\ud45c \uae30\ud638","Section sign":"\uad6c\uc5ed \uae30\ud638","Paragraph sign":"\ub2e8\ub77d \uae30\ud638","Reversed paragraph sign":"\ubc18\uc804\ub41c \ub2e8\ub77d \uae30\ud638",Source:"\uc18c\uc2a4","Show source":"\uc18c\uc2a4 \ud45c\uc2dc","Show blocks":"\ube14\ub85d \ud45c\uc2dc","Select all":"\uc804\uccb4 \uc120\ud0dd","Disable editing":"\ud3b8\uc9d1 \ube44\ud65c\uc131\ud654","Enable editing":"\ud3b8\uc9d1 \ud65c\uc131\ud654","Previous editable region":"\uc774\uc804 \ud3b8\uc9d1 \uac00\ub2a5\ud55c \uad6c\uc5ed","Next editable region":"\ub2e4\uc74c \ud3b8\uc9d1 \uac00\ub2a5\ud55c \uad6c\uc5ed","Navigate editable regions":"\ud3b8\uc9d1 \uac00\ub2a5\ud55c \uad6c\uc5ed \ud0d0\uc0c9","Remove Format":"\uc11c\uc2dd \uc9c0\uc6b0\uae30","Page break":"\ud398\uc774\uc9c0 \ub098\ub204\uae30","media widget":"\ubbf8\ub514\uc5b4 \uc704\uc82f","Media URL":"\ubbf8\ub514\uc5b4 URL","Paste the media URL in the input.":"\ubbf8\ub514\uc5b4 URL\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.","Tip: Paste the URL into the content to embed faster.":"\ud301: URL\uc744 \ubd99\uc5ec\ub123\uc73c\uba74 \ub354 \ube68\ub9ac \uc0bd\uc785\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","The URL must not be empty.":"URL\uc774 \ube44\uc5b4\uc788\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","This media URL is not supported.":"\uc774 \ubbf8\ub514\uc5b4 URL\uc740 \uc9c0\uc6d0\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.","Insert media":"\ubbf8\ub514\uc5b4 \uc0bd\uc785",Media:"\ubbf8\ub514\uc5b4","Media toolbar":"\ubbf8\ub514\uc5b4 \ud234\ubc14","Open media in new tab":"\uc0c8 \ud0ed\uc5d0\uc11c \ubbf8\ub514\uc5b4 \uc5f4\uae30","Numbered List":"\ubc88\ud638 \ubaa9\ub85d","Bulleted List":"\ubd88\ub9bf \ubaa9\ub85d","To-do List":"\ud655\uc778 \ubaa9\ub85d","Bulleted list styles toolbar":"\uae00\uba38\ub9ac \uae30\ud638 \ubaa9\ub85d \uc2a4\ud0c0\uc77c \ub3c4\uad6c \ubaa8\uc74c","Numbered list styles toolbar":"\ubc88\ud638 \ubaa9\ub85d \uc2a4\ud0c0\uc77c \ub3c4\uad6c \ubaa8\uc74c","Toggle the disc list style":"\ud770 \uc6d0\ud615 \ubaa9\ub85d \uc2a4\ud0c0\uc77c \uc804\ud658","Toggle the circle list style":"\uac80\uc740 \uc6d0\ud615 \ubaa9\ub85d \uc2a4\ud0c0\uc77c \uc804\ud658","Toggle the square list style":"\uac80\uc740 \uc0ac\uac01\ud615 \ubaa9\ub85d \uc2a4\ud0c0\uc77c \uc804\ud658","Toggle the decimal list style":"\uc2ed\uc9c4\uc218 \ubaa9\ub85d \uc2a4\ud0c0\uc77c \uc804\ud658","Toggle the decimal with leading zero list style":"\uc55e\uc5d0 0\uc774 \ubd99\ub294 \uc2ed\uc9c4\uc218 \ubaa9\ub85d \uc2a4\ud0c0\uc77c \uc804\ud658","Toggle the lower\u2013roman list style":"\uc18c\ubb38\uc790 \ub85c\ub9c8\uc790 \ubaa9\ub85d \uc2a4\ud0c0\uc77c \uc804\ud658","Toggle the upper\u2013roman list style":"\ub300\ubb38\uc790 \ub85c\ub9c8\uc790 \ubaa9\ub85d \uc2a4\ud0c0\uc77c \uc804\ud658","Toggle the lower\u2013latin list style":"\uc18c\ubb38\uc790 \uc54c\ud30c\ubcb3 \ubaa9\ub85d \uc2a4\ud0c0\uc77c \uc804\ud658","Toggle the upper\u2013latin list style":"\ub300\ubb38\uc790 \uc54c\ud30c\ubcb3 \ubaa9\ub85d \uc2a4\ud0c0\uc77c \uc804\ud658",Disc:"\uac80\uc740 \uc6d0\ud615",Circle:"\ud770 \uc6d0\ud615",Square:"\uac80\uc740 \uc0ac\uac01\ud615",Decimal:"\uc2ed\uc9c4\uc218","Decimal with leading zero":"\uc55e\uc5d0 0\uc774 \ubd99\ub294 \uc2ed\uc9c4\uc218","Lower\u2013roman":"\uc18c\ubb38\uc790 \ub85c\ub9c8\uc790","Upper-roman":"\ub300\ubb38\uc790 \ub85c\ub9c8\uc790","Lower-latin":"\uc18c\ubb38\uc790 \uc54c\ud30c\ubcb3","Upper-latin":"\ub300\ubb38\uc790 \uc54c\ud30c\ubcb3","List properties":"\ubaa9\ub85d \uc18d\uc131","Start at":"\uc2dc\uc791 \ubc88\ud638","Invalid start index value.":"\uc798\ubabb\ub41c \uc2dc\uc791 \uc778\ub371\uc2a4 \uac12\uc785\ub2c8\ub2e4.","Start index must be greater than 0.":"\uc2dc\uc791 \ubc88\ud638\ub294 0\ubcf4\ub2e4 \ucee4\uc57c \ud569\ub2c8\ub2e4.","Reversed order":"\uc5ed\uc21c","Keystrokes that can be used in a list":"\ubaa9\ub85d\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ud0a4 \uc785\ub825","Increase list item indent":"\ubaa9\ub85d \ud56d\ubaa9 \ub4e4\uc5ec\uc4f0\uae30 \ub298\ub9ac\uae30","Decrease list item indent":"\ubaa9\ub85d \ud56d\ubaa9 \ub4e4\uc5ec\uc4f0\uae30 \uc904\uc774\uae30","Entering a to-do list":"\ud560 \uc77c \ubaa9\ub85d \uc785\ub825\ud558\ub294 \uc911","Leaving a to-do list":"\ud560 \uc77c \ubaa9\ub85d \ub0a8\uae30\ub294 \uc911",Unlink:"\ub9c1\ud06c \uc0ad\uc81c",Link:"\ub9c1\ud06c","Link URL":"\ub9c1\ud06c \uc8fc\uc18c","Link URL must not be empty.":"\ub9c1\ud06c URL\uc740 \ube44\uc6cc\ub458 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","Link image":"\uc0ac\uc9c4 \ub9c1\ud06c","Edit link":"\ub9c1\ud06c \ud3b8\uc9d1","Open link in new tab":"\uc0c8 \ud0ed\uc5d0\uc11c \ub9c1\ud06c \uc5f4\uae30","This link has no URL":"\uc774 \uc8fc\uc18c\uc5d0\ub294 URL\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","Open in a new tab":"\uc0c8 \ud0ed\uc5d0\uc11c \uc5f4\uae30",Downloadable:"\ub2e4\uc6b4\ub85c\ub4dc \uac00\ub2a5","Create link":"\ub9c1\ud06c \uc0dd\uc131","Move out of a link":"\ub9c1\ud06c \ubc16\uc73c\ub85c \uc774\ub3d9",Language:"\uc5b8\uc5b4","Choose language":"\uc5b8\uc5b4 \uc120\ud0dd","Remove language":"\uc5b8\uc5b4 \uc81c\uac70","Increase indent":"\ub4e4\uc5ec\uc4f0\uae30 \ub298\ub9ac\uae30","Decrease indent":"\ub4e4\uc5ec\uc4f0\uae30 \uc904\uc774\uae30","image widget":"\uc0ac\uc9c4 \uc704\uc82f","Wrap text":"\ud14d\uc2a4\ud2b8 \uc904 \ubc14\uafc8","Break text":"\ud14d\uc2a4\ud2b8 \ubd84\ub9ac","In line":"\uc904 \uc548\uc5d0","Side image":"\ubcf8\ubb38 \uc606\uc5d0 \ubc30\uce58","Full size image":"\uaf49 \ucc2c \ud06c\uae30","Left aligned image":"\uc67c\ucabd \uc815\ub82c","Centered image":"\uac00\uc6b4\ub370 \uc815\ub82c","Right aligned image":"\uc624\ub978\ucabd \uc815\ub82c","Change image text alternative":"\ub300\uccb4 \ubb38\uad6c \ubcc0\uacbd","Text alternative":"\ub300\uccb4 \ubb38\uad6c","Enter image caption":"\uc0ac\uc9c4 \uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694","Insert image":"\uc0ac\uc9c4 \uc0bd\uc785","Replace image":"\uc774\ubbf8\uc9c0 \uad50\uccb4","Upload from computer":"\ucef4\ud4e8\ud130\uc5d0\uc11c \uc5c5\ub85c\ub4dc","Replace from computer":"\ucef4\ud4e8\ud130\uc5d0\uc11c \uad50\uccb4","Upload image from computer":"\ucef4\ud4e8\ud130\uc5d0\uc11c \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc","Image from computer":"\ucef4\ud4e8\ud130\uc5d0\uc11c \uc774\ubbf8\uc9c0 \uac00\uc838\uc624\uae30","From computer":"\ucef4\ud4e8\ud130\uc5d0\uc11c","Replace image from computer":"\ucef4\ud4e8\ud130\uc5d0\uc11c \uc774\ubbf8\uc9c0 \uad50\uccb4","Upload failed":"\uc5c5\ub85c\ub4dc \uc2e4\ud328","You have no image upload permissions.":"\uc774\ubbf8\uc9c0\ub97c \uc5c5\ub85c\ub4dc\ud560 \uc218 \uc788\ub294 \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","Image toolbar":"\uc0ac\uc9c4 \ud234\ubc14","Resize image":"\uc0ac\uc9c4 \ud06c\uae30 \uc870\uc808","Resize image to %0":"\uc0ac\uc9c4\uc758 \ud06c\uae30\ub97c %0\uc73c\ub85c \uc870\uc808","Resize image to the original size":"\uc0ac\uc9c4\uc744 \uc6d0\ub798 \ud06c\uae30\ub85c \ub3cc\ub824\ub193\uae30","Resize image (in %0)":"\uc774\ubbf8\uc9c0 \ud06c\uae30 \uc870\uc815\ud558\uae30(%0 \uc774\ub0b4)",Original:"\uc6d0\ubcf8","Custom image size":"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc774\ubbf8\uc9c0 \ud06c\uae30",Custom:"\uc0ac\uc6a9\uc790 \uc9c0\uc815","Image resize list":"\uc0ac\uc9c4 \ud06c\uae30 \ubaa9\ub85d","Insert image via URL":"URL\ub85c \uc774\ubbf8\uc9c0 \uc0bd\uc785","Insert via URL":"URL \ubc84\ud2bc\uc73c\ub85c \uc774\ubbf8\uc9c0 \uc0bd\uc785","Image via URL":"URL \uba54\ub274\ub97c \ud1b5\ud55c \uc774\ubbf8\uc9c0 \uc0bd\uc785","Via URL":"\uc774\ubbf8\uc9c0 \uba54\ub274\uc5d0\uc11c URL\uc744 \ud1b5\ud55c \uc774\ubbf8\uc9c0 \uc0bd\uc785","Update image URL":"\uc774\ubbf8\uc9c0 URL \uc5c5\ub370\uc774\ud2b8","Caption for the image":"\uc774\ubbf8\uc9c0\uc6a9 \ucea1\uc158","Caption for image: %0":"\uc774\ubbf8\uc9c0\uc6a9 \ucea1\uc158: %0","The value must not be empty.":"\uac12\uc740 \ube44\uc6cc\ub458 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","The value should be a plain number.":"\uc77c\ubc18 \uc22b\uc790\ub85c \ub41c \uac12\uc744 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.","Uploading image":"\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc \uc911","Image upload complete":"\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc \uc644\ub8cc","Error during image upload":"\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc \uc911\uc5d0 \uc624\ub958 \ubc1c\uc0dd",Image:"\uc774\ubbf8\uc9c0 \uc0bd\uc785 \uae30\ub2a5\uc73c\ub85c \uc0bd\uc785\ub41c \uc704\uc82f","HTML object":"HTML \uc624\ube0c\uc81d\ud2b8","Insert HTML":"HTML \uc0bd\uc785","HTML snippet":"HTML \ucf54\ub4dc \uc870\uac01","Paste raw HTML here...":"\uc6d0\uc2dc HTML\uc744 \uc5ec\uae30\uc5d0 \ubd99\uc5ec\ub123\uc73c\uc138\uc694...","Edit source":"\uc18c\uc2a4 \ud3b8\uc9d1","Save changes":"\ubcc0\uacbd\uc0ac\ud56d \uc800\uc7a5","No preview available":"\ubbf8\ub9ac\ubcf4\uae30\ub97c \uc774\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4","Empty snippet content":"\ube48 \ucf54\ub4dc \uc870\uac01 \ub0b4\uc6a9","Horizontal line":"\uc218\ud3c9\uc120","Yellow marker":"\ub178\ub780\uc0c9 \ub9c8\ucee4","Green marker":"\ucd08\ub85d\uc0c9 \ub9c8\ucee4","Pink marker":"\ubd84\ud64d\uc0c9 \ub9c8\ucee4","Blue marker":"\ud30c\ub780\uc0c9 \ub9c8\ucee4","Red pen":"\ube68\uac04\uc0c9 \ud39c","Green pen":"\ucd08\ub85d\uc0c9 \ud39c","Remove highlight":"\uac15\uc870 \uc81c\uac70",Highlight:"\uac15\uc870","Text highlight toolbar":"\uae00\uc790 \uac15\uc870 \ud234\ubc14",Paragraph:"\ubb38\ub2e8",Heading:"\uc81c\ubaa9","Choose heading":"\uc81c\ubaa9 \uc120\ud0dd","Heading 1":"\uc81c\ubaa9 1","Heading 2":"\uc81c\ubaa9 2","Heading 3":"\uc81c\ubaa9 3","Heading 4":"\uc81c\ubaa9 4","Heading 5":"\uc81c\ubaa9 5","Heading 6":"\uc81c\ubaa9 6","Type your title":"\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694","Type or paste your content here.":"\uc5ec\uae30\uc5d0 \ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uac70\ub098 \ubd99\uc5ec\ub123\uc73c\uc138\uc694.","Font Size":"\uae00\uc790 \ud06c\uae30",Tiny:"\ub9e4\uc6b0 \uc791\uc740",Small:"\uc791\uc740",Big:"\ud070",Huge:"\ub9e4\uc6b0 \ud070","Font Family":"\uae00\uaf34 \uc9d1\ud569",Default:"\uae30\ubcf8","Font Color":"\uae00\uc790 \uc0c9\uae54","Font Background Color":"\uae00\uc790 \ubc30\uacbd \uc0c9\uae54","Document colors":"\ubb38\uc11c \uc0c9\uae54\ub4e4","Find and replace":"\ucc3e\uae30 \ubc0f \ubc14\uafb8\uae30","Find in text\u2026":"\ud14d\uc2a4\ud2b8\uc5d0\uc11c \ucc3e\uae30...",Find:"\ucc3e\uae30","Previous result":"\uc774\uc804 \uacb0\uacfc","Next result":"\ub2e4\uc74c \uacb0\uacfc",Replace:"\ubc14\uafb8\uae30","Replace all":"\ubaa8\ub450 \ubc14\uafb8\uae30","Match case":"\ub300/\uc18c\ubb38\uc790 \uad6c\ubd84","Whole words only":"\uc804\uccb4 \ub2e8\uc5b4\ub9cc","Replace with\u2026":"\ubc14\uafc0 \ub0b4\uc6a9...","Text to find must not be empty.":"\ucc3e\uc744 \ud14d\uc2a4\ud2b8\ub97c \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.","Tip: Find some text first in order to replace it.":"\ud301: \ubc14\uafb8\ub824\ub294 \ud14d\uc2a4\ud2b8\ub97c \uba3c\uc800 \ucc3e\uc73c\uc138\uc694.","Advanced options":"\uace0\uae09 \uc635\uc158","Find in the document":"\ubb38\uc11c\uc5d0\uc11c \ucc3e\uae30","Insert a soft break (a <code>&lt;br&gt;</code> element)":"\uc904 \ubc14\uafc8 \uc0bd\uc785(<code>&lt;br&gt;</code> \uc694\uc18c)","Insert a hard break (a new paragraph)":"\ub2e8\ub77d \ubc14\uafc8 \uc0bd\uc785(\uc0c8 \ub2e8\ub77d)",Cancel:"\ucde8\uc18c",Clear:"\uc9c0\uc6b0\uae30","Remove color":"\uc0c9\uae54 \uc81c\uac70","Restore default":"\uae30\ubcf8\uac12 \ubcf5\uc6d0",Save:"\uc800\uc7a5","Show more items":"\ub354\ubcf4\uae30","%0 of %1":"%0 / %1","Cannot upload file:":"\ud30c\uc77c \uc5c5\ub85c\ub4dc\ud560 \uc218 \uc5c6\uc74c: ","Rich Text Editor. Editing area: %0":"\ub9ac\uce58 \ud14d\uc2a4\ud2b8 \ud3b8\uc9d1\uae30. \ud3b8\uc9d1 \uc601\uc5ed: %0","Insert with file manager":"\ud30c\uc77c \uad00\ub9ac\uc790\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc0bd\uc785","Replace with file manager":"\ud30c\uc77c \uad00\ub9ac\uc790\ub97c \uc0ac\uc6a9\ud558\uc5ec \uad50\uccb4","Insert image with file manager":"\ud30c\uc77c \uad00\ub9ac\uc790\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc774\ubbf8\uc9c0 \uc0bd\uc785","Replace image with file manager":"\ud30c\uc77c \uad00\ub9ac\uc790\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc774\ubbf8\uc9c0 \uad50\uccb4",File:"\ud30c\uc77c","With file manager":"\ud30c\uc77c \uad00\ub9ac \ubc84\ud2bc\uc73c\ub85c \uc774\ubbf8\uc9c0 \uc0bd\uc785","Toggle caption off":"\ucea1\uc158 \uc9c0\uc6b0\uae30","Toggle caption on":"\ucea1\uc158 \ub123\uae30","Content editing keystrokes":"\ucf58\ud150\uce20 \ud3b8\uc9d1 \ud0a4 \uc785\ub825","These keyboard shortcuts allow for quick access to content editing features.":"\uc774\ub7ec\ud55c \ud0a4\ubcf4\ub4dc \ub2e8\ucd95\ud0a4\ub97c \uc0ac\uc6a9\ud558\uba74 \ucf58\ud150\uce20 \ud3b8\uc9d1 \uae30\ub2a5\uc744 \ube60\ub974\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","User interface and content navigation keystrokes":"\uc0ac\uc6a9\uc790 \uc778\ud130\ud398\uc774\uc2a4 \ubc0f \ucf58\ud150\uce20 \ud0d0\uc0c9 \ud0a4 \uc785\ub825","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"\ub2e4\uc74c \ud0a4 \uc785\ub825\uc744 \uc0ac\uc6a9\ud558\uc5ec CKEditor 5 \uc0ac\uc6a9\uc790 \uc778\ud130\ud398\uc774\uc2a4\ub97c \ub354 \ud6a8\uc728\uc801\uc73c\ub85c \ud0d0\uc0c9\ud558\uc138\uc694.","Close contextual balloons, dropdowns, and dialogs":"\uc0c1\ud669\ubcc4 \ud48d\uc120, \ub4dc\ub86d\ub2e4\uc6b4, \ub300\ud654 \uc0c1\uc790 \ub2eb\uae30","Open the accessibility help dialog":"\uc811\uadfc\uc131 \ub3c4\uc6c0\ub9d0 \ub300\ud654 \uc0c1\uc790 \uc5f4\uae30","Move focus between form fields (inputs, buttons, etc.)":"\uc591\uc2dd \ud544\ub4dc(\uc785\ub825, \ubc84\ud2bc \ub4f1) \uac04\uc5d0 \ud3ec\ucee4\uc2a4 \uc774\ub3d9","Move focus to the menu bar, navigate between menu bars":"\uba54\ub274 \ud45c\uc2dc\uc904\ub85c \ud3ec\ucee4\uc2a4 \uc774\ub3d9, \uba54\ub274 \ud45c\uc2dc\uc904 \ud0d0\uc0c9","Move focus to the toolbar, navigate between toolbars":"\ub3c4\uad6c \ubaa8\uc74c\uc73c\ub85c \ud3ec\ucee4\uc2a4 \uc774\ub3d9, \ub3c4\uad6c \ubaa8\uc74c \uac04 \ud0d0\uc0c9","Navigate through the toolbar or menu bar":"\ub3c4\uad6c \ubaa8\uc74c \ub610\ub294 \uba54\ub274 \ud45c\uc2dc\uc904 \ud0d0\uc0c9","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"\ud604\uc7ac \ud3ec\ucee4\uc2a4\uac00 \ub9de\ucdb0\uc9c4 \ubc84\ud2bc\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4. \ud3b8\uc9d1\uae30 \ucf58\ud150\uce20\uc640 \uc0c1\ud638 \uc791\uc6a9\ud558\ub294 \ubc84\ud2bc\uc744 \uc2e4\ud589\ud558\uba74 \ud3ec\ucee4\uc2a4\uac00 \ub2e4\uc2dc \ucf58\ud150\uce20\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4.",Accept:"\uc218\ub77d","Insert code block":"\ucf54\ub4dc \ube14\ub7ed \uc0bd\uc785","Plain text":"\ud3c9\ubb38","Leaving %0 code snippet":"%0 \ucf54\ub4dc \uc2a4\ub2c8\ud3ab \ub0a8\uae30\ub294 \uc911","Entering %0 code snippet":"%0 \ucf54\ub4dc \uc2a4\ub2c8\ud3ab \uc785\ub825\ud558\ub294 \uc911","Entering code snippet":"\ucf54\ub4dc \uc2a4\ub2c8\ud3ab \uc785\ub825\ud558\ub294 \uc911","Leaving code snippet":"\ucf54\ub4dc \uc2a4\ub2c8\ud3ab \ub0a8\uae30\ub294 \uc911","Code block":"\ucf54\ub4dc \ube14\ub85d","Copy selected content":"\uc120\ud0dd\ub41c \ucf58\ud150\uce20 \ubcf5\uc0ac","Paste content":"\ucf58\ud150\uce20 \ubd99\uc5ec\ub123\uae30","Paste content as plain text":"\ucf58\ud150\uce20\ub97c \uc77c\ubc18 \ud14d\uc2a4\ud2b8\ub85c \ubd99\uc5ec\ub123\uae30","Insert image or file":"\uc0ac\uc9c4\uc774\ub098 \ud30c\uc77c\uc744 \uc0bd\uc785","Could not obtain resized image URL.":"\ud06c\uae30\uac00 \uc870\uc808\ub41c \uc0ac\uc9c4\uc758 URL\uc744 \uac00\uc838\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.","Selecting resized image failed":"\ud06c\uae30\uac00 \uc870\uc808\ub41c \uc774\ubbf8\uc9c0 \uc120\ud0dd \uc2e4\ud328","Could not insert image at the current position.":"\ud604\uc7ac \uc704\uce58\uc5d0 \uc0ac\uc9c4\uc744 \uc0bd\uc785\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","Inserting image failed":"\uc0ac\uc9c4 \uc0bd\uc785 \uc2e4\ud328","Open file manager":"\ud30c\uc77c \uad00\ub9ac\uc790 \uc5f4\uae30","Cannot determine a category for the uploaded file.":"\uc5c5\ub85c\ub4dc\ub41c \ud30c\uc77c\uc758 \uce74\ud14c\uace0\ub9ac\ub97c \ud655\uc778\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","Cannot access default workspace.":"\uae30\ubcf8 \uc791\uc5c5 \uacf5\uac04\uc5d0 \uc561\uc138\uc2a4\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","You have no image editing permissions.":"\uc774\ubbf8\uc9c0\ub97c \ud3b8\uc9d1\ud560 \uc218 \uc788\ub294 \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","Edit image":"\uc774\ubbf8\uc9c0 \ud3b8\uc9d1","Processing the edited image.":"\ud3b8\uc9d1\ud55c \uc774\ubbf8\uc9c0\ub97c \ucc98\ub9ac \uc911\uc785\ub2c8\ub2e4.","Server failed to process the image.":"\uc11c\ubc84\uac00 \uc774\ubbf8\uc9c0\ub97c \ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.","Failed to determine category of edited image.":"\ud3b8\uc9d1\ud55c \uc774\ubbf8\uc9c0\uc758 \uce74\ud14c\uace0\ub9ac\ub97c \uacb0\uc815\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.","Block quote":"\uc778\uc6a9 \ub2e8\ub77d",Bold:"\uad75\uac8c",Italic:"\uae30\uc6b8\uc784\uaf34",Underline:"\ubc11\uc904",Code:"\ucf54\ub4dc",Strikethrough:"\ucde8\uc18c\uc120",Subscript:"\uc544\ub798 \ucca8\uc790",Superscript:"\uc704 \ucca8\uc790","Italic text":"\uae30\uc6b8\uc778 \ud14d\uc2a4\ud2b8","Move out of an inline code style":"\uc778\ub77c\uc778 \ucf54\ub4dc \uc2a4\ud0c0\uc77c \ubc16\uc73c\ub85c \uc774\ub3d9","Bold text":"\uad75\uc740 \ud14d\uc2a4\ud2b8","Underline text":"\ud14d\uc2a4\ud2b8 \ubc11\uc904","Strikethrough text":"\ud14d\uc2a4\ud2b8 \ucde8\uc18c\uc120","Saving changes":"\ubcc0\uacbd\ub41c \ub0b4\uc6a9\uc744 \uc800\uc7a5\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4","Revert autoformatting action":"\uc790\ub3d9 \uc11c\uc2dd \uc791\uc5c5 \ub418\ub3cc\ub9ac\uae30","Align left":"\uc67c\ucabd \uc815\ub82c","Align right":"\uc624\ub978\ucabd \uc815\ub82c","Align center":"\uac00\uc6b4\ub370 \uc815\ub82c",Justify:"\uc591\ucabd \uc815\ub82c","Text alignment":"\ud14d\uc2a4\ud2b8 \uc815\ub82c","Text alignment toolbar":"\ud14d\uc2a4\ud2b8 \uc815\ub82c \ud234\ubc14"},getPluralForm:e=>0}},H8=["\uc790\uc720\uae00","\uad00\uc2ec\uc0ac\uacf5\uc720","\ubaa8\uc784\ud6c4\uae30","\uac00\uc785\uc778\uc0ac","\uacf5\uc9c0\uc0ac\ud56d(\uc804\uccb4\uc54c\ub9bc)","\ud22c\ud45c"];function U8(e){let{onChange:t,title:n,setTitle:r,category:o,setCategory:s,content:a,setImage:l}=e;const c=(0,i.useRef)(null),u=(0,i.useRef)(null),d=(0,i.useRef)(null),[h,f]=(0,i.useState)(null),[p,m]=(0,i.useState)(!1),[g,v]=(0,i.useState)(!1),b=e=>({upload:()=>new Promise(((t,n)=>{const r=new FormData;e.file.then((e=>{r.append("file",e),ch.post("http://localhost:4000/clubs/boards/upload",r).then((e=>{l(e.data.filename);const n=function(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}(),r=e.data.filename;t({default:`http://localhost:4000/upload/${n}/${r}`})})).catch((e=>n(e)))}))}))});function y(e){e.plugins.get("FileRepository").createUploadAdapter=e=>b(e)}(0,i.useEffect)((()=>(m(!0),()=>m(!1))),[]);const w={toolbar:{items:["undo","redo","|","selectAll","|","heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","code","|","specialCharacters","horizontalLine","link","insertImage","insertTable","blockQuote","codeBlock","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent","|","accessibilityHelp"],shouldNotGroupWhenFull:!1},plugins:[e$,kG,hq,CJ,S1,pq,nG,iX,sG,xq,PZ,Aq,ZZ,mK,XK,$K,PK,zK,sQ,uQ,Image,WJ,ZJ,UJ,p0,f0,M0,W0,MJ,H0,u0,G0,Q0,Pq,T1,D1,S2,X2,K4,JK,_3,sK,hH,M3,E3,O3,R3,j3,D3,P3,Lq,v7,N8,h8,V8,M8,_7,tq,o5,Vq,pK,y],balloonToolbar:["bold","italic","|","link","insertImage","|","bulletedList","numberedList"],blockToolbar:["fontSize","fontColor","fontBackgroundColor","|","bold","italic","|","link","insertImage","insertTable","|","bulletedList","numberedList","outdent","indent"],fontFamily:{supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},image:{toolbar:["toggleImageCaption","imageTextAlternative","|","imageStyle:inline","imageStyle:wrapText","imageStyle:breakText","|","resizeImage"]},initialData:a||"",language:"ko",link:{addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694\ud83d\ude06",table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties"]},translations:[W8]};return(0,i.useEffect)((()=>{h&&h.model.document.on("change:data",(()=>{const e=h.getData();t(e)}))}),[h,t]),(0,je.jsxs)(We,{mb:2,children:[(0,je.jsx)(Mv,{label:"Title",variant:"outlined",fullWidth:!0,margin:"normal",value:n,onChange:e=>r(e.target.value)}),(0,je.jsxs)(Fg,{fullWidth:!0,margin:"normal",children:[(0,je.jsx)(jg,{children:"Category"}),(0,je.jsx)(_v,{value:o,onChange:e=>s(e.target.value),label:"Category",children:H8.map((e=>(0,je.jsx)(Es,{value:e,children:e},e)))})]}),(0,je.jsx)("div",{className:"main-container",children:(0,je.jsxs)("div",{className:"editor-container editor-container_document-editor",ref:c,children:[(0,je.jsx)("div",{className:"editor-container__toolbar",ref:u}),(0,je.jsx)("div",{className:"editor-container__editor-wrapper",children:(0,je.jsx)("div",{className:"editor-container__editor",children:(0,je.jsx)("div",{ref:d,children:p&&(0,je.jsx)(DM,{onReady:e=>{u.current.appendChild(e.ui.view.toolbar.element),f(e)},onAfterDestroy:()=>{u.current&&Array.from(u.current.children).forEach((e=>e.remove()))},onChange:(e,n)=>{const r=n.getData();t(r)},onBlur:(e,t)=>{console.log("Blur.",t)},onFocus:(e,t)=>{console.log("Focus.",t)},editor:JZ,config:{...w,extraPlugins:[y]}})})})})]})})]})}function $8(e){return(0,He.Ay)("MuiFormGroup",e)}(0,Fe.A)("MuiFormGroup",["root","row","error"]);const Y8=["className","row"],G8=(0,ft.Ay)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),q8=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiFormGroup"}),{className:r,row:i=!1}=n,o=(0,Ce.A)(n,Y8),s=Dm({props:n,muiFormControl:Om(),states:["error"]}),a=(0,_e.A)({},n,{row:i,error:s.error}),l=(e=>{const{classes:t,row:n,error:r}=e,i={root:["root",n&&"row",r&&"error"]};return(0,Ue.A)(i,$8,t)})(a);return(0,je.jsx)(G8,(0,_e.A)({className:(0,ke.A)(l.root,r),ownerState:a,ref:t},o))})),X8=q8;function Z8(e){return(0,He.Ay)("MuiFormControlLabel",e)}const K8=(0,Fe.A)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Q8=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],J8=(0,ft.Ay)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${K8.label}`]:t.label},t.root,t[`labelPlacement${(0,ht.A)(n.labelPlacement)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${K8.disabled}`]:{cursor:"default"}},"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${K8.label}`]:{[`&.${K8.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})})),e9=(0,ft.Ay)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{[`&.${K8.error}`]:{color:(t.vars||t).palette.error.main}}})),t9=i.forwardRef((function(e,t){var n,r;const o=(0,pt.b)({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:h="end",required:f,slotProps:p={}}=o,m=(0,Ce.A)(o,Q8),g=Om(),v=null!=(n=null!=c?c:l.props.disabled)?n:null==g?void 0:g.disabled,b=null!=f?f:l.props.required,y={disabled:v,required:b};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof l.props[e]&&"undefined"!==typeof o[e]&&(y[e]=o[e])}));const w=Dm({props:o,muiFormControl:g,states:["error"]}),x=(0,_e.A)({},o,{disabled:v,labelPlacement:h,required:b,error:w.error}),_=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:o}=e,s={root:["root",n&&"disabled",`labelPlacement${(0,ht.A)(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return(0,Ue.A)(s,Z8,t)})(x),C=null!=(r=p.typography)?r:a.typography;let k=d;return null==k||k.type===Ks||u||(k=(0,je.jsx)(Ks,(0,_e.A)({component:"span"},C,{className:(0,ke.A)(_.label,null==C?void 0:C.className),children:k}))),(0,je.jsxs)(J8,(0,_e.A)({className:(0,ke.A)(_.root,s),ownerState:x,ref:t},m,{children:[i.cloneElement(l,y),b?(0,je.jsxs)(rI,{display:"block",children:[k,(0,je.jsxs)(e9,{ownerState:x,"aria-hidden":!0,className:_.asterisk,children:["\u2009","*"]})]}):k]}))})),n9=t9,r9=e=>{let{options:t,setOptions:n,allowMultiple:r,setAllowMultiple:o,anonymous:s,setAnonymous:a,endTime:l,setEndTime:c,title:u,setTitle:d,category:h,setCategory:f}=e;(0,i.useEffect)((()=>{t.length<2&&n(["",""])}),[t,n]);return(0,i.useEffect)((()=>{l||c((()=>{const e=new Date;return e.setDate(e.getDate()+1),e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().slice(0,16)})())}),[l,c]),(0,je.jsxs)(We,{sx:{padding:2},children:[(0,je.jsx)(Mv,{label:"\ud22c\ud45c \uc81c\ubaa9",variant:"outlined",fullWidth:!0,margin:"normal",value:u,onChange:e=>d(e.target.value)}),(0,je.jsxs)(Fg,{fullWidth:!0,margin:"normal",children:[(0,je.jsx)(jg,{children:"Category"}),(0,je.jsx)(_v,{value:h,onChange:e=>f(e.target.value),label:"Category",children:["\uc790\uc720\uae00","\uad00\uc2ec\uc0ac\uacf5\uc720","\ubaa8\uc784\ud6c4\uae30","\uac00\uc785\uc778\uc0ac","\uacf5\uc9c0\uc0ac\ud56d(\uc804\uccb4\uc54c\ub9bc)","\ud22c\ud45c"].map((e=>(0,je.jsx)(Es,{value:e,children:e},e)))})]}),t.map(((e,r)=>(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,je.jsx)(Mv,{label:`\ud22c\ud45c \ud56d\ubaa9 ${r+1}`,variant:"outlined",fullWidth:!0,margin:"normal",value:e,onChange:e=>((e,r)=>{const i=[...t];i[e]=r,n(i)})(r,e.target.value)}),t.length>2&&(0,je.jsx)(eo,{onClick:()=>(e=>{t.length>2&&n(t.filter(((t,n)=>n!==e)))})(r),sx:{ml:1},children:(0,je.jsx)(Ea.A,{})})]},r))),(0,je.jsx)(la,{variant:"contained",onClick:()=>{n([...t,""])},sx:{backgroundColor:"#DBC7B5",color:"#000","&:hover":{backgroundColor:"#A67153"}},children:"\ud56d\ubaa9 \ucd94\uac00"}),(0,je.jsx)(X8,{children:(0,je.jsx)(n9,{control:(0,je.jsx)(Gv,{checked:s,onChange:e=>a(e.target.checked)}),label:"\uc775\uba85 \ud22c\ud45c"})}),(0,je.jsx)(Mv,{label:"\ud22c\ud45c \uc885\ub8cc \uc2dc\uac04",type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",value:l,onChange:e=>c(e.target.value),inputProps:{min:(()=>{const e=new Date;return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().slice(0,16)})()}})]})};function i9(e){return(0,He.Ay)("MuiPagination",e)}(0,Fe.A)("MuiPagination",["root","ul","outlined","text"]);const o9=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function s9(e){return(0,He.Ay)("MuiPaginationItem",e)}const a9=(0,Fe.A)("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),l9=(0,hp.A)((0,je.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),c9=(0,hp.A)((0,je.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),u9=(0,hp.A)((0,je.jsx)("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),d9=(0,hp.A)((0,je.jsx)("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),h9=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],f9=(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${(0,ht.A)(n.size)}`],"text"===n.variant&&t[`text${(0,ht.A)(n.color)}`],"outlined"===n.variant&&t[`outlined${(0,ht.A)(n.color)}`],"rounded"===n.shape&&t.rounded,"page"===n.type&&t.page,("start-ellipsis"===n.type||"end-ellipsis"===n.type)&&t.ellipsis,("previous"===n.type||"next"===n.type)&&t.previousNext,("first"===n.type||"last"===n.type)&&t.firstLast]},p9=(0,ft.Ay)("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:f9})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({},t.typography.body2,{borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,height:"auto",[`&.${a9.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"small"===n.size&&{minWidth:26,borderRadius:13,margin:"0 1px",padding:"0 4px"},"large"===n.size&&{minWidth:40,borderRadius:20,padding:"0 10px",fontSize:t.typography.pxToRem(15)})})),m9=(0,ft.Ay)(qi,{name:"MuiPaginationItem",slot:"Root",overridesResolver:f9})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({},t.typography.body2,{borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,[`&.${a9.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${a9.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},transition:t.transitions.create(["color","background-color"],{duration:t.transitions.duration.short}),"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${a9.selected}`]:{backgroundColor:(t.vars||t).palette.action.selected,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Nt.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${a9.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Nt.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},[`&.${a9.disabled}`]:{opacity:1,color:(t.vars||t).palette.action.disabled,backgroundColor:(t.vars||t).palette.action.selected}}},"small"===n.size&&{minWidth:26,height:26,borderRadius:13,margin:"0 1px",padding:"0 4px"},"large"===n.size&&{minWidth:40,height:40,borderRadius:20,padding:"0 10px",fontSize:t.typography.pxToRem(15)},"rounded"===n.shape&&{borderRadius:(t.vars||t).shape.borderRadius})}),(e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({},"text"===n.variant&&{[`&.${a9.selected}`]:(0,_e.A)({},"standard"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}},[`&.${a9.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}},{[`&.${a9.disabled}`]:{color:(t.vars||t).palette.action.disabled}})},"outlined"===n.variant&&{border:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${a9.selected}`]:(0,_e.A)({},"standard"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.5)`:(0,Nt.X4)(t.palette[n.color].main,.5)}`,backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.activatedOpacity})`:(0,Nt.X4)(t.palette[n.color].main,t.palette.action.activatedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / calc(${t.vars.palette.action.activatedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Nt.X4)(t.palette[n.color].main,t.palette.action.activatedOpacity+t.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${a9.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / calc(${t.vars.palette.action.activatedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Nt.X4)(t.palette[n.color].main,t.palette.action.activatedOpacity+t.palette.action.focusOpacity)}},{[`&.${a9.disabled}`]:{borderColor:(t.vars||t).palette.action.disabledBackground,color:(t.vars||t).palette.action.disabled}})})})),g9=(0,ft.Ay)("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,t)=>t.icon})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({fontSize:t.typography.pxToRem(20),margin:"0 -8px"},"small"===n.size&&{fontSize:t.typography.pxToRem(18)},"large"===n.size&&{fontSize:t.typography.pxToRem(22)})})),v9=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiPaginationItem"}),{className:r,color:i="standard",component:o,components:s={},disabled:a=!1,page:l,selected:c=!1,shape:u="circular",size:d="medium",slots:h={},type:f="page",variant:p="text"}=n,m=(0,Ce.A)(n,h9),g=(0,_e.A)({},n,{color:i,disabled:a,selected:c,shape:u,size:d,type:f,variant:p}),v=zt(),b=(e=>{const{classes:t,color:n,disabled:r,selected:i,size:o,shape:s,type:a,variant:l}=e,c={root:["root",`size${(0,ht.A)(o)}`,l,s,"standard"!==n&&`color${(0,ht.A)(n)}`,"standard"!==n&&`${l}${(0,ht.A)(n)}`,r&&"disabled",i&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[a]],icon:["icon"]};return(0,Ue.A)(c,s9,t)})(g),y=(v?{previous:h.next||s.next||d9,next:h.previous||s.previous||u9,last:h.first||s.first||l9,first:h.last||s.last||c9}:{previous:h.previous||s.previous||u9,next:h.next||s.next||d9,first:h.first||s.first||l9,last:h.last||s.last||c9})[f];return"start-ellipsis"===f||"end-ellipsis"===f?(0,je.jsx)(p9,{ref:t,ownerState:g,className:(0,ke.A)(b.root,r),children:"\u2026"}):(0,je.jsxs)(m9,(0,_e.A)({ref:t,ownerState:g,component:o,disabled:a,className:(0,ke.A)(b.root,r)},m,{children:["page"===f&&l,y?(0,je.jsx)(g9,{as:y,ownerState:g,className:b.icon}):null]}))})),b9=v9,y9=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],w9=(0,ft.Ay)("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})({}),x9=(0,ft.Ay)("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,t)=>t.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function _9(e,t,n){return"page"===e?`${n?"":"Go to "}page ${t}`:`Go to ${e} page`}const C9=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiPagination"}),{boundaryCount:r=1,className:i,color:o="standard",count:s=1,defaultPage:a=1,disabled:l=!1,getItemAriaLabel:c=_9,hideNextButton:u=!1,hidePrevButton:d=!1,renderItem:h=e=>(0,je.jsx)(b9,(0,_e.A)({},e)),shape:f="circular",showFirstButton:p=!1,showLastButton:m=!1,siblingCount:g=1,size:v="medium",variant:b="text"}=n,y=(0,Ce.A)(n,y9),{items:w}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{boundaryCount:t=1,componentName:n="usePagination",count:r=1,defaultPage:i=1,disabled:o=!1,hideNextButton:s=!1,hidePrevButton:a=!1,onChange:l,page:c,showFirstButton:u=!1,showLastButton:d=!1,siblingCount:h=1}=e,f=(0,Ce.A)(e,o9),[p,m]=(0,Gw.A)({controlled:c,default:i,name:n,state:"page"}),g=(e,t)=>{c||m(t),l&&l(e,t)},v=(e,t)=>{const n=t-e+1;return Array.from({length:n},((t,n)=>e+n))},b=v(1,Math.min(t,r)),y=v(Math.max(r-t+1,t+1),r),w=Math.max(Math.min(p-h,r-t-2*h-1),t+2),x=Math.min(Math.max(p+h,t+2*h+2),y.length>0?y[0]-2:r-1),_=[...u?["first"]:[],...a?[]:["previous"],...b,...w>t+2?["start-ellipsis"]:t+1<r-t?[t+1]:[],...v(w,x),...x<r-t-1?["end-ellipsis"]:r-t>t?[r-t]:[],...y,...s?[]:["next"],...d?["last"]:[]],C=e=>{switch(e){case"first":return 1;case"previous":return p-1;case"next":return p+1;case"last":return r;default:return null}},k=_.map((e=>"number"===typeof e?{onClick:t=>{g(t,e)},type:"page",page:e,selected:e===p,disabled:o,"aria-current":e===p?"true":void 0}:{onClick:t=>{g(t,C(e))},type:e,page:C(e),selected:!1,disabled:o||-1===e.indexOf("ellipsis")&&("next"===e||"last"===e?p>=r:p<=1)}));return(0,_e.A)({items:k},f)}((0,_e.A)({},n,{componentName:"Pagination"})),x=(0,_e.A)({},n,{boundaryCount:r,color:o,count:s,defaultPage:a,disabled:l,getItemAriaLabel:c,hideNextButton:u,hidePrevButton:d,renderItem:h,shape:f,showFirstButton:p,showLastButton:m,siblingCount:g,size:v,variant:b}),_=(e=>{const{classes:t,variant:n}=e,r={root:["root",n],ul:["ul"]};return(0,Ue.A)(r,i9,t)})(x);return(0,je.jsx)(w9,(0,_e.A)({"aria-label":"pagination navigation",className:(0,ke.A)(_.root,i),ownerState:x,ref:t},y,{children:(0,je.jsx)(x9,{className:_.ul,ownerState:x,children:w.map(((e,t)=>(0,je.jsx)("li",{children:h((0,_e.A)({},e,{color:o,"aria-label":c(e.type,e.page,e.selected),shape:f,size:v,variant:b}))},t)))})}))})),k9=C9;var S9=n(6502);const A9=async e=>{try{return(await gh.get(`http://localhost:4000/clubs/boards/posts/${e}`)).data}catch(t){throw console.error("\uac8c\uc2dc\ubb3c \uc870\ud68c \uc624\ub958:",t),t}},T9=async e=>{try{await gh.delete(`http://localhost:4000/clubs/boards/posts/${e}`)}catch(t){throw console.error("\uac8c\uc2dc\ubb3c \uc0ad\uc81c \uc624\ub958:",t),t}},I9=async(e,t)=>{try{await gh.put(`http://localhost:4000/clubs/boards/posts/${e}`,t)}catch(n){throw console.error("\uac8c\uc2dc\ubb3c \uc5c5\ub370\uc774\ud2b8 \uc624\ub958:",n),n}},M9=async e=>{try{return(await gh.get(`/clubs/boards/votes/${e}/summary`)).data}catch(t){throw console.error("\ud22c\ud45c \uc694\uc57d \uc815\ubcf4\ub97c \uac00\uc838\uc624\ub294 \uc911 \uc624\ub958 \ubc1c\uc0dd:",t),t}};var E9=class extends If{#R;#L;#l;constructor(e){super(),this.mutationId=e.mutationId,this.#L=e.mutationCache,this.#R=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#R.includes(e)||(this.#R.push(e),this.clearGcTimeout(),this.#L.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#R=this.#R.filter((t=>t!==e)),this.scheduleGc(),this.#L.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#R.length||("pending"===this.state.status?this.scheduleGc():this.#L.remove(this))}continue(){return this.#l?.continue()??this.execute(this.state.variables)}async execute(e){this.#l=Tf({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:()=>{this.#d({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#L.canRun(this)});const t="pending"===this.state.status,n=!this.#l.canStart();try{if(!t){this.#d({type:"pending",variables:e,isPaused:n}),await(this.#L.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#d({type:"pending",context:t,variables:e,isPaused:n})}const r=await this.#l.start();return await(this.#L.config.onSuccess?.(r,e,this.state.context,this)),await(this.options.onSuccess?.(r,e,this.state.context)),await(this.#L.config.onSettled?.(r,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(r,null,e,this.state.context)),this.#d({type:"success",data:r}),r}catch(r){try{throw await(this.#L.config.onError?.(r,e,this.state.context,this)),await(this.options.onError?.(r,e,this.state.context)),await(this.#L.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,r,e,this.state.context)),r}finally{this.#d({type:"error",error:r})}}finally{this.#L.runNext(this)}}#d(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),yf.batch((()=>{this.#R.forEach((t=>{t.onMutationUpdate(e)})),this.#L.notify({mutation:this,type:"updated",action:e})}))}};var P9=class extends wf{#h;#g=void 0;#N;#B;constructor(e,t){super(),this.#h=e,this.setOptions(t),this.bindMethods(),this.#F()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#h.defaultMutationOptions(e),uf(this.options,t)||this.#h.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#N,observer:this}),t?.mutationKey&&this.options.mutationKey&&af(t.mutationKey)!==af(this.options.mutationKey)?this.reset():"pending"===this.#N?.state.status&&this.#N.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#N?.removeObserver(this)}onMutationUpdate(e){this.#F(),this.#O(e)}getCurrentResult(){return this.#g}reset(){this.#N?.removeObserver(this),this.#N=void 0,this.#F(),this.#O()}mutate(e,t){return this.#B=t,this.#N?.removeObserver(this),this.#N=this.#h.getMutationCache().build(this.#h,this.options),this.#N.addObserver(this),this.#N.execute(e)}#F(){const e=this.#N?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#g={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#O(e){yf.batch((()=>{if(this.#B&&this.hasListeners()){const t=this.#g.variables,n=this.#g.context;"success"===e?.type?(this.#B.onSuccess?.(e.data,t,n),this.#B.onSettled?.(e.data,null,t,n)):"error"===e?.type&&(this.#B.onError?.(e.error,t,n),this.#B.onSettled?.(void 0,e.error,t,n))}this.listeners.forEach((e=>{e(this.#g)}))}))}};function D9(e,t){const n=zf(t),[r]=i.useState((()=>new P9(n,e)));i.useEffect((()=>{r.setOptions(e)}),[r,e]);const o=i.useSyncExternalStore(i.useCallback((e=>r.subscribe(yf.batchCalls(e))),[r]),(()=>r.getCurrentResult()),(()=>r.getCurrentResult())),s=i.useCallback(((e,t)=>{r.mutate(e,t).catch($f)}),[r]);if(o.error&&Uf(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:s,mutateAsync:o.mutate}}function j9(e){let{onChange:t,content:n,setImage:r,readOnly:o}=e;(0,i.useRef)(null);const s=(0,i.useRef)(null),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!1),d=e=>({upload:()=>new Promise(((t,n)=>{const i=new FormData;e.file.then((e=>{i.append("file",e),ch.post("http://localhost:4000/clubs/boards/upload",i).then((e=>{r(e.data.filename);const n=function(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}(),i=e.data.filename;t({default:`http://localhost:4000/upload/${n}/${i}`})})).catch((e=>n(e)))}))}))});function h(e){e.plugins.get("FileRepository").createUploadAdapter=e=>d(e)}(0,i.useEffect)((()=>(u(!0),()=>u(!1))),[]);const f={plugins:[e$,kG,hq,CJ,S1,pq,nG,iX,sG,xq,PZ,Aq,ZZ,mK,XK,$K,PK,zK,sQ,uQ,$J,WJ,ZJ,UJ,p0,f0,M0,W0,MJ,H0,u0,G0,Q0,Pq,T1,D1,S2,X2,L4,K4,JK,B4,_3,sK,hH,M3,E3,O3,R3,j3,D3,P3,Lq,v7,N8,h8,V8,M8,_7,tq,o5,Vq,pK,h],fontFamily:{supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},initialData:n||"",language:"ko",link:{addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694\ud83d\ude06",translations:[W8]};return(0,i.useEffect)((()=>{a&&(a.model.document.on("change:data",(()=>{const e=a.getData();t(e)})),o?a.enableReadOnlyMode("readOnly"):a.disableReadOnlyMode("readOnly"))}),[a,t,o]),(0,je.jsx)(We,{mb:2,children:(0,je.jsx)("div",{className:"main-container",children:(0,je.jsx)("div",{className:"editor-container__editor",children:(0,je.jsx)("div",{ref:s,children:c&&(0,je.jsx)(DM,{onReady:e=>{l(e),o&&e.enableReadOnlyMode("readOnly")},onChange:(e,n)=>{const r=n.getData();t(r)},onBlur:(e,t)=>{console.log("Blur.",t)},onFocus:(e,t)=>{console.log("Focus.",t)},editor:JZ,config:{...f,extraPlugins:[h]}})})})})})}const O9=["\uc790\uc720\uae00","\uad00\uc2ec\uc0ac\uacf5\uc720","\ubaa8\uc784\ud6c4\uae30","\uac00\uc785\uc778\uc0ac","\uacf5\uc9c0\uc0ac\ud56d(\uc804\uccb4\uc54c\ub9bc)"];function R9(e){let{post:t,onChange:n,title:r,setTitle:o,category:s,setCategory:a,content:l,setImage:c}=e;const u=(0,i.useRef)(null),d=(0,i.useRef)(null),h=(0,i.useRef)(null),[f,p]=(0,i.useState)(null),[m,g]=(0,i.useState)(!1),[v,b]=(0,i.useState)(!1),y=e=>({upload:()=>new Promise(((t,n)=>{const r=new FormData;e.file.then((e=>{r.append("file",e),ch.post("http://localhost:4000/clubs/boards/upload",r).then((e=>{c(e.data.filename);const n=function(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}(),r=e.data.filename;t({default:`http://localhost:4000/upload/${n}/${r}`})})).catch((e=>n(e)))}))}))});function w(e){e.plugins.get("FileRepository").createUploadAdapter=e=>y(e)}(0,i.useEffect)((()=>(g(!0),()=>g(!1))),[]);const x={toolbar:{items:["undo","redo","|","selectAll","|","heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","code","|","specialCharacters","horizontalLine","link","insertImage","mediaEmbed","insertTable","blockQuote","codeBlock","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent","|","accessibilityHelp"],shouldNotGroupWhenFull:!1},plugins:[e$,kG,hq,CJ,S1,pq,nG,iX,sG,xq,PZ,Aq,ZZ,mK,XK,$K,PK,zK,sQ,uQ,Image,WJ,ZJ,UJ,p0,f0,M0,W0,MJ,H0,u0,G0,Q0,Pq,T1,D1,S2,X2,K4,JK,_3,sK,hH,M3,E3,O3,R3,j3,D3,P3,Lq,v7,N8,h8,V8,M8,_7,tq,o5,Vq,pK,w],balloonToolbar:["bold","italic","|","link","insertImage","|","bulletedList","numberedList"],blockToolbar:["fontSize","fontColor","fontBackgroundColor","|","bold","italic","|","link","insertImage","insertTable","|","bulletedList","numberedList","outdent","indent"],fontFamily:{supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},image:{toolbar:["toggleImageCaption","imageTextAlternative","|","imageStyle:inline","imageStyle:wrapText","imageStyle:breakText","|","resizeImage"]},initialData:l||"",language:"ko",link:{addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694\ud83d\ude06",table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties"]},translations:[W8]};return(0,i.useEffect)((()=>{f&&f.model.document.on("change:data",(()=>{const e=f.getData();n(e)}))}),[f,n]),(0,je.jsxs)(We,{mb:2,children:[(0,je.jsx)(Mv,{label:"Title",variant:"outlined",fullWidth:!0,margin:"normal",value:t.title,onChange:e=>o(e.target.value)}),(0,je.jsxs)(Fg,{fullWidth:!0,margin:"normal",children:[(0,je.jsx)(jg,{children:"Category"}),(0,je.jsx)(_v,{value:t.category,onChange:e=>a(e.target.value),label:"Category",children:O9.map((e=>(0,je.jsx)(Es,{value:e,children:e},e)))})]}),(0,je.jsx)("div",{className:"main-container",children:(0,je.jsxs)("div",{className:"editor-container editor-container_document-editor",ref:u,children:[(0,je.jsx)("div",{className:"editor-container__toolbar",ref:d}),(0,je.jsx)("div",{className:"editor-container__editor-wrapper",children:(0,je.jsx)("div",{className:"editor-container__editor",children:(0,je.jsx)("div",{ref:h,children:m&&(0,je.jsx)(DM,{onReady:e=>{d.current.appendChild(e.ui.view.toolbar.element),p(e)},onAfterDestroy:()=>{d.current&&Array.from(d.current.children).forEach((e=>e.remove()))},onChange:(e,t)=>{const r=t.getData();n(r)},onBlur:(e,t)=>{console.log("Blur.",t)},onFocus:(e,t)=>{console.log("Focus.",t)},editor:JZ,config:{...x,extraPlugins:[w]}})})})})]})})]})}var L9=n(4217);function N9(e){return(0,He.Ay)("MuiCircularProgress",e)}(0,Fe.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const B9=["className","color","disableShrink","size","style","thickness","value","variant"];let F9,z9,V9,W9,H9=e=>e;const U9=44,$9=(0,Ii.i7)(F9||(F9=H9`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Y9=(0,Ii.i7)(z9||(z9=H9`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),G9=(0,ft.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${(0,ht.A)(n.color)}`]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,_e.A)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,Ii.AH)(V9||(V9=H9`
      animation: ${0} 1.4s linear infinite;
    `),$9)})),q9=(0,ft.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),X9=(0,ft.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${(0,ht.A)(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:n}=e;return(0,_e.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,Ii.AH)(W9||(W9=H9`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Y9)})),Z9=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:o=!1,size:s=40,style:a,thickness:l=3.6,value:c=0,variant:u="indeterminate"}=n,d=(0,Ce.A)(n,B9),h=(0,_e.A)({},n,{color:i,disableShrink:o,size:s,thickness:l,value:c,variant:u}),f=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${(0,ht.A)(r)}`],svg:["svg"],circle:["circle",`circle${(0,ht.A)(n)}`,i&&"circleDisableShrink"]};return(0,Ue.A)(o,N9,t)})(h),p={},m={},g={};if("determinate"===u){const e=2*Math.PI*((U9-l)/2);p.strokeDasharray=e.toFixed(3),g["aria-valuenow"]=Math.round(c),p.strokeDashoffset=`${((100-c)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,je.jsx)(G9,(0,_e.A)({className:(0,ke.A)(f.root,r),style:(0,_e.A)({width:s,height:s},m,a),ownerState:h,ref:t,role:"progressbar"},g,d,{children:(0,je.jsx)(q9,{className:f.svg,ownerState:h,viewBox:"22 22 44 44",children:(0,je.jsx)(X9,{className:f.circle,style:p,ownerState:h,cx:U9,cy:U9,r:(U9-l)/2,fill:"none",strokeWidth:l})})}))})),K9=Z9;var Q9=n(5678),J9=n(6178),eee=n.n(J9),tee=(n(3545),n(7385));eee().locale("ko");const nee=e=>{let{postType:t,postId:n}=e;const[r,o]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(null),[p,m]=(0,i.useState)(""),[g,v]=(0,i.useState)(null),[b,y]=(0,i.useState)(!1),[w,x]=(0,i.useState)(""),[_,C]=(0,i.useState)("success"),[k,S]=(0,i.useState)(null),[A,T]=(0,i.useState)(null),[I,M]=(0,i.useState)(null),E=zf(),P=sl((e=>{var t,n,r;return null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.nickName})),{data:D,isLoading:j,isError:O,error:R}=Jf({queryKey:["replies",t,n],queryFn:async()=>(await gh.get(`http://localhost:4000/replies/board/${n}`)).data.replies,retry:3}),L=D9({mutationFn:e=>gh.post(`http://localhost:4000/replies/board/add/${e.postId}`,e),onSuccess:()=>{E.invalidateQueries(["replies",t,n]),o(""),a(""),V("\ub313\uae00\uc774 \uc131\uacf5\uc801\uc73c\ub85c \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","success")},onError:e=>{V(`\ub313\uae00 \ub4f1\ub85d \uc911 \uc5d0\ub7ec \ubc1c\uc0dd: ${e.message}`,"error")}}),N=D9({mutationFn:e=>{let{replyId:t,writer:n}=e;return gh.delete(`http://localhost:4000/replies/board/delete/${t}`,{data:{writer:n}})},onSuccess:()=>{E.invalidateQueries(["replies",t,n]),V("\ub313\uae00\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","success")},onError:e=>{V(`\ub313\uae00 \uc0ad\uc81c \uc911 \uc5d0\ub7ec \ubc1c\uc0dd: ${e.message}`,"error")}}),B=D9({mutationFn:e=>{let{replyId:t,writer:n,comment:r}=e;return gh.put(`http://localhost:4000/replies/board/edit/${t}`,{writer:n,comment:r})},onSuccess:()=>{E.invalidateQueries(["replies",t,n]),V("\ub313\uae00\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","success"),c(null),d(""),f(null),m("")},onError:e=>{V(`\ub313\uae00 \uc218\uc815 \uc911 \uc5d0\ub7ec \ubc1c\uc0dd: ${e.message}`,"error")}}),F=e=>{a(e.target.value)},z=()=>{""!==r.trim()&&L.mutate({postType:t,postId:n,writer:P,comment:r})},V=(e,t)=>{x(e),C(t),y(!0)},W=()=>{y(!1)},H=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];S(e.currentTarget),n?M(t):T(t)},U=()=>{S(null),T(null),M(null)},$=()=>{""!==u.trim()&&B.mutate({replyId:l,writer:P,comment:u})},Y=()=>{""!==p.trim()&&B.mutate({replyId:h,writer:P,comment:p})};return console.log("postType",t),console.log("postId",n),(0,je.jsxs)(II,{sx:{height:"200px",maxHeight:"400px",p:.5,border:"1px solid grey",borderRadius:"8px",flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,je.jsx)(II,{sx:{flexGrow:1,overflowY:"auto",mb:1,position:"relative"},children:j?(0,je.jsx)(II,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,je.jsx)(K9,{})}):O?(0,je.jsx)(Ks,{color:"error",children:`Error: ${R.message}`}):Array.isArray(D)&&D.length>0?D.map(((e,r)=>(0,je.jsx)(II,{sx:{marginBottom:"2px"},children:(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"flex-start"},children:[(0,je.jsx)(Sp,{src:e.writerProfileImage||"default-profile.png",alt:e.writerNickName||"Unknown",sx:{width:40,height:40,marginRight:"16px"}}),(0,je.jsxs)(II,{sx:{flexGrow:1},children:[(0,je.jsxs)(II,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"center"},children:[(0,je.jsx)(Ks,{variant:"body1",sx:{fontWeight:"bold"},children:e.writerNickName||"Unknown"}),(0,je.jsx)(eo,{onClick:t=>H(t,e),size:"small",sx:{ml:1},children:(0,je.jsx)(tee.A,{})})]}),(0,je.jsx)(Ks,{variant:"caption",sx:{color:"gray"},children:eee()(e.createdAt).fromNow()})]}),l===e._id?(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"center",marginTop:"8px"},children:[(0,je.jsx)(Mv,{fullWidth:!0,variant:"outlined",value:u,onChange:e=>d(e.target.value),multiline:!0,minRows:1,maxRows:4,sx:{"& .MuiInputBase-root":{paddingTop:"0px",paddingBottom:"0px",minHeight:"32px"},"& .MuiOutlinedInput-input":{paddingTop:"4px",paddingBottom:"4px"},"& .MuiOutlinedInput-root":{minHeight:"32px"}}}),(0,je.jsx)(eo,{color:"primary",onClick:$,children:(0,je.jsx)(Q9.A,{})})]}):(0,je.jsx)(Ks,{variant:"body2",sx:{wordBreak:"break-word",whiteSpace:"pre-wrap"},children:e.comment}),e.replies&&e.replies.length>0&&(0,je.jsx)(II,{sx:{marginLeft:"0px",marginTop:"8px"},children:e.replies.map(((e,t)=>(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"flex-start",marginBottom:"8px"},children:[(0,je.jsx)(Sp,{src:e.writerProfileImage||"default-profile.png",alt:e.writerNickName||"Unknown",sx:{width:30,height:30,marginRight:"12px"}}),(0,je.jsxs)(II,{sx:{flexGrow:1},children:[(0,je.jsxs)(II,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"center"},children:[(0,je.jsx)(Ks,{variant:"body2",sx:{fontWeight:"bold"},children:e.writerNickName||"Unknown"}),(0,je.jsx)(eo,{onClick:t=>H(t,e,!0),size:"small",sx:{ml:1},children:(0,je.jsx)(tee.A,{})})]}),(0,je.jsx)(Ks,{variant:"caption",sx:{color:"gray"},children:eee()(e.createdAt).fromNow()})]}),h===e._id?(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"center",marginTop:"8px"},children:[(0,je.jsx)(Mv,{fullWidth:!0,variant:"outlined",value:p,onChange:e=>m(e.target.value),multiline:!0,minRows:1,maxRows:4,sx:{"& .MuiInputBase-root":{paddingTop:"0px",paddingBottom:"0px",minHeight:"32px"},"& .MuiOutlinedInput-input":{paddingTop:"4px",paddingBottom:"4px"},"& .MuiOutlinedInput-root":{minHeight:"32px"}}}),(0,je.jsx)(eo,{color:"primary",onClick:Y,children:(0,je.jsx)(Q9.A,{})})]}):(0,je.jsx)(Ks,{variant:"body2",sx:{wordBreak:"break-word",whiteSpace:"pre-wrap"},children:e.comment})]})]},t)))}),(0,je.jsx)(la,{variant:"text",sx:{marginTop:"2px"},onClick:()=>v(r),children:"\ub2f5\uae00"}),g===r&&(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"center",marginTop:"8px"},children:[(0,je.jsx)(Mv,{fullWidth:!0,variant:"outlined",placeholder:"\ub2f5\uae00\uc744 \uc785\ub825\ud558\uc138\uc694",value:s,onChange:F,multiline:!0,minRows:1,maxRows:4,sx:{"& .MuiInputBase-root":{paddingTop:"0px",paddingBottom:"0px",minHeight:"32px"},"& .MuiOutlinedInput-input":{paddingTop:"4px",paddingBottom:"4px"},"& .MuiOutlinedInput-root":{minHeight:"32px"}}}),(0,je.jsx)(eo,{color:"primary",onClick:()=>{return r=e._id,void(""!==s.trim()&&(L.mutate({postType:t,postId:n,writer:P,comment:s,parentReplyId:r}),v(null)));var r},children:(0,je.jsx)(Q9.A,{})})]})]})]})},r))):(0,je.jsx)(Ks,{children:"No comments available"})}),(0,je.jsxs)(ws,{anchorEl:k,open:Boolean(k),onClose:U,children:[(0,je.jsx)(Es,{onClick:()=>{A&&A.writerNickName===P?(c(A._id),d(A.comment)):I&&I.writerNickName===P&&(f(I._id),m(I.comment)),U()},children:"\uc218\uc815\ud558\uae30"}),(0,je.jsx)(Es,{onClick:()=>{A?N.mutate({replyId:A._id,writer:P}):I&&N.mutate({replyId:I._id,writer:P}),U()},children:"\uc0ad\uc81c\ud558\uae30"})]}),(0,je.jsx)(II,{sx:{display:"flex",alignItems:"center"},children:(0,je.jsx)(Mv,{fullWidth:!0,variant:"outlined",placeholder:"\ub313\uae00\uc744 \uc785\ub825\ud558\uc138\uc694",value:r,onChange:e=>{o(e.target.value)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),z())},multiline:!0,minRows:1,maxRows:10,sx:{mb:1,"& .MuiInputBase-root":{paddingTop:"0px",paddingBottom:"0px",minHeight:"32px"},"& .MuiOutlinedInput-input":{paddingTop:"4px",paddingBottom:"4px"},"& .MuiOutlinedInput-root":{minHeight:"32px"}},InputProps:{endAdornment:(0,je.jsx)(Cx,{position:"end",children:(0,je.jsx)(eo,{color:"primary",onClick:z,sx:{padding:"4px"},children:(0,je.jsx)(Q9.A,{fontSize:"small"})})})}})}),(0,je.jsx)(Vp,{open:b,autoHideDuration:4e3,onClose:W,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,je.jsx)(qI,{onClose:W,severity:_,sx:{width:"100%"},children:w})})]})},ree=e=>{let{postId:t,onClose:n}=e;const r=zf(),o=sl((e=>{var t,n,r;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.email)||null})),{data:s,isLoading:a,error:l}=Jf({queryKey:["post",t],queryFn:()=>A9(t),onSuccess:e=>{console.log("\uac8c\uc2dc\ubb3c \uac00\uc838\uc624\uae30 \uc131\uacf5:",e)},onError:e=>{console.error("\uac8c\uc2dc\ubb3c \uac00\uc838\uc624\uae30 \uc624\ub958:",e)}}),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(""),[m,g]=(0,i.useState)(""),[v,b]=(0,i.useState)(""),[y,w]=(0,i.useState)(""),[x,_]=(0,i.useState)(!1),[C,k]=(0,i.useState)(!1),[S,A]=(0,i.useState)(""),[T,I]=(0,i.useState)("error");(0,i.useEffect)((()=>{s?(p(s.title),g(s.category),b(s.content),w(s.image||""),_(s.author===o)):(p(""),g(""),b(""),w(""),_(!1))}),[s,o]);const M=D9({mutationFn:()=>T9(t),onSuccess:()=>{r.invalidateQueries(["posts"]),n()},onError:e=>{console.error("\uac8c\uc2dc\ubb3c \uc0ad\uc81c \uc624\ub958:",e)}}),E=D9({mutationFn:()=>I9(t,{title:f,category:m,content:v,image:y}),onSuccess:()=>{r.invalidateQueries(["posts"]),u(!1),n()},onError:e=>{console.error("\uac8c\uc2dc\ubb3c \uc5c5\ub370\uc774\ud2b8 \uc624\ub958:",e)}}),P=()=>u(!1),D=(e,t)=>{A(e),I(t),k(!0)},j=()=>k(!1);if(a)return(0,je.jsx)("div",{children:"Loading..."});if(l)return(0,je.jsxs)("div",{children:["\uac8c\uc2dc\ubb3c \uac00\uc838\uc624\uae30 \uc624\ub958: ",l.message]});if(!s)return(0,je.jsx)("div",{children:"\uac8c\uc2dc\ubb3c\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"});return(0,je.jsx)(gt,{children:s&&(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)("div",{className:"fetched-content",children:(0,je.jsx)(j9,{content:s.content,readOnly:!0})}),x&&(0,je.jsxs)(We,{mt:2,sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,je.jsx)(L9.A,{sx:{color:"#999999",fontSize:"40px",flexShrink:0},onClick:()=>h((e=>!e))}),(0,je.jsxs)(We,{sx:{display:"flex",gap:1},children:[(0,je.jsx)(la,{variant:"contained",sx:{backgroundColor:"#DBC7B5",color:"#000","&:hover":{backgroundColor:"#A67153"}},onClick:()=>{s&&(p(s.title),g(s.category),b(s.content),w(s.image||"")),u(!0)},children:"\uc218\uc815"}),(0,je.jsx)(la,{variant:"contained",sx:{backgroundColor:"#6E3C21",color:"#fff","&:hover":{backgroundColor:"#A67153"}},onClick:()=>M.mutate(),children:"\uc0ad\uc81c"})]})]}),d&&(0,je.jsx)(We,{sx:{padding:2},children:(0,je.jsx)(nee,{postType:"Board",postId:t})}),(0,je.jsxs)(ya,{open:c,onClose:P,fullWidth:!0,maxWidth:"lg",children:[(0,je.jsx)(ka,{children:"\uac8c\uc2dc\ubb3c \uc218\uc815"}),(0,je.jsx)(Ia,{children:(0,je.jsx)(R9,{post:{title:f,category:m,content:v,image:y},onChange:e=>b(e),title:f,setTitle:p,category:m,setCategory:g,content:v,setImage:w})}),(0,je.jsxs)(GS,{children:[(0,je.jsx)(la,{onClick:P,color:"primary",children:"\ub2eb\uae30"}),(0,je.jsx)(la,{onClick:()=>{f?v?E.mutate():D("\ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","error"):D("\uc81c\ubaa9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","error")},color:"primary",children:"\uc800\uc7a5"})]})]}),(0,je.jsx)(Vp,{open:C,autoHideDuration:6e3,onClose:j,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,je.jsx)(qI,{onClose:j,severity:T,children:S})})]})})},iee=(0,ft.Ay)(cA)((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",borderRadius:"4px",padding:t.spacing(1),marginBottom:t.spacing(1),border:`1px solid ${t.palette.divider}`,backgroundColor:t.palette.background.paper,transition:"background-color 0.3s","&:hover":{backgroundColor:t.palette.action.hover},boxSizing:"border-box"}})),oee=e=>{let{voteId:t,onDelete:n}=e;const[r,o]=(0,i.useState)(null),[s,a]=(0,i.useState)([]),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(null),[p,m]=(0,i.useState)(!1),[g,v]=(0,i.useState)([]),[b,y]=(0,i.useState)(!1),[w,x]=(0,i.useState)(!1),_=zf(),C=sl((e=>{var t,n,r;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.email)||null}));(0,i.useEffect)((()=>{(async()=>{try{const e=await(async e=>{try{return(await gh.get(`/clubs/boards/votes/${e}`)).data}catch(t){throw console.error("\ud22c\ud45c \uc815\ubcf4\ub97c \uac00\uc838\uc624\ub294 \uc911 \uc624\ub958 \ubc1c\uc0dd:",t),t}})(t);o(e);const n=new Date,r=new Date(e.endTime);y(n>r);const i=await M9(t);a(i);const s=e.votes.some((e=>e.emails.includes(C)));d(s);const l=e.votes.filter((e=>e.emails.includes(C))).map((e=>e.option));v(l),m(e.author===C)}catch(e){console.error("\ud22c\ud45c \ub370\uc774\ud130\ub97c \uac00\uc838\uc624\ub294 \uc911 \uc624\ub958 \ubc1c\uc0dd:",e)}})()}),[t,C]);const k=D9({mutationFn:()=>(async e=>{try{await gh.delete(`/clubs/boards/votes/${e}`)}catch(t){throw console.error("\ud22c\ud45c \uc0ad\uc81c \uc911 \uc624\ub958 \ubc1c\uc0dd:",t),t}})(t),onSuccess:()=>{_.invalidateQueries(["posts"]),n&&n()},onError:e=>{console.error("\ud22c\ud45c \uc0ad\uc81c \uc911 \uc624\ub958 \ubc1c\uc0dd:",e)}}),S=D9({mutationFn:()=>(async(e,t,n)=>{try{await gh.post(`/clubs/boards/votes/${e}/vote`,{option:t,email:n})}catch(r){throw console.error("\ud22c\ud45c\ud558\uae30 \uc911 \uc624\ub958 \ubc1c\uc0dd:",r),r}})(t,h,C),onSuccess:()=>{d(!0),v([...g,h]);const e=s.map((e=>e.option===h?{...e,count:e.count+1}:e));a(e),y(!0)},onError:e=>{console.error("\ud22c\ud45c\ud558\uae30 \uc911 \uc624\ub958 \ubc1c\uc0dd:",e)}}),A=(D9({mutationFn:()=>(async(e,t,n)=>{try{await gh.put(`/clubs/boards/votes/${e}`,{option:t,email:n})}catch(r){throw console.error("\ud22c\ud45c \ucde8\uc18c \uc911 \uc624\ub958 \ubc1c\uc0dd:",r),r}})(t,h,C),onSuccess:async()=>{d(!1),f(null),v(g.filter((e=>e!==h)));const e=await M9(t);a(e)},onError:e=>{console.error("\ud22c\ud45c \ucde8\uc18c \uc911 \uc624\ub958 \ubc1c\uc0dd:",e)}}),async()=>{try{const e=await M9(t);a(e),c(!0)}catch(e){console.error("\ud22c\ud45c \uc694\uc57d \uc815\ubcf4\ub97c \uac00\uc838\uc624\ub294 \uc911 \uc624\ub958 \ubc1c\uc0dd:",e)}}),T=()=>{c(!1)};return(0,je.jsx)(gt,{children:r&&(0,je.jsxs)(je.Fragment,{children:[(0,je.jsxs)(We,{sx:{padding:2},children:[(0,je.jsx)(Mv,{label:"\ud22c\ud45c \uc81c\ubaa9",variant:"outlined",fullWidth:!0,margin:"normal",value:r.title,readOnly:!0}),!u&&!b&&(0,je.jsx)(so,{children:r.options.map(((e,t)=>{var n;null===(n=s.find((t=>t.option===e)))||void 0===n||n.count;return(0,je.jsx)(iee,{onClick:()=>(e=>{u||f(e)})(e),children:(0,je.jsx)(oM,{primary:e})},t)}))}),(0,je.jsxs)(We,{my:2,children:[b?(0,je.jsx)(la,{variant:"contained",color:"primary",onClick:A,mr:2,sx:{backgroundColor:"#DBC7B5",color:"#000","&:hover":{backgroundColor:"#A67153"}},children:"\ud22c\ud45c \uacb0\uacfc \ubcf4\uae30"}):(0,je.jsx)(je.Fragment,{children:u?(0,je.jsx)(la,{variant:"contained",color:"primary",onClick:A,mr:2,sx:{backgroundColor:"#DBC7B5",color:"#000","&:hover":{backgroundColor:"#A67153"}},children:"\ud22c\ud45c \uacb0\uacfc \ubcf4\uae30"}):(0,je.jsx)(la,{variant:"contained",color:"primary",onClick:()=>{h&&!u&&S.mutate()},disabled:!h,mr:2,sx:{backgroundColor:"#DBC7B5",color:"#000","&:hover":{backgroundColor:"#A67153"}},children:"\ud22c\ud45c\ud558\uae30"})}),p&&(0,je.jsx)(la,{variant:"contained",color:"error",onClick:()=>{k.mutate()},mr:2,sx:{backgroundColor:"#6E3C21",color:"#fff","&:hover":{backgroundColor:"#A67153"}},children:"\ud22c\ud45c \uc0ad\uc81c"})]}),(0,je.jsx)(Mv,{label:"\ud22c\ud45c \uc885\ub8cc \uc2dc\uac04",type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",value:(e=>{const t=new Date(e);return new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().slice(0,16)})(r.endTime),readOnly:!0})]}),(0,je.jsx)(We,{sx:{display:"flex",justifyContent:"flex-end",width:"100%"},children:(0,je.jsx)(L9.A,{sx:{color:"#999999",fontSize:"30px",marginRight:"15px",cursor:"pointer"},onClick:()=>x((e=>!e))})}),w&&(0,je.jsx)(We,{sx:{padding:2},children:(0,je.jsx)(nee,{postType:"Board",postId:t})}),(0,je.jsxs)(ya,{open:l,onClose:T,fullWidth:!0,maxWidth:"lg",children:[(0,je.jsx)(ka,{children:"\ud22c\ud45c \uacb0\uacfc"}),(0,je.jsx)(Ia,{children:(0,je.jsx)(so,{children:s.map(((e,t)=>(0,je.jsxs)(cA,{children:[(0,je.jsx)(oM,{primary:e.option}),(0,je.jsx)(oM,{secondary:`\uc120\ud0dd \uc218: ${e.count}`}),!r.anonymous&&(0,je.jsx)(oM,{secondary:`\ud22c\ud45c\ud55c \uc0ac\ub78c: ${e.emails}`})]},t)))})}),(0,je.jsx)(GS,{children:(0,je.jsx)(la,{onClick:T,color:"primary",children:"\ub2eb\uae30"})})]})]})})},see=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)("\uc804\uccb4"),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(1),[f,p]=(0,i.useState)(1),m=Q(),g=ee(),v=new URLSearchParams(m.search).get("clubNumber"),{data:b,isLoading:y,error:w}=Jf({queryKey:["posts",v,d],queryFn:()=>async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";try{const i=await gh.get("http://localhost:4000/clubs/boards/all",{params:{clubNumber:e,page:t,limit:n,category:r}}),{boards:o,totalBoards:s,totalPages:a}=i.data;if(!o||"number"!==typeof s||"number"!==typeof a)throw new Error("Invalid response data");return{boards:o,totalBoards:s,totalPages:a}}catch(w){throw console.error("\uac8c\uc2dc\ubb3c \ubaa9\ub85d \uc870\ud68c \uc624\ub958:",w),w}}(v,d,12),keepPreviousData:!0});(0,i.useEffect)((()=>{b&&p(b.totalPages)}),[b]);const x=(null===b||void 0===b?void 0:b.boards)||[],_=()=>{l(!1),t(null),r(""),u("")};if(y)return(0,je.jsx)("p",{children:"\ub85c\ub529 \uc911..."});if(w)return(0,je.jsxs)("p",{children:["\ub370\uc774\ud130\ub97c \uac00\uc838\uc624\ub294 \uc911 \uc624\ub958 \ubc1c\uc0dd: ",w.message]});const C=x.filter((e=>"\uc804\uccb4"===o||e.category===o));return(0,je.jsxs)(gt,{maxWidth:"md",children:[(0,je.jsx)(We,{mt:1,sx:{"& button":{m:1}},children:["\uc804\uccb4","\uacf5\uc9c0\uc0ac\ud56d(\uc804\uccb4\uc54c\ub9bc)","\uc790\uc720\uae00","\uad00\uc2ec\uc0ac\uacf5\uc720","\ubaa8\uc784\ud6c4\uae30","\uac00\uc785\uc778\uc0ac","\ud22c\ud45c"].map((e=>(0,je.jsx)(la,{variant:o===e?"contained":"outlined",size:"small",onClick:()=>(e=>{s(e)})(e),sx:{bgcolor:o===e?"#DBC7B5":"transparent",color:o===e?"#fff":"#000",borderColor:o===e?"#DBC7B5":"#BDC0C8","&:hover":{bgcolor:"#A67153",borderColor:"#A67153",color:"#fff"}},children:e},e)))}),(0,je.jsx)(We,{sx:{minHeight:"400px",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",borderRadius:"4px",p:2},children:(0,je.jsx)(so,{sx:{width:"100%"},children:0===C.length?(0,je.jsx)(Ks,{variant:"body1",color:"textSecondary",children:"\uac8c\uc2dc\ubb3c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):C.map((e=>{return(0,je.jsx)(i.Fragment,{children:(0,je.jsxs)(cA,{button:!0,onClick:()=>((e,n,i)=>{t(e),r(n),u(i),l(!0)})(e._id,e.category,e.title),sx:{borderBottom:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,je.jsx)(oM,{primary:(0,je.jsx)(Ks,{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",minWidth:0,flexGrow:1},children:(n=e.title,o=45,n.length>o?n.slice(0,o)+"...":n)}),secondary:`${e.category||" \ud22c\ud45c "} ${e.endTime?`\uc885\ub8cc\uc2dc\uac04: ${new Date(e.endTime).toLocaleString()}`:""}`}),(0,je.jsx)(S9.A,{onClick:()=>((e,t)=>{g("\ud22c\ud45c"===t?`vote/${e}?clubNumber=${v}`:`read/${e}?clubNumber=${v}`)})(e._id,e.category),sx:{cursor:"pointer"}})]})},e._id);var n,o}))})}),(0,je.jsx)(We,{sx:{mt:2,display:"flex",justifyContent:"center"},children:(0,je.jsx)(k9,{count:f,page:d,onChange:(e,t)=>{h(t)},variant:"outlined",shape:"rounded",sx:{"& .MuiPaginationItem-root":{bgcolor:"transparent",color:"#000",borderColor:"#BDC0C8"},"& .MuiPaginationItem-page.Mui-selected":{bgcolor:"#DBC7B5",color:"#fff"},"& .MuiPaginationItem-previousNext":{bgcolor:"transparent",color:"#000",borderColor:"#BDC0C8"}}})}),(0,je.jsxs)(ya,{open:a,onClose:_,fullWidth:!0,maxWidth:"lg",children:[(0,je.jsx)(ka,{children:"\ud22c\ud45c"===n?null:c}),(0,je.jsxs)(Ia,{children:["\ud22c\ud45c"===n&&(0,je.jsx)(oee,{voteId:e,title:c,onDelete:()=>_()}),"\ud22c\ud45c"!==n&&(0,je.jsx)(ree,{postId:e,title:c,onClose:()=>_()})]})]})]})},aee=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(""),[o,s]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(["",""]),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[v,b]=(0,i.useState)(""),[y,w]=(0,i.useState)(!1),[x,_]=(0,i.useState)(!1),[C,k]=(0,i.useState)(""),[S,A]=(0,i.useState)("success"),T=Q(),I=new URLSearchParams(T.search).get("clubNumber"),M=sl((e=>{var t,n,r;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.email)||null}));(0,i.useEffect)((()=>{M&&I&&(async(e,t)=>{try{return(await gh.get("http://localhost:4000/clubs/boards/membership",{params:{clubNumber:e,email:t}})).data.isMember}catch(n){throw console.error("\ud68c\uc6d0 \uc5ec\ubd80 \ud655\uc778 \uc624\ub958:",n),n}})(I,M).then(w).catch((()=>w(!1)))}),[M,I]);const E=()=>(new Date).toISOString().split("T")[0],P=()=>{t(!1),"\ud22c\ud45c"===a?j():D()},D=()=>{s(""),l(""),r("")},j=()=>{s(""),l(""),h(["",""]),p(!1),g(!1),b("")},O=(e,t)=>{k(e),A(t),_(!0)},R=()=>{_(!1)};return(0,je.jsxs)(gt,{children:[y&&(0,je.jsx)(dp,{onClick:()=>{t(!0)},"aria-label":"add",sx:{backgroundColor:"#DBC7B5",color:"white",position:"fixed",bottom:"50px",right:"100px","&:hover":{backgroundColor:"#A67153"}},children:(0,je.jsx)($p.A,{})}),(0,je.jsx)(see,{}),(0,je.jsxs)(ya,{open:e,onClose:P,fullWidth:!0,maxWidth:"lg",PaperProps:{style:{height:"80%",maxHeight:"80%"}},children:[(0,je.jsx)(ka,{children:"\uae00\uc4f0\uae30"}),(0,je.jsx)(Ia,{dividers:!0,sx:{maxHeight:"calc(80vh - 100px)",overflowY:"auto"},children:"\ud22c\ud45c"===a?(0,je.jsx)(r9,{title:o,setTitle:s,category:a,setCategory:l,options:d,setOptions:h,allowMultiple:f,setAllowMultiple:p,anonymous:m,setAnonymous:g,endTime:v,setEndTime:b}):(0,je.jsx)(U8,{onChange:r,title:o,setTitle:s,category:a,setCategory:l,setImage:u})}),(0,je.jsxs)(GS,{children:[(0,je.jsx)(la,{onClick:P,color:"primary",children:"\ub2eb\uae30"}),(0,je.jsx)(la,{onClick:"\ud22c\ud45c"===a?async()=>{if(o&&a&&!d.some((e=>!e.trim()))&&v)try{await(async e=>{try{await gh.post("http://localhost:4000/clubs/boards/votes",e)}catch(t){throw console.error("\ud22c\ud45c \uc800\uc7a5 \uc624\ub958:",t),t}})({clubNumber:I,create_at:E(),author:M,title:o,category:a,options:d,allowMultiple:f,anonymous:m,endTime:v}),P()}catch{O("\ud22c\ud45c \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.","error")}else O("\ubaa8\ub4e0 \ud544\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.","error")}:async()=>{if(o&&a&&n)try{await(async e=>{try{await gh.post("http://localhost:4000/clubs/boards/posts",e)}catch(t){throw console.error("\uac8c\uc2dc\uae00 \uc800\uc7a5 \uc624\ub958:",t),t}})({clubNumber:I,create_at:E(),author:M,title:o,category:a,content:n}),P()}catch{O("\uac8c\uc2dc\uae00 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.","error")}else O("\ubaa8\ub4e0 \ud544\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.","error")},color:"primary",children:"\uc800\uc7a5"})]})]}),(0,je.jsx)(Vp,{open:x,autoHideDuration:6e3,onClose:R,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,je.jsx)(qI,{onClose:R,severity:S,sx:{width:"100%"},children:C})}),(0,je.jsx)(We,{m:5})]})},lee=e=>{let{postId:t,onClose:n}=e;const{id:r}=ne(),o=Q(),{data:s,isLoading:a,error:l}=(new URLSearchParams(o.search).get("clubNumber"),Jf({queryKey:["post",r],queryFn:()=>A9(r),onSuccess:e=>{console.log("\uac8c\uc2dc\ubb3c \uac00\uc838\uc624\uae30 \uc131\uacf5:",e)},onError:e=>{console.error("\uac8c\uc2dc\ubb3c \uac00\uc838\uc624\uae30 \uc624\ub958:",e)}})),c=zf(),u=sl((e=>{var t,n,r;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.email)||null})),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(""),[v,b]=(0,i.useState)(""),[y,w]=(0,i.useState)(""),[x,_]=(0,i.useState)(""),[C,k]=(0,i.useState)(!1),[S,A]=(0,i.useState)(!1),[T,I]=(0,i.useState)(""),[M,E]=(0,i.useState)("error");(0,i.useEffect)((()=>{s?(g(s.title),b(s.category),w(s.content),_(s.image||""),k(s.author===u)):(g(""),b(""),w(""),_(""),k(!1))}),[s,u]);const P=D9({mutationFn:()=>T9(t),onSuccess:()=>{c.invalidateQueries(["posts"]),n()},onError:e=>{console.error("\uac8c\uc2dc\ubb3c \uc0ad\uc81c \uc624\ub958:",e)}}),D=D9({mutationFn:()=>I9(t,{title:m,category:v,content:y,image:x}),onSuccess:()=>{c.invalidateQueries(["posts"]),h(!1),n()},onError:e=>{console.error("\uac8c\uc2dc\ubb3c \uc5c5\ub370\uc774\ud2b8 \uc624\ub958:",e)}}),j=()=>h(!1),O=(e,t)=>{I(e),E(t),A(!0)},R=()=>A(!1);if(a)return(0,je.jsx)("p",{children:"\ub85c\ub529 \uc911... \ub9ac\ub4dc\ud398\uc774\uc9c0\uc785\ub2c8\ub2e4\uc5ec"});if(l)return(0,je.jsxs)("p",{children:["\uac8c\uc2dc\ubb3c \uac00\uc838\uc624\uae30 \uc624\ub958: ",l.message]});if(!s)return(0,je.jsx)("p",{children:"\uac8c\uc2dc\ubb3c\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."});return(0,je.jsxs)(gt,{children:[(0,je.jsxs)(We,{sx:{mb:2},children:[(0,je.jsx)(Ks,{variant:"h4",children:s.title}),(0,je.jsxs)(We,{sx:{display:"flex",gap:2,alignItems:"center",mt:.5,mb:2},children:[(0,je.jsx)(Ks,{variant:"subtitle1",color:"textSecondary",children:s.category}),(0,je.jsx)(Ks,{children:"\uc791\uc131\uc790"}),(0,je.jsx)(Ks,{children:"\uc791\uc131 \uc2dc\uac04"})]}),(0,je.jsx)(Gy,{})]}),(0,je.jsx)(We,{sx:{display:"flex",justifyContent:"center",mb:2},children:(0,je.jsxs)(We,{sx:{maxWidth:"1000px",width:"100%"},children:[(0,je.jsx)(j9,{content:s.content,readOnly:!0}),(0,je.jsx)(We,{mt:2,sx:{display:"flex",justifyContent:"flex-end",width:"100%"},children:(0,je.jsxs)(We,{sx:{display:"flex",gap:1},children:[(0,je.jsx)(la,{variant:"contained",sx:{backgroundColor:"#DBC7B5",color:"#000","&:hover":{backgroundColor:"#A67153"}},onClick:()=>{s&&(g(s.title),b(s.category),w(s.content),_(s.image||"")),h(!0)},children:"\uc218\uc815"}),(0,je.jsx)(la,{variant:"contained",sx:{backgroundColor:"#6E3C21",color:"#fff","&:hover":{backgroundColor:"#A67153"}},onClick:()=>P.mutate(),children:"\uc0ad\uc81c"})]})})]})}),(0,je.jsx)(We,{sx:{padding:2},children:(0,je.jsx)(nee,{postType:"Board",postId:r})}),(0,je.jsxs)(ya,{open:d,onClose:j,fullWidth:!0,maxWidth:"lg",children:[(0,je.jsx)(ka,{children:"\uac8c\uc2dc\ubb3c \uc218\uc815"}),(0,je.jsx)(Ia,{children:(0,je.jsx)(R9,{post:{title:m,category:v,content:y,image:x},onChange:e=>w(e),title:m,setTitle:g,category:v,setCategory:b,content:y,setImage:_})}),(0,je.jsxs)(GS,{children:[(0,je.jsx)(la,{onClick:j,color:"primary",children:"\ub2eb\uae30"}),(0,je.jsx)(la,{onClick:()=>{m?y?D.mutate():O("\ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","error"):O("\uc81c\ubaa9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","error")},color:"primary",children:"\uc800\uc7a5"})]})]}),(0,je.jsx)(Vp,{open:S,autoHideDuration:6e3,onClose:R,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,je.jsx)(qI,{onClose:R,severity:M,children:T})})]})},cee=(0,ft.Ay)(cA)((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",borderRadius:"4px",padding:t.spacing(1),marginBottom:t.spacing(1),border:`1px solid ${t.palette.divider}`,backgroundColor:t.palette.background.paper,transition:"background-color 0.3s","&:hover":{backgroundColor:t.palette.action.hover},boxSizing:"border-box"}})),uee=e=>{let{voteId:t,onDelete:n}=e;const{id:r}=ne(),o=Q(),[s,a]=(new URLSearchParams(o.search).get("clubNumber"),(0,i.useState)(null)),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)(null),[g,v]=(0,i.useState)(!1),[b,y]=(0,i.useState)([]),[w,x]=(0,i.useState)(!1),_=zf(),C=sl((e=>{var t,n,r;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.email)||null}));(0,i.useEffect)((()=>{(async()=>{try{const e=await ch.get(`http://localhost:4000/clubs/boards/votes/${r}`);a(e.data);const t=new Date,n=new Date(e.data.endTime);x(t>n);const i=await ch.get(`http://localhost:4000/clubs/boards/votes/${r}/summary`);c(i.data);const o=e.data.votes.some((e=>e.emails.includes(C)));f(o);const s=e.data.votes.filter((e=>e.emails.includes(C))).map((e=>e.option));y(s),v(e.data.author===C)}catch(e){console.error("\ud22c\ud45c\ub97c \uac00\uc838\uc624\ub294 \uc911 \uc624\ub958 \ubc1c\uc0dd:",e)}})()}),[r,C]);const{mutate:k}=D9({mutationFn:async()=>{await ch.delete(`http://localhost:4000/clubs/boards/votes/${r}`)},onSuccess:()=>{_.invalidateQueries(["posts"]),n&&n()},onError:e=>{console.error("\ud22c\ud45c \uc0ad\uc81c \uc911 \uc624\ub958 \ubc1c\uc0dd:",e)}}),S=()=>{d(!1)};return console.log("vote:",s),(0,je.jsxs)(gt,{children:[(0,je.jsx)(Ks,{variant:"h4",component:"h1",gutterBottom:!0,children:"\ud22c\ud45c \ub0b4\uc6a9"}),s&&(0,je.jsx)(je.Fragment,{children:(0,je.jsxs)(We,{sx:{padding:2},children:[(0,je.jsx)(Mv,{label:"\ud22c\ud45c \uc81c\ubaa9",variant:"outlined",fullWidth:!0,margin:"normal",value:s.title,readOnly:!0}),!h&&!w&&(0,je.jsx)(so,{children:s.options.map(((e,t)=>{var n;null===(n=l.find((t=>t.option===e)))||void 0===n||n.count;return(0,je.jsx)(cee,{onClick:()=>(e=>{h||m(e)})(e),children:(0,je.jsx)(oM,{primary:e})},t)}))}),(0,je.jsxs)(We,{my:2,children:[w?(0,je.jsx)(la,{variant:"contained",color:"primary",onClick:async()=>{try{const e=await ch.get(`http://localhost:4000/clubs/boards/votes/${r}/summary`);c(e.data),d(!0)}catch(e){console.error("Error fetching vote summary:",e)}},mr:2,children:"\ud22c\ud45c \uacb0\uacfc \ubcf4\uae30"}):(0,je.jsx)(je.Fragment,{children:h?(0,je.jsx)(la,{variant:"contained",color:"primary",onClick:async()=>{if(p&&h)try{await ch.put(`http://localhost:4000/clubs/boards/votes/${r}`,{option:p,email:C}),f(!1),m(null),y(b.filter((e=>e!==p)));const e=await ch.get(`http://localhost:4000/clubs/boards/votes/${r}/summary`);c(e.data)}catch(e){console.error("\ud22c\ud45c \ucde8\uc18c \uc911 \uc624\ub958 \ubc1c\uc0dd:",e)}},mr:2,children:"\ud22c\ud45c \ucde8\uc18c\ud558\uae30"}):(0,je.jsx)(la,{variant:"contained",color:"primary",onClick:async()=>{if(p&&!h)try{await ch.post(`http://localhost:4000/clubs/boards/votes/${r}/vote`,{option:p,email:C}),f(!0),y([...b,p]);const e=l.map((e=>e.option===p?{...e,count:e.count+1}:e));c(e)}catch(e){console.error("Error updating vote count:",e)}},disabled:!p,mr:2,children:"\ud22c\ud45c\ud558\uae30"})}),g&&(0,je.jsx)(la,{variant:"contained",color:"error",onClick:()=>{k()},mr:2,children:"\ud22c\ud45c \uc0ad\uc81c"})]}),(0,je.jsx)(Mv,{label:"\ud22c\ud45c \uc885\ub8cc \uc2dc\uac04",type:"datetime-local",InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",value:(e=>{const t=new Date(e);return new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().slice(0,16)})(s.endTime),readOnly:!0}),(0,je.jsx)(We,{sx:{padding:2},children:(0,je.jsx)(nee,{postType:"Board",postId:r})})]})}),(0,je.jsxs)(ya,{open:u,onClose:S,fullWidth:!0,maxWidth:"md",children:[(0,je.jsx)(ka,{children:"\ud22c\ud45c \uacb0\uacfc"}),(0,je.jsx)(Ia,{children:(0,je.jsx)(so,{children:l.map(((e,t)=>(0,je.jsxs)(cA,{children:[(0,je.jsx)(oM,{primary:e.option}),(0,je.jsx)(oM,{secondary:`\uc120\ud0dd \uc218: ${e.count}`}),!s.anonymous&&(0,je.jsx)(oM,{secondary:`\ud22c\ud45c\ud55c \uc0ac\ub78c: ${e.emails}`})]},t)))})}),(0,je.jsx)(GS,{children:(0,je.jsx)(la,{onClick:S,color:"primary",children:"\ub2eb\uae30"})})]})]})};const dee=function(){return(0,je.jsxs)(we,{children:[(0,je.jsx)(be,{path:"",element:(0,je.jsx)(aee,{})}),(0,je.jsx)(be,{path:"read/:id",element:(0,je.jsx)(lee,{})}),(0,je.jsx)(be,{path:"vote/:id",element:(0,je.jsx)(uee,{})})]})};function hee(e){return(0,He.Ay)("MuiImageList",e)}(0,Fe.A)("MuiImageList",["root","masonry","quilted","standard","woven"]);const fee=i.createContext({}),pee=["children","className","cols","component","rowHeight","gap","style","variant"],mee=(0,ft.Ay)("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},"masonry"===t.variant&&{display:"block"})})),gee=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiImageList"}),{children:r,className:o,cols:s=2,component:a="ul",rowHeight:l="auto",gap:c=4,style:u,variant:d="standard"}=n,h=(0,Ce.A)(n,pee),f=i.useMemo((()=>({rowHeight:l,gap:c,variant:d})),[l,c,d]);i.useEffect((()=>{0}),[]);const p="masonry"===d?(0,_e.A)({columnCount:s,columnGap:c},u):(0,_e.A)({gridTemplateColumns:`repeat(${s}, 1fr)`,gap:c},u),m=(0,_e.A)({},n,{component:a,gap:c,rowHeight:l,variant:d}),g=(e=>{const{classes:t,variant:n}=e,r={root:["root",n]};return(0,Ue.A)(r,hee,t)})(m);return(0,je.jsx)(mee,(0,_e.A)({as:a,className:(0,ke.A)(g.root,g[d],o),ref:t,style:p,ownerState:m},h,{children:(0,je.jsx)(fee.Provider,{value:f,children:r})}))})),vee=gee;function bee(e){return(0,He.Ay)("MuiImageListItem",e)}const yee=(0,Fe.A)("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]),wee=["children","className","cols","component","rows","style"],xee=(0,ft.Ay)("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${yee.img}`]:t.img},t.root,t[n.variant]]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({display:"block",position:"relative"},"standard"===t.variant&&{display:"flex",flexDirection:"column"},"woven"===t.variant&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},{[`& .${yee.img}`]:(0,_e.A)({objectFit:"cover",width:"100%",height:"100%",display:"block"},"standard"===t.variant&&{height:"auto",flexGrow:1})})})),_ee=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiImageListItem"}),{children:r,className:o,cols:s=1,component:a="li",rows:l=1,style:c}=n,u=(0,Ce.A)(n,wee),{rowHeight:d="auto",gap:h,variant:f}=i.useContext(fee);let p="auto";"woven"===f?p=void 0:"auto"!==d&&(p=d*l+h*(l-1));const m=(0,_e.A)({},n,{cols:s,component:a,gap:h,rowHeight:d,rows:l,variant:f}),g=(e=>{const{classes:t,variant:n}=e,r={root:["root",n],img:["img"]};return(0,Ue.A)(r,bee,t)})(m);return(0,je.jsx)(xee,(0,_e.A)({as:a,className:(0,ke.A)(g.root,g[f],o),ref:t,style:(0,_e.A)({height:p,gridColumnEnd:"masonry"!==f?`span ${s}`:void 0,gridRowEnd:"masonry"!==f?`span ${l}`:void 0,marginBottom:"masonry"===f?h:void 0,breakInside:"masonry"===f?"avoid":void 0},c),ownerState:m},u,{children:i.Children.map(r,(e=>i.isValidElement(e)?"img"===e.type||(0,Og.A)(e,["Image"])?i.cloneElement(e,{className:(0,ke.A)(g.img,e.props.className)}):e:null))}))})),Cee=_ee,kee=e=>{let{image:t}=e;const[n,r]=(0,i.useState)("perspective(350px) rotateX(0deg) rotateY(0deg)");return(0,je.jsx)(We,{onMouseMove:e=>{const t=e.currentTarget.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top,o=t.width/2,s=t.height/2;r(`perspective(350px) rotateX(${-(i-s)/s*20}deg) rotateY(${(n-o)/o*20}deg)`)},onMouseOut:()=>{r("perspective(350px) rotateX(0deg) rotateY(0deg)")},sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",transform:n,transition:"transform 0.2s ease",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f0f0f0",borderRadius:"8px"},children:(0,je.jsx)(We,{component:"img",src:t,alt:"",sx:{width:"100%",height:"100%",objectFit:"cover"}})})};var See=n(8855),Aee=n(2497),Tee=n(1577);const Iee=e=>{let{images:t}=e;return(0,je.jsx)(Tee.FN,{showThumbs:!1,infiniteLoop:!0,useKeyboardArrows:!0,autoFocus:!0,showStatus:!1,showArrows:t.length>1,centerMode:!1,children:t.map(((e,t)=>(0,je.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,je.jsx)("img",{src:e,alt:`slide-${t}`,style:{maxHeight:"500px",maxWidth:"100%",objectFit:"contain",margin:"0 auto"}})},t)))})};eee().locale("ko");const Mee=e=>{let{postType:t,postId:n}=e;const[r,o]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(null),[p,m]=(0,i.useState)(""),[g,v]=(0,i.useState)(null),[b,y]=(0,i.useState)(!1),[w,x]=(0,i.useState)(""),[_,C]=(0,i.useState)("success"),[k,S]=(0,i.useState)(null),[A,T]=(0,i.useState)(null),[I,M]=(0,i.useState)(null),E=zf(),P=sl((e=>{var t,n,r;return null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.nickName})),{data:D,isLoading:j,isError:O,error:R}=Jf({queryKey:["replies",t,n],queryFn:async()=>(await gh.get(`http://localhost:4000/replies/${n}`)).data.replies,retry:3}),L=D9({mutationFn:e=>gh.post(`http://localhost:4000/replies/add/${e.postId}`,e)}),N=D9({mutationFn:e=>{let{replyId:t,writer:n}=e;return gh.delete(`http://localhost:4000/replies/delete/${t}`,{data:{writer:n}})}}),B=D9({mutationFn:e=>{let{replyId:t,writer:n,comment:r}=e;return gh.put(`http://localhost:4000/replies/edit/${t}`,{writer:n,comment:r})}}),F=e=>{a(e.target.value)},z=()=>{""!==r.trim()&&L.mutate({postType:t,postId:n,writer:P,comment:r},{onSettled:(e,r)=>{r?V(`\ub313\uae00 \ub4f1\ub85d \uc911 \uc5d0\ub7ec \ubc1c\uc0dd: ${r.message}`,"error"):(E.invalidateQueries(["replies",t,n]),o(""),a(""),V("\ub313\uae00\uc774 \uc131\uacf5\uc801\uc73c\ub85c \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","success"))}})},V=(e,t)=>{x(e),C(t),y(!0)},W=()=>{y(!1)},H=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];S(e.currentTarget),n?M(t):T(t)},U=()=>{S(null),T(null),M(null)},$=()=>{""!==u.trim()&&B.mutate({replyId:l,writer:P,comment:u},{onSettled:(e,r)=>{r?V(`\ub313\uae00 \uc218\uc815 \uc911 \uc5d0\ub7ec \ubc1c\uc0dd: ${r.message}`,"error"):(E.invalidateQueries(["replies",t,n]),c(null),d(""),V("\ub313\uae00\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","success"))}})},Y=()=>{""!==p.trim()&&B.mutate({replyId:h,writer:P,comment:p},{onSettled:(e,r)=>{r?V(`\ub300\ub313\uae00 \uc218\uc815 \uc911 \uc5d0\ub7ec \ubc1c\uc0dd: ${r.message}`,"error"):(E.invalidateQueries(["replies",t,n]),f(null),m(""),V("\ub300\ub313\uae00\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","success"))}})};return(0,je.jsxs)(II,{sx:{height:"200px",maxHeight:"400px",p:.5,border:"1px solid grey",borderRadius:"8px",flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,je.jsx)(II,{sx:{flexGrow:1,overflowY:"auto",mb:1,position:"relative"},children:j?(0,je.jsx)(II,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,je.jsx)(K9,{})}):O?(0,je.jsx)(Ks,{color:"error",children:`Error: ${R.message}`}):Array.isArray(D)&&D.length>0?D.map(((e,r)=>(0,je.jsx)(II,{sx:{marginBottom:"2px"},children:(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"flex-start"},children:[(0,je.jsx)(Sp,{src:e.writerProfileImage||"default-profile.png",alt:e.writerNickName||"Unknown",sx:{width:40,height:40,marginRight:"16px"}}),(0,je.jsxs)(II,{sx:{flexGrow:1},children:[(0,je.jsxs)(II,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"center"},children:[(0,je.jsx)(Ks,{variant:"body1",sx:{fontWeight:"bold"},children:e.writerNickName||"Unknown"}),(0,je.jsx)(eo,{onClick:t=>H(t,e),size:"small",sx:{ml:1},children:(0,je.jsx)(tee.A,{})})]}),(0,je.jsx)(Ks,{variant:"caption",sx:{color:"gray"},children:eee()(e.createdAt).fromNow()})]}),l===e._id?(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"center",marginTop:"8px"},children:[(0,je.jsx)(Mv,{fullWidth:!0,variant:"outlined",value:u,onChange:e=>d(e.target.value),multiline:!0,minRows:1,maxRows:4,sx:{"& .MuiInputBase-root":{paddingTop:"0px",paddingBottom:"0px",minHeight:"32px"},"& .MuiOutlinedInput-input":{paddingTop:"4px",paddingBottom:"4px"},"& .MuiOutlinedInput-root":{minHeight:"32px"}}}),(0,je.jsx)(eo,{color:"primary",onClick:$,children:(0,je.jsx)(Q9.A,{})})]}):(0,je.jsx)(Ks,{variant:"body2",sx:{wordBreak:"break-word",whiteSpace:"pre-wrap"},children:e.comment}),e.replies&&e.replies.length>0&&(0,je.jsx)(II,{sx:{marginLeft:"0px",marginTop:"8px"},children:e.replies.map(((e,t)=>(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"flex-start",marginBottom:"8px"},children:[(0,je.jsx)(Sp,{src:e.writerProfileImage||"default-profile.png",alt:e.writerNickName||"Unknown",sx:{width:30,height:30,marginRight:"12px"}}),(0,je.jsxs)(II,{sx:{flexGrow:1},children:[(0,je.jsxs)(II,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"center"},children:[(0,je.jsx)(Ks,{variant:"body2",sx:{fontWeight:"bold"},children:e.writerNickName||"Unknown"}),(0,je.jsx)(eo,{onClick:t=>H(t,e,!0),size:"small",sx:{ml:1},children:(0,je.jsx)(tee.A,{})})]}),(0,je.jsx)(Ks,{variant:"caption",sx:{color:"gray"},children:eee()(e.createdAt).fromNow()})]}),h===e._id?(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"center",marginTop:"8px"},children:[(0,je.jsx)(Mv,{fullWidth:!0,variant:"outlined",value:p,onChange:e=>m(e.target.value),multiline:!0,minRows:1,maxRows:4,sx:{"& .MuiInputBase-root":{paddingTop:"0px",paddingBottom:"0px",minHeight:"32px"},"& .MuiOutlinedInput-input":{paddingTop:"4px",paddingBottom:"4px"},"& .MuiOutlinedInput-root":{minHeight:"32px"}}}),(0,je.jsx)(eo,{color:"primary",onClick:Y,children:(0,je.jsx)(Q9.A,{})})]}):(0,je.jsx)(Ks,{variant:"body2",sx:{wordBreak:"break-word",whiteSpace:"pre-wrap"},children:e.comment})]})]},t)))}),(0,je.jsx)(la,{variant:"text",sx:{marginTop:"2px",color:"#A67153"},onClick:()=>v(r),children:"\ub2f5\uae00"}),g===r&&(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"center",marginTop:"8px"},children:[(0,je.jsx)(Mv,{fullWidth:!0,variant:"outlined",placeholder:"\ub2f5\uae00\uc744 \uc785\ub825\ud558\uc138\uc694",value:s,onChange:F,multiline:!0,minRows:1,maxRows:4,sx:{"& .MuiInputBase-root":{paddingTop:"0px",paddingBottom:"0px",minHeight:"32px"},"& .MuiOutlinedInput-input":{paddingTop:"4px",paddingBottom:"4px"},"& .MuiOutlinedInput-root":{minHeight:"32px"}}}),(0,je.jsx)(eo,{color:"primary",onClick:()=>{return r=e._id,void(""!==s.trim()&&L.mutate({postType:t,postId:n,writer:P,comment:s,parentReplyId:r},{onSettled:(e,r)=>{r?V(`\ub2f5\uae00 \ub4f1\ub85d \uc911 \uc5d0\ub7ec \ubc1c\uc0dd: ${r.message}`,"error"):(E.invalidateQueries(["replies",t,n]),v(null),V("\ub2f5\uae00\uc774 \uc131\uacf5\uc801\uc73c\ub85c \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","success"))}}));var r},children:(0,je.jsx)(Q9.A,{})})]})]})]})},r))):(0,je.jsx)(Ks,{children:"No comments available"})}),(0,je.jsxs)(ws,{anchorEl:k,open:Boolean(k),onClose:U,children:[(0,je.jsx)(Es,{onClick:()=>{A&&A.writerNickName===P?(c(A._id),d(A.comment)):I&&I.writerNickName===P&&(f(I._id),m(I.comment)),U()},children:"\uc218\uc815\ud558\uae30"}),(0,je.jsx)(Es,{onClick:()=>{const e=A||I;e&&(N.mutate({replyId:e._id,writer:P},{onSettled:(e,r)=>{r?V(`\ub313\uae00 \uc0ad\uc81c \uc911 \uc5d0\ub7ec \ubc1c\uc0dd: ${r.message}`,"error"):(E.invalidateQueries(["replies",t,n]),V("\ub313\uae00\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","success"))}}),U())},children:"\uc0ad\uc81c\ud558\uae30"})]}),(0,je.jsx)(II,{sx:{display:"flex",alignItems:"center"},children:(0,je.jsx)(Mv,{fullWidth:!0,variant:"outlined",placeholder:"\ub313\uae00\uc744 \uc785\ub825\ud558\uc138\uc694",value:r,onChange:e=>{o(e.target.value)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),z())},multiline:!0,minRows:1,maxRows:10,sx:{mb:1,"& .MuiInputBase-root":{paddingTop:"0px",paddingBottom:"0px",minHeight:"32px"},"& .MuiOutlinedInput-input":{paddingTop:"4px",paddingBottom:"4px"},"& .MuiOutlinedInput-root":{minHeight:"32px"}},InputProps:{endAdornment:(0,je.jsx)(Cx,{position:"end",children:(0,je.jsx)(eo,{color:"primary",onClick:z,sx:{padding:"4px"},children:(0,je.jsx)(Q9.A,{fontSize:"small"})})})}})}),(0,je.jsx)(Vp,{open:b,autoHideDuration:4e3,onClose:W,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,je.jsx)(qI,{onClose:W,severity:_,sx:{width:"100%"},children:w})})]})},Eee=e=>{let{open:t,handleClose:n,images:r,writer:i,title:o,content:s,createdAt:a,updatedAt:l,handlePrev:c,handleNext:u,postId:d}=e;return(0,je.jsx)(Go,{open:t,onClose:n,"aria-labelledby":"modal-title","aria-describedby":"modal-description",slotProps:{backdrop:{style:{backgroundColor:"rgba(0, 0, 0, 0.8)"}}},children:(0,je.jsxs)(We,{sx:{position:"absolute",top:"48%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"500px",maxWidth:"100%",bgcolor:"background.paper",boxShadow:24,p:2,outline:"none",display:"flex",alignItems:"center",gap:2,borderRadius:"8px"},children:[(0,je.jsx)(eo,{onClick:c,sx:{position:"absolute",left:"-130px",top:"50%",transform:"translateY(-50%)",zIndex:1300,color:"white",bgcolor:"rgba(0, 0, 0, 0.5)","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)"}},children:(0,je.jsx)(See.A,{})}),(0,je.jsx)(We,{sx:{width:"65%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",overflow:"hidden"},children:(0,je.jsx)(Iee,{images:r})}),(0,je.jsxs)(We,{sx:{width:"35%",height:"100%",p:1,display:"flex",flexDirection:"column",justifyContent:"center",gap:2},children:[(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px",padding:"5px",position:"relative"},children:[(0,je.jsx)(Ks,{variant:"caption",sx:{position:"absolute",top:"-10px",left:"10px",backgroundColor:"white",padding:"0 3px",color:"rgba(0, 0, 0, 0.6)",fontSize:"0.6rem"},children:"Writer"}),(0,je.jsx)(Ks,{variant:"body2",sx:{fontSize:"0.7rem"},children:i})," "]}),(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px",padding:"5px",position:"relative"},children:[(0,je.jsx)(Ks,{variant:"caption",sx:{position:"absolute",top:"-10px",left:"10px",backgroundColor:"white",padding:"0 3px",color:"rgba(0, 0, 0, 0.6)",fontSize:"0.6rem"},children:"Title"}),(0,je.jsx)(Ks,{variant:"body2",sx:{fontSize:"0.7rem"},children:o})," "]}),(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px",padding:"5px",position:"relative"},children:[(0,je.jsx)(Ks,{variant:"caption",sx:{position:"absolute",top:"-10px",left:"10px",backgroundColor:"white",padding:"0 3px",color:"rgba(0, 0, 0, 0.6)",fontSize:"0.6rem"},children:"Content"}),(0,je.jsx)(Ks,{variant:"body2",sx:{fontSize:"0.7rem"},children:s})," "]}),(0,je.jsx)(Mee,{postType:"Gallery",postId:d})]}),(0,je.jsx)(eo,{onClick:u,sx:{position:"absolute",right:"-130px",top:"50%",transform:"translateY(-50%)",zIndex:1300,color:"white",bgcolor:"rgba(0, 0, 0, 0.5)","&:hover":{bgcolor:"rgba(0, 0, 0, 0.7)"}},children:(0,je.jsx)(Aee.A,{})})]})})};var Pee=n(6405),Dee=n(5504),jee=n(7792),Oee=n.n(jee);function Ree(e){return Ree="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ree(e)}function Lee(e){var t=function(e,t){if("object"!=Ree(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ree(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ree(t)?t:t+""}function Nee(e,t,n){return(t=Lee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bee(Object(n),!0).forEach((function(t){Nee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zee(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Vee="function"===typeof Symbol&&Symbol.observable||"@@observable",Wee=function(){return Math.random().toString(36).substring(7).split("").join(".")},Hee={INIT:"@@redux/INIT"+Wee(),REPLACE:"@@redux/REPLACE"+Wee(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Wee()}};function Uee(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function $ee(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(zee(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(zee(1));return n($ee)(e,t)}if("function"!==typeof e)throw new Error(zee(2));var i=e,o=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(zee(3));return o}function d(e){if("function"!==typeof e)throw new Error(zee(4));if(l)throw new Error(zee(5));var t=!0;return c(),a.push(e),function(){if(t){if(l)throw new Error(zee(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function h(e){if(!Uee(e))throw new Error(zee(7));if("undefined"===typeof e.type)throw new Error(zee(8));if(l)throw new Error(zee(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=s=a,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:Hee.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(zee(10));i=e,h({type:Hee.REPLACE})}})[Vee]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(zee(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[Vee]=function(){return this},e},r}function Yee(e,t){return function(){return t(e.apply(this,arguments))}}function Gee(e,t){if("function"===typeof e)return Yee(e,t);if("object"!==typeof e||null===e)throw new Error(zee(16));var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=Yee(i,t))}return n}function qee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var Xee=i.createContext(null);var Zee=function(e){e()},Kee=function(){return Zee};var Qee={notify:function(){},get:function(){return[]}};function Jee(e,t){var n,r=Qee;function i(){s.onStateChange&&s.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Kee(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var s={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Qee)},getListeners:function(){return r}};return s}var ete="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect;const tte=function(e){var t=e.store,n=e.context,r=e.children,o=(0,i.useMemo)((function(){var e=Jee(t);return{store:t,subscription:e}}),[t]),s=(0,i.useMemo)((function(){return t.getState()}),[t]);ete((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,s]);var a=n||Xee;return i.createElement(a.Provider,{value:o},r)};var nte=n(219),rte=n.n(nte),ite=n(2348),ote=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],ste=["reactReduxForwardedRef"],ate=[],lte=[null,null];function cte(e,t){var n=e[1];return[t.payload,n+1]}function ute(e,t,n){ete((function(){return e.apply(void 0,t)}),n)}function dte(e,t,n,r,i,o,s){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,s())}function hte(e,t,n,r,i,o,s,a,l,c){if(e){var u=!1,d=null,h=function(){if(!u){var e,n,h=t.getState();try{e=r(h,i.current)}catch(_ke){n=_ke,d=_ke}n||(d=null),e===o.current?s.current||l():(o.current=e,a.current=e,s.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var fte=function(){return[null,0]};function pte(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,s=n.methodName,a=void 0===s?"connectAdvanced":s,l=n.renderCountProp,c=void 0===l?void 0:l,u=n.shouldHandleStateChanges,d=void 0===u||u,h=n.storeKey,f=void 0===h?"store":h,p=(n.withRef,n.forwardRef),m=void 0!==p&&p,g=n.context,v=void 0===g?Xee:g,b=(0,Ce.A)(n,ote),y=v;return function(t){var n=t.displayName||t.name||"Component",r=o(n),s=(0,_e.A)({},b,{getDisplayName:o,methodName:a,renderCountProp:c,shouldHandleStateChanges:d,storeKey:f,displayName:r,wrappedComponentName:n,WrappedComponent:t}),l=b.pure;var u=l?i.useMemo:function(e){return e()};function h(n){var r=(0,i.useMemo)((function(){var e=n.reactReduxForwardedRef,t=(0,Ce.A)(n,ste);return[n.context,e,t]}),[n]),o=r[0],a=r[1],l=r[2],c=(0,i.useMemo)((function(){return o&&o.Consumer&&(0,ite.isContextConsumer)(i.createElement(o.Consumer,null))?o:y}),[o,y]),h=(0,i.useContext)(c),f=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var p=f?n.store:h.store,m=(0,i.useMemo)((function(){return function(t){return e(t.dispatch,s)}(p)}),[p]),g=(0,i.useMemo)((function(){if(!d)return lte;var e=Jee(p,f?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,f,h]),v=g[0],b=g[1],w=(0,i.useMemo)((function(){return f?h:(0,_e.A)({},h,{subscription:v})}),[f,h,v]),x=(0,i.useReducer)(cte,ate,fte),_=x[0][0],C=x[1];if(_&&_.error)throw _.error;var k=(0,i.useRef)(),S=(0,i.useRef)(l),A=(0,i.useRef)(),T=(0,i.useRef)(!1),I=u((function(){return A.current&&l===S.current?A.current:m(p.getState(),l)}),[p,_,l]);ute(dte,[S,k,T,l,I,A,b]),ute(hte,[d,p,v,m,S,k,T,A,b,C],[p,v,m]);var M=(0,i.useMemo)((function(){return i.createElement(t,(0,_e.A)({},I,{ref:a}))}),[a,t,I]);return(0,i.useMemo)((function(){return d?i.createElement(c.Provider,{value:w},M):M}),[c,M,w])}var p=l?i.memo(h):h;if(p.WrappedComponent=t,p.displayName=h.displayName=r,m){var g=i.forwardRef((function(e,t){return i.createElement(p,(0,_e.A)({},e,{reactReduxForwardedRef:t}))}));return g.displayName=r,g.WrappedComponent=t,rte()(g,t)}return rte()(p,t)}}function mte(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function gte(e,t){if(mte(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!mte(e[n[i]],t[n[i]]))return!1;return!0}function vte(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function bte(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function yte(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=bte(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=bte(i),i=r(t,n)),i},r}}const wte=[function(e){return"function"===typeof e?yte(e):void 0},function(e){return e?void 0:vte((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?vte((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];const xte=[function(e){return"function"===typeof e?yte(e):void 0},function(e){return e?void 0:vte((function(){return{}}))}];function _te(e,t,n){return(0,_e.A)({},n,e,t)}const Cte=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,s=!1;return function(t,n,a){var l=e(t,n,a);return s?i&&o(l,r)||(r=l):(s=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return _te}}];var kte=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Ste(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function Ate(e,t,n,r,i){var o,s,a,l,c,u=i.areStatesEqual,d=i.areOwnPropsEqual,h=i.areStatePropsEqual,f=!1;function p(i,f){var p=!d(f,s),m=!u(i,o,f,s);return o=i,s=f,p&&m?(a=e(o,s),t.dependsOnOwnProps&&(l=t(r,s)),c=n(a,l,s)):p?(e.dependsOnOwnProps&&(a=e(o,s)),t.dependsOnOwnProps&&(l=t(r,s)),c=n(a,l,s)):m?function(){var t=e(o,s),r=!h(t,a);return a=t,r&&(c=n(a,l,s)),c}():c}return function(i,u){return f?p(i,u):(a=e(o=i,s=u),l=t(r,s),c=n(a,l,s),f=!0,c)}}function Tte(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=(0,Ce.A)(t,kte),s=n(e,o),a=r(e,o),l=i(e,o);return(o.pure?Ate:Ste)(s,a,l,e,o)}var Ite=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Mte(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Ete(e,t){return e===t}function Pte(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?pte:n,i=t.mapStateToPropsFactories,o=void 0===i?xte:i,s=t.mapDispatchToPropsFactories,a=void 0===s?wte:s,l=t.mergePropsFactories,c=void 0===l?Cte:l,u=t.selectorFactory,d=void 0===u?Tte:u;return function(e,t,n,i){void 0===i&&(i={});var s=i,l=s.pure,u=void 0===l||l,h=s.areStatesEqual,f=void 0===h?Ete:h,p=s.areOwnPropsEqual,m=void 0===p?gte:p,g=s.areStatePropsEqual,v=void 0===g?gte:g,b=s.areMergedPropsEqual,y=void 0===b?gte:b,w=(0,Ce.A)(s,Ite),x=Mte(e,o,"mapStateToProps"),_=Mte(t,a,"mapDispatchToProps"),C=Mte(n,c,"mergeProps");return r(d,(0,_e.A)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:_,initMergeProps:C,pure:u,areStatesEqual:f,areOwnPropsEqual:m,areStatePropsEqual:v,areMergedPropsEqual:y},w))}}const Dte=Pte();var jte;function Ote(e,t){var n=(0,i.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,i.useRef)(!0),o=(0,i.useRef)(n),s=r.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs)),a=s?o.current:{inputs:t,result:e()};return(0,i.useEffect)((function(){r.current=!1,o.current=a}),[a]),a.result}jte=Yt.unstable_batchedUpdates,Zee=jte;var Rte=Ote,Lte=function(e,t){return Ote((function(){return e}),t)},Nte="Invariant failed";var Bte=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},Fte=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},zte=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Vte={top:0,right:0,bottom:0,left:0},Wte=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?Vte:n,i=e.border,o=void 0===i?Vte:i,s=e.padding,a=void 0===s?Vte:s,l=Bte(Fte(t,r)),c=Bte(zte(t,o)),u=Bte(zte(c,a));return{marginBox:l,borderBox:Bte(t),paddingBox:c,contentBox:u,margin:r,border:o,padding:a}},Hte=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e){if(!e)throw new Error(Nte)}(!1),n},Ute=function(e,t){var n,r,i=e.borderBox,o=e.border,s=e.margin,a=e.padding,l=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return Wte({borderBox:l,border:o,margin:s,padding:a})},$te=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Ute(e,t)},Yte=function(e,t){var n={top:Hte(t.marginTop),right:Hte(t.marginRight),bottom:Hte(t.marginBottom),left:Hte(t.marginLeft)},r={top:Hte(t.paddingTop),right:Hte(t.paddingRight),bottom:Hte(t.paddingBottom),left:Hte(t.paddingLeft)},i={top:Hte(t.borderTopWidth),right:Hte(t.borderRightWidth),bottom:Hte(t.borderBottomWidth),left:Hte(t.borderLeftWidth)};return Wte({borderBox:e,margin:n,padding:r,border:i})},Gte=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return Yte(t,n)},qte=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Xte(e,t){return e===t||!(!qte(e)||!qte(t))}function Zte(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Xte(e[n],t[n]))return!1;return!0}const Kte=function(e,t){var n;void 0===t&&(t=Zte);var r,i=[],o=!1;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return o&&n===this&&t(s,i)||(r=e.apply(this,s),o=!0,n=this,i=s),r}};const Qte=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function Jte(e,t){}Jte.bind(null,"warn"),Jte.bind(null,"error");function ene(){}function tne(e,t,n){var r=t.map((function(t){var r=function(e,t){return(0,_e.A)({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var nne=!0,rne="Invariant failed";function ine(e){this.message=e}function one(e,t){if(!e)throw new ine(nne?rne:rne+": "+(t||""))}ine.prototype.toString=function(){return this.message};var sne=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=ene,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof ine&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}$t(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=tne(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof ine))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(i.Component),ane=function(e){return e+1},lne=function(e,t){var n=e.droppableId===t.droppableId,r=ane(e.index),i=ane(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},cne=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},une=function(e){return"\n  The item has returned to its starting position\n  of "+ane(e.index)+"\n"},dne="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",hne=function(e){return"\n  You have lifted an item in position "+ane(e.source.index)+"\n"},fne=function(e){var t=e.destination;if(t)return lne(e.source,t);var n=e.combine;return n?cne(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},pne=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+une(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+lne(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+cne(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+une(e.source)+"\n  "},mne={x:0,y:0},gne=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},vne=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},bne=function(e,t){return e.x===t.x&&e.y===t.y},yne=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},wne=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},xne=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},_ne=function(e,t){return Math.min.apply(Math,t.map((function(t){return xne(e,t)})))},Cne=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},kne=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Sne=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Ane=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=Bte({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):Bte(e)},Tne=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=function(e,t){return t?kne(e,t.scroll.diff.displacement):e}(t.marginBox,i),s=function(e,t,n){var r;return n&&n.increasedBy?(0,_e.A)({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(o,r,n);return{page:t,withPlaceholder:n,active:Ane(s,i)}},Ine=function(e,t){e.frame||one(!1);var n=e.frame,r=vne(t,n.scroll.initial),i=yne(r),o=(0,_e.A)({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}}),s=Tne({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return(0,_e.A)({},e,{frame:o,subject:s})};function Mne(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function Ene(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Pne(e,t){if(e.find)return e.find(t);var n=Ene(e,t);return-1!==n?e[n]:void 0}function Dne(e){return Array.prototype.slice.call(e)}var jne=Kte((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),One=Kte((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Rne=Kte((function(e){return Mne(e)})),Lne=Kte((function(e){return Mne(e)})),Nne=Kte((function(e,t){var n=Lne(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function Bne(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Fne(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var zne=Kte((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),Vne=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Wne={point:mne,value:0},Hne={invisible:{},visible:{},all:[]},Une={displaced:Hne,displacedBy:Wne,at:null},$ne=function(e,t){return function(n){return e<=n&&n<=t}},Yne=function(e){var t=$ne(e.top,e.bottom),n=$ne(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;var s=r.top<e.top&&r.bottom>e.bottom,a=r.left<e.left&&r.right>e.right;return!(!s||!a)||(s&&o||a&&i)}},Gne=function(e){var t=$ne(e.top,e.bottom),n=$ne(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},qne={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Xne={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Zne=function(e){var t=e.target,n=e.destination,r=e.viewport,i=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,s=i?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:mne;return kne(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(s,n,o)&&function(e,t,n){return n(t)(e)}(s,r,o)},Kne=function(e){return Zne((0,_e.A)({},e,{isVisibleThroughFrameFn:Yne}))},Qne=function(e){return Zne((0,_e.A)({},e,{isVisibleThroughFrameFn:Gne}))},Jne=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,i=t.visible;if(r[e])return!1;var o=i[e];return!o||o.shouldAnimate};function ere(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,s=e.last;return t.reduce((function(e,t){var a=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Bte(Fte(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!Kne({target:a,destination:n,viewport:i,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c={draggableId:l,shouldAnimate:Jne(l,s,o)};return e.visible[l]=c,e}),{all:[],visible:{},invisible:{}})}function tre(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:Hne,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function nre(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,s=e.last,a=e.index,l=e.forceShouldAnimate,c=Vne(t,r);if(null==a)return tre({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var u=Pne(n,(function(e){return e.descriptor.index===a}));if(!u)return tre({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var d=zne(t,n),h=n.indexOf(u);return{displaced:ere({afterDragging:d.slice(h),destination:r,displacedBy:o,last:s,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function rre(e,t){return Boolean(t.effected[e])}var ire=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,s=e.insideDestination,a=e.previousImpact,l=e.viewport,c=e.afterCritical,u=a.at;if(u||one(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,s=t?o+1:o-1,a=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return s<a||s>(n?l:l+1)?null:s}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:s});return null==d?null:nre({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:d})}var h=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var s=i.draggableId,a=r[s].descriptor.index;return rre(s,o)?t?a:a-1:t?a+1:a}({isMovingForward:t,destination:o,displaced:a.displaced,draggables:i,combine:u.combine,afterCritical:c});return null==h?null:nre({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:h})},ore=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=Fne(n);i||one(!1);var o=i.draggableId,s=r[o].page.borderBox.center,a=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return rre(r,n)?o?mne:yne(i.point):o?i.point:mne}({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return gne(s,a)},sre=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},are=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},lre=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return wne(t.line,n.marginBox[t.end]+sre(t,r),are(t,n.marginBox,r))},cre=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return wne(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),are(t,n.marginBox,r))},ure=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,s=Nne(i.descriptor.id,r),a=n.page,l=i.axis;if(!s.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return wne(t.line,n.contentBox[t.start]+sre(t,r),are(t,n.contentBox,r))}({axis:l,moveInto:i.page,isMoving:a});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var h=r[d];if(rre(d,o))return cre({axis:l,moveRelativeTo:h.page,isMoving:a});var f=Ute(h.page,u.point);return cre({axis:l,moveRelativeTo:f,isMoving:a})}var p=s[s.length-1];if(p.descriptor.id===n.descriptor.id)return a.borderBox.center;if(rre(p.descriptor.id,o)){var m=Ute(p.page,yne(o.displacedBy.point));return lre({axis:l,moveRelativeTo:m,isMoving:a})}return lre({axis:l,moveRelativeTo:p.page,isMoving:a})},dre=function(e,t){var n=e.frame;return n?gne(t,n.scroll.diff.displacement):t},hre=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.afterCritical,s=n.page.borderBox.center,a=t.at;return r&&a?"REORDER"===a.type?ure({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):ore({impact:t,draggables:i,afterCritical:o}):s}(e),n=e.droppable;return n?dre(n,t):t},fre=function(e,t){var n=vne(t,e.scroll.initial),r=yne(n);return{frame:Bte({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function pre(e,t){return e.map((function(e){return t[e]}))}var mre=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return gne(e.scroll.diff.displacement,t)}(e.viewport,t),i=vne(r,n.page.borderBox.center);return gne(n.client.borderBox.center,i)},gre=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,s=e.onlyOnMainAxis,a=void 0!==s&&s,l=vne(r,t.page.borderBox.center),c={target:kne(t.page.borderBox,l),destination:n,withDroppableDisplacement:o,viewport:i};return a?function(e){return Zne((0,_e.A)({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=$ne(e.top,e.bottom),r=$ne(e.left,e.right);return function(e){return t===qne?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):Qne(c)},vre=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,s=e.viewport,a=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var u=Nne(r.descriptor.id,i),d=Vne(n,r),h=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;if(!Bne(o))return null;function s(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return(0,_e.A)({},o,{at:t})}var a=o.displaced.all,l=a.length?a[0]:null;if(t)return l?s(l):null;var c=zne(n,i);if(!l)return c.length?s(c[c.length-1].descriptor.id):null;var u=Ene(c,(function(e){return e.descriptor.id===l}));-1===u&&one(!1);var d=u-1;return d<0?null:s(c[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:o})||ire({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:s,afterCritical:c});if(!h)return null;var f=hre({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c});if(gre({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:mre({pageBorderBoxCenter:f,draggable:n,viewport:s}),impact:h,scrollJumpRequest:null};var p=vne(f,a),m=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,s=fre(n,gne(n.scroll.current,o)),a=r.frame?Ine(r,gne(r.frame.scroll.current,o)):r,l=t.displaced,c=ere({afterDragging:pre(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),u=ere({afterDragging:pre(l.all,i),destination:a,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,c,u];return l.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,f);t?h[e]=t:d[e]=!0})),(0,_e.A)({},t,{displaced:{all:l.all,invisible:d,visible:h}})}({impact:h,viewport:s,destination:r,draggables:i,maxScrollChange:p});return{clientSelection:l,impact:m,scrollJumpRequest:p}},bre=function(e){var t=e.subject.active;return t||one(!1),t},yre=function(e,t){var n=e.page.borderBox.center;return rre(e.descriptor.id,t)?vne(n,t.displacedBy.point):n},wre=function(e,t){var n=e.page.borderBox;return rre(e.descriptor.id,t)?kne(n,yne(t.displacedBy.point)):n},xre=Kte((function(e,t){var n=t[e.line];return{value:n,point:wne(e.line,n)}})),_re=function(e,t){return(0,_e.A)({},e,{scroll:(0,_e.A)({},e.scroll,{max:t})})},Cre=function(e,t,n){var r=e.frame;Vne(t,e)&&one(!1),e.subject.withPlaceholder&&one(!1);var i=xre(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return wne(r.line,t[r.line]);var i=e.subject.page.contentBox[r.size],o=Nne(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-i;return o<=0?null:wne(r.line,o)}(e,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){var a=Tne({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return(0,_e.A)({},e,{subject:a})}var l=o?gne(r.scroll.max,o):r.scroll.max,c=_re(r,l),u=Tne({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:c});return(0,_e.A)({},e,{subject:u,frame:c})},kre=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,s=e.droppables,a=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,s=r.subject.active;if(!s)return null;var a=r.axis,l=$ne(s[a.start],s[a.end]),c=Rne(i).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return Yne(o.frame)(bre(e))})).filter((function(e){var n=bre(e);return t?s[a.crossAxisEnd]<n[a.crossAxisEnd]:n[a.crossAxisStart]<s[a.crossAxisStart]})).filter((function(e){var t=bre(e),n=$ne(t[a.start],t[a.end]);return l(t[a.start])||l(t[a.end])||n(s[a.start])||n(s[a.end])})).sort((function(e,n){var r=bre(e)[a.crossAxisStart],i=bre(n)[a.crossAxisStart];return t?r-i:i-r})).filter((function(e,t,n){return bre(e)[a.crossAxisStart]===bre(n[0])[a.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return $ne(bre(e)[a.start],bre(e)[a.end])(n[a.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return bre(e)[a.start]-bre(t)[a.start]}))[0]:c.sort((function(e,t){var r=_ne(n,Sne(bre(e))),i=_ne(n,Sne(bre(t)));return r!==i?r-i:bre(e)[a.start]-bre(t)[a.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:s,viewport:a});if(!c)return null;var u=Nne(c.descriptor.id,o),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,o=e.afterCritical,s=i.filter((function(e){return Qne({target:wre(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=xne(t,dre(r,yre(e,o))),s=xne(t,dre(r,yre(n,o)));return i<s?-1:s<i?1:e.descriptor.index-n.descriptor.index}));return s[0]||null}({pageBorderBoxCenter:n,viewport:a,destination:c,insideDestination:u,afterCritical:l}),h=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,s=e.destination,a=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:Hne,displacedBy:Wne,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},u=hre({impact:c,draggable:i,droppable:s,draggables:o,afterCritical:l}),d=Vne(i,s)?s:Cre(s,i,o);return gre({draggable:i,destination:d,newPageBorderBoxCenter:u,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var h=Boolean(t[s.axis.line]<=n.page.borderBox.center[s.axis.line]),f=function(){var e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||h?e:e+1}(),p=xre(s.axis,i.displaceBy);return nre({draggable:i,insideDestination:r,destination:s,viewport:a,displacedBy:p,last:Hne,index:f})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:a,afterCritical:l});if(!h)return null;var f=hre({impact:h,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:mre({pageBorderBoxCenter:f,draggable:r,viewport:a}),impact:h,scrollJumpRequest:null}},Sre=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Are=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Sre(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],s=r||o,a=s.axis.direction,l="vertical"===a&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===a&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,h=t.dimensions,f=h.draggables,p=h.droppables;return l?vre({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:s,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):kre({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:s,draggables:f,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Tre(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Ire(e){var t=$ne(e.top,e.bottom),n=$ne(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Mre(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=Rne(r).filter((function(e){if(!e.isEnabled)return!1;var n=e.subject.active;if(!n)return!1;if(!function(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}(t,n))return!1;if(Ire(n)(t.center))return!0;var r=e.axis,i=n.center[r.crossAxisLine],o=t[r.crossAxisStart],s=t[r.crossAxisEnd],a=$ne(n[r.crossAxisStart],n[r.crossAxisEnd]),l=a(o),c=a(s);return!l&&!c||(l?o<i:s>i)}));return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,o=r.map((function(e){var n=e.axis,r=wne(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:xne(i,r)}})).sort((function(e,t){return t.distance-e.distance}));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}var Ere=function(e,t){return Bte(kne(e,t))};function Pre(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var Dre=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,s=e.viewport,a=e.afterCritical,l=Ere(n.page.borderBox,t),c=Mre({pageBorderBox:l,draggable:n,droppables:i});if(!c)return Une;var u=i[c],d=Nne(u.descriptor.id,r),h=function(e,t){var n=e.frame;return n?Ere(t,n.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,s=e.afterCritical;if(!i.isCombineEnabled)return null;var a=i.axis,l=xre(i.axis,t.displaceBy),c=l.value,u=n[a.start],d=n[a.end],h=Pne(zne(t,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox,i=n[a.size]/4,o=rre(t,s),l=Pre({displaced:r.displaced,id:t});return o?l?d>n[a.start]+i&&d<n[a.end]-i:u>n[a.start]-c+i&&u<n[a.end]-c-i:l?d>n[a.start]+c+i&&d<n[a.end]+c-i:u>n[a.start]+i&&u<n[a.end]-i}));return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:u,insideDestination:d,afterCritical:a})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,s=e.viewport,a=e.afterCritical,l=r.axis,c=xre(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],f=Pne(zne(n,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=rre(t,a),i=Pre({displaced:o,id:t});return r?i?h<=n:d<n-u:i?h<=n+u:d<n})),p=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:f,inHomeList:Vne(n,r)});return nre({draggable:n,insideDestination:i,destination:r,viewport:s,last:o,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:o.displaced,viewport:s,afterCritical:a})},jre=function(e,t){var n;return(0,_e.A)({},e,((n={})[t.descriptor.id]=t,n))},Ore=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,i=Sre(t),o=Sre(n);if(!i)return r;if(i===o)return r;var s=r[i];if(!s.subject.withPlaceholder)return r;var a=function(e){var t=e.subject.withPlaceholder;t||one(!1);var n=e.frame;if(!n){var r=Tne({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return(0,_e.A)({},e,{subject:r})}var i=t.oldFrameMaxScroll;i||one(!1);var o=_re(n,i),s=Tne({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return(0,_e.A)({},e,{subject:s,frame:o})}(s);return jre(r,a)},Rre=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,s=e.scrollJumpRequest,a=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=vne(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:gne(t.initial.client.borderBoxCenter,u)},h={selection:gne(d.selection,a.scroll.current),borderBoxCenter:gne(d.borderBoxCenter,a.scroll.current),offset:gne(d.offset,a.scroll.diff.value)},f={client:d,page:h};if("COLLECTING"===t.phase)return(0,_e.A)({phase:"COLLECTING"},t,{dimensions:l,viewport:a,current:f});var p=l.draggables[t.critical.draggable.id],m=o||Dre({pageOffset:h.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:a,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,o=e.impact,s=Ore({previousImpact:i,impact:o,droppables:r}),a=Sre(o);if(!a)return s;var l=r[a];if(Vne(t,l))return s;if(l.subject.withPlaceholder)return s;var c=Cre(l,t,n);return jre(s,c)}({draggable:p,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return(0,_e.A)({},t,{current:f,dimensions:{draggables:l.draggables,droppables:g},impact:m,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:!s&&null})};var Lre=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,s=t.displaced,a=function(e,t){return e.map((function(e){return t[e]}))}(s.all,r),l=ere({afterDragging:a,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return(0,_e.A)({},t,{displaced:l})},Nre=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,s=e.afterCritical,a=hre({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:s});return mre({pageBorderBoxCenter:a,draggable:n,viewport:o})},Bre=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&one(!1);var i=t.impact,o=r||t.viewport,s=n||t.dimensions,a=s.draggables,l=s.droppables,c=a[t.critical.draggable.id],u=Sre(i);u||one(!1);var d=l[u],h=Lre({impact:i,viewport:o,destination:d,draggables:a}),f=Nre({impact:h,draggable:c,droppable:d,draggables:a,viewport:o,afterCritical:t.afterCritical});return Rre({impact:h,clientSelection:f,state:t,dimensions:s,viewport:o})},Fre=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=xre(n.axis,t.displaceBy),s=Nne(n.descriptor.id,r),a=s.indexOf(t);-1===a&&one(!1);var l,c=s.slice(a+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:u};return{impact:{displaced:ere({afterDragging:c,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},zre=function(e){0},Vre=function(e){0},Wre=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||one(!1),t}(n[t]),s=o.scroll.diff.value,a=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=Ute(t.client,n),o=$te(i,r);return(0,_e.A)({},t,{placeholder:(0,_e.A)({},t.placeholder,{client:i}),client:i,page:o})}({draggable:e,offset:gne(i,s),initialWindowScroll:r.scroll.initial});return a}))},Hre=function(e){return"SNAP"===e.movementMode},Ure=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:jre(e.droppables,t)}}(e.dimensions,t);return!Hre(e)||n?Rre({state:e,dimensions:r}):Bre({state:e,dimensions:r})};function $re(e){return e.isDragging&&"SNAP"===e.movementMode?(0,_e.A)({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Yre={phase:"IDLE",completed:null,shouldFlush:!1},Gre=function(e,t){if(void 0===e&&(e=Yre),"FLUSH"===t.type)return(0,_e.A)({},Yre,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&one(!1);var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,s=n.dimensions,a=n.movementMode,l=s.draggables[r.draggable.id],c=s.droppables[r.droppable.id],u={selection:i,borderBoxCenter:l.client.borderBox.center,offset:mne},d={client:u,page:{selection:gne(u.selection,o.scroll.initial),borderBoxCenter:gne(u.selection,o.scroll.initial),offset:gne(u.selection,o.scroll.diff.value)}},h=Rne(s.droppables).every((function(e){return!e.isFixedOnPage})),f=Fre({draggable:l,home:c,draggables:s.draggables,viewport:o}),p=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:s,initial:d,current:d,isWindowScrollAllowed:h,impact:p,afterCritical:f.afterCritical,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&one(!1),(0,_e.A)({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&one(!1),function(e){var t=e.state,n=e.published;zre();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return Ine(n,e.scroll)})),i=(0,_e.A)({},t.dimensions.droppables,{},jne(r)),o=One(Wre({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),s=(0,_e.A)({},t.dimensions.draggables,{},o);n.removals.forEach((function(e){delete s[e]}));var a={droppables:i,draggables:s},l=Sre(t.impact),c=l?a.droppables[l]:null,u=a.draggables[t.critical.draggable.id],d=a.droppables[t.critical.droppable.id],h=Fre({draggable:u,home:d,draggables:s,viewport:t.viewport}),f=h.impact,p=h.afterCritical,m=c&&c.isCombineEnabled?t.impact:f,g=Dre({pageOffset:t.current.page.offset,draggable:a.draggables[t.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:m,viewport:t.viewport,afterCritical:p});Vre();var v=(0,_e.A)({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:a,afterCritical:p,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:(0,_e.A)({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Tre(e)||one(!1);var m=t.payload.client;return bne(m,e.current.client.selection)?e:Rre({state:e,clientSelection:m,impact:Hre(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return $re(e);if("COLLECTING"===e.phase)return $re(e);Tre(e)||one(!1);var g=t.payload,v=g.id,b=g.newScroll,y=e.dimensions.droppables[v];if(!y)return e;var w=Ine(y,b);return Ure(e,w,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Tre(e)||one(!1);var x=t.payload,_=x.id,C=x.isEnabled,k=e.dimensions.droppables[_];k||one(!1),k.isEnabled===C&&one(!1);var S=(0,_e.A)({},k,{isEnabled:C});return Ure(e,S,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Tre(e)||one(!1);var A=t.payload,T=A.id,I=A.isCombineEnabled,M=e.dimensions.droppables[T];M||one(!1),M.isCombineEnabled===I&&one(!1);var E=(0,_e.A)({},M,{isCombineEnabled:I});return Ure(e,E,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Tre(e)||one(!1),e.isWindowScrollAllowed||one(!1);var P=t.payload.newScroll;if(bne(e.viewport.scroll.current,P))return $re(e);var D=fre(e.viewport,P);return Hre(e)?Bre({state:e,viewport:D}):Rre({state:e,viewport:D})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Tre(e))return e;var j=t.payload.maxScroll;if(bne(j,e.viewport.scroll.max))return e;var O=(0,_e.A)({},e.viewport,{scroll:(0,_e.A)({},e.viewport.scroll,{max:j})});return(0,_e.A)({phase:"DRAGGING"},e,{viewport:O})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&one(!1);var R=Are({state:e,type:t.type});return R?Rre({state:e,impact:R.impact,clientSelection:R.clientSelection,scrollJumpRequest:R.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var L=t.payload.reason;return"COLLECTING"!==e.phase&&one(!1),(0,_e.A)({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:L})}if("DROP_ANIMATE"===t.type){var N=t.payload,B=N.completed,F=N.dropDuration,z=N.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&one(!1),{phase:"DROP_ANIMATING",completed:B,dropDuration:F,newHomeClientOffset:z,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},qre=function(e){return{type:"LIFT",payload:e}},Xre=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Zre=function(){return{type:"COLLECTION_STARTING",payload:null}},Kre=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Qre=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Jre=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},eie=function(e){return{type:"MOVE",payload:e}},tie=function(){return{type:"MOVE_UP",payload:null}},nie=function(){return{type:"MOVE_DOWN",payload:null}},rie=function(){return{type:"MOVE_RIGHT",payload:null}},iie=function(){return{type:"MOVE_LEFT",payload:null}},oie=function(){return{type:"FLUSH",payload:null}},sie=function(e){return{type:"DROP_COMPLETE",payload:e}},aie=function(e){return{type:"DROP",payload:e}},lie=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var cie="cubic-bezier(.2,1,.1,1)",uie={drop:0,combining:.7},die={drop:.75},hie=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",fie={fluid:"opacity "+hie,snap:"transform "+hie+", opacity "+hie,drop:function(e){var t=e+"s "+cie;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+hie,placeholder:"height "+hie+", width "+hie+", margin "+hie},pie=function(e){return bne(e,mne)?null:"translate("+e.x+"px, "+e.y+"px)"},mie={moveTo:pie,drop:function(e,t){var n=pie(e);return n?t?n+" scale("+die.drop+")":n:null}},gie=.33,vie=.55,bie=vie-gie,yie=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var i=t(),o=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&one(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&one(!1);var s=i.critical,a=i.dimensions,l=a.draggables[i.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,s=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:(0,_e.A)({},r,{displaced:Hne}),didDropInsideDroppable:!0}:{impact:Lre({draggables:t,impact:s,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),u=c.impact,d=c.didDropInsideDroppable,h=d?Bne(u):null,f=d?Fne(u):null,p={index:s.draggable.index,droppableId:s.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:p,reason:o,mode:i.movementMode,destination:h,combine:f},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,s=r.draggables,a=r.droppables,l=Sre(t),c=l?a[l]:null,u=a[n.descriptor.droppableId],d=Nre({impact:t,draggable:n,draggables:s,afterCritical:o,droppable:c||u,viewport:i});return vne(d,n.client.borderBox.center)}({impact:u,draggable:l,dimensions:a,viewport:i.viewport,afterCritical:i.afterCritical}),v={critical:i.critical,afterCritical:i.afterCritical,result:m,impact:u};if(!bne(i.current.client.offset,g)||Boolean(m.combine)){var b=function(e){var t=e.current,n=e.destination,r=e.reason,i=xne(t,n);if(i<=0)return gie;if(i>=1500)return vie;var o=gie+bie*(i/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))}({current:i.current.client.offset,destination:g,reason:o});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:b,completed:v}))}else n(sie({completed:v}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},wie=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function xie(e){var t=e.onWindowScroll;var n=Qte((function(){t(wie())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),i=ene;function o(){return i!==ene}return{start:function(){o()&&one(!1),i=tne(window,[r])},stop:function(){o()||one(!1),n.cancel(),i(),i=ene},isActive:o}}var _ie=function(e){var t=xie({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Cie=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=Ene(e,(function(e){return e.timerId===t}));-1===n&&one(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},kie=function(e,t){zre(),t(),Vre()},Sie=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Aie=function(e,t,n,r){if(e){var i=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),i=function(i){t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=function(){return t},i}(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}else n(r(t))},Tie=function(e,t){var n=function(e,t){var n=Cie(),r=null,i=function(n){r||one(!1),r=null,kie(0,(function(){return Aie(e().onDragEnd,n,t,pne)}))};return{beforeCapture:function(t,n){r&&one(!1),kie(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&one(!1),kie(0,(function(){var r=e().onBeforeDragStart;r&&r(Sie(t,n))}))},start:function(i,o){r&&one(!1);var s=Sie(i,o);r={mode:o,lastCritical:i,lastLocation:s.source,lastCombine:null},n.add((function(){kie(0,(function(){return Aie(e().onDragStart,s,t,hne)}))}))},update:function(i,o){var s=Bne(o),a=Fne(o);r||one(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(i,r.lastCritical);l&&(r.lastCritical=i);var c=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.droppableId===t.droppableId&&e.index===t.index}(r.lastLocation,s);c&&(r.lastLocation=s);var u=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,a);if(u&&(r.lastCombine=a),l||c||u){var d=(0,_e.A)({},Sie(i,r.mode),{combine:a,destination:s});n.add((function(){kie(0,(function(){return Aie(e().onDragUpdate,d,t,fne)}))}))}},flush:function(){r||one(!1),n.flush()},drop:i,abort:function(){if(r){var e=(0,_e.A)({},Sie(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),t(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var o=r.payload.completed.result;return n.flush(),t(r),void n.drop(o)}if(t(r),"FLUSH"!==r.type){var s=e.getState();"DRAGGING"===s.phase&&n.update(s.critical,s.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Iie=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&one(!1),e.dispatch(sie({completed:r.completed}))}else t(n)}}},Mie=function(e){var t=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"===i.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=tne(window,[o])}))}}}},Eie=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(aie({reason:r.reason})))}}}},Pie=qee,Die=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,i=e.styleMarshal,o=e.getResponders,s=e.announce,a=e.autoScroller;return $ee(Gre,Pie(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(zee(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=qee.apply(void 0,o)(n.dispatch),Fee(Fee({},n),{},{dispatch:r})}}}((t=i,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var o=i.payload,s=o.id,a=o.clientSelection,l=o.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(sie({completed:c.completed})),"IDLE"!==n().phase&&one(!1),r(oie()),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:s,movementMode:l}});var u={draggableId:s,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),h=d.critical,f=d.dimensions,p=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:h,dimensions:f,clientSelection:a,movementMode:l,viewport:p}})}else t(i)}}}}(n),yie,Iie,Mie,Eie,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=t.getState();return"DRAGGING"!==i.phase&&one(!1),void e.start(i)}n(r),e.scroll(t.getState())}}}}(a),_ie,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Tie(o,s))))};var jie=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=vne({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},Oie=function(){var e=document.documentElement;return e||one(!1),e},Rie=function(){var e=Oie();return jie({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Lie=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;zre();var i=function(){var e=wie(),t=Rie(),n=e.y,r=e.x,i=Oie(),o=i.clientWidth,s=i.clientHeight;return{frame:Bte({top:n,left:r,right:r+o,bottom:n+s}),scroll:{initial:e,current:e,max:t,diff:{value:mne,displacement:mne}}}}(),o=i.scroll.current,s=t.droppable,a=r.droppable.getAllByType(s.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(o,n)})),l=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(o)})),c={draggables:One(l),droppables:jne(a)};return Vre(),{dimensions:c,critical:t,viewport:i}};function Nie(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var Bie=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame((function(){i=null,zre();var e=r,o=e.additions,s=e.removals,a=e.modified,l=Object.keys(o).map((function(e){return t.draggable.getById(e).getDimension(mne)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(a).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(s),modified:c};r={additions:{},removals:{},modified:{}},Vre(),n.publish(u)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){n||one(!1);var i=n.critical.draggable;"ADDITION"===t.type&&Nie(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Nie(e,i,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:function(r,i){e.droppable.exists(r)||one(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(e.droppable.exists(r)||one(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(e.droppable.exists(r)||one(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(t){n&&one(!1);var r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),s={draggable:r.descriptor,droppable:o.descriptor},a=e.subscribe(i);return n={critical:s,unsubscribe:a},Lie({critical:s,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return o},Fie=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},zie=function(e){window.scrollBy(e.x,e.y)},Vie=Kte((function(e){return Rne(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),Wie=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=function(e,t){var n=Pne(Vie(t),(function(t){return t.frame||one(!1),Ire(t.frame.pageMarginBox)(e)}));return n}(t,r);return o},Hie=.25,Uie=.05,$ie=28,Yie=function(e){return Math.pow(e,2)},Gie={stopDampeningAt:1200,accelerateAt:360},qie=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;return 0===i?0:(r-t)/i},Xie=Gie.accelerateAt,Zie=Gie.stopDampeningAt,Kie=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return $ie;if(e===t.startScrollingFrom)return 1;var n=qie({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=$ie*Yie(1-n);return Math.ceil(r)}(t,n);return 0===o?0:i?Math.max(function(e,t){var n=t,r=Zie,i=Date.now()-n;if(i>=Zie)return e;if(i<Xie)return 1;var o=qie({startOfRange:Xie,endOfRange:r,current:i}),s=e*Yie(o);return Math.ceil(s)}(o,r),1):o},Qie=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,s=function(e,t){return{startScrollingFrom:e[t.size]*Hie,maxScrollValueAt:e[t.size]*Uie}}(t,i);return n[i.end]<n[i.start]?Kie({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o}):-1*Kie({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o})},Jie=Cne((function(e){return 0===e?0:e})),eoe=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},a=Qie({container:n,distanceToEdges:s,dragStartTime:t,axis:qne,shouldUseTimeDampening:o}),l=Qie({container:n,distanceToEdges:s,dragStartTime:t,axis:Xne,shouldUseTimeDampening:o}),c=Jie({x:l,y:a});if(bne(c,mne))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?bne(u,mne)?null:u:null},toe=Cne((function(e){return 0===e?0:e>0?1:-1})),noe=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,i=t.change,o=gne(n,i),s={x:e(o.x,r.x),y:e(o.y,r.y)};return bne(s,mne)?null:s}}(),roe=function(e){var t=e.max,n=e.current,r=e.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=toe(r),s=noe({max:i,current:n,change:o});return!s||(0!==o.x&&0===s.x||0!==o.y&&0===s.y)},ioe=function(e,t){return roe({current:e.scroll.current,max:e.scroll.max,change:t})},ooe=function(e,t){var n=e.frame;return!!n&&roe({current:n.scroll.current,max:n.scroll.max,change:t})},soe=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,s=t.current.page.borderBoxCenter,a=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,s=eoe({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return s&&ioe(t,s)?s:null}({dragStartTime:n,viewport:t.viewport,subject:a,center:s,shouldUseTimeDampening:r});if(l)return void i(l)}var c=Wie({center:s,destination:Sre(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var a=eoe({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return a&&ooe(t,a)?a:null}({dragStartTime:n,droppable:c,subject:a,center:s,shouldUseTimeDampening:r});u&&o(c.descriptor.id,u)}},aoe=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(e,t){if(!ooe(e,t))return t;var r=function(e,t){var n=e.frame;return n&&ooe(e,t)?noe({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var i=vne(t,r);return n(e.descriptor.id,i),vne(t,i)},o=function(e,t,n){if(!e)return n;if(!ioe(t,n))return n;var i=function(e,t){if(!ioe(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return noe({current:r,max:n,change:t})}(t,n);if(!i)return r(n),null;var o=vne(n,i);return r(o),vne(n,o)};return function(e){var n=e.scrollJumpRequest;if(n){var r=Sre(e.impact);r||one(!1);var s=i(e.dimensions.droppables[r],n);if(s){var a=e.viewport,l=o(e.isWindowScrollAllowed,a,s);l&&function(e,n){var r=gne(e.current.client.selection,n);t({client:r})}(e,l)}}}},loe=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Qte(t),i=Qte(n),o=null,s=function(e){o||one(!1);var t=o,n=t.shouldUseTimeDampening,s=t.dragStartTime;soe({state:e,scrollWindow:r,scrollDroppable:i,dragStartTime:s,shouldUseTimeDampening:n})};return{start:function(e){zre(),o&&one(!1);var t=Date.now(),n=!1,r=function(){n=!0};soe({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:t,shouldUseTimeDampening:n},Vre(),n&&s(e)},stop:function(){o&&(r.cancel(),i.cancel(),o=null)},scroll:s}}({scrollWindow:n,scrollDroppable:t}),o=aoe({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):i.scroll(e))},start:i.start,stop:i.stop}},coe="data-rbd",uoe=function(){var e=coe+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),doe=function(){var e=coe+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),hoe=function(){var e=coe+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),foe={contextId:coe+"-scroll-container-context-id"},poe=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},moe=function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),r=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(uoe.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),i=[function(){var e="\n      transition: "+fie.outOfTheWay+";\n    ";return{selector:n(doe.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),r,{selector:n(hoe.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:poe(i,"always"),resting:poe(i,"resting"),dragging:poe(i,"dragging"),dropAnimating:poe(i,"dropAnimating"),userCancel:poe(i,"userCancel")}},goe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?i.useLayoutEffect:i.useEffect,voe=function(){var e=document.querySelector("head");return e||one(!1),e},boe=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};var yoe=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function woe(e){return e instanceof yoe(e).HTMLElement}function xoe(e,t){var n="["+uoe.contextId+'="'+e+'"]',r=Dne(document.querySelectorAll(n));if(!r.length)return null;var i=Pne(r,(function(e){return e.getAttribute(uoe.draggableId)===t}));return i&&woe(i)?i:null}function _oe(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}var i={register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||one(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return Mne(e.draggables).filter((function(e){return e.descriptor.type===t}))}};function o(t){return e.droppables[t]||null}var s={register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||one(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return Mne(e.droppables).filter((function(e){return e.descriptor.type===t}))}};return{draggable:i,droppable:s,subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Coe=i.createContext(null),koe=function(){var e=document.body;return e||one(!1),e},Soe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Aoe=function(e){return"rbd-announcement-"+e};var Toe=0,Ioe={separator:"::"};function Moe(e,t){return void 0===t&&(t=Ioe),Rte((function(){return""+e+t.separator+Toe++}),[t.separator,e])}var Eoe=i.createContext(null);function Poe(e){0}function Doe(e,t){Poe()}function joe(e){var t=(0,i.useRef)(e);return(0,i.useEffect)((function(){t.current=e})),t}var Ooe,Roe=27,Loe=32,Noe=37,Boe=38,Foe=39,zoe=40,Voe=((Ooe={})[13]=!0,Ooe[9]=!0,Ooe),Woe=function(e){Voe[e.keyCode]&&e.preventDefault()},Hoe=function(){var e="visibilitychange";return"undefined"===typeof document?e:Pne([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}(),Uoe=0,$oe=5;var Yoe,Goe={type:"IDLE"};function qoe(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,o=e.clientY;if(t===Uoe){var s={x:n,y:o},a=r();if("DRAGGING"===a.type)return e.preventDefault(),void a.actions.move(s);if("PENDING"!==a.type&&one(!1),function(e,t){return Math.abs(t.x-e.x)>=$oe||Math.abs(t.y-e.y)>=$oe}(a.point,s)){e.preventDefault();var l=a.actions.fluidLift(s);i({type:"DRAGGING",actions:l})}}}},{eventName:"mouseup",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return e.keyCode===Roe?(e.preventDefault(),void t()):void Woe(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&one(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Hoe,fn:t}]}function Xoe(){}var Zoe=((Yoe={})[34]=!0,Yoe[33]=!0,Yoe[36]=!0,Yoe[35]=!0,Yoe);function Koe(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return r.keyCode===Roe?(r.preventDefault(),void n()):r.keyCode===Loe?(r.preventDefault(),t(),void e.drop()):r.keyCode===zoe?(r.preventDefault(),void e.moveDown()):r.keyCode===Boe?(r.preventDefault(),void e.moveUp()):r.keyCode===Foe?(r.preventDefault(),void e.moveRight()):r.keyCode===Noe?(r.preventDefault(),void e.moveLeft()):void(Zoe[r.keyCode]?r.preventDefault():Woe(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Hoe,fn:n}]}var Qoe={type:"IDLE"},Joe=.15;var ese={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function tse(e,t){if(null==t)return!1;if(Boolean(ese[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&tse(e,t.parentElement)}function nse(e,t){var n=t.target;return!!woe(n)&&tse(e,n)}var rse=function(e){return Bte(e.getBoundingClientRect()).center};var ise=function(){var e="matches";return"undefined"===typeof document?e:Pne([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function ose(e,t){return null==e?null:e[ise](t)?e:ose(e.parentElement,t)}function sse(e,t){return e.closest?e.closest(t):ose(e,t)}function ase(e,t){var n,r=t.target;if(!((n=r)instanceof yoe(n).Element))return null;var i=function(e){return"["+uoe.contextId+'="'+e+'"]'}(e),o=sse(r,i);return o&&woe(o)?o:null}function lse(e){e.preventDefault()}function cse(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function use(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!!o&&(!!o.options.isEnabled&&!!Fie(n.getState(),i))}function dse(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,s=e.forceSensorStop,a=e.sourceEvent;if(!use({lockAPI:t,store:r,registry:i,draggableId:o}))return null;var l=i.draggable.getById(o),c=function(e,t){var n="["+doe.contextId+'="'+e+'"]',r=Pne(Dne(document.querySelectorAll(n)),(function(e){return e.getAttribute(doe.id)===t}));return r&&woe(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(a&&!l.options.canDragInteractiveElements&&nse(c,a))return null;var u=t.claim(s||ene),d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}var p=function(e,t){cse({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function m(e){function n(){t.release(),d="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var o=tne(window,[{eventName:"click",fn:lse,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),r.dispatch(aie({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&one(!1)),r.dispatch(qre(e.liftActionArgs)),d="DRAGGING",(0,_e.A)({isActive:function(){return cse({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}var g={isActive:function(){return cse({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:function(e){var t=Qte((function(e){p((function(){return eie({client:e})}))})),n=m({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}});return(0,_e.A)({},n,{move:t})},snapLift:function(){var e={moveUp:function(){return p(tie)},moveRight:function(){return p(rie)},moveDown:function(){return p(nie)},moveLeft:function(){return p(iie)}};return m({liftActionArgs:{id:o,clientSelection:rse(c),movementMode:"SNAP"},cleanup:ene,actions:e})},abort:function(){cse({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}};return g}var hse=[function(e){var t=(0,i.useRef)(Goe),n=(0,i.useRef)(ene),r=Rte((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&t.button===Uoe&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,a,{sourceEvent:t});if(i){t.preventDefault();var o={x:t.clientX,y:t.clientY};n.current(),u(i,o)}}}}}}),[e]),o=Rte((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),s=Lte((function(){n.current=tne(window,[o,r],{passive:!1,capture:!0})}),[o,r]),a=Lte((function(){"IDLE"!==t.current.type&&(t.current=Goe,n.current(),s())}),[s]),l=Lte((function(){var e=t.current;a(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[a]),c=Lte((function(){var e=qoe({cancel:l,completed:a,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=tne(window,e,{capture:!0,passive:!1})}),[l,a]),u=Lte((function(e,n){"IDLE"!==t.current.type&&one(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);goe((function(){return s(),function(){n.current()}}),[s])},function(e){var t=(0,i.useRef)(Xoe),n=Rte((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&n.keyCode===Loe){var i=e.findClosestDraggableId(n);if(i){var o=e.tryGetLock(i,l,{sourceEvent:n});if(o){n.preventDefault();var s=!0,a=o.snapLift();t.current(),t.current=tne(window,Koe(a,l),{capture:!0,passive:!1})}}}function l(){s||one(!1),s=!1,t.current(),r()}}}}),[e]),r=Lte((function(){t.current=tne(window,[n],{passive:!1,capture:!0})}),[n]);goe((function(){return r(),function(){t.current()}}),[r])},function(e){var t=(0,i.useRef)(Qoe),n=(0,i.useRef)(ene),r=Lte((function(){return t.current}),[]),o=Lte((function(e){t.current=e}),[]),s=Rte((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,l,{sourceEvent:t});if(i){var o=t.touches[0],s={x:o.clientX,y:o.clientY};n.current(),h(i,s)}}}}}}),[e]),a=Lte((function(){n.current=tne(window,[s],{capture:!0,passive:!1})}),[s]),l=Lte((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(Qoe),n.current(),a())}),[a,o]),c=Lte((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=Lte((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},i=tne(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=e.touches[0],o={x:i.clientX,y:i.clientY};e.preventDefault(),n.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&one(!1);var i=e.touches[0];if(i&&i.force>=Joe){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:Hoe,fn:t}]}(t),e),o=tne(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(e.keyCode===Roe&&e.preventDefault(),t()):t()}},{eventName:Hoe,fn:t}]}(t),e);n.current=function(){i(),o()}}),[c,r,l]),d=Lte((function(){var e=r();"PENDING"!==e.type&&one(!1);var t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,o]),h=Lte((function(e,t){"IDLE"!==r().type&&one(!1);var n=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,r,o,d]);goe((function(){return a(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(Qoe))}}),[r,a,o]),goe((function(){return tne(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function fse(e){var t=e.contextId,n=e.store,r=e.registry,o=e.customSensors,s=e.enableDefaultSensors,a=[].concat(s?hse:[],o||[]),l=(0,i.useState)((function(){return function(){var e=null;function t(){e||one(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&one(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=Lte((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);goe((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),goe((function(){return l.tryAbandon}),[l.tryAbandon]);var u=Lte((function(e){return use({lockAPI:l,registry:r,store:n,draggableId:e})}),[l,r,n]),d=Lte((function(e,i,o){return dse({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:i,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})}),[t,l,r,n]),h=Lte((function(e){return function(e,t){var n=ase(e,t);return n?n.getAttribute(uoe.draggableId):null}(t,e)}),[t]),f=Lte((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),p=Lte((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch(oie()))}),[l,n]),m=Lte(l.isClaimed,[l]),g=Rte((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:m}}),[u,d,h,f,p,m]);Poe();for(var v=0;v<a.length;v++)a[v](g)}var pse=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function mse(e){return e.current||one(!1),e.current}function gse(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,o=e.nonce,s=e.dragHandleUsageInstructions,a=(0,i.useRef)(null);Doe();var l=joe(e),c=Lte((function(){return pse(l.current)}),[l]),u=function(e){var t=Rte((function(){return Aoe(e)}),[e]),n=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),(0,_e.A)(e.style,Soe),koe().appendChild(e),function(){setTimeout((function(){var t=koe();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),Lte((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),d=function(e){var t=e.contextId,n=e.text,r=Moe("hidden-text",{separator:"-"}),o=Rte((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return(0,i.useEffect)((function(){var e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",koe().appendChild(e),function(){var t=koe();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:s}),h=function(e,t){var n=Rte((function(){return moe(e)}),[e]),r=(0,i.useRef)(null),o=(0,i.useRef)(null),s=Lte(Kte((function(e){var t=o.current;t||one(!1),t.textContent=e})),[]),a=Lte((function(e){var t=r.current;t||one(!1),t.textContent=e}),[]);goe((function(){(r.current||o.current)&&one(!1);var i=boe(t),l=boe(t);return r.current=i,o.current=l,i.setAttribute(coe+"-always",e),l.setAttribute(coe+"-dynamic",e),voe().appendChild(i),voe().appendChild(l),a(n.always),s(n.resting),function(){var e=function(e){var t=e.current;t||one(!1),voe().removeChild(t),e.current=null};e(r),e(o)}}),[t,a,s,n.always,n.resting,e]);var l=Lte((function(){return s(n.dragging)}),[s,n.dragging]),c=Lte((function(e){s("DROP"!==e?n.userCancel:n.dropAnimating)}),[s,n.dropAnimating,n.userCancel]),u=Lte((function(){o.current&&s(n.resting)}),[s,n.resting]);return Rte((function(){return{dragging:l,dropping:c,resting:u}}),[l,c,u])}(t,o),f=Lte((function(e){mse(a).dispatch(e)}),[]),p=Rte((function(){return Gee({publishWhileDragging:Xre,updateDroppableScroll:Kre,updateDroppableIsEnabled:Qre,updateDroppableIsCombineEnabled:Jre,collectionStarting:Zre},f)}),[f]),m=function(){var e=Rte(_oe,[]);return(0,i.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),g=Rte((function(){return Bie(m,p)}),[m,p]),v=Rte((function(){return loe((0,_e.A)({scrollWindow:zie,scrollDroppable:g.scrollDroppable},Gee({move:eie},f)))}),[g.scrollDroppable,f]),b=function(e){var t=(0,i.useRef)({}),n=(0,i.useRef)(null),r=(0,i.useRef)(null),o=(0,i.useRef)(!1),s=Lte((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),a=Lte((function(t){var n=xoe(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=Lte((function(e,t){n.current===e&&(n.current=t)}),[]),c=Lte((function(){r.current||o.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&a(e)})))}),[a]),u=Lte((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(uoe.draggableId)===e&&(n.current=e)}),[]);return goe((function(){return o.current=!0,function(){o.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),Rte((function(){return{register:s,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[s,u,c,l])}(t),y=Rte((function(){return Die({announce:u,autoScroller:v,dimensionMarshal:g,focusMarshal:b,getResponders:c,styleMarshal:h})}),[u,v,g,b,c,h]);a.current=y;var w=Lte((function(){var e=mse(a);"IDLE"!==e.getState().phase&&e.dispatch(oie())}),[]),x=Lte((function(){var e=mse(a).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(Rte((function(){return{isDragging:x,tryAbort:w}}),[x,w]));var _=Lte((function(e){return Fie(mse(a).getState(),e)}),[]),C=Lte((function(){return Tre(mse(a).getState())}),[]),k=Rte((function(){return{marshal:g,focus:b,contextId:t,canLift:_,isMovementAllowed:C,dragHandleUsageInstructionsId:d,registry:m}}),[t,g,d,b,_,C,m]);return fse({contextId:t,store:y,registry:m,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,i.useEffect)((function(){return w}),[w]),i.createElement(Eoe.Provider,{value:k},i.createElement(tte,{context:Coe,store:y},e.children))}var vse=0;function bse(e){var t=Rte((function(){return""+vse++}),[]),n=e.dragHandleUsageInstructions||dne;return i.createElement(sne,null,(function(r){return i.createElement(gse,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var yse=function(e){return function(t){return e===t}},wse=yse("scroll"),xse=yse("auto"),_se=(yse("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Cse=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return _se(n,wse)||_se(n,xse)},kse=function e(t){return null==t||t===document.body||t===document.documentElement?null:Cse(t)?t:e(t.parentElement)},Sse=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Ase=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Tse=function(e){return{closestScrollable:kse(e),isFixedOnPage:Ase(e)}},Ise=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,s=e.isDropDisabled,a=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=Gte(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,s=i+t.scrollWidth,a=Fte({top:r,right:s,bottom:o,left:i},n.border);return Wte({borderBox:a,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=$te(u,i),h=function(){if(!c)return null;var e=Gte(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:$te(e,i),scroll:Sse(c),scrollSize:t,shouldClipSubject:l}}(),f=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,s=e.client,a=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=jie({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:mne,displacement:mne}}}}(),u="vertical"===o?qne:Xne;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:s,page:a,frame:c,subject:Tne({page:a,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:h});return f},Mse={passive:!1},Ese={passive:!0},Pse=function(e){return e.shouldPublishImmediately?Mse:Ese};function Dse(e){var t=(0,i.useContext)(e);return t||one(!1),t}var jse=function(e){return e&&e.env.closestScrollable||null};function Ose(){}var Rse={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Lse=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,i=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?Rse:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?fie.placeholder:null}};var Nse=i.memo((function(e){var t=(0,i.useRef)(null),n=Lte((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,o=e.onTransitionEnd,s=e.onClose,a=e.contextId,l=(0,i.useState)("open"===e.animate),c=l[0],u=l[1];(0,i.useEffect)((function(){return c?"open"!==r?(n(),u(!1),Ose):t.current?Ose:(t.current=setTimeout((function(){t.current=null,u(!1)})),n):Ose}),[r,c,n]);var d=Lte((function(e){"height"===e.propertyName&&(o(),"close"===r&&s())}),[r,s,o]),h=Lse({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return i.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":a,onTransitionEnd:d,ref:e.innerRef})})),Bse=i.createContext(null);var Fse=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return $t(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(i.PureComponent),zse={dragging:5e3,dropAnimating:4500},Vse=function(e,t){return t?fie.drop(t.duration):e?fie.snap:fie.fluid},Wse=function(e,t){return e?t?uie.drop:uie.combining:null},Hse=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode};function Use(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,i=e.dropping,o=Boolean(r),s=Hse(e),a=Boolean(i),l=a?mie.drop(n,o):mie.moveTo(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:Vse(s,i),transform:l,opacity:Wse(o,a),zIndex:a?zse.dropAnimating:zse.dragging,pointerEvents:"none"}}(e):(t=e,{transform:mie.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"});var t}function $se(e){var t=Moe("draggable"),n=e.descriptor,r=e.registry,o=e.getDraggableRef,s=e.canDragInteractiveElements,a=e.shouldRespectForcePress,l=e.isEnabled,c=Rte((function(){return{canDragInteractiveElements:s,shouldRespectForcePress:a,isEnabled:l}}),[s,l,a]),u=Lte((function(e){var t=o();return t||one(!1),function(e,t,n){void 0===n&&(n=mne);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=Yte(i,r),s=$te(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:s}}(n,t,e)}),[n,o]),d=Rte((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:u}}),[n,u,c,t]),h=(0,i.useRef)(d),f=(0,i.useRef)(!0);goe((function(){return r.draggable.register(h.current),function(){return r.draggable.unregister(h.current)}}),[r.draggable]),goe((function(){if(f.current)f.current=!1;else{var e=h.current;h.current=d,r.draggable.update(d,e)}}),[d,r.draggable])}function Yse(e,t,n){Doe()}function Gse(e){e.preventDefault()}var qse=function(e,t){return e===t},Xse=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function Zse(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Kse={mapped:{type:"SECONDARY",offset:mne,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Zse(null)}};var Qse=Dte((function(){var e=function(){var e=Kte((function(e,t){return{x:e,y:t}})),t=Kte((function(e,t,n,r,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=Kte((function(e,n,r,i,o,s,a){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:s,mode:n,offset:e,dimension:r,forceShouldAnimate:a,snapshot:t(n,i,o,s,null)}}}));return function(r,i){if(r.isDragging){if(r.critical.draggable.id!==i.draggableId)return null;var o=r.current.client.offset,s=r.dimensions.draggables[i.draggableId],a=Sre(r.impact),l=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,s,i.isClone,a,l,c)}var u;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==i.draggableId)return null;var h=i.isClone,f=r.dimensions.draggables[i.draggableId],p=d.result,m=p.mode,g=Xse(p),v=function(e){return e.combine?e.combine.draggableId:null}(p),b={duration:r.dropDuration,curve:cie,moveTo:r.newHomeClientOffset,opacity:v?uie.drop:null,scale:v?die.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:b,draggingOver:g,combineWith:v,mode:m,forceShouldAnimate:null,snapshot:t(m,h,g,v,b)}}}return null}}(),t=function(){var e=Kte((function(e,t){return{x:e,y:t}})),t=Kte(Zse),n=Kte((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(mne,e,!0):null},i=function(t,i,o,s){var a=o.displaced.visible[t],l=Boolean(s.inVirtualList&&s.effected[t]),c=Fne(o),u=c&&c.draggableId===t?i:null;if(!a){if(!l)return r(u);if(o.displaced.invisible[t])return null;var d=yne(s.displacedBy.point),h=e(d.x,d.y);return n(h,u,!0)}if(l)return r(u);var f=o.displacedBy.point,p=e(f.x,f.y);return n(p,u,a.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||Kse}}),{dropAnimationFinished:lie},null,{context:Coe,pure:!0,areStatePropsEqual:qse})((function(e){var t=(0,i.useRef)(null),n=Lte((function(e){t.current=e}),[]),r=Lte((function(){return t.current}),[]),o=Dse(Eoe),s=o.contextId,a=o.dragHandleUsageInstructionsId,l=o.registry,c=Dse(Bse),u=c.type,d=c.droppableId,h=Rte((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),f=e.children,p=e.draggableId,m=e.isEnabled,g=e.shouldRespectForcePress,v=e.canDragInteractiveElements,b=e.isClone,y=e.mapped,w=e.dropAnimationFinished;Yse(),Poe(),b||$se(Rte((function(){return{descriptor:h,registry:l,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:g,isEnabled:m}}),[h,l,r,v,g,m]));var x=Rte((function(){return m?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:Gse}:null}),[s,a,p,m]),_=Lte((function(e){"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&w()}),[w,y]),C=Rte((function(){var e=Use(y),t="DRAGGING"===y.type&&y.dropping?_:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":p,style:e,onTransitionEnd:t},dragHandleProps:x}}),[s,x,p,y,_,n]),k=Rte((function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}}),[h.droppableId,h.id,h.index,h.type]);return f(C,y.snapshot,k)}));function Jse(e){return Dse(Bse).isUsingCloneFor!==e.draggableId||e.isClone?i.createElement(Qse,e):null}function eae(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return i.createElement(Jse,(0,_e.A)({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var tae=function(e,t){return e===t.droppable.type},nae=function(e,t){return t.draggables[e.draggable.id]},rae={updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}};var iae={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||one(!1),document.body}},oae=Dte((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=(0,_e.A)({},e,{shouldAnimatePlaceholder:!1}),n=Kte((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=Kte((function(r,i,o,s,a,l){var c=a.descriptor.id;if(a.descriptor.droppableId===r){var u=l?{render:l,dragging:n(a.descriptor)}:null,d={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:a.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!i)return t;if(!s)return e;var h={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:a.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}}));return function(n,i){var o=i.droppableId,s=i.type,a=!i.isDropDisabled,l=i.renderClone;if(n.isDragging){var c=n.critical;if(!tae(s,c))return t;var u=nae(c,n.dimensions),d=Sre(n.impact)===o;return r(o,a,d,d,u,l)}if("DROP_ANIMATING"===n.phase){var h=n.completed;if(!tae(s,h.critical))return t;var f=nae(h.critical,n.dimensions);return r(o,a,Xse(h.result)===o,Sre(h.impact)===o,f,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!tae(s,p.critical))return t;var m=Sre(p.impact)===o,g=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),v=p.critical.droppable.id===o;return m?g?e:t:v?e:t}return t}}),rae,null,{context:Coe,pure:!0,areStatePropsEqual:qse})((function(e){var t=(0,i.useContext)(Eoe);t||one(!1);var n=t.contextId,r=t.isMovementAllowed,o=(0,i.useRef)(null),s=(0,i.useRef)(null),a=e.children,l=e.droppableId,c=e.type,u=e.mode,d=e.direction,h=e.ignoreContainerClipping,f=e.isDropDisabled,p=e.isCombineEnabled,m=e.snapshot,g=e.useClone,v=e.updateViewportMaxScroll,b=e.getContainerForClone,y=Lte((function(){return o.current}),[]),w=Lte((function(e){o.current=e}),[]),x=(Lte((function(){return s.current}),[]),Lte((function(e){s.current=e}),[]));Doe();var _=Lte((function(){r()&&v({maxScroll:Rie()})}),[r,v]);!function(e){var t=(0,i.useRef)(null),n=Dse(Eoe),r=Moe("droppable"),o=n.registry,s=n.marshal,a=joe(e),l=Rte((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=(0,i.useRef)(l),u=Rte((function(){return Kte((function(e,n){t.current||one(!1);var r={x:e,y:n};s.updateDroppableScroll(l.id,r)}))}),[l.id,s]),d=Lte((function(){var e=t.current;return e&&e.env.closestScrollable?Sse(e.env.closestScrollable):mne}),[]),h=Lte((function(){var e=d();u(e.x,e.y)}),[d,u]),f=Rte((function(){return Qte(h)}),[h]),p=Lte((function(){var e=t.current,n=jse(e);e&&n||one(!1),e.scrollOptions.shouldPublishImmediately?h():f()}),[f,h]),m=Lte((function(e,r){t.current&&one(!1);var i=a.current,o=i.getDroppableRef();o||one(!1);var s=Tse(o),c={ref:o,descriptor:l,env:s,scrollOptions:r};t.current=c;var u=Ise({ref:o,descriptor:l,env:s,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),d=s.closestScrollable;return d&&(d.setAttribute(foe.contextId,n.contextId),d.addEventListener("scroll",p,Pse(c.scrollOptions))),u}),[n.contextId,l,p,a]),g=Lte((function(){var e=t.current,n=jse(e);return e&&n||one(!1),Sse(n)}),[]),v=Lte((function(){var e=t.current;e||one(!1);var n=jse(e);t.current=null,n&&(f.cancel(),n.removeAttribute(foe.contextId),n.removeEventListener("scroll",p,Pse(e.scrollOptions)))}),[p,f]),b=Lte((function(e){var n=t.current;n||one(!1);var r=jse(n);r||one(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),y=Rte((function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:v,scroll:b}}),[v,m,g,b]),w=Rte((function(){return{uniqueId:r,descriptor:l,callbacks:y}}),[y,l,r]);goe((function(){return c.current=w.descriptor,o.droppable.register(w),function(){t.current&&v(),o.droppable.unregister(w)}}),[y,l,v,w,s,o.droppable]),goe((function(){t.current&&s.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,s]),goe((function(){t.current&&s.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,s])}({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:h,getDroppableRef:y});var C=i.createElement(Fse,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,o=e.animate;return i.createElement(Nse,{placeholder:r,onClose:t,innerRef:x,animate:o,contextId:n,onTransitionEnd:_})})),k=Rte((function(){return{innerRef:w,placeholder:C,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}}),[n,l,C,w]),S=g?g.dragging.draggableId:null,A=Rte((function(){return{droppableId:l,type:c,isUsingCloneFor:S}}),[l,S,c]);return i.createElement(Bse.Provider,{value:A},a(k,m),function(){if(!g)return null;var e=g.dragging,t=g.render,n=i.createElement(Jse,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return Yt.createPortal(n,b())}())}));oae.defaultProps=iae;const sae={"common.bi.image":"","common.bisize.width":"0px","common.bisize.height":"0px","common.backgroundImage":"none","common.backgroundColor":"#fff","common.border":"1px solid #c1c1c1"},aae=e=>{let{onRegisterComplete:t,initialData:n={}}=e;const r=(0,i.useRef)(null),[o,s]=(0,i.useState)(n.title||""),[a,l]=(0,i.useState)(n.content||""),[c,u]=(0,i.useState)(n.images?n.images.map((e=>({url:e,name:null}))):[]),[d,h]=(0,i.useState)(null),f=(0,i.useRef)(null),[p,m]=(0,i.useState)(!1),[g,v]=(0,i.useState)(""),[b,y]=(0,i.useState)("error"),w=sl((e=>{var t,n,r;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.email)||null})),x=()=>{m(!1)},_=(0,i.useCallback)((async e=>{const t=r.current.getInstance(),n=c[e];if(n&&n.url)try{await t.loadImageFromURL(n.url,"selectedImage"),t.clearUndoStack(),t.ui.activeMenuEvent()}catch(i){}}),[c]);(0,i.useEffect)((()=>{null!==d&&_(d)}),[d,_]);const C=[...c];for(;C.length<8;)C.push({url:null,name:null});return(0,je.jsxs)("div",{style:{textAlign:"center",position:"relative"},children:[(0,je.jsxs)(We,{sx:{display:"flex",justifyContent:"center",alignItems:"center",padding:0},children:[(0,je.jsx)(We,{sx:{flex:"1 1 auto",width:"60%",height:"600px",marginRight:"10px"},children:(0,je.jsx)(Oee(),{ref:r,includeUI:{theme:sae,menu:["crop","flip","rotate","draw","shape","icon","text","mask","filter"],initMenu:"",uiSize:{width:"100%",height:"600px"},menuBarPosition:"left"},cssMaxHeight:500,cssMaxWidth:700,selectionStyle:{cornerSize:20,rotatingPointOffset:70},usageStatistics:!1,onError:e=>{v("Error loading image. Please try again."),y("error"),m(!0)}})}),(0,je.jsxs)(We,{sx:{flex:"0 1 auto",display:"flex",flexDirection:"column",justifyContent:"flex-start",height:"600px",gap:2,marginTop:5},children:[(0,je.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=e.target.files,n=Array.from(t).slice(0,8).map((e=>({url:URL.createObjectURL(e),name:e.name})));u((e=>{const t=e.slice();return n.forEach(((e,n)=>{t[n]?t[n]=e:t.push(e)})),t})),h(0)},ref:f,style:{display:"none"}}),(0,je.jsx)(la,{variant:"contained",onClick:()=>f.current.click(),sx:{top:-20,right:0,margin:"0px",backgroundColor:"#DBC7B5","&:hover":{backgroundColor:"#A67153"}},children:"\ub20c\ub7ec\uc11c \uc774\ubbf8\uc9c0\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694"}),(0,je.jsx)(bse,{onDragEnd:e=>{if(!e.destination)return;const t=Array.from(c),[n]=t.splice(e.source.index,1);t.splice(e.destination.index,0,n),u(t),h(e.destination.index)},children:(0,je.jsx)(oae,{droppableId:"images",direction:"horizontal",children:e=>(0,je.jsxs)(Pt,{container:!0,spacing:.5,sx:{width:"500px"},...e.droppableProps,ref:e.innerRef,children:[C.map(((e,t)=>(0,je.jsx)(eae,{draggableId:`image-${t}`,index:t,children:(n,i)=>(0,je.jsx)(Pt,{item:!0,xs:3,ref:n.innerRef,...n.draggableProps,...n.dragHandleProps,children:(0,je.jsx)(We,{component:"div",onClick:()=>e.url&&(async e=>{var t;const n=r.current.getInstance();if(null!==d&&null!==(t=c[d])&&void 0!==t&&t.url)try{const e=n.toDataURL();console.log("selectedImages : ",c),console.log("currentImageIndex : "+d),u((t=>t.map(((t,n)=>n===d?{...t,url:e}:t))))}catch(o){v("\uc774\ubbf8\uc9c0 \uc2ac\ub86f \ubcc0\uacbd\uc5d0\ub7ec"),y("error"),m(!0)}h(e);const i=c[e];if(i&&i.url)try{await n.loadImageFromURL(i.url,"selectedImage"),n.clearUndoStack(),n.ui.activeMenuEvent()}catch(o){v("Error loading image. Please try again with a valid image."),y("error"),m(!0)}})(t),sx:{position:"relative",width:"100%",height:100,border:d===t?"2px solid blue":"1px solid gray",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:i.isDragging?"#e0e0e0":"#f0f0f0",marginBottom:1,visibility:i.isDragging?"hidden":"visible"},children:e.url&&(0,je.jsx)(We,{component:"img",src:e.url,alt:`Selected ${t}`,sx:{width:"100%",height:"100%",objectFit:"cover"}})})})},t))),e.placeholder]})})}),(0,je.jsx)(Mv,{label:"\uc81c\ubaa9",variant:"outlined",fullWidth:!0,value:o,onChange:e=>s(e.target.value),sx:{marginTop:"16px"}}),(0,je.jsx)(Mv,{label:"\ub0b4\uc6a9",variant:"outlined",multiline:!0,rows:4,fullWidth:!0,value:a,onChange:e=>l(e.target.value),sx:{marginTop:"16px"}}),(0,je.jsx)(la,{variant:"contained",onClick:async()=>{console.log("selectedImages",c);const e=r.current.getInstance();for(let t=0;t<c.length;t++){const n=c[t];if(null!==n&&void 0!==n&&n.url)try{await e.loadImageFromURL(n.url,"selectedImage"),e.clearUndoStack(),e.ui.activeMenuEvent();const r=e.toDataURL();u((e=>e.map(((e,n)=>n===t?{...e,url:r}:e))))}catch(s){console.error("Error processing image:",s)}}const n=new FormData;let i=!1;for(const t of c)if(t.url&&!t.url.startsWith("http")){i=!0;try{const e=await fetch(t.url).then((e=>e.blob()));n.append("files",e,t.name||"image.jpg")}catch(s){return void console.error("Error converting image to blob.",s)}}if(n.append("writer",w),n.append("title",o),n.append("content",a),!i){const e=JSON.stringify(c);n.append("sortedImages",e)}t(n)},sx:{marginTop:"0px",backgroundColor:"#DBC7B5","&:hover":{backgroundColor:"#A67153"}},children:"\uc800 \uc7a5"})]})]}),(0,je.jsx)(Vp,{open:p,autoHideDuration:6e3,onClose:x,children:(0,je.jsx)(qI,{onClose:x,severity:b,sx:{width:"100%"},children:g})})]})};function lae(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function cae(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const uae=e=>Array.isArray(e);function dae(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function hae(e){return"string"===typeof e||Array.isArray(e)}function fae(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function pae(e,t,n,r){if("function"===typeof t){const[i,o]=fae(r);t=t(void 0!==n?n:e.custom,i,o)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,o]=fae(r);t=t(void 0!==n?n:e.custom,i,o)}return t}function mae(e,t,n){const r=e.getProps();return pae(r,t,void 0!==n?n:r.custom,e)}const gae=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vae=["initial",...gae],bae=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yae=new Set(bae),wae=e=>1e3*e,xae=e=>e/1e3,_ae={type:"spring",stiffness:500,damping:25,restSpeed:10},Cae={type:"keyframes",duration:.8},kae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Sae=(e,t)=>{let{keyframes:n}=t;return n.length>2?Cae:yae.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:_ae:kae};function Aae(e,t){return e[t]||e.default||e}const Tae=!1,Iae=!1,Mae=!1,Eae=e=>null!==e;function Pae(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const o=e.filter(Eae),s=r&&"loop"!==i&&r%2===1?0:o.length-1;return s&&void 0!==n?n:o[s]}const Dae=e=>e;const jae=["read","resolveKeyframes","update","preRender","render","postRender"];function Oae(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=jae.reduce(((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function a(t){o.has(t)&&(l.schedule(t),e()),t(s)}const l={schedule:function(e){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),i.has(e)||i.add(e),e},cancel:e=>{n.delete(e),o.delete(e)},process:e=>{s=e,r?i=!0:(r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,i&&(i=!1,l.process(e)))}};return l}(o),e)),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=s,f=()=>{const o=Iae?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))},p=jae.reduce(((t,o)=>{const a=s[o];return t[o]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(f)),a.schedule(t,o,s)},t}),{});return{schedule:p,cancel:e=>{for(let t=0;t<jae.length;t++)s[jae[t]].cancel(e)},state:i,steps:s}}const{schedule:Rae,cancel:Lae,state:Nae,steps:Bae}=Oae("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Dae,!0),Fae=e=>/^0[^.\s]+$/u.test(e);function zae(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||Fae(e))}let Vae=Dae,Wae=Dae;const Hae=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Uae=e=>t=>"string"===typeof t&&t.startsWith(e),$ae=Uae("--"),Yae=Uae("var(--"),Gae=e=>!!Yae(e)&&qae.test(e.split("/*")[0].trim()),qae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xae=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Zae(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Wae(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,i]=function(e){const t=Xae.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${null!==n&&void 0!==n?n:r}`,i]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return Hae(e)?parseFloat(e):e}return Gae(i)?Zae(i,t,n+1):i}const Kae=(e,t,n)=>n>t?t:n<e?e:n,Qae={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Jae={...Qae,transform:e=>Kae(0,1,e)},ele={...Qae,default:1},tle=e=>Math.round(1e5*e)/1e5,nle=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,rle=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,ile=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function ole(e){return"string"===typeof e}const sle=e=>({test:t=>ole(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),ale=sle("deg"),lle=sle("%"),cle=sle("px"),ule=sle("vh"),dle=sle("vw"),hle={...lle,parse:e=>lle.parse(e)/100,transform:e=>lle.transform(100*e)},fle=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ple=e=>e===Qae||e===cle,mle=(e,t)=>parseFloat(e.split(", ")[t]),gle=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return mle(o[1],t);{const t=i.match(/^matrix\((.+)\)$/u);return t?mle(t[1],e):0}},vle=new Set(["x","y","z"]),ble=bae.filter((e=>!vle.has(e)));const yle={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:gle(4,13),y:gle(5,14)};yle.translateX=yle.x,yle.translateY=yle.y;const wle=e=>t=>t.test(e),xle=[Qae,cle,lle,ale,dle,ule,{test:e=>"auto"===e,parse:e=>e}],_le=e=>xle.find(wle(e)),Cle=new Set;let kle=!1,Sle=!1;function Ale(){if(Sle){const e=Array.from(Cle).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return ble.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var i;null===(i=e.getValue(n))||void 0===i||i.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Sle=!1,kle=!1,Cle.forEach((e=>e.complete())),Cle.clear()}function Tle(){Cle.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Sle=!0)}))}class Ile{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Cle.add(this),kle||(kle=!0,Rae.read(Tle),Rae.resolveKeyframes(Ale))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),o=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,o);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=o),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Cle.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Cle.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Mle=(e,t)=>n=>Boolean(ole(n)&&ile.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ele=(e,t,n)=>r=>{if(!ole(r))return r;const[i,o,s,a]=r.match(nle);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},Ple={...Qae,transform:e=>Math.round((e=>Kae(0,255,e))(e))},Dle={test:Mle("rgb","red"),parse:Ele("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Ple.transform(t)+", "+Ple.transform(n)+", "+Ple.transform(r)+", "+tle(Jae.transform(i))+")"}};const jle={test:Mle("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Dle.transform},Ole={test:Mle("hsl","hue"),parse:Ele("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+lle.transform(tle(n))+", "+lle.transform(tle(r))+", "+tle(Jae.transform(i))+")"}},Rle={test:e=>Dle.test(e)||jle.test(e)||Ole.test(e),parse:e=>Dle.test(e)?Dle.parse(e):Ole.test(e)?Ole.parse(e):jle.parse(e),transform:e=>ole(e)?e:e.hasOwnProperty("red")?Dle.transform(e):Ole.transform(e)};const Lle="number",Nle="color",Ble="var",Fle="var(",zle="${}",Vle=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wle(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const s=t.replace(Vle,(e=>(Rle.test(e)?(r.color.push(o),i.push(Nle),n.push(Rle.parse(e))):e.startsWith(Fle)?(r.var.push(o),i.push(Ble),n.push(e)):(r.number.push(o),i.push(Lle),n.push(parseFloat(e))),++o,zle))).split(zle);return{values:n,split:s,indexes:r,types:i}}function Hle(e){return Wle(e).values}function Ule(e){const{split:t,types:n}=Wle(e),r=t.length;return e=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],void 0!==e[o]){const t=n[o];i+=t===Lle?tle(e[o]):t===Nle?Rle.transform(e[o]):e[o]}return i}}const $le=e=>"number"===typeof e?0:e;const Yle={test:function(e){var t,n;return isNaN(e)&&ole(e)&&((null===(t=e.match(nle))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(rle))||void 0===n?void 0:n.length)||0)>0},parse:Hle,createTransformer:Ule,getAnimatableNone:function(e){const t=Hle(e);return Ule(e)(t.map($le))}},Gle=new Set(["brightness","contrast","saturate","opacity"]);function qle(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(nle)||[];if(!r)return e;const i=n.replace(r,"");let o=Gle.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const Xle=/\b([a-z-]*)\(.*?\)/gu,Zle={...Yle,getAnimatableNone:e=>{const t=e.match(Xle);return t?t.map(qle).join(" "):e}},Kle={...Qae,transform:Math.round},Qle={borderWidth:cle,borderTopWidth:cle,borderRightWidth:cle,borderBottomWidth:cle,borderLeftWidth:cle,borderRadius:cle,radius:cle,borderTopLeftRadius:cle,borderTopRightRadius:cle,borderBottomRightRadius:cle,borderBottomLeftRadius:cle,width:cle,maxWidth:cle,height:cle,maxHeight:cle,size:cle,top:cle,right:cle,bottom:cle,left:cle,padding:cle,paddingTop:cle,paddingRight:cle,paddingBottom:cle,paddingLeft:cle,margin:cle,marginTop:cle,marginRight:cle,marginBottom:cle,marginLeft:cle,rotate:ale,rotateX:ale,rotateY:ale,rotateZ:ale,scale:ele,scaleX:ele,scaleY:ele,scaleZ:ele,skew:ale,skewX:ale,skewY:ale,distance:cle,translateX:cle,translateY:cle,translateZ:cle,x:cle,y:cle,z:cle,perspective:cle,transformPerspective:cle,opacity:Jae,originX:hle,originY:hle,originZ:cle,zIndex:Kle,backgroundPositionX:cle,backgroundPositionY:cle,fillOpacity:Jae,strokeOpacity:Jae,numOctaves:Kle},Jle={...Qle,color:Rle,backgroundColor:Rle,outlineColor:Rle,fill:Rle,stroke:Rle,borderColor:Rle,borderTopColor:Rle,borderRightColor:Rle,borderBottomColor:Rle,borderLeftColor:Rle,filter:Zle,WebkitFilter:Zle},ece=e=>Jle[e];function tce(e,t){let n=ece(e);return n!==Zle&&(n=Yle),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const nce=new Set(["auto","none","0"]);class rce extends Ile{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),Gae(n))){const r=Zae(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!fle.has(n)||2!==e.length)return;const[r,i]=e,o=_le(r),s=_le(i);if(o!==s)if(ple(o)&&ple(s))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)zae(e[r])&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!nce.has(t)&&Wle(t).values.length&&(r=e[i]),i++}if(r&&n)for(const o of t)e[o]=tce(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yle[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=yle[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}function ice(e){let t;return()=>(void 0===t&&(t=e()),t)}let oce;function sce(){oce=void 0}const ace={now:()=>(void 0===oce&&ace.set(Nae.isProcessing||Iae?Nae.timestamp:performance.now()),oce),set:e=>{oce=e,queueMicrotask(sce)}},lce=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Yle.test(e)&&"0"!==e||e.startsWith("url(")));class cce{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...a}=e;this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ace.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(Tle(),Ale()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ace.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:o,onComplete:s,onUpdate:a,isGenerator:l}=this.options;if(!l&&!function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const o=e[e.length-1],s=lce(i,t),a=lce(o,t);return Vae(s===a,`You are trying to animate ${t} from "${i}" to "${o}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${o} via the \`style\` property.`),!(!s||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||"spring"===n&&r)}(e,n,r,i)){if(Mae||!o)return null===a||void 0===a||a(Pae(e,this.options,t)),null===s||void 0===s||s(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}function uce(e,t){return t?e*(1e3/t):0}const dce=5;function hce(e,t,n){const r=Math.max(t-dce,0);return uce(n-e(r),t-r)}const fce=.001,pce=.01,mce=10,gce=.05,vce=1;function bce(e){let t,n,{duration:r=800,bounce:i=.25,velocity:o=0,mass:s=1}=e;Vae(r<=wae(mce),"Spring duration must be 10 seconds or less");let a=1-i;a=Kae(gce,vce,a),r=Kae(pce,mce,xae(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-o,s=wce(e,a),l=Math.exp(-n);return fce-i/s*l},n=e=>{const n=e*a*r,i=n*o+o,s=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=wce(Math.pow(e,2),a);return(-t(e)+fce>0?-1:1)*((i-s)*l)/c}):(t=e=>Math.exp(-e*r)*((e-o)*r+1)-fce,n=e=>Math.exp(-e*r)*(r*r*(o-e)));const l=function(e,t,n){let r=n;for(let i=1;i<yce;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=wae(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*a*Math.sqrt(s*e),duration:r}}}const yce=12;function wce(e,t){return e*Math.sqrt(1-t*t)}const xce=["duration","bounce"],_ce=["stiffness","damping","mass"];function Cce(e,t){return t.some((t=>void 0!==e[t]))}function kce(e){let{keyframes:t,restDelta:n,restSpeed:r,...i}=e;const o=t[0],s=t[t.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Cce(e,_ce)&&Cce(e,xce)){const n=bce(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...i,velocity:-xae(i.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*u)),g=s-o,v=xae(Math.sqrt(l/u)),b=Math.abs(g)<5;let y;if(r||(r=b?.01:2),n||(n=b?.005:.5),m<1){const e=wce(v,m);y=t=>{const n=Math.exp(-m*v*t);return s-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)y=e=>s-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);y=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return s-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&d||null,next:e=>{const t=y(e);if(f)a.done=e>=d;else{let i=0;m<1&&(i=0===e?wae(p):hce(y,e,t));const o=Math.abs(i)<=r,l=Math.abs(s-t)<=n;a.done=o&&l}return a.value=a.done?s:t,a}}}function Sce(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===a?g:a(g);v!==g&&(m=v-h);const b=e=>-m*Math.exp(-e/i),y=e=>v+b(e),w=e=>{const t=b(e),n=y(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let x,_;const C=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(x=e,_=kce({keyframes:[f.value,p(f.value)],velocity:hce(y,e,f.value),damping:o,stiffness:s,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:e=>{let t=!1;return _||void 0!==x||(t=!0,w(e),C(e)),void 0!==x&&e>=x?_.next(e-x):(!t&&w(e),f)}}}const Ace=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Tce=1e-7,Ice=12;function Mce(e,t,n,r){if(e===t&&n===r)return Dae;const i=t=>function(e,t,n,r,i){let o,s,a=0;do{s=t+(n-t)/2,o=Ace(s,r,i)-e,o>0?n=s:t=s}while(Math.abs(o)>Tce&&++a<Ice);return s}(t,0,1,e,n);return e=>0===e||1===e?e:Ace(i(e),t,r)}const Ece=Mce(.42,0,1,1),Pce=Mce(0,0,.58,1),Dce=Mce(.42,0,.58,1),jce=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Oce=e=>t=>1-e(1-t),Rce=e=>1-Math.sin(Math.acos(e)),Lce=Oce(Rce),Nce=jce(Rce),Bce=Mce(.33,1.53,.69,.99),Fce=Oce(Bce),zce={linear:Dae,easeIn:Ece,easeInOut:Dce,easeOut:Pce,circIn:Rce,circInOut:Nce,circOut:Lce,backIn:Fce,backInOut:jce(Fce),backOut:Bce,anticipate:e=>(e*=2)<1?.5*Fce(e):.5*(2-Math.pow(2,-10*(e-1)))},Vce=e=>{if(Array.isArray(e)){Wae(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return Mce(t,n,r,i)}return"string"===typeof e?(Wae(void 0!==zce[e],`Invalid easing type '${e}'`),zce[e]):e},Wce=(e,t)=>n=>t(e(n)),Hce=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Wce)},Uce=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},$ce=(e,t,n)=>e+(t-e)*n;function Yce(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Gce(e,t){return n=>n>0?t:e}const qce=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Xce=[jle,Dle,Ole];function Zce(e){const t=(e=>Xce.find((t=>t.test(e))))(e);if(Vae(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(t))return!1;let n=t.parse(e);return t===Ole&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let o=0,s=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;o=Yce(i,e,t+1/3),s=Yce(i,e,t),a=Yce(i,e,t-1/3)}else o=s=a=r;return{red:Math.round(255*o),green:Math.round(255*s),blue:Math.round(255*a),alpha:i}}(n)),n}const Kce=(e,t)=>{const n=Zce(e),r=Zce(t);if(!n||!r)return Gce(e,t);const i={...n};return e=>(i.red=qce(n.red,r.red,e),i.green=qce(n.green,r.green,e),i.blue=qce(n.blue,r.blue,e),i.alpha=$ce(n.alpha,r.alpha,e),Dle.transform(i))},Qce=new Set(["none","hidden"]);function Jce(e,t){return n=>$ce(e,t,n)}function eue(e){return"number"===typeof e?Jce:"string"===typeof e?Gae(e)?Gce:Rle.test(e)?Kce:rue:Array.isArray(e)?tue:"object"===typeof e?Rle.test(e)?Kce:nue:Gce}function tue(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>eue(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function nue(e,t){const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=eue(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const rue=(e,t)=>{const n=Yle.createTransformer(t),r=Wle(e),i=Wle(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Qce.has(e)&&!i.values.length||Qce.has(t)&&!r.values.length?function(e,t){return Qce.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Hce(tue(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const s=t.types[o],a=e.indexes[s][i[s]],l=null!==(n=e.values[a])&&void 0!==n?n:0;r[o]=l,i[s]++}return r}(r,i),i.values),n):(Vae(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Gce(e,t))};function iue(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return $ce(e,t,n);return eue(e)(e,t)}function oue(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(Wae(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];if(2===o&&e[0]===e[1])return()=>t[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],i=n||iue,o=e.length-1;for(let s=0;s<o;s++){let n=i(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||Dae:t;n=Hce(e,n)}r.push(n)}return r}(t,r,i),a=s.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=Uce(e[n],e[n+1],t);return s[n](r)};return n?t=>l(Kae(e[0],e[o-1],t)):l}function sue(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Uce(0,t,r);e.push($ce(n,1,i))}}(t,e.length-1),t}function aue(e,t){return e.map((()=>t||Dce)).splice(0,e.length-1)}function lue(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const o=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(Vce):Vce(i),s={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:sue(n),t),l=oue(a,n,{ease:Array.isArray(o)?o:aue(n,o)});return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const cue=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Rae.update(t,!0),stop:()=>Lae(t),now:()=>Nae.isProcessing?Nae.timestamp:ace.now()}},uue={decay:Sce,inertia:Sce,tween:lue,keyframes:lue,spring:kce},due=e=>e/100;class hue extends cce{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:i}=this.options,o=(null===r||void 0===r?void 0:r.KeyframeResolver)||Ile;this.resolver=new o(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=this.options,s=uue[t]||lue;let a,l;s!==lue&&"number"!==typeof e[0]&&(a=Hce(due,iue(e[0],e[1])),e=[0,100]);const c=s({...this.options,keyframes:e});"mirror"===i&&(l=s({...this.options,keyframes:[...e].reverse(),velocity:-o})),null===c.calculatedDuration&&(c.calculatedDuration=function(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}(c));const{calculatedDuration:u}=c,d=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:a,calculatedDuration:u,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:a,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:d,repeat:h,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let b=this.currentTime,y=i;if(h){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(y=o)),b=Kae(0,1,n)*u}const w=v?{done:!1,value:a[0]}:y.next(b);s&&(w.value=s(w.value));let{done:x}=w;v||null===l||(x=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const _=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return _&&void 0!==r&&(w.value=Pae(a,this.options,r)),m&&m(w.value),_&&this.finish(),w}get duration(){const{resolved:e}=this;return e?xae(e.calculatedDuration):0}get time(){return xae(this.currentTime)}set time(e){e=wae(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=xae(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=cue,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const fue=new Set(["opacity","clipPath","filter","transform"]),pue=e=>Array.isArray(e)&&"number"===typeof e[0];function mue(e){return Boolean(!e||"string"===typeof e&&e in vue||pue(e)||Array.isArray(e)&&e.every(mue))}const gue=e=>{let[t,n,r,i]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${i})`},vue={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gue([0,.65,.55,1]),circOut:gue([.55,0,1,.45]),backIn:gue([.31,.01,.66,-.59]),backOut:gue([.33,1.53,.69,.99])};function bue(e){return yue(e)||vue.easeOut}function yue(e){return e?pue(e)?gue(e):Array.isArray(e)?e.map(bue):vue[e]:void 0}const wue=ice((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));class xue extends cce{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new rce(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){var n;let{duration:r=300,times:i,ease:o,type:s,motionValue:a,name:l,startTime:c}=this.options;if(!(null===(n=a.owner)||void 0===n?void 0:n.current))return!1;if(function(e){return"spring"===e.type||!mue(e.ease)}(this.options)){const{onComplete:t,onUpdate:n,motionValue:a,element:l,...c}=this.options,u=function(e,t){const n=new hue({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<2e4;)r=n.sample(o),i.push(r.value),o+=10;return{times:void 0,keyframes:i,duration:o-10,ease:"linear"}}(e,c);1===(e=u.keyframes).length&&(e[1]=e[0]),r=u.duration,i=u.times,o=u.ease,s="keyframes"}const u=function(e,t,n){let{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=yue(a);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"})}(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:o});return u.startTime=null!==c&&void 0!==c?c:this.calcStartTime(),this.pendingTimeline?(u.timeline=this.pendingTimeline,this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:n}=this.options;a.set(Pae(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:s,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return xae(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return xae(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=wae(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Dae;const{animation:n}=t;n.timeline=e,n.onfinish=null}else this.pendingTimeline=e;return Dae}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:i,ease:o,times:s}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:a,element:l,...c}=this.options,u=new hue({...c,keyframes:n,duration:r,type:i,ease:o,times:s,isGenerator:!0}),d=wae(this.time);e.setWithVelocity(u.sample(d-10).value,u.sample(d).value,10)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=e;return wue()&&n&&fue.has(n)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&"mirror"!==i&&0!==o&&"inertia"!==s}}const _ue=ice((()=>void 0!==window.ScrollTimeline));class Cue{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e){const t=this.animations.map((t=>{if(!_ue()||!t.attachTimeline)return t.pause(),function(e,t){let n;const r=()=>{const{currentTime:r}=t,i=(null===r?0:r.value)/100;n!==i&&e(i),n=i};return Rae.update(r,!0),()=>Lae(r)}((e=>{t.time=t.duration*e}),e);t.attachTimeline(e)}));return()=>{t.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const kue=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;return a=>{const l=Aae(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u-=wae(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),s&&s()},onStop:s,name:e,motionValue:t,element:o?void 0:i};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}=e;return!!Object.keys(d).length})(l)||(d={...d,...Sae(e,d)}),d.duration&&(d.duration=wae(d.duration)),d.repeatDelay&&(d.repeatDelay=wae(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let h=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(h=!0)),(Mae||Tae)&&(h=!0,d.duration=0,d.delay=0),h&&!o&&void 0!==t.get()){const e=Pae(d.keyframes,l);if(void 0!==e)return Rae.update((()=>{d.onUpdate(e),d.onComplete()})),new Cue([])}return!o&&xue.supports(d)?new xue(d):new hue(d)}},Sue=e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue),Aue=e=>uae(e)?e[e.length-1]||0:e;function Tue(e,t){-1===e.indexOf(t)&&e.push(t)}function Iue(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Mue{constructor(){this.subscriptions=[]}add(e){return Tue(this.subscriptions,e),()=>Iue(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Eue={current:void 0};class Pue{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.5.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=ace.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ace.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Mue);const n=this.events[e].add(t);return"change"===e?()=>{n(),Rae.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Eue.current&&Eue.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ace.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return uce(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Due(e,t){return new Pue(e,t)}function jue(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Due(n))}const Oue=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Rue="data-"+Oue("framerAppearId");function Lue(e){return e.props[Rue]}function Nue(e){return yae.has(e)?"transform":fue.has(e)?Oue(e):void 0}class Bue extends Pue{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const t=Nue(e);if(!t)return;const n=this.counts.get(t)||0;this.counts.set(t,n+1),0===n&&(this.output.push(t),this.update());let r=!1;return()=>{if(r)return;r=!0;const e=this.counts.get(t)-1;this.counts.set(t,e),0===e&&(Iue(this.output,t),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const Fue=e=>Boolean(e&&e.getVelocity);function zue(e,t){var n;if(!e.applyWillChange)return;let r=e.getValue("willChange");return r||(null===(n=e.props.style)||void 0===n?void 0:n.willChange)||(r=new Bue("auto"),e.addValue("willChange",r)),function(e){return Boolean(Fue(e)&&e.add)}(r)?r.add(t):void 0}function Vue(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function Wue(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o;let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(s=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const t=e.getValue(d,null!==(o=e.latestValues[d])&&void 0!==o?o:null),r=l[d];if(void 0===r||u&&Vue(u,d))continue;const i={delay:n,...Aae(s||{},d)};let a=!1;if(window.MotionHandoffAnimation){const t=Lue(e);if(t){const e=window.MotionHandoffAnimation(t,d,Rae);null!==e&&(i.startTime=e,a=!0)}}t.start(kue(d,t,r,e.shouldReduceMotion&&yae.has(d)?{type:!1}:i,e,a,zue(e,d)));const h=t.animation;h&&c.push(h)}return a&&Promise.all(c).then((()=>{Rae.update((()=>{a&&function(e,t){const n=mae(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o)jue(e,s,Aue(o[s]))}(e,a)}))})),c}function Hue(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=mae(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(Wue(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:s,staggerDirection:a}=o;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const s=[],a=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Uue).forEach(((e,r)=>{e.notify("AnimationStart",t),s.push(Hue(e,t,{...o,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(s)}(e,t,i+r,s,a,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[e,t]="beforeChildren"===l?[s,a]:[a,s];return e().then((()=>t()))}return Promise.all([s(),a(n.delay)])}function Uue(e,t){return e.sortNodePosition(t)}const $ue=[...gae].reverse(),Yue=gae.length;function Gue(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>Hue(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=Hue(e,t,r);else{const i="function"===typeof t?mae(e,t,r.custom):t;n=Promise.all(Wue(e,i,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function que(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!dae(t,e)}function Xue(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zue(){return{animate:Xue(!0),whileInView:Xue(),whileHover:Xue(),whileTap:Xue(),whileDrag:Xue(),whileFocus:Xue(),exit:Xue()}}class Kue{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Que=0;const Jue={animation:{Feature:class extends Kue{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=Gue(e),n=Zue(),r=!0;const i=t=>(n,r)=>{var i;const o=mae(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(o){const{transition:e,transitionEnd:t,...r}=o;n={...n,...r,...t}}return n};function o(o){const s=e.getProps(),a=e.getVariantContext(!0)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<Yue;t++){const h=$ue[t],f=n[h],p=void 0!==s[h]?s[h]:a[h],m=hae(p),g=h===o?f.isActive:null;!1===g&&(d=t);let v=p===a[h]&&p!==s[h]&&m;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys={...u},!f.isActive&&null===g||!p&&!f.prevProp||cae(p)||"boolean"===typeof p)continue;let b=que(f.prevProp,p)||h===o&&f.isActive&&!v&&m||t>d&&m,y=!1;const w=Array.isArray(p)?p:[p];let x=w.reduce(i(h),{});!1===g&&(x={});const{prevResolvedValues:_={}}=f,C={..._,...x},k=t=>{b=!0,c.has(t)&&(y=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in C){const t=x[e],n=_[e];if(u.hasOwnProperty(e))continue;let r=!1;r=uae(t)&&uae(n)?!dae(t,n):t!==n,r?void 0!==t&&null!==t?k(e):c.add(e):void 0!==t&&c.has(e)?k(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=x,f.isActive&&(u={...u,...x}),r&&e.blockInitialAnimation&&(b=!1),!b||v&&!y||l.push(...w.map((e=>({animation:e,options:{type:h}}))))}if(c.size){const t={};c.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:o,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const s=o(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Zue(),r=!0}}}(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();cae(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Kue{constructor(){super(...arguments),this.id=Que++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},ede=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function tde(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const nde=e=>t=>ede(t)&&e(t,tde(t));function rde(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ide(e,t,n,r){return rde(e,t,nde(n),r)}const ode=(e,t)=>Math.abs(e-t);class sde{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=cde(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=ode(e.x,t.x),r=ode(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Nae;this.history.push({...r,timestamp:i});const{onStart:o,onMove:s}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=ade(t,this.transformPagePoint),Rae.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=cde("pointercancel"===e.type?this.lastMoveEventInfo:ade(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},!ede(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const o=ade(tde(e),this.transformPagePoint),{point:s}=o,{timestamp:a}=Nae;this.history=[{...s,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,cde(o,this.history)),this.removeListeners=Hce(ide(this.contextWindow,"pointermove",this.handlePointerMove),ide(this.contextWindow,"pointerup",this.handlePointerUp),ide(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Lae(this.updatePoint)}}function ade(e,t){return t?{point:t(e.point)}:e}function lde(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cde(e,t){let{point:n}=e;return{point:n,delta:lde(n,dde(t)),offset:lde(n,ude(t)),velocity:hde(t,.1)}}function ude(e){return e[0]}function dde(e){return e[e.length-1]}function hde(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=dde(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>wae(t)));)n--;if(!r)return{x:0,y:0};const o=xae(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function fde(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const pde=fde("dragHorizontal"),mde=fde("dragVertical");function gde(e){let t=!1;if("y"===e)t=mde();else if("x"===e)t=pde();else{const e=pde(),n=mde();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function vde(){const e=gde(!0);return!e||(e(),!1)}function bde(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const yde=.9999,wde=1.0001,xde=-.01,_de=.01;function Cde(e){return e.max-e.min}function kde(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=$ce(t.min,t.max,e.origin),e.scale=Cde(n)/Cde(t),e.translate=$ce(n.min,n.max,e.origin)-e.originPoint,(e.scale>=yde&&e.scale<=wde||isNaN(e.scale))&&(e.scale=1),(e.translate>=xde&&e.translate<=_de||isNaN(e.translate))&&(e.translate=0)}function Sde(e,t,n,r){kde(e.x,t.x,n.x,r?r.originX:void 0),kde(e.y,t.y,n.y,r?r.originY:void 0)}function Ade(e,t,n){e.min=n.min+t.min,e.max=e.min+Cde(t)}function Tde(e,t,n){e.min=t.min-n.min,e.max=e.min+Cde(t)}function Ide(e,t,n){Tde(e.x,t.x,n.x),Tde(e.y,t.y,n.y)}function Mde(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Ede(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Pde=.35;function Dde(e,t,n){return{min:jde(e,t),max:jde(e,n)}}function jde(e,t){return"number"===typeof e?e:e[t]||0}const Ode=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),Rde=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Lde(e){return[e("x"),e("y")]}function Nde(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function Bde(e){return void 0===e||1===e}function Fde(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Bde(t)||!Bde(n)||!Bde(r)}function zde(e){return Fde(e)||Vde(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Vde(e){return Wde(e.x)||Wde(e.y)}function Wde(e){return e&&"0%"!==e}function Hde(e,t,n){return n+t*(e-n)}function Ude(e,t,n,r,i){return void 0!==i&&(e=Hde(e,i,r)),Hde(e,n,r)+t}function $de(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Ude(e.min,t,n,r,i),e.max=Ude(e.max,t,n,r,i)}function Yde(e,t){let{x:n,y:r}=t;$de(e.x,n.translate,n.scale,n.originPoint),$de(e.y,r.translate,r.scale,r.originPoint)}const Gde=.999999999999,qde=1.0000000000001;function Xde(e,t){e.min=e.min+t,e.max=e.max+t}function Zde(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;$de(e,t,n,$ce(e.min,e.max,i),r)}function Kde(e,t){Zde(e.x,t.x,t.scaleX,t.scale,t.originX),Zde(e.y,t.y,t.scaleY,t.scale,t.originY)}function Qde(e,t){return Nde(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Jde=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},ehe=new WeakMap;class the{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rde(),this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new sde(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(tde(e,"page").point)},onStart:(e,t)=>{var n;const{drag:r,dragPropagation:i,onDragStart:o}=this.getProps();if(r&&!i&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=gde(r),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lde((e=>{let t=this.getAxisMotionValue(e).get()||0;if(lle.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Cde(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),o&&Rae.postRender((()=>o(e,t))),null===(n=this.removeWillChange)||void 0===n||n.call(this),this.removeWillChange=zue(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Lde((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Jde(this.visualElement)})}stop(e,t){var n;null===(n=this.removeWillChange)||void 0===n||n.call(this);const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Rae.postRender((()=>o(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!nhe(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?$ce(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?$ce(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&bde(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:o}=t;return{x:Mde(e.x,r,o),y:Mde(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pde;return!1===e?e=0:!0===e&&(e=Pde),{x:Dde(e,"left","right"),y:Dde(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Lde((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!bde(e))return!1;const n=e.current;Wae(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Qde(e,n),{scroll:i}=t;return i&&(Xde(r.x,i.offset.x),Xde(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:Ede(e.x,t.x),y:Ede(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=Nde(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=Lde((s=>{if(!nhe(s,t,this.currentDirection))return;let l=a&&a[s]||{};o&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(s,d)}));return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(kue(e,n,0,t,this.visualElement,!1,zue(this.visualElement,e)))}stopAnimation(){Lde((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){Lde((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Lde((t=>{const{drag:n}=this.getProps();if(!nhe(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-$ce(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!bde(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Lde((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Cde(e),i=Cde(t);return i>r?n=Uce(t.min,t.max-r,e.min):r>i&&(n=Uce(e.min,e.max-i,t.min)),Kae(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Lde((t=>{if(!nhe(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set($ce(i,o,r[t]))}))}addListeners(){if(!this.visualElement.current)return;ehe.set(this.visualElement,this);const e=ide(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();bde(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Rae.read(t);const i=rde(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Lde((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=Pde,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function nhe(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const rhe=e=>(t,n)=>{e&&Rae.postRender((()=>e(t,n)))};const ihe=(0,i.createContext)(null);const ohe=(0,i.createContext)({}),she=(0,i.createContext)({}),ahe={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lhe(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const che={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!cle.test(e))return e;e=parseFloat(e)}return`${lhe(e,t.target.x)}% ${lhe(e,t.target.y)}%`}},uhe={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,o=Yle.parse(e);if(o.length>5)return i;const s=Yle.createTransformer(e),a="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;o[0+a]/=l,o[1+a]/=c;const u=$ce(l,c,.5);return"number"===typeof o[2+a]&&(o[2+a]/=u),"number"===typeof o[3+a]&&(o[3+a]/=u),s(o)}},dhe={};const{schedule:hhe,cancel:fhe}=Oae(queueMicrotask,!1);class phe extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var o;o=ghe,Object.assign(dhe,o),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ahe.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Rae.postRender((()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hhe.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mhe(e){const[t,n]=function(){const e=(0,i.useContext)(ihe);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=(0,i.useId)();(0,i.useEffect)((()=>r(o)),[]);const s=(0,i.useCallback)((()=>n&&n(o)),[o,n]);return!t&&n?[!1,s]:[!0]}(),r=(0,i.useContext)(ohe);return(0,je.jsx)(phe,{...e,layoutGroup:r,switchLayoutGroup:(0,i.useContext)(she),isPresent:t,safeToRemove:n})}const ghe={borderRadius:{...che,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:che,borderTopRightRadius:che,borderBottomLeftRadius:che,borderBottomRightRadius:che,boxShadow:uhe},vhe=["TopLeft","TopRight","BottomLeft","BottomRight"],bhe=vhe.length,yhe=e=>"string"===typeof e?parseFloat(e):e,whe=e=>"number"===typeof e||cle.test(e);function xhe(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const _he=khe(0,.5,Lce),Che=khe(.5,.95,Dae);function khe(e,t,n){return r=>r<e?0:r>t?1:n(Uce(e,t,r))}function She(e,t){e.min=t.min,e.max=t.max}function Ahe(e,t){She(e.x,t.x),She(e.y,t.y)}function The(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ihe(e,t,n,r,i){return e=Hde(e-=t,1/n,r),void 0!==i&&(e=Hde(e,1/i,r)),e}function Mhe(e,t,n,r,i){let[o,s,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;lle.test(t)&&(t=parseFloat(t),t=$ce(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let a=$ce(o.min,o.max,r);e===o&&(a-=t),e.min=Ihe(e.min,t,n,a,i),e.max=Ihe(e.max,t,n,a,i)}(e,t[o],t[s],t[a],t.scale,r,i)}const Ehe=["x","scaleX","originX"],Phe=["y","scaleY","originY"];function Dhe(e,t,n,r){Mhe(e.x,t,Ehe,n?n.x:void 0,r?r.x:void 0),Mhe(e.y,t,Phe,n?n.y:void 0,r?r.y:void 0)}function jhe(e){return 0===e.translate&&1===e.scale}function Ohe(e){return jhe(e.x)&&jhe(e.y)}function Rhe(e,t){return e.min===t.min&&e.max===t.max}function Lhe(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Nhe(e,t){return Lhe(e.x,t.x)&&Lhe(e.y,t.y)}function Bhe(e){return Cde(e.x)/Cde(e.y)}function Fhe(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class zhe{constructor(){this.members=[]}add(e){Tue(this.members,e),e.scheduleRender()}remove(e){if(Iue(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Vhe=(e,t)=>e.depth-t.depth;class Whe{constructor(){this.children=[],this.isDirty=!1}add(e){Tue(this.children,e),this.isDirty=!0}remove(e){Iue(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Vhe),this.isDirty=!1,this.children.forEach(e)}}function Hhe(e){const t=Fue(e)?e.get():e;return Sue(t)?t.toValue():t}const Uhe={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},$he="undefined"!==typeof window&&void 0!==window.MotionDebug,Yhe=["","X","Y","Z"],Ghe={visibility:"hidden"};let qhe=0;function Xhe(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Zhe(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Lue(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Rae,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Zhe(r)}function Khe(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=qhe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$he&&(Uhe.totalNodes=Uhe.resolvedTargetDeltas=Uhe.recalculatedProjection=0),this.nodes.forEach(efe),this.nodes.forEach(afe),this.nodes.forEach(lfe),this.nodes.forEach(tfe),$he&&window.MotionDebug.record(Uhe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Whe)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Mue),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:o,visualElement:s}=this.options;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=ace.now(),r=i=>{let{timestamp:o}=i;const s=o-n;s>=t&&(Lae(r),e(s-t))};return Rae.read(r,!0),()=>Lae(r)}(r,250),ahe.hasAnimatedSinceResize&&(ahe.hasAnimatedSinceResize=!1,this.nodes.forEach(sfe))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&s&&(i||o)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||s.getDefaultTransition()||pfe,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=s.getProps(),c=!this.targetLayout||!Nhe(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...Aae(o,"layout"),onPlay:a,onComplete:l};(s.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||sfe(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Lae(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cfe),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Zhe(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(rfe);this.isUpdating||this.nodes.forEach(ife),this.isUpdating=!1,this.nodes.forEach(ofe),this.nodes.forEach(Qhe),this.nodes.forEach(Jhe),this.clearAllSnapshots();const e=ace.now();Nae.delta=Kae(0,1e3/60,e-Nae.timestamp),Nae.timestamp=e,Nae.isProcessing=!0,Bae.update.process(Nae),Bae.preRender.process(Nae),Bae.render.process(Nae),Nae.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hhe.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nfe),this.sharedNodes.forEach(ufe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rae.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rde(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Ohe(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||zde(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),vfe((r=n).x),vfe(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return Rde();const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(yfe))){const{scroll:e}=this.root;e&&(Xde(n.x,e.offset.x),Xde(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n=Rde();if(Ahe(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:o}=t;t!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&Ahe(n,e),Xde(n.x,i.offset.x),Xde(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Rde();Ahe(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Kde(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),zde(e.latestValues)&&Kde(n,e.latestValues)}return zde(this.latestValues)&&Kde(n,this.latestValues),n}removeTransform(e){const t=Rde();Ahe(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!zde(e.latestValues))continue;Fde(e.latestValues)&&e.updateSnapshot();const r=Rde();Ahe(r,e.measurePageBox()),Dhe(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return zde(this.latestValues)&&Dhe(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nae.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=Nae.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rde(),this.relativeTargetOrigin=Rde(),Ide(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Ahe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,a,l;if(this.target||(this.target=Rde(),this.targetWithTransforms=Rde()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,a=this.relativeTarget,l=this.relativeParent.target,Ade(s.x,a.x,l.x),Ade(s.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Ahe(this.target,this.layout.layoutBox),Yde(this.target,this.targetDelta)):Ahe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rde(),this.relativeTargetOrigin=Rde(),Ide(this.relativeTargetOrigin,this.target,e.target),Ahe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$he&&Uhe.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Fde(this.parent.latestValues)&&!Vde(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Nae.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;Ahe(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,s;t.x=t.y=1;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:i}=o.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Kde(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Yde(e,s)),r&&zde(o.latestValues)&&Kde(e,o.latestValues))}t.x<qde&&t.x>Gde&&(t.x=1),t.y<qde&&t.y>Gde&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms=Rde());const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(The(this.prevProjectionDelta.x,this.projectionDelta.x),The(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Sde(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&Fhe(this.projectionDelta.x,this.prevProjectionDelta.x)&&Fhe(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),$he&&Uhe.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ode(),this.projectionDelta=Ode(),this.projectionDeltaWithTransform=Ode()}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},o=Ode();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s=Rde(),a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(ffe));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;dfe(o.x,e.x,n),dfe(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ide(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){hfe(e.x,t.x,n.x,r),hfe(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,s,n),d&&function(e,t){return Rhe(e.x,t.x)&&Rhe(e.y,t.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d=Rde()),Ahe(d,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,o){i?(e.opacity=$ce(0,void 0!==n.opacity?n.opacity:1,_he(r)),e.opacityExit=$ce(void 0!==t.opacity?t.opacity:1,0,Che(r))):o&&(e.opacity=$ce(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let s=0;s<bhe;s++){const i=`border${vhe[s]}Radius`;let o=xhe(t,i),a=xhe(n,i);void 0===o&&void 0===a||(o||(o=0),a||(a=0),0===o||0===a||whe(o)===whe(a)?(e[i]=Math.max($ce(yhe(o),yhe(a),r),0),(lle.test(a)||lle.test(o))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=$ce(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Lae(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rae.update((()=>{ahe.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Fue(e)?e:Due(e);return r.start(kue("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&bfe(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||Rde();const t=Cde(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Cde(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Ahe(t,n),Kde(t,i),Sde(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new zhe);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Xhe("z",e,r,this.animationValues);for(let i=0;i<Yhe.length;i++)Xhe(`rotate${Yhe[i]}`,e,r,this.animationValues),Xhe(`skew${Yhe[i]}`,e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ghe;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Hhe(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Hhe(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!zde(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(null===n||void 0===n?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:o,skewX:s,skewY:a}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),o&&(r+=`rotateY(${o}deg) `),s&&(r+=`skewX(${s}deg) `),a&&(r+=`skewY(${a}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+=`scale(${a}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,o.animationValues?r.opacity=o===this?null!==(n=null!==(t=s.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const c in dhe){if(void 0===s[c])continue;const{correct:e,applyTo:t}=dhe[c],n="none"===r.transform?s[c]:e(s[c],o);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=o===this?Hhe(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(rfe),this.root.sharedNodes.clear()}}}function Qhe(e){e.updateLayout()}function Jhe(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?Lde((e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=Cde(r);r.min=t[e].min,r.max=r.min+i})):bfe(i,n.layoutBox,t)&&Lde((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],s=Cde(t[r]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)}));const s=Ode();Sde(s,t,n.layoutBox);const a=Ode();o?Sde(a,e.applyTransform(r,!0),n.measuredBox):Sde(a,t,n.layoutBox);const l=!Ohe(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const s=Rde();Ide(s,n.layoutBox,i.layoutBox);const a=Rde();Ide(a,t,o.layoutBox),Nhe(s,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function efe(e){$he&&Uhe.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tfe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nfe(e){e.clearSnapshot()}function rfe(e){e.clearMeasurements()}function ife(e){e.isLayoutDirty=!1}function ofe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function sfe(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function afe(e){e.resolveTargetDelta()}function lfe(e){e.calcProjection()}function cfe(e){e.resetSkewAndRotation()}function ufe(e){e.removeLeadSnapshot()}function dfe(e,t,n){e.translate=$ce(t.translate,0,n),e.scale=$ce(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function hfe(e,t,n,r){e.min=$ce(t.min,n.min,r),e.max=$ce(t.max,n.max,r)}function ffe(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const pfe={duration:.45,ease:[.4,0,.1,1]},mfe=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),gfe=mfe("applewebkit/")&&!mfe("chrome/")?Math.round:Dae;function vfe(e){e.min=gfe(e.min),e.max=gfe(e.max)}function bfe(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t,n){return Math.abs(e-t)<=n}(Bhe(t),Bhe(n),.2)}function yfe(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const wfe=Khe({attachResizeListener:(e,t)=>rde(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xfe={current:void 0},_fe=Khe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xfe.current){const e=new wfe({});e.mount(window),e.setOptions({layoutScroll:!0}),xfe.current=e}return xfe.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Cfe={pan:{Feature:class extends Kue{constructor(){super(...arguments),this.removePointerDownListener=Dae}onPointerDown(e){this.session=new sde(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Jde(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:rhe(e),onStart:rhe(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Rae.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=ide(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Kue{constructor(e){super(e),this.removeGroupControls=Dae,this.removeListeners=Dae,this.controls=new the(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dae}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:_fe,MeasureLayout:mhe}};function kfe(e,t){const n=t?"pointerenter":"pointerleave",r=t?"onHoverStart":"onHoverEnd";return ide(e.current,n,((n,i)=>{if("touch"===n.pointerType||vde())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t);const s=o[r];s&&Rae.postRender((()=>s(n,i)))}),{passive:!e.getProps()[r]})}const Sfe=(e,t)=>!!t&&(e===t||Sfe(e,t.parentElement));function Afe(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,tde(n))}const Tfe=new WeakMap,Ife=new WeakMap,Mfe=e=>{const t=Tfe.get(e.target);t&&t(e)},Efe=e=>{e.forEach(Mfe)};function Pfe(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;Ife.has(r)||Ife.set(r,{});const i=Ife.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(Efe,{root:t,...n})),i[o]}(t);return Tfe.set(e,n),r.observe(e),()=>{Tfe.delete(e),r.unobserve(e)}}const Dfe={some:0,all:1};const jfe={inView:{Feature:class extends Kue{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Dfe[r]};return Pfe(this.node.current,o,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Kue{constructor(){super(...arguments),this.removeStartListeners=Dae,this.removeEndListeners=Dae,this.removeAccessibleListeners=Dae,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=ide(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps(),o=i||Sfe(this.node.current,e.target)?n:r;o&&Rae.update((()=>o(e,t)))}),{passive:!(n.onTap||n.onPointerUp)}),i=ide(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Hce(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=rde(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=rde(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&Afe("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&Rae.postRender((()=>n(e,t)))}))})),Afe("down",((e,t)=>{this.startPress(e,t)}))})),t=rde(this.node.current,"blur",(()=>{this.isPressing&&Afe("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=Hce(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Rae.postRender((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!vde()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Rae.postRender((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=ide(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=rde(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Hce(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Kue{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(_ke){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hce(rde(this.node.current,"focus",(()=>this.onFocus())),rde(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Kue{mount(){this.unmount=Hce(kfe(this.node,!0),kfe(this.node,!1))}unmount(){}}}},Ofe={layout:{ProjectionNode:_fe,MeasureLayout:mhe}},Rfe=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Lfe=(0,i.createContext)({}),Nfe="undefined"!==typeof window,Bfe=Nfe?i.useLayoutEffect:i.useEffect,Ffe=(0,i.createContext)({strict:!1});let zfe=!1;function Vfe(e,t,n,r,o){var s;const{visualElement:a}=(0,i.useContext)(Lfe),l=(0,i.useContext)(Ffe),c=(0,i.useContext)(ihe),u=(0,i.useContext)(Rfe).reducedMotion,d=(0,i.useRef)();r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:u}));const h=d.current,f=(0,i.useContext)(she);!h||h.projection||!o||"html"!==h.type&&"svg"!==h.type||function(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Hfe(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:Boolean(s)||a&&bde(a),visualElement:e,animationType:"string"===typeof o?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(d.current,n,o,f),(0,i.useInsertionEffect)((()=>{h&&h.update(n,c)}));const p=n[Rue],m=(0,i.useRef)(Boolean(p)&&!window.MotionHandoffIsComplete&&(null===(s=window.MotionHasOptimisedAnimation)||void 0===s?void 0:s.call(window,p)));return Bfe((()=>{h&&(h.updateFeatures(),hhe.render(h.render),m.current&&h.animationState&&h.animationState.animateChanges())})),(0,i.useEffect)((()=>{h&&(!m.current&&h.animationState&&h.animationState.animateChanges(),m.current=!1,zfe||(zfe=!0,queueMicrotask(Wfe)))})),h}function Wfe(){window.MotionHandoffIsComplete=!0}function Hfe(e){if(e)return!1!==e.options.allowProjection?e.projection:Hfe(e.parent)}function Ufe(e,t,n){return(0,i.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):bde(n)&&(n.current=r))}),[t])}function $fe(e){return cae(e.animate)||vae.some((t=>hae(e[t])))}function Yfe(e){return Boolean($fe(e)||e.variants)}function Gfe(e){const{initial:t,animate:n}=function(e,t){if($fe(e)){const{initial:t,animate:n}=e;return{initial:!1===t||hae(t)?t:void 0,animate:hae(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(Lfe));return(0,i.useMemo)((()=>({initial:t,animate:n})),[qfe(t),qfe(n)])}function qfe(e){return Array.isArray(e)?e.join(" "):e}const Xfe={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zfe={};for(const n in Xfe)Zfe[n]={isEnabled:e=>Xfe[n].some((t=>!!e[t]))};const Kfe=Symbol.for("motionComponentSymbol");function Qfe(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:o,Component:s}=e;t&&function(e){for(const t in e)Zfe[t]={...Zfe[t],...e[t]}}(t);const a=(0,i.forwardRef)((function(e,t){let a;const l={...(0,i.useContext)(Rfe),...e,layoutId:Jfe(e)},{isStatic:c}=l,u=Gfe(e),d=o(e,c);if(!c&&Nfe){!function(){(0,i.useContext)(Ffe).strict;0}();const e=function(e){const{drag:t,layout:n}=Zfe;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);a=e.MeasureLayout,u.visualElement=Vfe(s,d,l,n,e.ProjectionNode)}return(0,je.jsxs)(Lfe.Provider,{value:u,children:[a&&u.visualElement?(0,je.jsx)(a,{visualElement:u.visualElement,...l}):null,r(s,e,Ufe(d,u.visualElement,t),d,c,u.visualElement)]})}));return a[Kfe]=s,a}function Jfe(e){let{layoutId:t}=e;const n=(0,i.useContext)(ohe).id;return n&&void 0!==t?n+"-"+t:t}const epe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tpe(e){return"string"===typeof e&&!e.includes("-")&&!!(epe.indexOf(e)>-1||/[A-Z]/u.test(e))}function npe(e,t,n,r){let{style:i,vars:o}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const s in o)e.style.setProperty(s,o[s])}const rpe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ipe(e,t,n,r){npe(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(rpe.has(i)?i:Oue(i),t.attrs[i])}function ope(e,t){let{layout:n,layoutId:r}=t;return yae.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!dhe[e]||"opacity"===e)}function spe(e,t,n){var r;const{style:i}=e,o={};for(const s in i)(Fue(i[s])||t.style&&Fue(t.style[s])||ope(s,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(s))||void 0===r?void 0:r.liveStyle))&&(o[s]=i[s]);return n&&i&&"string"===typeof i.willChange&&(n.applyWillChange=!1),o}function ape(e,t,n){const r=spe(e,t,n);for(const i in e)if(Fue(e[i])||Fue(t[i])){r[-1!==bae.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}function lpe(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}const cpe=e=>(t,n)=>{const r=(0,i.useContext)(Lfe),o=(0,i.useContext)(ihe),s=()=>function(e,t,n,r,i){let{applyWillChange:o=!1,scrapeMotionValuesFromProps:s,createRenderState:a,onMount:l}=e;const c={latestValues:hpe(t,n,r,!i&&o,s),renderState:a()};return l&&(c.mount=e=>l(t,e,c)),c}(e,t,r,o,n);return n?s():lpe(s)};function upe(e,t){const n=Nue(t);n&&Tue(e,n)}function dpe(e,t,n){const r=Array.isArray(t)?t:[t];for(let i=0;i<r.length;i++){const t=pae(e,r[i]);if(t){const{transitionEnd:e,transition:r,...i}=t;n(i,e)}}}function hpe(e,t,n,r,i){var o;const s={},a=[],l=r&&void 0===(null===(o=e.style)||void 0===o?void 0:o.willChange),c=i(e,{});for(const g in c)s[g]=Hhe(c[g]);let{initial:u,animate:d}=e;const h=$fe(e),f=Yfe(e);t&&f&&!h&&!1!==e.inherit&&(void 0===u&&(u=t.initial),void 0===d&&(d=t.animate));let p=!!n&&!1===n.initial;p=p||!1===u;const m=p?d:u;return m&&"boolean"!==typeof m&&!cae(m)&&dpe(e,m,((e,t)=>{for(const n in e){let t=e[n];if(Array.isArray(t)){t=t[p?t.length-1:0]}null!==t&&(s[n]=t)}for(const n in t)s[n]=t[n]})),l&&(d&&!1!==u&&!cae(d)&&dpe(e,d,(e=>{for(const t in e)upe(a,t)})),a.length&&(s.willChange=a.join(","))),s}const fpe=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ppe=()=>({...fpe(),attrs:{}}),mpe=(e,t)=>t&&"number"===typeof e?t.transform(e):e,gpe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vpe=bae.length;function bpe(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const e=t[l];if(yae.has(l))s=!0;else if($ae(l))i[l]=e;else{const t=mpe(e,Qle[l]);l.startsWith("origin")?(a=!0,o[l]=t):r[l]=t}}if(t.transform||(s||n?r.transform=function(e,t,n){let r="",i=!0;for(let o=0;o<vpe;o++){const s=bae[o],a=e[s];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(s.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=mpe(a,Qle[s]);l||(i=!1,r+=`${gpe[s]||s}(${e}) `),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;r.transformOrigin=`${e} ${t} ${n}`}}function ype(e,t,n){return"string"===typeof e?e:cle.transform(t+n*e)}const wpe={offset:"stroke-dashoffset",array:"stroke-dasharray"},xpe={offset:"strokeDashoffset",array:"strokeDasharray"};function _pe(e,t,n,r){let{attrX:i,attrY:o,attrScale:s,originX:a,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0,...h}=t;if(bpe(e,h,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==a||void 0!==l||p.transform)&&(p.transformOrigin=function(e,t,n){return`${ype(t,e.x,e.width)} ${ype(n,e.y,e.height)}`}(m,void 0!==a?a:.5,void 0!==l?l:.5)),void 0!==i&&(f.x=i),void 0!==o&&(f.y=o),void 0!==s&&(f.scale=s),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=i?wpe:xpe;e[o.offset]=cle.transform(-r);const s=cle.transform(t),a=cle.transform(n);e[o.array]=`${s} ${a}`}(f,c,u,d,!1)}const Cpe=e=>"string"===typeof e&&"svg"===e.toLowerCase(),kpe={useVisualState:cpe({scrapeMotionValuesFromProps:ape,createRenderState:ppe,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;Rae.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(_ke){r.dimensions={x:0,y:0,width:0,height:0}}})),Rae.render((()=>{_pe(r,i,Cpe(t.tagName),e.transformTemplate),ipe(t,r)}))}})},Spe={useVisualState:cpe({applyWillChange:!0,scrapeMotionValuesFromProps:spe,createRenderState:fpe})};function Ape(e,t,n){for(const r in t)Fue(t[r])||ope(r,n)||(e[r]=t[r])}function Tpe(e,t){const n={};return Ape(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,i.useMemo)((()=>{const e=fpe();return bpe(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function Ipe(e,t){const n={},r=Tpe(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Mpe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Epe(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Mpe.has(e)}let Ppe=e=>!Epe(e);try{(Dpe=require("@emotion/is-prop-valid").default)&&(Ppe=e=>e.startsWith("on")?!Epe(e):Dpe(e))}catch(Cke){}var Dpe;function jpe(e,t,n,r){const o=(0,i.useMemo)((()=>{const n=ppe();return _pe(n,t,Cpe(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};Ape(t,e.style,e),o.style={...t,...o.style}}return o}function Ope(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,o,s)=>{let{latestValues:a}=o;const l=(tpe(t)?jpe:Ipe)(n,a,s,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Ppe(i)||!0===n&&Epe(i)||!t&&!Epe(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u=t!==i.Fragment?{...c,...l,ref:r}:{},{children:d}=n,h=(0,i.useMemo)((()=>Fue(d)?d.get():d),[d]);return(0,i.createElement)(t,{...u,children:h})}}function Rpe(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return Qfe({...tpe(n)?kpe:Spe,preloadedFeatures:e,useRender:Ope(r),createVisualElement:t,Component:n})}}const Lpe={current:null},Npe={current:!1};const Bpe=new WeakMap,Fpe=[...xle,Rle,Yle],zpe=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Vpe=vae.length;class Wpe{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ile,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,Rae.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=$fe(n),this.isVariantNode=Yfe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const e=d[h];void 0!==l[h]&&Fue(e)&&e.set(l[h],!1)}}mount(e){this.current=e,Bpe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Npe.current||function(){if(Npe.current=!0,Nfe)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Lpe.current=e.matches;e.addListener(t),t()}else Lpe.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Lpe.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Bpe.delete(this.current),this.projection&&this.projection.unmount(),Lae(this.notifyUpdate),Lae(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=yae.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Rae.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),i(),o&&o(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Zfe){const t=Zfe[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rde()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<zpe.length;n++){const t=zpe[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],o=n[r];if(Fue(i))e.addValue(r,i);else if(Fue(o))e.addValue(r,Due(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,Due(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<Vpe;t++){const n=vae[t],r=this.props[n];(hae(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Due(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(Hae(r)||Fae(r))?r=parseFloat(r):!(e=>Fpe.find(wle(e)))(r)&&Yle.test(t)&&(r=tce(e,t)),this.setBaseTarget(e,Fue(r)?r.get():r)),Fue(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=pae(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Fue(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Mue),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class Hpe extends Wpe{constructor(){super(...arguments),this.KeyframeResolver=rce}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}}class Upe extends Hpe{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=npe}readValueFromInstance(e,t){if(yae.has(t)){const e=ece(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=($ae(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Qde(e,n)}build(e,t,n){bpe(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return spe(e,t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fue(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class $pe extends Hpe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rde}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(yae.has(t)){const e=ece(t);return e&&e.default||0}return t=rpe.has(t)?t:Oue(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return ape(e,t,n)}build(e,t,n){_pe(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){ipe(e,t,0,r)}mount(e){this.isSVGTag=Cpe(e.tagName),super.mount(e)}}const Ype=(e,t)=>tpe(e)?new $pe(t):new Upe(t,{allowProjection:e!==i.Fragment}),Gpe=lae(Rpe({...Jue,...jfe,...Cfe,...Ofe},Ype)),qpe=e=>{let{open:t,handleClose:n,handleConfirm:r,title:i,description:o,confirmText:s="\ud655\uc778",cancelText:a="\ucde8\uc18c"}=e;return(0,je.jsx)(Go,{open:t,onClose:n,"aria-labelledby":"alert-modal-title","aria-describedby":"alert-modal-description",closeAfterTransition:!0,BackdropProps:{timeout:500},children:(0,je.jsxs)(II,{component:Gpe.div,initial:{x:"100vw",y:100},animate:{x:["100vw","60vw","20vw","0vw","-50%"],y:[1e3,-1e3,500,-500,300,-100,0]},transition:{duration:1.3,ease:"easeOut",bounce:.5,stiffness:500,damping:50},sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"300px",bgcolor:"background.paper",boxShadow:24,p:4,textAlign:"center"},children:[(0,je.jsx)(Ks,{id:"alert-modal-title",variant:"h6",component:"h2",children:i}),(0,je.jsx)(Ks,{id:"alert-modal-description",sx:{mt:2},children:o}),(0,je.jsxs)(II,{sx:{mt:3,display:"flex",justifyContent:"space-between"},children:[(0,je.jsx)(la,{variant:"contained",sx:{color:"white",backgroundColor:"#6E3C21","&:hover":{backgroundColor:"#A67153"}},onClick:r,children:s}),a&&(0,je.jsx)(la,{variant:"contained",sx:{color:"white",backgroundColor:"#DBC7B5","&:hover":{backgroundColor:"#A67153"}},onClick:n,children:a})]})]})})},Xpe=()=>{const e=Q(),t=new URLSearchParams(e.search).get("clubNumber"),[n,r]=(0,i.useState)(!1),[o,s]=(0,i.useState)(0),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[m,g]=(0,i.useState)(""),[v,b]=(0,i.useState)(""),[y,w]=(0,i.useState)(""),[x,_]=(0,i.useState)(!1),[C,k]=(0,i.useState)(!1),[S,A]=(0,i.useState)([]),[T,I]=(0,i.useState)(!1),[M,E]=(0,i.useState)(!1),[P,D]=(0,i.useState)(null),[j,O]=(0,i.useState)(!1),[R,L]=(0,i.useState)(!1),[N,B]=(0,i.useState)(""),[F,z]=(0,i.useState)("success"),V=zf(),W=sl((e=>{var t,n,r;return null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.email})),H=()=>{L(!1)},{data:U=[],error:$,isLoading:Y,isFetching:G}=Jf({queryKey:["images",t],queryFn:()=>(async e=>{const{data:t}=await ch.get(`http://localhost:4000/clubs/gallery/${e}/images`);return t})(t),enabled:!!t}),q=U.slice().reverse(),X=D9({mutationFn:e=>((e,t)=>gh.post(`http://localhost:4000/clubs/gallery/${e}/images`,t))(t,e),onSuccess:()=>{V.invalidateQueries(["images",t]),_(!1),B("\uc774\ubbf8\uc9c0\uac00 \uc131\uacf5\uc801\uc73c\ub85c \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),z("success"),L(!0)},onError:e=>{var t,n;_(!1),B((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"\ub4f1\ub85d \uc911 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),z("error"),L(!0)}}),Z=D9({mutationFn:e=>(async(e,t)=>{let{imageIds:n,writer:r}=t;await gh.delete(`http://localhost:4000/clubs/gallery/${e}/images`,{data:{imageIds:n,writer:r}})})(t,{imageIds:e,writer:W}),onSuccess:()=>{V.invalidateQueries(["images",t]),A([]),k(!1),B("\uc131\uacf5\uc801\uc73c\ub85c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),z("success"),L(!0)},onError:e=>{var t,n;B((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"\uc0ad\uc81c \uc911 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),z("error"),L(!0)}}),K=D9({mutationFn:()=>(async(e,t)=>{let{writer:n}=t;await gh.delete(`http://localhost:4000/clubs/gallery/${e}/images/all`,{data:{writer:n}})})(t,{writer:W}),onSuccess:()=>{V.invalidateQueries(["images",t]),k(!1),I(!1),B("\ubaa8\ub4e0 \uc774\ubbf8\uc9c0\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),z("success"),L(!0)},onError:e=>{var t,n;B((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"\uc804\uccb4 \uc0ad\uc81c \uc911 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),z("error"),L(!0)}}),J=D9({mutationFn:e=>(async(e,t)=>{let{id:n,formData:r}=t;await gh.put(`http://localhost:4000/clubs/gallery/${e}/images/${n}`,r)})(t,{id:P._id,formData:e}),onSuccess:()=>{V.invalidateQueries(["images",t]),E(!1),B("\uc774\ubbf8\uc9c0\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),z("success"),L(!0)},onError:e=>{var t,n;B((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"\uc218\uc815 \uc911 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),z("error"),L(!0)}}),ee=async(e,n)=>{try{const i=(await ch.get(`http://localhost:4000/clubs/gallery/${t}/images/${e}`)).data;s(n),l(i._id),u(i.originImages),h(i.writer),p(i.title),g(i.content),b(i.createdAt),w(i.updatedAt),r(!0)}catch($){console.error("Failed to fetch gallery details",$)}},te=()=>{O(!1)};return Y?(0,je.jsx)("div",{children:"Loading..."}):(0,je.jsxs)("div",{style:{minWidth:"400px",overflowX:"hidden",position:"relative"},children:[$&&(0,je.jsxs)("div",{children:["\ub370\uc774\ud130 \ub85c\ub4dc \uc5d0\ub7ec: ",$.message]})," ",0===q.length?(0,je.jsx)(We,{sx:{width:"100%",textAlign:"center",padding:"50px 0"},children:(0,je.jsx)("img",{src:"/NoImagesAvailable.webp",alt:"No images available",style:{maxWidth:"600px",margin:"0 auto"}})}):(0,je.jsx)(vee,{sx:{width:"100%",maxWidth:"1400px",backgroundColor:"#F0F0F0",paddingTop:5,paddingLeft:10,paddingRight:10,paddingBottom:20,margin:"0 auto",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px",boxSizing:"border-box"},cols:3,children:q.map(((e,t)=>(0,je.jsxs)(Cee,{sx:{margin:0,padding:0,position:"relative",overflow:"hidden",height:0,paddingBottom:"100%"},onClick:n=>{"checkbox"!==n.target.type&&ee(e._id,t)},children:[(0,je.jsx)(kee,{image:e.thumbnailImage}),C&&(0,je.jsx)(Gv,{checked:S.includes(e._id),onChange:()=>(e=>{A((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))})(e._id),sx:{position:"absolute",top:8,right:8,zIndex:1e3,backgroundColor:"rgba(255, 255, 255, 0.7)",borderRadius:"50%"}})]},e._id)))}),(0,je.jsx)(Eee,{open:n,handleClose:()=>{r(!1),u([]),l(""),h(""),p(""),g(""),b(""),w("")},postId:a,images:c,writer:d,title:f,content:m,createdAt:v,updatedAt:y,handlePrev:()=>{o>0&&ee(q[o-1]._id,o-1)},handleNext:()=>{o<q.length-1&&ee(q[o+1]._id,o+1)}}),(0,je.jsx)(la,{sx:{position:"fixed",top:200,right:16,zIndex:1e3,backgroundColor:"white.main",color:"primary.main","&:hover":{backgroundColor:"white.main"}},onClick:()=>{_(!0)},children:(0,je.jsx)(Pee.A,{sx:{color:"#DBC7B5","&:hover":{color:"#A67153"}}})}),(0,je.jsx)(la,{sx:{position:"fixed",top:240,right:16,zIndex:1e3,backgroundColor:"white.main",color:"primary.main","&:hover":{backgroundColor:"white.main"}},onClick:()=>{k(!C),C||A([])},children:(0,je.jsx)(Dee.A,{sx:{color:"#DBC7B5","&:hover":{color:"#A67153"}}})}),C&&(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(la,{sx:{position:"fixed",top:270,right:16,zIndex:1e3,backgroundColor:"white.main",color:"#DBC7B5","&:hover":{color:"#A67153"}},onClick:()=>{Z.mutate(S)},children:"\uc120\ud0dd\uc0ad\uc81c"}),(0,je.jsx)(la,{sx:{position:"fixed",top:300,right:16,zIndex:1e3,backgroundColor:"white.main",color:"#DBC7B5","&:hover":{color:"#A67153"}},onClick:()=>{I(!0)},children:"\uc804\uccb4\uc0ad\uc81c"}),(0,je.jsx)(la,{sx:{position:"fixed",top:330,right:16,zIndex:1e3,backgroundColor:"white.main",color:"#DBC7B5","&:hover":{color:"#A67153"}},onClick:()=>{if(1!==S.length)return void O(!0);const e=q.find((e=>e._id===S[0]));D(e),E(!0)},children:"\uc218\uc815"})]}),(0,je.jsx)(Go,{open:x,onClose:()=>{_(!1)},"aria-labelledby":"register-modal-title","aria-describedby":"register-modal-description",children:(0,je.jsx)(We,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",bgcolor:"background.paper",boxShadow:24,p:4},children:(0,je.jsx)(aae,{onRegisterComplete:e=>{X.mutate(e)}})})}),(0,je.jsx)(qpe,{open:T,handleClose:()=>{I(!1)},handleConfirm:()=>{K.mutate()},title:"\uc804\uccb4 \uc0ad\uc81c",description:"\uc815\ub9d0\ub85c \ubaa8\ub4e0 \uc774\ubbf8\uc9c0\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",confirmText:"\uc0ad\uc81c",cancelText:"\ucde8\uc18c"}),(0,je.jsx)(qpe,{open:j,handleClose:te,handleConfirm:te,title:"\uc774\ubbf8\uc9c0 \uc120\ud0dd \uc624\ub958",description:"\uc218\uc815 \ud558\uc2e4 \ub54c\ub294 \ud558\ub098\uc758 \uc774\ubbf8\uc9c0\ub9cc \uc120\ud0dd\ud574\uc8fc\uc138\uc694.",confirmText:"\ud655\uc778",cancelText:""}),(0,je.jsx)(Go,{open:M,onClose:()=>{E(!1),D(null)},"aria-labelledby":"edit-modal-title","aria-describedby":"edit-modal-description",children:(0,je.jsx)(We,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",bgcolor:"background.paper",boxShadow:24,p:4},children:P&&(0,je.jsx)(aae,{onRegisterComplete:e=>{J.mutate(e)},initialData:{title:P.title,content:P.content,images:P.allImages}})})}),(0,je.jsx)(Po,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:Y||G,children:(0,je.jsx)(K9,{color:"inherit"})}),(0,je.jsx)(Vp,{open:R,autoHideDuration:6e3,onClose:H,children:(0,je.jsx)(qI,{onClose:H,severity:F,sx:{width:"100%"},children:N})})]})};const Zpe=function(){return(0,je.jsx)(we,{children:(0,je.jsx)(be,{path:"/",element:(0,je.jsx)(Xpe,{})})})};const Kpe=function(){return(0,je.jsx)("div",{children:"MeetingCreate"})};const Qpe=function(){return(0,je.jsx)("div",{children:"MeetingUpdate"})};const Jpe=function(){return(0,je.jsxs)(we,{children:[(0,je.jsx)(be,{path:"create",element:(0,je.jsx)(Kpe,{})}),(0,je.jsx)(be,{path:"update/:id",element:(0,je.jsx)(Qpe,{})})]})},eme=Nc("chat/enterChatRoom",(async(e,t)=>{let{clubId:n,participants:r}=e;try{return(await gh.post("/clubs/chatrooms/room",{clubId:n,participants:r})).data}catch(o){var i;return console.error("Error entering chat room:",o),t.rejectWithValue((null===(i=o.response)||void 0===i?void 0:i.data)||o.message)}})),tme=Nc("chat/fetchClubDetailByClubId",(async(e,t)=>{try{console.log("\uc5ec\uae30\ub85c \uc624\ub294\uc9c0 \ud655\uc778\ud574\ubcf8\ub2e4 \uc9c4\uc9dc"),console.log("\ub09c\ud074\ub7fd\uc544\uc774\ub514 \u314e\u314e\u314e"+e),console.log("\ub09c\ud074\ub7fd\uc544\uc774\ub514 \uc804\uc804\uc804\u314e\u314e\u314e"+e);const t=await gh.get(`/clubs/chatrooms/room/${e}`);return console.log("\ub09c\ud074\ub7fd\uc544\uc774\ub514 \ud6c4\ud6c4\ud6c4 \u314e\u314e\u314e"+e),console.log("\ub09c\ud074\ub7fd\uc544\uc774\ub514 \u314e\u314e\u314e"+e),console.log("\uc5ec\uae30\ub85c \uc624\ub294\uc9c0 \ud655\uc778\ud574\ubcf8\ub2e4 \uc9c4\uc9dc"),t.data}catch(n){return console.error("Error fetching club detail by club ID:",n),t.rejectWithValue(n.response.data||n.message)}})),nme=Nc("chat/fetchInitialMessages",(async(e,t)=>{try{return(await gh.get(`/clubs/chatrooms/${e}/messages?limit=30`)).data}catch(n){return console.error("Error fetching initial messages:",n),t.rejectWithValue(n.response.data||n.message)}})),rme=Nc("chat/fetchOlderMessages",(async(e,t)=>{let{clubId:n,skip:r}=e;console.log("\uc624\ud0a4 \ud574\ubcf4\uc790");try{return(await gh.get(`/clubs/chatrooms/${n}/messages?skip=${r}&limit=30`)).data}catch(i){return console.error("Error fetching older messages:",i),t.rejectWithValue(i.response.data||i.message)}})),ime=Object.create(null);ime.open="0",ime.close="1",ime.ping="2",ime.pong="3",ime.message="4",ime.upgrade="5",ime.noop="6";const ome=Object.create(null);Object.keys(ime).forEach((e=>{ome[ime[e]]=e}));const sme={type:"error",data:"parser error"},ame="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),lme="function"===typeof ArrayBuffer,cme=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ume=(e,t,n)=>{let{type:r,data:i}=e;return ame&&i instanceof Blob?t?n(i):dme(i,n):lme&&(i instanceof ArrayBuffer||cme(i))?t?n(i):dme(new Blob([i]),n):n(ime[r]+(i||""))},dme=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function hme(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let fme;const pme="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mme="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)mme[pme.charCodeAt(n)]=n;const gme="function"===typeof ArrayBuffer,vme=(e,t)=>{if("string"!==typeof e)return{type:"message",data:yme(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:bme(e.substring(1),t)};return ome[n]?e.length>1?{type:ome[n],data:e.substring(1)}:{type:ome[n]}:sme},bme=(e,t)=>{if(gme){const n=(e=>{let t,n,r,i,o,s=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const c=new ArrayBuffer(s),u=new Uint8Array(c);for(t=0;t<a;t+=4)n=mme[e.charCodeAt(t)],r=mme[e.charCodeAt(t+1)],i=mme[e.charCodeAt(t+2)],o=mme[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return c})(e);return yme(n,t)}return{base64:!0,data:e}},yme=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,wme=String.fromCharCode(30);function xme(){return new TransformStream({transform(e,t){!function(e,t){ame&&e.data instanceof Blob?e.data.arrayBuffer().then(hme).then(t):lme&&(e.data instanceof ArrayBuffer||cme(e.data))?t(hme(e.data)):ume(e,!1,(e=>{fme||(fme=new TextEncoder),t(fme.encode(e))}))}(e,(n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)}))}})}let _me;function Cme(e){return e.reduce(((e,t)=>e+t.length),0)}function kme(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Sme(e){if(e)return function(e){for(var t in Sme.prototype)e[t]=Sme.prototype[t];return e}(e)}Sme.prototype.on=Sme.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Sme.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Sme.prototype.off=Sme.prototype.removeListener=Sme.prototype.removeAllListeners=Sme.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Sme.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},Sme.prototype.emitReserved=Sme.prototype.emit,Sme.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Sme.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ame="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Tme(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const Ime=Ame.setTimeout,Mme=Ame.clearTimeout;function Eme(e,t){t.useNativeTimers?(e.setTimeoutFn=Ime.bind(Ame),e.clearTimeoutFn=Mme.bind(Ame)):(e.setTimeoutFn=Ame.setTimeout.bind(Ame),e.clearTimeoutFn=Ame.clearTimeout.bind(Ame))}class Pme extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Dme extends Sme{constructor(e){super(),this.writable=!1,Eme(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new Pme(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=vme(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}const jme="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ome=64,Rme={};let Lme,Nme=0,Bme=0;function Fme(e){let t="";do{t=jme[e%Ome]+t,e=Math.floor(e/Ome)}while(e>0);return t}function zme(){const e=Fme(+new Date);return e!==Lme?(Nme=0,Lme=e):e+"."+Fme(Nme++)}for(;Bme<Ome;Bme++)Rme[jme[Bme]]=Bme;let Vme=!1;try{Vme="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(kke){}const Wme=Vme;function Hme(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Wme))return new XMLHttpRequest}catch(_ke){}if(!t)try{return new(Ame[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(_ke){}}function Ume(){}const $me=null!=new Hme({xdomain:!1}).responseType;class Yme extends Sme{constructor(e,t){super(),Eme(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;const t=Tme(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const n=this.xhr=new Hme(t);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(_ke){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(_ke){}try{n.setRequestHeader("Accept","*/*")}catch(_ke){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"===typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(_ke){return void this.setTimeoutFn((()=>{this.onError(_ke)}),0)}"undefined"!==typeof document&&(this.index=Yme.requestsCount++,Yme.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Ume,e)try{this.xhr.abort()}catch(_ke){}"undefined"!==typeof document&&delete Yme.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Yme.requestsCount=0,Yme.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Gme);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Ame?"pagehide":"unload",Gme,!1)}function Gme(){for(let e in Yme.requests)Yme.requests.hasOwnProperty(e)&&Yme.requests[e].abort()}const qme="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Xme=Ame.WebSocket||Ame.MozWebSocket,Zme="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const Kme={websocket:class extends Dme{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=Zme?{}:Tme(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Zme?new Xme(e,t,n):t?new Xme(e,t):new Xme(e)}catch(kke){return this.emitReserved("error",kke)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;ume(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(_ke){}r&&qme((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=zme()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!Xme}},webtransport:class extends Dme{get name(){return"webtransport"}doOpen(){"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((e=>{const t=function(e,t){_me||(_me=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(0===r){if(Cme(n)<1)break;const e=kme(n,1);o=128===(128&e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(Cme(n)<2)break;const e=kme(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Cme(n)<8)break;const e=kme(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),o=t.getUint32(0);if(o>Math.pow(2,21)-1){a.enqueue(sme);break}i=o*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Cme(n)<i)break;const e=kme(n,i);a.enqueue(vme(o?e:_me.decode(e),t)),r=0}if(0===i||i>e){a.enqueue(sme);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=xme();r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();const i=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),i())})).catch((e=>{}))};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then((()=>this.onOpen()))}))})))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this.writer.write(n).then((()=>{r&&qme((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class extends Dme{constructor(e){if(super(e),this.polling=!1,"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}const t=e&&e.forceBase64;this.supportsBinary=$me&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(wme),r=[];for(let i=0;i<n.length;i++){const e=vme(n[i],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach(((e,o)=>{ume(e,!1,(e=>{r[o]=e,++i===n&&t(r.join(wme))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=zme()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Yme(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},Qme=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Jme=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ege(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=Qme.exec(e||""),o={},s=14;for(;s--;)o[Jme[s]]=i[s]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,o.query),o}class tge extends Sme{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"===typeof e&&(t=e,e=null),e?(e=ege(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=ege(t.host).host),Eme(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"===typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Kme[e](n)}open(){let e;if(this.opts.rememberUpgrade&&tge.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(_ke){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;tge.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;tge.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function i(){n||(n=!0,c(),t.close(),t=null)}const o=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function s(){o("transport closed")}function a(){o("socket closed")}function l(e){t&&e.name!==t.name&&i()}const c=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",s),this.off("close",a),this.off("upgrading",l)};t.once("open",r),t.once("error",o),t.once("close",s),this.once("close",a),this.once("upgrading",l),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onOpen(){if(this.readyState="open",tge.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){tge.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}tge.protocol=4;tge.protocol;const nge="function"===typeof ArrayBuffer,rge=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,ige=Object.prototype.toString,oge="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===ige.call(Blob),sge="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===ige.call(File);function age(e){return nge&&(e instanceof ArrayBuffer||rge(e))||oge&&e instanceof Blob||sge&&e instanceof File}function lge(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(lge(e[t]))return!0;return!1}if(age(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return lge(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&lge(e[n]))return!0;return!1}function cge(e){const t=[],n=e.data,r=e;return r.data=uge(n,t),r.attachments=t.length,{packet:r,buffers:t}}function uge(e,t){if(!e)return e;if(age(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=uge(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=uge(e[r],t));return n}return e}function dge(e,t){return e.data=hge(e.data,t),delete e.attachments,e}function hge(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=hge(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=hge(e[n],t));return e}const fge=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],pge=5;var mge;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(mge||(mge={}));class gge{constructor(e){this.replacer=e}encode(e){return e.type!==mge.EVENT&&e.type!==mge.ACK||!lge(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===mge.EVENT?mge.BINARY_EVENT:mge.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==mge.BINARY_EVENT&&e.type!==mge.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=cge(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function vge(e){return"[object Object]"===Object.prototype.toString.call(e)}class bge extends Sme{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===mge.BINARY_EVENT;n||t.type===mge.BINARY_ACK?(t.type=n?mge.EVENT:mge.ACK,this.reconstructor=new yge(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!age(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===mge[n.type])throw new Error("unknown packet type "+n.type);if(n.type===mge.BINARY_EVENT||n.type===mge.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!bge.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(_ke){return!1}}static isPayloadValid(e,t){switch(e){case mge.CONNECT:return vge(t);case mge.DISCONNECT:return void 0===t;case mge.CONNECT_ERROR:return"string"===typeof t||vge(t);case mge.EVENT:case mge.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===fge.indexOf(t[0]));case mge.ACK:case mge.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yge{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=dge(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function wge(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const xge=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _ge extends Sme{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[wge(e,"open",this.onopen.bind(this)),wge(e,"packet",this.onpacket.bind(this)),wge(e,"error",this.onerror.bind(this)),wge(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){if(xge.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:mge.EVENT,data:n,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){const e=this.ids++,t=n.pop();this._registerAckCallback(e,t),i.id=e}const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const o=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),i),s=function(){r.io.clearTimeoutFn(o);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,n)};s.withError=!0,this.acks[e]=s}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(((t,r)=>{const i=(e,n)=>e?r(e):t(n);i.withError=!0,n.push(i),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];n(null,...o)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:mge.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case mge.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case mge.EVENT:case mge.BINARY_EVENT:this.onevent(e);break;case mge.ACK:case mge.BINARY_ACK:this.onack(e);break;case mge.DISCONNECT:this.ondisconnect();break;case mge.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t.packet({type:mge.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:mge.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Cge(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Cge.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Cge.prototype.reset=function(){this.attempts=0},Cge.prototype.setMin=function(e){this.ms=e},Cge.prototype.setMax=function(e){this.max=e},Cge.prototype.setJitter=function(e){this.jitter=e};class kge extends Sme{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,Eme(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Cge({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||t;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new tge(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=wge(t,"open",(function(){n.onopen(),e&&e()})),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},o=wge(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),i(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(wge(e,"ping",this.onping.bind(this)),wge(e,"data",this.ondata.bind(this)),wge(e,"error",this.onerror.bind(this)),wge(e,"close",this.onclose.bind(this)),wge(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(_ke){this.onclose("parse error",_ke)}}ondecoded(e){qme((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new _ge(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Sge={};function Age(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=ege(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=Sge[i]&&o in Sge[i].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?a=new kge(r,t):(Sge[i]||(Sge[i]=new kge(r,t)),a=Sge[i]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Age,{Manager:kge,Socket:_ge,io:Age,connect:Age});var Tge=n(4545);const Ige=e=>{let{title:t,onFileUpload:n}=e;const r=t.length>16?`${t.slice(0,16)}...`:t;return(0,je.jsxs)(Pt,{container:!0,alignItems:"center",justifyContent:"space-between",sx:{margin:0,backgroundColor:"#a67153",padding:2,borderBottom:"1px solid #c1c1c1",borderRadius:"10px 10px 0px 0px"},children:[(0,je.jsx)(Pt,{item:!0,children:(0,je.jsx)(Ks,{variant:"h3",sx:{textAlign:"left",fontSize:38,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontFamily:"KCC-Hanbit",color:"black"},children:r?`${r}`:"\ucc44\ud305\ubc29"})}),(0,je.jsxs)(Pt,{item:!0,children:[(0,je.jsx)("input",{type:"file",multiple:!0,onChange:e=>{const t=Array.from(e.target.files);n&&n(t)},style:{display:"none"},id:"file-upload"}),(0,je.jsx)("label",{htmlFor:"file-upload",children:(0,je.jsx)(eo,{color:"primary","aria-label":"add",component:"span",children:(0,je.jsx)(Tge.A,{sx:{color:"black",fontSize:40}})})})]})]})},Mge=e=>{const t=new Date(e),n=t.getHours(),r=t.getMinutes();return`${n>=12?"\uc624\ud6c4":"\uc624\uc804"} ${n%12||12}:${r<10?`0${r}`:r}`},Ege=async e=>{try{return(await ch.get(`http://localhost:4000/users/${e}`)).data}catch(t){return console.error("Error fetching user data:",t),{name:"Unknown",profilePic:""}}},Pge=e=>/[\u{1F600}-\u{1F64F}\u{1F300}-\u{1F5FF}\u{1F680}-\u{1F6FF}\u{1F700}-\u{1F77F}\u{1F780}-\u{1F7FF}\u{1F800}-\u{1F8FF}\u{1F900}-\u{1F9FF}\u{1FA00}-\u{1FA6F}\u{2600}-\u{26FF}\u{2700}-\u{27BF}\u{1F004}-\u{1F0CF}]/u.test(e),Dge=e=>[...e].filter(Pge).length,jge=e=>/(https?:\/\/[^\s]+)|(www\.[^\s]+)/.test(e),Oge=e=>{let{messages:t,userId:n,handleScroll:r,isAtBottom:o,newMessageReceived:s}=e;const a=(0,i.useRef)(null),[l,c]=(0,i.useState)({}),[u,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)([]),[p,m]=(0,i.useState)(0),g=(sl((e=>e.user.userData.user)).name,()=>{d(!1),f([]),m(0)});(0,i.useEffect)((()=>{(async()=>{const e=[...new Set(t.map((e=>e.sender))),n],r=await Promise.all(e.map(Ege)),i=e.reduce(((e,t,n)=>(e[t]=r[n],e)),{});c(i)})()}),[t,n]),(0,i.useEffect)((()=>{if(o&&s){const e=a.current;e&&(e.scrollTop=e.scrollHeight)}}),[t,o,s]);const v=(e=>e.reduce(((e,t)=>{const n=new Date(t.timestamp).toLocaleDateString();return e[n]||(e[n]=[]),e[n].push(t),e}),{}))(t),b=(0,i.useRef)(null);return(0,i.useEffect)((()=>{(()=>{const e=a.current;b.current&&e&&e.scrollTo({top:b.current.offsetTop,behavior:"auto"})})()}),[t]),(0,je.jsxs)(We,{className:"custom-scrollbar",sx:{flexGrow:1,overflowY:"auto",backgroundColor:"#a67153",padding:2,position:"relative"},ref:a,onScroll:r,children:[Object.keys(v).map(((e,t)=>(0,je.jsxs)(We,{sx:{marginBottom:2},children:[(0,je.jsx)(We,{sx:{display:"flex",justifyContent:"center",marginBottom:1},children:(0,je.jsx)(We,{sx:{backgroundColor:"#40190b",opacity:.5,borderRadius:"15px",height:28,display:"flex",alignItems:"center",justifyContent:"center",width:"45%",margin:"6px 0"},children:(0,je.jsx)(Ks,{variant:"caption",sx:{color:"#ffffff",margin:0,opacity:1},children:e})})}),v[e].map(((e,t)=>{var r,i,o;return(0,je.jsx)(Pt,{container:!0,sx:{marginBottom:1},justifyContent:e.sender===n?"flex-end":"flex-start",alignItems:"flex-start",children:(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column",maxWidth:"80%",wordWrap:"break-word",position:"relative"},children:[e.sender!==n&&(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"flex-end",marginBottom:"4px"},children:[(0,je.jsx)("img",{src:(null===(r=l[e.sender])||void 0===r?void 0:r.profilePic)||"",alt:"Profile",style:{width:35,height:35,borderRadius:"50%",marginRight:"6px"}}),(0,je.jsx)(Ks,{variant:"caption",sx:{fontSize:"0.85rem",color:"#000000"},children:(null===(i=l[e.sender])||void 0===i?void 0:i.name)||"Unknown"})]}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"flex-end",flexDirection:e.sender===n?"row-reverse":"row"},children:[(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column",flex:1,backgroundColor:e.sender===n?"#dbc7b5":"#f5f5f5",color:(e.sender,"#000000"),borderRadius:"10px",padding:"8px 10px 0px 8px",marginLeft:e.sender===n?"0px":"22px"},children:[(0,je.jsx)(Ks,{variant:"body2",sx:{fontSize:(o=e.content,[...o.replace(/\s/g,"")].every(Pge)&&1===Dge(e.content)?"2.5rem":"1rem")},children:jge(e.content)?(0,je.jsx)("a",{href:e.content.startsWith("http")?e.content:`http://${e.content}`,target:"_blank",rel:"noopener noreferrer",style:{color:"#1976d2"},children:e.content}):e.content}),e.images&&(0,je.jsx)(We,{sx:{display:"flex",flexWrap:"wrap",gap:"8px"},children:e.images.map(((t,n)=>{const{width:r,height:i}=(e=>{switch(e){case 1:return{width:150,height:150};case 2:return{width:125,height:125};case 3:return{width:105,height:105};default:return{width:100,height:100}}})(e.images.length);return(0,je.jsx)(We,{sx:{flex:`0 0 ${r}px`,height:`${i}px`},children:(0,je.jsx)("img",{src:t.thumbnail,alt:`image-${n}`,onClick:()=>((e,t)=>{f(e),m(t),d(!0)})(e.images,n),style:{width:"100%",height:"100%",objectFit:"cover",cursor:"pointer",borderRadius:"8px"}})},n)}))})]}),(0,je.jsx)(We,{sx:{display:"flex",alignItems:"flex-end",...e.sender===n?{marginRight:"8px"}:{marginLeft:"8px"}},children:(0,je.jsx)(Ks,{variant:"caption",sx:{fontSize:"0.75rem",color:"#000000",whiteSpace:"nowrap"},children:Mge(e.timestamp)})})]})]})},e._id||t)})),(0,je.jsx)("div",{ref:b})]},t))),(0,je.jsx)(Go,{open:u,onClose:g,"aria-labelledby":"modal-title","aria-describedby":"modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"none",boxShadow:"none"},children:(0,je.jsxs)(We,{sx:{position:"relative",maxWidth:"90vw",maxHeight:"90vh",backgroundColor:"transparent",padding:0,border:"none",boxShadow:"none"},children:[(0,je.jsx)(kI.A,{initialSlide:p,infinite:!1,children:h.map(((e,t)=>(0,je.jsx)(We,{sx:{position:"relative",display:"flex",justifyContent:"center"},children:(0,je.jsx)("img",{src:e.original,alt:`Full size ${t}`,style:{width:"100%",height:"auto",maxHeight:"80vh",objectFit:"contain",border:"none",outline:"none"}})},t)))}),(0,je.jsx)(eo,{onClick:g,sx:{position:"absolute",top:8,right:8,zIndex:10},children:(0,je.jsx)(Ea.A,{})})]})})]})};var Rge=n(9286);function Lge(e){return e&&e.__esModule?e.default:e}function Nge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bge,Fge,zge,Vge,Wge,Hge,Uge={},$ge=[],Yge=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Gge(e,t){for(var n in t)e[n]=t[n];return e}function qge(e){var t=e.parentNode;t&&t.removeChild(e)}function Xge(e,t,n){var r,i,o,s={};for(o in t)"key"==o?r=t[o]:"ref"==o?i=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?Bge.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===s[o]&&(s[o]=e.defaultProps[o]);return Zge(e,s,r,i,null)}function Zge(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++zge:i};return null==i&&null!=Fge.vnode&&Fge.vnode(o),o}function Kge(e){return e.children}function Qge(e,t){this.props=e,this.context=t}function Jge(e,t){if(null==t)return e.__?Jge(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?Jge(e):null}function eve(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return eve(e)}}function tve(e){(!e.__d&&(e.__d=!0)&&Vge.push(e)&&!nve.__r++||Hge!==Fge.debounceRendering)&&((Hge=Fge.debounceRendering)||Wge)(nve)}function nve(){for(var e;nve.__r=Vge.length;)e=Vge.sort((function(e,t){return e.__v.__b-t.__v.__b})),Vge=[],e.some((function(e){var t,n,r,i,o,s;e.__d&&(o=(i=(t=e).__v).__e,(s=t.__P)&&(n=[],(r=Gge({},i)).__v=i.__v+1,dve(s,i,r,t.__n,void 0!==s.ownerSVGElement,null!=i.__h?[o]:null,n,null==o?Jge(i):o,i.__h),hve(n,i),i.__e!=o&&eve(i)))}))}function rve(e,t,n,r,i,o,s,a,l,c){var u,d,h,f,p,m,g,v=r&&r.__k||$ge,b=v.length;for(n.__k=[],u=0;u<t.length;u++)if(null!=(f=n.__k[u]=null==(f=t[u])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?Zge(null,f,null,null,f):Array.isArray(f)?Zge(Kge,{children:f},null,null,null):f.__b>0?Zge(f.type,f.props,f.key,null,f.__v):f)){if(f.__=n,f.__b=n.__b+1,null===(h=v[u])||h&&f.key==h.key&&f.type===h.type)v[u]=void 0;else for(d=0;d<b;d++){if((h=v[d])&&f.key==h.key&&f.type===h.type){v[d]=void 0;break}h=null}dve(e,f,h=h||Uge,i,o,s,a,l,c),p=f.__e,(d=f.ref)&&h.ref!=d&&(g||(g=[]),h.ref&&g.push(h.ref,null,f),g.push(d,f.__c||p,f)),null!=p?(null==m&&(m=p),"function"==typeof f.type&&f.__k===h.__k?f.__d=l=ive(f,l,e):l=sve(e,f,h,v,p,l),"function"==typeof n.type&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=e&&(l=Jge(h))}for(n.__e=m,u=b;u--;)null!=v[u]&&("function"==typeof n.type&&null!=v[u].__e&&v[u].__e==n.__d&&(n.__d=Jge(r,u+1)),pve(v[u],v[u]));if(g)for(u=0;u<g.length;u++)fve(g[u],g[++u],g[++u])}function ive(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t="function"==typeof r.type?ive(r,t,n):sve(n,r,r,i,r.__e,t));return t}function ove(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){ove(e,t)})):t.push(e)),t}function sve(e,t,n,r,i,o){var s,a,l;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==n||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(i),s=null;else{for(a=o,l=0;(a=a.nextSibling)&&l<r.length;l+=2)if(a==i)break e;e.insertBefore(i,o),s=o}return void 0!==s?s:i.nextSibling}function ave(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||Yge.test(t)?n:n+"px"}function lve(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ave(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ave(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?uve:cve,o):e.removeEventListener(t,o?uve:cve,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(s){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function cve(e){this.l[e.type+!1](Fge.event?Fge.event(e):e)}function uve(e){this.l[e.type+!0](Fge.event?Fge.event(e):e)}function dve(e,t,n,r,i,o,s,a,l){var c,u,d,h,f,p,m,g,v,b,y,w=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,a=t.__e=n.__e,t.__h=null,o=[a]),(c=Fge.__b)&&c(t);try{e:if("function"==typeof w){if(g=t.props,v=(c=w.contextType)&&r[c.__c],b=c?v?v.props.value:c.__:r,n.__c?m=(u=t.__c=n.__c).__=u.__E:("prototype"in w&&w.prototype.render?t.__c=u=new w(g,b):(t.__c=u=new Qge(g,b),u.constructor=w,u.render=mve),v&&v.sub(u),u.props=g,u.state||(u.state={}),u.context=b,u.__n=r,d=u.__d=!0,u.__h=[]),null==u.__s&&(u.__s=u.state),null!=w.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=Gge({},u.__s)),Gge(u.__s,w.getDerivedStateFromProps(g,u.__s))),h=u.props,f=u.state,d)null==w.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==w.getDerivedStateFromProps&&g!==h&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(g,b),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(g,u.__s,b)||t.__v===n.__v){u.props=g,u.state=u.__s,t.__v!==n.__v&&(u.__d=!1),u.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),u.__h.length&&s.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(g,u.__s,b),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(h,f,p)}))}u.context=b,u.props=g,u.state=u.__s,(c=Fge.__r)&&c(t),u.__d=!1,u.__v=t,u.__P=e,c=u.render(u.props,u.state,u.context),u.state=u.__s,null!=u.getChildContext&&(r=Gge(Gge({},r),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(p=u.getSnapshotBeforeUpdate(h,f)),y=null!=c&&c.type===Kge&&null==c.key?c.props.children:c,rve(e,Array.isArray(y)?y:[y],t,n,r,i,o,s,a,l),u.base=t.__e,t.__h=null,u.__h.length&&s.push(u),m&&(u.__E=u.__=null),u.__e=!1}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,i,o,s,a){var l,c,u,d=n.props,h=t.props,f=t.type,p=0;if("svg"===f&&(i=!0),null!=o)for(;p<o.length;p++)if((l=o[p])&&"setAttribute"in l==!!f&&(f?l.localName===f:3===l.nodeType)){e=l,o[p]=null;break}if(null==e){if(null===f)return document.createTextNode(h);e=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),o=null,a=!1}if(null===f)d===h||a&&e.data===h||(e.data=h);else{if(o=o&&Bge.call(e.childNodes),c=(d=n.props||Uge).dangerouslySetInnerHTML,u=h.dangerouslySetInnerHTML,!a){if(null!=o)for(d={},p=0;p<e.attributes.length;p++)d[e.attributes[p].name]=e.attributes[p].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(function(e,t,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in t||lve(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||lve(e,o,t[o],n[o],r)}(e,h,d,i,a),u)t.__k=[];else if(p=t.props.children,rve(e,Array.isArray(p)?p:[p],t,n,r,i&&"foreignObject"!==f,o,s,o?o[0]:n.__k&&Jge(n,0),a),null!=o)for(p=o.length;p--;)null!=o[p]&&qge(o[p]);a||("value"in h&&void 0!==(p=h.value)&&(p!==d.value||p!==e.value||"progress"===f&&!p)&&lve(e,"value",p,d.value,!1),"checked"in h&&void 0!==(p=h.checked)&&p!==e.checked&&lve(e,"checked",p,d.checked,!1))}return e}(n.__e,t,n,r,i,o,s,l);(c=Fge.diffed)&&c(t)}catch(x){t.__v=null,(l||null!=o)&&(t.__e=a,t.__h=!!l,o[o.indexOf(a)]=null),Fge.__e(x,t,n)}}function hve(e,t){Fge.__c&&Fge.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(n){Fge.__e(n,t.__v)}}))}function fve(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(r){Fge.__e(r,n)}}function pve(e,t,n){var r,i;if(Fge.unmount&&Fge.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||fve(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Fge.__e(o,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&pve(r[i],t,"function"!=typeof e.type);n||null==e.__e||qge(e.__e),e.__e=e.__d=void 0}function mve(e,t,n){return this.constructor(e,n)}function gve(e,t,n){var r,i,o;Fge.__&&Fge.__(e,t),i=(r="function"==typeof n)?null:n&&n.__k||t.__k,o=[],dve(t,e=(!r&&n||t).__k=Xge(Kge,null,[e]),i||Uge,Uge,void 0!==t.ownerSVGElement,!r&&n?[n]:i?null:t.firstChild?Bge.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r),hve(o,e)}Bge=$ge.slice,Fge={__e:function(e,t){for(var n,r,i;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),i=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),i=n.__d),i)return n.__E=n}catch(o){e=o}throw e}},zge=0,Qge.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Gge({},this.state),"function"==typeof e&&(e=e(Gge({},n),this.props)),e&&Gge(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),tve(this))},Qge.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),tve(this))},Qge.prototype.render=Kge,Vge=[],Wge="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,nve.__r=0;var vve=0;function bve(e,t,n,r,i){var o,s,a={};for(s in t)"ref"==s?o=t[s]:a[s]=t[s];var l={type:e,props:a,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--vve,__source:r,__self:i};if("function"==typeof e&&(o=e.defaultProps))for(s in o)void 0===a[s]&&(a[s]=o[s]);return Fge.vnode&&Fge.vnode(l),l}var yve={set:function(e,t){try{window.localStorage[`emoji-mart.${e}`]=JSON.stringify(t)}catch(n){}},get:function(e){try{const t=window.localStorage[`emoji-mart.${e}`];if(t)return JSON.parse(t)}catch(t){}}};const wve=new Map,xve=[{v:15,emoji:"\ud83e\udee8"},{v:14,emoji:"\ud83e\udee0"},{v:13.1,emoji:"\ud83d\ude36\u200d\ud83c\udf2b\ufe0f"},{v:13,emoji:"\ud83e\udd78"},{v:12.1,emoji:"\ud83e\uddd1\u200d\ud83e\uddb0"},{v:12,emoji:"\ud83e\udd71"},{v:11,emoji:"\ud83e\udd70"},{v:5,emoji:"\ud83e\udd29"},{v:4,emoji:"\ud83d\udc71\u200d\u2640\ufe0f"},{v:3,emoji:"\ud83e\udd23"},{v:2,emoji:"\ud83d\udc4b\ud83c\udffb"},{v:1,emoji:"\ud83d\ude43"}];function _ve(e){if(wve.has(e))return wve.get(e);const t=Cve(e);return wve.set(e,t),t}const Cve=(()=>{let e=null;try{navigator.userAgent.includes("jsdom")||(e=document.createElement("canvas").getContext("2d",{willReadFrequently:!0}))}catch{}if(!e)return()=>!1;const t=20,n=Math.floor(12.5);return e.font=n+"px Arial, Sans-Serif",e.textBaseline="top",e.canvas.width=40,e.canvas.height=25,n=>{e.clearRect(0,0,40,25),e.fillStyle="#FF0000",e.fillText(n,0,22),e.fillStyle="#0000FF",e.fillText(n,t,22);const r=e.getImageData(0,0,t,25).data,i=r.length;let o=0;for(;o<i&&!r[o+3];o+=4);if(o>=i)return!1;const s=t+o/4%t,a=Math.floor(o/4/t),l=e.getImageData(s,a,1,1).data;return r[o]===l[0]&&r[o+2]===l[2]&&!(e.measureText(n).width>=t)}})();var kve={latestVersion:function(){for(const{v:e,emoji:t}of xve)if(_ve(t))return e},noCountryFlags:function(){return!_ve("\ud83c\udde8\ud83c\udde6")}};const Sve=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart"];let Ave=null;var Tve={add:function(e){Ave||(Ave=yve.get("frequently")||{});const t=e.id||e;t&&(Ave[t]||(Ave[t]=0),Ave[t]+=1,yve.set("last",t),yve.set("frequently",Ave))},get:function(e){let{maxFrequentRows:t,perLine:n}=e;if(!t)return[];Ave||(Ave=yve.get("frequently"));let r=[];if(!Ave){Ave={};for(let e in Sve.slice(0,n)){const t=Sve[e];Ave[t]=n-e,r.push(t)}return r}const i=t*n,o=yve.get("last");for(let s in Ave)r.push(s);if(r.sort(((e,t)=>{const n=Ave[t],r=Ave[e];return n==r?e.localeCompare(t):n-r})),r.length>i){const e=r.slice(i);r=r.slice(0,i);for(let t of e)t!=o&&delete Ave[t];o&&-1==r.indexOf(o)&&(delete Ave[r[r.length-1]],r.splice(-1,1,o)),yve.set("frequently",Ave)}return r},DEFAULTS:Sve},Ive={};Ive=JSON.parse('{"search":"Search","search_no_results_1":"Oh no!","search_no_results_2":"That emoji couldn\u2019t be found","pick":"Pick an emoji\u2026","add_custom":"Add custom emoji","categories":{"activity":"Activity","custom":"Custom","flags":"Flags","foods":"Food & Drink","frequent":"Frequently used","nature":"Animals & Nature","objects":"Objects","people":"Smileys & People","places":"Travel & Places","search":"Search Results","symbols":"Symbols"},"skins":{"1":"Default","2":"Light","3":"Medium-Light","4":"Medium","5":"Medium-Dark","6":"Dark","choose":"Choose default skin tone"}}');var Mve={autoFocus:{value:!1},dynamicWidth:{value:!1},emojiButtonColors:{value:null},emojiButtonRadius:{value:"100%"},emojiButtonSize:{value:36},emojiSize:{value:24},emojiVersion:{value:15,choices:[1,2,3,4,5,11,12,12.1,13,13.1,14,15]},exceptEmojis:{value:[]},icons:{value:"auto",choices:["auto","outline","solid"]},locale:{value:"en",choices:["en","ar","be","cs","de","es","fa","fi","fr","hi","it","ja","ko","nl","pl","pt","ru","sa","tr","uk","vi","zh"]},maxFrequentRows:{value:4},navPosition:{value:"top",choices:["top","bottom","none"]},noCountryFlags:{value:!1},noResultsEmoji:{value:null},perLine:{value:9},previewEmoji:{value:null},previewPosition:{value:"bottom",choices:["top","bottom","none"]},searchPosition:{value:"sticky",choices:["sticky","static","none"]},set:{value:"native",choices:["native","apple","facebook","google","twitter"]},skin:{value:1,choices:[1,2,3,4,5,6]},skinTonePosition:{value:"preview",choices:["preview","search","none"]},theme:{value:"auto",choices:["auto","light","dark"]},categories:null,categoryIcons:null,custom:null,data:null,i18n:null,getImageURL:null,getSpritesheetURL:null,onAddCustomEmoji:null,onClickOutside:null,onEmojiSelect:null,stickySearch:{deprecated:!0,value:!0}};let Eve=null,Pve=null;const Dve={};async function jve(e){if(Dve[e])return Dve[e];const t=await fetch(e),n=await t.json();return Dve[e]=n,n}let Ove=null,Rve=null,Lve=!1;function Nve(e){let{caller:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ove||(Ove=new Promise((e=>{Rve=e}))),e?async function(e){Lve=!0;let{emojiVersion:t,set:n,locale:r}=e;if(t||(t=Mve.emojiVersion.value),n||(n=Mve.set.value),r||(r=Mve.locale.value),Pve)Pve.categories=Pve.categories.filter((e=>!!!e.name));else{Pve=("function"===typeof e.data?await e.data():e.data)||await jve(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/sets/${t}/${n}.json`),Pve.emoticons={},Pve.natives={},Pve.categories.unshift({id:"frequent",emojis:[]});for(const e in Pve.aliases){const t=Pve.aliases[e],n=Pve.emojis[t];n&&(n.aliases||(n.aliases=[]),n.aliases.push(e))}Pve.originalCategories=Pve.categories}if(Eve=("function"===typeof e.i18n?await e.i18n():e.i18n)||("en"==r?Lge(Ive):await jve(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/i18n/${r}.json`)),e.custom)for(let l in e.custom){l=parseInt(l);const t=e.custom[l],n=e.custom[l-1];if(t.emojis&&t.emojis.length){t.id||(t.id=`custom_${l+1}`),t.name||(t.name=Eve.categories.custom),n&&!t.icon&&(t.target=n.target||n),Pve.categories.push(t);for(const e of t.emojis)Pve.emojis[e.id]=e}}e.categories&&(Pve.categories=Pve.originalCategories.filter((t=>-1!=e.categories.indexOf(t.id))).sort(((t,n)=>e.categories.indexOf(t.id)-e.categories.indexOf(n.id))));let i=null,o=null;"native"==n&&(i=kve.latestVersion(),o=e.noCountryFlags||kve.noCountryFlags());let s=Pve.categories.length,a=!1;for(;s--;){const t=Pve.categories[s];if("frequent"==t.id){let{maxFrequentRows:n,perLine:r}=e;n=n>=0?n:Mve.maxFrequentRows.value,r||(r=Mve.perLine.value),t.emojis=Tve.get({maxFrequentRows:n,perLine:r})}if(!t.emojis||!t.emojis.length){Pve.categories.splice(s,1);continue}const{categoryIcons:n}=e;if(n){const e=n[t.id];e&&!t.icon&&(t.icon=e)}let r=t.emojis.length;for(;r--;){const n=t.emojis[r],s=n.id?n:Pve.emojis[n],l=()=>{t.emojis.splice(r,1)};if(!s||e.exceptEmojis&&e.exceptEmojis.includes(s.id))l();else if(i&&s.version>i)l();else if(!o||"flags"!=t.id||Wve.includes(s.id)){if(!s.search){if(a=!0,s.search=","+[[s.id,!1],[s.name,!0],[s.keywords,!1],[s.emoticons,!1]].map((e=>{let[t,n]=e;if(t)return(Array.isArray(t)?t:[t]).map((e=>(n?e.split(/[-|_|\s]+/):[e]).map((e=>e.toLowerCase())))).flat()})).flat().filter((e=>e&&e.trim())).join(","),s.emoticons)for(const t of s.emoticons)Pve.emoticons[t]||(Pve.emoticons[t]=s.id);let e=0;for(const t of s.skins){if(!t)continue;e++;const{native:n}=t;n&&(Pve.natives[n]=s.id,s.search+=`,${n}`);const r=1==e?"":`:skin-tone-${e}:`;t.shortcodes=`:${s.id}:${r}`}}}else l()}}a&&Vve.reset();Rve()}(e):t&&!Lve&&console.warn(`\`${t}\` requires data to be initialized first. Promise will be pending until \`init\` is called.`),Ove}function Bve(e,t,n){e||(e={});const r={};for(let i in t)r[i]=Fve(i,e,t,n);return r}function Fve(e,t,n,r){const i=n[e];let o=r&&r.getAttribute(e)||(null!=t[e]&&void 0!=t[e]?t[e]:null);return i?(null!=o&&i.value&&typeof i.value!=typeof o&&(o="boolean"==typeof i.value?"false"!=o:i.value.constructor(o)),i.transform&&o&&(o=i.transform(o)),(null==o||i.choices&&-1==i.choices.indexOf(o))&&(o=i.value),o):o}let zve=null;var Vve={search:async function(e){let{maxResults:t,caller:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.trim().length)return null;t||(t=90),await Nve(null,{caller:n||"SearchIndex.search"});const r=e.toLowerCase().replace(/(\w)-/,"$1 ").split(/[\s|,]+/).filter(((e,t,n)=>e.trim()&&n.indexOf(e)==t));if(!r.length)return;let i,o,s=zve||(zve=Object.values(Pve.emojis));for(const a of r){if(!s.length)break;i=[],o={};for(const e of s){if(!e.search)continue;const t=e.search.indexOf(`,${a}`);-1!=t&&(i.push(e),o[e.id]||(o[e.id]=0),o[e.id]+=e.id==a?0:t+1)}s=i}return i.length<2||(i.sort(((e,t)=>{const n=o[e.id],r=o[t.id];return n==r?e.id.localeCompare(t.id):n-r})),i.length>t&&(i=i.slice(0,t))),i},get:function(e){return e.id?e:Pve.emojis[e]||Pve.emojis[Pve.aliases[e]]||Pve.emojis[Pve.natives[e]]},reset:function(){zve=null},SHORTCODES_REGEX:/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/};const Wve=["checkered_flag","crossed_flags","pirate_flag","rainbow-flag","transgender_flag","triangular_flag_on_post","waving_black_flag","waving_white_flag"];function Hve(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every(((e,n)=>e==t[n]))}async function Uve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(let t in[...Array(e).keys()])await new Promise(requestAnimationFrame)}function $ve(e){let{skinIndex:t=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.skins[t]||(t=0,e.skins[t]),r={id:e.id,name:e.name,native:n.native,unified:n.unified,keywords:e.keywords,shortcodes:n.shortcodes||e.shortcodes};return e.skins.length>1&&(r.skin=t+1),n.src&&(r.src=n.src),e.aliases&&e.aliases.length&&(r.aliases=e.aliases),e.emoticons&&e.emoticons.length&&(r.emoticons=e.emoticons),r}var Yve={categories:{activity:{outline:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:bve("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})}),solid:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:bve("path",{d:"M16.17 337.5c0 44.98 7.565 83.54 13.98 107.9C35.22 464.3 50.46 496 174.9 496c9.566 0 19.59-.4707 29.84-1.271L17.33 307.3C16.53 317.6 16.17 327.7 16.17 337.5zM495.8 174.5c0-44.98-7.565-83.53-13.98-107.9c-4.688-17.54-18.34-31.23-36.04-35.95C435.5 27.91 392.9 16 337 16c-9.564 0-19.59 .4707-29.84 1.271l187.5 187.5C495.5 194.4 495.8 184.3 495.8 174.5zM26.77 248.8l236.3 236.3c142-36.1 203.9-150.4 222.2-221.1L248.9 26.87C106.9 62.96 45.07 177.2 26.77 248.8zM256 335.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L164.7 283.3C161.6 280.2 160 276.1 160 271.1c0-8.529 6.865-16 16-16c4.095 0 8.189 1.562 11.31 4.688l64.01 64C254.4 327.8 256 331.9 256 335.1zM304 287.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L212.7 235.3C209.6 232.2 208 228.1 208 223.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01C302.5 279.8 304 283.9 304 287.1zM256 175.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01c3.125 3.125 4.688 7.219 4.688 11.31c0 9.133-7.468 16-16 16c-4.094 0-8.189-1.562-11.31-4.688l-64.01-64.01C257.6 184.2 256 180.1 256 175.1z"})})},custom:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:bve("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})}),flags:{outline:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:bve("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})}),solid:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:bve("path",{d:"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"})})},foods:{outline:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:bve("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})}),solid:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:bve("path",{d:"M481.9 270.1C490.9 279.1 496 291.3 496 304C496 316.7 490.9 328.9 481.9 337.9C472.9 346.9 460.7 352 448 352H64C51.27 352 39.06 346.9 30.06 337.9C21.06 328.9 16 316.7 16 304C16 291.3 21.06 279.1 30.06 270.1C39.06 261.1 51.27 256 64 256H448C460.7 256 472.9 261.1 481.9 270.1zM475.3 388.7C478.3 391.7 480 395.8 480 400V416C480 432.1 473.3 449.3 461.3 461.3C449.3 473.3 432.1 480 416 480H96C79.03 480 62.75 473.3 50.75 461.3C38.74 449.3 32 432.1 32 416V400C32 395.8 33.69 391.7 36.69 388.7C39.69 385.7 43.76 384 48 384H464C468.2 384 472.3 385.7 475.3 388.7zM50.39 220.8C45.93 218.6 42.03 215.5 38.97 211.6C35.91 207.7 33.79 203.2 32.75 198.4C31.71 193.5 31.8 188.5 32.99 183.7C54.98 97.02 146.5 32 256 32C365.5 32 457 97.02 479 183.7C480.2 188.5 480.3 193.5 479.2 198.4C478.2 203.2 476.1 207.7 473 211.6C469.1 215.5 466.1 218.6 461.6 220.8C457.2 222.9 452.3 224 447.3 224H64.67C59.73 224 54.84 222.9 50.39 220.8zM372.7 116.7C369.7 119.7 368 123.8 368 128C368 131.2 368.9 134.3 370.7 136.9C372.5 139.5 374.1 141.6 377.9 142.8C380.8 143.1 384 144.3 387.1 143.7C390.2 143.1 393.1 141.6 395.3 139.3C397.6 137.1 399.1 134.2 399.7 131.1C400.3 128 399.1 124.8 398.8 121.9C397.6 118.1 395.5 116.5 392.9 114.7C390.3 112.9 387.2 111.1 384 111.1C379.8 111.1 375.7 113.7 372.7 116.7V116.7zM244.7 84.69C241.7 87.69 240 91.76 240 96C240 99.16 240.9 102.3 242.7 104.9C244.5 107.5 246.1 109.6 249.9 110.8C252.8 111.1 256 112.3 259.1 111.7C262.2 111.1 265.1 109.6 267.3 107.3C269.6 105.1 271.1 102.2 271.7 99.12C272.3 96.02 271.1 92.8 270.8 89.88C269.6 86.95 267.5 84.45 264.9 82.7C262.3 80.94 259.2 79.1 256 79.1C251.8 79.1 247.7 81.69 244.7 84.69V84.69zM116.7 116.7C113.7 119.7 112 123.8 112 128C112 131.2 112.9 134.3 114.7 136.9C116.5 139.5 118.1 141.6 121.9 142.8C124.8 143.1 128 144.3 131.1 143.7C134.2 143.1 137.1 141.6 139.3 139.3C141.6 137.1 143.1 134.2 143.7 131.1C144.3 128 143.1 124.8 142.8 121.9C141.6 118.1 139.5 116.5 136.9 114.7C134.3 112.9 131.2 111.1 128 111.1C123.8 111.1 119.7 113.7 116.7 116.7L116.7 116.7z"})})},frequent:{outline:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[bve("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),bve("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})]}),solid:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:bve("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"})})},nature:{outline:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[bve("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),bve("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})]}),solid:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:bve("path",{d:"M332.7 19.85C334.6 8.395 344.5 0 356.1 0C363.6 0 370.6 3.52 375.1 9.502L392 32H444.1C456.8 32 469.1 37.06 478.1 46.06L496 64H552C565.3 64 576 74.75 576 88V112C576 156.2 540.2 192 496 192H426.7L421.6 222.5L309.6 158.5L332.7 19.85zM448 64C439.2 64 432 71.16 432 80C432 88.84 439.2 96 448 96C456.8 96 464 88.84 464 80C464 71.16 456.8 64 448 64zM416 256.1V480C416 497.7 401.7 512 384 512H352C334.3 512 320 497.7 320 480V364.8C295.1 377.1 268.8 384 240 384C211.2 384 184 377.1 160 364.8V480C160 497.7 145.7 512 128 512H96C78.33 512 64 497.7 64 480V249.8C35.23 238.9 12.64 214.5 4.836 183.3L.9558 167.8C-3.331 150.6 7.094 133.2 24.24 128.1C41.38 124.7 58.76 135.1 63.05 152.2L66.93 167.8C70.49 182 83.29 191.1 97.97 191.1H303.8L416 256.1z"})})},objects:{outline:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[bve("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),bve("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})]}),solid:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:bve("path",{d:"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"})})},people:{outline:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[bve("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),bve("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})]}),solid:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:bve("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"})})},places:{outline:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[bve("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),bve("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})]}),solid:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:bve("path",{d:"M39.61 196.8L74.8 96.29C88.27 57.78 124.6 32 165.4 32H346.6C387.4 32 423.7 57.78 437.2 96.29L472.4 196.8C495.6 206.4 512 229.3 512 256V448C512 465.7 497.7 480 480 480H448C430.3 480 416 465.7 416 448V400H96V448C96 465.7 81.67 480 64 480H32C14.33 480 0 465.7 0 448V256C0 229.3 16.36 206.4 39.61 196.8V196.8zM109.1 192H402.9L376.8 117.4C372.3 104.6 360.2 96 346.6 96H165.4C151.8 96 139.7 104.6 135.2 117.4L109.1 192zM96 256C78.33 256 64 270.3 64 288C64 305.7 78.33 320 96 320C113.7 320 128 305.7 128 288C128 270.3 113.7 256 96 256zM416 320C433.7 320 448 305.7 448 288C448 270.3 433.7 256 416 256C398.3 256 384 270.3 384 288C384 305.7 398.3 320 416 320z"})})},symbols:{outline:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:bve("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"})}),solid:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:bve("path",{d:"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"})})}},search:{loupe:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:bve("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})}),delete:bve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:bve("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})}};function Gve(e){let{id:t,skin:n,emoji:r}=e;if(e.shortcodes){const r=e.shortcodes.match(Vve.SHORTCODES_REGEX);r&&(t=r[1],r[2]&&(n=r[2]))}if(r||(r=Vve.get(t||e.native)),!r)return e.fallback;const i=r.skins[n-1]||r.skins[0],o=i.src||("native"==e.set||e.spritesheet?void 0:"function"===typeof e.getImageURL?e.getImageURL(e.set,i.unified):`https://cdn.jsdelivr.net/npm/emoji-datasource-${e.set}@15.0.1/img/${e.set}/64/${i.unified}.png`),s="function"===typeof e.getSpritesheetURL?e.getSpritesheetURL(e.set):`https://cdn.jsdelivr.net/npm/emoji-datasource-${e.set}@15.0.1/img/${e.set}/sheets-256/64.png`;return bve("span",{class:"emoji-mart-emoji","data-emoji-set":e.set,children:o?bve("img",{style:{maxWidth:e.size||"1em",maxHeight:e.size||"1em",display:"inline-block"},alt:i.native||i.shortcodes,src:o}):"native"==e.set?bve("span",{style:{fontSize:e.size,fontFamily:'"EmojiMart", "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "Android Emoji"'},children:i.native}):bve("span",{style:{display:"block",width:e.size,height:e.size,backgroundImage:`url(${s})`,backgroundSize:`${100*Pve.sheet.cols}% ${100*Pve.sheet.rows}%`,backgroundPosition:`${100/(Pve.sheet.cols-1)*i.x}% ${100/(Pve.sheet.rows-1)*i.y}%`}})})}const qve="undefined"!==typeof window&&window.HTMLElement?window.HTMLElement:Object;class Xve extends qve{static get observedAttributes(){return Object.keys(this.Props)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(let t in e)this.attributeChangedCallback(t,null,e[t])}attributeChangedCallback(e,t,n){if(!this.component)return;const r=Fve(e,{[e]:n},this.constructor.Props,this);this.component.componentWillReceiveProps?this.component.componentWillReceiveProps({[e]:r}):(this.component.props[e]=r,this.component.forceUpdate())}disconnectedCallback(){this.disconnected=!0,this.component&&this.component.unregister&&this.component.unregister()}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(super(),this.props=e,e.parent||e.ref){let t=null;const n=e.parent||(t=e.ref&&e.ref.current);t&&(t.innerHTML=""),n&&n.appendChild(this)}}}class Zve extends Xve{setShadow(){this.attachShadow({mode:"open"})}injectStyles(e){if(!e)return;const t=document.createElement("style");t.textContent=e,this.shadowRoot.insertBefore(t,this.shadowRoot.firstChild)}constructor(e){let{styles:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.setShadow(),this.injectStyles(t)}}var Kve={fallback:"",id:"",native:"",shortcodes:"",size:{value:"",transform:e=>/\D/.test(e)?e:`${e}px`},set:Mve.set,skin:Mve.skin};class Qve extends Xve{async connectedCallback(){const e=Bve(this.props,Kve,this);e.element=this,e.ref=e=>{this.component=e},await Nve(),this.disconnected||gve(bve(Gve,{...e}),this)}constructor(e){super(e)}}Nge(Qve,"Props",Kve),"undefined"===typeof customElements||customElements.get("em-emoji")||customElements.define("em-emoji",Qve);var Jve,ebe,tbe=[],nbe=Fge.__b,rbe=Fge.__r,ibe=Fge.diffed,obe=Fge.__c,sbe=Fge.unmount;function abe(){var e;for(tbe.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=tbe.pop();)if(e.__P)try{e.__H.__h.forEach(cbe),e.__H.__h.forEach(ube),e.__H.__h=[]}catch(t){e.__H.__h=[],Fge.__e(t,e.__v)}}Fge.__b=function(e){Jve=null,nbe&&nbe(e)},Fge.__r=function(e){rbe&&rbe(e),0;var t=(Jve=e.__c).__H;t&&(t.__h.forEach(cbe),t.__h.forEach(ube),t.__h=[])},Fge.diffed=function(e){ibe&&ibe(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==tbe.push(t)&&ebe===Fge.requestAnimationFrame||((ebe=Fge.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),lbe&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);lbe&&(t=requestAnimationFrame(n))})(abe)),Jve=null},Fge.__c=function(e,t){t.some((function(e){try{e.__h.forEach(cbe),e.__h=e.__h.filter((function(e){return!e.__||ube(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Fge.__e(n,e.__v)}})),obe&&obe(e,t)},Fge.unmount=function(e){sbe&&sbe(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{cbe(e)}catch(n){t=n}})),t&&Fge.__e(t,n.__v))};var lbe="function"==typeof requestAnimationFrame;function cbe(e){var t=Jve,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Jve=t}function ube(e){var t=Jve;e.__c=e.__(),Jve=t}function dbe(e,t){for(var n in t)e[n]=t[n];return e}function hbe(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function fbe(e){this.props=e}(fbe.prototype=new Qge).isPureReactComponent=!0,fbe.prototype.shouldComponentUpdate=function(e,t){return hbe(this.props,e)||hbe(this.state,t)};var pbe=Fge.__b;Fge.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),pbe&&pbe(e)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var mbe=Fge.__e;Fge.__e=function(e,t,n){if(e.then)for(var r,i=t;i=i.__;)if((r=i.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);mbe(e,t,n)};var gbe=Fge.unmount;function vbe(){this.__u=0,this.t=null,this.__b=null}function bbe(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function ybe(){this.u=null,this.o=null}Fge.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),gbe&&gbe(e)},(vbe.prototype=new Qge).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=bbe(r.__v),o=!1,s=function(){o||(o=!0,n.__R=null,i?i(a):a())};n.__R=s;var a=function(){if(! --r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)})),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},l=!0===t.__h;r.__u++||l||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(s,s)},vbe.prototype.componentWillUnmount=function(){this.t=[]},vbe.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=dbe({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)}))),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__e&&Xge(Kge,null,e.fallback);return i&&(i.__h=null),[Xge(Kge,null,t.__e?null:e.children),i]};var wbe=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(ybe.prototype=new Qge).__e=function(e){var t=this,n=bbe(t.__v),r=t.o.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),wbe(t,e,r)):i()};n?n(o):o()}},ybe.prototype.render=function(e){this.u=null,this.o=new Map;var t=ove(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},ybe.prototype.componentDidUpdate=ybe.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){wbe(e,n,t)}))};var xbe="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,_be=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Cbe="undefined"!=typeof document;Qge.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(Qge.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var kbe=Fge.event;function Sbe(){}function Abe(){return this.cancelBubble}function Tbe(){return this.defaultPrevented}Fge.event=function(e){return kbe&&(e=kbe(e)),e.persist=Sbe,e.isPropagationStopped=Abe,e.isDefaultPrevented=Tbe,e.nativeEvent=e};var Ibe={configurable:!0,get:function(){return this.class}},Mbe=Fge.vnode;Fge.vnode=function(e){var t,n=e.type,r=e.props,i=r;if("string"==typeof n){var o=-1===n.indexOf("-");for(var s in i={},r){var a=r[s];Cbe&&"children"===s&&"noscript"===n||"value"===s&&"defaultValue"in r&&null==a||("defaultValue"===s&&"value"in r&&null==r.value?s="value":"download"===s&&!0===a?a="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+n)&&(t=r.type,!("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t))?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(s)?s=s.toLowerCase():o&&_be.test(s)?s=s.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===a&&(a=void 0),i[s]=a)}"select"==n&&i.multiple&&Array.isArray(i.value)&&(i.value=ove(r.children).forEach((function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)}))),"select"==n&&null!=i.defaultValue&&(i.value=ove(r.children).forEach((function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value}))),e.props=i,r.class!=r.className&&(Ibe.enumerable="className"in r,null!=r.className&&(i.class=r.className),Object.defineProperty(i,"className",Ibe))}e.$$typeof=xbe,Mbe&&Mbe(e)};var Ebe=Fge.__r;Fge.__r=function(e){Ebe&&Ebe(e),e.__c};const Pbe={light:"outline",dark:"solid"};class Dbe extends fbe{renderIcon(e){const{icon:t}=e;if(t){if(t.svg)return bve("span",{class:"flex",dangerouslySetInnerHTML:{__html:t.svg}});if(t.src)return bve("img",{src:t.src})}const n=Yve.categories[e.id]||Yve.categories.custom;return n["auto"==this.props.icons?Pbe[this.props.theme]:this.props.icons]||n}render(){let e=null;return bve("nav",{id:"nav",class:"padding","data-position":this.props.position,dir:this.props.dir,children:bve("div",{class:"flex relative",children:[this.categories.map(((t,n)=>{const r=t.name||Eve.categories[t.id],i=!this.props.unfocused&&t.id==this.state.categoryId;return i&&(e=n),bve("button",{"aria-label":r,"aria-selected":i||void 0,title:r,type:"button",class:"flex flex-grow flex-center",onMouseDown:e=>e.preventDefault(),onClick:()=>{this.props.onClick({category:t,i:n})},children:this.renderIcon(t)})})),bve("div",{class:"bar",style:{width:100/this.categories.length+"%",opacity:null==e?0:1,transform:"rtl"===this.props.dir?`scaleX(-1) translateX(${100*e}%)`:`translateX(${100*e}%)`}})]})})}constructor(){super(),this.categories=Pve.categories.filter((e=>!e.target)),this.state={categoryId:this.categories[0].id}}}class jbe extends fbe{shouldComponentUpdate(e){for(let t in e)if("children"!=t&&e[t]!=this.props[t])return!0;return!1}render(){return this.props.children}}const Obe=10;class Rbe extends Qge{getInitialState(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{skin:yve.get("skin")||e.skin,theme:this.initTheme(e.theme)}}componentWillMount(){this.dir=Eve.rtl?"rtl":"ltr",this.refs={menu:{current:null},navigation:{current:null},scroll:{current:null},search:{current:null},searchInput:{current:null},skinToneButton:{current:null},skinToneRadio:{current:null}},this.initGrid(),0==this.props.stickySearch&&"sticky"==this.props.searchPosition&&(console.warn("[EmojiMart] Deprecation warning: `stickySearch` has been renamed `searchPosition`."),this.props.searchPosition="static")}componentDidMount(){if(this.register(),this.shadowRoot=this.base.parentNode,this.props.autoFocus){const{searchInput:e}=this.refs;e.current&&e.current.focus()}}componentWillReceiveProps(e){this.nextState||(this.nextState={});for(const t in e)this.nextState[t]=e[t];clearTimeout(this.nextStateTimer),this.nextStateTimer=setTimeout((()=>{let e=!1;for(const n in this.nextState)this.props[n]=this.nextState[n],"custom"!==n&&"categories"!==n||(e=!0);delete this.nextState;const t=this.getInitialState();if(e)return this.reset(t);this.setState(t)}))}componentWillUnmount(){this.unregister()}async reset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await Nve(this.props),this.initGrid(),this.unobserve(),this.setState(e,(()=>{this.observeCategories(),this.observeRows()}))}register(){document.addEventListener("click",this.handleClickOutside),this.observe()}unregister(){document.removeEventListener("click",this.handleClickOutside),this.darkMedia?.removeEventListener("change",this.darkMediaCallback),this.unobserve()}observe(){this.observeCategories(),this.observeRows()}unobserve(){let{except:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Array.isArray(e)||(e=[e]);for(const t of this.observers)e.includes(t)||t.disconnect();this.observers=[].concat(e)}initGrid(){const{categories:e}=Pve;this.refs.categories=new Map;const t=Pve.categories.map((e=>e.id)).join(",");this.navKey&&this.navKey!=t&&this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0),this.navKey=t,this.grid=[],this.grid.setsize=0;const n=(e,t)=>{const n=[];n.__categoryId=t.id,n.__index=e.length,this.grid.push(n);const r=this.grid.length-1,i=r%Obe?{}:{current:null};return i.index=r,i.posinset=this.grid.setsize+1,e.push(i),n};for(let r of e){const e=[];let t=n(e,r);for(let i of r.emojis)t.length==this.getPerLine()&&(t=n(e,r)),this.grid.setsize+=1,t.push(i);this.refs.categories.set(r.id,{root:{current:null},rows:e})}}initTheme(e){if("auto"!=e)return e;if(!this.darkMedia){if(this.darkMedia=matchMedia("(prefers-color-scheme: dark)"),this.darkMedia.media.match(/^not/))return"light";this.darkMedia.addEventListener("change",this.darkMediaCallback)}return this.darkMedia.matches?"dark":"light"}initDynamicPerLine(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(!e.dynamicWidth)return;const{element:t,emojiButtonSize:n}=e,r=()=>{const{width:e}=t.getBoundingClientRect();return Math.floor(e/n)},i=new ResizeObserver((()=>{this.unobserve({except:i}),this.setState({perLine:r()},(()=>{this.initGrid(),this.forceUpdate((()=>{this.observeCategories(),this.observeRows()}))}))}));return i.observe(t),this.observers.push(i),r()}getPerLine(){return this.state.perLine||this.props.perLine}getEmojiByPos(e){let[t,n]=e;const r=this.state.searchResults||this.grid,i=r[t]&&r[t][n];if(i)return Vve.get(i)}observeCategories(){const e=this.refs.navigation.current;if(!e)return;const t=new Map,n={root:this.refs.scroll.current,threshold:[0,1]},r=new IntersectionObserver((n=>{for(const e of n){const n=e.target.dataset.id;t.set(n,e.intersectionRatio)}const r=[...t];for(const[t,o]of r)if(o){(i=t)!=e.state.categoryId&&e.setState({categoryId:i});break}var i}),n);for(const{root:i}of this.refs.categories.values())r.observe(i.current);this.observers.push(r)}observeRows(){const e={...this.state.visibleRows},t=new IntersectionObserver((t=>{for(const n of t){const t=parseInt(n.target.dataset.index);n.isIntersecting?e[t]=!0:delete e[t]}this.setState({visibleRows:e})}),{root:this.refs.scroll.current,rootMargin:`${this.props.emojiButtonSize*(Obe+5)}px 0px ${this.props.emojiButtonSize*Obe}px`});for(const{rows:n}of this.refs.categories.values())for(const e of n)e.current&&t.observe(e.current);this.observers.push(t)}preventDefault(e){e.preventDefault()}unfocusSearch(){const e=this.refs.searchInput.current;e&&e.blur()}navigate(e){let{e:t,input:n,left:r,right:i,up:o,down:s}=e;const a=this.state.searchResults||this.grid;if(!a.length)return;let[l,c]=this.state.pos;const u=(()=>{if(0==l&&0==c&&!t.repeat&&(r||o))return null;if(-1==l)return t.repeat||!i&&!s||n.selectionStart!=n.value.length?null:[0,0];if(r||i){let e=a[l];const t=r?-1:1;if(c+=t,!e[c]){if(l+=t,e=a[l],!e)return l=r?0:a.length-1,c=r?0:a[l].length-1,[l,c];c=r?e.length-1:0}return[l,c]}if(o||s){l+=o?-1:1;const e=a[l];return e?(e[c]||(c=e.length-1),[l,c]):(l=o?0:a.length-1,c=o?0:a[l].length-1,[l,c])}})();u?(t.preventDefault(),this.setState({pos:u,keyboard:!0},(()=>{this.scrollTo({row:u[0]})}))):this.state.pos[0]>-1&&this.setState({pos:[-1,-1]})}scrollTo(e){let{categoryId:t,row:n}=e;const r=this.state.searchResults||this.grid;if(!r.length)return;const i=this.refs.scroll.current,o=i.getBoundingClientRect();let s=0;if(n>=0&&(t=r[n].__categoryId),t){s=(this.refs[t]||this.refs.categories.get(t).root).current.getBoundingClientRect().top-(o.top-i.scrollTop)+1}if(n>=0)if(n){const e=s+r[n].__index*this.props.emojiButtonSize,t=e+this.props.emojiButtonSize+.88*this.props.emojiButtonSize;if(e<i.scrollTop)s=e;else{if(!(t>i.scrollTop+o.height))return;s=t-o.height}}else s=0;this.ignoreMouse(),i.scrollTop=s}ignoreMouse(){this.mouseIsIgnored=!0,clearTimeout(this.ignoreMouseTimer),this.ignoreMouseTimer=setTimeout((()=>{delete this.mouseIsIgnored}),100)}handleEmojiOver(e){this.mouseIsIgnored||this.state.showSkins||this.setState({pos:e||[-1,-1],keyboard:!1})}handleEmojiClick(e){let{e:t,emoji:n,pos:r}=e;if(this.props.onEmojiSelect&&(!n&&r&&(n=this.getEmojiByPos(r)),n)){const e=$ve(n,{skinIndex:this.state.skin-1});this.props.maxFrequentRows&&Tve.add(e,this.props),this.props.onEmojiSelect(e,t)}}closeSkins(){this.state.showSkins&&(this.setState({showSkins:null,tempSkin:null}),this.base.removeEventListener("click",this.handleBaseClick),this.base.removeEventListener("keydown",this.handleBaseKeydown))}handleSkinMouseOver(e){this.setState({tempSkin:e})}handleSkinClick(e){this.ignoreMouse(),this.closeSkins(),this.setState({skin:e,tempSkin:null}),yve.set("skin",e)}renderNav(){return bve(Dbe,{ref:this.refs.navigation,icons:this.props.icons,theme:this.state.theme,dir:this.dir,unfocused:!!this.state.searchResults,position:this.props.navPosition,onClick:this.handleCategoryClick},this.navKey)}renderPreview(){const e=this.getEmojiByPos(this.state.pos),t=this.state.searchResults&&!this.state.searchResults.length;return bve("div",{id:"preview",class:"flex flex-middle",dir:this.dir,"data-position":this.props.previewPosition,children:[bve("div",{class:"flex flex-middle flex-grow",children:[bve("div",{class:"flex flex-auto flex-middle flex-center",style:{height:this.props.emojiButtonSize,fontSize:this.props.emojiButtonSize},children:bve(Gve,{emoji:e,id:t?this.props.noResultsEmoji||"cry":this.props.previewEmoji||("top"==this.props.previewPosition?"point_down":"point_up"),set:this.props.set,size:this.props.emojiButtonSize,skin:this.state.tempSkin||this.state.skin,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})}),bve("div",{class:`margin-${this.dir[0]}`,children:bve("div",e||t?{class:`padding-${this.dir[2]} align-${this.dir[0]}`,children:[bve("div",{class:"preview-title ellipsis",children:e?e.name:Eve.search_no_results_1}),bve("div",{class:"preview-subtitle ellipsis color-c",children:e?e.skins[0].shortcodes:Eve.search_no_results_2})]}:{class:"preview-placeholder color-c",children:Eve.pick})})]}),!e&&"preview"==this.props.skinTonePosition&&this.renderSkinToneButton()]})}renderEmojiButton(e,t){let{pos:n,posinset:r,grid:i}=t;const o=this.props.emojiButtonSize,s=this.state.tempSkin||this.state.skin,a=(e.skins[s-1]||e.skins[0]).native,l=Hve(this.state.pos,n),c=n.concat(e.id).join("");return bve(jbe,{selected:l,skin:s,size:o,children:bve("button",{"aria-label":a,"aria-selected":l||void 0,"aria-posinset":r,"aria-setsize":i.setsize,"data-keyboard":this.state.keyboard,title:"none"==this.props.previewPosition?e.name:void 0,type:"button",class:"flex flex-center flex-middle",tabindex:"-1",onClick:t=>this.handleEmojiClick({e:t,emoji:e}),onMouseEnter:()=>this.handleEmojiOver(n),onMouseLeave:()=>this.handleEmojiOver(),style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize,fontSize:this.props.emojiSize,lineHeight:0},children:[bve("div",{"aria-hidden":"true",class:"background",style:{borderRadius:this.props.emojiButtonRadius,backgroundColor:this.props.emojiButtonColors?this.props.emojiButtonColors[(r-1)%this.props.emojiButtonColors.length]:void 0}}),bve(Gve,{emoji:e,set:this.props.set,size:this.props.emojiSize,skin:s,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})]})},c)}renderSearch(){const e="none"==this.props.previewPosition||"search"==this.props.skinTonePosition;return bve("div",{children:[bve("div",{class:"spacer"}),bve("div",{class:"flex flex-middle",children:[bve("div",{class:"search relative flex-grow",children:[bve("input",{type:"search",ref:this.refs.searchInput,placeholder:Eve.search,onClick:this.handleSearchClick,onInput:this.handleSearchInput,onKeyDown:this.handleSearchKeyDown,autoComplete:"off"}),bve("span",{class:"icon loupe flex",children:Yve.search.loupe}),this.state.searchResults&&bve("button",{title:"Clear","aria-label":"Clear",type:"button",class:"icon delete flex",onClick:this.clearSearch,onMouseDown:this.preventDefault,children:Yve.search.delete})]}),e&&this.renderSkinToneButton()]})]})}renderSearchResults(){const{searchResults:e}=this.state;return e?bve("div",{class:"category",ref:this.refs.search,children:[bve("div",{class:`sticky padding-small align-${this.dir[0]}`,children:Eve.categories.search}),bve("div",{children:e.length?e.map(((t,n)=>bve("div",{class:"flex",children:t.map(((t,r)=>this.renderEmojiButton(t,{pos:[n,r],posinset:n*this.props.perLine+r+1,grid:e})))}))):bve("div",{class:`padding-small align-${this.dir[0]}`,children:this.props.onAddCustomEmoji&&bve("a",{onClick:this.props.onAddCustomEmoji,children:Eve.add_custom})})})]}):null}renderCategories(){const{categories:e}=Pve,t=!!this.state.searchResults,n=this.getPerLine();return bve("div",{style:{visibility:t?"hidden":void 0,display:t?"none":void 0,height:"100%"},children:e.map((e=>{const{root:t,rows:r}=this.refs.categories.get(e.id);return bve("div",{"data-id":e.target?e.target.id:e.id,class:"category",ref:t,children:[bve("div",{class:`sticky padding-small align-${this.dir[0]}`,children:e.name||Eve.categories[e.id]}),bve("div",{class:"relative",style:{height:r.length*this.props.emojiButtonSize},children:r.map(((t,r)=>{const i=t.index-t.index%Obe,o=this.state.visibleRows[i],s="current"in t?t:void 0;if(!o&&!s)return null;const a=r*n,l=a+n,c=e.emojis.slice(a,l);return c.length<n&&c.push(...new Array(n-c.length)),bve("div",{"data-index":t.index,ref:s,class:"flex row",style:{top:r*this.props.emojiButtonSize},children:o&&c.map(((e,n)=>{if(!e)return bve("div",{style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize}});const r=Vve.get(e);return this.renderEmojiButton(r,{pos:[t.index,n],posinset:t.posinset+n,grid:this.grid})}))},t.index)}))})]})}))})}renderSkinToneButton(){return"none"==this.props.skinTonePosition?null:bve("div",{class:"flex flex-auto flex-center flex-middle",style:{position:"relative",width:this.props.emojiButtonSize,height:this.props.emojiButtonSize},children:bve("button",{type:"button",ref:this.refs.skinToneButton,class:"skin-tone-button flex flex-auto flex-center flex-middle","aria-selected":this.state.showSkins?"":void 0,"aria-label":Eve.skins.choose,title:Eve.skins.choose,onClick:this.openSkins,style:{width:this.props.emojiSize,height:this.props.emojiSize},children:bve("span",{class:`skin-tone skin-tone-${this.state.skin}`})})})}renderLiveRegion(){const e=this.getEmojiByPos(this.state.pos);return bve("div",{"aria-live":"polite",class:"sr-only",children:e?e.name:""})}renderSkins(){const e=this.refs.skinToneButton.current.getBoundingClientRect(),t=this.base.getBoundingClientRect(),n={};return"ltr"==this.dir?n.right=t.right-e.right-3:n.left=e.left-t.left-3,"bottom"==this.props.previewPosition&&"preview"==this.props.skinTonePosition?n.bottom=t.bottom-e.top+6:(n.top=e.bottom-t.top+3,n.bottom="auto"),bve("div",{ref:this.refs.menu,role:"radiogroup",dir:this.dir,"aria-label":Eve.skins.choose,class:"menu hidden","data-position":n.top?"top":"bottom",style:n,children:[...Array(6).keys()].map((e=>{const t=e+1,n=this.state.skin==t;return bve("div",{children:[bve("input",{type:"radio",name:"skin-tone",value:t,"aria-label":Eve.skins[t],ref:n?this.refs.skinToneRadio:null,defaultChecked:n,onChange:()=>this.handleSkinMouseOver(t),onKeyDown:e=>{"Enter"!=e.code&&"Space"!=e.code&&"Tab"!=e.code||(e.preventDefault(),this.handleSkinClick(t))}}),bve("button",{"aria-hidden":"true",tabindex:"-1",onClick:()=>this.handleSkinClick(t),onMouseEnter:()=>this.handleSkinMouseOver(t),onMouseLeave:()=>this.handleSkinMouseOver(),class:"option flex flex-grow flex-middle",children:[bve("span",{class:`skin-tone skin-tone-${t}`}),bve("span",{class:"margin-small-lr",children:Eve.skins[t]})]})]})}))})}render(){const e=this.props.perLine*this.props.emojiButtonSize;return bve("section",{id:"root",class:"flex flex-column",dir:this.dir,style:{width:this.props.dynamicWidth?"100%":`calc(${e}px + (var(--padding) + var(--sidebar-width)))`},"data-emoji-set":this.props.set,"data-theme":this.state.theme,"data-menu":this.state.showSkins?"":void 0,children:["top"==this.props.previewPosition&&this.renderPreview(),"top"==this.props.navPosition&&this.renderNav(),"sticky"==this.props.searchPosition&&bve("div",{class:"padding-lr",children:this.renderSearch()}),bve("div",{ref:this.refs.scroll,class:"scroll flex-grow padding-lr",children:bve("div",{style:{width:this.props.dynamicWidth?"100%":e,height:"100%"},children:["static"==this.props.searchPosition&&this.renderSearch(),this.renderSearchResults(),this.renderCategories()]})}),"bottom"==this.props.navPosition&&this.renderNav(),"bottom"==this.props.previewPosition&&this.renderPreview(),this.state.showSkins&&this.renderSkins(),this.renderLiveRegion()]})}constructor(e){super(),Nge(this,"darkMediaCallback",(()=>{"auto"==this.props.theme&&this.setState({theme:this.darkMedia.matches?"dark":"light"})})),Nge(this,"handleClickOutside",(e=>{const{element:t}=this.props;e.target!=t&&(this.state.showSkins&&this.closeSkins(),this.props.onClickOutside&&this.props.onClickOutside(e))})),Nge(this,"handleBaseClick",(e=>{this.state.showSkins&&(e.target.closest(".menu")||(e.preventDefault(),e.stopImmediatePropagation(),this.closeSkins()))})),Nge(this,"handleBaseKeydown",(e=>{this.state.showSkins&&"Escape"==e.key&&(e.preventDefault(),e.stopImmediatePropagation(),this.closeSkins())})),Nge(this,"handleSearchClick",(()=>{this.getEmojiByPos(this.state.pos)&&this.setState({pos:[-1,-1]})})),Nge(this,"handleSearchInput",(async()=>{const e=this.refs.searchInput.current;if(!e)return;const{value:t}=e,n=await Vve.search(t),r=()=>{this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0)};if(!n)return this.setState({searchResults:n,pos:[-1,-1]},r);const i=e.selectionStart==e.value.length?[0,0]:[-1,-1],o=[];o.setsize=n.length;let s=null;for(let a of n)o.length&&s.length!=this.getPerLine()||(s=[],s.__categoryId="search",s.__index=o.length,o.push(s)),s.push(a);this.ignoreMouse(),this.setState({searchResults:o,pos:i},r)})),Nge(this,"handleSearchKeyDown",(e=>{const t=e.currentTarget;switch(e.stopImmediatePropagation(),e.key){case"ArrowLeft":this.navigate({e:e,input:t,left:!0});break;case"ArrowRight":this.navigate({e:e,input:t,right:!0});break;case"ArrowUp":this.navigate({e:e,input:t,up:!0});break;case"ArrowDown":this.navigate({e:e,input:t,down:!0});break;case"Enter":e.preventDefault(),this.handleEmojiClick({e:e,pos:this.state.pos});break;case"Escape":e.preventDefault(),this.state.searchResults?this.clearSearch():this.unfocusSearch()}})),Nge(this,"clearSearch",(()=>{const e=this.refs.searchInput.current;e&&(e.value="",e.focus(),this.handleSearchInput())})),Nge(this,"handleCategoryClick",(e=>{let{category:t,i:n}=e;this.scrollTo(0==n?{row:-1}:{categoryId:t.id})})),Nge(this,"openSkins",(e=>{const{currentTarget:t}=e,n=t.getBoundingClientRect();this.setState({showSkins:n},(async()=>{await Uve(2);const e=this.refs.menu.current;e&&(e.classList.remove("hidden"),this.refs.skinToneRadio.current.focus(),this.base.addEventListener("click",this.handleBaseClick,!0),this.base.addEventListener("keydown",this.handleBaseKeydown,!0))}))})),this.observers=[],this.state={pos:[-1,-1],perLine:this.initDynamicPerLine(e),visibleRows:{0:!0},...this.getInitialState(e)}}}class Lbe extends Zve{async connectedCallback(){const e=Bve(this.props,Mve,this);e.element=this,e.ref=e=>{this.component=e},await Nve(e),this.disconnected||gve(bve(Rbe,{...e}),this.shadowRoot)}constructor(e){super(e,{styles:Lge(Nbe)})}}Nge(Lbe,"Props",Mve),"undefined"===typeof customElements||customElements.get("em-emoji-picker")||customElements.define("em-emoji-picker",Lbe);var Nbe={};function Bbe(e){const t=(0,i.useRef)(null),n=(0,i.useRef)(null);return n.current&&n.current.update(e),(0,i.useEffect)((()=>(n.current=new Lbe({...e,ref:t}),()=>{n.current=null})),[]),i.createElement("div",{ref:t})}Nbe=':host {\n  width: min-content;\n  height: 435px;\n  min-height: 230px;\n  border-radius: var(--border-radius);\n  box-shadow: var(--shadow);\n  --border-radius: 10px;\n  --category-icon-size: 18px;\n  --font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;\n  --font-size: 15px;\n  --preview-placeholder-size: 21px;\n  --preview-title-size: 1.1em;\n  --preview-subtitle-size: .9em;\n  --shadow-color: 0deg 0% 0%;\n  --shadow: .3px .5px 2.7px hsl(var(--shadow-color) / .14), .4px .8px 1px -3.2px hsl(var(--shadow-color) / .14), 1px 2px 2.5px -4.5px hsl(var(--shadow-color) / .14);\n  display: flex;\n}\n\n[data-theme="light"] {\n  --em-rgb-color: var(--rgb-color, 34, 36, 39);\n  --em-rgb-accent: var(--rgb-accent, 34, 102, 237);\n  --em-rgb-background: var(--rgb-background, 255, 255, 255);\n  --em-rgb-input: var(--rgb-input, 255, 255, 255);\n  --em-color-border: var(--color-border, rgba(0, 0, 0, .05));\n  --em-color-border-over: var(--color-border-over, rgba(0, 0, 0, .1));\n}\n\n[data-theme="dark"] {\n  --em-rgb-color: var(--rgb-color, 222, 222, 221);\n  --em-rgb-accent: var(--rgb-accent, 58, 130, 247);\n  --em-rgb-background: var(--rgb-background, 21, 22, 23);\n  --em-rgb-input: var(--rgb-input, 0, 0, 0);\n  --em-color-border: var(--color-border, rgba(255, 255, 255, .1));\n  --em-color-border-over: var(--color-border-over, rgba(255, 255, 255, .2));\n}\n\n#root {\n  --color-a: rgb(var(--em-rgb-color));\n  --color-b: rgba(var(--em-rgb-color), .65);\n  --color-c: rgba(var(--em-rgb-color), .45);\n  --padding: 12px;\n  --padding-small: calc(var(--padding) / 2);\n  --sidebar-width: 16px;\n  --duration: 225ms;\n  --duration-fast: 125ms;\n  --duration-instant: 50ms;\n  --easing: cubic-bezier(.4, 0, .2, 1);\n  width: 100%;\n  text-align: left;\n  border-radius: var(--border-radius);\n  background-color: rgb(var(--em-rgb-background));\n  position: relative;\n}\n\n@media (prefers-reduced-motion) {\n  #root {\n    --duration: 0;\n    --duration-fast: 0;\n    --duration-instant: 0;\n  }\n}\n\n#root[data-menu] button {\n  cursor: auto;\n}\n\n#root[data-menu] .menu button {\n  cursor: pointer;\n}\n\n:host, #root, input, button {\n  color: rgb(var(--em-rgb-color));\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  line-height: normal;\n}\n\n*, :before, :after {\n  box-sizing: border-box;\n  min-width: 0;\n  margin: 0;\n  padding: 0;\n}\n\n.relative {\n  position: relative;\n}\n\n.flex {\n  display: flex;\n}\n\n.flex-auto {\n  flex: none;\n}\n\n.flex-center {\n  justify-content: center;\n}\n\n.flex-column {\n  flex-direction: column;\n}\n\n.flex-grow {\n  flex: auto;\n}\n\n.flex-middle {\n  align-items: center;\n}\n\n.flex-wrap {\n  flex-wrap: wrap;\n}\n\n.padding {\n  padding: var(--padding);\n}\n\n.padding-t {\n  padding-top: var(--padding);\n}\n\n.padding-lr {\n  padding-left: var(--padding);\n  padding-right: var(--padding);\n}\n\n.padding-r {\n  padding-right: var(--padding);\n}\n\n.padding-small {\n  padding: var(--padding-small);\n}\n\n.padding-small-b {\n  padding-bottom: var(--padding-small);\n}\n\n.padding-small-lr {\n  padding-left: var(--padding-small);\n  padding-right: var(--padding-small);\n}\n\n.margin {\n  margin: var(--padding);\n}\n\n.margin-r {\n  margin-right: var(--padding);\n}\n\n.margin-l {\n  margin-left: var(--padding);\n}\n\n.margin-small-l {\n  margin-left: var(--padding-small);\n}\n\n.margin-small-lr {\n  margin-left: var(--padding-small);\n  margin-right: var(--padding-small);\n}\n\n.align-l {\n  text-align: left;\n}\n\n.align-r {\n  text-align: right;\n}\n\n.color-a {\n  color: var(--color-a);\n}\n\n.color-b {\n  color: var(--color-b);\n}\n\n.color-c {\n  color: var(--color-c);\n}\n\n.ellipsis {\n  white-space: nowrap;\n  max-width: 100%;\n  width: auto;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.sr-only {\n  width: 1px;\n  height: 1px;\n  position: absolute;\n  top: auto;\n  left: -10000px;\n  overflow: hidden;\n}\n\na {\n  cursor: pointer;\n  color: rgb(var(--em-rgb-accent));\n}\n\na:hover {\n  text-decoration: underline;\n}\n\n.spacer {\n  height: 10px;\n}\n\n[dir="rtl"] .scroll {\n  padding-left: 0;\n  padding-right: var(--padding);\n}\n\n.scroll {\n  padding-right: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n.scroll::-webkit-scrollbar {\n  width: var(--sidebar-width);\n  height: var(--sidebar-width);\n}\n\n.scroll::-webkit-scrollbar-track {\n  border: 0;\n}\n\n.scroll::-webkit-scrollbar-button {\n  width: 0;\n  height: 0;\n  display: none;\n}\n\n.scroll::-webkit-scrollbar-corner {\n  background-color: rgba(0, 0, 0, 0);\n}\n\n.scroll::-webkit-scrollbar-thumb {\n  min-height: 20%;\n  min-height: 65px;\n  border: 4px solid rgb(var(--em-rgb-background));\n  border-radius: 8px;\n}\n\n.scroll::-webkit-scrollbar-thumb:hover {\n  background-color: var(--em-color-border-over) !important;\n}\n\n.scroll:hover::-webkit-scrollbar-thumb {\n  background-color: var(--em-color-border);\n}\n\n.sticky {\n  z-index: 1;\n  background-color: rgba(var(--em-rgb-background), .9);\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n  font-weight: 500;\n  position: sticky;\n  top: -1px;\n}\n\n[dir="rtl"] .search input[type="search"] {\n  padding: 10px 2.2em 10px 2em;\n}\n\n[dir="rtl"] .search .loupe {\n  left: auto;\n  right: .7em;\n}\n\n[dir="rtl"] .search .delete {\n  left: .7em;\n  right: auto;\n}\n\n.search {\n  z-index: 2;\n  position: relative;\n}\n\n.search input, .search button {\n  font-size: calc(var(--font-size)  - 1px);\n}\n\n.search input[type="search"] {\n  width: 100%;\n  background-color: var(--em-color-border);\n  transition-duration: var(--duration);\n  transition-property: background-color, box-shadow;\n  transition-timing-function: var(--easing);\n  border: 0;\n  border-radius: 10px;\n  outline: 0;\n  padding: 10px 2em 10px 2.2em;\n  display: block;\n}\n\n.search input[type="search"]::-ms-input-placeholder {\n  color: inherit;\n  opacity: .6;\n}\n\n.search input[type="search"]::placeholder {\n  color: inherit;\n  opacity: .6;\n}\n\n.search input[type="search"], .search input[type="search"]::-webkit-search-decoration, .search input[type="search"]::-webkit-search-cancel-button, .search input[type="search"]::-webkit-search-results-button, .search input[type="search"]::-webkit-search-results-decoration {\n  -webkit-appearance: none;\n  -ms-appearance: none;\n  appearance: none;\n}\n\n.search input[type="search"]:focus {\n  background-color: rgb(var(--em-rgb-input));\n  box-shadow: inset 0 0 0 1px rgb(var(--em-rgb-accent)), 0 1px 3px rgba(65, 69, 73, .2);\n}\n\n.search .icon {\n  z-index: 1;\n  color: rgba(var(--em-rgb-color), .7);\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n}\n\n.search .loupe {\n  pointer-events: none;\n  left: .7em;\n}\n\n.search .delete {\n  right: .7em;\n}\n\nsvg {\n  fill: currentColor;\n  width: 1em;\n  height: 1em;\n}\n\nbutton {\n  -webkit-appearance: none;\n  -ms-appearance: none;\n  appearance: none;\n  cursor: pointer;\n  color: currentColor;\n  background-color: rgba(0, 0, 0, 0);\n  border: 0;\n}\n\n#nav {\n  z-index: 2;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  padding-right: var(--sidebar-width);\n  position: relative;\n}\n\n#nav button {\n  color: var(--color-b);\n  transition: color var(--duration) var(--easing);\n}\n\n#nav button:hover {\n  color: var(--color-a);\n}\n\n#nav svg, #nav img {\n  width: var(--category-icon-size);\n  height: var(--category-icon-size);\n}\n\n#nav[dir="rtl"] .bar {\n  left: auto;\n  right: 0;\n}\n\n#nav .bar {\n  width: 100%;\n  height: 3px;\n  background-color: rgb(var(--em-rgb-accent));\n  transition: transform var(--duration) var(--easing);\n  border-radius: 3px 3px 0 0;\n  position: absolute;\n  bottom: -12px;\n  left: 0;\n}\n\n#nav button[aria-selected] {\n  color: rgb(var(--em-rgb-accent));\n}\n\n#preview {\n  z-index: 2;\n  padding: calc(var(--padding)  + 4px) var(--padding);\n  padding-right: var(--sidebar-width);\n  position: relative;\n}\n\n#preview .preview-placeholder {\n  font-size: var(--preview-placeholder-size);\n}\n\n#preview .preview-title {\n  font-size: var(--preview-title-size);\n}\n\n#preview .preview-subtitle {\n  font-size: var(--preview-subtitle-size);\n}\n\n#nav:before, #preview:before {\n  content: "";\n  height: 2px;\n  position: absolute;\n  left: 0;\n  right: 0;\n}\n\n#nav[data-position="top"]:before, #preview[data-position="top"]:before {\n  background: linear-gradient(to bottom, var(--em-color-border), transparent);\n  top: 100%;\n}\n\n#nav[data-position="bottom"]:before, #preview[data-position="bottom"]:before {\n  background: linear-gradient(to top, var(--em-color-border), transparent);\n  bottom: 100%;\n}\n\n.category:last-child {\n  min-height: calc(100% + 1px);\n}\n\n.category button {\n  font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, sans-serif;\n  position: relative;\n}\n\n.category button > * {\n  position: relative;\n}\n\n.category button .background {\n  opacity: 0;\n  background-color: var(--em-color-border);\n  transition: opacity var(--duration-fast) var(--easing) var(--duration-instant);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.category button:hover .background {\n  transition-duration: var(--duration-instant);\n  transition-delay: 0s;\n}\n\n.category button[aria-selected] .background {\n  opacity: 1;\n}\n\n.category button[data-keyboard] .background {\n  transition: none;\n}\n\n.row {\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.skin-tone-button {\n  border: 1px solid rgba(0, 0, 0, 0);\n  border-radius: 100%;\n}\n\n.skin-tone-button:hover {\n  border-color: var(--em-color-border);\n}\n\n.skin-tone-button:active .skin-tone {\n  transform: scale(.85) !important;\n}\n\n.skin-tone-button .skin-tone {\n  transition: transform var(--duration) var(--easing);\n}\n\n.skin-tone-button[aria-selected] {\n  background-color: var(--em-color-border);\n  border-top-color: rgba(0, 0, 0, .05);\n  border-bottom-color: rgba(0, 0, 0, 0);\n  border-left-width: 0;\n  border-right-width: 0;\n}\n\n.skin-tone-button[aria-selected] .skin-tone {\n  transform: scale(.9);\n}\n\n.menu {\n  z-index: 2;\n  white-space: nowrap;\n  border: 1px solid var(--em-color-border);\n  background-color: rgba(var(--em-rgb-background), .9);\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n  transition-property: opacity, transform;\n  transition-duration: var(--duration);\n  transition-timing-function: var(--easing);\n  border-radius: 10px;\n  padding: 4px;\n  position: absolute;\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, .05);\n}\n\n.menu.hidden {\n  opacity: 0;\n}\n\n.menu[data-position="bottom"] {\n  transform-origin: 100% 100%;\n}\n\n.menu[data-position="bottom"].hidden {\n  transform: scale(.9)rotate(-3deg)translateY(5%);\n}\n\n.menu[data-position="top"] {\n  transform-origin: 100% 0;\n}\n\n.menu[data-position="top"].hidden {\n  transform: scale(.9)rotate(3deg)translateY(-5%);\n}\n\n.menu input[type="radio"] {\n  clip: rect(0 0 0 0);\n  width: 1px;\n  height: 1px;\n  border: 0;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  overflow: hidden;\n}\n\n.menu input[type="radio"]:checked + .option {\n  box-shadow: 0 0 0 2px rgb(var(--em-rgb-accent));\n}\n\n.option {\n  width: 100%;\n  border-radius: 6px;\n  padding: 4px 6px;\n}\n\n.option:hover {\n  color: #fff;\n  background-color: rgb(var(--em-rgb-accent));\n}\n\n.skin-tone {\n  width: 16px;\n  height: 16px;\n  border-radius: 100%;\n  display: inline-block;\n  position: relative;\n  overflow: hidden;\n}\n\n.skin-tone:after {\n  content: "";\n  mix-blend-mode: overlay;\n  background: linear-gradient(rgba(255, 255, 255, .2), rgba(0, 0, 0, 0));\n  border: 1px solid rgba(0, 0, 0, .8);\n  border-radius: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  box-shadow: inset 0 -2px 3px #000, inset 0 1px 2px #fff;\n}\n\n.skin-tone-1 {\n  background-color: #ffc93a;\n}\n\n.skin-tone-2 {\n  background-color: #ffdab7;\n}\n\n.skin-tone-3 {\n  background-color: #e7b98f;\n}\n\n.skin-tone-4 {\n  background-color: #c88c61;\n}\n\n.skin-tone-5 {\n  background-color: #a46134;\n}\n\n.skin-tone-6 {\n  background-color: #5d4437;\n}\n\n[data-index] {\n  justify-content: space-between;\n}\n\n[data-emoji-set="twitter"] .skin-tone:after {\n  box-shadow: none;\n  border-color: rgba(0, 0, 0, .5);\n}\n\n[data-emoji-set="twitter"] .skin-tone-1 {\n  background-color: #fade72;\n}\n\n[data-emoji-set="twitter"] .skin-tone-2 {\n  background-color: #f3dfd0;\n}\n\n[data-emoji-set="twitter"] .skin-tone-3 {\n  background-color: #eed3a8;\n}\n\n[data-emoji-set="twitter"] .skin-tone-4 {\n  background-color: #cfad8d;\n}\n\n[data-emoji-set="twitter"] .skin-tone-5 {\n  background-color: #a8805d;\n}\n\n[data-emoji-set="twitter"] .skin-tone-6 {\n  background-color: #765542;\n}\n\n[data-emoji-set="google"] .skin-tone:after {\n  box-shadow: inset 0 0 2px 2px rgba(0, 0, 0, .4);\n}\n\n[data-emoji-set="google"] .skin-tone-1 {\n  background-color: #f5c748;\n}\n\n[data-emoji-set="google"] .skin-tone-2 {\n  background-color: #f1d5aa;\n}\n\n[data-emoji-set="google"] .skin-tone-3 {\n  background-color: #d4b48d;\n}\n\n[data-emoji-set="google"] .skin-tone-4 {\n  background-color: #aa876b;\n}\n\n[data-emoji-set="google"] .skin-tone-5 {\n  background-color: #916544;\n}\n\n[data-emoji-set="google"] .skin-tone-6 {\n  background-color: #61493f;\n}\n\n[data-emoji-set="facebook"] .skin-tone:after {\n  border-color: rgba(0, 0, 0, .4);\n  box-shadow: inset 0 -2px 3px #000, inset 0 1px 4px #fff;\n}\n\n[data-emoji-set="facebook"] .skin-tone-1 {\n  background-color: #f5c748;\n}\n\n[data-emoji-set="facebook"] .skin-tone-2 {\n  background-color: #f1d5aa;\n}\n\n[data-emoji-set="facebook"] .skin-tone-3 {\n  background-color: #d4b48d;\n}\n\n[data-emoji-set="facebook"] .skin-tone-4 {\n  background-color: #aa876b;\n}\n\n[data-emoji-set="facebook"] .skin-tone-5 {\n  background-color: #916544;\n}\n\n[data-emoji-set="facebook"] .skin-tone-6 {\n  background-color: #61493f;\n}\n\n';var Fbe=n(6237);const zbe=e=>{let{message:t,setMessage:n,handleSendMessage:r,handleKeyPress:o}=e;const[s,a]=(0,i.useState)(!1),l=(0,i.useRef)(null);return(0,je.jsxs)(Pt,{container:!0,sx:{backgroundColor:"#F0F0F0",padding:1.5,borderRadius:"0px 0px 10px 10px",borderTop:"1px solid #c1c1c1"},children:[(0,je.jsxs)(Pt,{item:!0,xs:10,sm:11,children:[(0,je.jsx)(Mv,{fullWidth:!0,variant:"outlined",placeholder:"\uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694",value:t,onChange:e=>n(e.target.value),onKeyPress:o,inputRef:l,InputProps:{startAdornment:(0,je.jsx)(Cx,{position:"start",children:(0,je.jsx)(eo,{color:"primary",onClick:()=>{a((e=>!e))},children:(0,je.jsx)(Rge.A,{sx:{color:"grey",fontSize:32}})})})},sx:{backgroundColor:"white",fontSize:"0.9rem"}}),s&&(0,je.jsx)(We,{sx:{position:"absolute",bottom:60},children:(0,je.jsx)(Bbe,{onEmojiSelect:e=>{if(e&&l.current){const r=l.current.selectionStart||0,i=l.current.selectionEnd||0,o=t.slice(0,r)+e.native+t.slice(i);n(o),setTimeout((()=>{l.current.selectionStart=l.current.selectionEnd=r+e.native.length,l.current.focus()}),0),a(!1)}}})})]}),(0,je.jsxs)(Pt,{item:!0,xs:0,sm:0,sx:{display:"flex",justifyContent:"flex-end"},children:[" ",(0,je.jsxs)(la,{variant:"contained",color:"primary",fullWidth:!0,onClick:r,sx:{backgroundColor:"#7c7c7c",width:57,height:57,aspectRatio:"0",margin:0,"&:hover":{backgroundColor:"#000000","& .MuiSvgIcon-root":{color:"#ffffff"}}},children:[(0,je.jsx)(Fbe.A,{})," "]})]})]})},Vbe=e=>{let{open:t,onClose:n,imageUrl:r}=e;i.useEffect((()=>{console.log("\ubaa8\ub2ec \uc5f4\ub9bc \uc0c1\ud0dc:",t)}),[t]);return(0,je.jsx)(Go,{open:t,onClose:()=>{console.log("\ubaa8\ub2ec \ubc30\uacbd \ud074\ub9ad"),n()},"aria-labelledby":"modal-title","aria-describedby":"modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"none",boxShadow:"none"},children:(0,je.jsxs)(We,{sx:{position:"relative",maxWidth:"90vw",maxHeight:"90vh",backgroundColor:"transparent",padding:0,border:"none",boxShadow:"none"},children:[(0,je.jsx)("img",{src:r,alt:"Full size",style:{width:"100%",height:"auto",maxHeight:"80vh",objectFit:"contain",border:"none",outline:"none"}}),(0,je.jsx)(eo,{onClick:()=>{console.log("\ubaa8\ub2ec \ub2eb\uae30 \ud074\ub9ad"),n()},sx:{position:"absolute",top:8,right:8,zIndex:10},children:(0,je.jsx)(Ea.A,{})})]})})},Wbe=()=>{console.log("ChatPage \ucef4\ud3ec\ub10c\ud2b8 \ub80c\ub354\ub9c1\ub428");const e=Q(),t=new URLSearchParams(e.search).get("clubNumber");console.log("\ucffc\ub9ac \ud30c\ub77c\ubbf8\ud130 clubNumber:",t);const n=bl(),[r,o]=(0,i.useState)(""),s=sl((e=>e.user.userData.user))._id,[a,l]=(0,i.useState)([]),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(0),[m,g]=(0,i.useState)(!0),[v,b]=(0,i.useState)(!0),[y,w]=(0,i.useState)(null),[x,_]=(0,i.useState)([]),[C,k]=(0,i.useState)(null),[S,A]=(0,i.useState)(!1),[T,I]=(0,i.useState)(!1);(0,i.useEffect)((()=>{if(console.log("useEffect \ud638\ucd9c\ub428"),console.log("\ud604\uc7ac clubNumber \uac12:",t),!t)return void console.error("Club number is not defined");(async()=>{try{console.log("fetchData \ud568\uc218 \ud638\ucd9c\ub428"),console.log("dispatch \ud638\ucd9c \uc804, \ud074\ub7fd \ubc88\ud638:",t);const e=await n(tme(t));console.log("dispatch \ud6c4, \uacb0\uacfc:",e);const r=e.payload;console.log(r),console.log(r.title),console.log(r.club.title),o(r.club.title);const i=[...(await n(nme(t))).payload].reverse();l(i),p(i.length)}catch(e){console.error("Error fetching data:",e)}})()}),[t,n]),console.log("\uc720\uc988\uc774\ud399\ud2b8\uc804\uc5d0"),(0,i.useEffect)((()=>{const e=Age("http://localhost:4000");return w(e),e.on("connect",(()=>{console.log("\uc18c\ucf13 \uc5f0\uacb0\ub428"),e.emit("joinRoom",{clubId:t}),e.on("message",(e=>{l((t=>[...t,e])),console.log("\uc9c4\uc9dc...."+t)}))})),()=>{e&&(e.off("message"),e.close())}}),[t,s]);const M=()=>{if(console.log("\uc18c\ucf13 \uc0c1\ud0dc:",y),console.log("\uba54\uc2dc\uc9c0 \ub0b4\uc6a9:",c.trim()),console.log("\uc774\ubbf8\uc9c0 \ud30c\uc77c:",x),console.log("\ud074\ub7fd \ubc88\ud638:",t),console.log("\uc720\uc800 ID:",s),y&&(c.trim()||x.length>0)){const e={clubId:t,senderId:s,content:c.trim(),images:x};y.emit("message",e),u(""),_([]),I(!0)}else console.error("\uba54\uc2dc\uc9c0 \ub0b4\uc6a9\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.")};return(0,je.jsxs)(gt,{maxWidth:"md",sx:{marginBottom:10,backgroundColor:"#ffffff",borderRadius:7,paddingBottom:7,paddingTop:7,height:"118vh",display:"flex",flexDirection:"column"},children:[(0,je.jsx)(Ige,{title:r,onFileUpload:async e=>{const n=new FormData;e.forEach((e=>{n.append("files",e)}));try{const e=(await ch.post("http://localhost:4000/clubs/chatimage/upload",n)).data.urls,r={clubId:t,senderId:s,content:"",images:e};y.emit("message",r)}catch(r){console.error("File upload failed:",r)}}}),(0,je.jsx)(Qo,{elevation:0,sx:{padding:2,height:"calc(100% - 95px)",display:"flex",flexDirection:"column",marginBottom:0,backgroundColor:"#a67153",borderRadius:"0px 0px 0px 0px"},children:(0,je.jsx)(Oge,{messages:a,userId:s,handleScroll:async e=>{const r=e.target,{scrollTop:i,scrollHeight:o,clientHeight:s}=r;if(0===i&&!d&&v){h(!0);const e=o;try{const i=(await n(rme({clubId:t,skip:f}))).payload;0===i.length?b(!1):(l((e=>[...i.reverse(),...e])),p((e=>e+i.length)),setTimeout((()=>{r.scrollTop=r.scrollHeight-e}),0))}catch(a){console.error("Error fetching older messages:",a)}finally{h(!1)}}g(i+s===o)},isAtBottom:m,onImageClick:e=>{k(e),A(!0)},newMessageReceived:T})}),(0,je.jsx)(zbe,{message:c,setMessage:u,handleSendMessage:M,handleKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),M())}}),(0,je.jsx)(Vbe,{open:S,onClose:()=>{A(!1),k(null)},imageUrl:C})]})},Hbe=()=>(0,je.jsx)(we,{children:(0,je.jsx)(be,{path:"/",element:(0,je.jsx)(Wbe,{})})});const Ube=function(){return(0,je.jsxs)(we,{children:[(0,je.jsx)(be,{path:"main/*",element:(0,je.jsx)(wM,{})}),(0,je.jsx)(be,{path:"board/*",element:(0,je.jsx)(dee,{})}),(0,je.jsx)(be,{path:"gallery/*",element:(0,je.jsx)(Zpe,{})}),(0,je.jsx)(be,{path:"meeting/*",element:(0,je.jsx)(Jpe,{})}),(0,je.jsx)(be,{path:"chat/*",element:(0,je.jsx)(Hbe,{})})]})};var $be=n(1929),Ybe=n.n($be);const Gbe=e=>{let{categories:t,onSelect:n,onClose:r,selectedCategories:o}=e;const[s,a]=(0,i.useState)(o),l=e=>{e.stopPropagation(),r()};return(0,je.jsx)(We,{sx:{position:"fixed",inset:0,bgcolor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1300},onClick:l,children:(0,je.jsx)(Ybe(),{children:(0,je.jsxs)(We,{sx:{bgcolor:"background.paper",p:4,borderRadius:2,boxShadow:24,width:600,maxHeight:"80vh",overflow:"auto",position:"relative"},onClick:e=>e.stopPropagation(),children:[(0,je.jsx)(eo,{sx:{position:"absolute",top:16,right:16},onClick:l,children:(0,je.jsx)(Ea.A,{})}),(0,je.jsx)(Ks,{variant:"h6",gutterBottom:!0,children:"\uce74\ud14c\uace0\ub9ac \uc120\ud0dd"}),(0,je.jsx)(We,{sx:{p:2},children:Object.entries(t).map((e=>{let[t,n]=e;return(0,je.jsxs)(We,{sx:{mb:4},children:[(0,je.jsx)(Ks,{variant:"h6",sx:{mb:2},children:t}),(0,je.jsx)(We,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:n.map((e=>(0,je.jsx)(um,{color:"primary",onClick:n=>{n.stopPropagation(),((e,t)=>{if(s.some((n=>n.main===e&&n.sub===t)))a((n=>n.filter((n=>!(n.main===e&&n.sub===t)))));else{const n={main:e,sub:t};a((e=>[...e,n]))}})(t,e)},sx:{textTransform:"none",backgroundColor:s.some((n=>n.main===t&&n.sub===e))?"#A67153":"#DBC7B5",borderColor:"transparent","&:hover":{backgroundColor:s.some((n=>n.main===t&&n.sub===e))?"#A67153":"#DBC7B5",borderColor:"transparent"}},children:e},e)))})]},t)}))}),(0,je.jsx)(We,{sx:{position:"sticky",bottom:0,p:2,display:"flex",justifyContent:"flex-end",zIndex:1400,width:"130px",ml:"auto"},children:(0,je.jsxs)(We,{sx:{display:"flex",gap:2,justifyContent:"flex-end",width:"auto"},children:[(0,je.jsx)(hm,{variant:"contained",color:"primary",onClick:()=>{n(s),r()},children:"\ud655\uc778"}),(0,je.jsx)(um,{variant:"outlined",color:"secondary",onClick:l,sx:{borderColor:"transparent","&:hover":{borderColor:"transparent"}},children:"\ub2eb\uae30"})]})})]})})})},qbe={"\ud478\ub4dc\xb7\ub4dc\ub9c1\ud06c":["\ub9db\uc9d1\ud22c\uc5b4","\uce74\ud398","\uc640\uc778","\uc694\ub9ac","\ubca0\uc774\ud0b9","\uc704\uc2a4\ud0a4","\uce75\ud14c\uc77c","\ub514\uc800\ud2b8","\ub9e5\uc8fc","\ucee4\ud53c","\uc804\ud1b5\uc8fc","\ud30c\uc778\ub2e4\uc774\ub2dd","\ud398\uc5b4\ub9c1","\ube44\uac74","\ud2f0\ub8f8"],"\uc790\uae30\uacc4\ubc1c":["\ub3c5\uc11c","\uc2a4\ud130\ub514","\ub300\ud654","\ube0c\ub79c\ub529","\ucee4\ub9ac\uc5b4","\uc2a4\ud53c\uce58","\ucc3d\uc791","\uc0ac\uc774\ub4dc\ud504\ub85c\uc81d\ud2b8"],"\ucde8\ubbf8":["\uacf5\uc608","\ub4dc\ub85c\uc789","\uc0ac\uc9c4","\uae00\uc4f0\uae30","\ub304\uc2a4","\ub178\ub798","\uc74c\uc545\uac10\uc0c1","\ubd09\uc0ac\ud65c\ub3d9","\uc545\uae30\uc5f0\uc8fc","\ud5a5\uc218","\uba85\uc0c1","\ub9cc\ud654","\uc2a4\ud0c0\uc77c\ub9c1","\ubdf0\ud2f0","\ubc18\ub824\ub3d9\ubb3c","\uce98\ub9ac\uadf8\ub77c\ud53c","\uc1fc\ud551"],"\uc561\ud2f0\ube44\ud2f0":["\ub4f1\uc0b0","\uc2a4\ud3ec\uce20\uad00\ub78c","\uc0b0\ucc45","\uc57c\uad6c","\ud074\ub77c\uc774\ubc0d","\ub7ec\ub2dd","\uc694\uac00","\ubcfc\ub9c1","\ub2e4\uc774\uc5b4\ud2b8","\ubc30\ub4dc\ubbfc\ud134","\ud5ec\uc2a4","\uc11c\ud551","\ub2e4\uc774\ube59","\uc218\uc601","\ub18d\uad6c","\ud48b\uc0b4","\ucd95\uad6c","\uc790\uc804\uac70","\uc2a4\ucf00\uc774\ud2b8\ubcf4\ub4dc","\uc2a4\ud0a4/\ubcf4\ub4dc","\ud544\ub77c\ud14c\uc2a4","\uace8\ud504","\ud14c\ub2c8\uc2a4"],"\ud30c\ud2f0":["\ucee8\uc149\ud30c\ud2f0","\ud3ec\ud2c0\ub7ed\ud30c\ud2f0","\ud478\ub4dc\ud30c\ud2f0","\uc640\uc778\ud30c\ud2f0","\ud648\ud30c\ud2f0","\ub0b4\ud5a5\uc778\ud30c\ud2f0","\ubba4\uc9c1\ud30c\ud2f0","\uc0dd\uc77c\ud30c\ud2f0"],"\uc18c\uc15c\uac8c\uc784":["\ubcf4\ub4dc\uac8c\uc784","\ucd94\ub9ac\uac8c\uc784","\ucee8\uc149\uac8c\uc784","\ubc29\ud0c8\ucd9c","\uc628\ub77c\uc778\uac8c\uc784","\uc561\ud305\uac8c\uc784","\uc6b4\ub3d9\ud68c"],"\ubb38\ud654\xb7\uc608\uc220":["\uc804\uc2dc","\uc601\ud654","\ud398\uc2a4\ud2f0\ubc8c","\uc5f0\uadf9","\ucf58\uc11c\ud2b8","\ubba4\uc9c0\uceec","\ud31d\uc5c5","\uacf5\uc5f0","\uc5f0\uc8fc\ud68c"],"N\uc7a1\xb7\uc7ac\ud14c\ud06c":["\ubd80\ub3d9\uc0b0","N\uc7a1","\ucc3d\uc5c5","\ud22c\uc790/\uae08\uc735","\uacbd\uc81c","SNS","\ube14\ub85c\uadf8","\ubaa8\uc784\uc0ac\uc5c5","\uc8fc\uc2dd","\uc804\uc790\ucc45"],"\uc5f0\uc560\xb7\uc0ac\ub791":["\ub85c\ud14c\uc774\uc158\uc18c\uac1c\ud305","\ucf58\ud150\uce20\uc18c\uac1c\ud305","\uc5f0\uc560\ud0d0\uad6c\uc0dd\ud65c","\ucee8\uc149\uc18c\uac1c\ud305","\uc640\uc778\ubbf8\ud305","\ub300\ud654\ud615\uc18c\uac1c\ud305"],"\uc5ec\ud589\xb7\ub098\ub4e4\uc774":["\uad6d\ub0b4\uc5ec\ud589","\ud574\uc678\uc5ec\ud589","\ucea0\ud551","\ub180\uc774\uacf5\uc6d0","\ub4dc\ub77c\uc774\ube0c","\ud53c\ud06c\ub2c9","\ubcf5\ud569\ubb38\ud654\uacf5\uac04"],"\ub3d9\ub124\xb7\ub610\ub798":["\ub3d9\ub124\uce5c\uad6c","\ub610\ub798\uce5c\uad6c","\ucde8\ud5a5\uce5c\uad6c"],"\uc678\uad6d\uc5b4":["\uc601\uc5b4","\uc5b8\uc5b4\uad50\ud658","\uc77c\ubcf8\uc5b4","\uc911\uad6d\uc5b4"]},Xbe=e=>{let{jobCategories:t,onSelect:n,onClose:r,selectedJobs:o}=e;const[s,a]=(0,i.useState)(o),[l,c]=(0,i.useState)(""),u=e=>{e.stopPropagation(),r()};return(0,je.jsx)(We,{sx:{position:"fixed",inset:0,bgcolor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1300},onClick:u,children:(0,je.jsx)(Ybe(),{children:(0,je.jsxs)(We,{sx:{bgcolor:"background.paper",p:4,borderRadius:2,boxShadow:24,width:600,maxHeight:"80vh",overflow:"auto",position:"relative"},onClick:e=>e.stopPropagation(),children:[(0,je.jsx)(eo,{sx:{position:"absolute",top:16,right:16},onClick:u,children:(0,je.jsx)(Ea.A,{})}),(0,je.jsx)(Ks,{variant:"h6",gutterBottom:!0,children:"\uc9c1\ubb34 \uc120\ud0dd (\ucd5c\ub300 3\uac1c \uc120\ud0dd \uac00\ub2a5)"}),l&&(0,je.jsx)(Ks,{color:"error",gutterBottom:!0,children:l}),(0,je.jsx)(We,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:t.map((e=>(0,je.jsx)(um,{color:"primary",onClick:t=>{t.stopPropagation(),(e=>{s.includes(e)?a((t=>t.filter((t=>t!==e)))):s.length<3?(a((t=>[...t,e])),c("")):c("\ucd5c\ub300 3\uac1c\uc758 \uc9c1\ubb34\ub9cc \uc120\ud0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")})(e)},sx:{textTransform:"none",backgroundColor:s.includes(e)?"#A67153":"#DBC7B5",borderColor:"transparent","&:hover":{backgroundColor:s.includes(e)?"#A67153":"#DBC7B5",borderColor:"transparent"}},children:e},e)))}),(0,je.jsxs)(We,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mt:2},children:[(0,je.jsx)(hm,{variant:"contained",color:"primary",onClick:()=>{n(s),r()},children:"\ud655\uc778"}),(0,je.jsx)(um,{variant:"outlined",color:"secondary",onClick:u,sx:{borderColor:"transparent","&:hover":{borderColor:"transparent"}},children:"\ub2eb\uae30"})]})]})})})},Zbe=["\uae30\ud68d\xb7\uc804\ub7b5","\ub9c8\ucf00\ud305\xb7\ud64d\ubcf4\xb7\uc870\uc0ac","\ud68c\uacc4\xb7\uc138\ubb34\xb7\uc7ac\ubb34","\uc778\uc0ac\xb7\ub178\ubb34\xb7HRD","\ucd1d\ubb34\xb7\ubc95\ubb34\xb7\uc0ac\ubb34","IT\uac1c\ubc1c \ub370\uc774\ud130","\ub514\uc790\uc778","\uc601\uc5c5\xb7\ud310\ub9e4\xb7\ubb34\uc5ed","\uace0\uac1d\uc0c1\ub2f4\xb7TM","\uad6c\ub9e4\xb7\uc790\uc7ac\xb7\ubb3c\ub958","\uc0c1\ud488\uae30\ud68dMD","\uc6b4\uc804\xb7\uc6b4\uc1a1\xb7\ubc30\uc1a1","\uac74\uc124\xb7\uac74\ucd95","\uc758\ub8cc","\uc5f0\uad6c R&D","\uad50\uc721","\uc11c\ube44\uc2a4","\uc0dd\uc0b0","\ubbf8\ub514\uc5b4\xb7\ubb38\ud654\xb7\uc2a4\ud3ec\uce20","\uae08\uc735\xb7\ubcf4\ud5d8","\uacf5\uacf5\xb7\ubcf5\uc9c0"],Kbe=(0,ft.Ay)(Gv)((e=>{let{theme:t}=e;return{color:"#6E3C21","&.Mui-checked":{color:"#6E3C21"}}})),Qbe=e=>{let{label:t,checked:n,onChange:r,...i}=e;return(0,je.jsx)(n9,{control:(0,je.jsx)(Kbe,{checked:n,onChange:r,...i}),label:t})},Jbe=e=>{let{onClose:t,handleCheck:n,checked:r}=e;return(0,je.jsxs)(ya,{open:!0,onClose:t,PaperProps:{sx:{borderRadius:2,width:600,maxWidth:"100%"}},children:[(0,je.jsx)(ka,{children:"\ub9c8\ucf00\ud305 \ub3d9\uc758"}),(0,je.jsxs)(Ia,{sx:{display:"flex",flexDirection:"column",maxHeight:"60vh",overflowY:"auto",padding:2},children:[(0,je.jsx)(We,{sx:{flexGrow:1,mb:2},children:(0,je.jsx)(Ks,{variant:"body2",sx:{boxSizing:"border-box",borderRadius:1,border:"1px solid #d6d6d6",padding:2,height:"230px",overflowY:"auto",backgroundColor:"#f9f9f9"},children:"\uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4."})}),(0,je.jsx)(n9,{control:(0,je.jsx)(Qbe,{checked:r.marketing,onChange:()=>n("marketing"),color:"primary"}),label:"\ub9c8\ucf00\ud305 \uc815\ubcf4 \uc218\uc2e0\uc5d0 \ub3d9\uc758\ud569\ub2c8\ub2e4."})]}),(0,je.jsx)(GS,{children:(0,je.jsx)(la,{onClick:t,color:"primary",children:"\ub2eb\uae30"})})]})},eye=e=>{let{view:t}=e;const n=bl(),r=ee(),[o,s]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)("error"),m=()=>{s(!1)};return(0,je.jsx)(We,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",mx:"auto",width:"100%",maxWidth:"600px"},children:(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column"},children:["delete"===t&&(0,je.jsx)(We,{sx:{p:3,bgcolor:"white",borderRadius:2,boxShadow:3},children:(0,je.jsxs)(We,{sx:{mt:1,mb:1},children:[(0,je.jsx)(Ks,{variant:"body1",align:"center",mb:4,children:"\ud68c\uc6d0 \ud0c8\ud1f4\ub97c \uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}),(0,je.jsx)(la,{variant:"contained",color:"error",onClick:()=>{s(!0)},sx:{width:"100%",px:4,py:2,borderRadius:"8px"},children:"\ud0c8\ud1f4\ud558\uae30"})]})}),(0,je.jsx)(Go,{open:o,onClose:m,"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:(0,je.jsxs)(We,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",borderRadius:2,boxShadow:24,p:4},children:[(0,je.jsx)(Ks,{id:"modal-title",variant:"h6",component:"h2",align:"center",children:"\uc815\ub9d0\ub85c \ud68c\uc6d0 \ud0c8\ud1f4\ub97c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}),(0,je.jsxs)(Pt,{container:!0,spacing:2,sx:{mt:2},children:[(0,je.jsx)(Pt,{item:!0,xs:6,children:(0,je.jsx)(la,{variant:"outlined",fullWidth:!0,onClick:m,children:"\ucde8\uc18c"})}),(0,je.jsx)(Pt,{item:!0,xs:6,children:(0,je.jsx)(la,{variant:"contained",color:"error",fullWidth:!0,onClick:async()=>{l(!0);try{const e=await gh.put("/users/myPage/delete");console.log("\ud68c\uc6d0 \ud0c8\ud1f4 \uc694\uccad\uc774 \uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",e.data),h("\ud68c\uc6d0 \ud0c8\ud1f4\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),p("success"),u(!0),setTimeout((async()=>{try{await gh.post("/users/logout"),n(Ih()),r("/")}catch(e){console.error("\ub85c\uadf8\uc544\uc6c3 \uc911 \uc624\ub958 \ubc1c\uc0dd:",e),h("\ub85c\uadf8\uc544\uc6c3 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),p("error"),u(!0)}}),2e3)}catch(e){console.error("\ub85c\uadf8\uc544\uc6c3 \uc911 \uc624\ub958 \ubc1c\uc0dd:",e),h("\ub85c\uadf8\uc544\uc6c3 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),p("error"),u(!0)}finally{l(!1),s(!1)}},children:"\ud0c8\ud1f4\ud558\uae30"})})]})]})}),(0,je.jsx)(XI,{open:c,message:d,severity:"success",onClose:()=>{u(!1)}})]})})},tye=(0,hp.A)((0,je.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),nye=(0,hp.A)((0,je.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),rye=e=>{let{view:t}=e;const n=sl((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.user.email)||{}})),{register:r,handleSubmit:o,formState:{errors:s},watch:a}=wy({mode:"onChange"}),l=ee(),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1);console.log(s);const m={required:0,minLength:{value:8,message:"\ucd5c\uc18c 8\uc790\uc785\ub2c8\ub2e4."},validate:e=>e===a("password")||"\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."},[g,v]=(0,i.useState)(!1),[b,y]=(0,i.useState)(""),[w,x]=(0,i.useState)("error");return(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",maxWidth:600,mx:"auto"},children:[(0,je.jsx)(We,{sx:{display:"flex",flexDirection:"column",mb:2},children:"changePw"===t&&(0,je.jsxs)(je.Fragment,{children:[(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mb:2,mt:2},children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"password",sx:{fontWeight:"bold",color:"text.secondary",minWidth:100},children:"\ube44\ubc00\ubc88\ud638"}),(0,je.jsx)(Mv,{label:"\ube44\ubc00\ubc88\ud638",type:d?"text":"password",fullWidth:!0,variant:"outlined",...r("password",{required:"\ud544\uc218 \ud544\ub4dc\uc785\ub2c8\ub2e4.",minLength:{value:8,message:"\ucd5c\uc18c 8\uc790\uc785\ub2c8\ub2e4."},validate:e=>!!/^(?=.*[a-zA-Z\u3131-\uD79D])(?=.*[\W_]).{6,}$/.test(e)||"\uc548\uc804\ud55c \ube44\ubc00\ubc88\ud638\ub97c \uc704\ud574 \uc601\ubb38 \ub300/\uc18c\ubb38\uc790, \ud2b9\uc218\ubb38\uc790 \uc0ac\uc6a9\ud574 \uc8fc\uc138\uc694."}),sx:{flex:1,width:"400px"},error:!!s.password,helperText:s.password?s.password.message:"",InputProps:{endAdornment:(0,je.jsx)(Cx,{position:"end",children:(0,je.jsx)(eo,{onClick:()=>h(!d),edge:"end",children:d?(0,je.jsx)(tye,{}):(0,je.jsx)(nye,{})})})}})]}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"passwordCheck",sx:{fontWeight:"bold",color:"text.secondary",minWidth:100},children:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}),(0,je.jsx)(Mv,{label:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:f?"text":"password",fullWidth:!0,variant:"outlined",...r("passwordCheck",m),sx:{flex:1,width:"400px"},error:!!s.passwordCheck,helperText:s.passwordCheck?s.passwordCheck.message:"",InputProps:{endAdornment:(0,je.jsx)(Cx,{position:"end",children:(0,je.jsx)(eo,{onClick:()=>p(!f),edge:"end",children:f?(0,je.jsx)(tye,{}):(0,je.jsx)(nye,{})})})}})]}),(0,je.jsx)(hm,{variant:"contained",onClick:o((async e=>{console.log("\uc694\uccad \ub370\uc774\ud130:",e);try{(await gh.post("/users/change-password",{email:n,newPassword:e.password})).data.ok?(y("\ube44\ubc00\ubc88\ud638\uac00 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),x("success"),v(!0),setTimeout((()=>{l("/")}),2e3)):(u("\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),y("\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),x("error"),v(!0))}catch(t){console.error("\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd \uc624\ub958:",t),u("\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),y("\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),x("error"),v(!0)}})),sx:{mt:2},children:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"}),c&&(0,je.jsx)(Ks,{color:"error",sx:{mt:2},children:c})]})}),(0,je.jsx)(XI,{open:g,message:b,severity:"success",onClose:()=>{v(!1)}})]})},iye=e=>{let{setSelectedSido:t,setSelectedSigoon:n,setSelectedDong:r}=e;const[o,s]=(0,i.useState)([]),{formState:{errors:a},register:l,setValue:c,watch:u}=wy(),{user:d}=sl((e=>{var t;return(null===(t=e.user)||void 0===t?void 0:t.userData)||{}})),h=(null===d||void 0===d||d.homeLocation,u("searchTerm"));(0,i.useEffect)((()=>{h?fetch(`/api/req/data?service=data&request=GetFeature&data=LT_C_ADEMD_INFO&key=286E5CAE-A8D1-3D02-AB4E-2DF927614303&domain=localhost:3000&attrFilter=emd_kor_nm:like:${h}`).then((e=>e.json())).then((e=>{e.response&&"OK"===e.response.status&&e.response.result&&e.response.result.featureCollection.features?s(e.response.result.featureCollection.features.map((e=>e.properties))):s([])})).catch((e=>{s([])})):s([])}),[h]);const f=e=>{const[i,o,a]=e.full_nm.split(" ");t(i),n(o),r(a),s([]),c("searchTerm",e.full_nm)},p=(0,ft.Ay)(cA)((e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.palette.action.hover},cursor:"pointer"}}));return(0,je.jsxs)(We,{sx:{width:"100%"},children:[(0,je.jsx)(Mv,{id:"searchTerm",type:"text",fullWidth:!0,variant:"outlined",margin:"normal",...l("searchTerm",{pattern:{value:/^[\uac00-\ud7a3\s]*$/,message:"\ud55c\uae00\ub9cc \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4."}}),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),o.length>0&&f(o[0]))},onChange:e=>{c("searchTerm",e.target.value,{shouldValidate:!0})},placeholder:"*\uc74d\uba74\ub3d9 \uc911 \ud558\ub098 \uc785\ub825\ud574\uc8fc\uc138\uc694 \uc608) \uc0c1\ub3c4\ub3d9",sx:{bgcolor:"white"},error:!!a.searchTerm,helperText:a.searchTerm?a.searchTerm.message:""}),(0,je.jsx)(so,{sx:{mt:-1,pt:0,pb:0},children:o.map(((e,t)=>(0,je.jsx)(p,{onClick:()=>f(e),children:(0,je.jsx)(oM,{primary:e.full_nm})},t)))})]})},oye=e=>{let{setWorkplaceSido:t,setWorkplaceSigoon:n,setWorkplaceDong:r}=e;const[o,s]=(0,i.useState)([]),{formState:{errors:a},register:l,setValue:c,watch:u}=wy(),{user:d}=sl((e=>{var t;return(null===(t=e.user)||void 0===t?void 0:t.userData)||{}})),h=(null===d||void 0===d||d.workplace,u("workplaceSearchTerm"));(0,i.useEffect)((()=>{h?fetch(`/api/req/data?service=data&request=GetFeature&data=LT_C_ADEMD_INFO&key=286E5CAE-A8D1-3D02-AB4E-2DF927614303&domain=localhost:3000&attrFilter=emd_kor_nm:like:${h}`).then((e=>e.json())).then((e=>{e.response&&"OK"===e.response.status&&e.response.result&&e.response.result.featureCollection.features?s(e.response.result.featureCollection.features.map((e=>e.properties))):s([])})).catch((e=>{s([])})):s([])}),[h]);const f=e=>{const[i,o,a]=e.full_nm.split(" ");t(i),n(o),r(a),s([]),c("workplaceSearchTerm",e.full_nm)},p=(0,ft.Ay)(cA)((e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.palette.action.hover},cursor:"pointer"}}));return(0,je.jsxs)(We,{sx:{width:"100%"},children:[(0,je.jsx)(Mv,{id:"workplaceSearchTerm",type:"text",fullWidth:!0,variant:"outlined",margin:"normal",...l("workplaceSearchTerm",{pattern:{value:/^[\uac00-\ud7a3\s]*$/,message:"\ud55c\uae00\ub9cc \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4."}}),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),o.length>0&&f(o[0]))},onChange:e=>{c("workplaceSearchTerm",e.target.value,{shouldValidate:!0})},placeholder:"*\uc74d\uba74\ub3d9 \uc911 \ud558\ub098 \uc785\ub825\ud574\uc8fc\uc138\uc694 \uc608) \uc625\ucc9c\uba74",sx:{bgcolor:"white"},error:!!a.workplaceSearchTerm,helperText:a.workplaceSearchTerm?a.workplaceSearchTerm.message:""}),(0,je.jsx)(so,{sx:{mt:-1,pt:0,pb:0},children:o.map(((e,t)=>(0,je.jsx)(p,{onClick:()=>f(e),children:(0,je.jsx)(oM,{primary:e.full_nm})},t)))})]})},sye=e=>{let{setInterestSido:t,setInterestSigoon:n,setInterestDong:r}=e;const[o,s]=(0,i.useState)([]),{formState:{errors:a},register:l,setValue:c,watch:u}=wy(),{user:d}=sl((e=>{var t;return(null===(t=e.user)||void 0===t?void 0:t.userData)||{}})),h=(null===d||void 0===d||d.interestLocation,u("interestSearchTerm"));(0,i.useEffect)((()=>{h?fetch(`/api/req/data?service=data&request=GetFeature&data=LT_C_ADEMD_INFO&key=286E5CAE-A8D1-3D02-AB4E-2DF927614303&domain=localhost:3000&attrFilter=emd_kor_nm:like:${h}`).then((e=>e.json())).then((e=>{e.response&&"OK"===e.response.status&&e.response.result&&e.response.result.featureCollection.features?s(e.response.result.featureCollection.features.map((e=>e.properties))):s([])})).catch((e=>{s([])})):s([])}),[h]);const f=e=>{const[i,o,a]=e.full_nm.split(" ");t(i),n(o),r(a),s([]),c("interestSearchTerm",e.full_nm)},p=(0,ft.Ay)(cA)((e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.palette.action.hover},cursor:"pointer"}}));return(0,je.jsxs)(We,{sx:{width:"100%"},children:[(0,je.jsx)(Mv,{id:"interestSearchTerm",type:"text",fullWidth:!0,variant:"outlined",margin:"normal",...l("interestSearchTerm",{pattern:{value:/^[\uac00-\ud7a3\s]*$/,message:"\ud55c\uae00\ub9cc \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4."}}),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),o.length>0&&f(o[0]))},onChange:e=>{c("interestSearchTerm",e.target.value,{shouldValidate:!0})},placeholder:"*\uc74d\uba74\ub3d9 \uc911 \ud558\ub098 \uc785\ub825\ud574\uc8fc\uc138\uc694 \uc608) \uac15\ud654\uc74d",sx:{bgcolor:"white"},error:!!a.interestSearchTerm,helperText:a.interestSearchTerm?a.interestSearchTerm.message:""}),(0,je.jsx)(so,{sx:{mt:-1,pt:0,pb:0},children:o.map(((e,t)=>(0,je.jsx)(p,{onClick:()=>f(e),children:(0,je.jsx)(oM,{primary:e.full_nm})},t)))})]})},aye=e=>{let{view:t}=e;const n=sl((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.user)||{}})),{handleSubmit:r,formState:{errors:o},setValue:s}=wy({defaultValues:{homeLocation:n.homeLocation||{city:"",district:"",neighborhood:""},workplace:n.workplace||{city:"",district:"",neighborhood:""},interestLocation:n.interestLocation||{city:"",district:"",neighborhood:""}},mode:"onChange"}),a=ee(),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)("error"),[p,m]=(0,i.useState)({sido:"",sigoon:"",dong:""}),[g,v]=(0,i.useState)({w_sido:"",w_sigoon:"",w_dong:""}),[b,y]=(0,i.useState)({i_sido:"",i_sigoon:"",i_dong:""});return(0,i.useEffect)((()=>{s("homeLocation.sido",p.sido),s("homeLocation.sigoon",p.sigoon),s("homeLocation.dong",p.dong)}),[p,s]),(0,i.useEffect)((()=>{s("workplace.w_sido",g.w_sido),s("workplace.w_sigoon",g.w_sigoon),s("workplace.w_dong",g.w_dong)}),[g,s]),(0,i.useEffect)((()=>{s("interestLocation.i_sido",b.i_sido),s("interestLocation.i_sigoon",b.i_sigoon),s("interestLocation.i_dong",b.i_dong)}),[b,s]),(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",width:400,mx:"auto"},children:[(0,je.jsxs)(Ks,{variant:"body2",component:"label",htmlFor:"nickName",sx:{display:"flex",alignItems:"center",mb:2,p:2,border:"1px solid #ccc",borderRadius:"20px",textAlign:"center",backgroundColor:"#E8E4D8"},children:["\uc9d1 \uc8fc\uc18c : ",n.homeLocation?`${n.homeLocation.city} ${n.homeLocation.district} ${n.homeLocation.neighborhood}`:"\uc815\ubcf4 \uc5c6\uc74c"]}),"changeLocation"===t&&(0,je.jsxs)(We,{mb:2,children:[(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"nickName",sx:{fontWeight:"bold",color:"text.secondary",minWidth:100},children:"\ubcc0\uacbd\ud560 \uc9d1 \uc8fc\uc18c"}),(0,je.jsx)(iye,{setSelectedSido:e=>m((t=>({...t,sido:e}))),setSelectedSigoon:e=>m((t=>({...t,sigoon:e}))),setSelectedDong:e=>m((t=>({...t,dong:e})))})]}),(0,je.jsxs)(Ks,{variant:"body2",component:"label",htmlFor:"nickName",sx:{display:"flex",alignItems:"center",mb:2,p:2,border:"1px solid #ccc",borderRadius:"20px",textAlign:"center",backgroundColor:"#E8E4D8"},children:["\uc9c1\uc7a5 \uc8fc\uc18c :  ",n.workplace?`${n.workplace.city} ${n.workplace.district} ${n.workplace.neighborhood}`:"\uc815\ubcf4 \uc5c6\uc74c"]}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"nickName",sx:{fontWeight:"bold",color:"text.secondary",minWidth:100},children:"\ubcc0\uacbd\ud560 \uc9c1\uc7a5 \uc8fc\uc18c"}),(0,je.jsx)(oye,{setWorkplaceSido:e=>v((t=>({...t,w_sido:e}))),setWorkplaceSigoon:e=>v((t=>({...t,w_sigoon:e}))),setWorkplaceDong:e=>v((t=>({...t,w_dong:e})))})]}),(0,je.jsxs)(Ks,{variant:"body2",component:"label",htmlFor:"nickName",sx:{display:"flex",alignItems:"center",mb:2,p:2,border:"1px solid #ccc",borderRadius:"20px",textAlign:"center",backgroundColor:"#E8E4D8"},children:["\uad00\uc2ec \uc9c0\uc5ed : ",n.interestLocation?`${n.interestLocation.city} ${n.interestLocation.district} ${n.interestLocation.neighborhood}`:"\uc815\ubcf4 \uc5c6\uc74c"]}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"nickName",sx:{fontWeight:"bold",color:"text.secondary",minWidth:100},children:"\ubcc0\uacbd\ud560 \uad00\uc2ec \uc9c0\uc5ed"}),(0,je.jsx)(sye,{setInterestSido:e=>y((t=>({...t,i_sido:e}))),setInterestSigoon:e=>y((t=>({...t,i_sigoon:e}))),setInterestDong:e=>y((t=>({...t,i_dong:e})))})]}),(0,je.jsx)(hm,{variant:"contained",onClick:r((async e=>{const{sido:t="",sigoon:r="",dong:i=""}=p,{w_sido:o="",w_sigoon:s="",w_dong:l=""}=g,{i_sido:u="",i_sigoon:h="",i_dong:m=""}=b,v={email:n.email,homeLocation:{city:t,district:r,neighborhood:i},workplace:{city:o,district:s,neighborhood:l},interestLocation:{city:u,district:h,neighborhood:m}};try{(await gh.post("/users/update-location",v)).data.ok?(d("\uc704\uce58 \uc815\ubcf4\uac00 \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),f("success"),c(!0),setTimeout((()=>{a("/")}),2e3)):(d("\uc5c5\ub370\uc774\ud2b8 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),f("error"),c(!0))}catch(y){console.error("\uc704\uce58 \uc815\ubcf4 \uc5c5\ub370\uc774\ud2b8 \uc624\ub958:",y),d("\uc704\uce58 \uc815\ubcf4 \uc5c5\ub370\uc774\ud2b8 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),f("error"),c(!0)}})),sx:{mt:2,width:400},children:"\uc9c0\uc5ed \ubcc0\uacbd"})]}),(0,je.jsx)(XI,{open:l,message:u,severity:"success",onClose:()=>{c(!1)}})]})},lye=()=>{var e,t,n,r,o,s,a,l,c;const u=sl((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.user)||{}})),{register:d,handleSubmit:h,formState:{errors:f},watch:p,setValue:m,control:g,reset:v}=wy({defaultValues:{name:u.name||"",nickName:u.nickName||"",age:u.age||{year:"",month:"",day:""},gender:u.gender||"",phone:u.phone||"",job:u.job||[],category:u.category||[],marketingAccepted:u.marketingAccepted||!1},mode:"onChange"}),b=bl(),y=ee(),[w,x]=(0,i.useState)(!1),[_,C]=(0,i.useState)(""),[k,S]=(0,i.useState)("error"),A=p("nickName"),[T,I]=(0,i.useState)(!0),[M,E]=(0,i.useState)(!0),P=(e,t)=>{const n=[];for(let r=e;r<=t;r++)n.push(r);return n},D=P(1950,2040),j=P(1,12),O=P(1,31),[R,L]=(0,i.useState)(!1),[N,B]=(0,i.useState)([]),[F,z]=(0,i.useState)({});(0,i.useEffect)((()=>{if(u&&u.category){const e=u.category.flatMap((e=>e.sub.flat().map((t=>({main:e.main,sub:t})))));B(e)}}),[u]);const[V,W]=(0,i.useState)(!1),[H,U]=(0,i.useState)([]);(0,i.useEffect)((()=>{u&&u.job&&U(u.job)}),[u]),(0,i.useEffect)((()=>{const e=function(e){return e.reduce(((e,t)=>(e[t.main]||(e[t.main]=[]),e[t.main].push(t.sub),e)),{})}(N),t=Object.keys(e).map((t=>({main:t,sub:e[t]})));z(e),m("category",t)}),[N,m]),(0,i.useEffect)((()=>{m("selectedJobs",H)}),[H,m]);const $=e=>{R?B(e):V&&U(e)},Y=e=>{"category"===e?L(!0):"job"===e&&W(!0)},G=e=>{"category"===e?L(!1):"job"===e&&W(!1)};(0,i.useEffect)((()=>{u&&void 0!==u.marketingAccepted&&K((e=>({...e,marketing:u.marketingAccepted})))}),[u]);const[q,X]=(0,i.useState)({marketing:!1}),[Z,K]=(0,i.useState)({marketing:!1}),Q=e=>{K((t=>{const n=!t[e],r=["marketing"].every((e=>t[e]));return{...t,[e]:n,all:r}}))};(0,i.useEffect)((()=>{console.log("\uc5c5\ub370\uc774\ud2b8\ub41c \uccb4\ud06c\ubc15\uc2a4 \uc0c1\ud0dc:",Z)}),[Z]);const[J,te]=(0,i.useState)(""),[ne,re]=(0,i.useState)(!1),[ie,oe]=(0,i.useState)(!1),[se,ae]=(0,i.useState)(!1);return(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",maxWidth:600,mx:"auto",pb:5},children:[(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column"},children:[(0,je.jsx)(um,{variant:"update"===J?"contained":"outlined",onClick:()=>{"update"===J?(te(""),re(!1),oe(!1),ae(!1)):(te("update"),re(!1),oe(!1),ae(!1))},sx:{borderColor:"transparent",color:"#30231C",backgroundColor:"update"===J?"#A67153":"#DBC7B5","&:hover":{borderColor:"transparent",backgroundColor:"update"===J?"#DBC7B5":"#A67153"},textAlign:"left",paddingLeft:"16px",width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:"15px",overflow:"hidden","&::after":{content:'""',position:"absolute",bottom:0,left:"50%",width:"update"===J?"100%":"0%",height:"2px",backgroundColor:"#595959",transform:"translateX(-50%)",transition:"width 0.3s ease"}},children:"\uc815\ubcf4 \uc218\uc815"}),"update"===J&&(0,je.jsxs)("form",{className:"mt-6",onSubmit:h((async e=>{console.log("\ud3fc \uc81c\ucd9c \ub370\uc774\ud130:",e);const{name:t,nickName:n,age:r={},gender:i,selectedJobs:o=[],category:s=[],phone:a=""}=e,{marketing:l}=Z,{year:c="",month:u="",day:d=""}=r,h={name:t,nickName:n,age:{year:c,month:u,day:d},gender:i,category:s.reduce(((e,t)=>(t.main&&Array.isArray(t.sub)&&e.push({main:t.main,sub:t.sub}),e)),[]),job:o,phone:a,marketingAccepted:l};console.log("\uc804\uc1a1\ud560 \ub370\uc774\ud130:",h),b(Eh(h)).then((()=>{C("\uc815\ubcf4 \uc218\uc815 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),S("success"),x(!0),setTimeout((()=>{y("/")}),2e3)})).catch((e=>{console.error("\uc815\ubcf4\uc218\uc815 \uc2e4\ud328:",e)}))})),children:[(0,je.jsx)(We,{mb:2,sx:{display:"flex",flexDirection:"column"},children:(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center"},children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"email",sx:{mt:2,fontWeight:"bold",color:"text.secondary",minWidth:100},children:"\uc774\uba54\uc77c"}),(0,je.jsx)(Ks,{sx:{mt:2,flex:1,padding:1,bgcolor:"grey.200",borderRadius:1,color:"text.primary",textAlign:"left"},children:u.email})]})}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"name",sx:{fontWeight:"bold",color:"text.secondary",minWidth:100},children:"\uc774\ub984"}),(0,je.jsx)(Mv,{id:"name",label:"\uc774\ub984",type:"text",fullWidth:!0,variant:"outlined",...d("name",(e=>e.length>20?"\ucd5c\ub300 20\uc790\uc785\ub2c8\ub2e4.":/[0-9]/.test(e)?"\uc22b\uc790\ub294 \ub4e4\uc5b4\uac08 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":/[^a-zA-Z\uac00-\ud7a3\u3131-\u314e\u314f-\u3163\s]/.test(e)?"\ud2b9\uc218\ubb38\uc790\ub294 \ub4e4\uc5b4\uac08 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":!/[\u3131-\u314e\u314f-\u3163]/.test(e)||"\uc790\uc74c\uacfc \ubaa8\uc74c\uc740 \ub4e4\uc5b4\uac08 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")),error:!!f.name,helperText:f.name?f.name.message:"",sx:{flex:1}})]}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"nickName",sx:{fontWeight:"bold",color:"text.secondary",minWidth:100},children:"\ub2c9\ub124\uc784"}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mt:2,width:500},children:[(0,je.jsx)(Mv,{id:"nickName",label:"\ub2c9\ub124\uc784",type:"text",fullWidth:!0,variant:"outlined",...d("nickName",{maxLength:{value:20,message:"\ub2c9\ub124\uc784\uc740 \ucd5c\ub300 20\uc790\uae4c\uc9c0 \uc785\ub825\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}}),InputProps:{readOnly:T,sx:{bgcolor:T?"grey.200":"white","& .MuiInputBase-input":{color:T?"text.disabled":"text.primary"}}},sx:{flex:1,mr:1}}),(0,je.jsx)(rI,{direction:"row",spacing:2,children:T?(0,je.jsx)(hm,{variant:"outlined",className:"buttonSub1",sx:{height:"50px",borderColor:"transparent","&:hover":{borderColor:"transparent"}},onClick:()=>{I(!1),E(!1)},children:"\ub2c9\ub124\uc784 \uc218\uc815"}):(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(hm,{variant:"contained",color:"primary",className:"buttonMain",sx:{height:"50px",borderColor:"transparent","&:hover":{borderColor:"transparent"}},onClick:async()=>{if(!A||""===A.trim())return C("\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),void x(!0);if(f.nickName)return C("\uc720\ud6a8\ud55c \ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694."),void x(!0);const e=A;try{const t=await gh.post("/users/check-nickname",{nickName:e});C(t.data.message),S("success"),x(!0),I(!0),E(!0)}catch(kke){C(kke.response?kke.response.data.message:"\uc11c\ubc84 \uc624\ub958"),S("error"),x(!0),I(!1),E(!1)}},children:"\uc911\ubcf5\uac80\uc0ac"}),(0,je.jsx)(um,{variant:"outlined",className:"buttonSub2",sx:{height:"50px",borderColor:"transparent","&:hover":{borderColor:"transparent"}},onClick:()=>{I(!0),E(!0),v({nickName:u.nickName||""})},children:"\ucde8\uc18c\ud558\uae30"})]})})]}),(null===f||void 0===f?void 0:f.nickName)&&(0,je.jsx)(Ks,{color:"error",sx:{mt:1},children:f.nickName.message})]}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"nickName",sx:{fontWeight:"bold",color:"text.secondary",minWidth:100},children:"\uc0dd\ub144\uc6d4\uc77c"}),(0,je.jsxs)(We,{sx:{display:"flex",flex:1,gap:2,mt:2},children:[(0,je.jsxs)(Fg,{fullWidth:!0,variant:"outlined",error:!(null===(e=f.age)||void 0===e||!e.year),children:[(0,je.jsx)(jg,{id:"year-label",children:"\ucd9c\uc0dd\ub144\ub3c4"}),(0,je.jsx)(Pb,{name:"age.year",control:g,defaultValue:"",rules:{required:"\ucd9c\uc0dd\ub144\ub3c4\ub294 \ud544\uc218\uc785\ub2c8\ub2e4."},render:e=>{let{field:t}=e;return(0,je.jsxs)(_v,{...t,labelId:"year-label",label:"\uc5f0\ub3c4",children:[(0,je.jsx)(Es,{value:"",children:"\uc120\ud0dd"}),D.map((e=>(0,je.jsx)(Es,{value:e,children:e},e)))]})}}),(0,je.jsx)(Yg,{children:null===(t=f.age)||void 0===t||null===(n=t.year)||void 0===n?void 0:n.message})]}),(0,je.jsxs)(Fg,{fullWidth:!0,variant:"outlined",error:!(null===(r=f.age)||void 0===r||!r.month),children:[(0,je.jsx)(jg,{id:"month-label",children:"\uc6d4"}),(0,je.jsx)(Pb,{name:"age.month",control:g,defaultValue:"",rules:{required:"\uc6d4\uc740 \ud544\uc218\uc785\ub2c8\ub2e4."},render:e=>{let{field:t}=e;return(0,je.jsxs)(_v,{...t,labelId:"month-label",label:"\uc6d4",children:[(0,je.jsx)(Es,{value:"",children:"\uc120\ud0dd"}),j.map((e=>(0,je.jsx)(Es,{value:e,children:e},e)))]})}}),(0,je.jsx)(Yg,{children:null===(o=f.age)||void 0===o||null===(s=o.month)||void 0===s?void 0:s.message})]}),(0,je.jsxs)(Fg,{fullWidth:!0,variant:"outlined",error:!(null===(a=f.age)||void 0===a||!a.day),children:[(0,je.jsx)(jg,{id:"day-label",children:"\uc77c"}),(0,je.jsx)(Pb,{name:"age.day",control:g,defaultValue:"",rules:{required:"\uc77c\uc740 \ud544\uc218\uc785\ub2c8\ub2e4."},render:e=>{let{field:t}=e;return(0,je.jsxs)(_v,{...t,labelId:"day-label",label:"\uc77c",children:[(0,je.jsx)(Es,{value:"",children:"\uc120\ud0dd"}),O.map((e=>(0,je.jsx)(Es,{value:e,children:e},e)))]})}}),(0,je.jsx)(Yg,{children:null===(l=f.age)||void 0===l||null===(c=l.day)||void 0===c?void 0:c.message})]})]})]}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"nickName",sx:{fontWeight:"bold",color:"text.secondary",minWidth:100},children:"\uc131\ubcc4"}),(0,je.jsx)(We,{sx:{display:"flex",flex:1,gap:2,mt:2},children:(0,je.jsx)(Pb,{name:"gender",control:g,defaultValue:" ",rules:{required:"\uc131\ubcc4\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694."},render:e=>{let{field:t}=e;return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(la,{variant:"contained",onClick:()=>t.onChange("\ub0a8\uc131"),className:"buttonSub3",sx:{flexGrow:1,backgroundColor:"\ub0a8\uc131"===p("gender")?"#004ba0":"#2196f7",color:"white",border:"\ub0a8\uc131"===p("gender")?"3px solid #4a90e2":"3px solid transparent",boxShadow:"\ub0a8\uc131"===p("gender")?"0 0 0 3px #4a90e2":"none","&:hover":{backgroundColor:"\ub0a8\uc131"===p("gender")?"#00274d":"#1976d2",boxShadow:"\ub0a8\uc131"===p("gender")?"0 0 0 3px #4a90e2":"none"}},children:"\ub0a8\uc790"}),(0,je.jsx)(la,{variant:"contained",onClick:()=>t.onChange("\uc5ec\uc131"),className:"buttonSub4",sx:{flexGrow:1,backgroundColor:(p("gender"),"#ff4081"),color:"white",border:"\uc5ec\uc131"===p("gender")?"3px solid #f48fb1":"3px solid transparent",boxShadow:"\uc5ec\uc131"===p("gender")?"0 0 0 3px #f48fb1":"none","&:hover":{backgroundColor:"\uc5ec\uc131"===p("gender")?"#8e0000":"#c2185b",boxShadow:"\uc5ec\uc131"===p("gender")?"0 0 0 3px #f48fb1":"none"}},children:"\uc5ec\uc790"})]})}})}),f.gender&&(0,je.jsx)(Yg,{error:!0,children:f.gender.message})]}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"nickName",sx:{fontWeight:"bold",color:"text.secondary",minWidth:100},children:"\uc804\ud654\ubc88\ud638"}),(0,je.jsx)(Pb,{name:"phone",control:g,defaultValue:"",rules:{required:"\uc804\ud654\ubc88\ud638\ub294 \ud544\uc218\uc785\ub2c8\ub2e4.",pattern:{value:/^\d{3}-\d{4}-\d{4}$/,message:"\uc804\ud654\ubc88\ud638 \ud615\uc2dd\uc744 \ud655\uc778\ud574 \uc8fc\uc138\uc694.\n \uc608) 010-7430-3504"}},render:e=>{let{field:t}=e;return(0,je.jsx)(je.Fragment,{children:(0,je.jsx)(Mv,{...t,id:"phone",fullWidth:!0,variant:"outlined",placeholder:"010-7430-3504",error:!!f.phone,helperText:f.phone?f.phone.message:"",onChange:e=>{const t=(e=>{const t=e.replace(/\D/g,"");return t.length<=3?t:t.length<=7?`${t.slice(0,3)}-${t.slice(3)}`:`${t.slice(0,3)}-${t.slice(3,7)}-${t.slice(7,11)}`})(e.target.value);m("phone",t,{shouldValidate:!0})},value:p("phone")})})}})]}),(0,je.jsxs)(We,{children:[(0,je.jsx)(We,{mb:2,display:"flex",alignItems:"center",gap:2,children:(0,je.jsx)(hm,{variant:"contained",color:"primary",onClick:()=>Y("job"),children:"\uc9c1\uc885 \uc120\ud0dd"})}),V&&(0,je.jsx)(Xbe,{jobCategories:Zbe,onSelect:$,onClose:()=>G("job"),selectedJobs:H}),(0,je.jsx)(We,{sx:{mb:2,p:2,bgcolor:"background.paper",borderRadius:2,boxShadow:1,border:"1px solid",borderColor:"divider"},children:(0,je.jsx)(We,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:H.map(((e,t)=>(0,je.jsx)(bA,{label:e,onDelete:()=>U((t=>t.filter((t=>t!==e)))),sx:{bgcolor:"lightgrey",color:"black"}},t)))})})]}),(0,je.jsxs)(We,{children:[(0,je.jsxs)(We,{mb:2,display:"flex",alignItems:"center",gap:2,children:[(0,je.jsx)(hm,{variant:"contained",color:"primary",onClick:()=>Y("category"),children:"\uce74\ud14c\uace0\ub9ac \uc120\ud0dd"}),(0,je.jsx)(Ks,{variant:"body2",sx:{fontWeight:"bold",color:"text.secondary"},children:"3\uac1c \uc774\uc0c1 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694"})]}),R&&(0,je.jsx)(Gbe,{categories:qbe,onSelect:$,onClose:()=>G("category"),selectedCategories:N}),(0,je.jsx)(We,{sx:{mb:2,p:2,bgcolor:"background.paper",borderRadius:2,boxShadow:1,border:"1px solid",borderColor:"divider"},children:(0,je.jsx)(We,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Object.entries(F).map((e=>{let[t,n]=e;return(0,je.jsxs)(We,{sx:{width:"100%"},children:[(0,je.jsx)(Ks,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1},children:t}),(0,je.jsx)(We,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:n.map(((e,n)=>(0,je.jsx)(bA,{label:e,onDelete:()=>B((n=>n.filter((n=>!(n.main===t&&n.sub===e))))),sx:{bgcolor:"lightgrey",color:"black"}},n)))})]},t)}))})})]}),(0,je.jsx)(We,{mt:4,children:(0,je.jsx)(We,{mb:2,children:(0,je.jsxs)(We,{display:"flex",alignItems:"center",children:[(0,je.jsx)(n9,{control:(0,je.jsx)(Qbe,{id:"marketing-checkbox",checked:Z.marketing,onChange:()=>Q("marketing"),color:"primary"}),label:(0,je.jsx)(Ks,{variant:"body1",component:"span",children:"[\uc120\ud0dd] \ub9c8\ucf00\ud305 \ub3d9\uc758"}),sx:{marginLeft:"4px",marginRight:"0"}}),(0,je.jsx)(la,{variant:"text",color:"primary",onClick:()=>{return e="marketing",void X((t=>({...t,[e]:!0})));var e},sx:{textDecoration:"underline"},children:"\uc804\uccb4"})]})})}),q.marketing&&(0,je.jsx)(Jbe,{onClose:()=>{return e="marketing",void X((t=>({...t,[e]:!1})));var e},handleCheck:Q,checked:{marketing:Z.marketing}}),(0,je.jsx)(We,{mt:2,children:(0,je.jsx)(hm,{type:"submit",variant:"contained",color:"primary",sx:{width:"100%",px:4,py:2,borderRadius:"8px",marginBottom:"5px"},children:"\uc218\uc815 \ud558\uae30"})})]})]}),(0,je.jsx)(la,{variant:"changePw"===J?"contained":"outlined",onClick:()=>{"changePw"===J?(te(""),re(!1),oe(!1),ae(!1)):(te("changePw"),re(!0),oe(!1),ae(!1))},sx:{borderColor:"transparent",backgroundColor:"changePw"===J?"#A67153":"#DBC7B5",color:"#30231C","&:hover":{borderColor:"transparent",backgroundColor:"changePw"===J?"#DBC7B5":"#A67153"},textAlign:"left",paddingLeft:"16px",width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:"15px",overflow:"hidden","&::after":{content:'""',position:"absolute",bottom:0,left:"50%",width:"changePw"===J?"100%":"0%",height:"2px",backgroundColor:"#595959",transform:"translateX(-50%)",transition:"width 0.3s ease"}},children:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"}),ne&&(0,je.jsx)(rye,{view:J}),(0,je.jsx)(la,{variant:"changeLocation"===J?"contained":"outlined",onClick:()=>{"changeLocation"===J?(te(""),re(!1),oe(!1),ae(!1)):(te("changeLocation"),oe(!0),re(!1),ae(!1))},sx:{borderColor:"transparent",backgroundColor:"changeLocation"===J?"#A67153":"#DBC7B5",color:"#30231C","&:hover":{borderColor:"transparent",backgroundColor:"changeLocation"===J?"#DBC7B5":"#A67153"},textAlign:"left",paddingLeft:"16px",width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:"15px",overflow:"hidden","&::after":{content:'""',position:"absolute",bottom:0,left:"50%",width:"changeLocation"===J?"100%":"0%",height:"2px",backgroundColor:"#595959",transform:"translateX(-50%)",transition:"width 0.3s ease"}},children:"\uc8fc\uc18c \ubcc0\uacbd"}),ie&&(0,je.jsx)(aye,{view:J}),(0,je.jsx)(la,{variant:"delete"===J?"contained":"outlined",onClick:()=>{"delete"===J?(te(""),re(!1),oe(!1),ae(!1)):(te("delete"),ae(!0),re(!1),oe(!1))},sx:{borderColor:"transparent",backgroundColor:"delete"===J?"#A67153":"#DBC7B5",color:"#30231C","&:hover":{borderColor:"transparent",backgroundColor:"delete"===J?"#DBC7B5":"#A67153"},textAlign:"left",paddingLeft:"16px",width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:"15px",overflow:"hidden","&::after":{content:'""',position:"absolute",bottom:0,left:"50%",width:"delete"===J?"100%":"0%",height:"2px",backgroundColor:"#595959",transform:"translateX(-50%)",transition:"width 0.3s ease"}},children:"\ud68c\uc6d0 \ud0c8\ud1f4"}),se&&(0,je.jsx)(eye,{view:J}),(0,je.jsx)(XI,{open:w,message:_,severity:"success",onClose:()=>{x(!1)}})]})},cye=e=>{let{clubList:t}=e;const[n,r]=(0,i.useState)(AI),[o,s]=(0,i.useState)([]),a=sl((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.user)||{}})),[l,c]=(0,i.useState)(!0);console.log(a.email);const u=ee();(0,i.useEffect)((()=>{console.log("Fetching user invites...");(async()=>{try{const e=(await gh.get("/users/myPage")).data.user;s(e.invite||[]),c(!1)}catch(e){console.error("Error fetching clubs:",e),c(!1)}})()}),[a.email]);const[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(""),[m,g]=(0,i.useState)("error");return(0,je.jsxs)(We,{children:[(0,je.jsx)(Pt,{container:!0,spacing:3,children:t.map(((e,t)=>(0,je.jsx)(Pt,{item:!0,md:11,sx:{transition:"transform 0.3s ease","&:hover":{transform:"scale(1.03)"}},children:(0,je.jsx)(Qo,{elevation:3,sx:{borderRadius:"12px",overflow:"hidden",display:"flex",flexDirection:"column",width:"480px",height:"205px",cursor:"pointer",transition:"box-shadow 0.3s ease",backgroundColor:"white",position:"relative","&:hover":{transform:"scale(1.03)"}},onClick:()=>u(`/clubs/main?clubNumber=${e._id}`),children:(0,je.jsxs)(Pt,{container:!0,spacing:3,children:[(0,je.jsx)(Pt,{item:!0,xs:5,children:(0,je.jsx)(We,{sx:{display:"flexed",position:"relative"},children:(0,je.jsx)("img",{src:"http://localhost:4000/"+e.img,alt:e.title,style:{width:"190px",height:"180px",objectFit:"cover",borderRadius:"12px",marginLeft:"10px",marginTop:"10px",border:"1px solid #F2F2F2"}})})}),(0,je.jsx)(Pt,{item:!0,xs:7,children:(0,je.jsxs)(We,{sx:{padding:"16px",display:"flex",flexDirection:"column",height:"182px"},children:[(0,je.jsx)(Ks,{variant:"h5",sx:{fontWeight:"700",fontSize:"20px",color:"#383535",marginBottom:"8px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e.title}),(0,je.jsx)(Ks,{variant:"h6",sx:{fontWeight:"500",fontSize:"18px",color:"#777777",marginBottom:"8px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e.subTitle}),(0,je.jsx)(Ks,{variant:"body2",sx:{color:"#9F9E9D",marginBottom:"8px"},children:e.region.district}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center"},children:[(0,je.jsx)(SI.A,{sx:{color:"#BF5B16",fontSize:"18px"}}),(0,je.jsx)(Ks,{variant:"body2",sx:{color:"#BF5B16",marginLeft:"5px"},children:n[t].chat})]}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",marginTop:"auto",borderTop:"1px solid #e0e0e0",paddingTop:"8px",paddingBottom:"8px"},children:[(0,je.jsx)(Dp,{max:4,children:e.members.map(((e,t)=>(0,je.jsx)(Sp,{alt:`Member ${t+1}`,src:e.img,sx:{width:32,height:32}},t)))}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",marginLeft:"8px",fontSize:"14px",color:"#666666"},children:[(0,je.jsx)(Up.A,{sx:{fontSize:"18px"}}),(0,je.jsxs)("span",{style:{marginLeft:"5px"},children:[e.members.length,"/",e.maxMember]})]}),o&&(0,je.jsx)(hm,{onClick:t=>{t.stopPropagation(),(async e=>{try{await gh.post("/users/reject-invite",{clubId:e}),p("\ucd08\ub300\uac00 \uac70\uc808\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),g("success"),setTimeout((()=>{window.location.reload()}),1e3)}catch(t){console.error("Error rejecting invite:",t),p("\ucd08\ub300 \uac70\uc808 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),g("error")}finally{h(!0)}})(e._id)},variant:"caption",sx:{position:"absolute",bottom:"15px",right:"15px",color:"white",padding:"6px 12px",borderRadius:"4px",fontSize:"14px",zIndex:10},children:"\uac70\uc808\ud558\uae30"})]})]})})]})})},e._id)))}),(0,je.jsx)(XI,{open:d,message:f,severity:m,onClose:()=>{h(!1)}})]})},uye={dots:!0,infinite:!1,speed:500,slidesToShow:1,centerMode:!0,centerPadding:"10px",slidesToScroll:3,arrows:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}}]},dye=e=>{let{clubList:t}=e;const n=[];for(let r=0;r<t.length;r+=3)n.push(t.slice(r,r+3));return(0,je.jsx)(II,{style:{padding:"20px",backgroundColor:"#f2f2f2",borderRadius:"20px"},children:(0,je.jsx)(kI.A,{...uye,children:n.map(((e,t)=>(0,je.jsx)(II,{display:"flex",flexDirection:"row",children:e.map((e=>(0,je.jsx)(II,{style:{padding:"10px"},children:(0,je.jsx)(cye,{clubList:[e]})},e._id)))},t)))})})},hye=()=>{const e=sl((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.user)||{}})),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{console.log("Fetching user wishes...");(async()=>{try{const e=(await gh.get("/users/myPage")).data.user.invite,t=(await Promise.all(e.map((e=>gh.get(`/clubs/read/${e}`))))).map((e=>e.data));n(t),o(!1)}catch(e){console.error("Error fetching clubs:",e),o(!1)}})()}),[e.email]),(0,je.jsx)(We,{children:r?(0,je.jsx)(We,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,je.jsx)(K9,{})}):(0,je.jsx)(dye,{clubList:t})})},fye=e=>{let{clubList:t}=e;const[n,r]=(0,i.useState)(AI),o=sl((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.user)||{}}));console.log(o.email);const s=ee();return(0,je.jsx)(We,{children:(0,je.jsx)(Pt,{container:!0,spacing:3,children:t.map(((e,t)=>(0,je.jsx)(Pt,{item:!0,md:11,sx:{transition:"transform 0.3s ease","&:hover":{transform:"scale(1.03)"}},children:(0,je.jsx)(Qo,{elevation:3,sx:{borderRadius:"12px",overflow:"hidden",display:"flex",flexDirection:"column",width:"480px",height:"205px",cursor:"pointer",transition:"box-shadow 0.3s ease",backgroundColor:"white",position:"relative","&:hover":{transform:"scale(1.03)"}},onClick:()=>s(`/clubs/main?clubNumber=${e._id}`),children:(0,je.jsxs)(Pt,{container:!0,spacing:3,children:[(0,je.jsx)(Pt,{item:!0,xs:5,children:(0,je.jsx)(We,{sx:{display:"flexed",position:"relative"},children:(0,je.jsx)("img",{src:"http://localhost:4000/"+e.img,alt:e.title,style:{width:"190px",height:"180px",objectFit:"cover",borderRadius:"12px",marginLeft:"10px",marginTop:"10px",border:"1px solid #F2F2F2"}})})}),(0,je.jsx)(Pt,{item:!0,xs:7,children:(0,je.jsxs)(We,{sx:{padding:"16px",display:"flex",flexDirection:"column",height:"182px"},children:[(0,je.jsx)(Ks,{variant:"h5",sx:{fontWeight:"700",fontSize:"20px",color:"#383535",marginBottom:"8px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e.title}),(0,je.jsx)(Ks,{variant:"h6",sx:{fontWeight:"500",fontSize:"18px",color:"#777777",marginBottom:"8px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e.subTitle}),(0,je.jsx)(Ks,{variant:"body2",sx:{color:"#9F9E9D",marginBottom:"8px"},children:e.region.district}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center"},children:[(0,je.jsx)(SI.A,{sx:{color:"#BF5B16",fontSize:"18px"}}),(0,je.jsx)(Ks,{variant:"body2",sx:{color:"#BF5B16",marginLeft:"5px"},children:n[t].chat})]}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",marginTop:"auto",borderTop:"1px solid #e0e0e0",paddingTop:"8px",paddingBottom:"8px"},children:[(0,je.jsx)(Dp,{max:4,children:e.members.map(((e,t)=>(0,je.jsx)(Sp,{alt:`Member ${t+1}`,src:e.img,sx:{width:32,height:32}},t)))}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",marginLeft:"8px",fontSize:"14px",color:"#666666"},children:[(0,je.jsx)(Up.A,{sx:{fontSize:"18px"}}),(0,je.jsxs)("span",{style:{marginLeft:"5px"},children:[e.members.length,"/",e.maxMember]})]})]}),e.admin===o.email&&(0,je.jsx)(Ks,{variant:"caption",sx:{position:"absolute",top:"8px",right:"8px",backgroundColor:"#BF5B16",color:"white",padding:"2px 8px",borderRadius:"4px",zIndex:1},children:"\ub0b4\uac00 \ub9cc\ub4e0 \ubaa8\uc784"})]})})]})})},e._id)))})})},pye={dots:!0,infinite:!1,speed:500,slidesToShow:1,centerMode:!0,centerPadding:"10px",slidesToScroll:3,arrows:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}}]},mye=e=>{let{clubList:t}=e;const n=[];for(let r=0;r<t.length;r+=3)n.push(t.slice(r,r+3));return(0,je.jsx)(II,{style:{padding:"20px",backgroundColor:"#f2f2f2",borderRadius:"20px"},children:(0,je.jsx)(kI.A,{...pye,children:n.map(((e,t)=>(0,je.jsx)(II,{display:"flex",flexDirection:"row",children:e.map((e=>(0,je.jsx)(II,{style:{padding:"10px"},children:(0,je.jsx)(fye,{clubList:[e]})},e._id)))},t)))})})},gye=()=>{const e=sl((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.user)||{}})),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{(async()=>{try{const e=(await gh.get("/users/myPage")).data.user.clubs,t=(await Promise.all(e.map((e=>gh.get(`/clubs/read/${e}`))))).map((e=>e.data));n(t),o(!1)}catch(e){console.error("Error fetching clubs:",e),o(!1)}})()}),[e.email]),(0,je.jsx)(We,{children:r?(0,je.jsx)(We,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,je.jsx)(K9,{})}):(0,je.jsx)(mye,{clubList:t})})},vye=()=>{const e=sl((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.user)||{}})),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{(async()=>{try{const t=(await gh.get(`/users/recentvisit/${e.email}`)).data.RecentVisitList[0].clubs,r=(await Promise.all(t.map((e=>gh.get(`/clubs/read/${e}`))))).map((e=>e.data));n(r),o(!1)}catch(t){console.error("Error fetching clubs:",t),o(!1)}})()}),[e.email]),(0,je.jsx)(We,{children:r?(0,je.jsx)(We,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,je.jsx)(K9,{})}):(0,je.jsx)(mye,{clubList:t})})},bye=()=>{const e=sl((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.user)||{}})),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{console.log("Fetching user wishes...");(async()=>{try{const e=(await gh.get("/users/myPage")).data.user.wish,t=(await Promise.all(e.map((e=>gh.get(`/clubs/read/${e}`))))).map((e=>e.data));n(t),o(!1)}catch(e){console.error("Error fetching clubs:",e),o(!1)}})()}),[e.email]),(0,je.jsx)(We,{children:r?(0,je.jsx)(We,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,je.jsx)(K9,{})}):(0,je.jsx)(mye,{clubList:t})})},yye=()=>{const[e,t]=(0,i.useState)("myGroups"),[n,r]=(0,i.useState)({myGroups:0,wishGroups:0,recentGroups:0,invitedGroups:0}),o=sl((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.user)||{}}));(0,i.useEffect)((()=>{(async()=>{try{const e=await gh.get("/users/myPage"),{counts:t}=e.data;r(t);const n=(await gh.get(`/users/recentvisit/${o.email}`)).data.RecentVisitList,i=n.length>0?n[0].clubCount:0;r((e=>({...e,recentGroups:i})))}catch(e){console.error("Error fetching group counts:",e)}})()}),[]);return(0,je.jsxs)(We,{sx:{maxWidth:600,mx:"auto"},children:[(0,je.jsx)(We,{sx:{display:"flex",justifyContent:"space-between",mb:0,borderBottom:"1px solid #ddd"},children:["myGroups","wishGroups","recentGroups","invitedGroups"].map((r=>(0,je.jsxs)(We,{sx:{flex:1,textAlign:"center",cursor:"pointer",position:"relative",p:3,borderRadius:2,transition:"background-color 0.3s, transform 0.3s",backgroundColor:e===r?"#e0e0e0":"transparent",transform:e===r?"scale(1.05)":"scale(1)","&:hover":{backgroundColor:e!==r?"#f0f0f0":"transparent"},"&::after":{content:'""',position:"absolute",bottom:0,left:"50%",width:e===r?"70%":"0%",height:"3px",backgroundColor:"#40190B",transform:"translateX(-50%)",transition:"width 0.3s ease"}},onClick:()=>(e=>{t(e)})(r),children:[(0,je.jsxs)(Ks,{variant:"body1",children:["myGroups"===r&&"\ub0b4 \ubaa8\uc784","wishGroups"===r&&"\ucc1c \ubaa8\uc784","recentGroups"===r&&"\ucd5c\uadfc \ubc29\ubb38\ud55c \ubaa8\uc784","invitedGroups"===r&&"\ucd08\ub300\ubc1b\uc740 \ubaa8\uc784"]}),(0,je.jsxs)(Ks,{variant:"body2",children:["myGroups"===r&&n.myGroups,"wishGroups"===r&&n.wishGroups,"recentGroups"===r&&n.recentGroups,"invitedGroups"===r&&n.inviteGroups]})]},r)))}),(0,je.jsxs)(We,{sx:{p:3,bgcolor:e?"#e0e0e0":"white",borderRadius:2,boxShadow:3,transition:"background-color 0.3s ease"},children:["myGroups"===e&&(0,je.jsx)(gye,{}),"wishGroups"===e&&(0,je.jsx)(bye,{}),"invitedGroups"===e&&(0,je.jsx)(hye,{}),"recentGroups"===e&&(0,je.jsx)(vye,{})]})]})};function wye(e){return(0,He.Ay)("MuiTableContainer",e)}(0,Fe.A)("MuiTableContainer",["root"]);const xye=["className","component"],_ye=(0,ft.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),Cye=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiTableContainer"}),{className:r,component:i="div"}=n,o=(0,Ce.A)(n,xye),s=(0,_e.A)({},n,{component:i}),a=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"]},wye,t)})(s);return(0,je.jsx)(_ye,(0,_e.A)({ref:t,as:i,className:(0,ke.A)(a.root,r),ownerState:s},o))}));const kye=i.createContext();function Sye(e){return(0,He.Ay)("MuiTable",e)}(0,Fe.A)("MuiTable",["root","stickyHeader"]);const Aye=["className","component","padding","size","stickyHeader"],Tye=(0,ft.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,_e.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},n.stickyHeader&&{borderCollapse:"separate"})})),Iye="table",Mye=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiTable"}),{className:r,component:o=Iye,padding:s="normal",size:a="medium",stickyHeader:l=!1}=n,c=(0,Ce.A)(n,Aye),u=(0,_e.A)({},n,{component:o,padding:s,size:a,stickyHeader:l}),d=(e=>{const{classes:t,stickyHeader:n}=e,r={root:["root",n&&"stickyHeader"]};return(0,Ue.A)(r,Sye,t)})(u),h=i.useMemo((()=>({padding:s,size:a,stickyHeader:l})),[s,a,l]);return(0,je.jsx)(kye.Provider,{value:h,children:(0,je.jsx)(Tye,(0,_e.A)({as:o,role:o===Iye?null:"table",ref:t,className:(0,ke.A)(d.root,r),ownerState:u},c))})})),Eye=Mye;const Pye=i.createContext();function Dye(e){return(0,He.Ay)("MuiTableHead",e)}(0,Fe.A)("MuiTableHead",["root"]);const jye=["className","component"],Oye=(0,ft.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Rye={variant:"head"},Lye="thead",Nye=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiTableHead"}),{className:r,component:i=Lye}=n,o=(0,Ce.A)(n,jye),s=(0,_e.A)({},n,{component:i}),a=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"]},Dye,t)})(s);return(0,je.jsx)(Pye.Provider,{value:Rye,children:(0,je.jsx)(Oye,(0,_e.A)({as:i,className:(0,ke.A)(a.root,r),ref:t,role:i===Lye?null:"rowgroup",ownerState:s},o))})}));function Bye(e){return(0,He.Ay)("MuiTableBody",e)}(0,Fe.A)("MuiTableBody",["root"]);const Fye=["className","component"],zye=(0,ft.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),Vye={variant:"body"},Wye="tbody",Hye=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiTableBody"}),{className:r,component:i=Wye}=n,o=(0,Ce.A)(n,Fye),s=(0,_e.A)({},n,{component:i}),a=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"]},Bye,t)})(s);return(0,je.jsx)(Pye.Provider,{value:Vye,children:(0,je.jsx)(zye,(0,_e.A)({className:(0,ke.A)(a.root,r),as:i,ref:t,role:i===Wye?null:"rowgroup",ownerState:s},o))})}));function Uye(e){return(0,He.Ay)("MuiTableRow",e)}const $ye=(0,Fe.A)("MuiTableRow",["root","selected","hover","head","footer"]),Yye=["className","component","hover","selected"],Gye=(0,ft.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${$ye.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${$ye.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Nt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Nt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),qye="tr",Xye=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiTableRow"}),{className:r,component:o=qye,hover:s=!1,selected:a=!1}=n,l=(0,Ce.A)(n,Yye),c=i.useContext(Pye),u=(0,_e.A)({},n,{component:o,hover:s,selected:a,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),d=(e=>{const{classes:t,selected:n,hover:r,head:i,footer:o}=e,s={root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]};return(0,Ue.A)(s,Uye,t)})(u);return(0,je.jsx)(Gye,(0,_e.A)({as:o,ref:t,className:(0,ke.A)(d.root,r),role:o===qye?null:"row",ownerState:u},l))})),Zye=Xye;function Kye(e){return(0,He.Ay)("MuiTableCell",e)}const Qye=(0,Fe.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Jye=["align","className","component","padding","scope","size","sortDirection","variant"],ewe=(0,ft.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${(0,ht.A)(n.size)}`],"normal"!==n.padding&&t[`padding${(0,ht.A)(n.padding)}`],"inherit"!==n.align&&t[`align${(0,ht.A)(n.align)}`],n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid\n    ${"light"===t.palette.mode?(0,Nt.a)((0,Nt.X4)(t.palette.divider,1),.88):(0,Nt.e$)((0,Nt.X4)(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===n.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===n.variant&&{color:(t.vars||t).palette.text.primary},"footer"===n.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===n.size&&{padding:"6px 16px",[`&.${Qye.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),twe=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiTableCell"}),{align:r="inherit",className:o,component:s,padding:a,scope:l,size:c,sortDirection:u,variant:d}=n,h=(0,Ce.A)(n,Jye),f=i.useContext(kye),p=i.useContext(Pye),m=p&&"head"===p.variant;let g;g=s||(m?"th":"td");let v=l;"td"===g?v=void 0:!v&&m&&(v="col");const b=d||p&&p.variant,y=(0,_e.A)({},n,{align:r,component:g,padding:a||(f&&f.padding?f.padding:"normal"),size:c||(f&&f.size?f.size:"medium"),sortDirection:u,stickyHeader:"head"===b&&f&&f.stickyHeader,variant:b}),w=(e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:s}=e,a={root:["root",n,s&&"stickyHeader","inherit"!==r&&`align${(0,ht.A)(r)}`,"normal"!==i&&`padding${(0,ht.A)(i)}`,`size${(0,ht.A)(o)}`]};return(0,Ue.A)(a,Kye,t)})(y);let x=null;return u&&(x="asc"===u?"ascending":"descending"),(0,je.jsx)(ewe,(0,_e.A)({as:g,ref:t,className:(0,ke.A)(w.root,o),"aria-sort":x,scope:v,ownerState:y},h))})),nwe=twe;function rwe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function iwe(e){rwe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Ree(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function owe(e){if(rwe(1,arguments),!function(e){return rwe(1,arguments),e instanceof Date||"object"===Ree(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=iwe(e);return!isNaN(Number(t))}function swe(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function awe(e,t){return rwe(2,arguments),function(e,t){rwe(2,arguments);var n=iwe(e).getTime(),r=swe(t);return new Date(n+r)}(e,-swe(t))}function lwe(e){rwe(1,arguments);var t=iwe(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function cwe(e){rwe(1,arguments);var t=iwe(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=lwe(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=lwe(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function uwe(e){rwe(1,arguments);var t=iwe(e),n=lwe(t).getTime()-function(e){rwe(1,arguments);var t=cwe(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),lwe(n)}(t).getTime();return Math.round(n/6048e5)+1}var dwe={};function hwe(){return dwe}function fwe(e,t){var n,r,i,o,s,a,l,c;rwe(1,arguments);var u=hwe(),d=swe(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=iwe(e),f=h.getUTCDay(),p=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function pwe(e,t){var n,r,i,o,s,a,l,c;rwe(1,arguments);var u=iwe(e),d=u.getUTCFullYear(),h=hwe(),f=swe(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:h.firstWeekContainsDate)&&void 0!==r?r:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,f),p.setUTCHours(0,0,0,0);var m=fwe(p,t),g=new Date(0);g.setUTCFullYear(d,0,f),g.setUTCHours(0,0,0,0);var v=fwe(g,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=v.getTime()?d:d-1}function mwe(e,t){rwe(1,arguments);var n=iwe(e),r=fwe(n,t).getTime()-function(e,t){var n,r,i,o,s,a,l,c;rwe(1,arguments);var u=hwe(),d=swe(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),h=pwe(e,t),f=new Date(0);return f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0),fwe(f,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function gwe(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const vwe={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return gwe("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):gwe(n+1,2)},d:function(e,t){return gwe(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return gwe(e.getUTCHours()%12||12,t.length)},H:function(e,t){return gwe(e.getUTCHours(),t.length)},m:function(e,t){return gwe(e.getUTCMinutes(),t.length)},s:function(e,t){return gwe(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return gwe(Math.floor(r*Math.pow(10,n-3)),t.length)}};var bwe="midnight",ywe="noon",wwe="morning",xwe="afternoon",_we="evening",Cwe="night",kwe={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return vwe.y(e,t)},Y:function(e,t,n,r){var i=pwe(e,r),o=i>0?i:1-i;return"YY"===t?gwe(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):gwe(o,t.length)},R:function(e,t){return gwe(cwe(e),t.length)},u:function(e,t){return gwe(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return gwe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return gwe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return vwe.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return gwe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=mwe(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):gwe(i,t.length)},I:function(e,t,n){var r=uwe(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):gwe(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):vwe.d(e,t)},D:function(e,t,n){var r=function(e){rwe(1,arguments);var t=iwe(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):gwe(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return gwe(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return gwe(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return gwe(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?ywe:0===i?bwe:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?_we:i>=12?xwe:i>=4?wwe:Cwe,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return vwe.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):vwe.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):gwe(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):gwe(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):vwe.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):vwe.s(e,t)},S:function(e,t){return vwe.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return Awe(i);case"XXXX":case"XX":return Twe(i);default:return Twe(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return Awe(i);case"xxxx":case"xx":return Twe(i);default:return Twe(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Swe(i,":");default:return"GMT"+Twe(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Swe(i,":");default:return"GMT"+Twe(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return gwe(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return gwe((r._originalDate||e).getTime(),t.length)}};function Swe(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var s=t||"";return n+String(i)+s+gwe(o,2)}function Awe(e,t){return e%60===0?(e>0?"-":"+")+gwe(Math.abs(e)/60,2):Twe(e,t)}function Twe(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+gwe(Math.floor(i/60),2)+n+gwe(i%60,2)}const Iwe=kwe;var Mwe=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Ewe=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Pwe={p:Ewe,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return Mwe(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Mwe(i,t)).replace("{{time}}",Ewe(o,t))}};const Dwe=Pwe;var jwe=["D","DD"],Owe=["YY","YYYY"];function Rwe(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Lwe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const Nwe=function(e,t,n){var r,i=Lwe[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Bwe(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Fwe={date:Bwe({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Bwe({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Bwe({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var zwe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const Vwe=function(e,t,n,r){return zwe[e]};function Wwe(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var Hwe={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Wwe({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Wwe({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Wwe({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Wwe({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Wwe({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};const Uwe=Hwe;function $we(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s,a=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(a)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(a)}));return s=e.valueCallback?e.valueCallback(c):c,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(a.length)}}}var Ywe,Gwe={ordinalNumber:(Ywe={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(Ywe.matchPattern);if(!n)return null;var r=n[0],i=e.match(Ywe.parsePattern);if(!i)return null;var o=Ywe.valueCallback?Ywe.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(r.length)}}),era:$we({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:$we({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:$we({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:$we({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:$we({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const qwe={code:"en-US",formatDistance:Nwe,formatLong:Fwe,formatRelative:Vwe,localize:Uwe,match:Gwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Xwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Kwe=/^'([^]*?)'?$/,Qwe=/''/g,Jwe=/[a-zA-Z]/;function exe(e,t,n){var r,i,o,s,a,l,c,u,d,h,f,p,m,g,v,b,y,w;rwe(2,arguments);var x=String(t),_=hwe(),C=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:_.locale)&&void 0!==r?r:qwe,k=swe(null!==(o=null!==(s=null!==(a=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==a?a:_.firstWeekContainsDate)&&void 0!==s?s:null===(d=_.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==o?o:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=swe(null!==(f=null!==(p=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(v=n.locale)||void 0===v||null===(b=v.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==m?m:_.weekStartsOn)&&void 0!==p?p:null===(y=_.locale)||void 0===y||null===(w=y.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==f?f:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var A=iwe(e);if(!owe(A))throw new RangeError("Invalid time value");var T=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(A),I=awe(A,T),M={firstWeekContainsDate:k,weekStartsOn:S,locale:C,_originalDate:A};return x.match(Zwe).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,Dwe[t])(e,C.formatLong):e})).join("").match(Xwe).map((function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(Kwe);if(!t)return e;return t[1].replace(Qwe,"'")}(r);var o,s=Iwe[i];if(s)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(o=r,-1===Owe.indexOf(o))||Rwe(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==jwe.indexOf(e)}(r)||Rwe(r,t,String(e)),s(I,r,C.localize,M);if(i.match(Jwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("")}const txe=e=>{let{message:t,selectedMessages:n,handleReadMessage:r}=e;return(0,je.jsx)(nwe,{sx:{padding:"15px"},children:(0,je.jsxs)(Pt,{container:!0,spacing:2,alignItems:"flex-start",children:[(0,je.jsx)(Pt,{item:!0,xs:1,sx:{display:"flex",alignItems:"center"},children:(0,je.jsx)(Qbe,{checked:n.includes(t._id),onClick:e=>{e.stopPropagation(),r(t._id)}})}),(0,je.jsx)(Pt,{item:!0,xs:11,children:(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column",gap:1,padding:2,border:"1px solid #ddd",borderRadius:2,backgroundColor:"#f9f9f9",minHeight:"100px"},children:[(0,je.jsxs)(We,{sx:{borderBottom:"0.5px solid #000",paddingBottom:"2px"},children:[(0,je.jsxs)(Ks,{sx:{fontSize:"0.7rem"},children:["From : ",t.sender]}),(0,je.jsx)(We,{sx:{textAlign:"right"},children:(0,je.jsx)(Ks,{sx:{fontSize:"0.7rem",color:"textSecondary",mb:1},children:exe(new Date(t.date),"yyyy-MM-dd HH:mm")})}),(0,je.jsx)(Ks,{sx:{fontSize:"0.7rem",fontWeight:"bold"},children:t.title})]}),(0,je.jsx)(Ks,{sx:{fontSize:"1rem",mt:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.content}),(0,je.jsx)(We,{sx:{textAlign:"right"},children:(0,je.jsx)(Ks,{sx:{fontSize:"0.875rem",color:t.isRead?"textPrimary":"error.main"},children:t.isRead?"\uc77d\uc74c":"\uc548 \uc77d\uc74c"})})]})})]})})},nxe=e=>{let{message:t,onMessageRead:n,onClose:r}=e;const o=bl(),s=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{!t||t.isRead||s.current||o(Ch(t._id)).then((()=>{n&&n(t._id),s.current=!0})).catch((e=>{console.error("Error updating message status:",e)}))}),[t,n,o]),(0,i.useEffect)((()=>{console.log("\ub2f4\uae30\ub294 \ub370\uc774\ud130 \ud655\uc778:",t)}),[t]),(0,je.jsxs)(ya,{open:Boolean(t),onClose:r,maxWidth:"sm",fullWidth:!0,children:[(0,je.jsx)(ka,{sx:{position:"relative",padding:"16px"},children:(0,je.jsx)(eo,{edge:"end",color:"inherit",onClick:r,"aria-label":"close",sx:{position:"absolute",right:20,top:-1,color:e=>e.palette.grey[500]},children:(0,je.jsx)(Ea.A,{})})}),(0,je.jsx)(Ia,{sx:{padding:2,overflowX:"hidden"},children:(0,je.jsx)(Pt,{container:!0,spacing:2,justifyContent:"center",children:(0,je.jsx)(Pt,{item:!0,sm:12,children:(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column",gap:2,padding:2,border:"1px solid #ddd",borderRadius:2,backgroundColor:"#f9f9f9",minHeight:"300px",overflow:"hidden",width:"100%",boxSizing:"border-box"},children:[(0,je.jsxs)(We,{sx:{borderBottom:"0.5px solid #000",paddingBottom:"2px"},children:[(0,je.jsxs)(Ks,{sx:{fontSize:"0.8rem"},children:["to : ",t.sender]}),(0,je.jsx)(We,{sx:{textAlign:"right"},children:(0,je.jsx)(Ks,{sx:{fontSize:"0.8rem",color:"textSecondary",mb:1},children:exe(new Date(t.date),"yyyy-MM-dd HH:mm")})}),(0,je.jsx)(Ks,{sx:{fontSize:"0.8rem",fontWeight:"bold"},children:t.title})]}),(0,je.jsx)(Ks,{sx:{fontSize:"1.1rem",mt:1,whiteSpace:"normal",overflow:"hidden",textOverflow:"clip"},children:t.content})]})})})})]})};var rxe=n(9120);const ixe=e=>{let{rowsPerPage:t,setRowsPerPage:n}=e;const r=e=>({backgroundColor:t===e?"#40190B":"#A67153",color:"white"});return(0,je.jsx)(We,{sx:{display:"flex",gap:1},children:[3,5,10,25].map((e=>(0,je.jsxs)(hm,{style:r(e),onClick:()=>n(e),children:[e,"\uac1c"]},e)))})},oxe=()=>{const e=bl(),t=sl((e=>e.myMessage.messages)),[n,r]=(0,i.useState)([]),[o,s]=(0,i.useState)([]),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),f=sl((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.user)||{}})),[p,m]=(0,i.useState)(0),[g,v]=(0,i.useState)(3),b=Math.ceil(n.length/g);(0,i.useEffect)((()=>{f.email&&e(xh(f.email))}),[f.email,e]),(0,i.useEffect)((()=>{r(t)}),[t]);const y=e=>{s((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},w=()=>{u(!1),l(null)},[x,_]=(0,i.useState)(!1),[C,k]=(0,i.useState)(""),[S,A]=(0,i.useState)("success");return(0,je.jsxs)(We,{children:[(0,je.jsxs)(We,{sx:{mt:2,mb:3,display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"white",borderRadius:"8px",padding:"16px",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},children:[(0,je.jsxs)(We,{sx:{ml:2,display:"flex",alignItems:"center"},children:[(0,je.jsx)(Qbe,{checked:d,onChange:()=>{h(!d);const e=n.slice(p*g,p*g+g);s(d?[]:e.map((e=>e._id)))}}),"\uc804\uccb4\uc120\ud0dd"]}),(0,je.jsx)(We,{children:(0,je.jsx)(ixe,{rowsPerPage:g,setRowsPerPage:v})})]}),(0,je.jsx)(Cye,{component:Qo,children:(0,je.jsxs)(Eye,{children:[(0,je.jsx)(Nye,{}),(0,je.jsx)(Hye,{children:n.slice(p*g,p*g+g).sort(((e,t)=>new Date(t.date)-new Date(e.date))).map((e=>(0,je.jsx)(Zye,{onClick:()=>(e=>{l(e),u(!0)})(e),style:{cursor:"pointer"},children:(0,je.jsx)(txe,{message:e,selectedMessages:o,handleReadMessage:y})},e._id)))})]})}),(0,je.jsxs)(We,{sx:{mt:2,display:"flex",justifyContent:"center"},children:[(0,je.jsx)(um,{onClick:()=>{e(Ch(o)).then((()=>{e(xh(f.email)),s([])})).catch((e=>{console.error("Error marking messages as read:",e)}))},variant:"contained",color:"primary",sx:{mr:1},children:"\uc77d\uc74c\uc73c\ub85c \ud45c\uc2dc"}),(0,je.jsx)(hm,{onClick:()=>{e(kh(o)).then((()=>{r((e=>e.filter((e=>!o.includes(e._id))))),s([]),k("\uc120\ud0dd\ud55c \uba54\uc2dc\uc9c0\ub97c \uc0ad\uc81c\ud588\uc2b5\ub2c8\ub2e4."),A("success"),_(!0)})).catch((e=>{console.error("Error deleting messages:",e)}))},variant:"contained",color:"error",children:"\uc0ad\uc81c"})]}),(0,je.jsx)(ya,{open:c,onClose:w,maxWidth:"sm",fullWidth:!0,children:(0,je.jsx)(Ia,{children:a&&(0,je.jsx)(nxe,{message:a,selectedMessages:o,handleReadMessage:y,onClose:w})})}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mt:2},children:[(0,je.jsx)(eo,{onClick:()=>m((e=>Math.max(e-1,0))),disabled:0===p,children:(0,je.jsx)(rxe.A,{})}),(0,je.jsx)(We,{sx:{display:"flex",alignItems:"center"},children:Array.from({length:b},((e,t)=>(0,je.jsx)(eo,{onClick:()=>m(t),sx:{mx:.5},color:p===t?"primary":"default",children:(0,je.jsx)(Ks,{variant:"body2",children:t+1})},t)))}),(0,je.jsx)(eo,{onClick:()=>m((e=>Math.min(e+1,b-1))),disabled:p>=b-1,children:(0,je.jsx)(S9.A,{})})]}),(0,je.jsx)(XI,{open:x,message:C,severity:S,onClose:()=>{_(!1)},duration:5e3})]})},sxe=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[o,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),d=sl((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.user)||{}})),[h,f]=(0,i.useState)(0),[p,m]=(0,i.useState)(3),g=Math.ceil(e.length/p);(0,i.useEffect)((()=>{d.email&&gh.get(`/users/messages/${d.email}/true`).then((e=>t(e.data))).catch((e=>console.error("Error fetching messages:",e)))}),[d.email]);const v=e=>{r((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},[b,y]=(0,i.useState)(!1),[w,x]=(0,i.useState)(""),[_,C]=(0,i.useState)("success"),k=()=>{l(!1),s(null)};return(0,je.jsxs)(We,{children:[(0,je.jsxs)(We,{sx:{mt:2,mb:3,display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"white",borderRadius:"8px",padding:"16px",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},children:[(0,je.jsxs)(We,{sx:{ml:2,display:"flex",alignItems:"center"},children:[(0,je.jsx)(Qbe,{checked:c,onChange:()=>{u(!c);const t=e.slice(h*p,h*p+p);r(c?[]:t.map((e=>e._id)))}}),"\uc804\uccb4\uc120\ud0dd"]}),(0,je.jsx)(We,{children:(0,je.jsx)(ixe,{rowsPerPage:p,setRowsPerPage:m})})]}),(0,je.jsx)(Cye,{component:Qo,children:(0,je.jsxs)(Eye,{children:[(0,je.jsx)(Nye,{}),(0,je.jsx)(Hye,{children:e.slice(h*p,h*p+p).sort(((e,t)=>new Date(t.date)-new Date(e.date))).map((e=>(0,je.jsx)(Zye,{onClick:()=>(e=>{s(e),l(!0)})(e),style:{cursor:"pointer"},children:(0,je.jsx)(txe,{message:e,selectedMessages:n,handleReadMessage:v})},e._id)))})]})}),(0,je.jsx)(We,{sx:{mt:2,display:"flex",justifyContent:"center"},children:(0,je.jsx)(hm,{onClick:()=>{gh.post("/users/messages/delete",{ids:n}).then((e=>{t((e=>e.filter((e=>!n.includes(e._id))))),r([]),x("\uc120\ud0dd\ud55c \uba54\uc2dc\uc9c0\ub97c \uc0ad\uc81c\ud588\uc2b5\ub2c8\ub2e4."),C("success"),y(!0)})).catch((e=>{console.error("Error deleting messages:",e)}))},variant:"contained",color:"error",children:"\uc0ad\uc81c"})}),(0,je.jsx)(ya,{open:a,onClose:k,maxWidth:"sm",fullWidth:!0,children:(0,je.jsx)(Ia,{children:o&&(0,je.jsx)(nxe,{message:o,selectedMessages:n,handleReadMessage:v,onClose:k})})}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mt:2},children:[(0,je.jsx)(eo,{onClick:()=>f((e=>Math.max(e-1,0))),disabled:0===h,children:(0,je.jsx)(rxe.A,{})}),(0,je.jsx)(We,{sx:{display:"flex",alignItems:"center"},children:Array.from({length:g},((e,t)=>(0,je.jsx)(eo,{onClick:()=>f(t),sx:{mx:.5},color:h===t?"primary":"default",children:(0,je.jsx)(Ks,{variant:"body2",children:t+1})},t)))}),(0,je.jsx)(eo,{onClick:()=>f((e=>Math.min(e+1,g-1))),disabled:h>=g-1,children:(0,je.jsx)(S9.A,{})})]}),(0,je.jsx)(XI,{open:b,message:w,severity:_,onClose:()=>{y(!1)},duration:5e3})]})},axe=()=>{const[e,t]=(0,i.useState)("unreadMessages"),[n,r]=(0,i.useState)({readCount:0,unreadCount:0}),o=sl((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.user)||{}}));return(0,i.useEffect)((()=>{o.email&&gh.get(`/users/messages/counts/${o.email}`).then((e=>{r(e.data)})).catch((e=>console.error("Error fetching messages:",e)))}),[n]),(0,je.jsxs)(We,{sx:{maxWidth:600,mx:"auto"},children:[(0,je.jsx)(We,{sx:{display:"flex",justifyContent:"space-between",mb:0,borderBottom:"1px solid #ddd"},children:["unreadMessages","readMessages"].map((r=>(0,je.jsxs)(We,{sx:{flex:1,textAlign:"center",cursor:"pointer",position:"relative",p:3,borderRadius:2,transition:"background-color 0.3s, transform 0.3s",backgroundColor:e===r?"#e0e0e0":"transparent",transform:e===r?"scale(1.05)":"scale(1)","&:hover":{backgroundColor:e!==r?"#f0f0f0":"transparent"},"&::after":{content:'""',position:"absolute",bottom:0,left:"50%",width:e===r?"70%":"0%",height:"3px",backgroundColor:"#40190B",transform:"translateX(-50%)",transition:"width 0.3s ease"}},onClick:()=>(e=>{t(e)})(r),children:[(0,je.jsxs)(Ks,{variant:"body1",children:["unreadMessages"===r&&"\uc548 \uc77d\uc74c","readMessages"===r&&"\uc77d\uc74c"]}),(0,je.jsxs)(Ks,{variant:"body2",children:["unreadMessages"===r&&n.unreadCount,"readMessages"===r&&n.readCount]})]},r)))}),(0,je.jsxs)(We,{sx:{p:3,bgcolor:"#e0e0e0",borderRadius:2,boxShadow:3,transition:"background-color 0.3s ease"},children:["unreadMessages"===e&&(0,je.jsx)(oxe,{}),"readMessages"===e&&(0,je.jsx)(sxe,{})]})]})},lxe=()=>(0,je.jsx)(We,{children:(0,je.jsx)(Ks,{children:"MyChat"})}),cxe=()=>{const[e,t]=(0,i.useState)(""),n=n=>{t(e===n?"":n)};return(0,je.jsx)(We,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",maxWidth:600,mx:"auto"},children:(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column"},children:[(0,je.jsx)(um,{variant:"notice"===e?"contained":"outlined",onClick:()=>n("notice"),sx:{position:"relative",borderColor:"transparent",backgroundColor:"notice"===e?"#A67153":"#DBC7B5",color:"#30231C","&:hover":{borderColor:"transparent",backgroundColor:"notice"===e?"#DBC7B5":"#A67153"},textAlign:"left",paddingLeft:"16px",width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",mb:1,overflow:"hidden","&::after":{content:'""',position:"absolute",bottom:0,left:"50%",width:"notice"===e?"100%":"0%",height:"2px",backgroundColor:"#595959",transform:"translateX(-50%)",transition:"width 0.3s ease"}},children:"\uacf5\uc9c0\uc0ac\ud56d"}),"notice"===e&&(0,je.jsxs)(We,{sx:{p:3,bgcolor:"white",borderRadius:2,boxShadow:3,marginBottom:"15px"},children:[(0,je.jsx)(Ks,{variant:"h6",component:"h2",align:"center",children:"\uacf5\uc9c0\uc0ac\ud56d"}),(0,je.jsx)(Ks,{variant:"body1",align:"center",mt:2,children:"\uc5ec\uae30\uc5d0 \uacf5\uc9c0\uc0ac\ud56d \ub0b4\uc6a9\uc744 \ucd94\uac00\ud558\uc138\uc694."})]}),(0,je.jsx)(um,{variant:"support"===e?"contained":"outlined",onClick:()=>n("support"),sx:{position:"relative",backgroundColor:"support"===e?"#A67153":"#DBC7B5",borderColor:"transparent",color:"#30231C","&:hover":{backgroundColor:"support"===e?"#DBC7B5":"#A67153",borderColor:"transparent"},textAlign:"left",paddingLeft:"16px",width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",mb:1,overflow:"hidden","&::after":{content:'""',position:"absolute",bottom:0,left:"50%",width:"support"===e?"100%":"0%",height:"2px",backgroundColor:"#595959",transform:"translateX(-50%)",transition:"width 0.3s ease"}},children:"\uace0\uac1d\uc13c\ud130"}),"support"===e&&(0,je.jsxs)(We,{sx:{p:3,bgcolor:"white",borderRadius:2,boxShadow:3,marginBottom:"15px"},children:[(0,je.jsx)(Ks,{variant:"h6",component:"h2",align:"center",children:"\uace0\uac1d\uc13c\ud130"}),(0,je.jsx)(Ks,{variant:"body1",align:"center",mt:2,children:"\uc5ec\uae30\uc5d0 \uace0\uac1d\uc13c\ud130 \uc815\ubcf4\ub97c \ucd94\uac00\ud558\uc138\uc694."})]}),(0,je.jsx)(um,{variant:"faq"===e?"contained":"outlined",onClick:()=>n("faq"),sx:{position:"relative",backgroundColor:"faq"===e?"#A67153":"#DBC7B5",borderColor:"transparent",color:"#30231C","&:hover":{borderColor:"transparent",backgroundColor:"faq"===e?"#DBC7B5":"#A67153"},textAlign:"left",paddingLeft:"16px",width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",overflow:"hidden","&::after":{content:'""',position:"absolute",bottom:0,left:"50%",width:"faq"===e?"100%":"0%",height:"2px",backgroundColor:"#595959",transform:"translateX(-50%)",transition:"width 0.3s ease"}},children:"\uc790\uc8fc \ubb3b\ub294 \uc9c8\ubb38"}),"faq"===e&&(0,je.jsxs)(We,{sx:{p:3,bgcolor:"white",borderRadius:2,boxShadow:3,marginBottom:"15px"},children:[(0,je.jsx)(Ks,{variant:"h6",component:"h2",align:"center",children:"\uc790\uc8fc \ubb3b\ub294 \uc9c8\ubb38"}),(0,je.jsx)(Ks,{variant:"body1",align:"center",mt:2,children:"\uc5ec\uae30\uc5d0 \uc790\uc8fc \ubb3b\ub294 \uc9c8\ubb38\uacfc \ub2f5\ubcc0\uc744 \ucd94\uac00\ud558\uc138\uc694."})]})]})})};var uxe=n(5540),dxe=n(6940),hxe=n(3471);const fxe=()=>{var e,t,n;const r=bl(),o=Q(),s=sl((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.user)||{}})),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(null),m=sl((e=>{var t;return(null===(t=e.myMessage)||void 0===t?void 0:t.messages)||{}})),[g,v]=(0,i.useState)(0);(0,i.useEffect)((()=>{if(!m)return void v(0);const e=m.filter((e=>!e.isRead)).length;v(e)}),[m]);const b=[{path:"",name:"\ubaa8\uc784 \uad00\ub9ac",component:(0,je.jsx)(yye,{})},{path:"chat",name:"\ucc44\ud305",component:(0,je.jsx)(lxe,{})},{path:"myupdate",name:"\ud68c\uc6d0 \uc815\ubcf4",component:(0,je.jsx)(lye,{})},{path:"mymessage",name:"\uba54\uc2dc\uc9c0 \ud568",component:(0,je.jsx)(axe,{})},{path:"setting",name:"\uc548\ub0b4\uc0ac\ud56d",component:(0,je.jsx)(cxe,{})}],y=ee(),[w,x]=(0,i.useState)("");(0,i.useEffect)((()=>{const e=o.pathname.split("/").slice(-1)[0],t=b.find((t=>t.path===e));x(t?e:"")}),[o.pathname]);(0,i.useEffect)((()=>{r(Mh())}),[r]);const _=()=>l(!1),C=()=>p(null),k=Boolean(f),[S,A]=(0,i.useState)(!1),[T,I]=(0,i.useState)((null===s||void 0===s||null===(e=s.profilePic)||void 0===e?void 0:e.introduction)||""),[M,E]=(0,i.useState)(""),P=()=>{A(!1)},[D,j]=(0,i.useState)(!1),O=((null===s||void 0===s?void 0:s.category)||[]).flatMap((e=>e.sub||[])),R=D?O:O.slice(0,6),L=O.length-6;return(0,je.jsx)(We,{sx:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:"auto",minHeight:"170vh",height:"auto",p:2,position:"relative"},children:(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"row",width:1200,height:"100vh"},children:[(0,je.jsx)(We,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",width:450,bgcolor:"white",position:"sticky",top:0,zIndex:1,overflow:"hidden",maxHeight:"100vh",borderRadius:5},children:(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column",mt:6,minWidth:400,mx:"auto"},children:[(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mb:2,position:"relative"},children:[(0,je.jsxs)(We,{sx:{position:"relative"},children:[(0,je.jsx)(Sp,{sx:{width:130,height:130,cursor:"pointer"},src:(null===s||void 0===s||null===(t=s.profilePic)||void 0===t?void 0:t.thumbnailImage)||"",onClick:()=>{var e;return(e=>{u(e),l(!0)})((null===s||void 0===s||null===(e=s.profilePic)||void 0===e?void 0:e.originalImage)||"")}}),(0,je.jsxs)(We,{sx:{position:"relative"},children:[(0,je.jsx)(eo,{sx:{position:"absolute",bottom:0,right:0,bgcolor:"background.paper",borderRadius:"50%",width:34,height:34,boxShadow:1,"&:hover":{bgcolor:"grey.200"}},onClick:e=>p(e.currentTarget),children:(0,je.jsx)(dxe.A,{})}),(0,je.jsx)(us,{open:Boolean(k),anchorEl:f,onClose:C,sx:{"& .MuiPopover-paper":{borderRadius:"15px",border:"1px solid #A9A9A9",bgcolor:"#D3D3D3",p:1,marginLeft:4}},children:(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column"},children:[(0,je.jsxs)(Es,{onClick:async()=>{document.getElementById("profileUpload").click(),C();const e=document.getElementById("profileUpload");e.addEventListener("change",(async()=>{const t=e.files[0];if(t){const e=new FormData;e.append("image",t);try{await gh.put("/users/profile/image",e,{headers:{"Content-Type":"multipart/form-data"}}),r(Mh()),alert("\uc774\ubbf8\uc9c0\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(M){M.response?(console.error("\uc11c\ubc84 \uc751\ub2f5 \uc624\ub958:",M.response.data),alert(`\uc774\ubbf8\uc9c0 \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \uc624\ub958: ${M.response.data.message||"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958"}`)):M.request?(console.error("\uc11c\ubc84 \uc751\ub2f5 \uc5c6\uc74c:",M.request),alert("\uc774\ubbf8\uc9c0 \uc218\uc815 \uc694\uccad\uc774 \uc11c\ubc84\uc5d0 \ub3c4\ub2ec\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4. \ub124\ud2b8\uc6cc\ud06c\ub97c \ud655\uc778\ud574 \uc8fc\uc138\uc694.")):(console.error("\uc694\uccad \uc124\uc815 \uc624\ub958:",M.message),alert(`\uc774\ubbf8\uc9c0 \uc218\uc815 \uc694\uccad \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4: ${M.message}`))}}}),{once:!0})},children:[(0,je.jsx)(fm.A,{sx:{mr:1}}),"\uc218\uc815\ud558\uae30"]}),(0,je.jsxs)(Es,{onClick:async()=>{console.log("\uc0ad\uc81c\ud558\uae30 \ud074\ub9ad"),C();try{200===(await gh.delete("/users/profile/image_del")).status?(await r(Mh()),alert("\uc774\ubbf8\uc9c0\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")):alert("\uc774\ubbf8\uc9c0 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}catch(M){console.error("\uc774\ubbf8\uc9c0 \uc0ad\uc81c \uc911 \uc624\ub958 \ubc1c\uc0dd:",M),alert("\uc774\ubbf8\uc9c0 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}},children:[(0,je.jsx)(hxe.A,{sx:{mr:1}}),"\uc0ad\uc81c\ud558\uae30"]})]})}),(0,je.jsx)("input",{accept:"image/*",type:"file",style:{display:"none"},id:"profileUpload"})]})]}),(0,je.jsxs)(We,{sx:{ml:3,width:250},children:[(0,je.jsx)(Ks,{variant:"h6",children:(null===s||void 0===s?void 0:s.name)||""}),(0,je.jsxs)(Ks,{variant:"body2",color:"textSecondary",children:[null!==s&&void 0!==s&&s.homeLocation?`${s.homeLocation.city||""} `:"\uac70\uc8fc\uc9c0 \uc815\ubcf4 \uc5c6\uc74c","\u2022","  ",null!==s&&void 0!==s&&s.age?`${s.age.year||""}\ub144 ${s.age.month||""}\uc6d4 ${s.age.day||""}\uc77c`:"\ub098\uc774 \uc815\ubcf4 \uc5c6\uc74c"]}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:2},children:[(0,je.jsx)(Ks,{variant:"body2",sx:{flex:1},children:(null===s||void 0===s||null===(n=s.profilePic)||void 0===n?void 0:n.introduction)||"\uc18c\uac1c\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,je.jsx)(eo,{sx:{bgcolor:"background.paper",borderRadius:"50%",width:30,height:30,boxShadow:1,"&:hover":{bgcolor:"grey.200"}},onClick:()=>{A(!0)},children:(0,je.jsx)(uxe.A,{})})]}),(0,je.jsx)(Go,{open:S,onClose:P,"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:(0,je.jsxs)(We,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:2},children:[(0,je.jsx)(Gy,{sx:{my:2}}),(0,je.jsx)(Mv,{fullWidth:!0,multiline:!0,rows:4,value:T,onChange:e=>{const t=e.target.value;t.length>30?E("\uc18c\uac1c\uae00\uc740 30\uc790 \uc774\ud558\ub85c \uc791\uc131\ud574\uc57c \ud569\ub2c8\ub2e4."):(E(""),I(t))},variant:"outlined",sx:{mb:2},error:!!M,helperText:M}),(0,je.jsxs)(We,{sx:{display:"flex",justifyContent:"flex-end"},children:[(0,je.jsx)(la,{onClick:async()=>{try{200===(await gh.put("/users/introduction",{introduction:T})).status?(alert("\uc18c\uac1c\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),await r(Mh()),P()):alert("\uc18c\uac1c \uc5c5\ub370\uc774\ud2b8\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}catch(M){M.response?(console.error("\uc11c\ubc84 \uc751\ub2f5 \uc624\ub958:",M.response.data),alert(`\uc624\ub958: ${M.response.data.message||"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958"}`)):M.request?(console.error("\uc11c\ubc84 \uc751\ub2f5 \uc5c6\uc74c:",M.request),alert("\uc11c\ubc84\uc5d0 \uc751\ub2f5\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \ub124\ud2b8\uc6cc\ud06c\ub97c \ud655\uc778\ud574 \uc8fc\uc138\uc694.")):(console.error("\uc694\uccad \uc124\uc815 \uc624\ub958:",M.message),alert(`\uc694\uccad \uc624\ub958: ${M.message}`))}},variant:"contained",children:"\ubcc0\uacbd\ud558\uae30"}),(0,je.jsx)(la,{onClick:P,variant:"outlined",children:"\ucde8\uc18c\ud558\uae30"})]}),(0,je.jsx)(eo,{onClick:P,sx:{position:"absolute",top:10,right:10,bgcolor:"background.paper",borderRadius:"50%"},children:(0,je.jsx)(Ea.A,{})})]})}),(0,je.jsx)(We,{sx:{display:"flex",flexDirection:"column",mt:2},children:(0,je.jsxs)(We,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:[R.map(((e,t)=>(0,je.jsx)(We,{sx:{display:"flex",alignItems:"center",justifyContent:"center",px:1,py:.5,bgcolor:"#D3D3D3",color:"black",borderRadius:"15px",border:"1px solid",borderColor:"#A9A9A9",fontWeight:"bold",cursor:"pointer",fontSize:"0.875rem","&:hover":{bgcolor:"#C0C0C0",borderColor:"#808080"}},children:(0,je.jsx)(Ks,{variant:"body2",children:e})},t))),!D&&L>0&&(0,je.jsx)(We,{sx:{display:"flex",alignItems:"center",justifyContent:"center",px:1,py:.5,bgcolor:"#D3D3D3",color:"black",borderRadius:"20px",border:"1px solid",borderColor:"#A9A9A9",fontWeight:"bold",cursor:"pointer",fontSize:"0.875rem","&:hover":{bgcolor:"#C0C0C0",borderColor:"#808080"}},children:(0,je.jsx)(eo,{onClick:()=>j(!0),children:(0,je.jsxs)(Ks,{variant:"body2",children:["+",L]})})}),D&&L>0&&(0,je.jsx)(We,{sx:{display:"flex",alignItems:"center",justifyContent:"center",px:1,py:.5,bgcolor:"#D3D3D3",color:"black",borderRadius:"15px",border:"1px solid",borderColor:"#A9A9A9",fontWeight:"bold",cursor:"pointer",fontSize:"0.875rem","&:hover":{bgcolor:"#C0C0C0",borderColor:"#808080"}},children:(0,je.jsx)(eo,{onClick:()=>j(!1),children:(0,je.jsx)(Ks,{variant:"body2",children:"\uc811\uae30"})})})]})})]})]}),(0,je.jsx)(Gy,{}),(0,je.jsx)(We,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2,width:"100%"},children:b.map((e=>(0,je.jsxs)(We,{sx:{position:"relative",width:"100%"},children:[(0,je.jsx)(um,{variant:"contained",onClick:()=>{return t=e.path,x(t),void y(t);var t},sx:{mb:1,fontSize:"1rem",px:3,py:1.5,width:"100%",height:"40px",position:"relative",variant:w===e.path?"contained":"outlined",backgroundColor:w===e.path?"#A67153":"#DBC7B5",color:w===e.path?"#fff":"#30231C","&:hover":{backgroundColor:w===e.path?"#A6836F":"#A67153"},overflow:"hidden","&::after":{content:'""',position:"absolute",bottom:0,left:"50%",width:w===e.path?"100%":"0%",height:"2px",backgroundColor:"#595959",transform:"translateX(-50%)",transition:"width 0.3s ease"}},children:e.name}),(0,je.jsx)(Hh,{badgeContent:"mymessage"===e.path&&g>0?g:null,color:"error",sx:{"& .MuiBadge-dot":{backgroundColor:"red",width:20,height:20,right:5,borderRadius:"50%"},".MuiBadge-root":{position:"absolute",top:0,right:0,transform:"translate(-50%, -50%)"}}})]},e.path)))})]})}),(0,je.jsx)(We,{sx:{height:"auto",flexGrow:2,p:2},children:(0,je.jsx)(we,{children:b.map((e=>(0,je.jsx)(be,{path:e.path,element:e.component},e.path)))})}),(0,je.jsx)(Go,{open:a,onClose:_,"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:(0,je.jsxs)(We,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,height:500,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,je.jsx)("img",{src:c,alt:"Profile Preview",style:{maxWidth:"100%",maxHeight:"100%"}}),(0,je.jsx)(eo,{sx:{position:"absolute",top:10,right:10,bgcolor:"background.paper",borderRadius:"50%"},onClick:_,children:(0,je.jsx)(Ea.A,{})})]})})]})})};const pxe=function(e){let{}=e;return(0,je.jsx)(we,{children:(0,je.jsxs)(be,{path:"/",element:(0,je.jsx)(fxe,{}),children:[(0,je.jsx)(be,{path:"myclub",element:(0,je.jsx)(yye,{})}),(0,je.jsx)(be,{path:"chat",element:(0,je.jsx)(lxe,{})}),(0,je.jsx)(be,{path:"myupdate",element:(0,je.jsx)(lye,{})}),(0,je.jsx)(be,{path:"mymessage",element:(0,je.jsx)(axe,{})}),(0,je.jsx)(be,{path:"setting",element:(0,je.jsx)(cxe,{})})]})})};const mxe=function(){const e=Q(),t=new URLSearchParams(e.search).get("clubNumber"),[n,r]=(0,i.useState)(!0),o=ee(),s=bl(),[a,l]=(0,i.useState)("\ud648"),c=sl((e=>{var t,n,r;return null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r._id}));i.useEffect((()=>{l((()=>{const t=e.pathname;return t.includes("board")?"\uac8c\uc2dc\ud310":t.includes("gallery")?"\uc0ac\uc9c4\ucca9":t.includes("chat")?"\ucc44\ud305":"\ud648"})())}),[e.pathname]);const u=[{name:"\ud648",path:`/clubs/main?clubNumber=${t}`},{name:"\uac8c\uc2dc\ud310",path:`/clubs/board?clubNumber=${t}`},{name:"\uc0ac\uc9c4\ucca9",path:`/clubs/gallery?clubNumber=${t}`},{name:"\ucc44\ud305",onClick:async()=>{try{if(!c)return void console.error("User ID is missing.");if(!t)throw new Error("\ud074\ub7fd \ubc88\ud638\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");const e=[c];console.log("Participants array before sending:",e);const n=await s(eme({clubId:t,participants:e}));console.log("Action result:",n);const r=n.payload;if(!r)throw new Error("\ucc44\ud305\ubc29 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");console.log("Chat room data:",r),o(`/clubs/chat?clubNumber=${t}`)}catch(e){console.error("Error entering chat room:",e.message||e)}}}];return(0,je.jsx)(We,{sx:{width:"100%",height:"100%"},children:(0,je.jsx)(We,{sx:{width:"100%",height:"50px",backgroundColor:"white",color:"black",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1100,transform:n?"translateY(0)":"translateY(-100%)",transition:"transform 0.3s ease"},children:(0,je.jsx)(gt,{maxWidth:"lg",sx:{padding:"0px !important"},children:(0,je.jsx)(Pt,{container:!0,sx:{alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"18px"},children:u.map((e=>(0,je.jsx)(Pt,{item:!0,xs:3,mt:2.5,component:$a,to:e.path,onClick:t=>{e.onClick&&(t.preventDefault(),e.onClick())},sx:{height:"50px",position:"relative",textDecoration:"none",cursor:"pointer",color:a===e.name?"black":"rgba(0, 0, 0, 0.3)","&:hover":{color:"gray",cursor:"pointer"},"&::after":{content:'""',position:"absolute",bottom:10,left:"50%",width:a===e.name?"70%":"0%",height:"2px",backgroundColor:"#595959",transform:"translateX(-50%)",transition:"width 0.3s ease"}},children:e.name},e.name)))})})})})};const gxe=function(){const e=Q(),t=new URLSearchParams(e.search).get("clubNumber"),n=ee(),r=bl(),o=sl((e=>e.getClub)),s=sl((e=>e.user.userData.user)),[a,l]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t&&r(Xp(t))}),[r,t]),(0,i.useEffect)((()=>{o.clubs&&s.email&&l(!o.clubs.members.includes(s.email))}),[o,s.email,t]),(0,je.jsxs)(We,{children:[(0,je.jsx)(Uh,{}),(0,je.jsx)(mxe,{}),(0,je.jsxs)("main",{children:[(0,je.jsx)(ve,{}),a&&(0,je.jsx)(We,{sx:{position:"fixed",bottom:0,left:0,width:"100%",padding:"16px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1200},children:(0,je.jsx)(gt,{maxWidth:"sm",children:(0,je.jsxs)(Pt,{container:!0,children:[(0,je.jsx)(Pt,{item:!0,xs:1,sx:{backgroundColor:"#F0EDED",textAlign:"center",borderRadius:"20px 0px 0px 20px"},children:(0,je.jsx)(ZI,{})}),(0,je.jsx)(Pt,{item:!0,xs:11,sx:{textAlign:"center"},children:(0,je.jsx)(la,{variant:"contained",onClick:()=>{""===s.email?(alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4."),n("/login")):gh.post(`http://localhost:4000/clubs/addMember/${t}`).then((e=>{alert("\ubaa8\uc784 \uac00\uc785\uc131\uacf5");const i=[{club:t,recipient:s.email,sender:o.clubs.title,content:`${o.clubs.title} \ubaa8\uc784 \uac00\uc785\uc744 \ucd95\ud558\ub4dc\ub9bd\ub2c8\ub2e4.`,title:"\ubaa8\uc784 \uac00\uc785\uc131\uacf5"},{club:t,recipient:o.clubs.admin,sender:s.email,content:`${s.email}\uc5d0\uc11c \ubaa8\uc784\uc5d0 \uac00\uc785\ud588\uc2b5\ub2c8\ub2e4.`,title:`${s.email}\ub2d8 \ubaa8\uc784\uc5d0 \uac00\uc785`}];r(_h(i[0])),gh.post("/users/messages",i[1]).then((()=>{console.log("\uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc131\uacf5"),n("/mypage")})).catch((e=>{console.error("\uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc2e4\ud328",e)}))})).catch((e=>{console.log(e),alert("\ubaa8\uc784 \uac00\uc785\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))},sx:{width:"100%",fontSize:"18px",borderRadius:"0px 20px 20px 0px"},children:"\ubaa8\uc784 \uac00\uc785\ud558\uae30"})})]})})})]}),(0,je.jsx)(qh,{})]})};st("div")({height:"100vh",width:"100vw",position:"absolute",top:0,left:0,overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none"}),st("div")((e=>{let{theme:t,clicked:n}=e;return{height:"60px",width:"60px",border:"3px solid #A6836F",borderRadius:"50%",position:"absolute",animation:n?"explode 0.5s forwards":"animate 10s linear infinite",transition:"animation 0.5s ease","&:nth-of-type(1)":{top:"20%",left:"20%",animationDuration:"8s"},"&:nth-of-type(2)":{top:"60%",left:"80%",animationDuration:"10s"},"&:nth-of-type(3)":{top:"40%",left:"40%",animationDuration:"3s"},"&:nth-of-type(4)":{top:"66%",left:"30%",animationDuration:"7s"},"&:nth-of-type(5)":{top:"90%",left:"10%",animationDuration:"9s"},"&:nth-of-type(6)":{top:"30%",left:"60%",animationDuration:"5s"},"&:nth-of-type(7)":{top:"70%",left:"20%",animationDuration:"8s"},"&:nth-of-type(8)":{top:"75%",left:"60%",animationDuration:"10s"},"&:nth-of-type(9)":{top:"50%",left:"50%",animationDuration:"6s"},"&:nth-of-type(10)":{top:"45%",left:"20%",animationDuration:"10s"},"&:nth-of-type(11)":{top:"10%",left:"90%",animationDuration:"9s"},"&:nth-of-type(12)":{top:"20%",left:"70%",animationDuration:"7s"},"&:nth-of-type(13)":{top:"20%",left:"20%",animationDuration:"8s"},"&:nth-of-type(14)":{top:"60%",left:"5%",animationDuration:"6s"},"&:nth-of-type(15)":{top:"90%",left:"80%",animationDuration:"9s"}}})),st("style")({"@keyframes animate":{"0%":{transform:"scale(0) translateY(0) rotate(70deg)",opacity:.7},"100%":{transform:"scale(1.3) translateY(-100px) rotate(360deg)",opacity:0}},"@keyframes explode":{"0%":{transform:"scale(1) translateY(0) rotate(0deg)",opacity:1},"100%":{transform:"scale(3) translateY(-150px) rotate(720deg)",opacity:0}}});var vxe=n(8282),bxe=n(3828),yxe=n(3147),wxe=n(6369),xxe=n(5505),_xe=n(8012),Cxe=n(4898),kxe=n(4822),Sxe=n(6274),Axe=n(7884),Txe=n(3536),Ixe=n(6997);const Mxe=e=>{let{clubList:t}=e;const n=ee();return t&&0!==t.length?(0,je.jsx)(je.Fragment,{children:t.map((e=>(0,je.jsx)(Pt,{item:!0,xs:12,sm:6,md:4,sx:{},children:(0,je.jsxs)(Qo,{elevation:3,sx:{borderRadius:"20px",overflow:"hidden",display:"flex",flexDirection:"column",height:"100%",backgroundColor:"white",boxShadow:"none"},children:[(0,je.jsxs)(We,{sx:{width:"100%",height:"300px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",backgroundColor:"#f0f0f0"},children:[(0,je.jsx)("img",{src:"http://localhost:4000/"+e.img,alt:e.title,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"20px 20px 0 0"}}),(0,je.jsx)(We,{sx:{position:"absolute",top:0,right:0,backgroundColor:"#f2f2f2",width:"150px",height:"40px",paddingBottom:"18px",borderBottom:"15px solid #f2f2f2",borderLeft:"15px solid #f2f2f2",borderBottomLeftRadius:"20px"},children:(0,je.jsx)(We,{sx:{display:"flex",marginTop:"5px",marginLeft:"5px",justifyContent:"center",alignItems:"center",width:"130px",height:"50px",color:"#A6836F",fontWeight:"bold",borderRadius:"20px",backgroundColor:"white"},children:e.mainCategory})}),(0,je.jsx)(Ixe.A,{sx:{position:"absolute",top:49,right:-24,color:"#f2f2f2",zIndex:3,fontSize:"50px",transform:"rotate(-45deg)"}}),(0,je.jsx)(Ixe.A,{sx:{position:"absolute",top:-23,right:141,color:"#f2f2f2",zIndex:3,fontSize:"50px",transform:"rotate(-45deg)"}})]}),(0,je.jsxs)(We,{sx:{padding:"16px",display:"flex",flexDirection:"column",height:"200px",position:"relative"},children:[(0,je.jsx)(Ks,{variant:"h5",sx:{fontWeight:"700",fontSize:"20px",color:"#383535",marginBottom:"8px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e.title}),(0,je.jsx)(Ks,{variant:"h6",sx:{fontWeight:"500",fontSize:"18px",color:"#777777",marginBottom:"8px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e.subTitle}),(0,je.jsx)(Ks,{variant:"body2",sx:{color:"#9F9E9D",marginBottom:"8px"},children:e.region.district}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center"},children:[(0,je.jsx)(SI.A,{sx:{color:"#BF5B16",fontSize:"18px"}}),(0,je.jsx)(Ks,{variant:"body2",sx:{color:"#BF5B16",marginLeft:"5px"},children:"5\ubd84 \uc804 \ub300\ud654"})]}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",marginTop:"auto",borderTop:"1px solid #e0e0e0",paddingTop:"8px",paddingBottom:"8px"},children:[(0,je.jsx)(Dp,{max:4,children:e.memberInfo.map(((e,t)=>(0,je.jsx)(Sp,{alt:e.img,src:e.thumbnailImage,sx:{width:32,height:32}},t)))}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",marginLeft:"8px",fontSize:"16px",color:"#666666"},children:[(0,je.jsx)(Up.A,{sx:{fontSize:"18px"}}),(0,je.jsxs)("span",{style:{marginLeft:"5px"},children:[e.members.length,"/",e.maxMember]})]})]}),(0,je.jsx)(We,{sx:{position:"absolute",bottom:-5,right:0,backgroundColor:"#f2f2f2",width:"65px",height:"60px",paddingTop:"10px",borderBottom:"15px solid #f2f2f2",borderLeft:"15px solid #f2f2f2",borderTopLeftRadius:"20px"},onClick:()=>n(`/clubs/main?clubNumber=${e._id}`),children:(0,je.jsx)(We,{sx:{display:"flex",marginTop:"5px",marginRight:"5px",justifyContent:"center",alignItems:"center",width:"50px",height:"50px",color:"white",fontWeight:"bold",borderRadius:"25px",backgroundColor:"#A6836F",transition:"all 0.3s ease","&:hover":{transform:"scale(1.2)",color:"#f2f2f2",backgroundColor:"#A67153",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.2)",cursor:"pointer"}},children:(0,je.jsx)(S9.A,{sx:{color:"white"}})})}),(0,je.jsx)(We,{sx:{position:"absolute",bottom:-0,right:80,backgroundColor:"white",width:"20px",height:"20px",zIndex:3,borderBottomRightRadius:"50px"}}),(0,je.jsx)(We,{sx:{position:"absolute",bottom:-0,right:80,backgroundColor:"#f2f2f2",width:"20px",height:"20px",zIndex:2}}),(0,je.jsx)(We,{sx:{position:"absolute",bottom:80,right:0,backgroundColor:"white",width:"20px",height:"20px",zIndex:3,borderBottomRightRadius:"50px"}}),(0,je.jsx)(We,{sx:{position:"absolute",bottom:78,right:0,backgroundColor:"#f2f2f2",width:"20px",height:"20px",zIndex:2}})]})]})},e._id)))}):(0,je.jsx)("div",{children:"No clubs available"})},Exe=st(op)((e=>{let{theme:t}=e;return{backgroundColor:"white",color:"#A6836F",borderRadius:"4px"}})),Pxe=()=>{let[e,t]=(0,i.useState)("");const[n,r]=(0,i.useState)(""),o=Q(),[s,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(!1);(0,i.useEffect)((()=>{o.state&&o.state.snackbarMessage&&(a(o.state.snackbarMessage),c(!0))}),[o]);const{data:u=[],error:d,isLoading:h,isError:f,isFetching:p}=Jf({queryKey:["clubList",e,n],queryFn:async()=>{if(!e){const e=await fetch(`http://localhost:4000/clubs?searchRegion=${n}`),t=await e.json();return(!t||t.length<6)&&window.removeEventListener("scroll",w),t}if(e){const t=await fetch(`http://localhost:4000/clubs/${e}?searchRegion=${n}`),r=await t.json();return(!r||r.length<6)&&window.removeEventListener("scroll",w),console.log("data"),console.log(r),console.log("data"),r}},keepPreviousData:!0}),m=ee();let[g,v]=(0,i.useState)(1),[b,y]=(0,i.useState)([]),w=(0,i.useCallback)((0,Txe.throttle)((()=>{let t=window.pageYOffset||document.documentElement.scrollTop,r=document.documentElement.scrollHeight;t+window.innerHeight>=r-10&&(v((t=>{const r=t+1;return(async t=>{let r;r=e?await fetch(`http://localhost:4000/clubs/scroll/${t}/${e}?searchRegion=${n}`):await fetch(`http://localhost:4000/clubs/scroll/${t}?searchRegion=${n}`);const i=await r.json();y((e=>[...e,...i])),6===i.length?window.addEventListener("scroll",w):window.removeEventListener("scroll",w)})(r),r})),window.removeEventListener("scroll",w))}),500),[e,g,n]);(0,i.useEffect)((()=>(window.addEventListener("scroll",w),()=>{window.removeEventListener("scroll",w)})),[e,n]);return(0,i.useEffect)((()=>{const e=document.createElement("script");return e.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",e.async=!0,document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]),h&&!p?(0,je.jsx)("div",{children:"\ub85c\ub529 \uc911..."}):f?(0,je.jsxs)("div",{children:["Error: ",d.message]}):(0,je.jsxs)(We,{sx:{width:"100%",backgroundColor:"#F2F2F2",position:"relative"},children:[(0,je.jsx)(dp,{onClick:()=>{m("/clubs/create")},"aria-label":"add",style:{backgroundColor:"#A6836F",color:"white",position:"fixed",bottom:"50px",right:"50px"},children:(0,je.jsx)($p.A,{})}),(0,je.jsx)(We,{sx:{position:"fixed",left:"20px",top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"column",gap:"10px"}}),(0,je.jsx)(We,{sx:{width:"100%",height:"450px",backgroundColor:"white"},children:(0,je.jsxs)(gt,{maxWidth:"lg",sx:{paddingBottom:"40px"},children:[(0,je.jsx)(Pt,{container:!0,spacing:3,justifyContent:"center",children:[{color:"#71ABF0",icon:(0,je.jsx)(mm.A,{sx:{width:"70px",height:"70px"}}),text:"\ud478\ub4dc\xb7\ub4dc\ub9c1\ud06c"},{color:"#DC6A5A",icon:(0,je.jsx)(bm.A,{sx:{width:"70px",height:"70px"}}),text:"\uc790\uae30\uacc4\ubc1c"},{color:"#9363D1",icon:(0,je.jsx)(vxe.A,{sx:{width:"70px",height:"70px"}}),text:"\ucde8\ubbf8"},{color:"#D7E56E",icon:(0,je.jsx)(bxe.A,{sx:{width:"70px",height:"70px"}}),text:"\uc561\ud2f0\ube44\ud2f0"},{color:"#EE7E8C",icon:(0,je.jsx)(wm.A,{sx:{width:"70px",height:"70px"}}),text:"\ud30c\ud2f0"},{color:"#4C5686",icon:(0,je.jsx)(yxe.A,{sx:{width:"70px",height:"70px"}}),text:"\uc18c\uc15c\uac8c\uc784"},{color:"#F7D16E",icon:(0,je.jsx)(wxe.A,{sx:{width:"70px",height:"70px"}}),text:"\ubb38\ud654\xb7\uc608\uc220"},{color:"#C25BA1",icon:(0,je.jsx)(xxe.A,{sx:{width:"70px",height:"70px"}}),text:"N\uc7a1\xb7\uc7ac\ud14c\ud06c"},{color:"#DEB650",icon:(0,je.jsx)(_xe.A,{sx:{width:"70px",height:"70px"}}),text:"\uc5f0\uc560\xb7\uc0ac\ub791"},{color:"#78C17C",icon:(0,je.jsx)(Cxe.A,{sx:{width:"70px",height:"70px"}}),text:"\uc5ec\ud589\xb7\ub098\ub4e4\uc774"},{color:"#828ED6",icon:(0,je.jsx)(kxe.A,{sx:{width:"70px",height:"70px"}}),text:"\ub3d9\ub124\xb7\ub610\ub798"},{color:"#8E44AD",icon:(0,je.jsx)(Sxe.A,{sx:{width:"70px",height:"70px"}}),text:"\uc678\uad6d\uc5b4"}].map(((e,n)=>(0,je.jsx)(Pt,{item:!0,xs:2,sm:2,lg:2,children:(0,je.jsxs)(We,{onClick:()=>{(e=>{y([]),v(1),t(e.text)})(e)},sx:{display:"flex",flexDirection:"column",alignItems:"center",transition:"transform 0.3s","&:hover":{transform:"scale(1.05)",cursor:"pointer"}},children:[(0,je.jsx)(We,{sx:{textAlign:"center",backgroundColor:e.color,width:"100px",height:"100px",borderRadius:"50px",color:"white",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"8px",transition:"background-color 0.3s","&:hover":{backgroundColor:e.color+"BF"}},children:e.icon}),(0,je.jsx)(We,{sx:{textAlign:"center",fontSize:"18px",fontWeight:"550"},children:e.text})]})},n)))}),(0,je.jsxs)(Ks,{variant:"h6",onClick:()=>{y([]),v(1),new window.daum.Postcode({oncomplete:function(e){let t="";t="R"===e.userSelectedType?e.roadAddress:e.jibunAddress,r(t.split(" ")[1])}}).open()},sx:{width:"80%",backgroundColor:"#f2f2f2",padding:"12px 20px",borderRadius:"20px",color:"#A6836F",boxShadow:"0px 2px 10px rgba(0, 0, 0, 0.1)",position:"relative",marginTop:"50px",marginLeft:"20px",transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"scale(1.02)",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.2)",cursor:"pointer"}},children:[(0,je.jsx)("b",{children:"\uc9c0\uc5ed\uc73c\ub85c \ud074\ub7fd \ucc3e\uae30"})," ",(0,je.jsx)("span",{style:{fontSize:"15px",marginLeft:"10px"},children:"* \uce74\ud14c\uace0\ub9ac\uc640 \uc9c0\uc5ed\uc744 \ub3d9\uc2dc\uc5d0 \uc120\ud0dd\ud558\uc5ec \ub354 \uc815\ud655\ud55c \uac80\uc0c9 \uacb0\uacfc\ub97c \ud655\uc778\ud574\ubcf4\uc138\uc694."}),(0,je.jsx)(We,{sx:{width:"10%",backgroundColor:"#A6836F",padding:"12px 20px",height:"33px",borderTopRightRadius:"20px",borderBottomRightRadius:"20px",color:"white",boxShadow:"0px 2px 10px rgba(0, 0, 0, 0.1)",position:"absolute",right:0,top:0,textAlign:"center"},children:(0,je.jsx)(Pa.A,{sx:{fontSize:"35px"}})})]})]})}),(0,je.jsxs)(gt,{maxWidth:"lg",sx:{marginTop:"40px",paddingBottom:"40px"},children:[(0,je.jsxs)(Pt,{container:!0,spacing:2,sx:{display:"flex"},children:[n&&(0,je.jsx)("div",{style:{position:"relative",display:"flex",alignItems:"center",marginBottom:"10px"},children:(0,je.jsxs)(Ks,{variant:"h6",style:{backgroundColor:"#fff",padding:"10px 20px",borderRadius:"20px",color:"#A6836F",boxShadow:"0px 2px 10px rgba(0, 0, 0, 0.1)",position:"relative",opacity:"0.8"},children:[(0,je.jsxs)("b",{children:['"',n,'"']}),"\ub85c \uac80\uc0c9\ud55c \uacb0\uacfc",(0,je.jsx)(We,{onClick:()=>r(""),style:{position:"absolute",top:"-10px",right:"-10px",width:"30px ",height:"30px ",backgroundColor:"#A6836F",borderRadius:"15px",color:"#ffffff",fontSize:"12px",opacity:"0.9",transition:"opacity 0.3s ease",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)",zIndex:"1",margin:"0",padding:"0",textAlign:"center",alignItems:"center"},onMouseOver:e=>e.target.style.cursor="pointer",children:(0,je.jsx)(Axe.A,{sx:{paddingTop:"2px"}})})]})}),e&&(0,je.jsx)(We,{sx:{position:"relative",display:"flex",alignItems:"center",marginBottom:"10px",marginLeft:"20px"},children:(0,je.jsxs)(Ks,{variant:"h6",style:{backgroundColor:"#fff",padding:"10px 20px",borderRadius:"20px",color:"#A6836F",boxShadow:"0px 2px 10px rgba(0, 0, 0, 0.1)",position:"relative",opacity:"0.8"},children:[e,(0,je.jsx)(We,{onClick:()=>t(""),style:{position:"absolute",top:"-10px",right:"-10px",width:"30px ",height:"30px ",backgroundColor:"#A6836F",borderRadius:"15px",color:"#ffffff",fontSize:"12px",opacity:"0.9",transition:"opacity 0.3s ease",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)",zIndex:"1",margin:"0",padding:"0",textAlign:"center",alignItems:"center"},onMouseOver:e=>e.target.style.cursor="pointer",children:(0,je.jsx)(Axe.A,{sx:{paddingTop:"2px"}})})]})})]}),(0,je.jsxs)(Pt,{container:!0,spacing:3,sx:{mb:3},children:[(0,je.jsx)(Mxe,{clubList:u}),b&&(0,je.jsx)(Mxe,{clubList:b}),(0,je.jsx)(Vp,{open:l,autoHideDuration:6e3,onClose:()=>{c(!1)},anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,je.jsx)(Exe,{message:s})})]})]})]})},Dxe=e=>{let{isAuth:t}=e;return t?(0,je.jsx)(ve,{}):(0,je.jsx)(ge,{to:"/login"})},jxe=e=>{let{isAuth:t}=e;return console.log("isAuth:",t),t?(0,je.jsx)(ge,{to:"/"}):(0,je.jsx)(ve,{})};var Oxe=n(6325),Rxe=n(4789),Lxe=n(9466);const Nxe=e=>{let{open:t,onClose:n}=e;const[r,o]=i.useState(""),[s,a]=i.useState([]),[l,c]=i.useState(""),u=async()=>{try{const e=await gh.post("/users/findEmail",{phone:r});200===e.status?(a([e.data.email]),c("")):alert(e.data.message||"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}catch(l){l.response?404===l.response.status?(c("\uc804\ud654\ubc88\ud638\ub85c \uc870\ud68c\ub418\ub294 \uc544\uc774\ub514\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),a([])):500===l.response.status?alert("\uc11c\ubc84 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694."):alert("\uc54c \uc218 \uc5c6\ub294 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."):alert("\uc774\uba54\uc77c \uc870\ud68c \uc911 \ub124\ud2b8\uc6cc\ud06c \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}},d=()=>{o(""),a([]),c(""),n()},h=e=>{const[t,n]=e.split("@");if(!n)return e;return`${t.slice(0,4)+"****"}@${n}`};return(0,je.jsxs)(ya,{open:t,onClose:d,PaperProps:{sx:{width:"450px",maxWidth:"100%",height:"auto",maxHeight:"100vh",backgroundColor:"background.paper",boxShadow:24,overflowY:"auto",borderRadius:5}},children:[(0,je.jsx)(ka,{sx:{fontWeight:"bold",mt:3,mb:2,ml:2},children:"\uc544\uc774\ub514 \ucc3e\uae30"}),(0,je.jsxs)(Ia,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,je.jsx)(Mv,{fullWidth:!0,label:"\uc804\ud654\ubc88\ud638",margin:"normal",variant:"outlined",value:r,onChange:e=>{const{value:t}=e.target,n=(e=>{const t=e.replace(/\D/g,"");return t.length<=3?t:t.length<=7?`${t.slice(0,3)}-${t.slice(3)}`:`${t.slice(0,3)}-${t.slice(3,7)}-${t.slice(7,11)}`})(e.target.value);o(n);const r=/^[0-9-]*$/.test(t);c(r?"":"\uc804\ud654\ubc88\ud638\ub294 \uc22b\uc790\ub9cc \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4.")},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),u())},sx:{width:"90%",mb:3},InputProps:{startAdornment:(0,je.jsx)(Cx,{position:"start",children:(0,je.jsx)(Lxe.A,{style:{color:"gray"}})})},error:Boolean(l)}),s.length>0&&(0,je.jsxs)(We,{mt:2,mb:2,children:[(0,je.jsx)(Ks,{variant:"h6",sx:{fontWeight:"bold"},children:"\uc870\ud68c\ub41c \uc774\uba54\uc77c \uc8fc\uc18c:"}),(0,je.jsx)("ul",{style:{paddingLeft:"16px",margin:0},children:s.map(((e,t)=>(0,je.jsx)("li",{style:{margin:"4px 0"},children:h(e)},t)))})]}),l&&(0,je.jsx)(We,{mt:2,children:(0,je.jsx)(Ks,{color:"error",variant:"body1",sx:{fontWeight:"bold"},children:l})})]}),(0,je.jsxs)(GS,{children:[(0,je.jsx)(hm,{onClick:u,color:"primary",variant:"outlined",sx:{borderColor:"transparent",mb:3,"&:hover":{borderColor:"transparent"}},children:"\uc870\ud68c"}),(0,je.jsx)(um,{onClick:d,color:"primary",variant:"outlined",sx:{borderColor:"transparent",mb:3,mr:3,"&:hover":{borderColor:"transparent"}},children:"\ub2eb\uae30"})]})]})},Bxe=e=>{var t,n;let{open:r,onClose:o}=e;const{register:s,handleSubmit:a,watch:l,setError:c,reset:u,formState:{errors:d},getValues:h}=wy({mode:"onChange"}),f=l("email"),[p,m]=(0,i.useState)(!1),[g,v]=(0,i.useState)(""),[b,y]=(0,i.useState)(""),[w,x]=(0,i.useState)(""),[_,C]=(0,i.useState)(""),[k,S]=(0,i.useState)(0),[A,T]=(0,i.useState)(null),[I,M]=(0,i.useState)(!1),[E,P]=(0,i.useState)(!1),[D,j]=(0,i.useState)(""),O="http://localhost:4000",R=async()=>{try{const e=await ch.post(`${O}/users/email-auth`,{email:f},{timeout:1e4});if(console.log("API \uc751\ub2f5:",e.data),e.data.ok){x(e.data.codeId),C(e.data.authNum),S(180),A&&(clearInterval(A),T(null));const t=setInterval((()=>{S((e=>e<=1?(clearInterval(t),M(!0),0):e-1))}),1e3);T(t)}else c(e.data.msg)}catch(kke){console.error("API \ud638\ucd9c \uc624\ub958:",kke),c("\uc11c\ubc84 \uc624\ub958")}};(0,i.useEffect)((()=>{if(k>0){const e=Math.floor(k/60),t=k%60;v(`\uc778\uc99d\ubc88\ud638\uac00 \uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4. [\uc778\uc99d \uae30\ud55c : ${`${e}:${t<10?"0":""}${t}`}]`)}else I&&v("\uc778\uc99d\ubc88\ud638\uac00 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}),[k,I]);const[L,N]=(0,i.useState)(""),B={required:"\ud544\uc218 \ud544\ub4dc\uc785\ub2c8\ub2e4.",minLength:{value:8,message:"\ucd5c\uc18c 8\uc790\uc785\ub2c8\ub2e4."},validate:e=>{if(!p)return"\uc774\uba54\uc77c \uc778\uc99d\uc744 \uc644\ub8cc\ud574 \uc8fc\uc138\uc694.";return!!/^(?=.*[a-zA-Z\u3131-\uD79D])(?=.*[\W_]).{6,}$/.test(e)||"\uc548\uc804\ud55c \ube44\ubc00\ubc88\ud638\ub97c \uc704\ud574 \uc601\ubb38 \ub300/\uc18c\ubb38\uc790, \ud2b9\uc218\ubb38\uc790 \uc0ac\uc6a9\ud574 \uc8fc\uc138\uc694."}},F={required:"\ube44\ubc00\ubc88\ud638 \ud655\uc778\uc740 \ud544\uc218\uc785\ub2c8\ub2e4.",minLength:{value:8,message:"\ucd5c\uc18c 8\uc790\uc785\ub2c8\ub2e4."},validate:e=>{const t=h("newPassword");return t?e===t||"\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.":"\uc0c8 \ube44\ubc00\ubc88\ud638\ub97c \uba3c\uc800 \uc785\ub825\ud574\uc8fc\uc138\uc694"}},[z,V]=(0,i.useState)(!1),[W,H]=(0,i.useState)(!1),U=()=>{u({email:"",newPassword:"",confirmPassword:""}),m(!1),v(""),y(""),x(""),C(""),S(0),M(!1),P(!1),N(""),j(""),V(!1),H(!1),A&&(clearInterval(A),T(null))},[$,Y]=(0,i.useState)(!1),[G,q]=(0,i.useState)(""),[X,Z]=(0,i.useState)("error");return(0,je.jsxs)(ya,{open:r,onClose:()=>{U(),o()},fullWidth:!0,PaperProps:{sx:{maxWidth:480,borderRadius:5}},children:[(0,je.jsx)(ka,{sx:{mt:2},children:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"}),(0,je.jsx)(Ia,{sx:{padding:0,mt:2},children:(0,je.jsxs)(We,{sx:{width:"100%",maxWidth:400,margin:" auto",bgcolor:"background.paper"},children:[(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"email",sx:{fontWeight:"bold",color:"text.secondary"},children:"\uc774\uba54\uc77c"}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,je.jsx)(Mv,{label:"\uc774\uba54\uc77c",type:"email",fullWidth:!0,margin:"normal",variant:"outlined",...s("email",{required:"\ud544\uc218 \ud544\ub4dc\uc785\ub2c8\ub2e4.",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"\uc720\ud6a8\ud55c \uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694."}}),sx:{flex:1,mr:1,bgcolor:E?"grey.200":"white","& .MuiInputBase-input":{color:E?"text.disabled":"text.primary"},boxSizing:"border-box"},InputProps:{readOnly:E},FormHelperTextProps:{sx:{color:"error.main"}},error:!!g||!!d.email}),(0,je.jsx)(um,{variant:"contained",sx:{height:"56px",lineHeight:"56px"},onClick:async()=>{if(!f||""===f.trim())return void v("\uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");if(d.email)return void v("\uc720\ud6a8\ud55c \uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694.");const e=f;try{200===(await ch.post(`${O}/users/validate-email`,{email:e})).status?(console.log("\uc778\uc99d \uba54\uc77c\uc774 \ubc1c\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),await R(e),v("\uc778\uc99d \uba54\uc77c\uc774 \ubc1c\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),P(!0)):v("\ud68c\uc6d0 \ud655\uc778\uc774 \ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}catch(kke){console.error("Error occurred during email check:",kke),v(kke.response?kke.response.data.message:"\uc11c\ubc84 \uc624\ub958")}},children:"\uc778\uc99d\ud558\uae30"})]}),g&&(0,je.jsx)(Ks,{color:"error",sx:{mb:2},children:g})]}),(0,je.jsxs)(We,{sx:{mb:2},children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"verification",sx:{fontWeight:"bold",color:"text.secondary"},children:"\uc778\uc99d\ubc88\ud638"}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mt:2},children:[(0,je.jsx)(Mv,{label:"\uc778\uc99d\ubc88\ud638",type:"text",id:"verification",value:L,onChange:e=>N(e.target.value),fullWidth:!0,sx:{flex:1,mr:1,bgcolor:p?"grey.200":"white","& .MuiInputBase-input":{color:p?"text.disabled":"text.primary"},boxSizing:"border-box"},InputProps:{readOnly:p}}),(0,je.jsx)(um,{variant:"contained",color:p?"grey":"primary",onClick:async()=>{try{const e=await ch.post(`${O}/users/verifyAuth`,{codeId:w,inputCode:L,email:f});e.data.ok?(m(!0),q("\uc778\uc99d\uc5d0 \uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4."),Z("success"),Y(!0),y(""),S(0),M(!1),A&&(clearInterval(A),T(null))):(y(e.data.msg),q("\uc778\uc99d\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4."),Z("error"),Y(!0))}catch(kke){console.error("\uc778\uc99d \ubc88\ud638 \ud655\uc778 \uc5d0\ub7ec:",kke),y("\uc778\uc99d\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4."),q("\uc778\uc99d\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4."),Z("error"),Y(!0)}},disabled:p,sx:{minHeight:"50px"},children:p?"\uc778\uc99d\ud655\uc778":"\uc778\uc99d\uc644\ub8cc"})]}),b&&(0,je.jsx)(Ks,{color:"error",sx:{mt:1},children:b})]}),(0,je.jsxs)(We,{sx:{mt:4},children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"verification",sx:{fontWeight:"bold",color:"text.secondary"},children:"\uc0c8 \ube44\ubc00\ubc88\ud638"}),(0,je.jsx)(We,{sx:{display:"flex",alignItems:"center",mb:2},children:(0,je.jsx)(Mv,{label:"\uc0c8 \ube44\ubc00\ubc88\ud638",type:z?"text":"password",fullWidth:!0,margin:"normal",variant:"outlined",...s("newPassword",B),error:!!d.newPassword||!!D,helperText:(null===(t=d.newPassword)||void 0===t?void 0:t.message)||D,sx:{flex:1,mr:1,bgcolor:p?"white":"grey.200","& .MuiInputBase-input":{color:p?"text.primary":"text.disabled"},boxSizing:"border-box"},InputProps:{endAdornment:(0,je.jsx)(Cx,{position:"end",children:(0,je.jsx)(eo,{onClick:()=>V(!z),edge:"end",children:z?(0,je.jsx)(tye,{}):(0,je.jsx)(nye,{})})})}})})]}),(0,je.jsxs)(We,{children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"verification",sx:{fontWeight:"bold",color:"text.secondary"},children:"\uc0c8 \ube44\ubc00\ubc88\ud638 \ud655\uc778"}),(0,je.jsx)(We,{sx:{display:"flex",alignItems:"center",mb:4},children:(0,je.jsx)(Mv,{label:"\uc0c8 \ube44\ubc00\ubc88\ud638 \ud655\uc778",type:W?"text":"password",fullWidth:!0,margin:"normal",variant:"outlined",...s("confirmPassword",F),error:!!d.confirmPassword||!!D,helperText:(null===(n=d.confirmPassword)||void 0===n?void 0:n.message)||D,sx:{flex:1,mr:1,bgcolor:p?"white":"grey.200","& .MuiInputBase-input":{color:p?"text.primary":"text.disabled"},boxSizing:"border-box"},InputProps:{endAdornment:(0,je.jsx)(Cx,{position:"end",children:(0,je.jsx)(eo,{onClick:()=>H(!W),edge:"end",children:W?(0,je.jsx)(tye,{}):(0,je.jsx)(nye,{})})})}})})]})]})}),(0,je.jsxs)(GS,{children:[(0,je.jsx)(hm,{onClick:a((async e=>{try{(await ch.post(`${O}/users/change-password`,{email:e.email,newPassword:e.newPassword})).data.ok?(q("\ube44\ubc00\ubc88\ud638\uac00 \uc131\uacf5\uc801\uc73c\ub85c \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),Z("success"),Y(!0),setTimeout((()=>{o(),U()}),1e3)):j("\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}catch(t){console.error("\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd \uc624\ub958:",t),j("\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}})),sx:{mb:3},children:"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"}),(0,je.jsx)(um,{onClick:()=>{U(),o()},sx:{mb:3,mr:3},children:"\ucde8\uc18c"})]}),(0,je.jsx)(XI,{open:$,message:G,severity:"success",onClose:()=>{Y(!1)}})]})},Fxe=()=>{var e,t;const{register:n,handleSubmit:r,formState:{errors:o},reset:s,setValue:a,watch:l}=wy({mode:"onChange"}),c=bl(),u=l("rememberMe"),d=ee(),[h,f]=(0,i.useState)(""),[p,m]=(0,i.useState)("");(0,i.useEffect)((()=>{const e=localStorage.getItem("lastLoginEmail"),t="true"===localStorage.getItem("rememberMe");a("rememberMe",t),e&&a("email",e)}),[a]);const[g,v]=(0,i.useState)({email:!1,password:!1}),b=e=>{v((t=>({...t,[e]:!0})))},y=e=>{v((t=>({...t,[e]:!1})))},w=(0,ft.Ay)("span")((e=>{let{theme:t}=e;return{color:"black",cursor:"pointer",transition:"color 0.3s, transform 0.3s","&:hover":{color:t.palette.primary.dark,transform:"scale(1.05)"},"&:focus":{outline:"none",boxShadow:"0 0 0 2px rgba(0, 0, 0, 0.2)"}}}));return(0,je.jsxs)(gt,{sx:{mt:8,width:"100%",maxWidth:{xs:"120%",sm:"500px"},padding:{xs:"8 8px",sm:"8 10px"},fontFamily:"KCC-Hanbit"},children:[(0,je.jsx)(Ks,{variant:"h3",component:"h1",sx:{mt:2,mb:2,textAlign:"center"},children:(0,je.jsx)("img",{src:"/logo/khaki_long_h.png",style:{display:"block",margin:"auto auto 40px auto",width:"300px",height:"auto"}})}),(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column",alignItems:"center",padding:4,boxShadow:3,bgcolor:"background.paper",borderRadius:2},children:[(0,je.jsx)(Ks,{variant:"h5",component:"h1",sx:{mb:2,alignSelf:"flex-start",fontWeight:"bold"}}),(0,je.jsxs)("form",{onSubmit:r((async e=>{let{email:t,password:n}=e;try{const e={email:t,password:n},r=await c(Ah(e));"fulfilled"===r.meta.requestStatus?(d("/clublist"),s()):"\uc774\uba54\uc77c\uc774 \ud655\uc778\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."===r.payload.error?(f("\uc774\uba54\uc77c\uc774 \ud655\uc778\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),m("")):"\ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4."===r.payload.error?(m("\ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4."),f("")):"\ud0c8\ud1f4\ud55c \ud68c\uc6d0\uc785\ub2c8\ub2e4."===r.payload.message?(f("\ud0c8\ud1f4\ud55c \ud68c\uc6d0\uc785\ub2c8\ub2e4."),m("")):(f("\uc54c \uc218 \uc5c6\ub294 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),m("")),u?(localStorage.setItem("lastLoginEmail",t),localStorage.setItem("rememberMe","true")):(localStorage.removeItem("lastLoginEmail"),localStorage.setItem("rememberMe","false"))}catch(r){console.error("\ub85c\uadf8\uc778 \uc2e4\ud328:",r),f("\uc774\uba54\uc77c \uc785\ub825\uc5d0 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),m("\ube44\ubc00\ubc88\ud638 \uc785\ub825\uc5d0 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}})),children:[(0,je.jsxs)(We,{display:"flex",alignItems:"center",sx:{width:"160%"},children:[(0,je.jsx)(Rxe.A,{style:{marginRight:"5px",marginLeft:"-80px",marginBottom:"10px",color:"gray",fontSize:"40px"}}),(0,je.jsx)(Mv,{fullWidth:!0,label:"\uc774\uba54\uc77c",margin:"normal",variant:"outlined",error:!!h||!!o.email,helperText:h||(null===(e=o.email)||void 0===e?void 0:e.message)||" ",...n("email",{required:"\ud544\uc218 \ud544\ub4dc\uc785\ub2c8\ub2e4.",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"\uc720\ud6a8\ud55c \uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694."}})})]}),(0,je.jsxs)(We,{display:"flex",alignItems:"center",sx:{width:"160%"},children:[(0,je.jsx)(Oxe.A,{style:{marginRight:"5px",marginLeft:"-80px",marginBottom:"10px",color:"gray",fontSize:"40px"}}),(0,je.jsx)(Mv,{fullWidth:!0,label:"\ud328\uc2a4\uc6cc\ub4dc",margin:"normal",variant:"outlined",type:"password",error:!!p||!!o.password,helperText:p||(null===(t=o.password)||void 0===t?void 0:t.message)||" ",...n("password",{required:"\ud544\uc218 \ud544\ub4dc\uc785\ub2c8\ub2e4.",minLength:{value:3,message:"\ucd5c\uc18c 6\uc790\uc785\ub2c8\ub2e4."}})})]}),(0,je.jsx)(We,{display:"flex",sx:{width:"100%",marginLeft:"-60px"},children:(0,je.jsx)(n9,{control:(0,je.jsx)(Qbe,{...n("rememberMe"),checked:!!l("rememberMe")}),label:"\uc544\uc774\ub514 \uae30\uc5b5\ud558\uae30",sx:{"& .MuiFormControlLabel-label":{marginLeft:"-20px"}}})}),(0,je.jsx)(hm,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:1,mb:1,width:"160%",marginLeft:"-50px"},children:"\ub85c\uadf8\uc778"}),(0,je.jsxs)(Ks,{variant:"body2",align:"center",sx:{mt:2,"& a":{textDecoration:"none",color:"blue",transition:"color 0.3s","&:hover":{textDecoration:"underline",color:"darkblue"}}},children:["\ucc98\uc74c \ubc29\ubb38\ud558\uc168\ub098\uc694? | ",(0,je.jsx)("a",{href:"/register",children:"\ud68c\uc6d0\uac00\uc785"})]})]})]}),(0,je.jsxs)(We,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",sx:{mt:2},children:[(0,je.jsx)(w,{onClick:()=>b("email"),role:"button",children:"\uc544\uc774\ub514 \ucc3e\uae30"}),(0,je.jsx)(Nxe,{open:g.email,onClose:()=>y("email")}),(0,je.jsx)(Ks,{style:{marginLeft:"10px",marginRight:"10px"},children:"|"}),(0,je.jsx)(w,{onClick:()=>b("password"),role:"button",children:"\ube44\ubc00\ubc88\ud638 \ucc3e\uae30"}),(0,je.jsx)(Bxe,{open:g.password,onClose:()=>y("password")})]})]})},zxe=e=>{let{setWorkplaceSido:t,setWorkplaceSigoon:n,setWorkplaceDong:r}=e;const[o,s]=(0,i.useState)([]),[a,l]=(0,i.useState)([]),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(null),[m,g]=(0,i.useState)(null),v="286E5CAE-A8D1-3D02-AB4E-2DF927614303",b="localhost:3000";return(0,i.useEffect)((()=>{fetch(`/api/req/data?service=data&request=GetFeature&data=LT_C_ADEMD_INFO&key=${v}&domain=${b}&type=province`).then((e=>e.json())).then((e=>{e.response&&"OK"===e.response.status?s(e.response.result.featureCollection.features.map((e=>e.properties))):s([])})).catch((e=>{console.error("Error fetching provinces:",e)}))}),[b]),(0,i.useEffect)((()=>{d&&(t(d),fetch(`/api/req/data?service=data&request=GetFeature&data=LT_C_ADSIGG_INFO&key=${v}&domain=${b}&type=city&province=${d}`).then((e=>e.json())).then((e=>{e.response&&"OK"===e.response.status?l(e.response.result.featureCollection.features.map((e=>e.properties))):l([])})).catch((e=>{console.error("Error fetching cities:",e)})))}),[d]),(0,i.useEffect)((()=>{f&&(n(f),fetch(`/api/req/data?service=data&request=GetFeature&data=LT_C_ADSIGG_INFO&key=${v}&domain=${b}&type=town&city=${f}`).then((e=>e.json())).then((e=>{e.response&&"OK"===e.response.status?u(e.response.result.featureCollection.features.map((e=>e.properties))):u([])})).catch((e=>{console.error("Error fetching towns:",e)})))}),[f]),(0,je.jsxs)("div",{children:[(0,je.jsx)("h3",{children:"\ub3c4 \uc120\ud0dd"}),(0,je.jsx)("ul",{children:o.map((e=>(0,je.jsx)("li",{onClick:()=>h(e.name),children:e.name},e.id)))}),d&&(0,je.jsxs)(je.Fragment,{children:[(0,je.jsxs)("h3",{children:[d,"\uc758 \uc2dc\uad70\uad6c \uc120\ud0dd"]}),(0,je.jsx)("ul",{children:a.map((e=>(0,je.jsx)("li",{onClick:()=>p(e.name),children:e.name},e.id)))})]}),f&&(0,je.jsxs)(je.Fragment,{children:[(0,je.jsxs)("h3",{children:[f,"\uc758 \uc74d\uba74\ub3d9 \uc120\ud0dd"]}),(0,je.jsx)("ul",{children:c.map((e=>(0,je.jsx)("li",{onClick:()=>{g(e.name),r(e.name)},children:e.name},e.id)))})]}),d&&f&&m&&(0,je.jsxs)("h4",{children:["\uc120\ud0dd\ud55c \uc704\uce58: ",d,"  ",f,"  ",m]})]})},Vxe=e=>{let{onClose:t,handleCheck:n,checked:r}=e;return(0,je.jsxs)(ya,{open:!0,onClose:t,PaperProps:{sx:{borderRadius:2,width:600,maxWidth:"100%"}},children:[(0,je.jsx)(ka,{children:"clubing \uc774\uc6a9\uc57d\uad00"}),(0,je.jsxs)(Ia,{sx:{display:"flex",flexDirection:"column",maxHeight:"60vh",overflowY:"auto",padding:2},children:[(0,je.jsx)(We,{sx:{flexGrow:1,mb:2},children:(0,je.jsx)(Ks,{variant:"body2",sx:{boxSizing:"border-box",borderRadius:1,border:"1px solid #d6d6d6",padding:2,height:"230px",overflowY:"auto",backgroundColor:"#f9f9f9"},children:"\uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \ub9c8\ucf00\ud305 \ub3d9\uc758 \ub0b4\uc6a9\uc744 \uc791\uc131\ud569\ub2c8\ub2e4."})}),(0,je.jsx)(n9,{control:(0,je.jsx)(Qbe,{checked:r.terms,onChange:()=>n("terms"),color:"primary"}),label:"\uc57d\uad00\uc5d0 \ub3d9\uc758\ud569\ub2c8\ub2e4."})]}),(0,je.jsx)(GS,{children:(0,je.jsx)(la,{onClick:t,color:"primary",children:"\ub2eb\uae30"})})]})},Wxe=e=>{let{onClose:t,handleCheck:n,checked:r}=e;return(0,je.jsxs)(ya,{open:!0,onClose:t,PaperProps:{sx:{borderRadius:2,width:600,maxWidth:"100%"}},children:[(0,je.jsx)(ka,{children:"\uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9"}),(0,je.jsxs)(Ia,{sx:{display:"flex",flexDirection:"column",maxHeight:"60vh",overflowY:"auto",padding:2},children:[(0,je.jsx)(We,{sx:{flexGrow:1,mb:2},children:(0,je.jsx)(Ks,{variant:"body2",sx:{boxSizing:"border-box",borderRadius:1,border:"1px solid #d6d6d6",padding:2,height:"230px",overflowY:"auto",backgroundColor:"#f9f9f9"},children:"\uc5ec\uae30\uc5d0 \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9 \ub0b4\uc6a9 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9 \ub0b4\uc6a9 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9 \ub0b4\uc6a9 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9 \ub0b4\uc6a9 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9 \ub0b4\uc6a9 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9 \ub0b4\uc6a9 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9 \ub0b4\uc6a9 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9 \ub0b4\uc6a9 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9 \ub0b4\uc6a9 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9 \ub0b4\uc6a9 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9 \ub0b4\uc6a9 \uc791\uc131\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9 \ub0b4\uc6a9 \uc791\uc131\ud569\ub2c8\ub2e4."})}),(0,je.jsx)(n9,{control:(0,je.jsx)(Qbe,{checked:r.privacy,onChange:()=>n("privacy"),color:"primary"}),label:"\uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9\uc5d0 \ub3d9\uc758\ud569\ub2c8\ub2e4."})]}),(0,je.jsx)(GS,{children:(0,je.jsx)(la,{onClick:t,color:"primary",children:"\ub2eb\uae30"})})]})};function Hxe(e){return(0,He.Ay)("MuiLink",e)}const Uxe=(0,Fe.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var $xe=n(7162);const Yxe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Gxe=e=>{let{theme:t,ownerState:n}=e;const r=(e=>Yxe[e]||e)(n.color),i=(0,$xe.Yn)(t,`palette.${r}`,!1)||n.color,o=(0,$xe.Yn)(t,`palette.${r}Channel`);return"vars"in t&&o?`rgba(${o} / 0.4)`:(0,Nt.X4)(i,.4)},qxe=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],Xxe=(0,ft.Ay)(Ks,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${(0,ht.A)(n.underline)}`],"button"===n.component&&t.button]}})((e=>{let{theme:t,ownerState:n}=e;return(0,_e.A)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,_e.A)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:Gxe({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Uxe.focusVisible}`]:{outline:"auto"}})})),Zxe=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiLink"}),{className:r,color:o="primary",component:s="a",onBlur:a,onFocus:l,TypographyClasses:c,underline:u="always",variant:d="inherit",sx:h}=n,f=(0,Ce.A)(n,qxe),{isFocusVisibleRef:p,onBlur:m,onFocus:g,ref:v}=(0,ai.A)(),[b,y]=i.useState(!1),w=(0,ln.A)(t,v),x=(0,_e.A)({},n,{color:o,component:s,focusVisible:b,underline:u,variant:d}),_=(e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e,o={root:["root",`underline${(0,ht.A)(i)}`,"button"===n&&"button",r&&"focusVisible"]};return(0,Ue.A)(o,Hxe,t)})(x);return(0,je.jsx)(Xxe,(0,_e.A)({color:o,className:(0,ke.A)(_.root,r),classes:c,component:s,onBlur:e=>{m(e),!1===p.current&&y(!1),a&&a(e)},onFocus:e=>{g(e),!0===p.current&&y(!0),l&&l(e)},ref:w,ownerState:x,variant:d,sx:[...Object.keys(Yxe).includes(o)?[]:[{color:o}],...Array.isArray(h)?h:[h]]},f))})),Kxe=Zxe,Qxe=(0,Ne.A)({verdunGreen:"#565903",whiteSmoke:"#F2F2F2",mediumWood:"#A6836F",santeFe:"#A67153",bone:"#DBC7B5",newAmbe:"#6E3C21",brownPod:"#40190B",woodBark:"#30231C",concrete:"#D5D3CB"}),Jxe=()=>{var e,t,n,r,o,s,a,l,c;const{register:u,handleSubmit:d,formState:{errors:h},reset:f,watch:p,setValue:m,control:g}=wy({defaultValues:{age:{year:"",month:"",day:""},gender:"",homeLocation:{sido:"",sigoon:"",dong:""},workplace:{w_sido:"",w_sigoon:"",w_dong:""},interestLocation:{i_sido:"",i_sigoon:"",i_dong:""},category:[],selectedJobs:[],phone:[]},mode:"onChange"}),v=bl(),b=ee(),y="http://localhost:4000",[w,x]=(0,i.useState)(!1),[_,C]=(0,i.useState)(""),[k,S]=(0,i.useState)("error"),[A,T]=(0,i.useState)({sido:"",sigoon:"",dong:""}),[I,M]=(0,i.useState)({w_sido:"",w_sigoon:"",w_dong:""}),[E,P]=(0,i.useState)({i_sido:"",i_sigoon:"",i_dong:""}),D={required:0,minLength:{value:8,message:"\ucd5c\uc18c 8\uc790\uc785\ub2c8\ub2e4."},validate:e=>e===p("password")||"\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."},j=(e,t)=>{const n=[];for(let r=e;r<=t;r++)n.push(r);return n},[O,R]=(0,i.useState)(!1),[L,N]=(0,i.useState)(!1),B=j(1950,2040),F=j(1,12),z=j(1,31);(0,i.useEffect)((()=>{m("homeLocation.sido",A.sido),m("homeLocation.sigoon",A.sigoon),m("homeLocation.dong",A.dong)}),[A,m]),(0,i.useEffect)((()=>{m("workplace.w_sido",I.w_sido),m("workplace.w_sigoon",I.w_sigoon),m("workplace.w_dong",I.w_dong)}),[I,m]),(0,i.useEffect)((()=>{m("interestLocation.i_sido",E.i_sido),m("interestLocation.i_sigoon",E.i_sigoon),m("interestLocation.i_dong",E.i_dong)}),[E,m]);const[V,W]=(0,i.useState)(!1),[H,U]=(0,i.useState)([]),[$,Y]=(0,i.useState)({}),[G,q]=(0,i.useState)(!1),[X,Z]=(0,i.useState)([]);(0,i.useEffect)((()=>{const e=function(e){return e.reduce(((e,t)=>(e[t.main]||(e[t.main]=[]),e[t.main].push(t.sub),e)),{})}(H);console.log("\uce74\ud14c\uace0\ub9ac \ud655\uc778",e);const t=Object.keys(e).map((t=>({main:t,sub:e[t]})));Y(e),m("category",t),console.log("\uce74\ud14c\uace0\ub9ac \ud655\uc778222",t)}),[H,m]),(0,i.useEffect)((()=>{m("selectedJobs",X)}),[X,m]);const K=e=>{V?U(e):G&&Z(e)},Q=e=>{console.log("Popup type:",e),"category"===e?W(!0):"job"===e&&q(!0)},J=e=>{"category"===e?W(!1):"job"===e&&q(!1)},te=p("email"),[ne,re]=i.useState(""),[ie,oe]=i.useState(""),[se,ae]=(0,i.useState)(!1),[le,ce]=(0,i.useState)(""),[ue,de]=(0,i.useState)(0),[he,fe]=(0,i.useState)(null),[pe,me]=(0,i.useState)(!1);(0,i.useEffect)((()=>{if(ue>0){const e=Math.floor(ue/60),t=ue%60;oe(`\uc778\uc99d\ubc88\ud638\uac00 \uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4. [\uc778\uc99d \uae30\ud55c : ${`${e}:${t<10?"0":""}${t}`}]`)}else pe&&oe("\uc778\uc99d\ubc88\ud638\uac00 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}),[ue,pe]);const[ge,ve]=(0,i.useState)(""),[be,ye]=(0,i.useState)(""),[we,xe]=(0,i.useState)(!1),[_e,Ce]=(0,i.useState)(""),ke=p("nickName"),[Se,Ae]=(0,i.useState)(!1),[Te,Ie]=(0,i.useState)(!1),[Me,Ee]=(0,i.useState)({all:!1,terms:!1,privacy:!1,marketing:!1}),[Pe,De]=(0,i.useState)({terms:!1,privacy:!1,marketing:!1,all:!1}),Oe=e=>{De((t=>{const n=!t[e],r=["terms","privacy","marketing"].every((e=>t[e]));return{...t,[e]:n,all:r}}))};(0,i.useEffect)((()=>{console.log("\uc5c5\ub370\uc774\ud2b8\ub41c \uccb4\ud06c\ubc15\uc2a4 \uc0c1\ud0dc:",Pe)}),[Pe]);const Re=e=>{Ee((t=>({...t,[e]:!0})))},Le=e=>{Ee((t=>({...t,[e]:!1})))},[Ne,Be]=(0,i.useState)(""),[Fe,ze]=(0,i.useState)(""),[Ve,He]=(0,i.useState)("");return(0,je.jsxs)(We,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",mt:5,maxWidth:600,mx:"auto"},children:[(0,je.jsx)(We,{sx:{p:3,mb:2,mt:2},children:(0,je.jsx)(Ks,{variant:"h3",component:"h1",sx:{mt:2,mb:2,textAlign:"center"},children:(0,je.jsx)("img",{src:"/logo/khaki_long_h.png",style:{display:"block",margin:"auto auto 40px auto",width:"300px",height:"auto"}})})}),(0,je.jsxs)(We,{sx:{p:3,bgcolor:"white",borderRadius:2,boxShadow:3,backgroundColor:Qxe.whiteSmoke},children:[(0,je.jsx)(Ks,{variant:"h4",component:"h1",align:"center",children:"\ud68c\uc6d0\uac00\uc785"}),(0,je.jsxs)("form",{className:"mt-6",onSubmit:d((e=>{console.log("\ud3fc \uc81c\ucd9c \ub370\uc774\ud130:",e);const{email:t,password:n,name:r,age:i={},gender:o,homeLocation:s={},workplace:a={},interestLocation:l={},category:c=[],selectedJobs:u=[],phone:d="",nickName:h}=e,{terms:p,privacy:m,marketing:g}=Pe,{year:y="",month:w="",day:_=""}=i,{sido:k="",sigoon:A="",dong:T=""}=s,{w_sido:I="",w_sigoon:M="",w_dong:E=""}=a,{i_sido:P="",i_sigoon:D="",i_dong:j=""}=l;if(!we)return C("\uc774\uba54\uc77c \uc778\uc99d\uc774 \uc644\ub8cc\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."),S("error"),void x(!0);if(!Se)return C("\ub2c9\ub124\uc784 \uc911\ubcf5 \uac80\uc0ac\ub97c \ud574\uc57c \ud569\ub2c8\ub2e4."),S("error"),void x(!0);if(0===u.length)return C("\uc9c1\uc885\uc744 \uc124\uc815\ud574 \uc8fc\uc138\uc694"),S("error"),void x(!0);if(0===c.length)return C("\uce74\ud14c\uace0\ub9ac\ub97c \uc124\uc815\ud574 \uc8fc\uc138\uc694"),S("error"),void x(!0);if(!p)return C("Clubing \uc774\uc6a9\uc57d\uad00\uc5d0 \ub3d9\uc758\ud574\uc57c \ud569\ub2c8\ub2e4."),S("error"),void x(!0);if(!m)return C("\uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9\uc5d0 \ub3d9\uc758\ud574\uc57c \ud569\ub2c8\ub2e4."),S("error"),void x(!0);const O={email:t,password:n,name:r,nickName:h,age:{year:y,month:w,day:_},gender:o,homeLocation:{city:k,district:A,neighborhood:T},workplace:{city:I,district:M,neighborhood:E},interestLocation:{city:P,district:D,neighborhood:j},category:c.reduce(((e,t)=>(t.main&&Array.isArray(t.sub)&&e.push({main:t.main,sub:t.sub}),e)),[]),job:u,phone:d,termsAccepted:p,privacyAccepted:m,marketingAccepted:g,profilePic:{originalImage:"https://via.placeholder.com/600x400?text=no+user+image",thumbnailImage:"https://via.placeholder.com/600x400?text=no+user+image",introduction:""}};console.log("\ub4e4\uc5b4\uac04 \uac12 \ud655\uc778",O),v(Sh(O)).then((()=>{C("\ud68c\uc6d0\uac00\uc785\uc5d0 \uc131\uacf5\ud558\uc168\uc2b5\ub2c8\ub2e4."),S("success"),x(!0),setTimeout((()=>{b("/")}),1e3)})).catch((e=>{console.error("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328:",e),C("\ud68c\uc6d0\uac00\uc785\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4."),S("error"),x(!0)})),f()})),children:[(0,je.jsxs)(We,{sx:{mb:2},children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"email",sx:{fontWeight:"bold",color:"text.secondary"},children:"\uc774\uba54\uc77c"}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mt:2},children:[(0,je.jsx)(Mv,{label:"\uc774\uba54\uc77c",type:"email",id:"email",variant:"outlined",fullWidth:!0,...u("email",{required:"\ud544\uc218 \ud544\ub4dc\uc785\ub2c8\ub2e4.",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"\uc720\ud6a8\ud55c \uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694."}}),InputProps:{readOnly:se,sx:{bgcolor:se?"grey.200":"white","& .MuiInputBase-input":{color:se?"text.disabled":"text.primary"}}},sx:{flex:1,mr:1}}),(0,je.jsxs)(rI,{direction:"row",spacing:2,children:[!se&&(0,je.jsx)(hm,{variant:"contained",color:"primary",className:"buttonMain",sx:{height:"50px"},onClick:async()=>{if(!te||""===te.trim())return C("\uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."),void x(!0);if(h.email)return C("\uc720\ud6a8\ud55c \uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694."),void x(!0);const e=te;try{const t=await ch.post(`${y}/users/check-email`,{email:e});oe(t.data.message),re(""),ae(!0)}catch(kke){oe(""),re(kke.response?kke.response.data.message:"\uc11c\ubc84 \uc624\ub958"),ae(!1)}},children:"\uc911\ubcf5\uac80\uc0ac"}),se&&(0,je.jsxs)(rI,{direction:"column",spacing:0,children:[(0,je.jsx)(hm,{variant:"outlined",className:"buttonSub1",sx:{height:"25px",borderColor:"transparent","&:hover":{borderColor:"transparent"}},onClick:()=>{ae(!1),xe(!1)},children:"\uba54\uc77c\uc218\uc815"}),(0,je.jsx)(um,{variant:"contained",className:"buttonSub2",sx:{height:"25px"},onClick:async()=>{try{console.log("\uc778\uc99d \uc774\uba54\uc77c \ubc1c\uc1a1 \uc694\uccad\ub428");const e=await ch.post(`${y}/users/email-auth`,{email:te},{timeout:3e4});if(console.log("API \uc751\ub2f5\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uc0c1\ud0dc \ucf54\ub4dc:",e.status),console.log("API aaaa\uc751\ub2f5:",e.data),e.data.ok){ye(e.data.codeId),ce(e.data.authNum),de(180),he&&(clearInterval(he),fe(null));const t=setInterval((()=>{de((e=>e<=1?(clearInterval(t),me(!0),0):e-1))}),1e3);fe(t)}else re(e.data.msg)}catch(kke){console.error("API \ud638\ucd9c \uc624\ub958:",kke),re("\uc11c\ubc84 \uc624\ub958")}},children:"\uc778\uc99d\ud558\uae30"})]})]})]}),ne&&(0,je.jsx)(Ks,{color:"error",sx:{mt:1},children:ne}),ie&&(0,je.jsx)(Ks,{color:"error",sx:{mt:1},children:ie}),(null===h||void 0===h?void 0:h.email)&&(0,je.jsx)(Ks,{color:"error",sx:{mt:1},children:h.email.message})]}),(0,je.jsxs)(We,{sx:{mb:2},children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"verification",sx:{fontWeight:"bold",color:"text.secondary"},children:"\uc778\uc99d\ubc88\ud638"}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mt:2},children:[(0,je.jsx)(Mv,{label:"\uc778\uc99d\ubc88\ud638",type:"text",id:"verification",value:ge,onChange:e=>ve(e.target.value),fullWidth:!0,sx:{flex:1,mr:1,bgcolor:we?"grey.200":"white","& .MuiInputBase-input":{color:we?"text.disabled":"text.primary"},boxSizing:"border-box"},InputProps:{readOnly:we}}),(0,je.jsx)(hm,{variant:"contained",color:we?"grey":"primary",onClick:async()=>{try{const e=await ch.post(`${y}/users/verifyAuth`,{codeId:be,inputCode:ge,email:te});console.log("\uc778\uc99d \ubc88\ud638 \ud655\uc778 \uc751\ub2f5:",e.data),e.data.ok?(xe(!0),Ce(""),oe(""),de(0),me(!1),he&&(clearInterval(he),fe(null)),C("\uc778\uc99d\uc5d0 \uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4."),x(!0)):Ce(e.data.msg)}catch(kke){console.error("\uc778\uc99d \ubc88\ud638 \ud655\uc778 \uc5d0\ub7ec:",kke),Ce("\uc778\uc99d\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4.")}},disabled:we,className:"buttonMain",sx:{minHeight:"50px"},children:we?"\uc778\uc99d\ud655\uc778":"\uc778\uc99d\uc644\ub8cc"})]}),_e&&(0,je.jsx)(Ks,{color:"error",sx:{mt:1},children:_e})]}),(0,je.jsxs)(We,{mb:2,children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"password",sx:{fontWeight:"bold",color:"text.secondary"},children:"\ube44\ubc00\ubc88\ud638"}),(0,je.jsx)(We,{sx:{display:"flex",alignItems:"center",mt:2},children:(0,je.jsx)(Mv,{label:"\ube44\ubc00\ubc88\ud638",type:O?"text":"password",fullWidth:!0,variant:"outlined",...u("password",{required:"\ud544\uc218 \ud544\ub4dc\uc785\ub2c8\ub2e4.",minLength:{value:8,message:"\ucd5c\uc18c 8\uc790\uc785\ub2c8\ub2e4."},validate:e=>!!/^(?=.*[a-zA-Z\u3131-\uD79D])(?=.*[\W_]).{6,}$/.test(e)||"\uc548\uc804\ud55c \ube44\ubc00\ubc88\ud638\ub97c \uc704\ud574 \uc601\ubb38 \ub300/\uc18c\ubb38\uc790, \ud2b9\uc218\ubb38\uc790 \uc0ac\uc6a9\ud574 \uc8fc\uc138\uc694."}),sx:{bgcolor:"white"},error:!!h.password,helperText:h.password?h.password.message:"",InputProps:{endAdornment:(0,je.jsx)(Cx,{position:"end",children:(0,je.jsx)(eo,{onClick:()=>R(!O),edge:"end",children:O?(0,je.jsx)(tye,{}):(0,je.jsx)(nye,{})})})}})})]}),(0,je.jsxs)(We,{mb:2,children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"password",sx:{fontWeight:"bold",color:"text.secondary"},children:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}),(0,je.jsx)(We,{sx:{display:"flex",alignItems:"center",mt:2},children:(0,je.jsx)(Mv,{label:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:L?"text":"password",fullWidth:!0,variant:"outlined",...u("passwordCheck",D),sx:{bgcolor:"white"},error:!!h.passwordCheck,helperText:h.passwordCheck?h.passwordCheck.message:"",InputProps:{endAdornment:(0,je.jsx)(Cx,{position:"end",children:(0,je.jsx)(eo,{onClick:()=>N(!L),edge:"end",children:L?(0,je.jsx)(tye,{}):(0,je.jsx)(nye,{})})})}})})]}),(0,je.jsxs)(We,{mb:2,children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"name",sx:{fontWeight:"bold",color:"text.secondary"},children:"\uc774\ub984"}),(0,je.jsx)(We,{sx:{display:"flex",alignItems:"center",mt:2},children:(0,je.jsx)(Mv,{id:"name",label:"\uc774\ub984",type:"text",fullWidth:!0,variant:"outlined",...u("name",{required:"\ud544\uc218 \ud544\ub4dc\uc785\ub2c8\ub2e4.",validate:e=>e.length>20?"\ucd5c\ub300 20\uc790\uc785\ub2c8\ub2e4.":/[0-9]/.test(e)?"\uc22b\uc790\ub294 \ub4e4\uc5b4\uac08 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":/[^a-zA-Z\uac00-\ud7a3\u3131-\u314e\u314f-\u3163\s]/.test(e)?"\ud2b9\uc218\ubb38\uc790\ub294 \ub4e4\uc5b4\uac08 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":!/[\u3131-\u314e\u314f-\u3163]/.test(e)||"\uc790\uc74c\uacfc \ubaa8\uc74c\uc740 \ub4e4\uc5b4\uac08 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}),sx:{bgcolor:"white"},error:!!h.name,helperText:h.name?h.name.message:""})})]}),(0,je.jsxs)(We,{mb:2,children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"nickName",sx:{fontWeight:"bold",color:"text.secondary"},children:"\ub2c9\ub124\uc784"}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mt:2},children:[(0,je.jsx)(Mv,{id:"nickName",label:"\ub2c9\ub124\uc784",type:"text",fullWidth:!0,variant:"outlined",...u("nickName",{required:"\ud544\uc218 \ud544\ub4dc\uc785\ub2c8\ub2e4.",maxLength:{value:20,message:"\ub2c9\ub124\uc784\uc740 \ucd5c\ub300 20\uc790\uae4c\uc9c0 \uc785\ub825\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}}),InputProps:{readOnly:Se,sx:{bgcolor:Se?"grey.200":"white","& .MuiInputBase-input":{color:Se?"text.disabled":"text.primary"}}},sx:{flex:1,mr:1}}),(0,je.jsx)(rI,{direction:"row",spacing:2,children:Te?(0,je.jsx)(je.Fragment,{children:(0,je.jsx)(hm,{variant:"outlined",className:"buttonSub1",sx:{height:"50px"},onClick:()=>{Ae(!1),Ie(!1)},children:"\ub2c9\ub124\uc784 \uc218\uc815"})}):!Se&&(0,je.jsx)(hm,{variant:"contained",color:"primary",className:"buttonMain",sx:{height:"50px"},onClick:async()=>{if(!ke||""===ke.trim())return C("\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),void x(!0);if(h.nickName)return C("\uc720\ud6a8\ud55c \ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694."),void x(!0);const e=ke;try{const t=await ch.post(`${y}/users/check-nickname`,{nickName:e});C(t.data.message),S("success"),x(!0),Ae(!0),Ie(!0)}catch(kke){C(kke.response?kke.response.data.message:"\uc11c\ubc84 \uc624\ub958"),S("error"),x(!0),Ae(!1),Ie(!1)}},children:"\uc911\ubcf5\uac80\uc0ac"})})]}),(null===h||void 0===h?void 0:h.nickName)&&(0,je.jsx)(Ks,{color:"error",sx:{mt:1},children:h.nickName.message})]}),(0,je.jsxs)(We,{mb:2,children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"age",sx:{fontWeight:"bold",color:"text.secondary"},children:"\uc0dd\ub144\uc6d4\uc77c"}),(0,je.jsxs)(We,{sx:{display:"flex",gap:2,mt:2},children:[(0,je.jsxs)(Fg,{fullWidth:!0,variant:"outlined",error:!(null===(e=h.age)||void 0===e||!e.year),children:[(0,je.jsx)(jg,{id:"year-label",children:"\ucd9c\uc0dd\ub144\ub3c4"}),(0,je.jsx)(Pb,{name:"age.year",control:g,defaultValue:"",rules:{required:"\ucd9c\uc0dd\ub144\ub3c4\ub294 \ud544\uc218\uc785\ub2c8\ub2e4."},render:e=>{let{field:t}=e;return(0,je.jsxs)(_v,{...t,labelId:"year-label",label:"\uc5f0\ub3c4",sx:{bgcolor:"white"},children:[(0,je.jsx)(Es,{value:"",children:"\uc120\ud0dd"}),B.map((e=>(0,je.jsx)(Es,{value:e,children:e},e)))]})}}),(0,je.jsx)(Yg,{children:null===(t=h.age)||void 0===t||null===(n=t.year)||void 0===n?void 0:n.message})]}),(0,je.jsxs)(Fg,{fullWidth:!0,variant:"outlined",error:!(null===(r=h.age)||void 0===r||!r.month),children:[(0,je.jsx)(jg,{id:"month-label",children:"\uc6d4"}),(0,je.jsx)(Pb,{name:"age.month",control:g,defaultValue:"",rules:{required:"\uc6d4\uc740 \ud544\uc218\uc785\ub2c8\ub2e4."},render:e=>{let{field:t}=e;return(0,je.jsxs)(_v,{...t,labelId:"month-label",label:"\uc6d4",sx:{bgcolor:"white"},children:[(0,je.jsx)(Es,{value:"",children:"\uc120\ud0dd"}),F.map((e=>(0,je.jsx)(Es,{value:e,children:e},e)))]})}}),(0,je.jsx)(Yg,{children:null===(o=h.age)||void 0===o||null===(s=o.month)||void 0===s?void 0:s.message})]}),(0,je.jsxs)(Fg,{fullWidth:!0,variant:"outlined",error:!(null===(a=h.age)||void 0===a||!a.day),children:[(0,je.jsx)(jg,{id:"day-label",children:"\uc77c"}),(0,je.jsx)(Pb,{name:"age.day",control:g,defaultValue:"",rules:{required:"\uc77c\uc740 \ud544\uc218\uc785\ub2c8\ub2e4."},render:e=>{let{field:t}=e;return(0,je.jsxs)(_v,{...t,labelId:"day-label",label:"\uc77c",sx:{bgcolor:"white"},children:[(0,je.jsx)(Es,{value:"",children:"\uc120\ud0dd"}),z.map((e=>(0,je.jsx)(Es,{value:e,children:e},e)))]})}}),(0,je.jsx)(Yg,{children:null===(l=h.age)||void 0===l||null===(c=l.day)||void 0===c?void 0:c.message})]})]})]}),(0,je.jsxs)(We,{mb:2,children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"gender",sx:{fontWeight:"bold",color:"text.secondary"},children:"\uc131\ubcc4"}),(0,je.jsx)(We,{sx:{display:"flex",gap:2,mt:2},children:(0,je.jsx)(Pb,{name:"gender",control:g,defaultValue:" ",rules:{required:"\uc131\ubcc4\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694."},render:e=>{let{field:t}=e;return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(la,{variant:"contained",onClick:()=>t.onChange("\ub0a8\uc131"),className:"buttonSub3",sx:{flexGrow:1,backgroundColor:"\ub0a8\uc131"===p("gender")?"#004ba0":"#2196f7",color:"white",border:"\ub0a8\uc131"===p("gender")?"3px solid #4a90e2":"3px solid transparent",boxShadow:"\ub0a8\uc131"===p("gender")?"0 0 0 3px #4a90e2":"none","&:hover":{backgroundColor:"\ub0a8\uc131"===p("gender")?"#00274d":"#1976d2",boxShadow:"\ub0a8\uc131"===p("gender")?"0 0 0 3px #4a90e2":"none"}},children:"\ub0a8\uc790"}),(0,je.jsx)(la,{variant:"contained",onClick:()=>t.onChange("\uc5ec\uc131"),className:"buttonSub4",sx:{flexGrow:1,backgroundColor:(p("gender"),"#ff4081"),color:"white",border:"\uc5ec\uc131"===p("gender")?"3px solid #f48fb1":"3px solid transparent",boxShadow:"\uc5ec\uc131"===p("gender")?"0 0 0 3px #f48fb1":"none","&:hover":{backgroundColor:"\uc5ec\uc131"===p("gender")?"#8e0000":"#c2185b",boxShadow:"\uc5ec\uc131"===p("gender")?"0 0 0 3px #f48fb1":"none"}},children:"\uc5ec\uc790"})]})}})}),h.gender&&(0,je.jsx)(Yg,{error:!0,children:h.gender.message})]}),(0,je.jsxs)(We,{mb:2,children:[(0,je.jsx)(Ks,{variant:"body2",component:"label",htmlFor:"phone",sx:{fontWeight:"bold",color:"text.secondary"},children:"\uc804\ud654\ubc88\ud638 (* \ubc88\ud638\ub9cc \uc785\ub825\ud574 \uc8fc\uc138\uc694)"}),(0,je.jsx)(We,{mt:1,children:(0,je.jsx)(Pb,{name:"phone",control:g,defaultValue:"",rules:{required:"\uc804\ud654\ubc88\ud638\ub294 \ud544\uc218\uc785\ub2c8\ub2e4.",pattern:{value:/^\d{3}-\d{4}-\d{4}$/,message:"\uc804\ud654\ubc88\ud638 \ud615\uc2dd\uc744 \ud655\uc778\ud574 \uc8fc\uc138\uc694.\n \uc608) 010-0000-0000"}},render:e=>{let{field:t}=e;return(0,je.jsx)(je.Fragment,{children:(0,je.jsx)(Mv,{...t,id:"phone",fullWidth:!0,variant:"outlined",placeholder:"010-0000-0000",error:!!h.phone,helperText:h.phone?h.phone.message:"",onChange:e=>{const t=(e=>{const t=e.replace(/\D/g,"");return t.length<=3?t:t.length<=7?`${t.slice(0,3)}-${t.slice(3)}`:`${t.slice(0,3)}-${t.slice(3,7)}-${t.slice(7,11)}`})(e.target.value);m("phone",t,{shouldValidate:!0})},value:p("phone"),sx:{bgcolor:"white"}})})}})})]}),(0,je.jsxs)(We,{mb:2,children:[(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mt:2},children:[(0,je.jsx)(Ks,{variant:"body2",sx:{fontWeight:"bold",color:"text.secondary"},children:"\uc9d1\uc8fc\uc18c"}),(0,je.jsx)(Ks,{variant:"body2",sx:{ml:2,color:"text.secondary"},children:"(*\uc74d\uba74\ub3d9 \uc911 \ud558\ub098\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694)"})]}),(0,je.jsx)(iye,{setSelectedSido:e=>T((t=>({...t,sido:e}))),setSelectedSigoon:e=>T((t=>({...t,sigoon:e}))),setSelectedDong:e=>T((t=>({...t,dong:e})))}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mt:2},children:[(0,je.jsx)(Ks,{variant:"body2",sx:{fontWeight:"bold",color:"text.secondary"},children:"\uc9c1\uc7a5\uc8fc\uc18c"}),(0,je.jsx)(Ks,{variant:"body2",sx:{ml:2,color:"text.secondary"},children:"(*\uc74d\uba74\ub3d9 \uc911 \ud558\ub098\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694)"})]}),(0,je.jsx)(oye,{setWorkplaceSido:e=>M((t=>({...t,w_sido:e}))),setWorkplaceSigoon:e=>M((t=>({...t,w_sigoon:e}))),setWorkplaceDong:e=>M((t=>({...t,w_dong:e})))}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mt:2},children:[(0,je.jsxs)(Ks,{variant:"body2",sx:{ml:2,color:"text.secondary"},children:["\ub3c4: ",Ne]}),(0,je.jsxs)(Ks,{variant:"body2",sx:{ml:2,color:"text.secondary"},children:["\uc2dc\uad70\uad6c: ",Fe]}),(0,je.jsxs)(Ks,{variant:"body2",sx:{ml:2,color:"text.secondary"},children:["\uc74d\uba74\ub3d9: ",Ve]}),(0,je.jsx)(zxe,{setWorkplaceSido:Be,setWorkplaceSigoon:ze,setWorkplaceDong:He})]}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mt:2},children:[(0,je.jsx)(Ks,{variant:"body2",sx:{fontWeight:"bold",color:"text.secondary"},children:"\uad00\uc2ec\uc9c0\uc5ed"}),(0,je.jsx)(Ks,{variant:"body2",sx:{ml:2,color:"text.secondary"},children:"(*\uc74d\uba74\ub3d9 \uc911 \ud558\ub098\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694)"})]}),(0,je.jsx)(sye,{setInterestSido:e=>P((t=>({...t,i_sido:e}))),setInterestSigoon:e=>P((t=>({...t,i_sigoon:e}))),setInterestDong:e=>P((t=>({...t,i_dong:e})))})]}),(0,je.jsxs)(We,{children:[(0,je.jsxs)(We,{mb:2,display:"flex",alignItems:"center",gap:2,children:[(0,je.jsx)(hm,{variant:"contained",color:"primary",onClick:()=>Q("job"),children:"\uc9c1\uc885 \uc120\ud0dd"}),(0,je.jsx)(Ks,{variant:"body2",sx:{fontWeight:"bold",color:"text.secondary"},children:"(\ucd5c\ub300 3\uac1c \uc120\ud0dd \uac00\ub2a5)"})]}),G&&(0,je.jsx)(Xbe,{jobCategories:Zbe,onSelect:K,onClose:()=>J("job"),selectedJobs:X}),(0,je.jsx)(We,{sx:{mb:2,p:2,bgcolor:"background.paper",borderRadius:2,boxShadow:1,border:"1px solid",borderColor:"divider"},children:(0,je.jsx)(We,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:X.map(((e,t)=>(0,je.jsx)(bA,{label:e,onDelete:()=>Z((t=>t.filter((t=>t!==e)))),sx:{bgcolor:"lightgrey",color:"black"}},t)))})})]}),(0,je.jsxs)(We,{children:[(0,je.jsxs)(We,{mb:2,display:"flex",alignItems:"center",gap:2,children:[(0,je.jsx)(hm,{variant:"contained",color:"primary",onClick:()=>Q("category"),children:"\uce74\ud14c\uace0\ub9ac \uc120\ud0dd"}),(0,je.jsx)(Ks,{variant:"body2",sx:{fontWeight:"bold",color:"text.secondary"},children:"3\uac1c \uc774\uc0c1 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694"})]}),V&&(0,je.jsx)(Gbe,{categories:qbe,onSelect:K,onClose:()=>J("category"),selectedCategories:H}),(0,je.jsx)(We,{sx:{mb:2,p:2,bgcolor:"background.paper",borderRadius:2,boxShadow:1,border:"1px solid",borderColor:"divider"},children:(0,je.jsx)(We,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Object.entries($).map((e=>{let[t,n]=e;return(0,je.jsxs)(We,{sx:{width:"100%"},children:[(0,je.jsx)(Ks,{variant:"subtitle2",sx:{fontWeight:"bold",mb:1},children:t}),(0,je.jsx)(We,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:n.map(((e,n)=>(0,je.jsx)(bA,{label:e,onDelete:()=>U((n=>n.filter((n=>!(n.main===t&&n.sub===e))))),sx:{bgcolor:"lightgrey",color:"black"}},n)))})]},t)}))})})]}),(0,je.jsxs)(We,{mt:4,children:[(0,je.jsxs)(We,{mb:2,children:[(0,je.jsx)(n9,{control:(0,je.jsx)(Qbe,{checked:Pe.all,onChange:()=>{const e=!Pe.all;De({terms:e,privacy:e,marketing:e,all:e})},color:"primary"}),label:(0,je.jsx)(Ks,{variant:"h6",component:"span",sx:{fontWeight:"bold"},children:"\uc804\uccb4 \ub3d9\uc758\ud558\uae30"})}),(0,je.jsx)(Qo,{sx:{boxSizing:"border-box",maxHeight:100,padding:2,borderRadius:1,border:"1px solid #d6d6d6",marginTop:2,overflow:"auto"},children:(0,je.jsx)(Ks,{variant:"body2",color:"textSecondary",children:"\uc2e4\uba85 \uc778\uc99d\ub41c \uc544\uc774\ub514\ub85c \uac00\uc785, \uc704\uce58\uae30\ubc18\uc11c\ube44\uc2a4 \uc774\uc6a9\uc57d\uad00(\uc120\ud0dd), \uc774\ubca4\ud2b8\u30fb\ud61c\ud0dd \uc815\ubcf4 \uc218\uc2e0(\uc120\ud0dd) \ub3d9\uc758\ub97c \ud3ec\ud568\ud569\ub2c8\ub2e4."})})]}),(0,je.jsx)(We,{children:(0,je.jsxs)(We,{display:"flex",alignItems:"center",children:[(0,je.jsx)(n9,{control:(0,je.jsx)(Qbe,{id:"terms-checkbox",checked:Pe.terms,onChange:()=>Oe("terms"),color:"primary"}),label:(0,je.jsx)(Ks,{variant:"body1",component:"span",children:"[\ud544\uc218] clubing \uc774\uc6a9\uc57d\uad00"}),sx:{marginRight:1}}),(0,je.jsx)(la,{variant:"text",color:"primary",onClick:()=>Re("terms"),sx:{textDecoration:"underline"},children:"\uc804\uccb4"})]})}),(0,je.jsx)(We,{children:(0,je.jsxs)(We,{display:"flex",alignItems:"center",children:[(0,je.jsx)(n9,{control:(0,je.jsx)(Qbe,{id:"privacy-checkbox",checked:Pe.privacy,onChange:()=>Oe("privacy"),color:"primary"}),label:(0,je.jsx)(Ks,{variant:"body1",component:"span",children:"[\ud544\uc218] \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9"}),sx:{marginRight:1}}),(0,je.jsx)(la,{variant:"text",color:"primary",onClick:()=>Re("privacy"),sx:{textDecoration:"underline"},children:"\uc804\uccb4"})]})}),(0,je.jsx)(We,{mb:2,children:(0,je.jsxs)(We,{display:"flex",alignItems:"center",children:[(0,je.jsx)(n9,{control:(0,je.jsx)(Qbe,{id:"marketing-checkbox",checked:Pe.marketing,onChange:()=>Oe("marketing"),color:"primary"}),label:(0,je.jsx)(Ks,{variant:"body1",component:"span",children:"[\uc120\ud0dd] \ub9c8\ucf00\ud305 \ub3d9\uc758"}),sx:{marginRight:1}}),(0,je.jsx)(la,{variant:"text",color:"primary",onClick:()=>Re("marketing"),sx:{textDecoration:"underline"},children:"\uc804\uccb4"})]})})]}),Me.terms&&(0,je.jsx)(Vxe,{onClose:()=>Le("terms"),handleCheck:Oe,checked:{terms:Pe.terms}}),Me.privacy&&(0,je.jsx)(Wxe,{onClose:()=>Le("privacy"),handleCheck:Oe,checked:{privacy:Pe.privacy}}),Me.marketing&&(0,je.jsx)(Jbe,{onClose:()=>Le("marketing"),handleCheck:Oe,checked:{marketing:Pe.marketing}}),(0,je.jsxs)(We,{mt:6,children:[(0,je.jsx)(hm,{type:"submit",variant:"contained",sx:{width:"100%",px:4,py:2,borderRadius:"8px"},children:"\ud68c\uc6d0\uac00\uc785"}),(0,je.jsxs)(Ks,{mt:8,variant:"body2",color:"text.secondary",align:"center",sx:{fontWeight:"light"},children:["\uc544\uc774\ub514\uac00 \uc788\ub2e4\uba74?"," ",(0,je.jsx)(Kxe,{href:"/login",underline:"hover",color:"primary",children:"\ub85c\uadf8\uc778"})]})]})]})]}),(0,je.jsx)(XI,{open:w,message:_,severity:"success",onClose:()=>{x(!1)}})]})},e_e=dt(),t_e=e=>{let{passCategory:t}=e;const n=ee(),[r,o]=(0,i.useState)(0),[s,a]=(0,i.useState)([]),l=()=>{o((e=>e+1))};sl((e=>e.user));(0,i.useEffect)((()=>{0!==r&&((async()=>{try{const e=await gh.get(`/meetings/category/${t}?count=${r}`),n=await e.data;console.log("data"),console.log(n),console.log("data"),a((e=>[...e,...n]))}catch(u){console.error("Error fetching meetings:",u)}})(),console.log("moreMeetingListCount"),console.log(r))}),[r]);const{data:c,error:u,isLoading:d,isError:h,isFetching:f}=Jf({queryKey:["categoryMeetingList",t],queryFn:async()=>{const e=await gh.get(`/meetings/category/${t}`),n=await e.data;return o(0),a([]),n},keepPreviousData:!0});return d&&!f?(0,je.jsx)("div",{children:"\ub85c\ub529 \uc911..."}):h?(0,je.jsxs)("div",{children:["Error: ",u.message]}):(0,je.jsx)(II,{children:(0,je.jsxs)(e_e,{maxWidth:"lg",sx:{backgroundColor:"#f2f2f2",padding:"20px",borderRadius:"30px"},children:[(0,je.jsxs)(Pt,{container:!0,spacing:3,sx:{marginBottom:"30px"},children:[c&&c.slice(0,4).map(((e,t)=>{var r;const i=null===e||void 0===e?void 0:e.joinMemberInfo.map(((e,t)=>(0,je.jsx)(Sp,{alt:e.img,src:e.thumbnailImage,sx:{width:32,height:32}},t)));return(0,je.jsx)(Pt,{item:!0,xs:6,sm:6,md:6,onClick:()=>{n(`/clubs/main?clubNumber=${e.clubNumber}`)},sx:{height:"200px",marginBottom:"10px",cursor:"pointer"},children:(0,je.jsxs)(Qo,{elevation:2,sx:{padding:"16px",display:"flex",borderRadius:"20px",transition:"all 0.3s ease","&:hover":{transform:"scale(1.02)"}},children:[(0,je.jsx)(Pt,{item:!0,xs:12,sm:12,md:4,children:(0,je.jsx)(II,{sx:{width:"160px",height:"160px",overflow:"hidden",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:(0,je.jsx)("img",{src:"http://localhost:4000/"+e.img,alt:"Example222",style:{width:"100%",height:"100%",objectFit:"cover"}})})}),(0,je.jsxs)(Pt,{item:!0,xs:12,sm:12,md:8,children:[(0,je.jsx)(Ks,{variant:"h5",sx:{fontWeight:"700",fontSize:"22px",color:"#383535"},children:e.title}),(0,je.jsxs)(II,{sx:{margin:"4px"},children:["\uc77c\uc2dc : ",e.dateTime]}),(0,je.jsxs)(II,{sx:{margin:"4px"},children:["\uc704\uce58 : ",e.where]}),(0,je.jsxs)(II,{sx:{margin:"4px"},children:["\ube44\uc6a9 : ",e.cost]}),(0,je.jsxs)(II,{sx:{display:"inline-flex",alignItems:"center",margin:"10px 0px"},children:[(0,je.jsx)(Dp,{max:4,children:i}),(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"center",marginLeft:"8px"},children:[(0,je.jsx)(Up.A,{sx:{fontSize:"18px"}}),(0,je.jsxs)("span",{style:{marginLeft:"5px"},children:[null===e||void 0===e||null===(r=e.joinMember)||void 0===r?void 0:r.length,"/",null===e||void 0===e?void 0:e.totalCount]})]})]})]})]})},t)})),(!c||0===c.length)&&(0,je.jsx)(Pt,{item:!0,xs:12,sx:{borderRadius:"30px",height:"200px",width:"100%",backgroundColor:"#f2f2f2",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"22px"},children:"\uc120\ud0dd\ud558\uc2e0 \uce74\ud14c\uace0\ub9ac\uc758 \uc815\uae30\ubaa8\uc784\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})]}),(0,je.jsx)(Pt,{container:!0,spacing:2,sx:{marginBottom:"20px"},children:s&&s.slice(0,4*r).map(((e,t)=>{var r;const i=null===e||void 0===e?void 0:e.joinMemberInfo.map(((e,t)=>(0,je.jsx)(Sp,{alt:e.img,src:e.thumbnailImage,sx:{width:32,height:32}},t)));return(0,je.jsx)(Pt,{item:!0,xs:6,sm:6,md:6,onClick:()=>{n(`/clubs/main?clubNumber=${e.clubNumber}`)},sx:{height:"200px",marginBottom:"10px",cursor:"pointer",transition:"all 0.3s ease","&:hover":{backgroundColor:"#f0f0f0",transform:"scale(1.01)"}},children:(0,je.jsxs)(Qo,{elevation:2,sx:{padding:"16px",display:"flex",borderRadius:"20px",transition:"all 0.3s ease","&:hover":{transform:"scale(1.02)"}},children:[(0,je.jsx)(Pt,{item:!0,xs:12,sm:12,md:4,children:(0,je.jsx)(II,{sx:{width:"160px",height:"160px",overflow:"hidden",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:(0,je.jsx)("img",{src:"http://localhost:4000/"+e.img,alt:"Example222",style:{width:"100%",height:"100%",objectFit:"cover"}})})}),(0,je.jsxs)(Pt,{item:!0,xs:12,sm:12,md:8,children:[(0,je.jsx)(Ks,{variant:"h5",sx:{fontWeight:"700",fontSize:"22px",color:"#383535"},children:e.title}),(0,je.jsxs)(II,{sx:{margin:"4px"},children:["\uc77c\uc2dc : ",e.dateTime]}),(0,je.jsxs)(II,{sx:{margin:"4px"},children:["\uc704\uce58 : ",e.where]}),(0,je.jsxs)(II,{sx:{margin:"4px"},children:["\ube44\uc6a9 : ",e.cost]}),(0,je.jsxs)(II,{sx:{display:"inline-flex",alignItems:"center",margin:"10px 0px"},children:[(0,je.jsx)(Dp,{max:4,children:i}),(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"center",marginLeft:"8px"},children:[(0,je.jsx)(Up.A,{sx:{fontSize:"18px"}}),(0,je.jsxs)("span",{style:{marginLeft:"5px"},children:[null===e||void 0===e||null===(r=e.joinMember)||void 0===r?void 0:r.length,"/",null===e||void 0===e?void 0:e.totalCount]})]})]})]})]})},t)}))}),0===r&&c&&5===c.length&&(0,je.jsx)(Ks,{variant:"h6",onClick:l,sx:{color:"#A6836F",background:"white",textAlign:"center",borderRadius:"30px",width:"100%",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease","&:hover":{backgroundColor:"#A6836F",color:"white",boxShadow:"0px 6px 12px rgba(0, 0, 0, 0.2)",cursor:"pointer"}},children:"\ub354\ubcf4\uae30"}),s&&5===s.length&&(0,je.jsx)(Ks,{variant:"h6",onClick:l,sx:{color:"#A6836F",background:"white",textAlign:"center",borderRadius:"30px",width:"100%",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease","&:hover":{backgroundColor:"#A6836F",color:"white",boxShadow:"0px 6px 12px rgba(0, 0, 0, 0.2)",cursor:"pointer"}},children:"\ub354\ubcf4\uae30"})]})})};var n_e=n(8625);n(3803),n(6598),n(9436),je.Fragment;function r_e(e,t,n){return Me.h.call(t,"css")?je.jsx(Me.E,(0,Me.c)(e,t),n):je.jsx(e,t,n)}function i_e(e,t,n){return Me.h.call(t,"css")?je.jsxs(Me.E,(0,Me.c)(e,t),n):je.jsxs(e,t,n)}const o_e=()=>{const e=Ii.i7`
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
`,t=ee(),n=sl((e=>e.user)),r=async()=>{const e=await gh.get("/meetings/suggestForUser");return await e.data},{data:i,error:o,isLoading:s,isError:a,isFetching:l,refetch:c}=Jf({queryKey:["meetingListAsUser"],queryFn:r,keepPreviousData:!0,staleTime:0,cacheTime:0});return s&&!l?r_e("div",{children:"\ub85c\ub529 \uc911..."}):a?i_e("div",{children:["Error: ",o.message]}):i_e(II,{children:[r_e(e_e,{sx:{width:"100%",height:"100px",display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"white",marginTop:"20px"},children:i_e(Pt,{container:!0,spacing:0,sx:{BottomMargin:"0px"},children:[r_e(Pt,{item:!0,xs:10,children:i_e(II,{sx:{fontSize:"25px",fontWeight:"600",BottomMargin:"5px"},children:["\ub9de\ucda4 \ucd94\ucc9c \ubaa8\uc784",r_e("span",{style:{fontSize:"20px",fontWeight:"550",color:"#A6836F"},children:" - \uc120\ud0dd\ud55c \uce74\ud14c\uace0\ub9ac \uc704\uc8fc\ub85c \ucd94\ucc9c\ud574\ub4dc\ub824\uc694"})]})}),i_e(Pt,{item:!0,xs:2,onClick:()=>{r(),c()},sx:{fontSize:"20px",fontWeight:550,marginBottom:"5px",display:"flex",alignItems:"center",cursor:"pointer",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.1)"}},children:["\ucd94\ucc9c \uc0c8\ub85c\uace0\uce68",r_e(n_e.A,{css:{marginLeft:"8px",animation:`${e} 5s linear infinite`}})]})]})}),r_e(e_e,{maxWidth:"lg",sx:{backgroundColor:"#f2f2f2",padding:"20px",borderRadius:"30px"},children:i_e(Pt,{container:!0,spacing:3,sx:{marginBottom:"30px"},children:[i&&i.slice(0,6).map(((e,n)=>{var r;const i=null===e||void 0===e?void 0:e.joinMemberInfo.map(((e,t)=>r_e(Sp,{alt:e.img,src:e.thumbnailImage,sx:{width:32,height:32}},t)));return r_e(Pt,{item:!0,xs:6,sm:6,md:6,onClick:()=>{t(`/clubs/main?clubNumber=${e.clubNumber}`)},sx:{height:"200px",marginBottom:"10px",cursor:"pointer"},children:i_e(Qo,{elevation:2,sx:{padding:"16px",display:"flex",borderRadius:"20px",transition:"all 0.3s ease","&:hover":{transform:"scale(1.02)"}},children:[r_e(Pt,{item:!0,xs:12,sm:12,md:4,children:r_e(II,{sx:{width:"160px",height:"160px",overflow:"hidden",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:r_e("img",{src:"http://localhost:4000/"+e.img,alt:"Example222",style:{width:"100%",height:"100%",objectFit:"cover"}})})}),i_e(Pt,{item:!0,xs:12,sm:12,md:8,children:[r_e(Ks,{variant:"h5",sx:{fontWeight:"700",fontSize:"22px",color:"#383535"},children:e.title}),i_e(II,{sx:{margin:"4px"},children:["\uc77c\uc2dc : ",e.dateTime]}),i_e(II,{sx:{margin:"4px"},children:["\uc704\uce58 : ",e.where]}),i_e(II,{sx:{margin:"4px"},children:["\ube44\uc6a9 : ",e.cost]}),i_e(II,{sx:{display:"inline-flex",alignItems:"center",margin:"10px 0px"},children:[r_e(Dp,{max:4,children:i}),i_e(II,{sx:{display:"flex",alignItems:"center",marginLeft:"8px"},children:[r_e(Up.A,{sx:{fontSize:"18px"}}),i_e("span",{style:{marginLeft:"5px"},children:[null===e||void 0===e||null===(r=e.joinMember)||void 0===r?void 0:r.length,"/",null===e||void 0===e?void 0:e.totalCount]})]})]})]})]})},n)})),""!==n.userData.user.email&&(!i||0===i.length)&&r_e(Pt,{item:!0,xs:12,sx:{borderRadius:"30px",height:"200px",width:"100%",backgroundColor:"#f2f2f2",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"22px"},children:"\uc815\ubcf4\uac00 \ubd80\uc871\ud569\ub2c8\ub2e4. \ud68c\uc6d0\uc815\ubcf4\uc5d0\uc11c \uc815\ubcf4\ub97c \ucd94\uac00\ud574\uc8fc\uc138\uc694."}),""===n.userData.user.email&&r_e(Pt,{item:!0,xs:12,sx:{borderRadius:"30px",height:"200px",width:"100%",backgroundColor:"#f2f2f2",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"22px"},children:"\ub85c\uadf8\uc778 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})]})})]})},s_e=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(0),[o,s]=(0,i.useState)([...Object.keys(cM)]),[a,l]=(0,i.useState)(0),c=["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],[u,d]=(0,i.useState)(""),h=ee(),[f,p]=(0,i.useState)([]),[m,g]=(0,i.useState)(0),v=()=>{g((e=>e+1))};(0,i.useEffect)((()=>{0!==m&&(async()=>{try{const e=await gh.get(`/meetings?nowDate=${u}&count=${m}`),t=await e.data;p((e=>[...e,...t]))}catch(y){console.error("Error fetching meetings:",y)}})()}),[m]),(0,i.useEffect)((()=>{const e=new Date,n=[];for(let t=0;t<14;t++){const r=new Date(e);r.setDate(e.getDate()+t);const i={date:r.getDate(),day:c[r.getDay()],fullDate:r.toISOString().split("T")[0]};n.push(i)}t(n),d(n[0].fullDate),console.log("dateList[0]")}),[]);const{data:b,error:y,isLoading:w,isError:x,isFetching:_}=Jf({queryKey:["meetingList",u],queryFn:async()=>{const e=await fetch(`http://localhost:4000/meetings?nowDate=${u}`);return await e.json()},enabled:!!u,keepPreviousData:!0}),[C,k]=(0,i.useState)("\ud478\ub4dc\xb7\ub4dc\ub9c1\ud06c");return w&&!_?(0,je.jsx)("div",{children:"\ub85c\ub529 \uc911..."}):x?(0,je.jsxs)("div",{children:["Error: ",y.message]}):(0,je.jsxs)(We,{sx:{width:"100%",backgroundColor:"white"},children:[(0,je.jsxs)(gt,{sx:{width:"100%",height:"200px",display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"white"},children:[(0,je.jsx)(Pt,{item:!0,xs:12,children:(0,je.jsx)(We,{sx:{fontSize:"25px",fontWeight:"600"},children:"\ub2e4\uac00\uc624\ub294 \uc815\uae30\ubaa8\uc784"})}),(0,je.jsx)(Pt,{item:!0,xs:12,children:(0,je.jsx)(dC,{value:n,onChange:(e,t)=>{r(t)},variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",TabIndicatorProps:{style:{display:"none"}},sx:{"& .MuiTab-root":{fontWeight:"700",fontSize:"1.2rem",textAlign:"center",color:"#A6836F",minWidth:"60px",margin:"12px 25px"},"& .Mui-selected":{backgroundColor:"#A6836F",borderRadius:"50%",color:"white !important"}},children:e.map(((t,n)=>(0,je.jsx)(B_,{onClick:()=>{return e=t.fullDate,d(e),g(0),void p([]);var e},label:(0,je.jsxs)(We,{sx:{marginLeft:"15px",marginRight:"15px"},children:[(0,je.jsx)(We,{sx:{fontWeight:"500"},children:e[n].day}),(0,je.jsx)(We,{children:e[n].date})]})},n)))})})]}),(0,je.jsxs)(gt,{maxWidth:"lg",sx:{backgroundColor:"#f2f2f2",padding:"20px",borderRadius:"30px"},children:[(0,je.jsx)(Pt,{container:!0,spacing:2,sx:{marginBottom:"20px"},children:b&&b.slice(0,4).map(((e,t)=>{var n;const r=null===e||void 0===e?void 0:e.joinMemberInfo.map(((e,t)=>(0,je.jsx)(Sp,{alt:e.img,src:e.thumbnailImage,sx:{width:32,height:32}},t)));return(0,je.jsx)(Pt,{item:!0,xs:6,sm:6,md:6,onClick:()=>{h(`/clubs/main?clubNumber=${e.clubNumber}`)},sx:{height:"200px",marginBottom:"10px",cursor:"pointer",transition:"all 0.3s ease","&:hover":{backgroundColor:"#f0f0f0",transform:"scale(1.01)"}},children:(0,je.jsxs)(Qo,{elevation:2,sx:{padding:"16px",display:"flex",borderRadius:"20px",transition:"all 0.3s ease","&:hover":{transform:"scale(1.02)"}},children:[(0,je.jsx)(Pt,{item:!0,xs:12,sm:12,md:4,children:(0,je.jsx)(We,{sx:{width:"160px",height:"160px",overflow:"hidden",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:(0,je.jsx)("img",{src:"http://localhost:4000/"+e.img,alt:"Example222",style:{width:"100%",height:"100%",objectFit:"cover"}})})}),(0,je.jsxs)(Pt,{item:!0,xs:12,sm:12,md:8,children:[(0,je.jsx)(Ks,{variant:"h5",sx:{fontWeight:"700",fontSize:"22px",color:"#383535"},children:e.title}),(0,je.jsxs)(We,{sx:{margin:"4px"},children:["\uc77c\uc2dc : ",e.dateTime]}),(0,je.jsxs)(We,{sx:{margin:"4px"},children:["\uc704\uce58 : ",e.where]}),(0,je.jsxs)(We,{sx:{margin:"4px"},children:["\ube44\uc6a9 : ",e.cost]}),(0,je.jsxs)(We,{sx:{display:"inline-flex",alignItems:"center",margin:"10px 0px"},children:[(0,je.jsx)(Dp,{max:4,children:r}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",marginLeft:"8px"},children:[(0,je.jsx)(Up.A,{sx:{fontSize:"18px"}}),(0,je.jsxs)("span",{style:{marginLeft:"5px"},children:[null===e||void 0===e||null===(n=e.joinMember)||void 0===n?void 0:n.length,"/",null===e||void 0===e?void 0:e.totalCount]})]})]})]})]})},t)}))}),(0,je.jsx)(Pt,{container:!0,spacing:2,sx:{marginBottom:"20px"},children:f&&f.slice(0,4*m).map(((e,t)=>{var n;const r=null===e||void 0===e?void 0:e.joinMemberInfo.map(((e,t)=>(0,je.jsx)(Sp,{alt:e.img,src:e.thumbnailImage,sx:{width:32,height:32}},t)));return(0,je.jsx)(Pt,{item:!0,xs:6,sm:6,md:6,onClick:()=>{h(`/clubs/main?clubNumber=${e.clubNumber}`)},sx:{height:"200px",marginBottom:"10px",cursor:"pointer",transition:"all 0.3s ease","&:hover":{backgroundColor:"#f0f0f0",transform:"scale(1.01)"}},children:(0,je.jsxs)(Qo,{elevation:2,sx:{padding:"16px",display:"flex",borderRadius:"20px",transition:"all 0.3s ease","&:hover":{transform:"scale(1.02)"}},children:[(0,je.jsx)(Pt,{item:!0,xs:12,sm:12,md:4,children:(0,je.jsx)(We,{sx:{width:"160px",height:"160px",overflow:"hidden",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f0f0f0"},children:(0,je.jsx)("img",{src:"http://localhost:4000/"+e.img,alt:"Example222",style:{width:"100%",height:"100%",objectFit:"cover"}})})}),(0,je.jsxs)(Pt,{item:!0,xs:12,sm:12,md:8,children:[(0,je.jsx)(Ks,{variant:"h5",sx:{fontWeight:"700",fontSize:"22px",color:"#383535"},children:e.title}),(0,je.jsxs)(We,{sx:{margin:"4px"},children:["\uc77c\uc2dc : ",e.dateTime]}),(0,je.jsxs)(We,{sx:{margin:"4px"},children:["\uc704\uce58 : ",e.where]}),(0,je.jsxs)(We,{sx:{margin:"4px"},children:["\ube44\uc6a9 : ",e.cost]}),(0,je.jsxs)(We,{sx:{display:"inline-flex",alignItems:"center",margin:"10px 0px"},children:[(0,je.jsx)(Dp,{max:4,children:r}),(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",marginLeft:"8px"},children:[(0,je.jsx)(Up.A,{sx:{fontSize:"18px"}}),(0,je.jsxs)("span",{style:{marginLeft:"5px"},children:[null===e||void 0===e||null===(n=e.joinMember)||void 0===n?void 0:n.length,"/",null===e||void 0===e?void 0:e.totalCount]})]})]})]})]})},t)}))}),(!b||0===b.length)&&(0,je.jsx)(Pt,{item:!0,xs:12,sx:{height:"200px",width:"100%",backgroundColor:"#f2f2f2",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"22px"},children:"\uc120\ud0dd\ud558\uc2e0 \ub0a0\uc9dc\uc5d0 \uc815\uae30\ubaa8\uc784\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}),0===m&&b&&5===b.length&&(0,je.jsx)(Ks,{variant:"h6",onClick:v,sx:{color:"#A6836F",background:"white",textAlign:"center",borderRadius:"30px",width:"100%",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease","&:hover":{backgroundColor:"#A6836F",color:"white",boxShadow:"0px 6px 12px rgba(0, 0, 0, 0.2)",cursor:"pointer"}},children:"\ub354\ubcf4\uae30"}),f&&5===f.length&&(0,je.jsx)(Ks,{variant:"h6",onClick:v,sx:{color:"#A6836F",background:"white",textAlign:"center",borderRadius:"30px",width:"100%",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease","&:hover":{backgroundColor:"#A6836F",color:"white",boxShadow:"0px 6px 12px rgba(0, 0, 0, 0.2)",cursor:"pointer"}},children:"\ub354\ubcf4\uae30"})]}),(0,je.jsxs)(gt,{sx:{width:"100%",height:"150px",display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"white",marginTop:"30px"},children:[(0,je.jsx)(Pt,{item:!0,xs:12,children:(0,je.jsx)(We,{sx:{fontSize:"25px",fontWeight:"600"},children:"\uce74\ud14c\uace0\ub9ac \ubcc4 \uc815\uae30\ubaa8\uc784"})}),(0,je.jsx)(Pt,{item:!0,xs:12,children:(0,je.jsx)(dC,{value:a,onChange:(e,t)=>{l(t),k(o[t])},variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",TabIndicatorProps:{style:{display:"none"}},sx:{"& .MuiTab-root":{fontWeight:"700",fontSize:"1.2rem",textAlign:"center",color:"#A6836F",minWidth:"60px",margin:"12px 25px"},"& .Mui-selected":{border:"2px solid #A6836F",borderRadius:"20px",color:"#A6836F !important"}},children:o.map(((e,t)=>(0,je.jsx)(B_,{label:(0,je.jsx)(We,{sx:{marginLeft:"5px",marginRight:"5px"},children:(0,je.jsx)(We,{sx:{fontWeight:"500"},children:e})})},t)))})})]}),C&&(0,je.jsx)(t_e,{passCategory:C}),(0,je.jsx)(o_e,{}),(0,je.jsx)(We,{sx:{width:"100%",height:"100px",backgroundColor:"white"}})]})};function a_e(e){return(0,He.Ay)("MuiCard",e)}(0,Fe.A)("MuiCard",["root"]);const l_e=["className","raised"],c_e=(0,ft.Ay)(Qo,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),u_e=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiCard"}),{className:r,raised:i=!1}=n,o=(0,Ce.A)(n,l_e),s=(0,_e.A)({},n,{raised:i}),a=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"]},a_e,t)})(s);return(0,je.jsx)(c_e,(0,_e.A)({className:(0,ke.A)(a.root,r),elevation:i?8:void 0,ref:t,ownerState:s},o))}));function d_e(e){return(0,He.Ay)("MuiCardActions",e)}(0,Fe.A)("MuiCardActions",["root","spacing"]);const h_e=["disableSpacing","className"],f_e=(0,ft.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),p_e=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:i}=n,o=(0,Ce.A)(n,h_e),s=(0,_e.A)({},n,{disableSpacing:r}),a=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,Ue.A)(r,d_e,t)})(s);return(0,je.jsx)(f_e,(0,_e.A)({className:(0,ke.A)(a.root,i),ownerState:s,ref:t},o))}));var m_e=n(9454),g_e=n(8952);const v_e=e=>{let{club:t}=e;const n=ee();if(!t)return(0,je.jsx)("div",{children:"No club data available"});const{adminImage:r,memberImages:i,title:o,subTitle:s,img:a}=t,l=a?`http://localhost:4000/${a}`:"https://via.placeholder.com/320x150";return(0,je.jsxs)(u_e,{variant:"outlined",sx:{width:250,height:200,borderRadius:2,borderColor:"#d0d7de",margin:1},children:[(0,je.jsxs)(We,{sx:{height:120,display:"flex",flexDirection:"column",justifyContent:"center",backgroundImage:`url(${l})`,backgroundSize:"cover",backgroundPosition:"center",padding:2},children:[(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,je.jsx)(Sp,{alt:"Admin",src:r||"https://via.placeholder.com/56",sx:{width:40,height:40,border:"2px solid white"}}),(0,je.jsxs)(We,{children:[(0,je.jsx)(Ks,{variant:"h6",component:"div",sx:{color:"white",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.8)"},children:o||"Unknown Club"}),(0,je.jsxs)(We,{display:"flex",alignItems:"center",gap:.5,children:[i&&i.slice(0,3).map(((e,t)=>(0,je.jsx)(Sp,{src:e||"https://via.placeholder.com/24",sx:{width:20,height:20,border:"1px solid white"}},t))),i&&i.length>3&&(0,je.jsxs)(Ks,{variant:"caption",sx:{color:"white",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.8)"},children:["+",i.length-3]})]})]})]}),(0,je.jsx)(Ks,{variant:"body2",sx:{fontSize:"10px",mt:1,color:"white",fontWeight:"bold",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.7)"},children:s||"No description available"})]}),(0,je.jsx)(Gy,{}),(0,je.jsxs)(p_e,{children:[(0,je.jsx)(eo,{"aria-label":"favorite",children:(0,je.jsx)(m_e.A,{})}),(0,je.jsx)(We,{sx:{flexGrow:1}}),(0,je.jsx)(g_e.A,{sx:{padding:"7px",paddingTop:"2px",color:"gray",":hover":{cursor:"pointer"},fontSize:24},onClick:()=>n(`/clubs/main?clubNumber=${t._id}`)})]})]})};var b_e=n(7030);const y_e=["/MainImage/mainImage.webp","/MainImage/mainImage2.webp","/MainImage/mainImage3.webp"],w_e={enter:e=>({opacity:0,x:e>0?window.innerWidth:-window.innerWidth,transition:{type:"spring",stiffness:300,damping:20}}),center:{zIndex:1,opacity:1,x:0,transition:{x:{type:"spring",stiffness:300,damping:20,restDelta:2,restSpeed:2},opacity:{duration:3}}},exit:e=>({zIndex:0,opacity:0,x:e<0?window.innerWidth:-window.innerWidth,transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:3}}})},x_e=async()=>(await ch.get("http://localhost:4000/clubs/home/card")).data,__e=async()=>(await ch.get("http://localhost:4000/clubs/home/card/new")).data,C_e=()=>{const e=ee(),[[t,n],r]=(0,i.useState)([0,0]),o=sl((e=>{var t,n,r;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.email)||null})),{isLoading:s,error:a,data:l}=Jf({queryKey:["clubData"],queryFn:x_e}),{isLoading:c,error:u,data:d}=Jf({queryKey:["newClubData"],queryFn:__e}),{isLoading:h,error:f,data:p}=Jf({queryKey:["recommendedClubs",o],queryFn:()=>(async e=>(await ch.get("http://localhost:4000/clubs/home/recommend",{params:{email:e}})).data)(o),enabled:!0}),m=s||c||h,g=a||u||f,v=()=>{r((e=>{let[t]=e;return[t+1,1]}))};(0,i.useEffect)((()=>{const e=setInterval(v,8e3);return()=>clearInterval(e)}),[]);const[b,y]=(0,i.useState)(0);(0,i.useEffect)((()=>{const e=setInterval((()=>{y((e=>e+20))}),3e3);return()=>clearInterval(e)}),[]);const w=o?"\uc120\ud0dd\ud55c \uc9c0\uc5ed \ubc0f \uad00\uc2ec\uc0ac \uae30\uc900\uc73c\ub85c \ucd94\ucc9c\ud574\ub4dc\ub9bd\ub2c8\ub2e4.  \n       \uc9c0\uc5ed \ubc0f \uad00\uc2ec\uc0ac \ubcc0\uacbd\uc740\n       \ub9c8\uc774\ud398\uc774\uc9c0-\ud68c\uc6d0\uc815\ubcf4-\uc815\ubcf4\uc218\uc815 \uc5d0\uc11c \uac00\ub2a5\ud569\ub2c8\ub2e4.":"\uc120\ud0dd\ud55c \uc9c0\uc5ed \ubc0f \uad00\uc2ec\uc0ac \uae30\uc900\uc73c\ub85c \ucd94\ucc9c\ud574\ub4dc\ub9bd\ub2c8\ub2e4. \ub85c\uadf8\uc778 \uc2dc \uc815\ud655\ud55c \ucd94\ucc9c \uc815\ubcf4\ub97c \ubc1b\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.";return(0,je.jsx)(We,{sx:{width:"100%",backgroundColor:"#F2F2F2",position:"relative"},children:(0,je.jsxs)(gt,{maxWidth:"lg",sx:{paddingBottom:"40px"},children:[(0,je.jsx)(We,{className:"carousel-container",sx:{position:"relative"},children:(0,je.jsxs)(We,{sx:{display:"flex"},children:[(0,je.jsx)(la,{className:"prev-btn",onClick:()=>{r((e=>{let[t]=e;return[t-1,-1]}))},sx:{color:"black"},children:"\u276e"}),(0,je.jsx)(We,{className:"carousel",children:(0,je.jsx)(Gpe.div,{className:"image-frame",children:(0,je.jsx)(Gpe.img,{src:y_e[(e=>(e%y_e.length+y_e.length)%y_e.length)(t)],custom:n,variants:w_e,initial:"enter",animate:"center",exit:"exit",className:"carousel-image"},t)})}),(0,je.jsx)(la,{className:"next-btn",onClick:v,sx:{color:"black"},children:"\u276f"})]})}),m&&(0,je.jsx)("div",{children:"Loading..."}),g&&(0,je.jsx)("div",{children:"Error fetching data"}),(0,je.jsxs)(We,{sx:{mt:5,padding:"20px"},children:[(0,je.jsxs)(We,{sx:{borderBottom:"3px solid black",mb:2,pb:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,je.jsx)(Ks,{variant:"h5",sx:{fontWeight:"bold",ml:2},children:"\ubaa8\uc784 \ucc3e\uae30"}),(0,je.jsx)(Ks,{variant:"body1",sx:{color:"gray",cursor:"pointer","&:hover":{color:"black",cursor:"pointer"}},onClick:()=>e("/clubList"),children:"\ub354\ubcf4\uae30"})]}),(0,je.jsx)(Pt,{container:!0,spacing:2,sx:{mt:2},children:l&&l.map(((e,t)=>(0,je.jsx)(Pt,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,je.jsx)(v_e,{club:e})},t)))})]}),(0,je.jsxs)(We,{sx:{mt:5,padding:"20px"},children:[(0,je.jsx)(We,{sx:{borderBottom:"3px solid black",mb:2,pb:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,je.jsx)(Ks,{variant:"h5",sx:{fontWeight:"bold",ml:2},children:"\uc2e0\uaddc \ubaa8\uc784"})}),(0,je.jsx)(We,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"230px",perspective:"10000px",overflow:"hidden"},children:(0,je.jsx)(We,{sx:{position:"relative",width:"200px",height:"200px",transformStyle:"preserve-3d",transform:`rotateY(${b}deg)`,transition:"transform 10s ease"},children:d&&d.map(((e,t)=>{const n=t/d.length*360;return(0,je.jsx)(We,{sx:{position:"absolute",width:"120px",height:"90px",transform:`rotateY(${n}deg) translateZ(250px)`,backfaceVisibility:"hidden"},children:(0,je.jsx)(v_e,{club:e})},t)}))})})]}),(0,je.jsxs)(We,{sx:{mt:5,padding:"20px"},children:[(0,je.jsxs)(We,{sx:{borderBottom:"3px solid black",mb:2,pb:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center"},children:[(0,je.jsx)(Ks,{variant:"h5",sx:{fontWeight:"bold",ml:2},children:"\ucd94\ucc9c \ubaa8\uc784"}),(0,je.jsx)(xi,{title:w,arrow:!0,sx:{"& .MuiTooltip-tooltip":{backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",fontSize:"0.75rem",borderRadius:"4px"}},children:(0,je.jsx)(eo,{sx:{color:"gray",fontSize:"1.5rem"},children:(0,je.jsx)(b_e.A,{})})})]}),(0,je.jsx)(Ks,{variant:"body1",sx:{color:"gray",cursor:"pointer","&:hover":{color:"black",cursor:"pointer"}},onClick:()=>e("/recommendedClubList"),children:"\ub354\ubcf4\uae30"})]}),(0,je.jsx)(Pt,{container:!0,spacing:2,sx:{mt:2},children:p&&p.map(((e,t)=>(0,je.jsx)(Pt,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,je.jsx)(v_e,{club:e})},t)))})]}),(0,je.jsx)(We,{sx:{mt:5,padding:"20px"},children:(0,je.jsxs)(We,{sx:{borderBottom:"3px solid black",mb:2,pb:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,je.jsx)(Ks,{variant:"h5",sx:{fontWeight:"bold",ml:2},children:"\uc815\ubaa8\uc77c\uc815"}),(0,je.jsx)(Ks,{variant:"body1",sx:{color:"gray",cursor:"pointer","&:hover":{color:"black",cursor:"pointer"}},onClick:()=>e("/meetingList"),children:"\ub354\ubcf4\uae30"})]})}),(0,je.jsx)(We,{sx:{mt:5,padding:"20px"},children:(0,je.jsxs)(We,{sx:{borderBottom:"3px solid black",mb:2,pb:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,je.jsx)(Ks,{variant:"h5",sx:{fontWeight:"bold",ml:2},children:"\uc774\ubca4\ud2b8"}),(0,je.jsx)(Ks,{variant:"body1",sx:{color:"gray",cursor:"pointer","&:hover":{color:"black",cursor:"pointer"}},onClick:()=>e("/event"),children:"\ub354\ubcf4\uae30"})]})})]})})};function k_e(e){let{onChange:t,title:n,setTitle:r,content:o,setImage:s}=e;const a=(0,i.useRef)(null),l=(0,i.useRef)(null),[c,u]=((0,i.useRef)(null),(0,i.useState)(null)),[d,h]=(0,i.useState)(!1),f=e=>({upload:()=>new Promise(((t,n)=>{const r=new FormData;e.file.then((e=>{r.append("file",e),ch.post("http://localhost:4000/events/upload",r).then((e=>{s(e.data.filename);const n=function(){const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}(),r=e.data.filename;t({default:`http://localhost:4000/upload/${n}/${r}`})})).catch((e=>n(e)))}))}))});(0,i.useEffect)((()=>(h(!0),()=>h(!1))),[]);const p={toolbar:{items:["undo","redo","|","selectAll","|","heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","code","|","specialCharacters","horizontalLine","link","insertImage","mediaEmbed","insertTable","blockQuote","codeBlock","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent","|","accessibilityHelp"],shouldNotGroupWhenFull:!1},plugins:[e$,kG,hq,CJ,S1,pq,nG,iX,sG,xq,PZ,Aq,ZZ,mK,XK,$K,PK,zK,sQ,uQ,Image,WJ,ZJ,UJ,p0,f0,M0,W0,MJ,H0,u0,G0,Q0,Pq,T1,D1,S2,X2,K4,JK,_3,sK,hH,M3,E3,O3,R3,j3,D3,P3,Lq,v7,N8,h8,V8,M8,_7,tq,o5,Vq,pK,function(e){e.plugins.get("FileRepository").createUploadAdapter=e=>f(e)}],balloonToolbar:["bold","italic","|","link","insertImage","|","bulletedList","numberedList"],blockToolbar:["fontSize","fontColor","fontBackgroundColor","|","bold","italic","|","link","insertImage","insertTable","|","bulletedList","numberedList","outdent","indent"],fontFamily:{supportAllValues:!0},fontSize:{options:[10,12,14,"default",18,20,22],supportAllValues:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]},image:{toolbar:["toggleImageCaption","imageTextAlternative","|","imageStyle:inline","imageStyle:wrapText","imageStyle:breakText","|","resizeImage"]},initialData:o||"",language:"ko",link:{addTargetToExternalLinks:!0,defaultProtocol:"https://",decorators:{toggleDownloadable:{mode:"manual",label:"Downloadable",attributes:{download:"file"}}}},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694\ud83d\ude06",table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties"]},translations:[W8],height:300};return(0,i.useEffect)((()=>{c&&c.model.document.on("change:data",(()=>{const e=c.getData();t(e)}))}),[c,t]),(0,je.jsxs)(We,{mb:2,sx:{padding:"20px",borderRadius:"15px",border:"3px solid",borderColor:"transparent",borderImage:"linear-gradient(45deg, #6a82fb, #fc5c7d) 1",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)"},children:[(0,je.jsx)(Mv,{label:"\uc81c\ubaa9",variant:"outlined",fullWidth:!0,margin:"normal",value:n,onChange:e=>r(e.target.value)}),(0,je.jsx)("div",{className:"main-container",style:{width:"100%"},children:(0,je.jsxs)("div",{className:"editor-container editor-container_document-editor",ref:a,children:[(0,je.jsx)("div",{className:"editor-container__toolbar",ref:l}),(0,je.jsx)("div",{className:"editor-container__editor-wrapper",style:{width:"100%",height:"100%"},children:(0,je.jsx)("div",{className:"editor-container__editor",style:{width:"100%",height:"100%"},children:d&&(0,je.jsx)(DM,{onReady:e=>{l.current.appendChild(e.ui.view.toolbar.element),u(e)},editor:JZ,config:p,data:o||""})})})]})})]})}function S_e(e){let{onClose:t,onNext:n}=e;const[r,o]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(""),p=()=>{d(!1)};return(0,je.jsxs)(We,{children:[(0,je.jsx)(eo,{"aria-label":"close",onClick:t,sx:{position:"absolute",top:8,right:8},children:(0,je.jsx)(Ea.A,{})}),(0,je.jsx)("h1",{children:"\uc774\ubca4\ud2b8 \uac8c\uc2dc\ud310 \uc791\uc131"}),(0,je.jsx)(We,{sx:{flex:1,overflow:"auto",marginTop:"1px",paddingRight:"10px"},children:(0,je.jsx)(k_e,{title:r,setTitle:o,content:s,onChange:e=>{a(e)},setImage:c})}),(0,je.jsx)(la,{variant:"contained",sx:{backgroundColor:"#DBC7B5","&:hover":{backgroundColor:"#A67153"},mt:2},onClick:()=>{r&&s?n({title:r,content:s,image:l||"https://via.placeholder.com/400?text=No+Image"}):(d(!0),f("\uc81c\ubaa9\uacfc \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."))},children:"\ub2e4\uc74c"}),(0,je.jsx)(Vp,{open:u,autoHideDuration:4e3,onClose:p,children:(0,je.jsx)(qI,{onClose:p,severity:"warning",sx:{width:"100%"},children:h})})]})}const A_e=e=>{let{eventId:t,onClose:n,onNext:r}=e;const[o,s]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(""),m=sl((e=>{var t,n,r;return null===e||void 0===e||null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.email}));(0,i.useEffect)((()=>{(async()=>{try{const e=await gh.get(`http://localhost:4000/events/${t}`),{title:n,content:r,cardImage:i}=e.data;s(n),l(r),u(i||"")}catch(e){p("\uc774\ubca4\ud2b8 \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),h(!0)}})()}),[t]);const g=()=>{h(!1)};return(0,je.jsxs)(We,{children:[(0,je.jsx)(eo,{"aria-label":"close",onClick:n,sx:{position:"absolute",top:8,right:8},children:(0,je.jsx)(Ea.A,{})}),(0,je.jsx)("h1",{children:"\uc774\ubca4\ud2b8 \uc218\uc815"}),(0,je.jsx)(We,{sx:{flex:1,overflow:"auto",marginTop:"1px",paddingRight:"10px"},children:(0,je.jsx)(k_e,{title:o,setTitle:s,content:a,onChange:e=>{l(e)},setImage:u})}),(0,je.jsxs)(la,{variant:"contained",color:"primary",onClick:()=>{if(o&&a){r({writer:m,title:o,content:a,cardImage:c||"https://via.placeholder.com/400?text=No+Image",eventId:t,isEdit:!0})}else p("\uc81c\ubaa9\uacfc \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),h(!0)},sx:{backgroundColor:"#DBC7B5","&:hover":{backgroundColor:"#A67153"},mt:2},children:["  ","\ub2e4\uc74c"]}),(0,je.jsx)(Vp,{open:d,autoHideDuration:4e3,onClose:g,children:(0,je.jsx)(qI,{onClose:g,severity:"warning",sx:{width:"100%"},children:f})})]})};function T_e(e){return(0,He.Ay)("MuiCardContent",e)}(0,Fe.A)("MuiCardContent",["root"]);const I_e=["className","component"],M_e=(0,ft.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),E_e=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiCardContent"}),{className:r,component:i="div"}=n,o=(0,Ce.A)(n,I_e),s=(0,_e.A)({},n,{component:i}),a=(e=>{const{classes:t}=e;return(0,Ue.A)({root:["root"]},T_e,t)})(s);return(0,je.jsx)(M_e,(0,_e.A)({as:i,className:(0,ke.A)(a.root,r),ownerState:s,ref:t},o))}));function P_e(e){return(0,He.Ay)("MuiCardMedia",e)}(0,Fe.A)("MuiCardMedia",["root","media","img"]);const D_e=["children","className","component","image","src","style"],j_e=(0,ft.Ay)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:i}=n;return[t.root,r&&t.media,i&&t.img]}})((e=>{let{ownerState:t}=e;return(0,_e.A)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})})),O_e=["video","audio","picture","iframe","img"],R_e=["picture","img"],L_e=i.forwardRef((function(e,t){const n=(0,pt.b)({props:e,name:"MuiCardMedia"}),{children:r,className:i,component:o="div",image:s,src:a,style:l}=n,c=(0,Ce.A)(n,D_e),u=-1!==O_e.indexOf(o),d=!u&&s?(0,_e.A)({backgroundImage:`url("${s}")`},l):l,h=(0,_e.A)({},n,{component:o,isMediaComponent:u,isImageComponent:-1!==R_e.indexOf(o)}),f=(e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e,i={root:["root",n&&"media",r&&"img"]};return(0,Ue.A)(i,P_e,t)})(h);return(0,je.jsx)(j_e,(0,_e.A)({className:(0,ke.A)(f.root,i),as:o,role:!u&&s?"img":void 0,ref:t,style:d,ownerState:h,src:u?s||a:void 0},c,{children:r}))})),N_e=L_e;var B_e=n(8082);const F_e={position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:11e3},z_e={background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",maxWidth:"90%",maxHeight:"90%",overflow:"hidden",position:"relative"},V_e={position:"absolute",top:"10px",right:"10px",background:"white",color:"black",border:"black solid 1px",borderRadius:"10px",cursor:"pointer",width:"20px",height:"30px",zIndex:11001},W_e={position:"absolute",bottom:"10px",right:"10px",background:"white",color:"black",border:"black solid 1px",borderRadius:"10px",cursor:"pointer",zIndex:11001},H_e=e=>{let{src:t,onCropComplete:n,onClose:r}=e;const[o,s]=(0,i.useState)({unit:"px",width:400,height:225,x:0,y:0,aspect:16/9}),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)({width:"auto",height:"auto"}),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(""),[v,b]=(0,i.useState)("warning"),y=(e,t)=>{"clickaway"!==t&&p(!1)};return(0,je.jsx)("div",{style:F_e,children:(0,je.jsxs)("div",{style:{...z_e,...d},children:[(0,je.jsx)(la,{onClick:r,variant:"outlined",style:V_e,children:"X"}),(0,je.jsx)(gI,{crop:o,onChange:e=>{s(e)},onComplete:e=>{l(e)},style:{width:"100%",height:"100%"},children:(0,je.jsx)("img",{src:t,alt:"Source",onLoad:e=>{const t=e.target;u(t),h({width:t.naturalWidth>600?"90%":`${t.naturalWidth}px`,height:t.naturalHeight>400?"auto":`${t.naturalHeight}px`})},style:{width:"100%",height:"100%",objectFit:"contain",maxWidth:"100%",maxHeight:"100%"}})}),(0,je.jsx)(la,{onClick:()=>{if(c&&a&&a.width&&a.height){const e=document.createElement("canvas"),t=c.naturalWidth/c.width,i=c.naturalHeight/c.height;e.width=a.width,e.height=a.height;e.getContext("2d").drawImage(c,a.x*t,a.y*i,a.width*t,a.height*i,0,0,a.width,a.height),e.toBlob((e=>{const t=URL.createObjectURL(e);n(t),r()}),"image/jpeg")}else g("\uc601\uc5ed\uc744 \uc6c0\uc9c1\uc5ec\uc11c \uc774\ubbf8\uc9c0\ub97c \uc124\uc815\ud574\uc8fc\uc138\uc694"),b("warning"),p(!0)},style:W_e,children:"\uc644\ub8cc"}),(0,je.jsx)(Vp,{open:f,autoHideDuration:6e3,onClose:y,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,je.jsx)(qI,{onClose:y,severity:v,sx:{width:"100%"},children:m})})]})})};Gp().locale("ko");const U_e=e=>{let{eventData:t,onClose:n}=e;const[r,o]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(null),[h,f]=(0,i.useState)(""),[p,m]=(0,i.useState)(""),[g,v]=(0,i.useState)(!1),[b,y]=(0,i.useState)(!1),w=(0,i.useRef)(null),[x,_]=(0,i.useState)(null),[C,k]=(0,i.useState)(!1),[S,A]=(0,i.useState)(!1),[T,I]=(0,i.useState)(""),[M,E]=(0,i.useState)("success"),[P,D]=(0,i.useState)(6e3),j=sl((e=>{var t,n,r;return null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.email}));(0,i.useEffect)((()=>{if(t){o(t.title||""),m(t.cardTitle||"");const e=(e=>{const t=e.match(/<img[^>]+src="([^">]+)"/);return t?t[1]:""})(t.content||"")||t.cardImage||"";c(e),a((e=>{const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""})(t.content||"")),_(t.endTime?Gp()(t.endTime):null)}}),[t]);const O=async e=>{const t=await fetch(e);return await t.blob()},R=async e=>{if(!e)throw I("\uc5c5\ub85c\ub4dc\ud560 \uc774\ubbf8\uc9c0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),E("error"),D(6e3),A(!0),new Error("No image to upload");{const n=new FormData;n.append("file",e,"uploaded_image.png");try{const e=(await gh.post("http://localhost:4000/events/upload",n)).data.filename,t=Gp()().format("YYYY-MM-DD"),r=`${"http://localhost:4000/upload"}/${t}/${e}`;return f(r),r}catch(t){throw I("\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),E("error"),D(6e3),A(!0),t}}},L=D9({mutationFn:async e=>(await gh.post("http://localhost:4000/events/newEvent",e)).data,onSuccess:e=>{I("\uc774\ubca4\ud2b8\uac00 \uc131\uacf5\uc801\uc73c\ub85c \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),E("success"),D(1e3),A(!0)},onError:e=>{I("\uc774\ubca4\ud2b8 \ub4f1\ub85d\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),E("error"),D(6e3),A(!0)}}),N=D9({mutationFn:async e=>(await gh.put(`http://localhost:4000/events/${e.eventId}`,e)).data,onSuccess:e=>{I("\uc774\ubca4\ud2b8\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),E("success"),D(1e3),A(!0)},onError:e=>{I("\uc774\ubca4\ud2b8 \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),E("error"),D(6e3),A(!0)}}),B=(e,t)=>{"clickaway"!==t&&(A(!1),"success"===M&&n())};return(0,je.jsx)(Fy,{dateAdapter:Ry,adapterLocale:"ko",children:(0,je.jsxs)(II,{sx:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"100%",m:"10px"},children:[(0,je.jsx)(Ks,{variant:"h6",gutterBottom:!0,children:"\ub9ac\uc2a4\ud2b8 \uce74\ub4dc \ubaa8\ub378\ub9c1"}),(0,je.jsx)(II,{sx:{display:"flex",justifyContent:"center",width:"100%"},children:(0,je.jsxs)(u_e,{sx:{width:"350px",height:"auto",margin:0},children:[(0,je.jsx)(N_e,{component:"img",alt:r||"\uc774\ubbf8\uc9c0 \uc5c6\uc74c",height:"200",image:l||"https://via.placeholder.com/345x140?text=No+Image",onClick:()=>w.current.click(),sx:{cursor:"pointer",objectFit:"cover",width:"100%",height:"200px"}}),(0,je.jsxs)(II,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 10px",m:"10px"},children:[(0,je.jsx)(E_e,{sx:{padding:0,flex:1},children:g?(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"center"},children:[(0,je.jsx)(Mv,{value:p,onChange:e=>m(e.target.value),label:"\uc0c8\ub85c\uc6b4 \uc81c\ubaa9",variant:"outlined",size:"small",sx:{marginRight:1}}),(0,je.jsx)(la,{onClick:()=>v(!1),variant:"contained",size:"small",children:"\uc800\uc7a5"})]}):(0,je.jsx)(Ks,{variant:"body2",color:"black",sx:{display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:2,whiteSpace:"normal",cursor:"pointer"},onClick:()=>v(!0),children:p||r||"\uae30\ubcf8 \ud0c0\uc774\ud2c0"})}),(0,je.jsx)(B_e.A,{sx:{fontSize:28,cursor:"pointer",ml:1}})]}),(0,je.jsxs)(II,{sx:{padding:"0 20px"},children:[(0,je.jsx)(Ks,{fontSize:10,children:"\uc870\ud68c\uc218 : 100"}),(0,je.jsxs)(Ks,{fontSize:10,children:["\ub4f1\ub85d\ub0a0\uc9dc : ",Gp()().format("YYYY-MM-DD HH:mm:ss")]}),(0,je.jsxs)(Ks,{fontSize:10,children:["\uc885\ub8cc\ub0a0\uc9dc : ",x?x.format("YYYY-MM-DD HH:mm:ss"):"\uc120\ud0dd\ub418\uc9c0 \uc54a\uc74c"]})]}),(0,je.jsxs)(p_e,{children:[(0,je.jsx)(la,{size:"small",sx:{color:"#30231C"},children:"\uacf5\uc720"}),(0,je.jsx)(la,{size:"small",sx:{color:"#30231C"},children:"\ub354 \ubcf4\uae30"})]})]})}),(0,je.jsxs)(II,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",mt:2,width:"350px"},children:[C&&(0,je.jsx)(II,{sx:{marginRight:1},children:(0,je.jsx)(YT,{value:x,onChange:e=>_(e),onAccept:()=>k(!1),onClose:()=>k(!1),showToolbar:!0,ampm:!1,renderInput:e=>(0,je.jsx)(Mv,{...e,size:"small",sx:{width:"150px",fontSize:"12px"}})})}),(0,je.jsx)(la,{variant:"contained",onClick:()=>k(!0),sx:{backgroundColor:"#DBC7B5","&:hover":{backgroundColor:"#A67153"},mr:1},children:"\uc885\ub8cc\uc2dc\uc77c \uc124\uc815"}),(0,je.jsx)(la,{variant:"contained",onClick:async()=>{try{let e="";if(u)e=await R(u);else if(l){const t=await O(l);e=await R(t)}else t&&t.cardImage&&(e=t.cardImage);console.log("eventData:",t),console.log("eventId:",null===t||void 0===t?void 0:t.eventId);const n={eventId:(null===t||void 0===t?void 0:t.eventId)||null,title:r,content:t.content,cardImage:e,cardTitle:p,writer:j,endTime:x?x.toISOString():null,isEdit:(null===t||void 0===t?void 0:t.isEdit)||!1};n.isEdit?N.mutate(n):L.mutate(n)}catch(e){I("\uc81c\ucd9c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),E("error"),D(6e3),A(!0)}},sx:{backgroundColor:"#6E3C21","&:hover":{backgroundColor:"#A67153"}},children:"\uc81c\ucd9c"})]}),(0,je.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},ref:w,onChange:async e=>{const t=e.target.files[0];if(t){const e=await(e=>new Promise(((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=e=>n(e)})))(t);c(e),y(!0)}}}),b&&(0,je.jsx)(H_e,{src:l,onCropComplete:c,onClose:()=>y(!1)}),(0,je.jsx)(Vp,{open:S,autoHideDuration:P,onClose:B,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,je.jsx)(qI,{onClose:B,severity:M,sx:{width:"100%"},children:T})})]})})};class $_e extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Y_e(e){let{children:t,isPresent:n}=e;const r=(0,i.useId)(),o=(0,i.useRef)(null),s=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:a}=(0,i.useContext)(Rfe);return(0,i.useInsertionEffect)((()=>{const{width:e,height:t,top:i,left:l}=s.current;if(n||!o.current||!e||!t)return;o.current.dataset.motionPopId=r;const c=document.createElement("style");return a&&(c.nonce=a),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            top: ${i}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(c)}}),[n]),(0,je.jsx)($_e,{isPresent:n,childRef:o,sizeRef:s,children:i.cloneElement(t,{ref:o})})}const G_e=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:o,custom:s,presenceAffectsLayout:a,mode:l}=e;const c=lpe(q_e),u=(0,i.useId)(),d=(0,i.useMemo)((()=>({id:u,initial:n,isPresent:r,custom:s,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;o&&o()},register:e=>(c.set(e,!1),()=>c.delete(e))})),a?[Math.random()]:[r]);return(0,i.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[r]),i.useEffect((()=>{!r&&!c.size&&o&&o()}),[r]),"popLayout"===l&&(t=(0,je.jsx)(Y_e,{isPresent:r,children:t})),(0,je.jsx)(ihe.Provider,{value:d,children:t})};function q_e(){return new Map}const X_e=e=>e.key||"";function Z_e(e){const t=[];return i.Children.forEach(e,(e=>{(0,i.isValidElement)(e)&&t.push(e)})),t}const K_e=e=>{let{children:t,exitBeforeEnter:n,custom:r,initial:o=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync"}=e;Wae(!n,"Replace exitBeforeEnter with mode='wait'");const c=(0,i.useMemo)((()=>Z_e(t)),[t]),u=c.map(X_e),d=(0,i.useRef)(!0),h=(0,i.useRef)(c),f=lpe((()=>new Map)),[p,m]=(0,i.useState)(c),[g,v]=(0,i.useState)(c);Bfe((()=>{d.current=!1,h.current=c;for(let e=0;e<g.length;e++){const t=X_e(g[e]);u.includes(t)?f.delete(t):!0!==f.get(t)&&f.set(t,!1)}}),[g,u.length,u.join("-")]);const b=[];if(c!==p){let e=[...c];for(let t=0;t<g.length;t++){const n=g[t],r=X_e(n);u.includes(r)||(e.splice(t,0,n),b.push(n))}return"wait"===l&&b.length&&(e=b),v(Z_e(e)),void m(c)}const{forceRender:y}=(0,i.useContext)(ohe);return(0,je.jsx)(je.Fragment,{children:g.map((e=>{const t=X_e(e),n=c===g||u.includes(t);return(0,je.jsx)(G_e,{isPresent:n,initial:!(d.current&&!o)&&void 0,custom:n?void 0:r,presenceAffectsLayout:a,mode:l,onExitComplete:n?void 0:()=>{if(!f.has(t))return;f.set(t,!0);let e=!0;f.forEach((t=>{t||(e=!1)})),e&&(null===y||void 0===y||y(),v(h.current),s&&s())},children:e},t)}))})},Q_e=e=>{let{event:t,onEdit:n,onDelete:r,onImageClick:o}=e;const s=t.cardImage||"https://via.placeholder.com/345x140?text=No+Image",a=t.cardTitle||t.title||"\uae30\ubcf8 \ud0c0\uc774\ud2c0",[l,c]=(0,i.useState)(null),u=Boolean(l),d=sl((e=>{var t,n,r;return null===e||void 0===e||null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.email})),[h,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)(""),[g,v]=(0,i.useState)("success"),b=()=>{c(null)},y=D9({mutationFn:async()=>(await gh.delete(`http://localhost:4000/events/${t._id}`,{data:{email:d}})).data,onSuccess:e=>{console.log("\uc0ad\uc81c \uc131\uacf5:",e),m("\uc774\ubca4\ud2b8\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),v("success"),f(!0),r&&r(t._id)},onError:e=>{console.error("\uc0ad\uc81c \uc2e4\ud328:",e),m("\uc774\ubca4\ud2b8 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),v("error"),f(!0)}}),w=(e,t)=>{"clickaway"!==t&&f(!1)};return(0,je.jsxs)(je.Fragment,{children:[(0,je.jsxs)(u_e,{sx:{width:"350px",height:"auto",margin:0,backgroundColor:"#f0f0f0"},children:[(0,je.jsx)(N_e,{component:"img",alt:t.title||"\uc774\ubbf8\uc9c0 \uc5c6\uc74c",height:"200",image:s,onClick:()=>{(async e=>{try{console.log(`\uc870\ud68c\uc218 \uc99d\uac00 \ud568\uc218 \ud638\ucd9c\ub428: \uc774\ubca4\ud2b8 ID - ${e}`);const t=await ch.patch(`http://localhost:4000/events/${e}/views`);console.log("\uc870\ud68c\uc218 \uc99d\uac00 \uc751\ub2f5:",t.data)}catch(t){console.error("\uc870\ud68c\uc218 \uc99d\uac00 \uc624\ub958:",t)}})(t._id),o&&o()},sx:{cursor:"pointer",objectFit:"cover",width:"100%",height:"200px"}}),(0,je.jsxs)(We,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 10px",margin:"10px",backgroundColor:"#f0f0f0",position:"relative"},children:[(0,je.jsx)(E_e,{sx:{padding:0,flex:1},children:(0,je.jsx)(Ks,{variant:"body2",color:"black",sx:{display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:2,whiteSpace:"normal"},children:a})}),(0,je.jsx)(B_e.A,{sx:{fontSize:28,cursor:"pointer",marginLeft:"8px"},onClick:e=>{c(e.currentTarget)}}),(0,je.jsxs)(ws,{anchorEl:l,open:u,onClose:b,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},disableScrollLock:!0,children:[(0,je.jsx)(Es,{onClick:()=>{b(),n&&n(t)},children:"\uc218\uc815\ud558\uae30"}),(0,je.jsx)(Es,{onClick:()=>{b(),y.mutate()},children:"\uc0ad\uc81c\ud558\uae30"})]})]}),(0,je.jsxs)(We,{sx:{padding:"0 20px",backgroundColor:"#f0f0f0",mb:"20px"},children:[(0,je.jsxs)(Ks,{fontSize:10,children:["\uc870\ud68c\uc218 : ",t.views||0]}),(0,je.jsxs)(Ks,{fontSize:10,children:["\ub4f1\ub85d\ub0a0\uc9dc :",t.createdAt?new Date(t.createdAt).toLocaleString("ko-KR",{timeZone:"Asia/Seoul"}):"\ub0a0\uc9dc \uc815\ubcf4 \uc5c6\uc74c"]}),(0,je.jsxs)(Ks,{fontSize:10,children:["\uc885\ub8cc\ub0a0\uc9dc :",t.endTime?new Date(t.endTime).toLocaleString("ko-KR",{timeZone:"Asia/Seoul"}):"\uc120\ud0dd\ub418\uc9c0 \uc54a\uc74c"]})]})]}),(0,je.jsx)(Vp,{open:h,autoHideDuration:6e3,onClose:w,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,je.jsx)(qI,{onClose:w,severity:g,sx:{width:"100%"},children:p})})]})},J_e=e=>{let{eventId:t,onClose:n}=e;const r=sl((e=>{var t,n,r;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.email)||null})),{data:o,isLoading:s,error:a}=Jf({queryKey:["event",t],queryFn:()=>(async e=>{try{return(await ch.get(`http://localhost:4000/events/${e}`)).data}catch(a){throw console.error("\uac8c\uc2dc\ubb3c \uc870\ud68c \uc624\ub958:",a),a}})(t),onSuccess:e=>{console.log("\uac8c\uc2dc\ubb3c \uac00\uc838\uc624\uae30 \uc131\uacf5:",e)},onError:e=>{console.error("\uac8c\uc2dc\ubb3c \uac00\uc838\uc624\uae30 \uc624\ub958:",e)}}),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(""),[p,m]=(0,i.useState)("error");(0,i.useEffect)((()=>{o&&o.writer===r?c(!0):c(!1)}),[o,r]);const g=()=>d(!1);if(s)return(0,je.jsx)("div",{children:"Loading..."});if(a)return(0,je.jsxs)("div",{children:["\uac8c\uc2dc\ubb3c \uac00\uc838\uc624\uae30 \uc624\ub958: ",a.message]});if(!o)return(0,je.jsx)("div",{children:"\uac8c\uc2dc\ubb3c\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"});const v=e=>{const t=new Date(e);return`${t.toLocaleDateString()} ${t.toLocaleTimeString()}`};return(0,je.jsxs)(gt,{sx:{backgroundColor:"white",paddingTop:"40px",paddingBottom:"40px",maxWidth:"1000px"},children:[o&&(0,je.jsxs)(je.Fragment,{children:[(0,je.jsxs)(We,{sx:{borderBottom:"1px solid #ddd",paddingBottom:"20px",marginBottom:"20px"},children:[(0,je.jsx)(Ks,{variant:"h5",gutterBottom:!0,sx:{fontWeight:"bold"},children:o.title}),(0,je.jsxs)(We,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,je.jsxs)(We,{children:[(0,je.jsxs)(Ks,{variant:"body2",color:"textSecondary",children:["\uc791\uc131\uc790: ",o.writer]}),(0,je.jsxs)(Ks,{variant:"body2",color:"textSecondary",children:["\uc870\ud68c\uc218: ",o.views]})]}),(0,je.jsxs)(We,{sx:{textAlign:"right"},children:[(0,je.jsxs)(Ks,{variant:"body2",color:"textSecondary",children:["\ub4f1\ub85d \ub0a0\uc9dc: ",v(o.createdAt)]}),(0,je.jsxs)(Ks,{variant:"body2",color:"textSecondary",children:["\uc885\ub8cc \ub0a0\uc9dc: ",o.endTime?v(o.endTime):"\uc5c6\uc74c"]})]})]})]}),(0,je.jsx)(We,{className:"fetched-content",sx:{paddingTop:"20px"},children:(0,je.jsx)(j9,{content:o.content,readOnly:!0})})]}),(0,je.jsx)(Vp,{open:u,autoHideDuration:6e3,onClose:g,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,je.jsx)(qI,{onClose:g,severity:p,children:h})})]})},eCe=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),[o,s]=(0,i.useState)(!1),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)("ongoing"),[f,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(""),[v,b]=(0,i.useState)(!1),y=sl((e=>{var t,n;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n?void 0:n.user)||null})),w=0===(null===y||void 0===y?void 0:y.roles),{data:x=[],isLoading:_,isError:C,refetch:k}=Jf({queryKey:["events"],queryFn:async()=>(await ch.get("http://localhost:4000/events/")).data}),S=()=>r(!1),A=()=>{s(!1)},T=()=>{t(!1),k()},I=()=>{b(!1),k()},M=x.filter((e=>"ongoing"===d?!e.endTime||new Date(e.endTime)>new Date:"ended"!==d||e.endTime&&new Date(e.endTime)<=new Date)),E=e=>{k(),g("\uc774\ubca4\ud2b8\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),p(!0)},P=e=>{var t;t=e._id,l(t),s(!0)},D=(e,t)=>{"clickaway"!==t&&p(!1)};return _?(0,je.jsx)(gt,{sx:{minHeight:"650px",mb:"40px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,je.jsx)(Ks,{variant:"h6",children:"\ub85c\ub529 \uc911..."})}):C?(0,je.jsx)(gt,{sx:{minHeight:"650px",mb:"40px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,je.jsx)(Ks,{variant:"h6",color:"error",children:"\uc774\ubca4\ud2b8\ub97c \ubd88\ub7ec\uc624\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."})}):(0,je.jsxs)(gt,{sx:{minHeight:"650px",mb:"40px",backgroundColor:"white"},children:[(0,je.jsx)("h1",{children:"EVENT"}),(0,je.jsxs)(We,{sx:{display:"flex",justifyContent:"center",mb:4},children:[(0,je.jsx)(la,{variant:"outlined",onClick:()=>h("ongoing"),sx:{flex:1,borderRadius:"0px",height:"50px",fontSize:"16px",fontWeight:"normal",borderColor:"ongoing"===d?"#333":"#ccc",color:"#333","&:hover":{borderColor:"#333"}},children:"\uc9c4\ud589\uc911\uc778 \uc774\ubca4\ud2b8"}),(0,je.jsx)(la,{variant:"outlined",onClick:()=>h("ended"),sx:{flex:1,borderRadius:"0px",height:"50px",fontSize:"16px",fontWeight:"normal",borderColor:"ended"===d?"#333":"#ccc",color:"#333","&:hover":{borderColor:"#333"}},children:"\uc885\ub8cc\ub41c \uc774\ubca4\ud2b8"})]}),(0,je.jsx)(Pt,{container:!0,spacing:3,children:M.length>0?M.map((e=>(0,je.jsx)(Pt,{item:!0,xs:12,sm:6,md:4,sx:{boxSizing:"border-box"},children:(0,je.jsx)(Q_e,{event:e,onEdit:P,onDelete:E,onImageClick:()=>{return t=e._id,l(t),void b(!0);var t}})},e._id))):(0,je.jsx)(We,{sx:{width:"100%",textAlign:"center",mt:4},children:(0,je.jsx)(Ks,{variant:"h6",children:"ongoing"===d?"\uc9c4\ud589\uc911\uc778 \uc774\ubca4\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc885\ub8cc\ub41c \uc774\ubca4\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})})}),w&&(0,je.jsxs)(je.Fragment,{children:[(0,je.jsx)(dp,{onClick:()=>r(!0),"aria-label":"add",sx:{position:"fixed",bottom:"100px",right:"50px",backgroundColor:"#DBC7B5","&:hover":{backgroundColor:"#A67153"}},children:(0,je.jsx)($p.A,{sx:{color:"#fff"}})}),(0,je.jsx)(K_e,{children:n&&(0,je.jsx)(Po,{open:!0,sx:{zIndex:1300},onClick:S,children:(0,je.jsx)(Gpe.div,{initial:{opacity:0,x:"100vw"},animate:{opacity:1,x:"0vw"},exit:{opacity:0,x:"-100vw"},transition:{type:"spring",stiffness:300,damping:30},onClick:e=>e.stopPropagation(),children:(0,je.jsx)(We,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,maxHeight:"85vh",bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"8px",overflowY:"auto"},children:(0,je.jsx)(S_e,{onClose:S,onNext:e=>{u(e),r(!1),t(!0)}})})})})}),(0,je.jsx)(K_e,{children:o&&(0,je.jsx)(Po,{open:!0,sx:{zIndex:1300},onClick:A,children:(0,je.jsx)(Gpe.div,{initial:{opacity:0,x:"100vw"},animate:{opacity:1,x:"0vw"},exit:{opacity:0,x:"-100vw"},transition:{type:"spring",stiffness:300,damping:30},onClick:e=>e.stopPropagation(),children:(0,je.jsx)(We,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,maxHeight:"85vh",bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"8px",overflowY:"auto"},children:(0,je.jsx)(A_e,{eventId:a,onClose:A,onNext:e=>{u(e),s(!1),t(!0)}})})})})}),(0,je.jsx)(K_e,{children:e&&(0,je.jsx)(Po,{open:!0,sx:{zIndex:1300},onClick:T,children:(0,je.jsx)(Gpe.div,{initial:{opacity:0,x:"100vw"},animate:{opacity:1,x:"0vw"},exit:{opacity:0,x:"-100vw"},transition:{type:"spring",stiffness:300,damping:30},onClick:e=>e.stopPropagation(),children:(0,je.jsx)(We,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,maxHeight:"85vh",bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"8px",overflowY:"auto"},children:(0,je.jsx)(U_e,{eventData:c,onClose:T})})})})}),(0,je.jsx)(K_e,{children:v&&(0,je.jsx)(Po,{open:!0,sx:{zIndex:1300},onClick:I,children:(0,je.jsx)(Gpe.div,{initial:{opacity:0,x:"100vw"},animate:{opacity:1,x:"0vw"},exit:{opacity:0,x:"-100vw"},transition:{type:"spring",stiffness:300,damping:30},onClick:e=>e.stopPropagation(),children:(0,je.jsx)(We,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,maxHeight:"85vh",bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"8px",overflowY:"auto"},children:(0,je.jsx)(J_e,{eventId:a,onClose:I})})})})})]}),(0,je.jsx)(Vp,{open:f,autoHideDuration:3e3,onClose:D,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,je.jsx)(qI,{onClose:D,severity:"success",sx:{width:"100%"},children:m})})]})};function tCe(e){return{onFetch:(t,n)=>{const r=async()=>{const n=t.options,r=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[],s={pages:[],pageParams:[]};let a=!1;const l=bf(t.options,t.fetchOptions),c=async(e,n,r)=>{if(a)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);const i={queryKey:t.queryKey,pageParam:n,direction:r?"backward":"forward",meta:t.options.meta};var o;o=i,Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(t.signal.aborted?a=!0:t.signal.addEventListener("abort",(()=>{a=!0})),t.signal)});const s=await l(i),{maxPages:c}=t.options,u=r?gf:mf;return{pages:u(e.pages,s,c),pageParams:u(e.pageParams,n,c)}};let u;if(r&&i.length){const e="backward"===r,t={pages:i,pageParams:o},s=(e?rCe:nCe)(n,t);u=await c(t,s,e)}else{u=await c(s,o[0]??n.initialPageParam);const t=e??i.length;for(let e=1;e<t;e++){const e=nCe(n,u);if(null==e)break;u=await c(u,e)}}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(r,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=r}}}function nCe(e,t){let{pages:n,pageParams:r}=t;const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function rCe(e,t){let{pages:n,pageParams:r}=t;return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}function iCe(e,t){return!!t&&null!=nCe(e,t)}function oCe(e,t){return!(!t||!e.getPreviousPageParam)&&null!=rCe(e,t)}var sCe=class extends Pf{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:tCe()},t)}getOptimisticResult(e){return e.behavior=tCe(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:n}=e,r=super.createResult(e,t),{isFetching:i,isRefetching:o,isError:s,isRefetchError:a}=r,l=n.fetchMeta?.fetchMore?.direction,c=s&&"forward"===l,u=i&&"forward"===l,d=s&&"backward"===l,h=i&&"backward"===l;return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:iCe(t,n.data),hasPreviousPage:oCe(t,n.data),isFetchNextPageError:c,isFetchingNextPage:u,isFetchPreviousPageError:d,isFetchingPreviousPage:h,isRefetchError:a&&!c&&!d,isRefetching:o&&!u&&!h}}};const aCe=()=>{const e=sl((e=>{var t,n,r;return(null===(t=e.user)||void 0===t||null===(n=t.userData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.email)||null})),{data:t=[],error:n,isLoading:r,isError:o,fetchNextPage:s,hasNextPage:a}=function(e,t){return Qf(e,sCe,t)}({queryKey:["clubList",e],queryFn:t=>{let{pageParam:n=1}=t;return(async e=>{let{pageParam:t=1,email:n}=e;return(await ch.get(`http://localhost:4000/clubs/recommend/scroll/${t}`,{params:{email:n}})).data})({pageParam:n,email:e})},getNextPageParam:(e,t)=>e.length?t.length+1:void 0,keepPreviousData:!0}),l=()=>{a&&s()};if(i.useEffect((()=>{const e=()=>{window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&l()};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[a,l]),r)return(0,je.jsx)("div",{children:"\ub85c\ub529 \uc911..."});if(o)return(0,je.jsxs)("div",{children:["Error: ",n.message]});const c=e?"\uc120\ud0dd\ud55c \uc9c0\uc5ed \ubc0f \uad00\uc2ec\uc0ac \uae30\uc900\uc73c\ub85c \ucd94\ucc9c\ud574\ub4dc\ub9bd\ub2c8\ub2e4.  \n       \uc9c0\uc5ed \ubc0f \uad00\uc2ec\uc0ac \ubcc0\uacbd\uc740\n       \ub9c8\uc774\ud398\uc774\uc9c0-\ud68c\uc6d0\uc815\ubcf4-\uc815\ubcf4\uc218\uc815 \uc5d0\uc11c \uac00\ub2a5\ud569\ub2c8\ub2e4.":"\uc120\ud0dd\ud55c \uc9c0\uc5ed \ubc0f \uad00\uc2ec\uc0ac \uae30\uc900\uc73c\ub85c \ucd94\ucc9c\ud574\ub4dc\ub9bd\ub2c8\ub2e4. \ub85c\uadf8\uc778 \uc2dc \uc815\ud655\ud55c \ucd94\ucc9c \uc815\ubcf4\ub97c \ubc1b\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.";return(0,je.jsx)(We,{sx:{width:"100%",paddingTop:"20px",backgroundColor:"#F2F2F2",position:"relative"},children:(0,je.jsxs)(gt,{maxWidth:"lg",sx:{paddingBottom:"40px"},children:[(0,je.jsxs)(We,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,je.jsx)(Ks,{variant:"h5",children:"\uc9c0\uc5ed\uae30\ubc18 \ucd94\ucc9c"}),(0,je.jsx)(xi,{title:c,arrow:!0,sx:{"& .MuiTooltip-tooltip":{backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",fontSize:"0.75rem",borderRadius:"4px"}},children:(0,je.jsx)(eo,{sx:{color:"gray",fontSize:"1.5rem"},children:(0,je.jsx)(b_e.A,{})})})]}),(0,je.jsx)(Pt,{container:!0,spacing:2,sx:{display:"flex"},children:(0,je.jsx)(Mxe,{clubList:t.pages.flat()})}),r&&(0,je.jsx)("div",{children:"\ub354 \ub85c\ub529 \uc911..."})]})})};const lCe=function(){const e=bl(),t=sl((e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.isAuth})),{pathname:n}=Q();return(0,i.useEffect)((()=>{t&&e(Th())}),[t,n,e]),(0,je.jsxs)(we,{children:[(0,je.jsxs)(be,{path:"/clubs",element:(0,je.jsx)(gxe,{}),children:[(0,je.jsx)(be,{path:"/clubs/board",element:(0,je.jsx)(aee,{})}),(0,je.jsx)(be,{path:"*",element:(0,je.jsx)(Ube,{})})]}),(0,je.jsxs)(be,{path:"/",element:(0,je.jsx)(Xh,{}),children:[(0,je.jsx)(be,{path:"",element:(0,je.jsx)(C_e,{})}),(0,je.jsx)(be,{path:"/clublist",element:(0,je.jsx)(Pxe,{})}),(0,je.jsx)(be,{path:"/meetingList",element:(0,je.jsx)(s_e,{})}),(0,je.jsx)(be,{path:"/recommendedClubList",element:(0,je.jsx)(aCe,{})}),(0,je.jsx)(be,{path:"*",element:(0,je.jsx)(Zh,{})}),(0,je.jsx)(be,{path:"/event",element:(0,je.jsx)(eCe,{})}),(0,je.jsxs)(be,{element:(0,je.jsx)(Dxe,{isAuth:t}),children:[(0,je.jsx)(be,{path:"/clubs/create",element:(0,je.jsx)(bM,{})}),(0,je.jsx)(be,{path:"/mypage/*",element:(0,je.jsx)(pxe,{})})]}),(0,je.jsxs)(be,{element:(0,je.jsx)(jxe,{isAuth:t}),children:[(0,je.jsx)(be,{path:"/login",element:(0,je.jsx)(Fxe,{})}),(0,je.jsx)(be,{path:"/register",element:(0,je.jsx)(Jxe,{})})]})]})]})},cCe=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};var uCe=class extends wf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#z=new Map}#z;build(e,t,n){const r=t.queryKey,i=t.queryHash??sf(r,t);let o=this.get(i);return o||(o=new Mf({cache:this,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#z.has(e.queryHash)||(this.#z.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#z.get(e.queryHash);t&&(e.destroy(),t===e&&this.#z.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){yf.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#z.get(e)}getAll(){return[...this.#z.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>rf(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>rf(e,t))):t}notify(e){yf.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){yf.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){yf.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},dCe=class extends wf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#V=new Map,this.#W=Date.now()}#V;#W;build(e,t,n){const r=new E9({mutationCache:this,mutationId:++this.#W,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=hCe(e),n=this.#V.get(t)??[];n.push(e),this.#V.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=hCe(e);if(this.#V.has(t)){const n=this.#V.get(t)?.filter((t=>t!==e));n&&(0===n.length?this.#V.delete(t):this.#V.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#V.get(hCe(e))?.find((e=>"pending"===e.state.status));return!t||t===e}runNext(e){const t=this.#V.get(hCe(e))?.find((t=>t!==e&&t.state.isPaused));return t?.continue()??Promise.resolve()}clear(){yf.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}getAll(){return[...this.#V.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find((e=>of(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter((t=>of(e,t)))}notify(e){yf.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return yf.batch((()=>Promise.all(e.map((e=>e.continue().catch(Qh))))))}};function hCe(e){return e.options.scope?.id??String(e.mutationId)}var fCe=function(){return null};const pCe={userData:{user:{email:"",name:"",nickName:"",age:{year:null,month:null,day:null},gender:"",profilePic:{originalImage:" ",thumbnailImage:" ",introduction:" "},homeLocation:{city:"",district:"",neighborhood:""},interestLocation:{city:"",district:"",neighborhood:""},workplace:{city:"",district:"",neighborhood:""},category:{main:"",sub:[]},job:[],roles:1,phone:"",termsAccepted:!1,privacyAccepted:!1,marketingAccepted:!1,wish:[],history:[],isActive:!1}},isAuth:!1,isLoading:!1,error:"",snackbar:{open:!1,message:"",severity:"info"}},mCe=Hc({name:"user",initialState:pCe,reducers:{closeSnackbar:e=>{e.snackbar.open=!1}},extraReducers:e=>{e.addCase(Sh.pending,(e=>{e.isLoading=!0})).addCase(Sh.fulfilled,(e=>{e.isLoading=!1,e.snackbar={open:!0,message:"\ud68c\uc6d0\uac00\uc785\uc744 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4.",severity:"success"}})).addCase(Sh.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload||"\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328",e.snackbar={open:!0,message:t.payload||"\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328",severity:"error"}})).addCase(Ah.pending,(e=>{e.isLoading=!0})).addCase(Ah.fulfilled,((e,t)=>{e.isLoading=!1,e.userData=t.payload,e.isAuth=!0})).addCase(Ah.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload||"\ub85c\uadf8\uc778 \uc2e4\ud328",e.snackbar={open:!0,message:"\ub85c\uadf8\uc778 \uc2e4\ud328",severity:"error"}})).addCase(Th.pending,(e=>{e.isLoading=!0})).addCase(Th.fulfilled,((e,t)=>{e.isLoading=!1,e.userData=t.payload,e.isAuth=!0})).addCase(Th.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload,console.log("State before resetting:",e),e.userData=pCe.userData,console.log("State after resetting:",e),e.isAuth=!1})).addCase(Ih.pending,(e=>{e.isLoading=!0})).addCase(Ih.fulfilled,((e,t)=>{e.isLoading=!1,e.userData=pCe.userData,e.isAuth=!1})).addCase(Ih.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload||"\ub85c\uadf8\uc544\uc6c3 \uc2e4\ud328",e.snackbar={open:!0,message:"\ub85c\uadf8\uc544\uc6c3 \uc2e4\ud328",severity:"error"}})).addCase(Mh.pending,(e=>{e.isLoading=!0})).addCase(Mh.fulfilled,((e,t)=>{e.isLoading=!1,e.userData=t.payload,e.isAuth=!0})).addCase(Mh.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload||"\uc815\ubcf4 \uac00\uc838\uc624\uae30 \uc2e4\ud328",e.isAuth=!1})).addCase(Eh.pending,(e=>{e.isLoading=!0})).addCase(Eh.fulfilled,((e,t)=>{e.isLoading=!1,e.userData.user=t.payload,e.snackbar={open:!0,message:"\uc815\ubcf4\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",severity:"success"}})).addCase(Eh.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload||"\uc815\ubcf4 \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328",e.snackbar={open:!0,message:"\uc815\ubcf4 \uc5c5\ub370\uc774\ud2b8\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",severity:"error"}}))}}),{closeSnackbar:gCe}=mCe.actions,vCe=mCe.reducer,bCe={recentVisits:[],status:"idle",error:null},yCe=Hc({name:"recentVisit",initialState:bCe,reducers:{},extraReducers:e=>{e.addCase(KI.pending,(e=>{e.status="loading"})).addCase(KI.fulfilled,((e,t)=>{e.status="succeeded",e.recentVisits=t.payload})).addCase(KI.rejected,((e,t)=>{e.status="failed",e.error=t.payload})).addCase(QI.pending,(e=>{e.status="loading"})).addCase(QI.fulfilled,((e,t)=>{e.status="succeeded",e.recentVisits.push(t.payload)})).addCase(QI.rejected,((e,t)=>{e.status="failed",e.error=t.payload})).addCase(Ih.pending,(e=>{e.status="loading"})).addCase(Ih.fulfilled,(e=>{e.recentVisits=[],e.status=bCe.status,e.error=bCe.error})).addCase(Ih.rejected,((e,t)=>{e.status="failed",e.error=t.payload}))}}),{actions:wCe,reducer:xCe}=yCe,_Ce=yCe.reducer,CCe={messages:[{_id:"",isRead:!1,club:null}],status:"idle",error:null},kCe=Hc({name:"messages",initialState:CCe,reducers:{},extraReducers:e=>{e.addCase(xh.pending,(e=>{e.status="loading"})).addCase(xh.fulfilled,((e,t)=>{e.status="succeeded",e.messages=t.payload.filter((e=>!e.isRead))})).addCase(xh.rejected,((e,t)=>{e.status="failed",e.error=t.payload})).addCase(_h.pending,(e=>{e.status="loading"})).addCase(_h.fulfilled,((e,t)=>{e.status="succeeded",e.messages.push(t.payload)})).addCase(_h.rejected,((e,t)=>{e.status="failed",e.error=t.payload})).addCase(Ih.pending,(e=>{e.status="loading"})).addCase(Ih.fulfilled,(e=>{e.messages=[],e.status=CCe.status,e.error=CCe.error})).addCase(Ih.rejected,((e,t)=>{e.status="failed",e.error=t.payload})).addCase(Ch.pending,(e=>{e.status="loading"})).addCase(Ch.fulfilled,((e,t)=>{e.status="succeeded",e.messages=e.messages.filter((e=>e._id!==t.payload))})).addCase(Ch.rejected,((e,t)=>{e.status="failed",e.error=t.payload})).addCase(kh.pending,(e=>{e.loading=!0,e.error=null})).addCase(kh.fulfilled,((e,t)=>{e.loading=!1;const n=t.meta.arg;e.messages=e.messages.filter((e=>!n.includes(e._id)))})).addCase(kh.rejected,((e,t)=>{e.loading=!1,e.error=t.payload}))}}).reducer;var SCe=n(8901),ACe="persist:",TCe="persist/FLUSH",ICe="persist/REHYDRATE",MCe="persist/PAUSE",ECe="persist/PERSIST",PCe="persist/PURGE",DCe="persist/REGISTER";function jCe(e){return jCe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jCe(e)}function OCe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RCe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LCe(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OCe(n,!0).forEach((function(t){RCe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OCe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===jCe(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function NCe(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],o=e.throttle||0,s="".concat(void 0!==e.keyPrefix?e.keyPrefix:ACe).concat(e.key),a=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:BCe;var l=e.writeFailHandler||null,c={},u={},d=[],h=null,f=null;function p(){if(0===d.length)return h&&clearInterval(h),void(h=null);var e=d.shift(),n=i.reduce((function(t,n){return n.in(t,e,c)}),c[e]);if(void 0!==n)try{u[e]=t(n)}catch(kke){console.error("redux-persist/createPersistoid: error serializing state",kke)}else delete u[e];0===d.length&&(Object.keys(u).forEach((function(e){void 0===c[e]&&delete u[e]})),f=a.setItem(s,t(u)).catch(g))}function m(e){return(!r||-1!==r.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function g(e){l&&l(e)}return{update:function(e){Object.keys(e).forEach((function(t){m(t)&&c[t]!==e[t]&&-1===d.indexOf(t)&&d.push(t)})),Object.keys(c).forEach((function(t){void 0===e[t]&&m(t)&&-1===d.indexOf(t)&&void 0!==c[t]&&d.push(t)})),null===h&&(h=setInterval(p,o)),c=e},flush:function(){for(;0!==d.length;)p();return f||Promise.resolve()}}}function BCe(e){return JSON.stringify(e)}function FCe(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:ACe).concat(e.key),i=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:zCe,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(kke){throw kke}}))}function zCe(e){return JSON.parse(e)}function VCe(e){0}function WCe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HCe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WCe(n,!0).forEach((function(t){UCe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WCe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UCe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Ce(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YCe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function GCe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qCe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GCe(n,!0).forEach((function(t){XCe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GCe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XCe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZCe={registry:[],bootstrapped:!1},KCe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ZCe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case DCe:return qCe({},e,{registry:[].concat(YCe(e.registry),[t.key])});case ICe:var n=e.registry.indexOf(t.key),r=YCe(e.registry);return r.splice(n,1),qCe({},e,{registry:r,bootstrapped:0===r.length});default:return e}};const QCe=Hc({name:"chat",initialState:{clubDetail:{},chatRooms:{},messages:[],status:"idle",error:null},reducers:{},extraReducers:e=>{e.addCase(eme.pending,(e=>{e.status="loading"})).addCase(eme.fulfilled,((e,t)=>{e.status="succeeded"})).addCase(eme.rejected,((e,t)=>{e.status="failed",e.error=t.payload})),e.addCase(tme.pending,(e=>{console.log("Fetching club detail..."),e.status="loading"})).addCase(tme.fulfilled,((e,t)=>{console.log("Fetch successful:",t.payload),e.status="succeeded",e.clubDetail=t.payload})).addCase(tme.rejected,((e,t)=>{console.log("Fetch failed:",t.payload),e.status="failed",e.error=t.payload})),e.addCase(nme.pending,(e=>{e.status="loading"})).addCase(nme.fulfilled,((e,t)=>{e.status="succeeded",e.messages=t.payload})).addCase(nme.rejected,((e,t)=>{e.status="failed",e.error=t.payload})),e.addCase(rme.pending,(e=>{e.status="loading"})).addCase(rme.fulfilled,((e,t)=>{e.status="succeeded",e.messages=[...e.messages,...t.payload]})).addCase(rme.rejected,((e,t)=>{e.status="failed",e.error=t.payload}))}}).reducer,JCe=function(e,t){var n=void 0!==e.version?e.version:-1,r=(e.debug,void 0===e.stateReconciler?LCe:e.stateReconciler),i=e.getStoredState||FCe,o=void 0!==e.timeout?e.timeout:5e3,s=null,a=!1,l=!0,c=function(e){return e._persist.rehydrated&&s&&!l&&s.update(e),e};return function(u,d){var h=u||{},f=h._persist,p=$Ce(h,["_persist"]);if(d.type===ECe){var m=!1,g=function(t,n){m||(d.rehydrate(e.key,t,n),m=!0)};if(o&&setTimeout((function(){!m&&g(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),o),l=!1,s||(s=NCe(e)),f)return HCe({},t(p,d),{_persist:f});if("function"!==typeof d.rehydrate||"function"!==typeof d.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(e.key),i(e).then((function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,n).then((function(e){g(e)}),(function(e){g(void 0,e)}))}),(function(e){g(void 0,e)})),HCe({},t(p,d),{_persist:{version:n,rehydrated:!1}})}if(d.type===PCe)return a=!0,d.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:ACe).concat(e.key);return t.removeItem(n,VCe)}(e)),HCe({},t(p,d),{_persist:f});if(d.type===TCe)return d.result(s&&s.flush()),HCe({},t(p,d),{_persist:f});if(d.type===MCe)l=!0;else if(d.type===ICe){if(a)return HCe({},p,{_persist:HCe({},f,{rehydrated:!0})});if(d.key===e.key){var v=t(p,d),b=d.payload,y=HCe({},!1!==r&&void 0!==b?r(b,u,v,e):v,{_persist:HCe({},f,{rehydrated:!0})});return c(y)}}if(!f)return t(u,d);var w=t(p,d);return w===p?u:c(HCe({},w,{_persist:f}))}}({key:"root",storage:SCe.A,whitelist:["user","club","getClub","meetingList","categoryClub","getClubMember","chat","wish","myMessage","recentVisit"]},Sl({user:vCe,club:im,getClub:am,getClubMember:lm,meetingList:sm,categoryClub:om,chat:QCe,wish:wh,myMessage:kCe,recentVisit:_Ce})),eke=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let o=new _c;return t&&(function(e){return"boolean"===typeof e}(t)?o.push(Il):o.push(Ml(t.extraArgument))),o},{reducer:n,middleware:r,devTools:i=!0,preloadedState:o,enhancers:s}=e||{};let a,l;if("function"===typeof n)a=n;else{if(!Cl(n))throw new Error(Yc(1));a=Sl(n)}l="function"===typeof r?r(t):t();let c=Al;i&&(c=yc({trace:!1,..."object"===typeof i&&i}));const u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(yl(15))};const s={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,...n)}},a=t.map((e=>e(s)));return o=Al(...a)(i.dispatch),{...i,dispatch:o}}}(...l),d=Ic(u);return kl(a,o,c(..."function"===typeof s?s(d):d()))}({reducer:JCe,middleware:e=>e({serializableCheck:{ignoredActions:[TCe,ICe,MCe,ECe,PCe,DCe]}})}),tke=function(e,t,n){var r=n||!1,i=kl(KCe,ZCe,t&&t.enhancer?t.enhancer:void 0),o=function(e){i.dispatch({type:DCe,key:e})},s=function(t,n,o){var s={type:ICe,payload:n,err:o,key:t};e.dispatch(s),i.dispatch(s),r&&a.getState().bootstrapped&&(r(),r=!1)},a=qCe({},i,{purge:function(){var t=[];return e.dispatch({type:PCe,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:TCe,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:MCe})},persist:function(){e.dispatch({type:ECe,register:o,rehydrate:s})}});return t&&t.manualPersist||a.persist(),a}(eke);function nke(e){return nke="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nke(e)}function rke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ike(e){return ike=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ike(e)}function oke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ske(e,t){return ske=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ske(e,t)}function ake(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lke=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=function(e,t){return!t||"object"!==nke(t)&&"function"!==typeof t?oke(e):t}(this,(e=ike(t)).call.apply(e,[this].concat(i))),ake(oke(n),"state",{bootstrapped:!1}),ake(oke(n),"_unsubscribe",void 0),ake(oke(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ske(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&rke(n.prototype,r),i&&rke(n,i),t}(i.PureComponent);ake(lke,"defaultProps",{children:null,loading:null});const cke=i.createContext(null);function uke(){return i.useContext(cke)}const dke="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const hke=function(e){const{children:t,theme:n}=e,r=uke(),o=i.useMemo((()=>{const e=null===r?n:function(e,t){if("function"===typeof t)return t(e);return(0,_e.A)({},e,t)}(r,n);return null!=e&&(e[dke]=null!==r),e}),[n,r]);return(0,je.jsx)(cke.Provider,{value:o,children:t})};var fke=n(3654);const pke={};function mke(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return i.useMemo((()=>{const i=e&&t[e]||t;if("function"===typeof n){const o=n(i),s=e?(0,_e.A)({},t,{[e]:o}):o;return r?()=>s:s}return e?(0,_e.A)({},t,{[e]:n}):(0,_e.A)({},t,n)}),[e,t,n,r])}const gke=function(e){const{children:t,theme:n,themeId:r}=e,i=Ee(pke),o=uke()||pke,s=mke(r,i,n),a=mke(r,o,n,!0),l="rtl"===s.direction;return(0,je.jsx)(hke,{theme:a,children:(0,je.jsx)(Me.T.Provider,{value:s,children:(0,je.jsx)(Vt,{value:l,children:(0,je.jsx)(fke.A,{value:null==s?void 0:s.components,children:t})})})})},vke=["theme"];function bke(e){let{theme:t}=e,n=(0,Ce.A)(e,vke);const r=t[Be.A];return(0,je.jsx)(gke,(0,_e.A)({},n,{themeId:r?Be.A:void 0,theme:r||t}))}const yke=()=>(0,je.jsx)(Nm,{styles:{body:{margin:"0px !important",padding:"0px !important",fontFamily:"KCC-Hanbit",backgroundColor:"white"}}}),wke=(0,Ne.A)({typography:{fontFamily:"NanumSquareNeoBold, NanumSquareNeoExtraBold, KCC-Hanbit"}}),xke=new class{#H;#L;#c;#U;#$;#Y;#G;#q;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.#H=e.queryCache||new uCe,this.#L=e.mutationCache||new dCe,this.#c=e.defaultOptions||{},this.#U=new Map,this.#$=new Map,this.#Y=0}mount(){this.#Y++,1===this.#Y&&(this.#G=xf.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#H.onFocus())})),this.#q=_f.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#H.onOnline())})))}unmount(){this.#Y--,0===this.#Y&&(this.#G?.(),this.#G=void 0,this.#q?.(),this.#q=void 0)}isFetching(e){return this.#H.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#L.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#H.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(void 0===t)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=this.#H.build(this,n);return e.revalidateIfStale&&r.isStaleByTime(tf(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#H.findAll(e).map((e=>{let{queryKey:t,state:n}=e;return[t,n.data]}))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#H.get(r.queryHash),o=i?.state.data,s=function(e,t){return"function"===typeof e?e(t):e}(t,o);if(void 0!==s)return this.#H.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return yf.batch((()=>this.#H.findAll(e).map((e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#H.get(t.queryHash)?.state}removeQueries(e){const t=this.#H;yf.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=this.#H,r={type:"active",...e};return yf.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries(r,t))))}cancelQueries(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={revert:!0,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},n=yf.batch((()=>this.#H.findAll(e).map((e=>e.cancel(t)))));return Promise.all(n).then(Qh).catch(Qh)}invalidateQueries(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return yf.batch((()=>{if(this.#H.findAll(e).forEach((e=>{e.invalidate()})),"none"===e.refetchType)return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)}))}refetchQueries(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n={...t,cancelRefetch:t?.cancelRefetch??!0},r=yf.batch((()=>this.#H.findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(Qh)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(Qh)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#H.build(this,t);return n.isStaleByTime(tf(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Qh).catch(Qh)}fetchInfiniteQuery(e){return e.behavior=tCe(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Qh).catch(Qh)}resumePausedMutations(){return _f.isOnline()?this.#L.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#H}getMutationCache(){return this.#L}getDefaultOptions(){return this.#c}setDefaultOptions(e){this.#c=e}setQueryDefaults(e,t){this.#U.set(af(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#U.values()];let n={};return t.forEach((t=>{lf(e,t.queryKey)&&(n={...n,...t.defaultOptions})})),n}setMutationDefaults(e,t){this.#$.set(af(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#$.values()];let n={};return t.forEach((t=>{lf(e,t.mutationKey)&&(n={...n,...t.defaultOptions})})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#c.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=sf(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),!0!==t.enabled&&t.queryFn===vf&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#c.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#H.clear(),this.#L.clear()}};s.createRoot(document.getElementById("root")).render((0,je.jsx)(Wa,{children:(0,je.jsxs)(Vf,{client:xke,children:[(0,je.jsx)(fl,{store:eke,children:(0,je.jsx)(lke,{loading:null,persistor:tke,children:(0,je.jsxs)(bke,{theme:wke,children:[" ",(0,je.jsx)(yke,{})," ",(0,je.jsx)(lCe,{})]})})}),(0,je.jsx)(fCe,{initialIsOpen:!1})]})})),cCe()})()})();
//# sourceMappingURL=main.fe784110.js.map